var U3e=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var vXt=U3e((Fu,Uu)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function kz(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const wa={},Y1=[],gi=()=>{},V3e=()=>!1,vD=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Fz=e=>e.startsWith("onUpdate:"),Co=Object.assign,Uz=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},z3e=Object.prototype.hasOwnProperty,Yr=(e,t)=>z3e.call(e,t),pt=Array.isArray,X1=e=>kT(e)==="[object Map]",gD=e=>kT(e)==="[object Set]",Rg=e=>kT(e)==="[object Date]",on=e=>typeof e=="function",an=e=>typeof e=="string",Gf=e=>typeof e=="symbol",nr=e=>e!==null&&typeof e=="object",g2=e=>(nr(e)||on(e))&&on(e.then)&&on(e.catch),the=Object.prototype.toString,kT=e=>the.call(e),$3e=e=>kT(e).slice(8,-1),m2=e=>kT(e)==="[object Object]",Vz=e=>an(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,OE=kz(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),mD=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},H3e=/-(\w)/g,Ml=mD(e=>e.replace(H3e,(t,n)=>n?n.toUpperCase():"")),W3e=/\B([A-Z])/g,Bp=mD(e=>e.replace(W3e,"-$1").toLowerCase()),FT=mD(e=>e.charAt(0).toUpperCase()+e.slice(1)),DE=mD(e=>e?`on${FT(e)}`:""),mg=(e,t)=>!Object.is(e,t),$I=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},nhe=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},R7=e=>{const t=parseFloat(e);return isNaN(t)?e:t},G3e=e=>{const t=an(e)?Number(e):NaN;return isNaN(t)?e:t};let DY;const yD=()=>DY||(DY=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function en(e){if(pt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=an(r)?K3e(r):en(r);if(i)for(const a in i)t[a]=i[a]}return t}else if(an(e)||nr(e))return e}const j3e=/;(?![^(]*\))/g,Y3e=/:([^]+)/,X3e=/\/\*[^]*?\*\//g;function K3e(e){const t={};return e.replace(X3e,"").split(j3e).forEach(n=>{if(n){const r=n.split(Y3e);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function j(e){let t="";if(an(e))t=e;else if(pt(e))for(let n=0;n<e.length;n++){const r=j(e[n]);r&&(t+=r+" ")}else if(nr(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Of(e){if(!e)return null;let{class:t,style:n}=e;return t&&!an(t)&&(e.class=j(t)),n&&(e.style=en(n)),e}const q3e="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Z3e=kz(q3e);function rhe(e){return!!e||e===""}function Q3e(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=bb(e[r],t[r]);return n}function bb(e,t){if(e===t)return!0;let n=Rg(e),r=Rg(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Gf(e),r=Gf(t),n||r)return e===t;if(n=pt(e),r=pt(t),n||r)return n&&r?Q3e(e,t):!1;if(n=nr(e),r=nr(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(const o in e){const s=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(s&&!l||!s&&l||!bb(e[o],t[o]))return!1}}return String(e)===String(t)}function ihe(e,t){return e.findIndex(n=>bb(n,t))}const ahe=e=>!!(e&&e.__v_isRef===!0),nt=e=>an(e)?e:e==null?"":pt(e)||nr(e)&&(e.toString===the||!on(e.toString))?ahe(e)?nt(e.value):JSON.stringify(e,ohe,2):String(e),ohe=(e,t)=>ahe(t)?ohe(e,t.value):X1(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],a)=>(n[C4(r,a)+" =>"]=i,n),{})}:gD(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>C4(n))}:Gf(t)?C4(t):nr(t)&&!pt(t)&&!m2(t)?String(t):t,C4=(e,t="")=>{var n;return Gf(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _l;class she{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=_l,!t&&_l&&(this.index=(_l.scopes||(_l.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=_l;try{return _l=this,t()}finally{_l=n}}}on(){_l=this}off(){_l=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function lhe(e){return new she(e)}function uhe(){return _l}function che(e,t=!1){_l&&_l.cleanups.push(e)}let Pa;const R4=new WeakSet;class fhe{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,_l&&_l.active&&_l.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,R4.has(this)&&(R4.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||hhe(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,PY(this),phe(this);const t=Pa,n=Uf;Pa=this,Uf=!0;try{return this.fn()}finally{vhe(this),Pa=t,Uf=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Hz(t);this.deps=this.depsTail=void 0,PY(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?R4.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){I7(this)&&this.run()}get dirty(){return I7(this)}}let dhe=0,PE,LE;function hhe(e,t=!1){if(e.flags|=8,t){e.next=LE,LE=e;return}e.next=PE,PE=e}function zz(){dhe++}function $z(){if(--dhe>0)return;if(LE){let t=LE;for(LE=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;PE;){let t=PE;for(PE=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function phe(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function vhe(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Hz(r),J3e(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function I7(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ghe(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ghe(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===y2))return;e.globalVersion=y2;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!I7(e)){e.flags&=-3;return}const n=Pa,r=Uf;Pa=e,Uf=!0;try{phe(e);const i=e.fn(e._value);(t.version===0||mg(i,e._value))&&(e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Pa=n,Uf=r,vhe(e),e.flags&=-3}}function Hz(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Hz(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function J3e(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Uf=!0;const mhe=[];function Xg(){mhe.push(Uf),Uf=!1}function Kg(){const e=mhe.pop();Uf=e===void 0?!0:e}function PY(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Pa;Pa=void 0;try{t()}finally{Pa=n}}}let y2=0,eMe=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class _D{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Pa||!Uf||Pa===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Pa)n=this.activeLink=new eMe(Pa,this),Pa.deps?(n.prevDep=Pa.depsTail,Pa.depsTail.nextDep=n,Pa.depsTail=n):Pa.deps=Pa.depsTail=n,yhe(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Pa.depsTail,n.nextDep=void 0,Pa.depsTail.nextDep=n,Pa.depsTail=n,Pa.deps===n&&(Pa.deps=r)}return n}trigger(t){this.version++,y2++,this.notify(t)}notify(t){zz();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{$z()}}}function yhe(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)yhe(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const nM=new WeakMap,W0=Symbol(""),M7=Symbol(""),_2=Symbol("");function Xs(e,t,n){if(Uf&&Pa){let r=nM.get(e);r||nM.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new _D),i.map=r,i.key=n),i.track()}}function op(e,t,n,r,i,a){const o=nM.get(e);if(!o){y2++;return}const s=l=>{l&&l.trigger()};if(zz(),t==="clear")o.forEach(s);else{const l=pt(e),u=l&&Vz(n);if(l&&n==="length"){const c=Number(r);o.forEach((f,d)=>{(d==="length"||d===_2||!Gf(d)&&d>=c)&&s(f)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),u&&s(o.get(_2)),t){case"add":l?u&&s(o.get("length")):(s(o.get(W0)),X1(e)&&s(o.get(M7)));break;case"delete":l||(s(o.get(W0)),X1(e)&&s(o.get(M7)));break;case"set":X1(e)&&s(o.get(W0));break}}$z()}function tMe(e,t){const n=nM.get(e);return n&&n.get(t)}function F_(e){const t=Ii(e);return t===e?t:(Xs(t,"iterate",_2),Dc(e)?t:t.map(Ks))}function bD(e){return Xs(e=Ii(e),"iterate",_2),e}const nMe={__proto__:null,[Symbol.iterator](){return I4(this,Symbol.iterator,Ks)},concat(...e){return F_(this).concat(...e.map(t=>pt(t)?F_(t):t))},entries(){return I4(this,"entries",e=>(e[1]=Ks(e[1]),e))},every(e,t){return Xh(this,"every",e,t,void 0,arguments)},filter(e,t){return Xh(this,"filter",e,t,n=>n.map(Ks),arguments)},find(e,t){return Xh(this,"find",e,t,Ks,arguments)},findIndex(e,t){return Xh(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Xh(this,"findLast",e,t,Ks,arguments)},findLastIndex(e,t){return Xh(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Xh(this,"forEach",e,t,void 0,arguments)},includes(...e){return M4(this,"includes",e)},indexOf(...e){return M4(this,"indexOf",e)},join(e){return F_(this).join(e)},lastIndexOf(...e){return M4(this,"lastIndexOf",e)},map(e,t){return Xh(this,"map",e,t,void 0,arguments)},pop(){return GS(this,"pop")},push(...e){return GS(this,"push",e)},reduce(e,...t){return LY(this,"reduce",e,t)},reduceRight(e,...t){return LY(this,"reduceRight",e,t)},shift(){return GS(this,"shift")},some(e,t){return Xh(this,"some",e,t,void 0,arguments)},splice(...e){return GS(this,"splice",e)},toReversed(){return F_(this).toReversed()},toSorted(e){return F_(this).toSorted(e)},toSpliced(...e){return F_(this).toSpliced(...e)},unshift(...e){return GS(this,"unshift",e)},values(){return I4(this,"values",Ks)}};function I4(e,t,n){const r=bD(e),i=r[t]();return r!==e&&!Dc(e)&&(i._next=i.next,i.next=()=>{const a=i._next();return a.value&&(a.value=n(a.value)),a}),i}const rMe=Array.prototype;function Xh(e,t,n,r,i,a){const o=bD(e),s=o!==e&&!Dc(e),l=o[t];if(l!==rMe[t]){const f=l.apply(e,a);return s?Ks(f):f}let u=n;o!==e&&(s?u=function(f,d){return n.call(this,Ks(f),d,e)}:n.length>2&&(u=function(f,d){return n.call(this,f,d,e)}));const c=l.call(o,u,r);return s&&i?i(c):c}function LY(e,t,n,r){const i=bD(e);let a=n;return i!==e&&(Dc(e)?n.length>3&&(a=function(o,s,l){return n.call(this,o,s,l,e)}):a=function(o,s,l){return n.call(this,o,Ks(s),l,e)}),i[t](a,...r)}function M4(e,t,n){const r=Ii(e);Xs(r,"iterate",_2);const i=r[t](...n);return(i===-1||i===!1)&&Yz(n[0])?(n[0]=Ii(n[0]),r[t](...n)):i}function GS(e,t,n=[]){Xg(),zz();const r=Ii(e)[t].apply(e,n);return $z(),Kg(),r}const iMe=kz("__proto__,__v_isRef,__isVue"),_he=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Gf));function aMe(e){Gf(e)||(e=String(e));const t=Ii(this);return Xs(t,"has",e),t.hasOwnProperty(e)}class bhe{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return a;if(n==="__v_raw")return r===(i?a?vMe:Ehe:a?Ahe:She).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=pt(t);if(!i){let l;if(o&&(l=nMe[n]))return l;if(n==="hasOwnProperty")return aMe}const s=Reflect.get(t,n,Gi(t)?t:r);return(Gf(n)?_he.has(n):iMe(n))||(i||Xs(t,"get",n),a)?s:Gi(s)?o&&Vz(n)?s:s.value:nr(s)?i?dx(s):zn(s):s}}class xhe extends bhe{constructor(t=!1){super(!1,t)}set(t,n,r,i){let a=t[n];if(!this._isShallow){const l=oy(a);if(!Dc(r)&&!oy(r)&&(a=Ii(a),r=Ii(r)),!pt(t)&&Gi(a)&&!Gi(r))return l?!1:(a.value=r,!0)}const o=pt(t)&&Vz(n)?Number(n)<t.length:Yr(t,n),s=Reflect.set(t,n,r,Gi(t)?t:i);return t===Ii(i)&&(o?mg(r,a)&&op(t,"set",n,r):op(t,"add",n,r)),s}deleteProperty(t,n){const r=Yr(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&op(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!Gf(n)||!_he.has(n))&&Xs(t,"has",n),r}ownKeys(t){return Xs(t,"iterate",pt(t)?"length":W0),Reflect.ownKeys(t)}}class oMe extends bhe{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const sMe=new xhe,lMe=new oMe,uMe=new xhe(!0),O7=e=>e,jC=e=>Reflect.getPrototypeOf(e);function cMe(e,t,n){return function(...r){const i=this.__v_raw,a=Ii(i),o=X1(a),s=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...r),c=n?O7:t?D7:Ks;return!t&&Xs(a,"iterate",l?M7:W0),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:s?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function YC(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function fMe(e,t){const n={get(i){const a=this.__v_raw,o=Ii(a),s=Ii(i);e||(mg(i,s)&&Xs(o,"get",i),Xs(o,"get",s));const{has:l}=jC(o),u=t?O7:e?D7:Ks;if(l.call(o,i))return u(a.get(i));if(l.call(o,s))return u(a.get(s));a!==o&&a.get(i)},get size(){const i=this.__v_raw;return!e&&Xs(Ii(i),"iterate",W0),Reflect.get(i,"size",i)},has(i){const a=this.__v_raw,o=Ii(a),s=Ii(i);return e||(mg(i,s)&&Xs(o,"has",i),Xs(o,"has",s)),i===s?a.has(i):a.has(i)||a.has(s)},forEach(i,a){const o=this,s=o.__v_raw,l=Ii(s),u=t?O7:e?D7:Ks;return!e&&Xs(l,"iterate",W0),s.forEach((c,f)=>i.call(a,u(c),u(f),o))}};return Co(n,e?{add:YC("add"),set:YC("set"),delete:YC("delete"),clear:YC("clear")}:{add(i){!t&&!Dc(i)&&!oy(i)&&(i=Ii(i));const a=Ii(this);return jC(a).has.call(a,i)||(a.add(i),op(a,"add",i,i)),this},set(i,a){!t&&!Dc(a)&&!oy(a)&&(a=Ii(a));const o=Ii(this),{has:s,get:l}=jC(o);let u=s.call(o,i);u||(i=Ii(i),u=s.call(o,i));const c=l.call(o,i);return o.set(i,a),u?mg(a,c)&&op(o,"set",i,a):op(o,"add",i,a),this},delete(i){const a=Ii(this),{has:o,get:s}=jC(a);let l=o.call(a,i);l||(i=Ii(i),l=o.call(a,i)),s&&s.call(a,i);const u=a.delete(i);return l&&op(a,"delete",i,void 0),u},clear(){const i=Ii(this),a=i.size!==0,o=i.clear();return a&&op(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=cMe(i,e,t)}),n}function Wz(e,t){const n=fMe(e,t);return(r,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Yr(n,i)&&i in r?n:r,i,a)}const dMe={get:Wz(!1,!1)},hMe={get:Wz(!1,!0)},pMe={get:Wz(!0,!1)},She=new WeakMap,Ahe=new WeakMap,Ehe=new WeakMap,vMe=new WeakMap;function gMe(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mMe(e){return e.__v_skip||!Object.isExtensible(e)?0:gMe($3e(e))}function zn(e){return oy(e)?e:jz(e,!1,sMe,dMe,She)}function Gz(e){return jz(e,!1,uMe,hMe,Ahe)}function dx(e){return jz(e,!0,lMe,pMe,Ehe)}function jz(e,t,n,r,i){if(!nr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const o=mMe(e);if(o===0)return e;const s=new Proxy(e,o===2?r:n);return i.set(e,s),s}function K1(e){return oy(e)?K1(e.__v_raw):!!(e&&e.__v_isReactive)}function oy(e){return!!(e&&e.__v_isReadonly)}function Dc(e){return!!(e&&e.__v_isShallow)}function Yz(e){return e?!!e.__v_raw:!1}function Ii(e){const t=e&&e.__v_raw;return t?Ii(t):e}function pp(e){return!Yr(e,"__v_skip")&&Object.isExtensible(e)&&nhe(e,"__v_skip",!0),e}const Ks=e=>nr(e)?zn(e):e,D7=e=>nr(e)?dx(e):e;function Gi(e){return e?e.__v_isRef===!0:!1}function Y(e){return The(e,!1)}function Ni(e){return The(e,!0)}function The(e,t){return Gi(e)?e:new yMe(e,t)}class yMe{constructor(t,n){this.dep=new _D,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ii(t),this._value=n?t:Ks(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Dc(t)||oy(t);t=r?t:Ii(t),mg(t,n)&&(this._rawValue=t,this._value=r?t:Ks(t),this.dep.trigger())}}function y(e){return Gi(e)?e.value:e}const _Me={get:(e,t,n)=>t==="__v_raw"?e:y(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Gi(i)&&!Gi(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function whe(e){return K1(e)?e:new Proxy(e,_Me)}class bMe{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new _D,{get:r,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function xMe(e){return new bMe(e)}function ts(e){const t=pt(e)?new Array(e.length):{};for(const n in e)t[n]=Che(e,n);return t}class SMe{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return tMe(Ii(this._object),this._key)}}class AMe{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function hi(e,t,n){return Gi(e)?e:on(e)?new AMe(e):nr(e)&&arguments.length>1?Che(e,t,n):Y(e)}function Che(e,t,n){const r=e[t];return Gi(r)?r:new SMe(e,t,n)}class EMe{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new _D(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=y2-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Pa!==this)return hhe(this,!0),!0}get value(){const t=this.dep.track();return ghe(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function TMe(e,t,n=!1){let r,i;return on(e)?r=e:(r=e.get,i=e.set),new EMe(r,i,n)}const XC={},rM=new WeakMap;let h0;function wMe(e,t=!1,n=h0){if(n){let r=rM.get(n);r||rM.set(n,r=[]),r.push(e)}}function CMe(e,t,n=wa){const{immediate:r,deep:i,once:a,scheduler:o,augmentJob:s,call:l}=n,u=x=>i?x:Dc(x)||i===!1||i===0?sp(x,1):sp(x);let c,f,d,h,p=!1,v=!1;if(Gi(e)?(f=()=>e.value,p=Dc(e)):K1(e)?(f=()=>u(e),p=!0):pt(e)?(v=!0,p=e.some(x=>K1(x)||Dc(x)),f=()=>e.map(x=>{if(Gi(x))return x.value;if(K1(x))return u(x);if(on(x))return l?l(x,2):x()})):on(e)?t?f=l?()=>l(e,2):e:f=()=>{if(d){Xg();try{d()}finally{Kg()}}const x=h0;h0=c;try{return l?l(e,3,[h]):e(h)}finally{h0=x}}:f=gi,t&&i){const x=f,E=i===!0?1/0:i;f=()=>sp(x(),E)}const g=uhe(),m=()=>{c.stop(),g&&g.active&&Uz(g.effects,c)};if(a&&t){const x=t;t=(...E)=>{x(...E),m()}}let b=v?new Array(e.length).fill(XC):XC;const _=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const E=c.run();if(i||p||(v?E.some((A,T)=>mg(A,b[T])):mg(E,b))){d&&d();const A=h0;h0=c;try{const T=[E,b===XC?void 0:v&&b[0]===XC?[]:b,h];l?l(t,3,T):t(...T),b=E}finally{h0=A}}}else c.run()};return s&&s(_),c=new fhe(f),c.scheduler=o?()=>o(_,!1):_,h=x=>wMe(x,!1,c),d=c.onStop=()=>{const x=rM.get(c);if(x){if(l)l(x,4);else for(const E of x)E();rM.delete(c)}},t?r?_(!0):b=c.run():o?o(_.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function sp(e,t=1/0,n){if(t<=0||!nr(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Gi(e))sp(e.value,t,n);else if(pt(e))for(let r=0;r<e.length;r++)sp(e[r],t,n);else if(gD(e)||X1(e))e.forEach(r=>{sp(r,t,n)});else if(m2(e)){for(const r in e)sp(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&sp(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function UT(e,t,n,r){try{return r?e(...r):e()}catch(i){xD(i,t,n)}}function jf(e,t,n,r){if(on(e)){const i=UT(e,t,n,r);return i&&g2(i)&&i.catch(a=>{xD(a,t,n)}),i}if(pt(e)){const i=[];for(let a=0;a<e.length;a++)i.push(jf(e[a],t,n,r));return i}}function xD(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||wa;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,l,u)===!1)return}s=s.parent}if(a){Xg(),UT(a,null,10,[e,l,u]),Kg();return}}RMe(e,n,i,r,o)}function RMe(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const Sl=[];let Ld=-1;const q1=[];let Gv=null,b1=0;const Rhe=Promise.resolve();let iM=null;function fn(e){const t=iM||Rhe;return e?t.then(this?e.bind(this):e):t}function IMe(e){let t=Ld+1,n=Sl.length;for(;t<n;){const r=t+n>>>1,i=Sl[r],a=b2(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function Xz(e){if(!(e.flags&1)){const t=b2(e),n=Sl[Sl.length-1];!n||!(e.flags&2)&&t>=b2(n)?Sl.push(e):Sl.splice(IMe(t),0,e),e.flags|=1,Ihe()}}function Ihe(){iM||(iM=Rhe.then(Ohe))}function MMe(e){pt(e)?q1.push(...e):Gv&&e.id===-1?Gv.splice(b1+1,0,e):e.flags&1||(q1.push(e),e.flags|=1),Ihe()}function NY(e,t,n=Ld+1){for(;n<Sl.length;n++){const r=Sl[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Sl.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Mhe(e){if(q1.length){const t=[...new Set(q1)].sort((n,r)=>b2(n)-b2(r));if(q1.length=0,Gv){Gv.push(...t);return}for(Gv=t,b1=0;b1<Gv.length;b1++){const n=Gv[b1];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Gv=null,b1=0}}const b2=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ohe(e){try{for(Ld=0;Ld<Sl.length;Ld++){const t=Sl[Ld];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),UT(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ld<Sl.length;Ld++){const t=Sl[Ld];t&&(t.flags&=-2)}Ld=-1,Sl.length=0,Mhe(),iM=null,(Sl.length||q1.length)&&Ohe()}}let ds=null,Dhe=null;function aM(e){const t=ds;return ds=e,Dhe=e&&e.type.__scopeId||null,t}function J(e,t=ds,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&XY(-1);const a=aM(t);let o;try{o=e(...i)}finally{aM(a),r._d&&XY(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Wn(e,t){if(ds===null)return e;const n=CD(ds),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[a,o,s,l=wa]=t[i];a&&(on(a)&&(a={mounted:a,updated:a}),a.deep&&sp(o),r.push({dir:a,instance:n,value:o,oldValue:void 0,arg:s,modifiers:l}))}return e}function Pm(e,t,n,r){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const s=i[o];a&&(s.oldValue=a[o].value);let l=s.dir[r];l&&(Xg(),jf(l,n,8,[e.el,s,e,t]),Kg())}}const Phe=Symbol("_vte"),Lhe=e=>e.__isTeleport,NE=e=>e&&(e.disabled||e.disabled===""),BY=e=>e&&(e.defer||e.defer===""),kY=e=>typeof SVGElement<"u"&&e instanceof SVGElement,FY=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,P7=(e,t)=>{const n=e&&e.to;return an(n)?t?t(n):null:n},Nhe={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,a,o,s,l,u){const{mc:c,pc:f,pbc:d,o:{insert:h,querySelector:p,createText:v,createComment:g}}=u,m=NE(t.props);let{shapeFlag:b,children:_,dynamicChildren:x}=t;if(e==null){const E=t.el=v(""),A=t.anchor=v("");h(E,n,r),h(A,n,r);const T=(M,O)=>{b&16&&(i&&i.isCE&&(i.ce._teleportTarget=M),c(_,M,O,i,a,o,s,l))},R=()=>{const M=t.target=P7(t.props,p),O=Bhe(M,t,v,h);M&&(o!=="svg"&&kY(M)?o="svg":o!=="mathml"&&FY(M)&&(o="mathml"),m||(T(M,O),HI(t,!1)))};m&&(T(n,A),HI(t,!0)),BY(t.props)?ml(()=>{R(),t.el.__isMounted=!0},a):R()}else{if(BY(t.props)&&!e.el.__isMounted){ml(()=>{Nhe.process(e,t,n,r,i,a,o,s,l,u),delete e.el.__isMounted},a);return}t.el=e.el,t.targetStart=e.targetStart;const E=t.anchor=e.anchor,A=t.target=e.target,T=t.targetAnchor=e.targetAnchor,R=NE(e.props),M=R?n:A,O=R?E:T;if(o==="svg"||kY(A)?o="svg":(o==="mathml"||FY(A))&&(o="mathml"),x?(d(e.dynamicChildren,x,M,i,a,o,s),t$(e,t,!0)):l||f(e,t,M,O,i,a,o,s,!1),m)R?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):KC(t,n,E,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const D=t.target=P7(t.props,p);D&&KC(t,D,null,u,0)}else R&&KC(t,A,T,u,1);HI(t,m)}},remove(e,t,n,{um:r,o:{remove:i}},a){const{shapeFlag:o,children:s,anchor:l,targetStart:u,targetAnchor:c,target:f,props:d}=e;if(f&&(i(u),i(c)),a&&i(l),o&16){const h=a||!NE(d);for(let p=0;p<s.length;p++){const v=s[p];r(v,t,n,h,!!v.dynamicChildren)}}},move:KC,hydrate:OMe};function KC(e,t,n,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,t,n);const{el:o,anchor:s,shapeFlag:l,children:u,props:c}=e,f=a===2;if(f&&r(o,t,n),(!f||NE(c))&&l&16)for(let d=0;d<u.length;d++)i(u[d],t,n,2);f&&r(s,t,n)}function OMe(e,t,n,r,i,a,{o:{nextSibling:o,parentNode:s,querySelector:l,insert:u,createText:c}},f){const d=t.target=P7(t.props,l);if(d){const h=NE(t.props),p=d._lpa||d.firstChild;if(t.shapeFlag&16)if(h)t.anchor=f(o(e),t,s(e),n,r,i,a),t.targetStart=p,t.targetAnchor=p&&o(p);else{t.anchor=o(e);let v=p;for(;v;){if(v&&v.nodeType===8){if(v.data==="teleport start anchor")t.targetStart=v;else if(v.data==="teleport anchor"){t.targetAnchor=v,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}}v=o(v)}t.targetAnchor||Bhe(d,t,c,u),f(p&&o(p),t,d,n,r,i,a)}HI(t,h)}return t.anchor&&o(t.anchor)}const DMe=Nhe;function HI(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Bhe(e,t,n,r){const i=t.targetStart=n(""),a=t.targetAnchor=n("");return i[Phe]=a,e&&(r(i,e),r(a,e)),a}const jv=Symbol("_leaveCb"),qC=Symbol("_enterCb");function khe(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Tn(()=>{e.isMounted=!0}),Oi(()=>{e.isUnmounting=!0}),e}const ic=[Function,Array],Fhe={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ic,onEnter:ic,onAfterEnter:ic,onEnterCancelled:ic,onBeforeLeave:ic,onLeave:ic,onAfterLeave:ic,onLeaveCancelled:ic,onBeforeAppear:ic,onAppear:ic,onAfterAppear:ic,onAppearCancelled:ic},Uhe=e=>{const t=e.subTree;return t.component?Uhe(t.component):t},PMe={name:"BaseTransition",props:Fhe,setup(e,{slots:t}){const n=or(),r=khe();return()=>{const i=t.default&&Kz(t.default(),!0);if(!i||!i.length)return;const a=Vhe(i),o=Ii(e),{mode:s}=o;if(r.isLeaving)return O4(a);const l=UY(a);if(!l)return O4(a);let u=x2(l,o,r,n,f=>u=f);l.type!==Xo&&sy(l,u);let c=n.subTree&&UY(n.subTree);if(c&&c.type!==Xo&&!b0(l,c)&&Uhe(n).type!==Xo){let f=x2(c,o,r,n);if(sy(c,f),s==="out-in"&&l.type!==Xo)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,c=void 0},O4(a);s==="in-out"&&l.type!==Xo?f.delayLeave=(d,h,p)=>{const v=zhe(r,c);v[String(c.key)]=c,d[jv]=()=>{h(),d[jv]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function Vhe(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Xo){t=n;break}}return t}const LMe=PMe;function zhe(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function x2(e,t,n,r,i){const{appear:a,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:d,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:g,onAppear:m,onAfterAppear:b,onAppearCancelled:_}=t,x=String(e.key),E=zhe(n,e),A=(M,O)=>{M&&jf(M,r,9,O)},T=(M,O)=>{const D=O[1];A(M,O),pt(M)?M.every(C=>C.length<=1)&&D():M.length<=1&&D()},R={mode:o,persisted:s,beforeEnter(M){let O=l;if(!n.isMounted)if(a)O=g||l;else return;M[jv]&&M[jv](!0);const D=E[x];D&&b0(e,D)&&D.el[jv]&&D.el[jv](),A(O,[M])},enter(M){let O=u,D=c,C=f;if(!n.isMounted)if(a)O=m||u,D=b||c,C=_||f;else return;let P=!1;const B=M[qC]=U=>{P||(P=!0,U?A(C,[M]):A(D,[M]),R.delayedLeave&&R.delayedLeave(),M[qC]=void 0)};O?T(O,[M,B]):B()},leave(M,O){const D=String(e.key);if(M[qC]&&M[qC](!0),n.isUnmounting)return O();A(d,[M]);let C=!1;const P=M[jv]=B=>{C||(C=!0,O(),B?A(v,[M]):A(p,[M]),M[jv]=void 0,E[D]===e&&delete E[D])};E[D]=e,h?T(h,[M,P]):P()},clone(M){const O=x2(M,t,n,r,i);return i&&i(O),O}};return R}function O4(e){if(SD(e))return e=Ap(e),e.children=null,e}function UY(e){if(!SD(e))return Lhe(e.type)&&e.children?Vhe(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&on(n.default))return n.default()}}function sy(e,t){e.shapeFlag&6&&e.component?(e.transition=t,sy(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Kz(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let o=e[a];const s=n==null?o.key:String(n)+String(o.key!=null?o.key:a);o.type===St?(o.patchFlag&128&&i++,r=r.concat(Kz(o.children,t,s))):(t||o.type!==Xo)&&r.push(s!=null?Ap(o,{key:s}):o)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function le(e,t){return on(e)?Co({name:e.name},t,{setup:e}):e}function $he(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function oM(e,t,n,r,i=!1){if(pt(e)){e.forEach((p,v)=>oM(p,t&&(pt(t)?t[v]:t),n,r,i));return}if(Z1(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&oM(e,t,n,r.component.subTree);return}const a=r.shapeFlag&4?CD(r.component):r.el,o=i?null:a,{i:s,r:l}=e,u=t&&t.r,c=s.refs===wa?s.refs={}:s.refs,f=s.setupState,d=Ii(f),h=f===wa?()=>!1:p=>Yr(d,p);if(u!=null&&u!==l&&(an(u)?(c[u]=null,h(u)&&(f[u]=null)):Gi(u)&&(u.value=null)),on(l))UT(l,s,12,[o,c]);else{const p=an(l),v=Gi(l);if(p||v){const g=()=>{if(e.f){const m=p?h(l)?f[l]:c[l]:l.value;i?pt(m)&&Uz(m,a):pt(m)?m.includes(a)||m.push(a):p?(c[l]=[a],h(l)&&(f[l]=c[l])):(l.value=[a],e.k&&(c[e.k]=l.value))}else p?(c[l]=o,h(l)&&(f[l]=o)):v&&(l.value=o,e.k&&(c[e.k]=o))};o?(g.id=-1,ml(g,n)):g()}}}yD().requestIdleCallback;yD().cancelIdleCallback;const Z1=e=>!!e.type.__asyncLoader,SD=e=>e.type.__isKeepAlive;function qz(e,t){Whe(e,"a",t)}function Hhe(e,t){Whe(e,"da",t)}function Whe(e,t,n=Cs){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(AD(t,r,n),n){let i=n.parent;for(;i&&i.parent;)SD(i.parent.vnode)&&NMe(r,t,n,i),i=i.parent}}function NMe(e,t,n,r){const i=AD(t,e,r,!0);so(()=>{Uz(r[t],i)},n)}function AD(e,t,n=Cs,r=!1){if(n){const i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...o)=>{Xg();const s=VT(n),l=jf(t,n,e,o);return s(),Kg(),l});return r?i.unshift(a):i.push(a),a}}const kp=e=>(t,n=Cs)=>{(!A2||e==="sp")&&AD(e,(...r)=>t(...r),n)},ED=kp("bm"),Tn=kp("m"),Ghe=kp("bu"),lh=kp("u"),Oi=kp("bum"),so=kp("um"),BMe=kp("sp"),kMe=kp("rtg"),FMe=kp("rtc");function UMe(e,t=Cs){AD("ec",e,t)}const Zz="components",VMe="directives";function ur(e,t){return Qz(Zz,e,!0,t)||e}const jhe=Symbol.for("v-ndc");function cr(e){return an(e)?Qz(Zz,e,!1)||e:e||jhe}function TD(e){return Qz(VMe,e)}function Qz(e,t,n=!0,r=!1){const i=ds||Cs;if(i){const a=i.type;if(e===Zz){const s=EOe(a,!1);if(s&&(s===t||s===Ml(t)||s===FT(Ml(t))))return a}const o=VY(i[e]||a[e],t)||VY(i.appContext[e],t);return!o&&r?a:o}}function VY(e,t){return e&&(e[t]||e[Ml(t)]||e[FT(Ml(t))])}function Nn(e,t,n,r){let i;const a=n,o=pt(e);if(o||an(e)){const s=o&&K1(e);let l=!1;s&&(l=!Dc(e),e=bD(e)),i=new Array(e.length);for(let u=0,c=e.length;u<c;u++)i[u]=t(l?Ks(e[u]):e[u],u,void 0,a)}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,a)}else if(nr(e))if(e[Symbol.iterator])i=Array.from(e,(s,l)=>t(s,l,void 0,a));else{const s=Object.keys(e);i=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];i[l]=t(e[c],c,l,a)}}else i=[];return i}function Nc(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(pt(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const a=r.fn(...i);return a&&(a.key=r.key),a}:r.fn)}return e}function De(e,t,n={},r,i){if(ds.ce||ds.parent&&Z1(ds.parent)&&ds.parent.ce)return t!=="default"&&(n.name=t),H(),Ue(St,null,[z("slot",n,r&&r())],64);let a=e[t];a&&a._c&&(a._d=!1),H();const o=a&&Yhe(a(n)),s=n.key||o&&o.key,l=Ue(St,{key:(s&&!Gf(s)?s:`_${t}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function Yhe(e){return e.some(t=>pa(t)?!(t.type===Xo||t.type===St&&!Yhe(t.children)):!0)?e:null}function zMe(e,t){const n={};for(const r in e)n[DE(r)]=e[r];return n}const L7=e=>e?dpe(e)?CD(e):L7(e.parent):null,BE=Co(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>L7(e.parent),$root:e=>L7(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Jz(e),$forceUpdate:e=>e.f||(e.f=()=>{Xz(e.update)}),$nextTick:e=>e.n||(e.n=fn.bind(e.proxy)),$watch:e=>lOe.bind(e)}),D4=(e,t)=>e!==wa&&!e.__isScriptSetup&&Yr(e,t),$Me={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:a,accessCache:o,type:s,appContext:l}=e;let u;if(t[0]!=="$"){const h=o[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else{if(D4(r,t))return o[t]=1,r[t];if(i!==wa&&Yr(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&Yr(u,t))return o[t]=3,a[t];if(n!==wa&&Yr(n,t))return o[t]=4,n[t];N7&&(o[t]=0)}}const c=BE[t];let f,d;if(c)return t==="$attrs"&&Xs(e.attrs,"get",""),c(e);if((f=s.__cssModules)&&(f=f[t]))return f;if(n!==wa&&Yr(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,Yr(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:a}=e;return D4(i,t)?(i[t]=n,!0):r!==wa&&Yr(r,t)?(r[t]=n,!0):Yr(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},o){let s;return!!n[o]||e!==wa&&Yr(e,o)||D4(t,o)||(s=a[0])&&Yr(s,o)||Yr(r,o)||Yr(BE,o)||Yr(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Yr(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _o(){return Xhe().slots}function qg(){return Xhe().attrs}function Xhe(){const e=or();return e.setupContext||(e.setupContext=ppe(e))}function zY(e){return pt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let N7=!0;function HMe(e){const t=Jz(e),n=e.proxy,r=e.ctx;N7=!1,t.beforeCreate&&$Y(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:s,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:h,updated:p,activated:v,deactivated:g,beforeDestroy:m,beforeUnmount:b,destroyed:_,unmounted:x,render:E,renderTracked:A,renderTriggered:T,errorCaptured:R,serverPrefetch:M,expose:O,inheritAttrs:D,components:C,directives:P,filters:B}=t;if(u&&WMe(u,r,null),o)for(const F in o){const N=o[F];on(N)&&(r[F]=N.bind(n))}if(i){const F=i.call(n,n);nr(F)&&(e.data=zn(F))}if(N7=!0,a)for(const F in a){const N=a[F],V=on(N)?N.bind(n,n):on(N.get)?N.get.bind(n,n):gi,W=!on(N)&&on(N.set)?N.set.bind(n):gi,G=$({get:V,set:W});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>G.value,set:K=>G.value=K})}if(s)for(const F in s)Khe(s[F],r,n,F);if(l){const F=on(l)?l.call(n):l;Reflect.ownKeys(F).forEach(N=>{mr(N,F[N])})}c&&$Y(c,e,"c");function L(F,N){pt(N)?N.forEach(V=>F(V.bind(n))):N&&F(N.bind(n))}if(L(ED,f),L(Tn,d),L(Ghe,h),L(lh,p),L(qz,v),L(Hhe,g),L(UMe,R),L(FMe,A),L(kMe,T),L(Oi,b),L(so,x),L(BMe,M),pt(O))if(O.length){const F=e.exposed||(e.exposed={});O.forEach(N=>{Object.defineProperty(F,N,{get:()=>n[N],set:V=>n[N]=V})})}else e.exposed||(e.exposed={});E&&e.render===gi&&(e.render=E),D!=null&&(e.inheritAttrs=D),C&&(e.components=C),P&&(e.directives=P),M&&$he(e)}function WMe(e,t,n=gi){pt(e)&&(e=B7(e));for(const r in e){const i=e[r];let a;nr(i)?"default"in i?a=$t(i.from||r,i.default,!0):a=$t(i.from||r):a=$t(i),Gi(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):t[r]=a}}function $Y(e,t,n){jf(pt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Khe(e,t,n,r){let i=r.includes(".")?spe(n,r):()=>n[r];if(an(e)){const a=t[e];on(a)&&tt(i,a)}else if(on(e))tt(i,e.bind(n));else if(nr(e))if(pt(e))e.forEach(a=>Khe(a,t,n,r));else{const a=on(e.handler)?e.handler.bind(n):t[e.handler];on(a)&&tt(i,a,e)}}function Jz(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t);let l;return s?l=s:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>sM(l,u,o,!0)),sM(l,t,o)),nr(t)&&a.set(t,l),l}function sM(e,t,n,r=!1){const{mixins:i,extends:a}=t;a&&sM(e,a,n,!0),i&&i.forEach(o=>sM(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const s=GMe[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}const GMe={data:HY,props:WY,emits:WY,methods:tE,computed:tE,beforeCreate:vl,created:vl,beforeMount:vl,mounted:vl,beforeUpdate:vl,updated:vl,beforeDestroy:vl,beforeUnmount:vl,destroyed:vl,unmounted:vl,activated:vl,deactivated:vl,errorCaptured:vl,serverPrefetch:vl,components:tE,directives:tE,watch:YMe,provide:HY,inject:jMe};function HY(e,t){return t?e?function(){return Co(on(e)?e.call(this,this):e,on(t)?t.call(this,this):t)}:t:e}function jMe(e,t){return tE(B7(e),B7(t))}function B7(e){if(pt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function vl(e,t){return e?[...new Set([].concat(e,t))]:t}function tE(e,t){return e?Co(Object.create(null),e,t):t}function WY(e,t){return e?pt(e)&&pt(t)?[...new Set([...e,...t])]:Co(Object.create(null),zY(e),zY(t??{})):t}function YMe(e,t){if(!e)return t;if(!t)return e;const n=Co(Object.create(null),e);for(const r in t)n[r]=vl(e[r],t[r]);return n}function qhe(){return{app:null,config:{isNativeTag:V3e,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let XMe=0;function KMe(e,t){return function(r,i=null){on(r)||(r=Co({},r)),i!=null&&!nr(i)&&(i=null);const a=qhe(),o=new WeakSet,s=[];let l=!1;const u=a.app={_uid:XMe++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:wOe,get config(){return a.config},set config(c){},use(c,...f){return o.has(c)||(c&&on(c.install)?(o.add(c),c.install(u,...f)):on(c)&&(o.add(c),c(u,...f))),u},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),u},component(c,f){return f?(a.components[c]=f,u):a.components[c]},directive(c,f){return f?(a.directives[c]=f,u):a.directives[c]},mount(c,f,d){if(!l){const h=u._ceVNode||z(r,i);return h.appContext=a,d===!0?d="svg":d===!1&&(d=void 0),f&&t?t(h,c):e(h,c,d),l=!0,u._container=c,c.__vue_app__=u,CD(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(jf(s,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,f){return a.provides[c]=f,u},runWithContext(c){const f=Q1;Q1=u;try{return c()}finally{Q1=f}}};return u}}let Q1=null;function mr(e,t){if(Cs){let n=Cs.provides;const r=Cs.parent&&Cs.parent.provides;r===n&&(n=Cs.provides=Object.create(r)),n[e]=t}}function $t(e,t,n=!1){const r=Cs||ds;if(r||Q1){const i=Q1?Q1._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&on(t)?t.call(r&&r.proxy):t}}const Zhe={},Qhe=()=>Object.create(Zhe),Jhe=e=>Object.getPrototypeOf(e)===Zhe;function qMe(e,t,n,r=!1){const i={},a=Qhe();e.propsDefaults=Object.create(null),epe(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:Gz(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function ZMe(e,t,n,r){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=Ii(i),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(wD(e.emitsOptions,d))continue;const h=t[d];if(l)if(Yr(a,d))h!==a[d]&&(a[d]=h,u=!0);else{const p=Ml(d);i[p]=k7(l,s,p,h,e,!1)}else h!==a[d]&&(a[d]=h,u=!0)}}}else{epe(e,t,i,a)&&(u=!0);let c;for(const f in s)(!t||!Yr(t,f)&&((c=Bp(f))===f||!Yr(t,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=k7(l,s,f,void 0,e,!0)):delete i[f]);if(a!==s)for(const f in a)(!t||!Yr(t,f))&&(delete a[f],u=!0)}u&&op(e.attrs,"set","")}function epe(e,t,n,r){const[i,a]=e.propsOptions;let o=!1,s;if(t)for(let l in t){if(OE(l))continue;const u=t[l];let c;i&&Yr(i,c=Ml(l))?!a||!a.includes(c)?n[c]=u:(s||(s={}))[c]=u:wD(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(a){const l=Ii(n),u=s||wa;for(let c=0;c<a.length;c++){const f=a[c];n[f]=k7(i,l,f,u[f],e,!Yr(u,f))}}return o}function k7(e,t,n,r,i,a){const o=e[n];if(o!=null){const s=Yr(o,"default");if(s&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&on(l)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const c=VT(i);r=u[n]=l.call(null,t),c()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(a&&!s?r=!1:o[1]&&(r===""||r===Bp(n))&&(r=!0))}return r}const QMe=new WeakMap;function tpe(e,t,n=!1){const r=n?QMe:t.propsCache,i=r.get(e);if(i)return i;const a=e.props,o={},s=[];let l=!1;if(!on(e)){const c=f=>{l=!0;const[d,h]=tpe(f,t,!0);Co(o,d),h&&s.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return nr(e)&&r.set(e,Y1),Y1;if(pt(a))for(let c=0;c<a.length;c++){const f=Ml(a[c]);GY(f)&&(o[f]=wa)}else if(a)for(const c in a){const f=Ml(c);if(GY(f)){const d=a[c],h=o[f]=pt(d)||on(d)?{type:d}:Co({},d),p=h.type;let v=!1,g=!0;if(pt(p))for(let m=0;m<p.length;++m){const b=p[m],_=on(b)&&b.name;if(_==="Boolean"){v=!0;break}else _==="String"&&(g=!1)}else v=on(p)&&p.name==="Boolean";h[0]=v,h[1]=g,(v||Yr(h,"default"))&&s.push(f)}}const u=[o,s];return nr(e)&&r.set(e,u),u}function GY(e){return e[0]!=="$"&&!OE(e)}const npe=e=>e[0]==="_"||e==="$stable",e$=e=>pt(e)?e.map(Bd):[Bd(e)],JMe=(e,t,n)=>{if(t._n)return t;const r=J((...i)=>e$(t(...i)),n);return r._c=!1,r},rpe=(e,t,n)=>{const r=e._ctx;for(const i in e){if(npe(i))continue;const a=e[i];if(on(a))t[i]=JMe(i,a,r);else if(a!=null){const o=e$(a);t[i]=()=>o}}},ipe=(e,t)=>{const n=e$(t);e.slots.default=()=>n},ape=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},eOe=(e,t,n)=>{const r=e.slots=Qhe();if(e.vnode.shapeFlag&32){const i=t._;i?(ape(r,t,n),n&&nhe(r,"_",i,!0)):rpe(t,r)}else t&&ipe(e,t)},tOe=(e,t,n)=>{const{vnode:r,slots:i}=e;let a=!0,o=wa;if(r.shapeFlag&32){const s=t._;s?n&&s===1?a=!1:ape(i,t,n):(a=!t.$stable,rpe(t,i)),o=t}else t&&(ipe(e,t),o={default:1});if(a)for(const s in i)!npe(s)&&o[s]==null&&delete i[s]},ml=vOe;function nOe(e){return rOe(e)}function rOe(e,t){const n=yD();n.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:o,createText:s,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:h=gi,insertStaticContent:p}=e,v=(ne,se,be,Pe=null,Ee=null,Le=null,He=void 0,rt=null,Je=!!se.dynamicChildren)=>{if(ne===se)return;ne&&!b0(ne,se)&&(Pe=ee(ne),K(ne,Ee,Le,!0),ne=null),se.patchFlag===-2&&(Je=!1,se.dynamicChildren=null);const{type:ot,ref:ae,shapeFlag:Xe}=se;switch(ot){case hx:g(ne,se,be,Pe);break;case Xo:m(ne,se,be,Pe);break;case WI:ne==null&&b(se,be,Pe,He);break;case St:C(ne,se,be,Pe,Ee,Le,He,rt,Je);break;default:Xe&1?E(ne,se,be,Pe,Ee,Le,He,rt,Je):Xe&6?P(ne,se,be,Pe,Ee,Le,He,rt,Je):(Xe&64||Xe&128)&&ot.process(ne,se,be,Pe,Ee,Le,He,rt,Je,pe)}ae!=null&&Ee&&oM(ae,ne&&ne.ref,Le,se||ne,!se)},g=(ne,se,be,Pe)=>{if(ne==null)r(se.el=s(se.children),be,Pe);else{const Ee=se.el=ne.el;se.children!==ne.children&&u(Ee,se.children)}},m=(ne,se,be,Pe)=>{ne==null?r(se.el=l(se.children||""),be,Pe):se.el=ne.el},b=(ne,se,be,Pe)=>{[ne.el,ne.anchor]=p(ne.children,se,be,Pe,ne.el,ne.anchor)},_=({el:ne,anchor:se},be,Pe)=>{let Ee;for(;ne&&ne!==se;)Ee=d(ne),r(ne,be,Pe),ne=Ee;r(se,be,Pe)},x=({el:ne,anchor:se})=>{let be;for(;ne&&ne!==se;)be=d(ne),i(ne),ne=be;i(se)},E=(ne,se,be,Pe,Ee,Le,He,rt,Je)=>{se.type==="svg"?He="svg":se.type==="math"&&(He="mathml"),ne==null?A(se,be,Pe,Ee,Le,He,rt,Je):M(ne,se,Ee,Le,He,rt,Je)},A=(ne,se,be,Pe,Ee,Le,He,rt)=>{let Je,ot;const{props:ae,shapeFlag:Xe,transition:Tt,dirs:sn}=ne;if(Je=ne.el=o(ne.type,Le,ae&&ae.is,ae),Xe&8?c(Je,ne.children):Xe&16&&R(ne.children,Je,null,Pe,Ee,P4(ne,Le),He,rt),sn&&Pm(ne,null,Pe,"created"),T(Je,ne,ne.scopeId,He,Pe),ae){for(const Sn in ae)Sn!=="value"&&!OE(Sn)&&a(Je,Sn,null,ae[Sn],Le,Pe);"value"in ae&&a(Je,"value",null,ae.value,Le),(ot=ae.onVnodeBeforeMount)&&Ed(ot,Pe,ne)}sn&&Pm(ne,null,Pe,"beforeMount");const Mn=iOe(Ee,Tt);Mn&&Tt.beforeEnter(Je),r(Je,se,be),((ot=ae&&ae.onVnodeMounted)||Mn||sn)&&ml(()=>{ot&&Ed(ot,Pe,ne),Mn&&Tt.enter(Je),sn&&Pm(ne,null,Pe,"mounted")},Ee)},T=(ne,se,be,Pe,Ee)=>{if(be&&h(ne,be),Pe)for(let Le=0;Le<Pe.length;Le++)h(ne,Pe[Le]);if(Ee){let Le=Ee.subTree;if(se===Le||upe(Le.type)&&(Le.ssContent===se||Le.ssFallback===se)){const He=Ee.vnode;T(ne,He,He.scopeId,He.slotScopeIds,Ee.parent)}}},R=(ne,se,be,Pe,Ee,Le,He,rt,Je=0)=>{for(let ot=Je;ot<ne.length;ot++){const ae=ne[ot]=rt?Yv(ne[ot]):Bd(ne[ot]);v(null,ae,se,be,Pe,Ee,Le,He,rt)}},M=(ne,se,be,Pe,Ee,Le,He)=>{const rt=se.el=ne.el;let{patchFlag:Je,dynamicChildren:ot,dirs:ae}=se;Je|=ne.patchFlag&16;const Xe=ne.props||wa,Tt=se.props||wa;let sn;if(be&&Lm(be,!1),(sn=Tt.onVnodeBeforeUpdate)&&Ed(sn,be,se,ne),ae&&Pm(se,ne,be,"beforeUpdate"),be&&Lm(be,!0),(Xe.innerHTML&&Tt.innerHTML==null||Xe.textContent&&Tt.textContent==null)&&c(rt,""),ot?O(ne.dynamicChildren,ot,rt,be,Pe,P4(se,Ee),Le):He||N(ne,se,rt,null,be,Pe,P4(se,Ee),Le,!1),Je>0){if(Je&16)D(rt,Xe,Tt,be,Ee);else if(Je&2&&Xe.class!==Tt.class&&a(rt,"class",null,Tt.class,Ee),Je&4&&a(rt,"style",Xe.style,Tt.style,Ee),Je&8){const Mn=se.dynamicProps;for(let Sn=0;Sn<Mn.length;Sn++){const En=Mn[Sn],Gn=Xe[En],_r=Tt[En];(_r!==Gn||En==="value")&&a(rt,En,Gn,_r,Ee,be)}}Je&1&&ne.children!==se.children&&c(rt,se.children)}else!He&&ot==null&&D(rt,Xe,Tt,be,Ee);((sn=Tt.onVnodeUpdated)||ae)&&ml(()=>{sn&&Ed(sn,be,se,ne),ae&&Pm(se,ne,be,"updated")},Pe)},O=(ne,se,be,Pe,Ee,Le,He)=>{for(let rt=0;rt<se.length;rt++){const Je=ne[rt],ot=se[rt],ae=Je.el&&(Je.type===St||!b0(Je,ot)||Je.shapeFlag&70)?f(Je.el):be;v(Je,ot,ae,null,Pe,Ee,Le,He,!0)}},D=(ne,se,be,Pe,Ee)=>{if(se!==be){if(se!==wa)for(const Le in se)!OE(Le)&&!(Le in be)&&a(ne,Le,se[Le],null,Ee,Pe);for(const Le in be){if(OE(Le))continue;const He=be[Le],rt=se[Le];He!==rt&&Le!=="value"&&a(ne,Le,rt,He,Ee,Pe)}"value"in be&&a(ne,"value",se.value,be.value,Ee)}},C=(ne,se,be,Pe,Ee,Le,He,rt,Je)=>{const ot=se.el=ne?ne.el:s(""),ae=se.anchor=ne?ne.anchor:s("");let{patchFlag:Xe,dynamicChildren:Tt,slotScopeIds:sn}=se;sn&&(rt=rt?rt.concat(sn):sn),ne==null?(r(ot,be,Pe),r(ae,be,Pe),R(se.children||[],be,ae,Ee,Le,He,rt,Je)):Xe>0&&Xe&64&&Tt&&ne.dynamicChildren?(O(ne.dynamicChildren,Tt,be,Ee,Le,He,rt),(se.key!=null||Ee&&se===Ee.subTree)&&t$(ne,se,!0)):N(ne,se,be,ae,Ee,Le,He,rt,Je)},P=(ne,se,be,Pe,Ee,Le,He,rt,Je)=>{se.slotScopeIds=rt,ne==null?se.shapeFlag&512?Ee.ctx.activate(se,be,Pe,He,Je):B(se,be,Pe,Ee,Le,He,Je):U(ne,se,Je)},B=(ne,se,be,Pe,Ee,Le,He)=>{const rt=ne.component=bOe(ne,Pe,Ee);if(SD(ne)&&(rt.ctx.renderer=pe),xOe(rt,!1,He),rt.asyncDep){if(Ee&&Ee.registerDep(rt,L,He),!ne.el){const Je=rt.subTree=z(Xo);m(null,Je,se,be)}}else L(rt,ne,se,be,Ee,Le,He)},U=(ne,se,be)=>{const Pe=se.component=ne.component;if(hOe(ne,se,be))if(Pe.asyncDep&&!Pe.asyncResolved){F(Pe,se,be);return}else Pe.next=se,Pe.update();else se.el=ne.el,Pe.vnode=se},L=(ne,se,be,Pe,Ee,Le,He)=>{const rt=()=>{if(ne.isMounted){let{next:Xe,bu:Tt,u:sn,parent:Mn,vnode:Sn}=ne;{const yt=ope(ne);if(yt){Xe&&(Xe.el=Sn.el,F(ne,Xe,He)),yt.asyncDep.then(()=>{ne.isUnmounted||rt()});return}}let En=Xe,Gn;Lm(ne,!1),Xe?(Xe.el=Sn.el,F(ne,Xe,He)):Xe=Sn,Tt&&$I(Tt),(Gn=Xe.props&&Xe.props.onVnodeBeforeUpdate)&&Ed(Gn,Mn,Xe,Sn),Lm(ne,!0);const _r=L4(ne),We=ne.subTree;ne.subTree=_r,v(We,_r,f(We.el),ee(We),ne,Ee,Le),Xe.el=_r.el,En===null&&pOe(ne,_r.el),sn&&ml(sn,Ee),(Gn=Xe.props&&Xe.props.onVnodeUpdated)&&ml(()=>Ed(Gn,Mn,Xe,Sn),Ee)}else{let Xe;const{el:Tt,props:sn}=se,{bm:Mn,m:Sn,parent:En,root:Gn,type:_r}=ne,We=Z1(se);if(Lm(ne,!1),Mn&&$I(Mn),!We&&(Xe=sn&&sn.onVnodeBeforeMount)&&Ed(Xe,En,se),Lm(ne,!0),Tt&&re){const yt=()=>{ne.subTree=L4(ne),re(Tt,ne.subTree,ne,Ee,null)};We&&_r.__asyncHydrate?_r.__asyncHydrate(Tt,ne,yt):yt()}else{Gn.ce&&Gn.ce._injectChildStyle(_r);const yt=ne.subTree=L4(ne);v(null,yt,be,Pe,ne,Ee,Le),se.el=yt.el}if(Sn&&ml(Sn,Ee),!We&&(Xe=sn&&sn.onVnodeMounted)){const yt=se;ml(()=>Ed(Xe,En,yt),Ee)}(se.shapeFlag&256||En&&Z1(En.vnode)&&En.vnode.shapeFlag&256)&&ne.a&&ml(ne.a,Ee),ne.isMounted=!0,se=be=Pe=null}};ne.scope.on();const Je=ne.effect=new fhe(rt);ne.scope.off();const ot=ne.update=Je.run.bind(Je),ae=ne.job=Je.runIfDirty.bind(Je);ae.i=ne,ae.id=ne.uid,Je.scheduler=()=>Xz(ae),Lm(ne,!0),ot()},F=(ne,se,be)=>{se.component=ne;const Pe=ne.vnode.props;ne.vnode=se,ne.next=null,ZMe(ne,se.props,Pe,be),tOe(ne,se.children,be),Xg(),NY(ne),Kg()},N=(ne,se,be,Pe,Ee,Le,He,rt,Je=!1)=>{const ot=ne&&ne.children,ae=ne?ne.shapeFlag:0,Xe=se.children,{patchFlag:Tt,shapeFlag:sn}=se;if(Tt>0){if(Tt&128){W(ot,Xe,be,Pe,Ee,Le,He,rt,Je);return}else if(Tt&256){V(ot,Xe,be,Pe,Ee,Le,He,rt,Je);return}}sn&8?(ae&16&&Ce(ot,Ee,Le),Xe!==ot&&c(be,Xe)):ae&16?sn&16?W(ot,Xe,be,Pe,Ee,Le,He,rt,Je):Ce(ot,Ee,Le,!0):(ae&8&&c(be,""),sn&16&&R(Xe,be,Pe,Ee,Le,He,rt,Je))},V=(ne,se,be,Pe,Ee,Le,He,rt,Je)=>{ne=ne||Y1,se=se||Y1;const ot=ne.length,ae=se.length,Xe=Math.min(ot,ae);let Tt;for(Tt=0;Tt<Xe;Tt++){const sn=se[Tt]=Je?Yv(se[Tt]):Bd(se[Tt]);v(ne[Tt],sn,be,null,Ee,Le,He,rt,Je)}ot>ae?Ce(ne,Ee,Le,!0,!1,Xe):R(se,be,Pe,Ee,Le,He,rt,Je,Xe)},W=(ne,se,be,Pe,Ee,Le,He,rt,Je)=>{let ot=0;const ae=se.length;let Xe=ne.length-1,Tt=ae-1;for(;ot<=Xe&&ot<=Tt;){const sn=ne[ot],Mn=se[ot]=Je?Yv(se[ot]):Bd(se[ot]);if(b0(sn,Mn))v(sn,Mn,be,null,Ee,Le,He,rt,Je);else break;ot++}for(;ot<=Xe&&ot<=Tt;){const sn=ne[Xe],Mn=se[Tt]=Je?Yv(se[Tt]):Bd(se[Tt]);if(b0(sn,Mn))v(sn,Mn,be,null,Ee,Le,He,rt,Je);else break;Xe--,Tt--}if(ot>Xe){if(ot<=Tt){const sn=Tt+1,Mn=sn<ae?se[sn].el:Pe;for(;ot<=Tt;)v(null,se[ot]=Je?Yv(se[ot]):Bd(se[ot]),be,Mn,Ee,Le,He,rt,Je),ot++}}else if(ot>Tt)for(;ot<=Xe;)K(ne[ot],Ee,Le,!0),ot++;else{const sn=ot,Mn=ot,Sn=new Map;for(ot=Mn;ot<=Tt;ot++){const _e=se[ot]=Je?Yv(se[ot]):Bd(se[ot]);_e.key!=null&&Sn.set(_e.key,ot)}let En,Gn=0;const _r=Tt-Mn+1;let We=!1,yt=0;const Re=new Array(_r);for(ot=0;ot<_r;ot++)Re[ot]=0;for(ot=sn;ot<=Xe;ot++){const _e=ne[ot];if(Gn>=_r){K(_e,Ee,Le,!0);continue}let It;if(_e.key!=null)It=Sn.get(_e.key);else for(En=Mn;En<=Tt;En++)if(Re[En-Mn]===0&&b0(_e,se[En])){It=En;break}It===void 0?K(_e,Ee,Le,!0):(Re[It-Mn]=ot+1,It>=yt?yt=It:We=!0,v(_e,se[It],be,null,Ee,Le,He,rt,Je),Gn++)}const ut=We?aOe(Re):Y1;for(En=ut.length-1,ot=_r-1;ot>=0;ot--){const _e=Mn+ot,It=se[_e],Pn=_e+1<ae?se[_e+1].el:Pe;Re[ot]===0?v(null,It,be,Pn,Ee,Le,He,rt,Je):We&&(En<0||ot!==ut[En]?G(It,be,Pn,2):En--)}}},G=(ne,se,be,Pe,Ee=null)=>{const{el:Le,type:He,transition:rt,children:Je,shapeFlag:ot}=ne;if(ot&6){G(ne.component.subTree,se,be,Pe);return}if(ot&128){ne.suspense.move(se,be,Pe);return}if(ot&64){He.move(ne,se,be,pe);return}if(He===St){r(Le,se,be);for(let Xe=0;Xe<Je.length;Xe++)G(Je[Xe],se,be,Pe);r(ne.anchor,se,be);return}if(He===WI){_(ne,se,be);return}if(Pe!==2&&ot&1&&rt)if(Pe===0)rt.beforeEnter(Le),r(Le,se,be),ml(()=>rt.enter(Le),Ee);else{const{leave:Xe,delayLeave:Tt,afterLeave:sn}=rt,Mn=()=>r(Le,se,be),Sn=()=>{Xe(Le,()=>{Mn(),sn&&sn()})};Tt?Tt(Le,Mn,Sn):Sn()}else r(Le,se,be)},K=(ne,se,be,Pe=!1,Ee=!1)=>{const{type:Le,props:He,ref:rt,children:Je,dynamicChildren:ot,shapeFlag:ae,patchFlag:Xe,dirs:Tt,cacheIndex:sn}=ne;if(Xe===-2&&(Ee=!1),rt!=null&&oM(rt,null,be,ne,!0),sn!=null&&(se.renderCache[sn]=void 0),ae&256){se.ctx.deactivate(ne);return}const Mn=ae&1&&Tt,Sn=!Z1(ne);let En;if(Sn&&(En=He&&He.onVnodeBeforeUnmount)&&Ed(En,se,ne),ae&6)he(ne.component,be,Pe);else{if(ae&128){ne.suspense.unmount(be,Pe);return}Mn&&Pm(ne,null,se,"beforeUnmount"),ae&64?ne.type.remove(ne,se,be,pe,Pe):ot&&!ot.hasOnce&&(Le!==St||Xe>0&&Xe&64)?Ce(ot,se,be,!1,!0):(Le===St&&Xe&384||!Ee&&ae&16)&&Ce(Je,se,be),Pe&&q(ne)}(Sn&&(En=He&&He.onVnodeUnmounted)||Mn)&&ml(()=>{En&&Ed(En,se,ne),Mn&&Pm(ne,null,se,"unmounted")},be)},q=ne=>{const{type:se,el:be,anchor:Pe,transition:Ee}=ne;if(se===St){ue(be,Pe);return}if(se===WI){x(ne);return}const Le=()=>{i(be),Ee&&!Ee.persisted&&Ee.afterLeave&&Ee.afterLeave()};if(ne.shapeFlag&1&&Ee&&!Ee.persisted){const{leave:He,delayLeave:rt}=Ee,Je=()=>He(be,Le);rt?rt(ne.el,Le,Je):Je()}else Le()},ue=(ne,se)=>{let be;for(;ne!==se;)be=d(ne),i(ne),ne=be;i(se)},he=(ne,se,be)=>{const{bum:Pe,scope:Ee,job:Le,subTree:He,um:rt,m:Je,a:ot}=ne;jY(Je),jY(ot),Pe&&$I(Pe),Ee.stop(),Le&&(Le.flags|=8,K(He,ne,se,be)),rt&&ml(rt,se),ml(()=>{ne.isUnmounted=!0},se),se&&se.pendingBranch&&!se.isUnmounted&&ne.asyncDep&&!ne.asyncResolved&&ne.suspenseId===se.pendingId&&(se.deps--,se.deps===0&&se.resolve())},Ce=(ne,se,be,Pe=!1,Ee=!1,Le=0)=>{for(let He=Le;He<ne.length;He++)K(ne[He],se,be,Pe,Ee)},ee=ne=>{if(ne.shapeFlag&6)return ee(ne.component.subTree);if(ne.shapeFlag&128)return ne.suspense.next();const se=d(ne.anchor||ne.el),be=se&&se[Phe];return be?d(be):se};let de=!1;const oe=(ne,se,be)=>{ne==null?se._vnode&&K(se._vnode,null,null,!0):v(se._vnode||null,ne,se,null,null,null,be),se._vnode=ne,de||(de=!0,NY(),Mhe(),de=!1)},pe={p:v,um:K,m:G,r:q,mt:B,mc:R,pc:N,pbc:O,n:ee,o:e};let me,re;return{render:oe,hydrate:me,createApp:KMe(oe,me)}}function P4({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Lm({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function iOe(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function t$(e,t,n=!1){const r=e.children,i=t.children;if(pt(r)&&pt(i))for(let a=0;a<r.length;a++){const o=r[a];let s=i[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[a]=Yv(i[a]),s.el=o.el),!n&&s.patchFlag!==-2&&t$(o,s)),s.type===hx&&(s.el=o.el)}}function aOe(e){const t=e.slice(),n=[0];let r,i,a,o,s;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<u?a=s+1:o=s;u<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function ope(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ope(t)}function jY(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const oOe=Symbol.for("v-scx"),sOe=()=>$t(oOe);function Is(e,t){return n$(e,null,t)}function tt(e,t,n){return n$(e,t,n)}function n$(e,t,n=wa){const{immediate:r,deep:i,flush:a,once:o}=n,s=Co({},n),l=t&&r||!t&&a!=="post";let u;if(A2){if(a==="sync"){const h=sOe();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=gi,h.resume=gi,h.pause=gi,h}}const c=Cs;s.call=(h,p,v)=>jf(h,c,p,v);let f=!1;a==="post"?s.scheduler=h=>{ml(h,c&&c.suspense)}:a!=="sync"&&(f=!0,s.scheduler=(h,p)=>{p?h():Xz(h)}),s.augmentJob=h=>{t&&(h.flags|=4),f&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const d=CMe(e,t,s);return A2&&(u?u.push(d):l&&d()),d}function lOe(e,t,n){const r=this.proxy,i=an(e)?e.includes(".")?spe(r,e):()=>r[e]:e.bind(r,r);let a;on(t)?a=t:(a=t.handler,n=t);const o=VT(this),s=n$(i,a.bind(r),n);return o(),s}function spe(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const uOe=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ml(t)}Modifiers`]||e[`${Bp(t)}Modifiers`];function cOe(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||wa;let i=n;const a=t.startsWith("update:"),o=a&&uOe(r,t.slice(7));o&&(o.trim&&(i=n.map(c=>an(c)?c.trim():c)),o.number&&(i=n.map(R7)));let s,l=r[s=DE(t)]||r[s=DE(Ml(t))];!l&&a&&(l=r[s=DE(Bp(t))]),l&&jf(l,e,6,i);const u=r[s+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,jf(u,e,6,i)}}function lpe(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const a=e.emits;let o={},s=!1;if(!on(e)){const l=u=>{const c=lpe(u,t,!0);c&&(s=!0,Co(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!s?(nr(e)&&r.set(e,null),null):(pt(a)?a.forEach(l=>o[l]=null):Co(o,a),nr(e)&&r.set(e,o),o)}function wD(e,t){return!e||!vD(t)?!1:(t=t.slice(2).replace(/Once$/,""),Yr(e,t[0].toLowerCase()+t.slice(1))||Yr(e,Bp(t))||Yr(e,t))}function L4(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:l,render:u,renderCache:c,props:f,data:d,setupState:h,ctx:p,inheritAttrs:v}=e,g=aM(e);let m,b;try{if(n.shapeFlag&4){const x=i||r,E=x;m=Bd(u.call(E,x,c,f,h,d,p)),b=s}else{const x=t;m=Bd(x.length>1?x(f,{attrs:s,slots:o,emit:l}):x(f,null)),b=t.props?s:fOe(s)}}catch(x){kE.length=0,xD(x,e,1),m=z(Xo)}let _=m;if(b&&v!==!1){const x=Object.keys(b),{shapeFlag:E}=_;x.length&&E&7&&(a&&x.some(Fz)&&(b=dOe(b,a)),_=Ap(_,b,!1,!0))}return n.dirs&&(_=Ap(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&sy(_,n.transition),m=_,aM(g),m}const fOe=e=>{let t;for(const n in e)(n==="class"||n==="style"||vD(n))&&((t||(t={}))[n]=e[n]);return t},dOe=(e,t)=>{const n={};for(const r in e)(!Fz(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function hOe(e,t,n){const{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:l}=t,u=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?YY(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(o[d]!==r[d]&&!wD(u,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?YY(r,o,u):!0:!!o;return!1}function YY(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(t[a]!==e[a]&&!wD(n,a))return!0}return!1}function pOe({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const upe=e=>e.__isSuspense;function vOe(e,t){t&&t.pendingBranch?pt(e)?t.effects.push(...e):t.effects.push(e):MMe(e)}const St=Symbol.for("v-fgt"),hx=Symbol.for("v-txt"),Xo=Symbol.for("v-cmt"),WI=Symbol.for("v-stc"),kE=[];let Lu=null;function H(e=!1){kE.push(Lu=e?null:[])}function gOe(){kE.pop(),Lu=kE[kE.length-1]||null}let S2=1;function XY(e,t=!1){S2+=e,e<0&&Lu&&t&&(Lu.hasOnce=!0)}function cpe(e){return e.dynamicChildren=S2>0?Lu||Y1:null,gOe(),S2>0&&Lu&&Lu.push(e),e}function Q(e,t,n,r,i,a){return cpe(I(e,t,n,r,i,a,!0))}function Ue(e,t,n,r,i){return cpe(z(e,t,n,r,i,!0))}function pa(e){return e?e.__v_isVNode===!0:!1}function b0(e,t){return e.type===t.type&&e.key===t.key}const fpe=({key:e})=>e??null,GI=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?an(e)||Gi(e)||on(e)?{i:ds,r:e,k:t,f:!!n}:e:null);function I(e,t=null,n=null,r=0,i=null,a=e===St?0:1,o=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&fpe(t),ref:t&&GI(t),scopeId:Dhe,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ds};return s?(r$(l,n),a&128&&e.normalize(l)):n&&(l.shapeFlag|=an(n)?8:16),S2>0&&!o&&Lu&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&Lu.push(l),l}const z=mOe;function mOe(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===jhe)&&(e=Xo),pa(e)){const s=Ap(e,t,!0);return n&&r$(s,n),S2>0&&!a&&Lu&&(s.shapeFlag&6?Lu[Lu.indexOf(e)]=s:Lu.push(s)),s.patchFlag=-2,s}if(TOe(e)&&(e=e.__vccOpts),t){t=Ig(t);let{class:s,style:l}=t;s&&!an(s)&&(t.class=j(s)),nr(l)&&(Yz(l)&&!pt(l)&&(l=Co({},l)),t.style=en(l))}const o=an(e)?1:upe(e)?128:Lhe(e)?64:nr(e)?4:on(e)?2:0;return I(e,t,n,r,i,o,a,!0)}function Ig(e){return e?Yz(e)||Jhe(e)?Co({},e):e:null}function Ap(e,t,n=!1,r=!1){const{props:i,ref:a,patchFlag:o,children:s,transition:l}=e,u=t?dr(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&fpe(u),ref:t&&t.ref?n&&a?pt(a)?a.concat(GI(t)):[a,GI(t)]:GI(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==St?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ap(e.ssContent),ssFallback:e.ssFallback&&Ap(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&sy(c,l.clone(c)),c}function $n(e=" ",t=0){return z(hx,null,e,t)}function tg(e,t){const n=z(WI,null,e);return n.staticCount=t,n}function Be(e="",t=!1){return t?(H(),Ue(Xo,null,e)):z(Xo,null,e)}function Bd(e){return e==null||typeof e=="boolean"?z(Xo):pt(e)?z(St,null,e.slice()):pa(e)?Yv(e):z(hx,null,String(e))}function Yv(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ap(e)}function r$(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(pt(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),r$(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!Jhe(t)?t._ctx=ds:i===3&&ds&&(ds.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else on(t)?(t={default:t,_ctx:ds},n=32):(t=String(t),r&64?(n=16,t=[$n(t)]):n=8);e.children=t,e.shapeFlag|=n}function dr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=j([t.class,r.class]));else if(i==="style")t.style=en([t.style,r.style]);else if(vD(i)){const a=t[i],o=r[i];o&&a!==o&&!(pt(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=r[i])}return t}function Ed(e,t,n,r=null){jf(e,t,7,[n,r])}const yOe=qhe();let _Oe=0;function bOe(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||yOe,a={uid:_Oe++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new she(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tpe(r,i),emitsOptions:lpe(r,i),emit:null,emitted:null,propsDefaults:wa,inheritAttrs:r.inheritAttrs,ctx:wa,data:wa,props:wa,attrs:wa,slots:wa,refs:wa,setupState:wa,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=cOe.bind(null,a),e.ce&&e.ce(a),a}let Cs=null;const or=()=>Cs||ds;let lM,F7;{const e=yD(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),a=>{i.length>1?i.forEach(o=>o(a)):i[0](a)}};lM=t("__VUE_INSTANCE_SETTERS__",n=>Cs=n),F7=t("__VUE_SSR_SETTERS__",n=>A2=n)}const VT=e=>{const t=Cs;return lM(e),e.scope.on(),()=>{e.scope.off(),lM(t)}},KY=()=>{Cs&&Cs.scope.off(),lM(null)};function dpe(e){return e.vnode.shapeFlag&4}let A2=!1;function xOe(e,t=!1,n=!1){t&&F7(t);const{props:r,children:i}=e.vnode,a=dpe(e);qMe(e,r,a,t),eOe(e,i,n);const o=a?SOe(e,t):void 0;return t&&F7(!1),o}function SOe(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,$Me);const{setup:r}=n;if(r){Xg();const i=e.setupContext=r.length>1?ppe(e):null,a=VT(e),o=UT(r,e,0,[e.props,i]),s=g2(o);if(Kg(),a(),(s||e.sp)&&!Z1(e)&&$he(e),s){if(o.then(KY,KY),t)return o.then(l=>{qY(e,l,t)}).catch(l=>{xD(l,e,0)});e.asyncDep=o}else qY(e,o,t)}else hpe(e,t)}function qY(e,t,n){on(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:nr(t)&&(e.setupState=whe(t)),hpe(e,n)}let ZY;function hpe(e,t,n){const r=e.type;if(!e.render){if(!t&&ZY&&!r.render){const i=r.template||Jz(e).template;if(i){const{isCustomElement:a,compilerOptions:o}=e.appContext.config,{delimiters:s,compilerOptions:l}=r,u=Co(Co({isCustomElement:a,delimiters:s},o),l);r.render=ZY(i,u)}}e.render=r.render||gi}{const i=VT(e);Xg();try{HMe(e)}finally{Kg(),i()}}}const AOe={get(e,t){return Xs(e,"get",""),e[t]}};function ppe(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,AOe),slots:e.slots,emit:e.emit,expose:t}}function CD(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(whe(pp(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in BE)return BE[n](e)},has(t,n){return n in t||n in BE}})):e.proxy}function EOe(e,t=!0){return on(e)?e.displayName||e.name:e.name||t&&e.__name}function TOe(e){return on(e)&&"__vccOpts"in e}const $=(e,t)=>TMe(e,t,A2);function pn(e,t,n){const r=arguments.length;return r===2?nr(t)&&!pt(t)?pa(t)?z(e,null,[t]):z(e,t):z(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&pa(n)&&(n=[n]),z(e,t,n))}const wOe="3.5.13",COe=gi;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let U7;const QY=typeof window<"u"&&window.trustedTypes;if(QY)try{U7=QY.createPolicy("vue",{createHTML:e=>e})}catch{}const vpe=U7?e=>U7.createHTML(e):e=>e,ROe="http://www.w3.org/2000/svg",IOe="http://www.w3.org/1998/Math/MathML",tp=typeof document<"u"?document:null,JY=tp&&tp.createElement("template"),MOe={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?tp.createElementNS(ROe,e):t==="mathml"?tp.createElementNS(IOe,e):n?tp.createElement(e,{is:n}):tp.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>tp.createTextNode(e),createComment:e=>tp.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tp.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,a){const o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{JY.innerHTML=vpe(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const s=JY.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},xv="transition",jS="animation",xb=Symbol("_vtc"),gpe={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mpe=Co({},Fhe,gpe),OOe=e=>(e.displayName="Transition",e.props=mpe,e),ns=OOe((e,{slots:t})=>pn(LMe,ype(e),t)),Nm=(e,t=[])=>{pt(e)?e.forEach(n=>n(...t)):e&&e(...t)},eX=e=>e?pt(e)?e.some(t=>t.length>1):e.length>1:!1;function ype(e){const t={};for(const C in e)C in gpe||(t[C]=e[C]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:u=o,appearToClass:c=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,p=DOe(i),v=p&&p[0],g=p&&p[1],{onBeforeEnter:m,onEnter:b,onEnterCancelled:_,onLeave:x,onLeaveCancelled:E,onBeforeAppear:A=m,onAppear:T=b,onAppearCancelled:R=_}=t,M=(C,P,B,U)=>{C._enterCancelled=U,Uv(C,P?c:s),Uv(C,P?u:o),B&&B()},O=(C,P)=>{C._isLeaving=!1,Uv(C,f),Uv(C,h),Uv(C,d),P&&P()},D=C=>(P,B)=>{const U=C?T:b,L=()=>M(P,C,B);Nm(U,[P,L]),tX(()=>{Uv(P,C?l:a),Md(P,C?c:s),eX(U)||nX(P,r,v,L)})};return Co(t,{onBeforeEnter(C){Nm(m,[C]),Md(C,a),Md(C,o)},onBeforeAppear(C){Nm(A,[C]),Md(C,l),Md(C,u)},onEnter:D(!1),onAppear:D(!0),onLeave(C,P){C._isLeaving=!0;const B=()=>O(C,P);Md(C,f),C._enterCancelled?(Md(C,d),V7()):(V7(),Md(C,d)),tX(()=>{C._isLeaving&&(Uv(C,f),Md(C,h),eX(x)||nX(C,r,g,B))}),Nm(x,[C,B])},onEnterCancelled(C){M(C,!1,void 0,!0),Nm(_,[C])},onAppearCancelled(C){M(C,!0,void 0,!0),Nm(R,[C])},onLeaveCancelled(C){O(C),Nm(E,[C])}})}function DOe(e){if(e==null)return null;if(nr(e))return[N4(e.enter),N4(e.leave)];{const t=N4(e);return[t,t]}}function N4(e){return G3e(e)}function Md(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[xb]||(e[xb]=new Set)).add(t)}function Uv(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[xb];n&&(n.delete(t),n.size||(e[xb]=void 0))}function tX(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let POe=0;function nX(e,t,n,r){const i=e._endId=++POe,a=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(a,n);const{type:o,timeout:s,propCount:l}=_pe(e,t);if(!o)return r();const u=o+"end";let c=0;const f=()=>{e.removeEventListener(u,d),a()},d=h=>{h.target===e&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},s+1),e.addEventListener(u,d)}function _pe(e,t){const n=window.getComputedStyle(e),r=p=>(n[p]||"").split(", "),i=r(`${xv}Delay`),a=r(`${xv}Duration`),o=rX(i,a),s=r(`${jS}Delay`),l=r(`${jS}Duration`),u=rX(s,l);let c=null,f=0,d=0;t===xv?o>0&&(c=xv,f=o,d=a.length):t===jS?u>0&&(c=jS,f=u,d=l.length):(f=Math.max(o,u),c=f>0?o>u?xv:jS:null,d=c?c===xv?a.length:l.length:0);const h=c===xv&&/\b(transform|all)(,|$)/.test(r(`${xv}Property`).toString());return{type:c,timeout:f,propCount:d,hasTransform:h}}function rX(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>iX(n)+iX(e[r])))}function iX(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function V7(){return document.body.offsetHeight}function LOe(e,t,n){const r=e[xb];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const uM=Symbol("_vod"),bpe=Symbol("_vsh"),Xr={beforeMount(e,{value:t},{transition:n}){e[uM]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):YS(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),YS(e,!0),r.enter(e)):r.leave(e,()=>{YS(e,!1)}):YS(e,t))},beforeUnmount(e,{value:t}){YS(e,t)}};function YS(e,t){e.style.display=t?e[uM]:"none",e[bpe]=!t}const NOe=Symbol(""),BOe=/(^|;)\s*display\s*:/;function kOe(e,t,n){const r=e.style,i=an(n);let a=!1;if(n&&!i){if(t)if(an(t))for(const o of t.split(";")){const s=o.slice(0,o.indexOf(":")).trim();n[s]==null&&jI(r,s,"")}else for(const o in t)n[o]==null&&jI(r,o,"");for(const o in n)o==="display"&&(a=!0),jI(r,o,n[o])}else if(i){if(t!==n){const o=r[NOe];o&&(n+=";"+o),r.cssText=n,a=BOe.test(n)}}else t&&e.removeAttribute("style");uM in e&&(e[uM]=a?r.display:"",e[bpe]&&(r.display="none"))}const aX=/\s*!important$/;function jI(e,t,n){if(pt(n))n.forEach(r=>jI(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=FOe(e,t);aX.test(n)?e.setProperty(Bp(r),n.replace(aX,""),"important"):e[r]=n}}const oX=["Webkit","Moz","ms"],B4={};function FOe(e,t){const n=B4[t];if(n)return n;let r=Ml(t);if(r!=="filter"&&r in e)return B4[t]=r;r=FT(r);for(let i=0;i<oX.length;i++){const a=oX[i]+r;if(a in e)return B4[t]=a}return t}const sX="http://www.w3.org/1999/xlink";function lX(e,t,n,r,i,a=Z3e(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(sX,t.slice(6,t.length)):e.setAttributeNS(sX,t,n):n==null||a&&!rhe(n)?e.removeAttribute(t):e.setAttribute(t,a?"":Gf(n)?String(n):n)}function uX(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?vpe(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const s=a==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(s!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const s=typeof e[t];s==="boolean"?n=rhe(n):n==null&&s==="string"?(n="",o=!0):s==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function Qv(e,t,n,r){e.addEventListener(t,n,r)}function UOe(e,t,n,r){e.removeEventListener(t,n,r)}const cX=Symbol("_vei");function VOe(e,t,n,r,i=null){const a=e[cX]||(e[cX]={}),o=a[t];if(r&&o)o.value=r;else{const[s,l]=zOe(t);if(r){const u=a[t]=WOe(r,i);Qv(e,s,u,l)}else o&&(UOe(e,s,o,l),a[t]=void 0)}}const fX=/(?:Once|Passive|Capture)$/;function zOe(e){let t;if(fX.test(e)){t={};let r;for(;r=e.match(fX);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bp(e.slice(2)),t]}let k4=0;const $Oe=Promise.resolve(),HOe=()=>k4||($Oe.then(()=>k4=0),k4=Date.now());function WOe(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;jf(GOe(r,n.value),t,5,[r])};return n.value=e,n.attached=HOe(),n}function GOe(e,t){if(pt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const dX=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,jOe=(e,t,n,r,i,a)=>{const o=i==="svg";t==="class"?LOe(e,r,o):t==="style"?kOe(e,n,r):vD(t)?Fz(t)||VOe(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):YOe(e,t,r,o))?(uX(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&lX(e,t,r,o,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!an(r))?uX(e,Ml(t),r,a,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),lX(e,t,r,o))};function YOe(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&dX(t)&&on(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return dX(t)&&an(n)?!1:t in e}const xpe=new WeakMap,Spe=new WeakMap,cM=Symbol("_moveCb"),hX=Symbol("_enterCb"),XOe=e=>(delete e.props.mode,e),KOe=XOe({name:"TransitionGroup",props:Co({},mpe,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=or(),r=khe();let i,a;return lh(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!JOe(i[0].el,n.vnode.el,o))return;i.forEach(qOe),i.forEach(ZOe);const s=i.filter(QOe);V7(),s.forEach(l=>{const u=l.el,c=u.style;Md(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const f=u[cM]=d=>{d&&d.target!==u||(!d||/transform$/.test(d.propertyName))&&(u.removeEventListener("transitionend",f),u[cM]=null,Uv(u,o))};u.addEventListener("transitionend",f)})}),()=>{const o=Ii(e),s=ype(o);let l=o.tag||St;if(i=[],a)for(let u=0;u<a.length;u++){const c=a[u];c.el&&c.el instanceof Element&&(i.push(c),sy(c,x2(c,s,r,n)),xpe.set(c,c.el.getBoundingClientRect()))}a=t.default?Kz(t.default()):[];for(let u=0;u<a.length;u++){const c=a[u];c.key!=null&&sy(c,x2(c,s,r,n))}return z(l,null,a)}}}),Ape=KOe;function qOe(e){const t=e.el;t[cM]&&t[cM](),t[hX]&&t[hX]()}function ZOe(e){Spe.set(e,e.el.getBoundingClientRect())}function QOe(e){const t=xpe.get(e),n=Spe.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const a=e.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",e}}function JOe(e,t,n){const r=e.cloneNode(),i=e[xb];i&&i.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const a=t.nodeType===1?t:t.parentNode;a.appendChild(r);const{hasTransform:o}=_pe(r);return a.removeChild(r),o}const Sb=e=>{const t=e.props["onUpdate:modelValue"]||!1;return pt(t)?n=>$I(t,n):t};function eDe(e){e.target.composing=!0}function pX(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vp=Symbol("_assign"),RD={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[vp]=Sb(i);const a=r||i.props&&i.props.type==="number";Qv(e,t?"change":"input",o=>{if(o.target.composing)return;let s=e.value;n&&(s=s.trim()),a&&(s=R7(s)),e[vp](s)}),n&&Qv(e,"change",()=>{e.value=e.value.trim()}),t||(Qv(e,"compositionstart",eDe),Qv(e,"compositionend",pX),Qv(e,"change",pX))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},o){if(e[vp]=Sb(o),e.composing)return;const s=(a||e.type==="number")&&!/^0\d/.test(e.value)?R7(e.value):e.value,l=t??"";s!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===l)||(e.value=l))}},fM={deep:!0,created(e,t,n){e[vp]=Sb(n),Qv(e,"change",()=>{const r=e._modelValue,i=Tpe(e),a=e.checked,o=e[vp];if(pt(r)){const s=ihe(r,i),l=s!==-1;if(a&&!l)o(r.concat(i));else if(!a&&l){const u=[...r];u.splice(s,1),o(u)}}else if(gD(r)){const s=new Set(r);a?s.add(i):s.delete(i),o(s)}else o(wpe(e,a))})},mounted:vX,beforeUpdate(e,t,n){e[vp]=Sb(n),vX(e,t,n)}};function vX(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(pt(t))i=ihe(t,r.props.value)>-1;else if(gD(t))i=t.has(r.props.value);else{if(t===n)return;i=bb(t,wpe(e,!0))}e.checked!==i&&(e.checked=i)}const Epe={created(e,{value:t},n){e.checked=bb(t,n.props.value),e[vp]=Sb(n),Qv(e,"change",()=>{e[vp](Tpe(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[vp]=Sb(r),t!==n&&(e.checked=bb(t,r.props.value))}};function Tpe(e){return"_value"in e?e._value:e.value}function wpe(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const tDe=["ctrl","shift","alt","meta"],nDe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>tDe.some(n=>e[`${n}Key`]&&!t.includes(n))},xn=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(i,...a)=>{for(let o=0;o<t.length;o++){const s=nDe[t[o]];if(s&&s(i,t))return}return e(i,...a)})},rDe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Mi=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const a=Bp(i.key);if(t.some(o=>o===a||rDe[o]===a))return e(i)})},iDe=Co({patchProp:jOe},MOe);let gX;function Cpe(){return gX||(gX=nOe(iDe))}const Mg=(...e)=>{Cpe().render(...e)},Rpe=(...e)=>{const t=Cpe().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=oDe(r);if(!i)return;const a=t._component;!on(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,aDe(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function aDe(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function oDe(e){return an(e)?document.querySelector(e):e}var sDe=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const lDe=Symbol();var mX;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(mX||(mX={}));function uDe(){const e=lhe(!0),t=e.run(()=>Y({}));let n=[],r=[];const i=pp({install(a){i._a=a,a.provide(lDe,i),a.config.globalProperties.$pinia=i,r.forEach(o=>n.push(o)),r=[]},use(a){return!this._a&&!sDe?r.push(a):n.push(a),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}const cDe="2.9.0",yX=Symbol("INSTALLED_KEY"),Ipe=Symbol(),FE="el",fDe="is-",Bm=(e,t,n,r,i)=>{let a=`${e}-${t}`;return n&&(a+=`-${n}`),r&&(a+=`__${r}`),i&&(a+=`--${i}`),a},Mpe=Symbol("namespaceContextKey"),i$=e=>{const t=e||(or()?$t(Mpe,Y(FE)):Y(FE));return $(()=>y(t)||FE)},at=(e,t)=>{const n=i$(t);return{namespace:n,b:(v="")=>Bm(n.value,e,v,"",""),e:v=>v?Bm(n.value,e,"",v,""):"",m:v=>v?Bm(n.value,e,"","",v):"",be:(v,g)=>v&&g?Bm(n.value,e,v,g,""):"",em:(v,g)=>v&&g?Bm(n.value,e,"",v,g):"",bm:(v,g)=>v&&g?Bm(n.value,e,v,"",g):"",bem:(v,g,m)=>v&&g&&m?Bm(n.value,e,v,g,m):"",is:(v,...g)=>{const m=g.length>=1?g[0]:!0;return v&&m?`${fDe}${v}`:""},cssVar:v=>{const g={};for(const m in v)v[m]&&(g[`--${n.value}-${m}`]=v[m]);return g},cssVarName:v=>`--${n.value}-${v}`,cssVarBlock:v=>{const g={};for(const m in v)v[m]&&(g[`--${n.value}-${e}-${m}`]=v[m]);return g},cssVarBlockName:v=>`--${n.value}-${e}-${v}`}};var Ope=typeof global=="object"&&global&&global.Object===Object&&global,dDe=typeof self=="object"&&self&&self.Object===Object&&self,ed=Ope||dDe||Function("return this")(),Bc=ed.Symbol,Dpe=Object.prototype,hDe=Dpe.hasOwnProperty,pDe=Dpe.toString,XS=Bc?Bc.toStringTag:void 0;function vDe(e){var t=hDe.call(e,XS),n=e[XS];try{e[XS]=void 0;var r=!0}catch{}var i=pDe.call(e);return r&&(t?e[XS]=n:delete e[XS]),i}var gDe=Object.prototype,mDe=gDe.toString;function yDe(e){return mDe.call(e)}var _De="[object Null]",bDe="[object Undefined]",_X=Bc?Bc.toStringTag:void 0;function Dy(e){return e==null?e===void 0?bDe:_De:_X&&_X in Object(e)?vDe(e):yDe(e)}function Zd(e){return e!=null&&typeof e=="object"}var xDe="[object Symbol]";function ID(e){return typeof e=="symbol"||Zd(e)&&Dy(e)==xDe}function a$(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Ol=Array.isArray,SDe=1/0,bX=Bc?Bc.prototype:void 0,xX=bX?bX.toString:void 0;function Ppe(e){if(typeof e=="string")return e;if(Ol(e))return a$(e,Ppe)+"";if(ID(e))return xX?xX.call(e):"";var t=e+"";return t=="0"&&1/e==-SDe?"-0":t}var ADe=/\s/;function EDe(e){for(var t=e.length;t--&&ADe.test(e.charAt(t)););return t}var TDe=/^\s+/;function wDe(e){return e&&e.slice(0,EDe(e)+1).replace(TDe,"")}function Dl(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var SX=NaN,CDe=/^[-+]0x[0-9a-f]+$/i,RDe=/^0b[01]+$/i,IDe=/^0o[0-7]+$/i,MDe=parseInt;function AX(e){if(typeof e=="number")return e;if(ID(e))return SX;if(Dl(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Dl(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=wDe(e);var n=RDe.test(e);return n||IDe.test(e)?MDe(e.slice(2),n?2:8):CDe.test(e)?SX:+e}function o$(e){return e}var ODe="[object AsyncFunction]",DDe="[object Function]",PDe="[object GeneratorFunction]",LDe="[object Proxy]";function s$(e){if(!Dl(e))return!1;var t=Dy(e);return t==DDe||t==PDe||t==ODe||t==LDe}var F4=ed["__core-js_shared__"],EX=function(){var e=/[^.]+$/.exec(F4&&F4.keys&&F4.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function NDe(e){return!!EX&&EX in e}var BDe=Function.prototype,kDe=BDe.toString;function Py(e){if(e!=null){try{return kDe.call(e)}catch{}try{return e+""}catch{}}return""}var FDe=/[\\^$.*+?()[\]{}|]/g,UDe=/^\[object .+?Constructor\]$/,VDe=Function.prototype,zDe=Object.prototype,$De=VDe.toString,HDe=zDe.hasOwnProperty,WDe=RegExp("^"+$De.call(HDe).replace(FDe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function GDe(e){if(!Dl(e)||NDe(e))return!1;var t=s$(e)?WDe:UDe;return t.test(Py(e))}function jDe(e,t){return e==null?void 0:e[t]}function Ly(e,t){var n=jDe(e,t);return GDe(n)?n:void 0}var z7=Ly(ed,"WeakMap"),TX=Object.create,YDe=function(){function e(){}return function(t){if(!Dl(t))return{};if(TX)return TX(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function XDe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function KDe(){}function Lpe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var qDe=800,ZDe=16,QDe=Date.now;function JDe(e){var t=0,n=0;return function(){var r=QDe(),i=ZDe-(r-n);if(n=r,i>0){if(++t>=qDe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function ePe(e){return function(){return e}}var dM=function(){try{var e=Ly(Object,"defineProperty");return e({},"",{}),e}catch{}}(),tPe=dM?function(e,t){return dM(e,"toString",{configurable:!0,enumerable:!1,value:ePe(t),writable:!0})}:o$,Npe=JDe(tPe);function nPe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function Bpe(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function rPe(e){return e!==e}function iPe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function aPe(e,t,n){return t===t?iPe(e,t,n):Bpe(e,rPe,n)}function oPe(e,t){var n=e==null?0:e.length;return!!n&&aPe(e,t,0)>-1}var sPe=9007199254740991,lPe=/^(?:0|[1-9]\d*)$/;function MD(e,t){var n=typeof e;return t=t??sPe,!!t&&(n=="number"||n!="symbol"&&lPe.test(e))&&e>-1&&e%1==0&&e<t}function l$(e,t,n){t=="__proto__"&&dM?dM(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function zT(e,t){return e===t||e!==e&&t!==t}var uPe=Object.prototype,cPe=uPe.hasOwnProperty;function u$(e,t,n){var r=e[t];(!(cPe.call(e,t)&&zT(r,n))||n===void 0&&!(t in e))&&l$(e,t,n)}function px(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=void 0;l===void 0&&(l=e[s]),i?l$(n,s,l):u$(n,s,l)}return n}var wX=Math.max;function kpe(e,t,n){return t=wX(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=wX(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),XDe(e,this,s)}}function Fpe(e,t){return Npe(kpe(e,t,o$),e+"")}var fPe=9007199254740991;function c$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fPe}function vx(e){return e!=null&&c$(e.length)&&!s$(e)}function dPe(e,t,n){if(!Dl(n))return!1;var r=typeof t;return(r=="number"?vx(n)&&MD(t,n.length):r=="string"&&t in n)?zT(n[t],e):!1}function hPe(e){return Fpe(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,o&&dPe(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t})}var pPe=Object.prototype;function f$(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||pPe;return e===n}function vPe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var gPe="[object Arguments]";function CX(e){return Zd(e)&&Dy(e)==gPe}var Upe=Object.prototype,mPe=Upe.hasOwnProperty,yPe=Upe.propertyIsEnumerable,E2=CX(function(){return arguments}())?CX:function(e){return Zd(e)&&mPe.call(e,"callee")&&!yPe.call(e,"callee")};function _Pe(){return!1}var Vpe=typeof Fu=="object"&&Fu&&!Fu.nodeType&&Fu,RX=Vpe&&typeof Uu=="object"&&Uu&&!Uu.nodeType&&Uu,bPe=RX&&RX.exports===Vpe,IX=bPe?ed.Buffer:void 0,xPe=IX?IX.isBuffer:void 0,T2=xPe||_Pe,SPe="[object Arguments]",APe="[object Array]",EPe="[object Boolean]",TPe="[object Date]",wPe="[object Error]",CPe="[object Function]",RPe="[object Map]",IPe="[object Number]",MPe="[object Object]",OPe="[object RegExp]",DPe="[object Set]",PPe="[object String]",LPe="[object WeakMap]",NPe="[object ArrayBuffer]",BPe="[object DataView]",kPe="[object Float32Array]",FPe="[object Float64Array]",UPe="[object Int8Array]",VPe="[object Int16Array]",zPe="[object Int32Array]",$Pe="[object Uint8Array]",HPe="[object Uint8ClampedArray]",WPe="[object Uint16Array]",GPe="[object Uint32Array]",za={};za[kPe]=za[FPe]=za[UPe]=za[VPe]=za[zPe]=za[$Pe]=za[HPe]=za[WPe]=za[GPe]=!0;za[SPe]=za[APe]=za[NPe]=za[EPe]=za[BPe]=za[TPe]=za[wPe]=za[CPe]=za[RPe]=za[IPe]=za[MPe]=za[OPe]=za[DPe]=za[PPe]=za[LPe]=!1;function jPe(e){return Zd(e)&&c$(e.length)&&!!za[Dy(e)]}function d$(e){return function(t){return e(t)}}var zpe=typeof Fu=="object"&&Fu&&!Fu.nodeType&&Fu,UE=zpe&&typeof Uu=="object"&&Uu&&!Uu.nodeType&&Uu,YPe=UE&&UE.exports===zpe,U4=YPe&&Ope.process,Ab=function(){try{var e=UE&&UE.require&&UE.require("util").types;return e||U4&&U4.binding&&U4.binding("util")}catch{}}(),MX=Ab&&Ab.isTypedArray,h$=MX?d$(MX):jPe,XPe=Object.prototype,KPe=XPe.hasOwnProperty;function $pe(e,t){var n=Ol(e),r=!n&&E2(e),i=!n&&!r&&T2(e),a=!n&&!r&&!i&&h$(e),o=n||r||i||a,s=o?vPe(e.length,String):[],l=s.length;for(var u in e)(t||KPe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||MD(u,l)))&&s.push(u);return s}function Hpe(e,t){return function(n){return e(t(n))}}var qPe=Hpe(Object.keys,Object),ZPe=Object.prototype,QPe=ZPe.hasOwnProperty;function JPe(e){if(!f$(e))return qPe(e);var t=[];for(var n in Object(e))QPe.call(e,n)&&n!="constructor"&&t.push(n);return t}function $T(e){return vx(e)?$pe(e):JPe(e)}function eLe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var tLe=Object.prototype,nLe=tLe.hasOwnProperty;function rLe(e){if(!Dl(e))return eLe(e);var t=f$(e),n=[];for(var r in e)r=="constructor"&&(t||!nLe.call(e,r))||n.push(r);return n}function HT(e){return vx(e)?$pe(e,!0):rLe(e)}var iLe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,aLe=/^\w*$/;function p$(e,t){if(Ol(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ID(e)?!0:aLe.test(e)||!iLe.test(e)||t!=null&&e in Object(t)}var w2=Ly(Object,"create");function oLe(){this.__data__=w2?w2(null):{},this.size=0}function sLe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lLe="__lodash_hash_undefined__",uLe=Object.prototype,cLe=uLe.hasOwnProperty;function fLe(e){var t=this.__data__;if(w2){var n=t[e];return n===lLe?void 0:n}return cLe.call(t,e)?t[e]:void 0}var dLe=Object.prototype,hLe=dLe.hasOwnProperty;function pLe(e){var t=this.__data__;return w2?t[e]!==void 0:hLe.call(t,e)}var vLe="__lodash_hash_undefined__";function gLe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=w2&&t===void 0?vLe:t,this}function ly(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ly.prototype.clear=oLe;ly.prototype.delete=sLe;ly.prototype.get=fLe;ly.prototype.has=pLe;ly.prototype.set=gLe;function mLe(){this.__data__=[],this.size=0}function OD(e,t){for(var n=e.length;n--;)if(zT(e[n][0],t))return n;return-1}var yLe=Array.prototype,_Le=yLe.splice;function bLe(e){var t=this.__data__,n=OD(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():_Le.call(t,n,1),--this.size,!0}function xLe(e){var t=this.__data__,n=OD(t,e);return n<0?void 0:t[n][1]}function SLe(e){return OD(this.__data__,e)>-1}function ALe(e,t){var n=this.__data__,r=OD(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Fp(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fp.prototype.clear=mLe;Fp.prototype.delete=bLe;Fp.prototype.get=xLe;Fp.prototype.has=SLe;Fp.prototype.set=ALe;var C2=Ly(ed,"Map");function ELe(){this.size=0,this.__data__={hash:new ly,map:new(C2||Fp),string:new ly}}function TLe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function DD(e,t){var n=e.__data__;return TLe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function wLe(e){var t=DD(this,e).delete(e);return this.size-=t?1:0,t}function CLe(e){return DD(this,e).get(e)}function RLe(e){return DD(this,e).has(e)}function ILe(e,t){var n=DD(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Up(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Up.prototype.clear=ELe;Up.prototype.delete=wLe;Up.prototype.get=CLe;Up.prototype.has=RLe;Up.prototype.set=ILe;var MLe="Expected a function";function PD(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(MLe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(PD.Cache||Up),n}PD.Cache=Up;var OLe=500;function DLe(e){var t=PD(e,function(r){return n.size===OLe&&n.clear(),r}),n=t.cache;return t}var PLe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,LLe=/\\(\\)?/g,NLe=DLe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(PLe,function(n,r,i,a){t.push(i?a.replace(LLe,"$1"):r||n)}),t});function BLe(e){return e==null?"":Ppe(e)}function gx(e,t){return Ol(e)?e:p$(e,t)?[e]:NLe(BLe(e))}var kLe=1/0;function mx(e){if(typeof e=="string"||ID(e))return e;var t=e+"";return t=="0"&&1/e==-kLe?"-0":t}function LD(e,t){t=gx(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[mx(t[n++])];return n&&n==r?e:void 0}function Ja(e,t,n){var r=e==null?void 0:LD(e,t);return r===void 0?n:r}function v$(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var OX=Bc?Bc.isConcatSpreadable:void 0;function FLe(e){return Ol(e)||E2(e)||!!(OX&&e&&e[OX])}function WT(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=FLe),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?WT(s,t-1,n,r,i):v$(i,s):r||(i[i.length]=s)}return i}function Wpe(e){var t=e==null?0:e.length;return t?WT(e,1):[]}function Gpe(e){return Npe(kpe(e,void 0,Wpe),e+"")}var g$=Hpe(Object.getPrototypeOf,Object),ULe="[object Object]",VLe=Function.prototype,zLe=Object.prototype,jpe=VLe.toString,$Le=zLe.hasOwnProperty,HLe=jpe.call(Object);function Ype(e){if(!Zd(e)||Dy(e)!=ULe)return!1;var t=g$(e);if(t===null)return!0;var n=$Le.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&jpe.call(n)==HLe}function WLe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}function Zs(){if(!arguments.length)return[];var e=arguments[0];return Ol(e)?e:[e]}function GLe(){this.__data__=new Fp,this.size=0}function jLe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function YLe(e){return this.__data__.get(e)}function XLe(e){return this.__data__.has(e)}var KLe=200;function qLe(e,t){var n=this.__data__;if(n instanceof Fp){var r=n.__data__;if(!C2||r.length<KLe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Up(r)}return n.set(e,t),this.size=n.size,this}function Vf(e){var t=this.__data__=new Fp(e);this.size=t.size}Vf.prototype.clear=GLe;Vf.prototype.delete=jLe;Vf.prototype.get=YLe;Vf.prototype.has=XLe;Vf.prototype.set=qLe;function ZLe(e,t){return e&&px(t,$T(t),e)}function QLe(e,t){return e&&px(t,HT(t),e)}var Xpe=typeof Fu=="object"&&Fu&&!Fu.nodeType&&Fu,DX=Xpe&&typeof Uu=="object"&&Uu&&!Uu.nodeType&&Uu,JLe=DX&&DX.exports===Xpe,PX=JLe?ed.Buffer:void 0,LX=PX?PX.allocUnsafe:void 0;function Kpe(e,t){if(t)return e.slice();var n=e.length,r=LX?LX(n):new e.constructor(n);return e.copy(r),r}function e4e(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function qpe(){return[]}var t4e=Object.prototype,n4e=t4e.propertyIsEnumerable,NX=Object.getOwnPropertySymbols,m$=NX?function(e){return e==null?[]:(e=Object(e),e4e(NX(e),function(t){return n4e.call(e,t)}))}:qpe;function r4e(e,t){return px(e,m$(e),t)}var i4e=Object.getOwnPropertySymbols,Zpe=i4e?function(e){for(var t=[];e;)v$(t,m$(e)),e=g$(e);return t}:qpe;function a4e(e,t){return px(e,Zpe(e),t)}function Qpe(e,t,n){var r=t(e);return Ol(e)?r:v$(r,n(e))}function $7(e){return Qpe(e,$T,m$)}function Jpe(e){return Qpe(e,HT,Zpe)}var H7=Ly(ed,"DataView"),W7=Ly(ed,"Promise"),J1=Ly(ed,"Set"),BX="[object Map]",o4e="[object Object]",kX="[object Promise]",FX="[object Set]",UX="[object WeakMap]",VX="[object DataView]",s4e=Py(H7),l4e=Py(C2),u4e=Py(W7),c4e=Py(J1),f4e=Py(z7),If=Dy;(H7&&If(new H7(new ArrayBuffer(1)))!=VX||C2&&If(new C2)!=BX||W7&&If(W7.resolve())!=kX||J1&&If(new J1)!=FX||z7&&If(new z7)!=UX)&&(If=function(e){var t=Dy(e),n=t==o4e?e.constructor:void 0,r=n?Py(n):"";if(r)switch(r){case s4e:return VX;case l4e:return BX;case u4e:return kX;case c4e:return FX;case f4e:return UX}return t});var d4e=Object.prototype,h4e=d4e.hasOwnProperty;function p4e(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&h4e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var hM=ed.Uint8Array;function y$(e){var t=new e.constructor(e.byteLength);return new hM(t).set(new hM(e)),t}function v4e(e,t){var n=t?y$(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var g4e=/\w*$/;function m4e(e){var t=new e.constructor(e.source,g4e.exec(e));return t.lastIndex=e.lastIndex,t}var zX=Bc?Bc.prototype:void 0,$X=zX?zX.valueOf:void 0;function y4e(e){return $X?Object($X.call(e)):{}}function eve(e,t){var n=t?y$(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var _4e="[object Boolean]",b4e="[object Date]",x4e="[object Map]",S4e="[object Number]",A4e="[object RegExp]",E4e="[object Set]",T4e="[object String]",w4e="[object Symbol]",C4e="[object ArrayBuffer]",R4e="[object DataView]",I4e="[object Float32Array]",M4e="[object Float64Array]",O4e="[object Int8Array]",D4e="[object Int16Array]",P4e="[object Int32Array]",L4e="[object Uint8Array]",N4e="[object Uint8ClampedArray]",B4e="[object Uint16Array]",k4e="[object Uint32Array]";function F4e(e,t,n){var r=e.constructor;switch(t){case C4e:return y$(e);case _4e:case b4e:return new r(+e);case R4e:return v4e(e,n);case I4e:case M4e:case O4e:case D4e:case P4e:case L4e:case N4e:case B4e:case k4e:return eve(e,n);case x4e:return new r;case S4e:case T4e:return new r(e);case A4e:return m4e(e);case E4e:return new r;case w4e:return y4e(e)}}function tve(e){return typeof e.constructor=="function"&&!f$(e)?YDe(g$(e)):{}}var U4e="[object Map]";function V4e(e){return Zd(e)&&If(e)==U4e}var HX=Ab&&Ab.isMap,z4e=HX?d$(HX):V4e,$4e="[object Set]";function H4e(e){return Zd(e)&&If(e)==$4e}var WX=Ab&&Ab.isSet,W4e=WX?d$(WX):H4e,G4e=1,j4e=2,Y4e=4,nve="[object Arguments]",X4e="[object Array]",K4e="[object Boolean]",q4e="[object Date]",Z4e="[object Error]",rve="[object Function]",Q4e="[object GeneratorFunction]",J4e="[object Map]",eNe="[object Number]",ive="[object Object]",tNe="[object RegExp]",nNe="[object Set]",rNe="[object String]",iNe="[object Symbol]",aNe="[object WeakMap]",oNe="[object ArrayBuffer]",sNe="[object DataView]",lNe="[object Float32Array]",uNe="[object Float64Array]",cNe="[object Int8Array]",fNe="[object Int16Array]",dNe="[object Int32Array]",hNe="[object Uint8Array]",pNe="[object Uint8ClampedArray]",vNe="[object Uint16Array]",gNe="[object Uint32Array]",Da={};Da[nve]=Da[X4e]=Da[oNe]=Da[sNe]=Da[K4e]=Da[q4e]=Da[lNe]=Da[uNe]=Da[cNe]=Da[fNe]=Da[dNe]=Da[J4e]=Da[eNe]=Da[ive]=Da[tNe]=Da[nNe]=Da[rNe]=Da[iNe]=Da[hNe]=Da[pNe]=Da[vNe]=Da[gNe]=!0;Da[Z4e]=Da[rve]=Da[aNe]=!1;function eb(e,t,n,r,i,a){var o,s=t&G4e,l=t&j4e,u=t&Y4e;if(n&&(o=i?n(e,r,i,a):n(e)),o!==void 0)return o;if(!Dl(e))return e;var c=Ol(e);if(c){if(o=p4e(e),!s)return Lpe(e,o)}else{var f=If(e),d=f==rve||f==Q4e;if(T2(e))return Kpe(e,s);if(f==ive||f==nve||d&&!i){if(o=l||d?{}:tve(e),!s)return l?a4e(e,QLe(o,e)):r4e(e,ZLe(o,e))}else{if(!Da[f])return i?e:{};o=F4e(e,f,s)}}a||(a=new Vf);var h=a.get(e);if(h)return h;a.set(e,o),W4e(e)?e.forEach(function(g){o.add(eb(g,t,n,g,e,a))}):z4e(e)&&e.forEach(function(g,m){o.set(m,eb(g,t,n,m,e,a))});var p=u?l?Jpe:$7:l?HT:$T,v=c?void 0:p(e);return nPe(v||e,function(g,m){v&&(m=g,g=e[m]),u$(o,m,eb(g,t,n,m,e,a))}),o}var mNe=4;function GX(e){return eb(e,mNe)}var yNe=1,_Ne=4;function pM(e){return eb(e,yNe|_Ne)}var bNe="__lodash_hash_undefined__";function xNe(e){return this.__data__.set(e,bNe),this}function SNe(e){return this.__data__.has(e)}function R2(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Up;++t<n;)this.add(e[t])}R2.prototype.add=R2.prototype.push=xNe;R2.prototype.has=SNe;function ANe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ave(e,t){return e.has(t)}var ENe=1,TNe=2;function ove(e,t,n,r,i,a){var o=n&ENe,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var f=-1,d=!0,h=n&TNe?new R2:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var p=e[f],v=t[f];if(r)var g=o?r(v,p,f,t,e,a):r(p,v,f,e,t,a);if(g!==void 0){if(g)continue;d=!1;break}if(h){if(!ANe(t,function(m,b){if(!ave(h,b)&&(p===m||i(p,m,n,r,a)))return h.push(b)})){d=!1;break}}else if(!(p===v||i(p,v,n,r,a))){d=!1;break}}return a.delete(e),a.delete(t),d}function wNe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function _$(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var CNe=1,RNe=2,INe="[object Boolean]",MNe="[object Date]",ONe="[object Error]",DNe="[object Map]",PNe="[object Number]",LNe="[object RegExp]",NNe="[object Set]",BNe="[object String]",kNe="[object Symbol]",FNe="[object ArrayBuffer]",UNe="[object DataView]",jX=Bc?Bc.prototype:void 0,V4=jX?jX.valueOf:void 0;function VNe(e,t,n,r,i,a,o){switch(n){case UNe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case FNe:return!(e.byteLength!=t.byteLength||!a(new hM(e),new hM(t)));case INe:case MNe:case PNe:return zT(+e,+t);case ONe:return e.name==t.name&&e.message==t.message;case LNe:case BNe:return e==t+"";case DNe:var s=wNe;case NNe:var l=r&CNe;if(s||(s=_$),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=RNe,o.set(e,t);var c=ove(s(e),s(t),r,i,a,o);return o.delete(e),c;case kNe:if(V4)return V4.call(e)==V4.call(t)}return!1}var zNe=1,$Ne=Object.prototype,HNe=$Ne.hasOwnProperty;function WNe(e,t,n,r,i,a){var o=n&zNe,s=$7(e),l=s.length,u=$7(t),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in t:HNe.call(t,d)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var v=!0;a.set(e,t),a.set(t,e);for(var g=o;++f<l;){d=s[f];var m=e[d],b=t[d];if(r)var _=o?r(b,m,d,t,e,a):r(m,b,d,e,t,a);if(!(_===void 0?m===b||i(m,b,n,r,a):_)){v=!1;break}g||(g=d=="constructor")}if(v&&!g){var x=e.constructor,E=t.constructor;x!=E&&"constructor"in e&&"constructor"in t&&!(typeof x=="function"&&x instanceof x&&typeof E=="function"&&E instanceof E)&&(v=!1)}return a.delete(e),a.delete(t),v}var GNe=1,YX="[object Arguments]",XX="[object Array]",ZC="[object Object]",jNe=Object.prototype,KX=jNe.hasOwnProperty;function YNe(e,t,n,r,i,a){var o=Ol(e),s=Ol(t),l=o?XX:If(e),u=s?XX:If(t);l=l==YX?ZC:l,u=u==YX?ZC:u;var c=l==ZC,f=u==ZC,d=l==u;if(d&&T2(e)){if(!T2(t))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Vf),o||h$(e)?ove(e,t,n,r,i,a):VNe(e,t,l,n,r,i,a);if(!(n&GNe)){var h=c&&KX.call(e,"__wrapped__"),p=f&&KX.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return a||(a=new Vf),i(v,g,n,r,a)}}return d?(a||(a=new Vf),WNe(e,t,n,r,i,a)):!1}function ND(e,t,n,r,i){return e===t?!0:e==null||t==null||!Zd(e)&&!Zd(t)?e!==e&&t!==t:YNe(e,t,n,r,ND,i)}var XNe=1,KNe=2;function qNe(e,t,n,r){var i=n.length,a=i;if(e==null)return!a;for(e=Object(e);i--;){var o=n[i];if(o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=n[i];var s=o[0],l=e[s],u=o[1];if(o[2]){if(l===void 0&&!(s in e))return!1}else{var c=new Vf,f;if(!(f===void 0?ND(u,l,XNe|KNe,r,c):f))return!1}}return!0}function sve(e){return e===e&&!Dl(e)}function ZNe(e){for(var t=$T(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,sve(i)]}return t}function lve(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function QNe(e){var t=ZNe(e);return t.length==1&&t[0][2]?lve(t[0][0],t[0][1]):function(n){return n===e||qNe(n,e,t)}}function JNe(e,t){return e!=null&&t in Object(e)}function eBe(e,t,n){t=gx(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=mx(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&c$(i)&&MD(o,i)&&(Ol(e)||E2(e)))}function uve(e,t){return e!=null&&eBe(e,t,JNe)}var tBe=1,nBe=2;function rBe(e,t){return p$(e)&&sve(t)?lve(mx(e),t):function(n){var r=Ja(n,e);return r===void 0&&r===t?uve(n,e):ND(t,r,tBe|nBe)}}function iBe(e){return function(t){return t==null?void 0:t[e]}}function aBe(e){return function(t){return LD(t,e)}}function oBe(e){return p$(e)?iBe(mx(e)):aBe(e)}function cve(e){return typeof e=="function"?e:e==null?o$:typeof e=="object"?Ol(e)?rBe(e[0],e[1]):QNe(e):oBe(e)}function sBe(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[++i];if(n(a[l],l,a)===!1)break}return t}}var fve=sBe();function lBe(e,t){return e&&fve(e,t,$T)}function uBe(e,t){return function(n,r){if(n==null)return n;if(!vx(n))return e(n,r);for(var i=n.length,a=-1,o=Object(n);++a<i&&r(o[a],a,o)!==!1;);return n}}var cBe=uBe(lBe),z4=function(){return ed.Date.now()},fBe="Expected a function",dBe=Math.max,hBe=Math.min;function yu(e,t,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError(fBe);t=AX(t)||0,Dl(n)&&(c=!!n.leading,f="maxWait"in n,a=f?dBe(AX(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d);function h(A){var T=r,R=i;return r=i=void 0,u=A,o=e.apply(R,T),o}function p(A){return u=A,s=setTimeout(m,t),c?h(A):o}function v(A){var T=A-l,R=A-u,M=t-T;return f?hBe(M,a-R):M}function g(A){var T=A-l,R=A-u;return l===void 0||T>=t||T<0||f&&R>=a}function m(){var A=z4();if(g(A))return b(A);s=setTimeout(m,v(A))}function b(A){return s=void 0,d&&r?h(A):(r=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function x(){return s===void 0?o:b(z4())}function E(){var A=z4(),T=g(A);if(r=arguments,i=this,l=A,T){if(s===void 0)return p(l);if(f)return clearTimeout(s),s=setTimeout(m,t),h(l)}return s===void 0&&(s=setTimeout(m,t)),o}return E.cancel=_,E.flush=x,E}function G7(e,t,n){(n!==void 0&&!zT(e[t],n)||n===void 0&&!(t in e))&&l$(e,t,n)}function dve(e){return Zd(e)&&vx(e)}function j7(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function pBe(e){return px(e,HT(e))}function vBe(e,t,n,r,i,a,o){var s=j7(e,n),l=j7(t,n),u=o.get(l);if(u){G7(e,n,u);return}var c=a?a(s,l,n+"",e,t,o):void 0,f=c===void 0;if(f){var d=Ol(l),h=!d&&T2(l),p=!d&&!h&&h$(l);c=l,d||h||p?Ol(s)?c=s:dve(s)?c=Lpe(s):h?(f=!1,c=Kpe(l,!0)):p?(f=!1,c=eve(l,!0)):c=[]:Ype(l)||E2(l)?(c=s,E2(s)?c=pBe(s):(!Dl(s)||s$(s))&&(c=tve(l))):f=!1}f&&(o.set(l,c),i(c,l,r,a,o),o.delete(l)),G7(e,n,c)}function hve(e,t,n,r,i){e!==t&&fve(t,function(a,o){if(i||(i=new Vf),Dl(a))vBe(e,t,o,n,hve,r,i);else{var s=r?r(j7(e,o),a,o+"",e,t,i):void 0;s===void 0&&(s=a),G7(e,o,s)}},HT)}function gBe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function pve(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return Bpe(e,cve(t),i,!0)}function mBe(e,t){var n=-1,r=vx(e)?Array(e.length):[];return cBe(e,function(i,a,o){r[++n]=t(i,a,o)}),r}function yBe(e,t){var n=Ol(e)?a$:mBe;return n(e,cve(t))}function _Be(e,t){return WT(yBe(e,t),1)}var bBe=1/0;function xBe(e){var t=e==null?0:e.length;return t?WT(e,bBe):[]}function I2(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function SBe(e,t){return t.length<2?e:LD(e,WLe(t,0,-1))}function ps(e,t){return ND(e,t)}function zo(e){return e==null}function vve(e){return e===void 0}var gve=hPe(function(e,t,n){hve(e,t,n)});function ABe(e,t){return t=gx(t,e),e=SBe(e,t),e==null||delete e[mx(gBe(t))]}function EBe(e){return Ype(e)?void 0:e}var TBe=1,wBe=2,CBe=4,RBe=Gpe(function(e,t){var n={};if(e==null)return n;var r=!1;t=a$(t,function(a){return a=gx(a,e),r||(r=a.length>1),a}),px(e,Jpe(e),n),r&&(n=eb(n,TBe|wBe|CBe,EBe));for(var i=t.length;i--;)ABe(n,t[i]);return n});function mve(e,t,n,r){if(!Dl(e))return e;t=gx(t,e);for(var i=-1,a=t.length,o=a-1,s=e;s!=null&&++i<a;){var l=mx(t[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var c=s[l];u=void 0,u===void 0&&(u=Dl(c)?c:MD(t[i+1])?[]:{})}u$(s,l,u),s=s[l]}return e}function IBe(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=LD(e,o);n(s,o)&&mve(a,gx(o,e),s)}return a}function MBe(e,t){return IBe(e,t,function(n,r){return uve(e,r)})}var Df=Gpe(function(e,t){return e==null?{}:MBe(e,t)});function OBe(e,t,n){return e==null?e:mve(e,t,n)}var DBe="Expected a function";function G0(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(DBe);return Dl(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),yu(e,t,{leading:r,maxWait:t,trailing:i})}var PBe=1/0,LBe=J1&&1/_$(new J1([,-0]))[1]==PBe?function(e){return new J1(e)}:KDe,NBe=200;function BBe(e,t,n){var r=-1,i=oPe,a=e.length,o=!0,s=[],l=s;if(a>=NBe){var u=LBe(e);if(u)return _$(u);o=!1,i=ave,l=new R2}else l=s;e:for(;++r<a;){var c=e[r],f=c;if(c=c!==0?c:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var $4=Fpe(function(e){return BBe(WT(e,1,dve,!0))});const mi=e=>e===void 0,Bi=e=>typeof e=="boolean",gn=e=>typeof e=="number",Du=e=>!e&&e!==0||pt(e)&&e.length===0||nr(e)&&!Object.keys(e).length,Vu=e=>typeof Element>"u"?!1:e instanceof Element,uy=e=>zo(e),kBe=e=>an(e)?!Number.isNaN(Number(e)):!1,BD=e=>e===window;var FBe=Object.defineProperty,UBe=Object.defineProperties,VBe=Object.getOwnPropertyDescriptors,qX=Object.getOwnPropertySymbols,zBe=Object.prototype.hasOwnProperty,$Be=Object.prototype.propertyIsEnumerable,ZX=(e,t,n)=>t in e?FBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HBe=(e,t)=>{for(var n in t||(t={}))zBe.call(t,n)&&ZX(e,n,t[n]);if(qX)for(var n of qX(t))$Be.call(t,n)&&ZX(e,n,t[n]);return e},WBe=(e,t)=>UBe(e,VBe(t));function Y7(e,t){var n;const r=Ni();return Is(()=>{r.value=e()},WBe(HBe({},t),{flush:(n=void 0)!=null?n:"sync"})),dx(r)}var QX;const Pr=typeof window<"u",GBe=e=>typeof e<"u",X7=e=>typeof e=="function",jBe=e=>typeof e=="string",Eb=()=>{},K7=Pr&&((QX=window==null?void 0:window.navigator)==null?void 0:QX.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Og(e){return typeof e=="function"?e():y(e)}function yve(e,t){function n(...r){return new Promise((i,a)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(a)})}return n}function YBe(e,t={}){let n,r,i=Eb;const a=s=>{clearTimeout(s),i(),i=Eb};return s=>{const l=Og(e),u=Og(t.maxWait);return n&&a(n),l<=0||u!==void 0&&u<=0?(r&&(a(r),r=null),Promise.resolve(s())):new Promise((c,f)=>{i=t.rejectOnCancel?f:c,u&&!r&&(r=setTimeout(()=>{n&&a(n),r=null,c(s())},u)),n=setTimeout(()=>{r&&a(r),r=null,c(s())},l)})}}function XBe(e,t=!0,n=!0,r=!1){let i=0,a,o=!0,s=Eb,l;const u=()=>{a&&(clearTimeout(a),a=void 0,s(),s=Eb)};return f=>{const d=Og(e),h=Date.now()-i,p=()=>l=f();return u(),d<=0?(i=Date.now(),p()):(h>d&&(n||!o)?(i=Date.now(),p()):t&&(l=new Promise((v,g)=>{s=r?g:v,a=setTimeout(()=>{i=Date.now(),o=!0,v(p()),u()},Math.max(0,d-h))})),!n&&!a&&(a=setTimeout(()=>o=!0,d)),o=!1,l)}}function KBe(e){return e}function qBe(e,t){let n,r,i;const a=Y(!0),o=()=>{a.value=!0,i()};tt(e,o,{flush:"sync"});const s=X7(t)?t:t.get,l=X7(t)?void 0:t.set,u=xMe((c,f)=>(r=c,i=f,{get(){return a.value&&(n=s(),a.value=!1),r(),n},set(d){l==null||l(d)}}));return Object.isExtensible(u)&&(u.trigger=o),u}function GT(e){return uhe()?(che(e),!0):!1}function ZBe(e,t=200,n={}){return yve(YBe(t,n),e)}function QBe(e,t=200,n={}){const r=Y(e.value),i=ZBe(()=>{r.value=e.value},t,n);return tt(e,()=>i()),r}function _ve(e,t=200,n=!1,r=!0,i=!1){return yve(XBe(t,n,r,i),e)}function b$(e,t=!0){or()?Tn(e):t?e():fn(e)}function cy(e,t,n={}){const{immediate:r=!0}=n,i=Y(!1);let a=null;function o(){a&&(clearTimeout(a),a=null)}function s(){i.value=!1,o()}function l(...u){o(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,e(...u)},Og(t))}return r&&(i.value=!0,Pr&&l()),GT(s),{isPending:dx(i),start:l,stop:s}}function El(e){var t;const n=Og(e);return(t=n==null?void 0:n.$el)!=null?t:n}const Zg=Pr?window:void 0,JBe=Pr?window.document:void 0;function xi(...e){let t,n,r,i;if(jBe(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=Zg):[t,n,r,i]=e,!t)return Eb;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const a=[],o=()=>{a.forEach(c=>c()),a.length=0},s=(c,f,d,h)=>(c.addEventListener(f,d,h),()=>c.removeEventListener(f,d,h)),l=tt(()=>[El(t),Og(i)],([c,f])=>{o(),c&&a.push(...n.flatMap(d=>r.map(h=>s(c,d,h,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return GT(u),u}let JX=!1;function x$(e,t,n={}){const{window:r=Zg,ignore:i=[],capture:a=!0,detectIframe:o=!1}=n;if(!r)return;K7&&!JX&&(JX=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",Eb)));let s=!0;const l=d=>i.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===d.target||d.composedPath().includes(p));{const p=El(h);return p&&(d.target===p||d.composedPath().includes(p))}}),c=[xi(r,"click",d=>{const h=El(e);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(s=!l(d)),!s){s=!0;return}t(d)}},{passive:!0,capture:a}),xi(r,"pointerdown",d=>{const h=El(e);h&&(s=!d.composedPath().includes(h)&&!l(d))},{passive:!0}),o&&xi(r,"blur",d=>{var h;const p=El(e);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(r.document.activeElement))&&t(d)})].filter(Boolean);return()=>c.forEach(d=>d())}function e6e(e={}){var t;const{window:n=Zg}=e,r=(t=e.document)!=null?t:n==null?void 0:n.document,i=qBe(()=>null,()=>r==null?void 0:r.activeElement);return n&&(xi(n,"blur",a=>{a.relatedTarget===null&&i.trigger()},!0),xi(n,"focus",i.trigger,!0)),i}function bve(e,t=!1){const n=Y(),r=()=>n.value=!!e();return r(),b$(r,t),n}function t6e(e){return JSON.parse(JSON.stringify(e))}const eK=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tK="__vueuse_ssr_handlers__";eK[tK]=eK[tK]||{};function n6e(e,t,{window:n=Zg,initialValue:r=""}={}){const i=Y(r),a=$(()=>{var o;return El(t)||((o=n==null?void 0:n.document)==null?void 0:o.documentElement)});return tt([a,()=>Og(e)],([o,s])=>{var l;if(o&&n){const u=(l=n.getComputedStyle(o).getPropertyValue(s))==null?void 0:l.trim();i.value=u||r}},{immediate:!0}),tt(i,o=>{var s;(s=a.value)!=null&&s.style&&a.value.style.setProperty(Og(e),o)}),i}function r6e({document:e=JBe}={}){if(!e)return Y("visible");const t=Y(e.visibilityState);return xi(e,"visibilitychange",()=>{t.value=e.visibilityState}),t}var nK=Object.getOwnPropertySymbols,i6e=Object.prototype.hasOwnProperty,a6e=Object.prototype.propertyIsEnumerable,o6e=(e,t)=>{var n={};for(var r in e)i6e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&nK)for(var r of nK(e))t.indexOf(r)<0&&a6e.call(e,r)&&(n[r]=e[r]);return n};function oa(e,t,n={}){const r=n,{window:i=Zg}=r,a=o6e(r,["window"]);let o;const s=bve(()=>i&&"ResizeObserver"in i),l=()=>{o&&(o.disconnect(),o=void 0)},u=tt(()=>El(e),f=>{l(),s.value&&i&&f&&(o=new ResizeObserver(t),o.observe(f,a))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return GT(c),{isSupported:s,stop:c}}function rK(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:a=!0}=t,o=Y(0),s=Y(0),l=Y(0),u=Y(0),c=Y(0),f=Y(0),d=Y(0),h=Y(0);function p(){const v=El(e);if(!v){n&&(o.value=0,s.value=0,l.value=0,u.value=0,c.value=0,f.value=0,d.value=0,h.value=0);return}const g=v.getBoundingClientRect();o.value=g.height,s.value=g.bottom,l.value=g.left,u.value=g.right,c.value=g.top,f.value=g.width,d.value=g.x,h.value=g.y}return oa(e,p),tt(()=>El(e),v=>!v&&p()),i&&xi("scroll",p,{capture:!0,passive:!0}),r&&xi("resize",p,{passive:!0}),b$(()=>{a&&p()}),{height:o,bottom:s,left:l,right:u,top:c,width:f,x:d,y:h,update:p}}var iK=Object.getOwnPropertySymbols,s6e=Object.prototype.hasOwnProperty,l6e=Object.prototype.propertyIsEnumerable,u6e=(e,t)=>{var n={};for(var r in e)s6e.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&iK)for(var r of iK(e))t.indexOf(r)<0&&l6e.call(e,r)&&(n[r]=e[r]);return n};function xve(e,t,n={}){const r=n,{window:i=Zg}=r,a=u6e(r,["window"]);let o;const s=bve(()=>i&&"MutationObserver"in i),l=()=>{o&&(o.disconnect(),o=void 0)},u=tt(()=>El(e),f=>{l(),s.value&&i&&f&&(o=new MutationObserver(t),o.observe(f,a))},{immediate:!0}),c=()=>{l(),u()};return GT(c),{isSupported:s,stop:c}}var aK;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(aK||(aK={}));var c6e=Object.defineProperty,oK=Object.getOwnPropertySymbols,f6e=Object.prototype.hasOwnProperty,d6e=Object.prototype.propertyIsEnumerable,sK=(e,t,n)=>t in e?c6e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h6e=(e,t)=>{for(var n in t||(t={}))f6e.call(t,n)&&sK(e,n,t[n]);if(oK)for(var n of oK(t))d6e.call(t,n)&&sK(e,n,t[n]);return e};const p6e={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};h6e({linear:KBe},p6e);function Sve(e,t,n,r={}){var i,a,o;const{clone:s=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:f}=r,d=or(),h=n||(d==null?void 0:d.emit)||((i=d==null?void 0:d.$emit)==null?void 0:i.bind(d))||((o=(a=d==null?void 0:d.proxy)==null?void 0:a.$emit)==null?void 0:o.bind(d==null?void 0:d.proxy));let p=u;t||(t="modelValue"),p=u||p||`update:${t.toString()}`;const v=m=>s?X7(s)?s(m):t6e(m):m,g=()=>GBe(e[t])?v(e[t]):f;if(l){const m=g(),b=Y(m);return tt(()=>e[t],_=>b.value=v(_)),tt(b,_=>{(_!==e[t]||c)&&h(p,_)},{deep:c}),b}else return $({get(){return g()},set(m){h(p,m)}})}function v6e({window:e=Zg}={}){if(!e)return Y(!1);const t=Y(e.document.hasFocus());return xi(e,"blur",()=>{t.value=!1}),xi(e,"focus",()=>{t.value=!0}),t}function g6e(e={}){const{window:t=Zg,initialWidth:n=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:a=!0}=e,o=Y(n),s=Y(r),l=()=>{t&&(a?(o.value=t.innerWidth,s.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight))};return l(),b$(l),xi("resize",l,{passive:!0}),i&&xi("orientationchange",l,{passive:!0}),{width:o,height:s}}class m6e extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Ro(e,t){throw new m6e(`[${e}] ${t}`)}const lK={current:0},uK=Y(0),Ave=2e3,cK=Symbol("elZIndexContextKey"),Eve=Symbol("zIndexContextKey"),yx=e=>{const t=or()?$t(cK,lK):lK,n=e||(or()?$t(Eve,void 0):void 0),r=$(()=>{const o=y(n);return gn(o)?o:Ave}),i=$(()=>r.value+uK.value),a=()=>(t.current++,uK.value=t.current,i.value);return!Pr&&$t(cK),{initialZIndex:r,currentZIndex:i,nextZIndex:a}};var y6e={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const _6e=e=>(t,n)=>b6e(t,n,y(e)),b6e=(e,t,n)=>Ja(n,e,e).replace(/\{(\w+)\}/g,(r,i)=>{var a;return`${(a=t==null?void 0:t[i])!=null?a:`{${i}}`}`}),x6e=e=>{const t=$(()=>y(e).name),n=Gi(e)?e:Y(e);return{lang:t,locale:n,t:_6e(e)}},Tve=Symbol("localeContextKey"),Lr=e=>{const t=e||$t(Tve,Y());return x6e($(()=>t.value||y6e))},wve="__epPropKey",Ie=e=>e,S6e=e=>nr(e)&&!!e[wve],td=(e,t)=>{if(!nr(e)||S6e(e))return e;const{values:n,required:r,default:i,type:a,validator:o}=e,l={type:a,required:!!r,validator:n||o?u=>{let c=!1,f=[];if(n&&(f=Array.from(n),Yr(e,"default")&&f.push(i),c||(c=f.includes(u))),o&&(c||(c=o(u))),!c&&f.length>0){const d=[...new Set(f)].map(h=>JSON.stringify(h)).join(", ");COe(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${d}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[wve]:!0};return Yr(e,"default")&&(l.default=i),l},gt=e=>I2(Object.entries(e).map(([t,n])=>[t,td(n,t)])),uh=["","default","small","large"],yo=td({type:String,values:uh,required:!1}),Cve=Symbol("size"),Rve=()=>{const e=$t(Cve,{});return $(()=>y(e.size)||"")},Ive=Symbol("emptyValuesContextKey"),A6e=["",void 0,null],E6e=void 0,_x=gt({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:e=>on(e)?!e():!e}}),kD=(e,t)=>{const n=or()?$t(Ive,Y({})):Y({}),r=$(()=>e.emptyValues||n.value.emptyValues||A6e),i=$(()=>on(e.valueOnClear)?e.valueOnClear():e.valueOnClear!==void 0?e.valueOnClear:on(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:t!==void 0?t:E6e),a=o=>r.value.includes(o);return r.value.includes(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:a}},Tb=e=>Object.keys(e),Mve=e=>Object.entries(e),YI=(e,t,n)=>({get value(){return Ja(e,t,n)},set value(r){OBe(e,t,r)}}),vM=Y();function FD(e,t=void 0){const n=or()?$t(Ipe,vM):vM;return e?$(()=>{var r,i;return(i=(r=n.value)==null?void 0:r[e])!=null?i:t}):n}function UD(e,t){const n=FD(),r=at(e,$(()=>{var s;return((s=n.value)==null?void 0:s.namespace)||FE})),i=Lr($(()=>{var s;return(s=n.value)==null?void 0:s.locale})),a=yx($(()=>{var s;return((s=n.value)==null?void 0:s.zIndex)||Ave})),o=$(()=>{var s;return y(t)||((s=n.value)==null?void 0:s.size)||""});return S$($(()=>y(n)||{})),{ns:r,locale:i,zIndex:a,size:o}}const S$=(e,t,n=!1)=>{var r;const i=!!or(),a=i?FD():void 0,o=(r=t==null?void 0:t.provide)!=null?r:i?mr:void 0;if(!o)return;const s=$(()=>{const l=y(e);return a!=null&&a.value?T6e(a.value,l):l});return o(Ipe,s),o(Tve,$(()=>s.value.locale)),o(Mpe,$(()=>s.value.namespace)),o(Eve,$(()=>s.value.zIndex)),o(Cve,{size:$(()=>s.value.size||"")}),o(Ive,$(()=>({emptyValues:s.value.emptyValues,valueOnClear:s.value.valueOnClear}))),(n||!vM.value)&&(vM.value=s.value),s},T6e=(e,t)=>{const n=[...new Set([...Tb(e),...Tb(t)])],r={};for(const i of n)r[i]=t[i]!==void 0?t[i]:e[i];return r},w6e=(e=[])=>({version:cDe,install:(n,r)=>{n[yX]||(n[yX]=!0,e.forEach(i=>n.use(i)),r&&S$(r,n,!0))}}),Yn="update:modelValue",wi="change",Ms="input",C6e=gt({zIndex:{type:Ie([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),R6e={scroll:({scrollTop:e,fixed:t})=>gn(e)&&Bi(t),[wi]:e=>Bi(e)};var _t=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};function I6e(e,t,n,r){const i=n-t;return e/=r/2,e<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}const Dg=e=>Pr?window.requestAnimationFrame(e):setTimeout(e,16),fy=e=>Pr?window.cancelAnimationFrame(e):clearTimeout(e),Ove=(e="")=>e.split(" ").filter(t=>!!t.trim()),pu=(e,t)=>{if(!e||!t)return!1;if(t.includes(" "))throw new Error("className should not contain space.");return e.classList.contains(t)},Rc=(e,t)=>{!e||!t.trim()||e.classList.add(...Ove(t))},el=(e,t)=>{!e||!t.trim()||e.classList.remove(...Ove(t))},lp=(e,t)=>{var n;if(!Pr||!e||!t)return"";let r=Ml(t);r==="float"&&(r="cssFloat");try{const i=e.style[r];if(i)return i;const a=(n=document.defaultView)==null?void 0:n.getComputedStyle(e,"");return a?a[r]:""}catch{return e.style[r]}},Dve=(e,t,n)=>{if(!(!e||!t))if(nr(t))Mve(t).forEach(([r,i])=>Dve(e,r,i));else{const r=Ml(t);e.style[r]=n}};function Na(e,t="px"){if(!e)return"";if(gn(e)||kBe(e))return`${e}${t}`;if(an(e))return e}const M6e=(e,t)=>{if(!Pr)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],r=lp(e,n);return["scroll","auto","overlay"].some(i=>r.includes(i))},A$=(e,t)=>{if(!Pr)return;let n=e;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(M6e(n,t))return n;n=n.parentNode}return n};let QC;const Pve=e=>{var t;if(!Pr)return 0;if(QC!==void 0)return QC;const n=document.createElement("div");n.className=`${e}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const r=n.offsetWidth;n.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",n.appendChild(i);const a=i.offsetWidth;return(t=n.parentNode)==null||t.removeChild(n),QC=r-a,QC};function E$(e,t){if(!Pr)return;if(!t){e.scrollTop=0;return}const n=[];let r=t.offsetParent;for(;r!==null&&e!==r&&e.contains(r);)n.push(r),r=r.offsetParent;const i=t.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),a=i+t.offsetHeight,o=e.scrollTop,s=o+e.clientHeight;i<o?e.scrollTop=i:a>s&&(e.scrollTop=a-e.clientHeight)}function O6e(e,t,n,r,i){const a=Date.now();let o;const s=()=>{const u=Date.now()-a,c=I6e(u>r?r:u,t,n,r);BD(e)?e.scrollTo(window.pageXOffset,c):e.scrollTop=c,u<r?o=Dg(s):on(i)&&i()};return s(),()=>{o&&fy(o)}}const fK=(e,t)=>BD(t)?e.ownerDocument.documentElement:t,dK=e=>BD(e)?window.scrollY:e.scrollTop,Lve="ElAffix",D6e=le({name:Lve}),P6e=le({...D6e,props:C6e,emits:R6e,setup(e,{expose:t,emit:n}){const r=e,i=at("affix"),a=Ni(),o=Ni(),s=Ni(),{height:l}=g6e(),{height:u,width:c,top:f,bottom:d,update:h}=rK(o,{windowScroll:!1}),p=rK(a),v=Y(!1),g=Y(0),m=Y(0),b=$(()=>({height:v.value?`${u.value}px`:"",width:v.value?`${c.value}px`:""})),_=$(()=>{if(!v.value)return{};const A=r.offset?Na(r.offset):0;return{height:`${u.value}px`,width:`${c.value}px`,top:r.position==="top"?A:"",bottom:r.position==="bottom"?A:"",transform:m.value?`translateY(${m.value}px)`:"",zIndex:r.zIndex}}),x=()=>{if(!s.value)return;g.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0;const{position:A,target:T,offset:R}=r,M=R+u.value;if(A==="top")if(T){const O=p.bottom.value-M;v.value=R>f.value&&p.bottom.value>0,m.value=O<0?O:0}else v.value=R>f.value;else if(T){const O=l.value-p.top.value-M;v.value=l.value-R<d.value&&l.value>p.top.value,m.value=O<0?-O:0}else v.value=l.value-R<d.value},E=()=>{h(),n("scroll",{scrollTop:g.value,fixed:v.value})};return tt(v,A=>n("change",A)),Tn(()=>{var A;r.target?(a.value=(A=document.querySelector(r.target))!=null?A:void 0,a.value||Ro(Lve,`Target does not exist: ${r.target}`)):a.value=document.documentElement,s.value=A$(o.value,!0),h()}),xi(s,"scroll",E),Is(x),t({update:x,updateRoot:h}),(A,T)=>(H(),Q("div",{ref_key:"root",ref:o,class:j(y(i).b()),style:en(y(b))},[I("div",{class:j({[y(i).m("fixed")]:v.value}),style:en(y(_))},[De(A.$slots,"default")],6)],6))}});var L6e=_t(P6e,[["__file","affix.vue"]]);const Un=(e,t)=>{if(e.install=n=>{for(const r of[e,...Object.values(t??{})])n.component(r.name,r)},t)for(const[n,r]of Object.entries(t))e[n]=r;return e},Nve=(e,t)=>(e.install=n=>{e._context=n._context,n.config.globalProperties[t]=e},e),N6e=(e,t)=>(e.install=n=>{n.directive(t,e)},e),Aa=e=>(e.install=gi,e),B6e=Un(L6e),k6e=gt({size:{type:Ie([Number,String])},color:{type:String}}),F6e=le({name:"ElIcon",inheritAttrs:!1}),U6e=le({...F6e,props:k6e,setup(e){const t=e,n=at("icon"),r=$(()=>{const{size:i,color:a}=t;return!i&&!a?{}:{fontSize:mi(i)?void 0:Na(i),"--color":a}});return(i,a)=>(H(),Q("i",dr({class:y(n).b(),style:y(r)},i.$attrs),[De(i.$slots,"default")],16))}});var V6e=_t(U6e,[["__file","icon.vue"]]);const Xt=Un(V6e);/*! Element Plus Icons Vue v2.3.1 */var z6e=le({name:"ArrowDown",__name:"arrow-down",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Vp=z6e,$6e=le({name:"ArrowLeft",__name:"arrow-left",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Pg=$6e,H6e=le({name:"ArrowRight",__name:"arrow-right",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Cl=H6e,W6e=le({name:"ArrowUp",__name:"arrow-up",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),T$=W6e,G6e=le({name:"Back",__name:"back",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),I("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),j6e=G6e,Y6e=le({name:"Calendar",__name:"calendar",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),X6e=Y6e,K6e=le({name:"CaretRight",__name:"caret-right",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),Bve=K6e,q6e=le({name:"CaretTop",__name:"caret-top",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),Z6e=q6e,Q6e=le({name:"Check",__name:"check",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),jT=Q6e,J6e=le({name:"CircleCheckFilled",__name:"circle-check-filled",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),eke=J6e,tke=le({name:"CircleCheck",__name:"circle-check",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),I("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),w$=tke,nke=le({name:"CircleCloseFilled",__name:"circle-close-filled",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),C$=nke,rke=le({name:"CircleClose",__name:"circle-close",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),zp=rke,ike=le({name:"Clock",__name:"clock",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),I("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),I("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),kve=ike,ake=le({name:"Close",__name:"close",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Yf=ake,oke=le({name:"DArrowLeft",__name:"d-arrow-left",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Lg=oke,ske=le({name:"DArrowRight",__name:"d-arrow-right",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Ng=ske,lke=le({name:"Delete",__name:"delete",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),uke=lke,cke=le({name:"Document",__name:"document",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),fke=cke,dke=le({name:"Folder",__name:"folder",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32"})]))}}),Fve=dke,hke=le({name:"FullScreen",__name:"full-screen",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),pke=hke,vke=le({name:"Hide",__name:"hide",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),I("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),gke=vke,mke=le({name:"InfoFilled",__name:"info-filled",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),R$=mke,yke=le({name:"Loading",__name:"loading",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Qd=yke,_ke=le({name:"Minus",__name:"minus",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),bke=_ke,xke=le({name:"MoreFilled",__name:"more-filled",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),hK=xke,Ske=le({name:"More",__name:"more",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),Ake=Ske,Eke=le({name:"PictureFilled",__name:"picture-filled",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),Tke=Eke,wke=le({name:"Plus",__name:"plus",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),Uve=wke,Cke=le({name:"QuestionFilled",__name:"question-filled",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),Rke=Cke,Ike=le({name:"RefreshLeft",__name:"refresh-left",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),Mke=Ike,Oke=le({name:"RefreshRight",__name:"refresh-right",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),Dke=Oke,Pke=le({name:"ScaleToOriginal",__name:"scale-to-original",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),Lke=Pke,Nke=le({name:"Search",__name:"search",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),Xf=Nke,Bke=le({name:"SortDown",__name:"sort-down",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),kke=Bke,Fke=le({name:"SortUp",__name:"sort-up",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),Uke=Fke,Vke=le({name:"StarFilled",__name:"star-filled",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),JC=Vke,zke=le({name:"Star",__name:"star",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),$ke=zke,Hke=le({name:"SuccessFilled",__name:"success-filled",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Vve=Hke,Wke=le({name:"View",__name:"view",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),Gke=Wke,jke=le({name:"WarningFilled",__name:"warning-filled",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),VD=jke,Yke=le({name:"ZoomIn",__name:"zoom-in",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),zve=Yke,Xke=le({name:"ZoomOut",__name:"zoom-out",setup(e){return(t,n)=>(H(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),Kke=Xke;const Ci=Ie([String,Object,Function]),I$={Close:Yf},M$={Close:Yf,SuccessFilled:Vve,InfoFilled:R$,WarningFilled:VD,CircleCloseFilled:C$},Bg={success:Vve,warning:VD,error:C$,info:R$},zD={validating:Qd,success:w$,error:zp},qke=["light","dark"],Zke=gt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Tb(Bg),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:qke,default:"light"}}),Qke={close:e=>e instanceof MouseEvent},Jke=le({name:"ElAlert"}),e5e=le({...Jke,props:Zke,emits:Qke,setup(e,{emit:t}){const n=e,{Close:r}=M$,i=_o(),a=at("alert"),o=Y(!0),s=$(()=>Bg[n.type]),l=$(()=>[a.e("icon"),{[a.is("big")]:!!n.description||!!i.default}]),u=$(()=>({"with-description":n.description||i.default})),c=f=>{o.value=!1,t("close",f)};return(f,d)=>(H(),Ue(ns,{name:y(a).b("fade"),persisted:""},{default:J(()=>[Wn(I("div",{class:j([y(a).b(),y(a).m(f.type),y(a).is("center",f.center),y(a).is(f.effect)]),role:"alert"},[f.showIcon&&y(s)?(H(),Ue(y(Xt),{key:0,class:j(y(l))},{default:J(()=>[(H(),Ue(cr(y(s))))]),_:1},8,["class"])):Be("v-if",!0),I("div",{class:j(y(a).e("content"))},[f.title||f.$slots.title?(H(),Q("span",{key:0,class:j([y(a).e("title"),y(u)])},[De(f.$slots,"title",{},()=>[$n(nt(f.title),1)])],2)):Be("v-if",!0),f.$slots.default||f.description?(H(),Q("p",{key:1,class:j(y(a).e("description"))},[De(f.$slots,"default",{},()=>[$n(nt(f.description),1)])],2)):Be("v-if",!0),f.closable?(H(),Q(St,{key:2},[f.closeText?(H(),Q("div",{key:0,class:j([y(a).e("close-btn"),y(a).is("customed")]),onClick:c},nt(f.closeText),3)):(H(),Ue(y(Xt),{key:1,class:j(y(a).e("close-btn")),onClick:c},{default:J(()=>[z(y(r))]),_:1},8,["class"]))],64)):Be("v-if",!0)],2)],2),[[Xr,o.value]])]),_:3},8,["name"]))}});var t5e=_t(e5e,[["__file","alert.vue"]]);const n5e=Un(t5e),$D=()=>Pr&&/firefox/i.test(window.navigator.userAgent);let _f;const r5e=`
  height:0 !important;
  visibility:hidden !important;
  ${$D()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,i5e=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function a5e(e){const t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=Number.parseFloat(t.getPropertyValue("padding-bottom"))+Number.parseFloat(t.getPropertyValue("padding-top")),i=Number.parseFloat(t.getPropertyValue("border-bottom-width"))+Number.parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:i5e.map(o=>`${o}:${t.getPropertyValue(o)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:n}}function pK(e,t=1,n){var r;_f||(_f=document.createElement("textarea"),document.body.appendChild(_f));const{paddingSize:i,borderSize:a,boxSizing:o,contextStyle:s}=a5e(e);_f.setAttribute("style",`${s};${r5e}`),_f.value=e.value||e.placeholder||"";let l=_f.scrollHeight;const u={};o==="border-box"?l=l+a:o==="content-box"&&(l=l-i),_f.value="";const c=_f.scrollHeight-i;if(gn(t)){let f=c*t;o==="border-box"&&(f=f+i+a),l=Math.max(f,l),u.minHeight=`${f}px`}if(gn(n)){let f=c*n;o==="border-box"&&(f=f+i+a),l=Math.min(f,l)}return u.height=`${l}px`,(r=_f.parentNode)==null||r.removeChild(_f),_f=void 0,u}const xa=e=>e,o5e=gt({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),gs=e=>Df(o5e,e),O$=gt({id:{type:String,default:void 0},size:yo,disabled:Boolean,modelValue:{type:Ie([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ie([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Ci},prefixIcon:{type:Ci},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ie([Object,Array,String]),default:()=>xa({})},autofocus:Boolean,rows:{type:Number,default:2},...gs(["ariaLabel"])}),s5e={[Yn]:e=>an(e),input:e=>an(e),change:e=>an(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},l5e=["class","style"],u5e=/^on[A-Z]/,YT=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n}=e,r=$(()=>((n==null?void 0:n.value)||[]).concat(l5e)),i=or();return $(i?()=>{var a;return I2(Object.entries((a=i.proxy)==null?void 0:a.$attrs).filter(([o])=>!r.value.includes(o)&&!(t&&u5e.test(o))))}:()=>({}))},Ny=Symbol("formContextKey"),Jd=Symbol("formItemContextKey"),vK={prefix:Math.floor(Math.random()*1e4),current:0},c5e=Symbol("elIdInjection"),D$=()=>or()?$t(c5e,vK):vK,vs=e=>{const t=D$(),n=i$();return Y7(()=>y(e)||`${n.value}-id-${t.prefix}-${t.current++}`)},Bs=()=>{const e=$t(Ny,void 0),t=$t(Jd,void 0);return{form:e,formItem:t}},zc=(e,{formItemContext:t,disableIdGeneration:n,disableIdManagement:r})=>{n||(n=Y(!1)),r||(r=Y(!1));const i=Y();let a;const o=$(()=>{var s;return!!(!(e.label||e.ariaLabel)&&t&&t.inputIds&&((s=t.inputIds)==null?void 0:s.length)<=1)});return Tn(()=>{a=tt([hi(e,"id"),n],([s,l])=>{const u=s??(l?void 0:vs().value);u!==i.value&&(t!=null&&t.removeInputId&&(i.value&&t.removeInputId(i.value),!(r!=null&&r.value)&&!l&&u&&t.addInputId(u)),i.value=u)},{immediate:!0})}),so(()=>{a&&a(),t!=null&&t.removeInputId&&i.value&&t.removeInputId(i.value)}),{isLabeledByFormItem:o,inputId:i}},$ve=e=>{const t=or();return $(()=>{var n,r;return(r=(n=t==null?void 0:t.proxy)==null?void 0:n.$props)==null?void 0:r[e]})},oo=(e,t={})=>{const n=Y(void 0),r=t.prop?n:$ve("size"),i=t.global?n:Rve(),a=t.form?{size:void 0}:$t(Ny,void 0),o=t.formItem?{size:void 0}:$t(Jd,void 0);return $(()=>r.value||y(e)||(o==null?void 0:o.size)||(a==null?void 0:a.size)||i.value||"")},ks=e=>{const t=$ve("disabled"),n=$t(Ny,void 0);return $(()=>t.value||y(e)||(n==null?void 0:n.disabled)||!1)};function Qg(e,{beforeFocus:t,afterFocus:n,beforeBlur:r,afterBlur:i}={}){const a=or(),{emit:o}=a,s=Ni(),l=Y(!1),u=d=>{on(t)&&t(d)||l.value||(l.value=!0,o("focus",d),n==null||n())},c=d=>{var h;on(r)&&r(d)||d.relatedTarget&&((h=s.value)!=null&&h.contains(d.relatedTarget))||(l.value=!1,o("blur",d),i==null||i())},f=()=>{var d,h;(d=s.value)!=null&&d.contains(document.activeElement)&&s.value!==document.activeElement||(h=e.value)==null||h.focus()};return tt(s,d=>{d&&d.setAttribute("tabindex","-1")}),xi(s,"focus",u,!0),xi(s,"blur",c,!0),xi(s,"click",f,!0),{isFocused:l,wrapperRef:s,handleFocus:u,handleBlur:c}}const f5e=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e);function XT({afterComposition:e,emit:t}){const n=Y(!1),r=s=>{t==null||t("compositionstart",s),n.value=!0},i=s=>{var l;t==null||t("compositionupdate",s);const u=(l=s.target)==null?void 0:l.value,c=u[u.length-1]||"";n.value=!f5e(c)},a=s=>{t==null||t("compositionend",s),n.value&&(n.value=!1,fn(()=>e(s)))};return{isComposing:n,handleComposition:s=>{s.type==="compositionend"?a(s):i(s)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:a}}function d5e(e){let t;function n(){if(e.value==null)return;const{selectionStart:i,selectionEnd:a,value:o}=e.value;if(i==null||a==null)return;const s=o.slice(0,Math.max(0,i)),l=o.slice(Math.max(0,a));t={selectionStart:i,selectionEnd:a,value:o,beforeTxt:s,afterTxt:l}}function r(){if(e.value==null||t==null)return;const{value:i}=e.value,{beforeTxt:a,afterTxt:o,selectionStart:s}=t;if(a==null||o==null||s==null)return;let l=i.length;if(i.endsWith(o))l=i.length-o.length;else if(i.startsWith(a))l=a.length;else{const u=a[s-1],c=i.indexOf(u,s-1);c!==-1&&(l=c+1)}e.value.setSelectionRange(l,l)}return[n,r]}const h5e=le({name:"ElInput",inheritAttrs:!1}),p5e=le({...h5e,props:O$,emits:s5e,setup(e,{expose:t,emit:n}){const r=e,i=qg(),a=YT(),o=_o(),s=$(()=>[r.type==="textarea"?v.b():p.b(),p.m(d.value),p.is("disabled",h.value),p.is("exceed",K.value),{[p.b("group")]:o.prepend||o.append,[p.m("prefix")]:o.prefix||r.prefixIcon,[p.m("suffix")]:o.suffix||r.suffixIcon||r.clearable||r.showPassword,[p.bm("suffix","password-clear")]:N.value&&V.value,[p.b("hidden")]:r.type==="hidden"},i.class]),l=$(()=>[p.e("wrapper"),p.is("focus",R.value)]),{form:u,formItem:c}=Bs(),{inputId:f}=zc(r,{formItemContext:c}),d=oo(),h=ks(),p=at("input"),v=at("textarea"),g=Ni(),m=Ni(),b=Y(!1),_=Y(!1),x=Y(),E=Ni(r.inputStyle),A=$(()=>g.value||m.value),{wrapperRef:T,isFocused:R,handleFocus:M,handleBlur:O}=Qg(A,{beforeFocus(){return h.value},afterBlur(){var Xe;r.validateEvent&&((Xe=c==null?void 0:c.validate)==null||Xe.call(c,"blur").catch(Tt=>void 0))}}),D=$(()=>{var Xe;return(Xe=u==null?void 0:u.statusIcon)!=null?Xe:!1}),C=$(()=>(c==null?void 0:c.validateState)||""),P=$(()=>C.value&&zD[C.value]),B=$(()=>_.value?Gke:gke),U=$(()=>[i.style]),L=$(()=>[r.inputStyle,E.value,{resize:r.resize}]),F=$(()=>zo(r.modelValue)?"":String(r.modelValue)),N=$(()=>r.clearable&&!h.value&&!r.readonly&&!!F.value&&(R.value||b.value)),V=$(()=>r.showPassword&&!h.value&&!!F.value&&(!!F.value||R.value)),W=$(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!h.value&&!r.readonly&&!r.showPassword),G=$(()=>F.value.length),K=$(()=>!!W.value&&G.value>Number(r.maxlength)),q=$(()=>!!o.suffix||!!r.suffixIcon||N.value||r.showPassword||W.value||!!C.value&&D.value),[ue,he]=d5e(g);oa(m,Xe=>{if(de(),!W.value||r.resize!=="both")return;const Tt=Xe[0],{width:sn}=Tt.contentRect;x.value={right:`calc(100% - ${sn+15+6}px)`}});const Ce=()=>{const{type:Xe,autosize:Tt}=r;if(!(!Pr||Xe!=="textarea"||!m.value))if(Tt){const sn=nr(Tt)?Tt.minRows:void 0,Mn=nr(Tt)?Tt.maxRows:void 0,Sn=pK(m.value,sn,Mn);E.value={overflowY:"hidden",...Sn},fn(()=>{m.value.offsetHeight,E.value=Sn})}else E.value={minHeight:pK(m.value).minHeight}},de=(Xe=>{let Tt=!1;return()=>{var sn;if(Tt||!r.autosize)return;((sn=m.value)==null?void 0:sn.offsetParent)===null||(Xe(),Tt=!0)}})(Ce),oe=()=>{const Xe=A.value,Tt=r.formatter?r.formatter(F.value):F.value;!Xe||Xe.value===Tt||(Xe.value=Tt)},pe=async Xe=>{ue();let{value:Tt}=Xe.target;if(r.formatter&&(Tt=r.parser?r.parser(Tt):Tt),!re.value){if(Tt===F.value){oe();return}n(Yn,Tt),n("input",Tt),await fn(),oe(),he()}},me=Xe=>{n("change",Xe.target.value)},{isComposing:re,handleCompositionStart:ne,handleCompositionUpdate:se,handleCompositionEnd:be}=XT({emit:n,afterComposition:pe}),Pe=()=>{ue(),_.value=!_.value,setTimeout(he)},Ee=()=>{var Xe;return(Xe=A.value)==null?void 0:Xe.focus()},Le=()=>{var Xe;return(Xe=A.value)==null?void 0:Xe.blur()},He=Xe=>{b.value=!1,n("mouseleave",Xe)},rt=Xe=>{b.value=!0,n("mouseenter",Xe)},Je=Xe=>{n("keydown",Xe)},ot=()=>{var Xe;(Xe=A.value)==null||Xe.select()},ae=()=>{n(Yn,""),n("change",""),n("clear"),n("input","")};return tt(()=>r.modelValue,()=>{var Xe;fn(()=>Ce()),r.validateEvent&&((Xe=c==null?void 0:c.validate)==null||Xe.call(c,"change").catch(Tt=>void 0))}),tt(F,()=>oe()),tt(()=>r.type,async()=>{await fn(),oe(),Ce()}),Tn(()=>{!r.formatter&&r.parser,oe(),fn(Ce)}),t({input:g,textarea:m,ref:A,textareaStyle:L,autosize:hi(r,"autosize"),isComposing:re,focus:Ee,blur:Le,select:ot,clear:ae,resizeTextarea:Ce}),(Xe,Tt)=>(H(),Q("div",{class:j([y(s),{[y(p).bm("group","append")]:Xe.$slots.append,[y(p).bm("group","prepend")]:Xe.$slots.prepend}]),style:en(y(U)),onMouseenter:rt,onMouseleave:He},[Be(" input "),Xe.type!=="textarea"?(H(),Q(St,{key:0},[Be(" prepend slot "),Xe.$slots.prepend?(H(),Q("div",{key:0,class:j(y(p).be("group","prepend"))},[De(Xe.$slots,"prepend")],2)):Be("v-if",!0),I("div",{ref_key:"wrapperRef",ref:T,class:j(y(l))},[Be(" prefix slot "),Xe.$slots.prefix||Xe.prefixIcon?(H(),Q("span",{key:0,class:j(y(p).e("prefix"))},[I("span",{class:j(y(p).e("prefix-inner"))},[De(Xe.$slots,"prefix"),Xe.prefixIcon?(H(),Ue(y(Xt),{key:0,class:j(y(p).e("icon"))},{default:J(()=>[(H(),Ue(cr(Xe.prefixIcon)))]),_:1},8,["class"])):Be("v-if",!0)],2)],2)):Be("v-if",!0),I("input",dr({id:y(f),ref_key:"input",ref:g,class:y(p).e("inner")},y(a),{minlength:Xe.minlength,maxlength:Xe.maxlength,type:Xe.showPassword?_.value?"text":"password":Xe.type,disabled:y(h),readonly:Xe.readonly,autocomplete:Xe.autocomplete,tabindex:Xe.tabindex,"aria-label":Xe.ariaLabel,placeholder:Xe.placeholder,style:Xe.inputStyle,form:Xe.form,autofocus:Xe.autofocus,role:Xe.containerRole,onCompositionstart:y(ne),onCompositionupdate:y(se),onCompositionend:y(be),onInput:pe,onChange:me,onKeydown:Je}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Be(" suffix slot "),y(q)?(H(),Q("span",{key:1,class:j(y(p).e("suffix"))},[I("span",{class:j(y(p).e("suffix-inner"))},[!y(N)||!y(V)||!y(W)?(H(),Q(St,{key:0},[De(Xe.$slots,"suffix"),Xe.suffixIcon?(H(),Ue(y(Xt),{key:0,class:j(y(p).e("icon"))},{default:J(()=>[(H(),Ue(cr(Xe.suffixIcon)))]),_:1},8,["class"])):Be("v-if",!0)],64)):Be("v-if",!0),y(N)?(H(),Ue(y(Xt),{key:1,class:j([y(p).e("icon"),y(p).e("clear")]),onMousedown:xn(y(gi),["prevent"]),onClick:ae},{default:J(()=>[z(y(zp))]),_:1},8,["class","onMousedown"])):Be("v-if",!0),y(V)?(H(),Ue(y(Xt),{key:2,class:j([y(p).e("icon"),y(p).e("password")]),onClick:Pe},{default:J(()=>[(H(),Ue(cr(y(B))))]),_:1},8,["class"])):Be("v-if",!0),y(W)?(H(),Q("span",{key:3,class:j(y(p).e("count"))},[I("span",{class:j(y(p).e("count-inner"))},nt(y(G))+" / "+nt(Xe.maxlength),3)],2)):Be("v-if",!0),y(C)&&y(P)&&y(D)?(H(),Ue(y(Xt),{key:4,class:j([y(p).e("icon"),y(p).e("validateIcon"),y(p).is("loading",y(C)==="validating")])},{default:J(()=>[(H(),Ue(cr(y(P))))]),_:1},8,["class"])):Be("v-if",!0)],2)],2)):Be("v-if",!0)],2),Be(" append slot "),Xe.$slots.append?(H(),Q("div",{key:1,class:j(y(p).be("group","append"))},[De(Xe.$slots,"append")],2)):Be("v-if",!0)],64)):(H(),Q(St,{key:1},[Be(" textarea "),I("textarea",dr({id:y(f),ref_key:"textarea",ref:m,class:[y(v).e("inner"),y(p).is("focus",y(R))]},y(a),{minlength:Xe.minlength,maxlength:Xe.maxlength,tabindex:Xe.tabindex,disabled:y(h),readonly:Xe.readonly,autocomplete:Xe.autocomplete,style:y(L),"aria-label":Xe.ariaLabel,placeholder:Xe.placeholder,form:Xe.form,autofocus:Xe.autofocus,rows:Xe.rows,role:Xe.containerRole,onCompositionstart:y(ne),onCompositionupdate:y(se),onCompositionend:y(be),onInput:pe,onFocus:y(M),onBlur:y(O),onChange:me,onKeydown:Je}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),y(W)?(H(),Q("span",{key:0,style:en(x.value),class:j(y(p).e("count"))},nt(y(G))+" / "+nt(Xe.maxlength),7)):Be("v-if",!0)],64))],38))}});var v5e=_t(p5e,[["__file","input.vue"]]);const da=Un(v5e),U_=4,Hve={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},g5e=({move:e,size:t,bar:n})=>({[n.size]:t,transform:`translate${n.axis}(${e}%)`}),P$=Symbol("scrollbarContextKey"),m5e=gt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),y5e="Thumb",_5e=le({__name:"thumb",props:m5e,setup(e){const t=e,n=$t(P$),r=at("scrollbar");n||Ro(y5e,"can not inject scrollbar context");const i=Y(),a=Y(),o=Y({}),s=Y(!1);let l=!1,u=!1,c=Pr?document.onselectstart:null;const f=$(()=>Hve[t.vertical?"vertical":"horizontal"]),d=$(()=>g5e({size:t.size,move:t.move,bar:f.value})),h=$(()=>i.value[f.value.offset]**2/n.wrapElement[f.value.scrollSize]/t.ratio/a.value[f.value.offset]),p=A=>{var T;if(A.stopPropagation(),A.ctrlKey||[1,2].includes(A.button))return;(T=window.getSelection())==null||T.removeAllRanges(),g(A);const R=A.currentTarget;R&&(o.value[f.value.axis]=R[f.value.offset]-(A[f.value.client]-R.getBoundingClientRect()[f.value.direction]))},v=A=>{if(!a.value||!i.value||!n.wrapElement)return;const T=Math.abs(A.target.getBoundingClientRect()[f.value.direction]-A[f.value.client]),R=a.value[f.value.offset]/2,M=(T-R)*100*h.value/i.value[f.value.offset];n.wrapElement[f.value.scroll]=M*n.wrapElement[f.value.scrollSize]/100},g=A=>{A.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",m),document.addEventListener("mouseup",b),c=document.onselectstart,document.onselectstart=()=>!1},m=A=>{if(!i.value||!a.value||l===!1)return;const T=o.value[f.value.axis];if(!T)return;const R=(i.value.getBoundingClientRect()[f.value.direction]-A[f.value.client])*-1,M=a.value[f.value.offset]-T,O=(R-M)*100*h.value/i.value[f.value.offset];n.wrapElement[f.value.scroll]=O*n.wrapElement[f.value.scrollSize]/100},b=()=>{l=!1,o.value[f.value.axis]=0,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",b),E(),u&&(s.value=!1)},_=()=>{u=!1,s.value=!!t.size},x=()=>{u=!0,s.value=l};Oi(()=>{E(),document.removeEventListener("mouseup",b)});const E=()=>{document.onselectstart!==c&&(document.onselectstart=c)};return xi(hi(n,"scrollbarElement"),"mousemove",_),xi(hi(n,"scrollbarElement"),"mouseleave",x),(A,T)=>(H(),Ue(ns,{name:y(r).b("fade"),persisted:""},{default:J(()=>[Wn(I("div",{ref_key:"instance",ref:i,class:j([y(r).e("bar"),y(r).is(y(f).key)]),onMousedown:v},[I("div",{ref_key:"thumb",ref:a,class:j(y(r).e("thumb")),style:en(y(d)),onMousedown:p},null,38)],34),[[Xr,A.always||s.value]])]),_:1},8,["name"]))}});var gK=_t(_5e,[["__file","thumb.vue"]]);const b5e=gt({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),x5e=le({__name:"bar",props:b5e,setup(e,{expose:t}){const n=e,r=$t(P$),i=Y(0),a=Y(0),o=Y(""),s=Y(""),l=Y(1),u=Y(1);return t({handleScroll:d=>{if(d){const h=d.offsetHeight-U_,p=d.offsetWidth-U_;a.value=d.scrollTop*100/h*l.value,i.value=d.scrollLeft*100/p*u.value}},update:()=>{const d=r==null?void 0:r.wrapElement;if(!d)return;const h=d.offsetHeight-U_,p=d.offsetWidth-U_,v=h**2/d.scrollHeight,g=p**2/d.scrollWidth,m=Math.max(v,n.minSize),b=Math.max(g,n.minSize);l.value=v/(h-v)/(m/(h-m)),u.value=g/(p-g)/(b/(p-b)),s.value=m+U_<h?`${m}px`:"",o.value=b+U_<p?`${b}px`:""}}),(d,h)=>(H(),Q(St,null,[z(gK,{move:i.value,ratio:u.value,size:o.value,always:d.always},null,8,["move","ratio","size","always"]),z(gK,{move:a.value,ratio:l.value,size:s.value,vertical:"",always:d.always},null,8,["move","ratio","size","always"])],64))}});var S5e=_t(x5e,[["__file","bar.vue"]]);const A5e=gt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ie([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...gs(["ariaLabel","ariaOrientation"])}),E5e={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(gn)},T5e="ElScrollbar",w5e=le({name:T5e}),C5e=le({...w5e,props:A5e,emits:E5e,setup(e,{expose:t,emit:n}){const r=e,i=at("scrollbar");let a,o,s=0,l=0;const u=Y(),c=Y(),f=Y(),d=Y(),h=$(()=>{const E={};return r.height&&(E.height=Na(r.height)),r.maxHeight&&(E.maxHeight=Na(r.maxHeight)),[r.wrapStyle,E]}),p=$(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),v=$(()=>[i.e("view"),r.viewClass]),g=()=>{var E;c.value&&((E=d.value)==null||E.handleScroll(c.value),s=c.value.scrollTop,l=c.value.scrollLeft,n("scroll",{scrollTop:c.value.scrollTop,scrollLeft:c.value.scrollLeft}))};function m(E,A){nr(E)?c.value.scrollTo(E):gn(E)&&gn(A)&&c.value.scrollTo(E,A)}const b=E=>{gn(E)&&(c.value.scrollTop=E)},_=E=>{gn(E)&&(c.value.scrollLeft=E)},x=()=>{var E;(E=d.value)==null||E.update()};return tt(()=>r.noresize,E=>{E?(a==null||a(),o==null||o()):({stop:a}=oa(f,x),o=xi("resize",x))},{immediate:!0}),tt(()=>[r.maxHeight,r.height],()=>{r.native||fn(()=>{var E;x(),c.value&&((E=d.value)==null||E.handleScroll(c.value))})}),mr(P$,zn({scrollbarElement:u,wrapElement:c})),qz(()=>{c.value&&(c.value.scrollTop=s,c.value.scrollLeft=l)}),Tn(()=>{r.native||fn(()=>{x()})}),lh(()=>x()),t({wrapRef:c,update:x,scrollTo:m,setScrollTop:b,setScrollLeft:_,handleScroll:g}),(E,A)=>(H(),Q("div",{ref_key:"scrollbarRef",ref:u,class:j(y(i).b())},[I("div",{ref_key:"wrapRef",ref:c,class:j(y(p)),style:en(y(h)),tabindex:E.tabindex,onScroll:g},[(H(),Ue(cr(E.tag),{id:E.id,ref_key:"resizeRef",ref:f,class:j(y(v)),style:en(E.viewStyle),role:E.role,"aria-label":E.ariaLabel,"aria-orientation":E.ariaOrientation},{default:J(()=>[De(E.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),E.native?Be("v-if",!0):(H(),Ue(S5e,{key:0,ref_key:"barRef",ref:d,always:E.always,"min-size":E.minSize},null,8,["always","min-size"]))],2))}});var R5e=_t(C5e,[["__file","scrollbar.vue"]]);const ch=Un(R5e),L$=Symbol("popper"),Wve=Symbol("popperContent"),I5e=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],Gve=gt({role:{type:String,values:I5e,default:"tooltip"}}),M5e=le({name:"ElPopper",inheritAttrs:!1}),O5e=le({...M5e,props:Gve,setup(e,{expose:t}){const n=e,r=Y(),i=Y(),a=Y(),o=Y(),s=$(()=>n.role),l={triggerRef:r,popperInstanceRef:i,contentRef:a,referenceRef:o,role:s};return t(l),mr(L$,l),(u,c)=>De(u.$slots,"default")}});var D5e=_t(O5e,[["__file","popper.vue"]]);const jve=gt({arrowOffset:{type:Number,default:5}}),P5e=le({name:"ElPopperArrow",inheritAttrs:!1}),L5e=le({...P5e,props:jve,setup(e,{expose:t}){const n=e,r=at("popper"),{arrowOffset:i,arrowRef:a,arrowStyle:o}=$t(Wve,void 0);return tt(()=>n.arrowOffset,s=>{i.value=s}),Oi(()=>{a.value=void 0}),t({arrowRef:a}),(s,l)=>(H(),Q("span",{ref_key:"arrowRef",ref:a,class:j(y(r).e("arrow")),style:en(y(o)),"data-popper-arrow":""},null,6))}});var N5e=_t(L5e,[["__file","arrow.vue"]]);const Yve=gt({virtualRef:{type:Ie(Object)},virtualTriggering:Boolean,onMouseenter:{type:Ie(Function)},onMouseleave:{type:Ie(Function)},onClick:{type:Ie(Function)},onKeydown:{type:Ie(Function)},onFocus:{type:Ie(Function)},onBlur:{type:Ie(Function)},onContextmenu:{type:Ie(Function)},id:String,open:Boolean}),Xve=Symbol("elForwardRef"),B5e=e=>{mr(Xve,{setForwardRef:n=>{e.value=n}})},k5e=e=>({mounted(t){e(t)},updated(t){e(t)},unmounted(){e(null)}}),F5e='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',U5e=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,mK=e=>Array.from(e.querySelectorAll(F5e)).filter(t=>q7(t)&&U5e(t)),q7=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.tabIndex<0||e.hasAttribute("disabled")||e.getAttribute("aria-disabled")==="true")return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},XI=function(e,t,...n){let r;t.includes("mouse")||t.includes("click")?r="MouseEvents":t.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(t,...n),e.dispatchEvent(i),e},Kve=e=>!e.getAttribute("aria-owns"),qve=(e,t,n)=>{const{parentNode:r}=e;if(!r)return null;const i=r.querySelectorAll(n),a=Array.prototype.indexOf.call(i,e);return i[a+t]||null},KI=e=>{e&&(e.focus(),!Kve(e)&&e.click())},V5e="ElOnlyChild",Zve=le({name:V5e,setup(e,{slots:t,attrs:n}){var r;const i=$t(Xve),a=k5e((r=i==null?void 0:i.setForwardRef)!=null?r:gi);return()=>{var o;const s=(o=t.default)==null?void 0:o.call(t,n);if(!s||s.length>1)return null;const l=Qve(s);return l?Wn(Ap(l,n),[[a]]):null}}});function Qve(e){if(!e)return null;const t=e;for(const n of t){if(nr(n))switch(n.type){case Xo:continue;case hx:case"svg":return yK(n);case St:return Qve(n.children);default:return n}return yK(n)}return null}function yK(e){const t=at("only-child");return z("span",{class:t.e("content")},[e])}const z5e=le({name:"ElPopperTrigger",inheritAttrs:!1}),$5e=le({...z5e,props:Yve,setup(e,{expose:t}){const n=e,{role:r,triggerRef:i}=$t(L$,void 0);B5e(i);const a=$(()=>s.value?n.id:void 0),o=$(()=>{if(r&&r.value==="tooltip")return n.open&&n.id?n.id:void 0}),s=$(()=>{if(r&&r.value!=="tooltip")return r.value}),l=$(()=>s.value?`${n.open}`:void 0);let u;const c=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Tn(()=>{tt(()=>n.virtualRef,f=>{f&&(i.value=El(f))},{immediate:!0}),tt(i,(f,d)=>{u==null||u(),u=void 0,Vu(f)&&(c.forEach(h=>{var p;const v=n[h];v&&(f.addEventListener(h.slice(2).toLowerCase(),v),(p=d==null?void 0:d.removeEventListener)==null||p.call(d,h.slice(2).toLowerCase(),v))}),q7(f)&&(u=tt([a,o,s,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,v)=>{zo(h[v])?f.removeAttribute(p):f.setAttribute(p,h[v])})},{immediate:!0}))),Vu(d)&&q7(d)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>d.removeAttribute(h))},{immediate:!0})}),Oi(()=>{if(u==null||u(),u=void 0,i.value&&Vu(i.value)){const f=i.value;c.forEach(d=>{const h=n[d];h&&f.removeEventListener(d.slice(2).toLowerCase(),h)}),i.value=void 0}}),t({triggerRef:i}),(f,d)=>f.virtualTriggering?Be("v-if",!0):(H(),Ue(y(Zve),dr({key:0},f.$attrs,{"aria-controls":y(a),"aria-describedby":y(o),"aria-expanded":y(l),"aria-haspopup":y(s)}),{default:J(()=>[De(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var H5e=_t($5e,[["__file","trigger.vue"]]);const H4="focus-trap.focus-after-trapped",W4="focus-trap.focus-after-released",W5e="focus-trap.focusout-prevented",_K={cancelable:!0,bubbles:!1},G5e={cancelable:!0,bubbles:!1},bK="focusAfterTrapped",xK="focusAfterReleased",N$=Symbol("elFocusTrap"),B$=Y(),HD=Y(0),k$=Y(0);let eR=0;const Jve=e=>{const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t},SK=(e,t)=>{for(const n of e)if(!j5e(n,t))return n},j5e=(e,t)=>{if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1},Y5e=e=>{const t=Jve(e),n=SK(t,e),r=SK(t.reverse(),e);return[n,r]},X5e=e=>e instanceof HTMLInputElement&&"select"in e,Vv=(e,t)=>{if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),k$.value=window.performance.now(),e!==n&&X5e(e)&&t&&e.select()}};function AK(e,t){const n=[...e],r=e.indexOf(t);return r!==-1&&n.splice(r,1),n}const K5e=()=>{let e=[];return{push:r=>{const i=e[0];i&&r!==i&&i.pause(),e=AK(e,r),e.unshift(r)},remove:r=>{var i,a;e=AK(e,r),(a=(i=e[0])==null?void 0:i.resume)==null||a.call(i)}}},q5e=(e,t=!1)=>{const n=document.activeElement;for(const r of e)if(Vv(r,t),document.activeElement!==n)return},EK=K5e(),Z5e=()=>HD.value>k$.value,tR=()=>{B$.value="pointer",HD.value=window.performance.now()},TK=()=>{B$.value="keyboard",HD.value=window.performance.now()},Q5e=()=>(Tn(()=>{eR===0&&(document.addEventListener("mousedown",tR),document.addEventListener("touchstart",tR),document.addEventListener("keydown",TK)),eR++}),Oi(()=>{eR--,eR<=0&&(document.removeEventListener("mousedown",tR),document.removeEventListener("touchstart",tR),document.removeEventListener("keydown",TK))}),{focusReason:B$,lastUserFocusTimestamp:HD,lastAutomatedFocusTimestamp:k$}),nR=e=>new CustomEvent(W5e,{...G5e,detail:e}),kt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let x1=[];const wK=e=>{e.code===kt.esc&&x1.forEach(t=>t(e))},J5e=e=>{Tn(()=>{x1.length===0&&document.addEventListener("keydown",wK),Pr&&x1.push(e)}),Oi(()=>{x1=x1.filter(t=>t!==e),x1.length===0&&Pr&&document.removeEventListener("keydown",wK)})},eFe=le({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[bK,xK,"focusin","focusout","focusout-prevented","release-requested"],setup(e,{emit:t}){const n=Y();let r,i;const{focusReason:a}=Q5e();J5e(p=>{e.trapped&&!o.paused&&t("release-requested",p)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=p=>{if(!e.loop&&!e.trapped||o.paused)return;const{code:v,altKey:g,ctrlKey:m,metaKey:b,currentTarget:_,shiftKey:x}=p,{loop:E}=e,A=v===kt.tab&&!g&&!m&&!b,T=document.activeElement;if(A&&T){const R=_,[M,O]=Y5e(R);if(M&&O){if(!x&&T===O){const C=nR({focusReason:a.value});t("focusout-prevented",C),C.defaultPrevented||(p.preventDefault(),E&&Vv(M,!0))}else if(x&&[M,R].includes(T)){const C=nR({focusReason:a.value});t("focusout-prevented",C),C.defaultPrevented||(p.preventDefault(),E&&Vv(O,!0))}}else if(T===R){const C=nR({focusReason:a.value});t("focusout-prevented",C),C.defaultPrevented||p.preventDefault()}}};mr(N$,{focusTrapRef:n,onKeydown:s}),tt(()=>e.focusTrapEl,p=>{p&&(n.value=p)},{immediate:!0}),tt([n],([p],[v])=>{p&&(p.addEventListener("keydown",s),p.addEventListener("focusin",c),p.addEventListener("focusout",f)),v&&(v.removeEventListener("keydown",s),v.removeEventListener("focusin",c),v.removeEventListener("focusout",f))});const l=p=>{t(bK,p)},u=p=>t(xK,p),c=p=>{const v=y(n);if(!v)return;const g=p.target,m=p.relatedTarget,b=g&&v.contains(g);e.trapped||m&&v.contains(m)||(r=m),b&&t("focusin",p),!o.paused&&e.trapped&&(b?i=g:Vv(i,!0))},f=p=>{const v=y(n);if(!(o.paused||!v))if(e.trapped){const g=p.relatedTarget;!zo(g)&&!v.contains(g)&&setTimeout(()=>{if(!o.paused&&e.trapped){const m=nR({focusReason:a.value});t("focusout-prevented",m),m.defaultPrevented||Vv(i,!0)}},0)}else{const g=p.target;g&&v.contains(g)||t("focusout",p)}};async function d(){await fn();const p=y(n);if(p){EK.push(o);const v=p.contains(document.activeElement)?r:document.activeElement;if(r=v,!p.contains(v)){const m=new Event(H4,_K);p.addEventListener(H4,l),p.dispatchEvent(m),m.defaultPrevented||fn(()=>{let b=e.focusStartEl;an(b)||(Vv(b),document.activeElement!==b&&(b="first")),b==="first"&&q5e(Jve(p),!0),(document.activeElement===v||b==="container")&&Vv(p)})}}}function h(){const p=y(n);if(p){p.removeEventListener(H4,l);const v=new CustomEvent(W4,{..._K,detail:{focusReason:a.value}});p.addEventListener(W4,u),p.dispatchEvent(v),!v.defaultPrevented&&(a.value=="keyboard"||!Z5e()||p.contains(document.activeElement))&&Vv(r??document.body),p.removeEventListener(W4,u),EK.remove(o)}}return Tn(()=>{e.trapped&&d(),tt(()=>e.trapped,p=>{p?d():h()})}),Oi(()=>{e.trapped&&h(),n.value&&(n.value.removeEventListener("keydown",s),n.value.removeEventListener("focusin",c),n.value.removeEventListener("focusout",f),n.value=void 0)}),{onKeydown:s}}});function tFe(e,t,n,r,i,a){return De(e.$slots,"default",{handleKeydown:e.onKeydown})}var bx=_t(eFe,[["render",tFe],["__file","focus-trap.vue"]]),vu="top",kc="bottom",Fc="right",gu="left",F$="auto",KT=[vu,kc,Fc,gu],wb="start",M2="end",nFe="clippingParents",ege="viewport",KS="popper",rFe="reference",CK=KT.reduce(function(e,t){return e.concat([t+"-"+wb,t+"-"+M2])},[]),$p=[].concat(KT,[F$]).reduce(function(e,t){return e.concat([t,t+"-"+wb,t+"-"+M2])},[]),iFe="beforeRead",aFe="read",oFe="afterRead",sFe="beforeMain",lFe="main",uFe="afterMain",cFe="beforeWrite",fFe="write",dFe="afterWrite",hFe=[iFe,aFe,oFe,sFe,lFe,uFe,cFe,fFe,dFe];function eh(e){return e?(e.nodeName||"").toLowerCase():null}function nd(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Cb(e){var t=nd(e).Element;return e instanceof t||e instanceof Element}function Pc(e){var t=nd(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function U$(e){if(typeof ShadowRoot>"u")return!1;var t=nd(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function pFe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},a=t.elements[n];!Pc(a)||!eh(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function vFe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],a=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),s=o.reduce(function(l,u){return l[u]="",l},{});!Pc(i)||!eh(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}var tge={name:"applyStyles",enabled:!0,phase:"write",fn:pFe,effect:vFe,requires:["computeStyles"]};function jd(e){return e.split("-")[0]}var j0=Math.max,gM=Math.min,Rb=Math.round;function Ib(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Pc(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Rb(n.width)/o||1),a>0&&(i=Rb(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function V$(e){var t=Ib(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function nge(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&U$(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ep(e){return nd(e).getComputedStyle(e)}function gFe(e){return["table","td","th"].indexOf(eh(e))>=0}function Jg(e){return((Cb(e)?e.ownerDocument:e.document)||window.document).documentElement}function WD(e){return eh(e)==="html"?e:e.assignedSlot||e.parentNode||(U$(e)?e.host:null)||Jg(e)}function RK(e){return!Pc(e)||Ep(e).position==="fixed"?null:e.offsetParent}function mFe(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Pc(e)){var r=Ep(e);if(r.position==="fixed")return null}var i=WD(e);for(U$(i)&&(i=i.host);Pc(i)&&["html","body"].indexOf(eh(i))<0;){var a=Ep(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function qT(e){for(var t=nd(e),n=RK(e);n&&gFe(n)&&Ep(n).position==="static";)n=RK(n);return n&&(eh(n)==="html"||eh(n)==="body"&&Ep(n).position==="static")?t:n||mFe(e)||t}function z$(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function VE(e,t,n){return j0(e,gM(t,n))}function yFe(e,t,n){var r=VE(e,t,n);return r>n?n:r}function rge(){return{top:0,right:0,bottom:0,left:0}}function ige(e){return Object.assign({},rge(),e)}function age(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var _Fe=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,ige(typeof e!="number"?e:age(e,KT))};function bFe(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=jd(n.placement),l=z$(s),u=[gu,Fc].indexOf(s)>=0,c=u?"height":"width";if(!(!a||!o)){var f=_Fe(i.padding,n),d=V$(a),h=l==="y"?vu:gu,p=l==="y"?kc:Fc,v=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],g=o[l]-n.rects.reference[l],m=qT(a),b=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,_=v/2-g/2,x=f[h],E=b-d[c]-f[p],A=b/2-d[c]/2+_,T=VE(x,A,E),R=l;n.modifiersData[r]=(t={},t[R]=T,t.centerOffset=T-A,t)}}function xFe(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!nge(t.elements.popper,i)||(t.elements.arrow=i))}var SFe={name:"arrow",enabled:!0,phase:"main",fn:bFe,effect:xFe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mb(e){return e.split("-")[1]}var AFe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function EFe(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Rb(t*i)/i||0,y:Rb(n*i)/i||0}}function IK(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,f=e.isFixed,d=o.x,h=d===void 0?0:d,p=o.y,v=p===void 0?0:p,g=typeof c=="function"?c({x:h,y:v}):{x:h,y:v};h=g.x,v=g.y;var m=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),_=gu,x=vu,E=window;if(u){var A=qT(n),T="clientHeight",R="clientWidth";if(A===nd(n)&&(A=Jg(n),Ep(A).position!=="static"&&s==="absolute"&&(T="scrollHeight",R="scrollWidth")),A=A,i===vu||(i===gu||i===Fc)&&a===M2){x=kc;var M=f&&A===E&&E.visualViewport?E.visualViewport.height:A[T];v-=M-r.height,v*=l?1:-1}if(i===gu||(i===vu||i===kc)&&a===M2){_=Fc;var O=f&&A===E&&E.visualViewport?E.visualViewport.width:A[R];h-=O-r.width,h*=l?1:-1}}var D=Object.assign({position:s},u&&AFe),C=c===!0?EFe({x:h,y:v}):{x:h,y:v};if(h=C.x,v=C.y,l){var P;return Object.assign({},D,(P={},P[x]=b?"0":"",P[_]=m?"0":"",P.transform=(E.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",P))}return Object.assign({},D,(t={},t[x]=b?v+"px":"",t[_]=m?h+"px":"",t.transform="",t))}function TFe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,o=a===void 0?!0:a,s=n.roundOffsets,l=s===void 0?!0:s,u={placement:jd(t.placement),variation:Mb(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,IK(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,IK(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var oge={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:TFe,data:{}},rR={passive:!0};function wFe(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=i===void 0?!0:i,o=r.resize,s=o===void 0?!0:o,l=nd(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",n.update,rR)}),s&&l.addEventListener("resize",n.update,rR),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",n.update,rR)}),s&&l.removeEventListener("resize",n.update,rR)}}var sge={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wFe,data:{}},CFe={left:"right",right:"left",bottom:"top",top:"bottom"};function qI(e){return e.replace(/left|right|bottom|top/g,function(t){return CFe[t]})}var RFe={start:"end",end:"start"};function MK(e){return e.replace(/start|end/g,function(t){return RFe[t]})}function $$(e){var t=nd(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function H$(e){return Ib(Jg(e)).left+$$(e).scrollLeft}function IFe(e){var t=nd(e),n=Jg(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+H$(e),y:s}}function MFe(e){var t,n=Jg(e),r=$$(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=j0(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=j0(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+H$(e),l=-r.scrollTop;return Ep(i||n).direction==="rtl"&&(s+=j0(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function W$(e){var t=Ep(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function lge(e){return["html","body","#document"].indexOf(eh(e))>=0?e.ownerDocument.body:Pc(e)&&W$(e)?e:lge(WD(e))}function zE(e,t){var n;t===void 0&&(t=[]);var r=lge(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=nd(r),o=i?[a].concat(a.visualViewport||[],W$(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(zE(WD(o)))}function Z7(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function OFe(e){var t=Ib(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function OK(e,t){return t===ege?Z7(IFe(e)):Cb(t)?OFe(t):Z7(MFe(Jg(e)))}function DFe(e){var t=zE(WD(e)),n=["absolute","fixed"].indexOf(Ep(e).position)>=0,r=n&&Pc(e)?qT(e):e;return Cb(r)?t.filter(function(i){return Cb(i)&&nge(i,r)&&eh(i)!=="body"}):[]}function PFe(e,t,n){var r=t==="clippingParents"?DFe(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce(function(s,l){var u=OK(e,l);return s.top=j0(u.top,s.top),s.right=gM(u.right,s.right),s.bottom=gM(u.bottom,s.bottom),s.left=j0(u.left,s.left),s},OK(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function uge(e){var t=e.reference,n=e.element,r=e.placement,i=r?jd(r):null,a=r?Mb(r):null,o=t.x+t.width/2-n.width/2,s=t.y+t.height/2-n.height/2,l;switch(i){case vu:l={x:o,y:t.y-n.height};break;case kc:l={x:o,y:t.y+t.height};break;case Fc:l={x:t.x+t.width,y:s};break;case gu:l={x:t.x-n.width,y:s};break;default:l={x:t.x,y:t.y}}var u=i?z$(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case wb:l[u]=l[u]-(t[c]/2-n[c]/2);break;case M2:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function O2(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,a=n.boundary,o=a===void 0?nFe:a,s=n.rootBoundary,l=s===void 0?ege:s,u=n.elementContext,c=u===void 0?KS:u,f=n.altBoundary,d=f===void 0?!1:f,h=n.padding,p=h===void 0?0:h,v=ige(typeof p!="number"?p:age(p,KT)),g=c===KS?rFe:KS,m=e.rects.popper,b=e.elements[d?g:c],_=PFe(Cb(b)?b:b.contextElement||Jg(e.elements.popper),o,l),x=Ib(e.elements.reference),E=uge({reference:x,element:m,strategy:"absolute",placement:i}),A=Z7(Object.assign({},m,E)),T=c===KS?A:x,R={top:_.top-T.top+v.top,bottom:T.bottom-_.bottom+v.bottom,left:_.left-T.left+v.left,right:T.right-_.right+v.right},M=e.modifiersData.offset;if(c===KS&&M){var O=M[i];Object.keys(R).forEach(function(D){var C=[Fc,kc].indexOf(D)>=0?1:-1,P=[vu,kc].indexOf(D)>=0?"y":"x";R[D]+=O[P]*C})}return R}function LFe(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?$p:l,c=Mb(r),f=c?s?CK:CK.filter(function(p){return Mb(p)===c}):KT,d=f.filter(function(p){return u.indexOf(p)>=0});d.length===0&&(d=f);var h=d.reduce(function(p,v){return p[v]=O2(e,{placement:v,boundary:i,rootBoundary:a,padding:o})[jd(v)],p},{});return Object.keys(h).sort(function(p,v){return h[p]-h[v]})}function NFe(e){if(jd(e)===F$)return[];var t=qI(e);return[MK(e),t,MK(t)]}function BFe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,v=n.allowedAutoPlacements,g=t.options.placement,m=jd(g),b=m===g,_=l||(b||!p?[qI(g)]:NFe(g)),x=[g].concat(_).reduce(function(ue,he){return ue.concat(jd(he)===F$?LFe(t,{placement:he,boundary:c,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:v}):he)},[]),E=t.rects.reference,A=t.rects.popper,T=new Map,R=!0,M=x[0],O=0;O<x.length;O++){var D=x[O],C=jd(D),P=Mb(D)===wb,B=[vu,kc].indexOf(C)>=0,U=B?"width":"height",L=O2(t,{placement:D,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),F=B?P?Fc:gu:P?kc:vu;E[U]>A[U]&&(F=qI(F));var N=qI(F),V=[];if(a&&V.push(L[C]<=0),s&&V.push(L[F]<=0,L[N]<=0),V.every(function(ue){return ue})){M=D,R=!1;break}T.set(D,V)}if(R)for(var W=p?3:1,G=function(ue){var he=x.find(function(Ce){var ee=T.get(Ce);if(ee)return ee.slice(0,ue).every(function(de){return de})});if(he)return M=he,"break"},K=W;K>0;K--){var q=G(K);if(q==="break")break}t.placement!==M&&(t.modifiersData[r]._skip=!0,t.placement=M,t.reset=!0)}}var kFe={name:"flip",enabled:!0,phase:"main",fn:BFe,requiresIfExists:["offset"],data:{_skip:!1}};function DK(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function PK(e){return[vu,Fc,kc,gu].some(function(t){return e[t]>=0})}function FFe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=O2(t,{elementContext:"reference"}),s=O2(t,{altBoundary:!0}),l=DK(o,r),u=DK(s,i,a),c=PK(l),f=PK(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var UFe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:FFe};function VFe(e,t,n){var r=jd(e),i=[gu,vu].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[gu,Fc].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}function zFe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=i===void 0?[0,0]:i,o=$p.reduce(function(c,f){return c[f]=VFe(f,t.rects,a),c},{}),s=o[t.placement],l=s.x,u=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=o}var $Fe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zFe};function HFe(e){var t=e.state,n=e.name;t.modifiersData[n]=uge({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var cge={name:"popperOffsets",enabled:!0,phase:"read",fn:HFe,data:{}};function WFe(e){return e==="x"?"y":"x"}function GFe(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=i===void 0?!0:i,o=n.altAxis,s=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,v=p===void 0?0:p,g=O2(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),m=jd(t.placement),b=Mb(t.placement),_=!b,x=z$(m),E=WFe(x),A=t.modifiersData.popperOffsets,T=t.rects.reference,R=t.rects.popper,M=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,O=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(A){if(a){var P,B=x==="y"?vu:gu,U=x==="y"?kc:Fc,L=x==="y"?"height":"width",F=A[x],N=F+g[B],V=F-g[U],W=h?-R[L]/2:0,G=b===wb?T[L]:R[L],K=b===wb?-R[L]:-T[L],q=t.elements.arrow,ue=h&&q?V$(q):{width:0,height:0},he=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rge(),Ce=he[B],ee=he[U],de=VE(0,T[L],ue[L]),oe=_?T[L]/2-W-de-Ce-O.mainAxis:G-de-Ce-O.mainAxis,pe=_?-T[L]/2+W+de+ee+O.mainAxis:K+de+ee+O.mainAxis,me=t.elements.arrow&&qT(t.elements.arrow),re=me?x==="y"?me.clientTop||0:me.clientLeft||0:0,ne=(P=D==null?void 0:D[x])!=null?P:0,se=F+oe-ne-re,be=F+pe-ne,Pe=VE(h?gM(N,se):N,F,h?j0(V,be):V);A[x]=Pe,C[x]=Pe-F}if(s){var Ee,Le=x==="x"?vu:gu,He=x==="x"?kc:Fc,rt=A[E],Je=E==="y"?"height":"width",ot=rt+g[Le],ae=rt-g[He],Xe=[vu,gu].indexOf(m)!==-1,Tt=(Ee=D==null?void 0:D[E])!=null?Ee:0,sn=Xe?ot:rt-T[Je]-R[Je]-Tt+O.altAxis,Mn=Xe?rt+T[Je]+R[Je]-Tt-O.altAxis:ae,Sn=h&&Xe?yFe(sn,rt,Mn):VE(h?sn:ot,rt,h?Mn:ae);A[E]=Sn,C[E]=Sn-rt}t.modifiersData[r]=C}}var jFe={name:"preventOverflow",enabled:!0,phase:"main",fn:GFe,requiresIfExists:["offset"]};function YFe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function XFe(e){return e===nd(e)||!Pc(e)?$$(e):YFe(e)}function KFe(e){var t=e.getBoundingClientRect(),n=Rb(t.width)/e.offsetWidth||1,r=Rb(t.height)/e.offsetHeight||1;return n!==1||r!==1}function qFe(e,t,n){n===void 0&&(n=!1);var r=Pc(t),i=Pc(t)&&KFe(t),a=Jg(t),o=Ib(e,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((eh(t)!=="body"||W$(a))&&(s=XFe(t)),Pc(t)?(l=Ib(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=H$(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function ZFe(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function i(a){n.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!n.has(s)){var l=t.get(s);l&&i(l)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||i(a)}),r}function QFe(e){var t=ZFe(e);return hFe.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function JFe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function e8e(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var LK={placement:"bottom",modifiers:[],strategy:"absolute"};function NK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function G$(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,a=i===void 0?LK:i;return function(o,s,l){l===void 0&&(l=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},LK,a),modifiersData:{},elements:{reference:o,popper:s},attributes:{},styles:{}},c=[],f=!1,d={state:u,setOptions:function(v){var g=typeof v=="function"?v(u.options):v;p(),u.options=Object.assign({},a,u.options,g),u.scrollParents={reference:Cb(o)?zE(o):o.contextElement?zE(o.contextElement):[],popper:zE(s)};var m=QFe(e8e([].concat(r,u.options.modifiers)));return u.orderedModifiers=m.filter(function(b){return b.enabled}),h(),d.update()},forceUpdate:function(){if(!f){var v=u.elements,g=v.reference,m=v.popper;if(NK(g,m)){u.rects={reference:qFe(g,qT(m),u.options.strategy==="fixed"),popper:V$(m)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(R){return u.modifiersData[R.name]=Object.assign({},R.data)});for(var b=0;b<u.orderedModifiers.length;b++){if(u.reset===!0){u.reset=!1,b=-1;continue}var _=u.orderedModifiers[b],x=_.fn,E=_.options,A=E===void 0?{}:E,T=_.name;typeof x=="function"&&(u=x({state:u,options:A,name:T,instance:d})||u)}}}},update:JFe(function(){return new Promise(function(v){d.forceUpdate(),v(u)})}),destroy:function(){p(),f=!0}};if(!NK(o,s))return d;d.setOptions(l).then(function(v){!f&&l.onFirstUpdate&&l.onFirstUpdate(v)});function h(){u.orderedModifiers.forEach(function(v){var g=v.name,m=v.options,b=m===void 0?{}:m,_=v.effect;if(typeof _=="function"){var x=_({state:u,name:g,instance:d,options:b}),E=function(){};c.push(x||E)}})}function p(){c.forEach(function(v){return v()}),c=[]}return d}}G$();var t8e=[sge,cge,oge,tge];G$({defaultModifiers:t8e});var n8e=[sge,cge,oge,tge,$Fe,kFe,jFe,SFe,UFe],r8e=G$({defaultModifiers:n8e});const i8e=["fixed","absolute"],a8e=gt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ie(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:$p,default:"bottom"},popperOptions:{type:Ie(Object),default:()=>({})},strategy:{type:String,values:i8e,default:"absolute"}}),fge=gt({...a8e,id:String,style:{type:Ie([String,Array,Object])},className:{type:Ie([String,Array,Object])},effect:{type:Ie(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ie([String,Array,Object])},popperStyle:{type:Ie([String,Array,Object])},referenceEl:{type:Ie(Object)},triggerTargetEl:{type:Ie(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...gs(["ariaLabel"])}),o8e={mouseenter:e=>e instanceof MouseEvent,mouseleave:e=>e instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},s8e=(e,t)=>{const n=Y(!1),r=Y();return{focusStartRef:r,trapped:n,onFocusAfterReleased:u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(r.value="first",t("blur"))},onFocusAfterTrapped:()=>{t("focus")},onFocusInTrap:u=>{e.visible&&!n.value&&(u.target&&(r.value=u.target),n.value=!0)},onFocusoutPrevented:u=>{e.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,t("close")}}},l8e=(e,t=[])=>{const{placement:n,strategy:r,popperOptions:i}=e,a={placement:n,strategy:r,...i,modifiers:[...c8e(e),...t]};return f8e(a,i==null?void 0:i.modifiers),a},u8e=e=>{if(Pr)return El(e)};function c8e(e){const{offset:t,gpuAcceleration:n,fallbackPlacements:r}=e;return[{name:"offset",options:{offset:[0,t??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function f8e(e,t){t&&(e.modifiers=[...e.modifiers,...t??[]])}const d8e=(e,t,n={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=h8e(l);Object.assign(o.value,u)},requires:["computeStyles"]},i=$(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:f}=y(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...f||[],r,{name:"applyStyles",enabled:!1}]}}),a=Ni(),o=Y({styles:{popper:{position:y(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return tt(i,l=>{const u=y(a);u&&u.setOptions(l)},{deep:!0}),tt([e,t],([l,u])=>{s(),!(!l||!u)&&(a.value=r8e(l,u,y(i)))}),Oi(()=>{s()}),{state:$(()=>{var l;return{...((l=y(a))==null?void 0:l.state)||{}}}),styles:$(()=>y(o).styles),attributes:$(()=>y(o).attributes),update:()=>{var l;return(l=y(a))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=y(a))==null?void 0:l.forceUpdate()},instanceRef:$(()=>y(a))}};function h8e(e){const t=Object.keys(e.elements),n=I2(t.map(i=>[i,e.styles[i]||{}])),r=I2(t.map(i=>[i,e.attributes[i]]));return{styles:n,attributes:r}}const p8e=0,v8e=e=>{const{popperInstanceRef:t,contentRef:n,triggerRef:r,role:i}=$t(L$,void 0),a=Y(),o=Y(),s=$(()=>({name:"eventListeners",enabled:!!e.visible})),l=$(()=>{var m;const b=y(a),_=(m=y(o))!=null?m:p8e;return{name:"arrow",enabled:!vve(b),options:{element:b,padding:_}}}),u=$(()=>({onFirstUpdate:()=>{p()},...l8e(e,[y(l),y(s)])})),c=$(()=>u8e(e.referenceEl)||y(r)),{attributes:f,state:d,styles:h,update:p,forceUpdate:v,instanceRef:g}=d8e(c,n,u);return tt(g,m=>t.value=m),Tn(()=>{tt(()=>{var m;return(m=y(c))==null?void 0:m.getBoundingClientRect()},()=>{p()})}),{attributes:f,arrowRef:a,contentRef:n,instanceRef:g,state:d,styles:h,role:i,forceUpdate:v,update:p}},g8e=(e,{attributes:t,styles:n,role:r})=>{const{nextZIndex:i}=yx(),a=at("popper"),o=$(()=>y(t).popper),s=Y(gn(e.zIndex)?e.zIndex:i()),l=$(()=>[a.b(),a.is("pure",e.pure),a.is(e.effect),e.popperClass]),u=$(()=>[{zIndex:y(s)},y(n).popper,e.popperStyle||{}]),c=$(()=>r.value==="dialog"?"false":void 0),f=$(()=>y(n).arrow||{});return{ariaModal:c,arrowStyle:f,contentAttrs:o,contentClass:l,contentStyle:u,contentZIndex:s,updateZIndex:()=>{s.value=gn(e.zIndex)?e.zIndex:i()}}},m8e=le({name:"ElPopperContent"}),y8e=le({...m8e,props:fge,emits:o8e,setup(e,{expose:t,emit:n}){const r=e,{focusStartRef:i,trapped:a,onFocusAfterReleased:o,onFocusAfterTrapped:s,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:c}=s8e(r,n),{attributes:f,arrowRef:d,contentRef:h,styles:p,instanceRef:v,role:g,update:m}=v8e(r),{ariaModal:b,arrowStyle:_,contentAttrs:x,contentClass:E,contentStyle:A,updateZIndex:T}=g8e(r,{styles:p,attributes:f,role:g}),R=$t(Jd,void 0),M=Y();mr(Wve,{arrowStyle:_,arrowRef:d,arrowOffset:M}),R&&mr(Jd,{...R,addInputId:gi,removeInputId:gi});let O;const D=(P=!0)=>{m(),P&&T()},C=()=>{D(!1),r.visible&&r.focusOnShow?a.value=!0:r.visible===!1&&(a.value=!1)};return Tn(()=>{tt(()=>r.triggerTargetEl,(P,B)=>{O==null||O(),O=void 0;const U=y(P||h.value),L=y(B||h.value);Vu(U)&&(O=tt([g,()=>r.ariaLabel,b,()=>r.id],F=>{["role","aria-label","aria-modal","id"].forEach((N,V)=>{zo(F[V])?U.removeAttribute(N):U.setAttribute(N,F[V])})},{immediate:!0})),L!==U&&Vu(L)&&["role","aria-label","aria-modal","id"].forEach(F=>{L.removeAttribute(F)})},{immediate:!0}),tt(()=>r.visible,C,{immediate:!0})}),Oi(()=>{O==null||O(),O=void 0}),t({popperContentRef:h,popperInstanceRef:v,updatePopper:D,contentStyle:A}),(P,B)=>(H(),Q("div",dr({ref_key:"contentRef",ref:h},y(x),{style:y(A),class:y(E),tabindex:"-1",onMouseenter:U=>P.$emit("mouseenter",U),onMouseleave:U=>P.$emit("mouseleave",U)}),[z(y(bx),{trapped:y(a),"trap-on-focus-in":!0,"focus-trap-el":y(h),"focus-start-el":y(i),onFocusAfterTrapped:y(s),onFocusAfterReleased:y(o),onFocusin:y(l),onFocusoutPrevented:y(u),onReleaseRequested:y(c)},{default:J(()=>[De(P.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var _8e=_t(y8e,[["__file","content.vue"]]);const dge=Un(D5e),GD=Symbol("elTooltip");function BK(){let e;const t=(r,i)=>{n(),e=window.setTimeout(r,i)},n=()=>window.clearTimeout(e);return GT(()=>n()),{registerTimeout:t,cancelTimeout:n}}const b8e=gt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),x8e=({showAfter:e,hideAfter:t,autoClose:n,open:r,close:i})=>{const{registerTimeout:a}=BK(),{registerTimeout:o,cancelTimeout:s}=BK();return{onOpen:c=>{a(()=>{r(c);const f=y(n);gn(f)&&f>0&&o(()=>{i(c)},f)},y(e))},onClose:c=>{s(),a(()=>{i(c)},y(t))}}},jo=gt({...b8e,...fge,appendTo:{type:Ie([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Ie(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...gs(["ariaLabel"])}),D2=gt({...Yve,disabled:Boolean,trigger:{type:Ie([String,Array]),default:"hover"},triggerKeys:{type:Ie(Array),default:()=>[kt.enter,kt.numpadEnter,kt.space]}}),S8e=td({type:Ie(Boolean),default:null}),A8e=td({type:Ie(Function)}),E8e=e=>{const t=`update:${e}`,n=`onUpdate:${e}`,r=[t],i={[e]:S8e,[n]:A8e};return{useModelToggle:({indicator:o,toggleReason:s,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:f})=>{const d=or(),{emit:h}=d,p=d.props,v=$(()=>on(p[n])),g=$(()=>p[e]===null),m=T=>{o.value!==!0&&(o.value=!0,s&&(s.value=T),on(c)&&c(T))},b=T=>{o.value!==!1&&(o.value=!1,s&&(s.value=T),on(f)&&f(T))},_=T=>{if(p.disabled===!0||on(u)&&!u())return;const R=v.value&&Pr;R&&h(t,!0),(g.value||!R)&&m(T)},x=T=>{if(p.disabled===!0||!Pr)return;const R=v.value&&Pr;R&&h(t,!1),(g.value||!R)&&b(T)},E=T=>{Bi(T)&&(p.disabled&&T?v.value&&h(t,!1):o.value!==T&&(T?m():b()))},A=()=>{o.value?x():_()};return tt(()=>p[e],E),l&&d.appContext.config.globalProperties.$route!==void 0&&tt(()=>({...d.proxy.$route}),()=>{l.value&&o.value&&x()}),Tn(()=>{E(p[e])}),{hide:x,show:_,toggle:A,hasUpdateHandler:v}},useModelToggleProps:i,useModelToggleEmits:r}},{useModelToggleProps:T8e,useModelToggleEmits:w8e,useModelToggle:C8e}=E8e("visible"),R8e=gt({...Gve,...T8e,...jo,...D2,...jve,showArrow:{type:Boolean,default:!0}}),I8e=[...w8e,"before-show","before-hide","show","hide","open","close"],M8e=(e,t)=>pt(e)?e.includes(t):e===t,V_=(e,t,n)=>r=>{M8e(y(e),t)&&n(r)},La=(e,t,{checkForDefaultPrevented:n=!0}={})=>i=>{const a=e==null?void 0:e(i);if(n===!1||!a)return t==null?void 0:t(i)},kK=e=>t=>t.pointerType==="mouse"?e(t):void 0,O8e=le({name:"ElTooltipTrigger"}),D8e=le({...O8e,props:D2,setup(e,{expose:t}){const n=e,r=at("tooltip"),{controlled:i,id:a,open:o,onOpen:s,onClose:l,onToggle:u}=$t(GD,void 0),c=Y(null),f=()=>{if(y(i)||n.disabled)return!0},d=hi(n,"trigger"),h=La(f,V_(d,"hover",s)),p=La(f,V_(d,"hover",l)),v=La(f,V_(d,"click",x=>{x.button===0&&u(x)})),g=La(f,V_(d,"focus",s)),m=La(f,V_(d,"focus",l)),b=La(f,V_(d,"contextmenu",x=>{x.preventDefault(),u(x)})),_=La(f,x=>{const{code:E}=x;n.triggerKeys.includes(E)&&(x.preventDefault(),u(x))});return t({triggerRef:c}),(x,E)=>(H(),Ue(y(H5e),{id:y(a),"virtual-ref":x.virtualRef,open:y(o),"virtual-triggering":x.virtualTriggering,class:j(y(r).e("trigger")),onBlur:y(m),onClick:y(v),onContextmenu:y(b),onFocus:y(g),onMouseenter:y(h),onMouseleave:y(p),onKeydown:y(_)},{default:J(()=>[De(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var P8e=_t(D8e,[["__file","trigger.vue"]]);const L8e=gt({to:{type:Ie([String,Object]),required:!0},disabled:Boolean}),N8e=le({__name:"teleport",props:L8e,setup(e){return(t,n)=>t.disabled?De(t.$slots,"default",{key:0}):(H(),Ue(DMe,{key:1,to:t.to},[De(t.$slots,"default")],8,["to"]))}});var B8e=_t(N8e,[["__file","teleport.vue"]]);const xx=Un(B8e),hge=()=>{const e=i$(),t=D$(),n=$(()=>`${e.value}-popper-container-${t.prefix}`),r=$(()=>`#${n.value}`);return{id:n,selector:r}},k8e=e=>{const t=document.createElement("div");return t.id=e,document.body.appendChild(t),t},F8e=()=>{const{id:e,selector:t}=hge();return ED(()=>{Pr&&(document.body.querySelector(t.value)||k8e(e.value))}),{id:e,selector:t}},U8e=le({name:"ElTooltipContent",inheritAttrs:!1}),V8e=le({...U8e,props:jo,setup(e,{expose:t}){const n=e,{selector:r}=hge(),i=at("tooltip"),a=Y();let o;const{controlled:s,id:l,open:u,trigger:c,onClose:f,onOpen:d,onShow:h,onHide:p,onBeforeShow:v,onBeforeHide:g}=$t(GD,void 0),m=$(()=>n.transition||`${i.namespace.value}-fade-in-linear`),b=$(()=>n.persistent);Oi(()=>{o==null||o()});const _=$(()=>y(b)?!0:y(u)),x=$(()=>n.disabled?!1:y(u)),E=$(()=>n.appendTo||r.value),A=$(()=>{var L;return(L=n.style)!=null?L:{}}),T=Y(!0),R=()=>{p(),T.value=!0},M=()=>{if(y(s))return!0},O=La(M,()=>{n.enterable&&y(c)==="hover"&&d()}),D=La(M,()=>{y(c)==="hover"&&f()}),C=()=>{var L,F;(F=(L=a.value)==null?void 0:L.updatePopper)==null||F.call(L),v==null||v()},P=()=>{g==null||g()},B=()=>{h(),o=x$($(()=>{var L;return(L=a.value)==null?void 0:L.popperContentRef}),()=>{if(y(s))return;y(c)!=="hover"&&f()})},U=()=>{n.virtualTriggering||f()};return tt(()=>y(u),L=>{L?T.value=!1:o==null||o()},{flush:"post"}),tt(()=>n.content,()=>{var L,F;(F=(L=a.value)==null?void 0:L.updatePopper)==null||F.call(L)}),t({contentRef:a}),(L,F)=>(H(),Ue(y(xx),{disabled:!L.teleported,to:y(E)},{default:J(()=>[z(ns,{name:y(m),onAfterLeave:R,onBeforeEnter:C,onAfterEnter:B,onBeforeLeave:P},{default:J(()=>[y(_)?Wn((H(),Ue(y(_8e),dr({key:0,id:y(l),ref_key:"contentRef",ref:a},L.$attrs,{"aria-label":L.ariaLabel,"aria-hidden":T.value,"boundaries-padding":L.boundariesPadding,"fallback-placements":L.fallbackPlacements,"gpu-acceleration":L.gpuAcceleration,offset:L.offset,placement:L.placement,"popper-options":L.popperOptions,strategy:L.strategy,effect:L.effect,enterable:L.enterable,pure:L.pure,"popper-class":L.popperClass,"popper-style":[L.popperStyle,y(A)],"reference-el":L.referenceEl,"trigger-target-el":L.triggerTargetEl,visible:y(x),"z-index":L.zIndex,onMouseenter:y(O),onMouseleave:y(D),onBlur:U,onClose:y(f)}),{default:J(()=>[De(L.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Xr,y(x)]]):Be("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var z8e=_t(V8e,[["__file","content.vue"]]);const $8e=le({name:"ElTooltip"}),H8e=le({...$8e,props:R8e,emits:I8e,setup(e,{expose:t,emit:n}){const r=e;F8e();const i=vs(),a=Y(),o=Y(),s=()=>{var m;const b=y(a);b&&((m=b.popperInstanceRef)==null||m.update())},l=Y(!1),u=Y(),{show:c,hide:f,hasUpdateHandler:d}=C8e({indicator:l,toggleReason:u}),{onOpen:h,onClose:p}=x8e({showAfter:hi(r,"showAfter"),hideAfter:hi(r,"hideAfter"),autoClose:hi(r,"autoClose"),open:c,close:f}),v=$(()=>Bi(r.visible)&&!d.value);mr(GD,{controlled:v,id:i,open:dx(l),trigger:hi(r,"trigger"),onOpen:m=>{h(m)},onClose:m=>{p(m)},onToggle:m=>{y(l)?p(m):h(m)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:s}),tt(()=>r.disabled,m=>{m&&l.value&&(l.value=!1)});const g=m=>{var b,_;const x=(_=(b=o.value)==null?void 0:b.contentRef)==null?void 0:_.popperContentRef,E=(m==null?void 0:m.relatedTarget)||document.activeElement;return x&&x.contains(E)};return Hhe(()=>l.value&&f()),t({popperRef:a,contentRef:o,isFocusInsideContent:g,updatePopper:s,onOpen:h,onClose:p,hide:f}),(m,b)=>(H(),Ue(y(dge),{ref_key:"popperRef",ref:a,role:m.role},{default:J(()=>[z(P8e,{disabled:m.disabled,trigger:m.trigger,"trigger-keys":m.triggerKeys,"virtual-ref":m.virtualRef,"virtual-triggering":m.virtualTriggering},{default:J(()=>[m.$slots.default?De(m.$slots,"default",{key:0}):Be("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),z(z8e,{ref_key:"contentRef",ref:o,"aria-label":m.ariaLabel,"boundaries-padding":m.boundariesPadding,content:m.content,disabled:m.disabled,effect:m.effect,enterable:m.enterable,"fallback-placements":m.fallbackPlacements,"hide-after":m.hideAfter,"gpu-acceleration":m.gpuAcceleration,offset:m.offset,persistent:m.persistent,"popper-class":m.popperClass,"popper-style":m.popperStyle,placement:m.placement,"popper-options":m.popperOptions,pure:m.pure,"raw-content":m.rawContent,"reference-el":m.referenceEl,"trigger-target-el":m.triggerTargetEl,"show-after":m.showAfter,strategy:m.strategy,teleported:m.teleported,transition:m.transition,"virtual-triggering":m.virtualTriggering,"z-index":m.zIndex,"append-to":m.appendTo},{default:J(()=>[De(m.$slots,"content",{},()=>[m.rawContent?(H(),Q("span",{key:0,innerHTML:m.content},null,8,["innerHTML"])):(H(),Q("span",{key:1},nt(m.content),1))]),m.showArrow?(H(),Ue(y(N5e),{key:0,"arrow-offset":m.arrowOffset},null,8,["arrow-offset"])):Be("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var W8e=_t(H8e,[["__file","tooltip.vue"]]);const Ps=Un(W8e),G8e=gt({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Ie(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Ie([Function,Array]),default:gi},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:jo.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...gs(["ariaLabel"])}),j8e={[Yn]:e=>an(e),[Ms]:e=>an(e),[wi]:e=>an(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>nr(e)},pge="ElAutocomplete",Y8e=le({name:pge,inheritAttrs:!1}),X8e=le({...Y8e,props:G8e,emits:j8e,setup(e,{expose:t,emit:n}){const r=e,i=YT(),a=qg(),o=ks(),s=at("autocomplete"),l=Y(),u=Y(),c=Y(),f=Y();let d=!1,h=!1;const p=Y([]),v=Y(-1),g=Y(""),m=Y(!1),b=Y(!1),_=Y(!1),x=vs(),E=$(()=>a.style),A=$(()=>(p.value.length>0||_.value)&&m.value),T=$(()=>!r.hideLoading&&_.value),R=$(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),M=()=>{A.value&&(g.value=`${l.value.$el.offsetWidth}px`)},O=()=>{v.value=-1},D=async ee=>{if(b.value)return;const de=oe=>{_.value=!1,!b.value&&(pt(oe)?(p.value=oe,v.value=r.highlightFirstItem?0:-1):Ro(pge,"autocomplete suggestions must be an array"))};if(_.value=!0,pt(r.fetchSuggestions))de(r.fetchSuggestions);else{const oe=await r.fetchSuggestions(ee,de);pt(oe)&&de(oe)}},C=yu(D,r.debounce),P=ee=>{const de=!!ee;if(n(Ms,ee),n(Yn,ee),b.value=!1,m.value||(m.value=de),!r.triggerOnFocus&&!ee){b.value=!0,p.value=[];return}C(ee)},B=ee=>{var de;o.value||(((de=ee.target)==null?void 0:de.tagName)!=="INPUT"||R.value.includes(document.activeElement))&&(m.value=!0)},U=ee=>{n(wi,ee)},L=ee=>{h?h=!1:(m.value=!0,n("focus",ee),r.triggerOnFocus&&!d&&C(String(r.modelValue)))},F=ee=>{setTimeout(()=>{var de;if((de=c.value)!=null&&de.isFocusInsideContent()){h=!0;return}m.value&&G(),n("blur",ee)})},N=()=>{m.value=!1,n(Yn,""),n("clear")},V=async()=>{A.value&&v.value>=0&&v.value<p.value.length?ue(p.value[v.value]):r.selectWhenUnmatched&&(n("select",{value:r.modelValue}),p.value=[],v.value=-1)},W=ee=>{A.value&&(ee.preventDefault(),ee.stopPropagation(),G())},G=()=>{m.value=!1},K=()=>{var ee;(ee=l.value)==null||ee.focus()},q=()=>{var ee;(ee=l.value)==null||ee.blur()},ue=async ee=>{n(Ms,ee[r.valueKey]),n(Yn,ee[r.valueKey]),n("select",ee),p.value=[],v.value=-1},he=ee=>{if(!A.value||_.value)return;if(ee<0){v.value=-1;return}ee>=p.value.length&&(ee=p.value.length-1);const de=u.value.querySelector(`.${s.be("suggestion","wrap")}`),pe=de.querySelectorAll(`.${s.be("suggestion","list")} li`)[ee],me=de.scrollTop,{offsetTop:re,scrollHeight:ne}=pe;re+ne>me+de.clientHeight&&(de.scrollTop+=ne),re<me&&(de.scrollTop-=ne),v.value=ee,l.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${v.value}`)},Ce=x$(f,()=>{A.value&&G()});return Oi(()=>{Ce==null||Ce()}),Tn(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${x.value}-item-${v.value}`),d=l.value.ref.hasAttribute("readonly")}),t({highlightedIndex:v,activated:m,loading:_,inputRef:l,popperRef:c,suggestions:p,handleSelect:ue,handleKeyEnter:V,focus:K,blur:q,close:G,highlight:he,getData:D}),(ee,de)=>(H(),Ue(y(Ps),{ref_key:"popperRef",ref:c,visible:y(A),placement:ee.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[y(s).e("popper"),ee.popperClass],teleported:ee.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${y(s).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:M,onHide:O},{content:J(()=>[I("div",{ref_key:"regionRef",ref:u,class:j([y(s).b("suggestion"),y(s).is("loading",y(T))]),style:en({[ee.fitInputWidth?"width":"minWidth"]:g.value,outline:"none"}),role:"region"},[z(y(ch),{id:y(x),tag:"ul","wrap-class":y(s).be("suggestion","wrap"),"view-class":y(s).be("suggestion","list"),role:"listbox"},{default:J(()=>[y(T)?(H(),Q("li",{key:0},[De(ee.$slots,"loading",{},()=>[z(y(Xt),{class:j(y(s).is("loading"))},{default:J(()=>[z(y(Qd))]),_:1},8,["class"])])])):(H(!0),Q(St,{key:1},Nn(p.value,(oe,pe)=>(H(),Q("li",{id:`${y(x)}-item-${pe}`,key:pe,class:j({highlighted:v.value===pe}),role:"option","aria-selected":v.value===pe,onClick:me=>ue(oe)},[De(ee.$slots,"default",{item:oe},()=>[$n(nt(oe[ee.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:J(()=>[I("div",{ref_key:"listboxRef",ref:f,class:j([y(s).b(),ee.$attrs.class]),style:en(y(E)),role:"combobox","aria-haspopup":"listbox","aria-expanded":y(A),"aria-owns":y(x)},[z(y(da),dr({ref_key:"inputRef",ref:l},y(i),{clearable:ee.clearable,disabled:y(o),name:ee.name,"model-value":ee.modelValue,"aria-label":ee.ariaLabel,onInput:P,onChange:U,onFocus:L,onBlur:F,onClear:N,onKeydown:[Mi(xn(oe=>he(v.value-1),["prevent"]),["up"]),Mi(xn(oe=>he(v.value+1),["prevent"]),["down"]),Mi(V,["enter"]),Mi(G,["tab"]),Mi(W,["esc"])],onMousedown:B}),Nc({_:2},[ee.$slots.prepend?{name:"prepend",fn:J(()=>[De(ee.$slots,"prepend")])}:void 0,ee.$slots.append?{name:"append",fn:J(()=>[De(ee.$slots,"append")])}:void 0,ee.$slots.prefix?{name:"prefix",fn:J(()=>[De(ee.$slots,"prefix")])}:void 0,ee.$slots.suffix?{name:"suffix",fn:J(()=>[De(ee.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var K8e=_t(X8e,[["__file","autocomplete.vue"]]);const q8e=Un(K8e),Z8e=gt({size:{type:[Number,String],values:uh,default:"",validator:e=>gn(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Ci},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Ie(String),default:"cover"}}),Q8e={error:e=>e instanceof Event},J8e=le({name:"ElAvatar"}),e7e=le({...J8e,props:Z8e,emits:Q8e,setup(e,{emit:t}){const n=e,r=at("avatar"),i=Y(!1),a=$(()=>{const{size:u,icon:c,shape:f}=n,d=[r.b()];return an(u)&&d.push(r.m(u)),c&&d.push(r.m("icon")),f&&d.push(r.m(f)),d}),o=$(()=>{const{size:u}=n;return gn(u)?r.cssVarBlock({size:Na(u)||""}):void 0}),s=$(()=>({objectFit:n.fit}));tt(()=>n.src,()=>i.value=!1);function l(u){i.value=!0,t("error",u)}return(u,c)=>(H(),Q("span",{class:j(y(a)),style:en(y(o))},[(u.src||u.srcSet)&&!i.value?(H(),Q("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:en(y(s)),onError:l},null,44,["src","alt","srcset"])):u.icon?(H(),Ue(y(Xt),{key:1},{default:J(()=>[(H(),Ue(cr(u.icon)))]),_:1})):De(u.$slots,"default",{key:2})],6))}});var t7e=_t(e7e,[["__file","avatar.vue"]]);const n7e=Un(t7e),r7e={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},i7e={click:e=>e instanceof MouseEvent},a7e=(e,t,n)=>{const r=Ni(),i=Ni(),a=Y(!1),o=()=>{r.value&&(a.value=r.value.scrollTop>=e.visibilityHeight)},s=u=>{var c;(c=r.value)==null||c.scrollTo({top:0,behavior:"smooth"}),t("click",u)},l=_ve(o,300,!0);return xi(i,"scroll",l),Tn(()=>{var u;i.value=document,r.value=document.documentElement,e.target&&(r.value=(u=document.querySelector(e.target))!=null?u:void 0,r.value||Ro(n,`target does not exist: ${e.target}`),i.value=r.value),o()}),{visible:a,handleClick:s}},vge="ElBacktop",o7e=le({name:vge}),s7e=le({...o7e,props:r7e,emits:i7e,setup(e,{emit:t}){const n=e,r=at("backtop"),{handleClick:i,visible:a}=a7e(n,t,vge),o=$(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(s,l)=>(H(),Ue(ns,{name:`${y(r).namespace.value}-fade-in`},{default:J(()=>[y(a)?(H(),Q("div",{key:0,style:en(y(o)),class:j(y(r).b()),onClick:xn(y(i),["stop"])},[De(s.$slots,"default",{},()=>[z(y(Xt),{class:j(y(r).e("icon"))},{default:J(()=>[z(y(Z6e))]),_:1},8,["class"])])],14,["onClick"])):Be("v-if",!0)]),_:3},8,["name"]))}});var l7e=_t(s7e,[["__file","backtop.vue"]]);const u7e=Un(l7e),c7e=gt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Ie([String,Object,Array])},offset:{type:Ie(Array),default:[0,0]},badgeClass:{type:String}}),f7e=le({name:"ElBadge"}),d7e=le({...f7e,props:c7e,setup(e,{expose:t}){const n=e,r=at("badge"),i=$(()=>n.isDot?"":gn(n.value)&&gn(n.max)?n.max<n.value?`${n.max}+`:`${n.value}`:`${n.value}`),a=$(()=>{var o,s,l,u,c;return[{backgroundColor:n.color,marginRight:Na(-((s=(o=n.offset)==null?void 0:o[0])!=null?s:0)),marginTop:Na((u=(l=n.offset)==null?void 0:l[1])!=null?u:0)},(c=n.badgeStyle)!=null?c:{}]});return t({content:i}),(o,s)=>(H(),Q("div",{class:j(y(r).b())},[De(o.$slots,"default"),z(ns,{name:`${y(r).namespace.value}-zoom-in-center`,persisted:""},{default:J(()=>[Wn(I("sup",{class:j([y(r).e("content"),y(r).em("content",o.type),y(r).is("fixed",!!o.$slots.default),y(r).is("dot",o.isDot),y(r).is("hide-zero",!o.showZero&&n.value===0),o.badgeClass]),style:en(y(a)),textContent:nt(y(i))},null,14,["textContent"]),[[Xr,!o.hidden&&(y(i)||o.isDot)]])]),_:1},8,["name"])],2))}});var h7e=_t(d7e,[["__file","badge.vue"]]);const gge=Un(h7e),mge=Symbol("breadcrumbKey"),p7e=gt({separator:{type:String,default:"/"},separatorIcon:{type:Ci}}),v7e=le({name:"ElBreadcrumb"}),g7e=le({...v7e,props:p7e,setup(e){const t=e,{t:n}=Lr(),r=at("breadcrumb"),i=Y();return mr(mge,t),Tn(()=>{const a=i.value.querySelectorAll(`.${r.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,o)=>(H(),Q("div",{ref_key:"breadcrumb",ref:i,class:j(y(r).b()),"aria-label":y(n)("el.breadcrumb.label"),role:"navigation"},[De(a.$slots,"default")],10,["aria-label"]))}});var m7e=_t(g7e,[["__file","breadcrumb.vue"]]);const y7e=gt({to:{type:Ie([String,Object]),default:""},replace:Boolean}),_7e=le({name:"ElBreadcrumbItem"}),b7e=le({..._7e,props:y7e,setup(e){const t=e,n=or(),r=$t(mge,void 0),i=at("breadcrumb"),a=n.appContext.config.globalProperties.$router,o=Y(),s=()=>{!t.to||!a||(t.replace?a.replace(t.to):a.push(t.to))};return(l,u)=>{var c,f;return H(),Q("span",{class:j(y(i).e("item"))},[I("span",{ref_key:"link",ref:o,class:j([y(i).e("inner"),y(i).is("link",!!l.to)]),role:"link",onClick:s},[De(l.$slots,"default")],2),(c=y(r))!=null&&c.separatorIcon?(H(),Ue(y(Xt),{key:0,class:j(y(i).e("separator"))},{default:J(()=>[(H(),Ue(cr(y(r).separatorIcon)))]),_:1},8,["class"])):(H(),Q("span",{key:1,class:j(y(i).e("separator")),role:"presentation"},nt((f=y(r))==null?void 0:f.separator),3))],2)}}});var yge=_t(b7e,[["__file","breadcrumb-item.vue"]]);const x7e=Un(m7e,{BreadcrumbItem:yge}),S7e=Aa(yge),_ge=Symbol("buttonGroupContextKey"),yg=({from:e,replacement:t,scope:n,version:r,ref:i,type:a="API"},o)=>{tt(()=>y(o),s=>{},{immediate:!0})},A7e=(e,t)=>{yg({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},$(()=>e.type==="text"));const n=$t(_ge,void 0),r=FD("button"),{form:i}=Bs(),a=oo($(()=>n==null?void 0:n.size)),o=ks(),s=Y(),l=_o(),u=$(()=>e.type||(n==null?void 0:n.type)||""),c=$(()=>{var p,v,g;return(g=(v=e.autoInsertSpace)!=null?v:(p=r.value)==null?void 0:p.autoInsertSpace)!=null?g:!1}),f=$(()=>e.tag==="button"?{ariaDisabled:o.value||e.loading,disabled:o.value||e.loading,autofocus:e.autofocus,type:e.nativeType}:{}),d=$(()=>{var p;const v=(p=l.default)==null?void 0:p.call(l);if(c.value&&(v==null?void 0:v.length)===1){const g=v[0];if((g==null?void 0:g.type)===hx){const m=g.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(m.trim())}}return!1});return{_disabled:o,_size:a,_type:u,_ref:s,_props:f,shouldAddSpace:d,handleClick:p=>{if(o.value||e.loading){p.stopPropagation();return}e.nativeType==="reset"&&(i==null||i.resetFields()),t("click",p)}}},Q7=["default","primary","success","warning","info","danger","text",""],E7e=["button","submit","reset"],J7=gt({size:yo,disabled:Boolean,type:{type:String,values:Q7,default:""},icon:{type:Ci},nativeType:{type:String,values:E7e,default:"button"},loading:Boolean,loadingIcon:{type:Ci,default:()=>Qd},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Ie([String,Object]),default:"button"}}),T7e={click:e=>e instanceof MouseEvent};function Os(e,t){w7e(e)&&(e="100%");var n=C7e(e);return e=t===360?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:(t===360?e=(e<0?e%t+t:e%t)/parseFloat(String(t)):e=e%t/parseFloat(String(t)),e)}function iR(e){return Math.min(1,Math.max(0,e))}function w7e(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function C7e(e){return typeof e=="string"&&e.indexOf("%")!==-1}function bge(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function aR(e){return e<=1?"".concat(Number(e)*100,"%"):e}function R0(e){return e.length===1?"0"+e:String(e)}function R7e(e,t,n){return{r:Os(e,255)*255,g:Os(t,255)*255,b:Os(n,255)*255}}function FK(e,t,n){e=Os(e,255),t=Os(t,255),n=Os(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=0,s=(r+i)/2;if(r===i)o=0,a=0;else{var l=r-i;switch(o=s>.5?l/(2-r-i):l/(r+i),r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4;break}a/=6}return{h:a,s:o,l:s}}function G4(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*(6*n):n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function I7e(e,t,n){var r,i,a;if(e=Os(e,360),t=Os(t,100),n=Os(n,100),t===0)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,s=2*n-o;r=G4(s,o,e+1/3),i=G4(s,o,e),a=G4(s,o,e-1/3)}return{r:r*255,g:i*255,b:a*255}}function UK(e,t,n){e=Os(e,255),t=Os(t,255),n=Os(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,s=r-i,l=r===0?0:s/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4;break}a/=6}return{h:a,s:l,v:o}}function M7e(e,t,n){e=Os(e,360)*6,t=Os(t,100),n=Os(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6,u=[n,o,a,a,s,n][l],c=[s,n,n,o,a,a][l],f=[a,a,s,n,n,o][l];return{r:u*255,g:c*255,b:f*255}}function VK(e,t,n,r){var i=[R0(Math.round(e).toString(16)),R0(Math.round(t).toString(16)),R0(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function O7e(e,t,n,r,i){var a=[R0(Math.round(e).toString(16)),R0(Math.round(t).toString(16)),R0(Math.round(n).toString(16)),R0(D7e(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function D7e(e){return Math.round(parseFloat(e)*255).toString(16)}function zK(e){return Ou(e)/255}function Ou(e){return parseInt(e,16)}function P7e(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var eU={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function L7e(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return typeof e=="string"&&(e=k7e(e)),typeof e=="object"&&(Kh(e.r)&&Kh(e.g)&&Kh(e.b)?(t=R7e(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Kh(e.h)&&Kh(e.s)&&Kh(e.v)?(r=aR(e.s),i=aR(e.v),t=M7e(e.h,r,i),o=!0,s="hsv"):Kh(e.h)&&Kh(e.s)&&Kh(e.l)&&(r=aR(e.s),a=aR(e.l),t=I7e(e.h,r,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=bge(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var N7e="[-\\+]?\\d+%?",B7e="[-\\+]?\\d*\\.\\d+%?",ng="(?:".concat(B7e,")|(?:").concat(N7e,")"),j4="[\\s|\\(]+(".concat(ng,")[,|\\s]+(").concat(ng,")[,|\\s]+(").concat(ng,")\\s*\\)?"),Y4="[\\s|\\(]+(".concat(ng,")[,|\\s]+(").concat(ng,")[,|\\s]+(").concat(ng,")[,|\\s]+(").concat(ng,")\\s*\\)?"),Sf={CSS_UNIT:new RegExp(ng),rgb:new RegExp("rgb"+j4),rgba:new RegExp("rgba"+Y4),hsl:new RegExp("hsl"+j4),hsla:new RegExp("hsla"+Y4),hsv:new RegExp("hsv"+j4),hsva:new RegExp("hsva"+Y4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function k7e(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var t=!1;if(eU[e])e=eU[e],t=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Sf.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=Sf.rgba.exec(e),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Sf.hsl.exec(e),n?{h:n[1],s:n[2],l:n[3]}:(n=Sf.hsla.exec(e),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Sf.hsv.exec(e),n?{h:n[1],s:n[2],v:n[3]}:(n=Sf.hsva.exec(e),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Sf.hex8.exec(e),n?{r:Ou(n[1]),g:Ou(n[2]),b:Ou(n[3]),a:zK(n[4]),format:t?"name":"hex8"}:(n=Sf.hex6.exec(e),n?{r:Ou(n[1]),g:Ou(n[2]),b:Ou(n[3]),format:t?"name":"hex"}:(n=Sf.hex4.exec(e),n?{r:Ou(n[1]+n[1]),g:Ou(n[2]+n[2]),b:Ou(n[3]+n[3]),a:zK(n[4]+n[4]),format:t?"name":"hex8"}:(n=Sf.hex3.exec(e),n?{r:Ou(n[1]+n[1]),g:Ou(n[2]+n[2]),b:Ou(n[3]+n[3]),format:t?"name":"hex"}:!1)))))))))}function Kh(e){return!!Sf.CSS_UNIT.exec(String(e))}var xge=function(){function e(t,n){t===void 0&&(t=""),n===void 0&&(n={});var r;if(t instanceof e)return t;typeof t=="number"&&(t=P7e(t)),this.originalInput=t;var i=L7e(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},e.prototype.getLuminance=function(){var t=this.toRgb(),n,r,i,a=t.r/255,o=t.g/255,s=t.b/255;return a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(t){return this.a=bge(t),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){var t=this.toHsl().s;return t===0},e.prototype.toHsv=function(){var t=UK(this.r,this.g,this.b);return{h:t.h*360,s:t.s,v:t.v,a:this.a}},e.prototype.toHsvString=function(){var t=UK(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var t=FK(this.r,this.g,this.b);return{h:t.h*360,s:t.s,l:t.l,a:this.a}},e.prototype.toHslString=function(){var t=FK(this.r,this.g,this.b),n=Math.round(t.h*360),r=Math.round(t.s*100),i=Math.round(t.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(t){return t===void 0&&(t=!1),VK(this.r,this.g,this.b,t)},e.prototype.toHexString=function(t){return t===void 0&&(t=!1),"#"+this.toHex(t)},e.prototype.toHex8=function(t){return t===void 0&&(t=!1),O7e(this.r,this.g,this.b,this.a,t)},e.prototype.toHex8String=function(t){return t===void 0&&(t=!1),"#"+this.toHex8(t)},e.prototype.toHexShortString=function(t){return t===void 0&&(t=!1),this.a===1?this.toHexString(t):this.toHex8String(t)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var t=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(t,", ").concat(n,", ").concat(r,")"):"rgba(".concat(t,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var t=function(n){return"".concat(Math.round(Os(n,255)*100),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var t=function(n){return Math.round(Os(n,255)*100)};return this.a===1?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var t="#"+VK(this.r,this.g,this.b,!1),n=0,r=Object.entries(eU);n<r.length;n++){var i=r[n],a=i[0],o=i[1];if(t===o)return a}return!1},e.prototype.toString=function(t){var n=!!t;t=t??this.format;var r=!1,i=this.a<1&&this.a>=0,a=!n&&i&&(t.startsWith("hex")||t==="name");return a?t==="name"&&this.a===0?this.toName():this.toRgbString():(t==="rgb"&&(r=this.toRgbString()),t==="prgb"&&(r=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(r=this.toHexString()),t==="hex3"&&(r=this.toHexString(!0)),t==="hex4"&&(r=this.toHex8String(!0)),t==="hex8"&&(r=this.toHex8String()),t==="name"&&(r=this.toName()),t==="hsl"&&(r=this.toHslString()),t==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=iR(n.l),new e(n)},e.prototype.brighten=function(t){t===void 0&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),new e(n)},e.prototype.darken=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=iR(n.l),new e(n)},e.prototype.tint=function(t){return t===void 0&&(t=10),this.mix("white",t)},e.prototype.shade=function(t){return t===void 0&&(t=10),this.mix("black",t)},e.prototype.desaturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=iR(n.s),new e(n)},e.prototype.saturate=function(t){t===void 0&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=iR(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){n===void 0&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100,o={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return new e(o)},e.prototype.analogous=function(t,n){t===void 0&&(t=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){t===void 0&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+s)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),i=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function Sv(e,t=20){return e.mix("#141414",t).toString()}function F7e(e){const t=ks(),n=at("button");return $(()=>{let r={},i=e.color;if(i){const a=i.match(/var\((.*?)\)/);a&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));const o=new xge(i),s=e.dark?o.tint(20).toString():Sv(o,20);if(e.plain)r=n.cssVarBlock({"bg-color":e.dark?Sv(o,90):o.tint(90).toString(),"text-color":i,"border-color":e.dark?Sv(o,50):o.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":s,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":s}),t.value&&(r[n.cssVarBlockName("disabled-bg-color")]=e.dark?Sv(o,90):o.tint(90).toString(),r[n.cssVarBlockName("disabled-text-color")]=e.dark?Sv(o,50):o.tint(50).toString(),r[n.cssVarBlockName("disabled-border-color")]=e.dark?Sv(o,80):o.tint(80).toString());else{const l=e.dark?Sv(o,30):o.tint(30).toString(),u=o.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(r=n.cssVarBlock({"bg-color":i,"text-color":u,"border-color":i,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":s,"active-border-color":s}),t.value){const c=e.dark?Sv(o,50):o.tint(50).toString();r[n.cssVarBlockName("disabled-bg-color")]=c,r[n.cssVarBlockName("disabled-text-color")]=e.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,r[n.cssVarBlockName("disabled-border-color")]=c}}}return r})}const U7e=le({name:"ElButton"}),V7e=le({...U7e,props:J7,emits:T7e,setup(e,{expose:t,emit:n}){const r=e,i=F7e(r),a=at("button"),{_ref:o,_size:s,_type:l,_disabled:u,_props:c,shouldAddSpace:f,handleClick:d}=A7e(r,n),h=$(()=>[a.b(),a.m(l.value),a.m(s.value),a.is("disabled",u.value),a.is("loading",r.loading),a.is("plain",r.plain),a.is("round",r.round),a.is("circle",r.circle),a.is("text",r.text),a.is("link",r.link),a.is("has-bg",r.bg)]);return t({ref:o,size:s,type:l,disabled:u,shouldAddSpace:f}),(p,v)=>(H(),Ue(cr(p.tag),dr({ref_key:"_ref",ref:o},y(c),{class:y(h),style:y(i),onClick:y(d)}),{default:J(()=>[p.loading?(H(),Q(St,{key:0},[p.$slots.loading?De(p.$slots,"loading",{key:0}):(H(),Ue(y(Xt),{key:1,class:j(y(a).is("loading"))},{default:J(()=>[(H(),Ue(cr(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?(H(),Ue(y(Xt),{key:1},{default:J(()=>[p.icon?(H(),Ue(cr(p.icon),{key:0})):De(p.$slots,"icon",{key:1})]),_:3})):Be("v-if",!0),p.$slots.default?(H(),Q("span",{key:2,class:j({[y(a).em("text","expand")]:y(f)})},[De(p.$slots,"default")],2)):Be("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var z7e=_t(V7e,[["__file","button.vue"]]);const $7e={size:J7.size,type:J7.type},H7e=le({name:"ElButtonGroup"}),W7e=le({...H7e,props:$7e,setup(e){const t=e;mr(_ge,zn({size:hi(t,"size"),type:hi(t,"type")}));const n=at("button");return(r,i)=>(H(),Q("div",{class:j(y(n).b("group"))},[De(r.$slots,"default")],2))}});var Sge=_t(W7e,[["__file","button-group.vue"]]);const sa=Un(z7e,{ButtonGroup:Sge}),Age=Aa(Sge);var rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ZI={exports:{}},G7e=ZI.exports,$K;function j7e(){return $K||($K=1,function(e,t){(function(n,r){e.exports=r()})(G7e,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",u="day",c="week",f="month",d="quarter",h="year",p="date",v="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(B){var U=["th","st","nd","rd"],L=B%100;return"["+B+(U[(L-20)%10]||U[L]||U[0])+"]"}},_=function(B,U,L){var F=String(B);return!F||F.length>=U?B:""+Array(U+1-F.length).join(L)+B},x={s:_,z:function(B){var U=-B.utcOffset(),L=Math.abs(U),F=Math.floor(L/60),N=L%60;return(U<=0?"+":"-")+_(F,2,"0")+":"+_(N,2,"0")},m:function B(U,L){if(U.date()<L.date())return-B(L,U);var F=12*(L.year()-U.year())+(L.month()-U.month()),N=U.clone().add(F,f),V=L-N<0,W=U.clone().add(F+(V?-1:1),f);return+(-(F+(L-N)/(V?N-W:W-N))||0)},a:function(B){return B<0?Math.ceil(B)||0:Math.floor(B)},p:function(B){return{M:f,y:h,w:c,d:u,D:p,h:l,m:s,s:o,ms:a,Q:d}[B]||String(B||"").toLowerCase().replace(/s$/,"")},u:function(B){return B===void 0}},E="en",A={};A[E]=b;var T="$isDayjsObject",R=function(B){return B instanceof C||!(!B||!B[T])},M=function B(U,L,F){var N;if(!U)return E;if(typeof U=="string"){var V=U.toLowerCase();A[V]&&(N=V),L&&(A[V]=L,N=V);var W=U.split("-");if(!N&&W.length>1)return B(W[0])}else{var G=U.name;A[G]=U,N=G}return!F&&N&&(E=N),N||!F&&E},O=function(B,U){if(R(B))return B.clone();var L=typeof U=="object"?U:{};return L.date=B,L.args=arguments,new C(L)},D=x;D.l=M,D.i=R,D.w=function(B,U){return O(B,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var C=function(){function B(L){this.$L=M(L.locale,null,!0),this.parse(L),this.$x=this.$x||L.x||{},this[T]=!0}var U=B.prototype;return U.parse=function(L){this.$d=function(F){var N=F.date,V=F.utc;if(N===null)return new Date(NaN);if(D.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var W=N.match(g);if(W){var G=W[2]-1||0,K=(W[7]||"0").substring(0,3);return V?new Date(Date.UTC(W[1],G,W[3]||1,W[4]||0,W[5]||0,W[6]||0,K)):new Date(W[1],G,W[3]||1,W[4]||0,W[5]||0,W[6]||0,K)}}return new Date(N)}(L),this.init()},U.init=function(){var L=this.$d;this.$y=L.getFullYear(),this.$M=L.getMonth(),this.$D=L.getDate(),this.$W=L.getDay(),this.$H=L.getHours(),this.$m=L.getMinutes(),this.$s=L.getSeconds(),this.$ms=L.getMilliseconds()},U.$utils=function(){return D},U.isValid=function(){return this.$d.toString()!==v},U.isSame=function(L,F){var N=O(L);return this.startOf(F)<=N&&N<=this.endOf(F)},U.isAfter=function(L,F){return O(L)<this.startOf(F)},U.isBefore=function(L,F){return this.endOf(F)<O(L)},U.$g=function(L,F,N){return D.u(L)?this[F]:this.set(N,L)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(L,F){var N=this,V=!!D.u(F)||F,W=D.p(L),G=function(oe,pe){var me=D.w(N.$u?Date.UTC(N.$y,pe,oe):new Date(N.$y,pe,oe),N);return V?me:me.endOf(u)},K=function(oe,pe){return D.w(N.toDate()[oe].apply(N.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(pe)),N)},q=this.$W,ue=this.$M,he=this.$D,Ce="set"+(this.$u?"UTC":"");switch(W){case h:return V?G(1,0):G(31,11);case f:return V?G(1,ue):G(0,ue+1);case c:var ee=this.$locale().weekStart||0,de=(q<ee?q+7:q)-ee;return G(V?he-de:he+(6-de),ue);case u:case p:return K(Ce+"Hours",0);case l:return K(Ce+"Minutes",1);case s:return K(Ce+"Seconds",2);case o:return K(Ce+"Milliseconds",3);default:return this.clone()}},U.endOf=function(L){return this.startOf(L,!1)},U.$set=function(L,F){var N,V=D.p(L),W="set"+(this.$u?"UTC":""),G=(N={},N[u]=W+"Date",N[p]=W+"Date",N[f]=W+"Month",N[h]=W+"FullYear",N[l]=W+"Hours",N[s]=W+"Minutes",N[o]=W+"Seconds",N[a]=W+"Milliseconds",N)[V],K=V===u?this.$D+(F-this.$W):F;if(V===f||V===h){var q=this.clone().set(p,1);q.$d[G](K),q.init(),this.$d=q.set(p,Math.min(this.$D,q.daysInMonth())).$d}else G&&this.$d[G](K);return this.init(),this},U.set=function(L,F){return this.clone().$set(L,F)},U.get=function(L){return this[D.p(L)]()},U.add=function(L,F){var N,V=this;L=Number(L);var W=D.p(F),G=function(ue){var he=O(V);return D.w(he.date(he.date()+Math.round(ue*L)),V)};if(W===f)return this.set(f,this.$M+L);if(W===h)return this.set(h,this.$y+L);if(W===u)return G(1);if(W===c)return G(7);var K=(N={},N[s]=r,N[l]=i,N[o]=n,N)[W]||1,q=this.$d.getTime()+L*K;return D.w(q,this)},U.subtract=function(L,F){return this.add(-1*L,F)},U.format=function(L){var F=this,N=this.$locale();if(!this.isValid())return N.invalidDate||v;var V=L||"YYYY-MM-DDTHH:mm:ssZ",W=D.z(this),G=this.$H,K=this.$m,q=this.$M,ue=N.weekdays,he=N.months,Ce=N.meridiem,ee=function(pe,me,re,ne){return pe&&(pe[me]||pe(F,V))||re[me].slice(0,ne)},de=function(pe){return D.s(G%12||12,pe,"0")},oe=Ce||function(pe,me,re){var ne=pe<12?"AM":"PM";return re?ne.toLowerCase():ne};return V.replace(m,function(pe,me){return me||function(re){switch(re){case"YY":return String(F.$y).slice(-2);case"YYYY":return D.s(F.$y,4,"0");case"M":return q+1;case"MM":return D.s(q+1,2,"0");case"MMM":return ee(N.monthsShort,q,he,3);case"MMMM":return ee(he,q);case"D":return F.$D;case"DD":return D.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return ee(N.weekdaysMin,F.$W,ue,2);case"ddd":return ee(N.weekdaysShort,F.$W,ue,3);case"dddd":return ue[F.$W];case"H":return String(G);case"HH":return D.s(G,2,"0");case"h":return de(1);case"hh":return de(2);case"a":return oe(G,K,!0);case"A":return oe(G,K,!1);case"m":return String(K);case"mm":return D.s(K,2,"0");case"s":return String(F.$s);case"ss":return D.s(F.$s,2,"0");case"SSS":return D.s(F.$ms,3,"0");case"Z":return W}return null}(pe)||W.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(L,F,N){var V,W=this,G=D.p(F),K=O(L),q=(K.utcOffset()-this.utcOffset())*r,ue=this-K,he=function(){return D.m(W,K)};switch(G){case h:V=he()/12;break;case f:V=he();break;case d:V=he()/3;break;case c:V=(ue-q)/6048e5;break;case u:V=(ue-q)/864e5;break;case l:V=ue/i;break;case s:V=ue/r;break;case o:V=ue/n;break;default:V=ue}return N?V:D.a(V)},U.daysInMonth=function(){return this.endOf(f).$D},U.$locale=function(){return A[this.$L]},U.locale=function(L,F){if(!L)return this.$L;var N=this.clone(),V=M(L,F,!0);return V&&(N.$L=V),N},U.clone=function(){return D.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},B}(),P=C.prototype;return O.prototype=P,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",u],["$M",f],["$y",h],["$D",p]].forEach(function(B){P[B[1]]=function(U){return this.$g(U,B[0],B[1])}}),O.extend=function(B,U){return B.$i||(B(U,C,O),B.$i=!0),O},O.locale=M,O.isDayjs=R,O.unix=function(B){return O(1e3*B)},O.en=A[E],O.Ls=A,O.p={},O})}(ZI)),ZI.exports}var Y7e=j7e();const kn=ni(Y7e),X4=(e,t)=>[e>0?e-1:void 0,e,e<t?e+1:void 0],_g=e=>Array.from(Array.from({length:e}).keys()),Ege=e=>e.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Tge=e=>e.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),HK=function(e,t){const n=Rg(e),r=Rg(t);return n&&r?e.getTime()===t.getTime():!n&&!r?e===t:!1},WK=function(e,t){const n=pt(e),r=pt(t);return n&&r?e.length!==t.length?!1:e.every((i,a)=>HK(i,t[a])):!n&&!r?HK(e,t):!1},GK=function(e,t,n){const r=Du(t)||t==="x"?kn(e).locale(n):kn(e,t).locale(n);return r.isValid()?r:void 0},jK=function(e,t,n){return Du(t)?e:t==="x"?+e:kn(e).locale(n).format(t)},K4=(e,t)=>{var n;const r=[],i=t==null?void 0:t();for(let a=0;a<e;a++)r.push((n=i==null?void 0:i.includes(a))!=null?n:!1);return r},oR=e=>pt(e)?e.map(t=>t.toDate()):e.toDate(),X7e=(e,t)=>{const n=e.subtract(1,"month").endOf("month").date();return _g(t).map((r,i)=>n-(t-i-1))},K7e=e=>{const t=e.daysInMonth();return _g(t).map((n,r)=>r+1)},q7e=e=>_g(e.length/7).map(t=>{const n=t*7;return e.slice(n,n+7)}),Z7e=gt({selectedDay:{type:Ie(Object)},range:{type:Ie(Array)},date:{type:Ie(Object),required:!0},hideHeader:{type:Boolean}}),Q7e={pick:e=>nr(e)};var QI={exports:{}},J7e=QI.exports,YK;function eUe(){return YK||(YK=1,function(e,t){(function(n,r){e.exports=r()})(J7e,function(){return function(n,r,i){var a=r.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},s=function(f,d,h,p,v){var g=f.name?f:f.$locale(),m=o(g[d]),b=o(g[h]),_=m||b.map(function(E){return E.slice(0,p)});if(!v)return _;var x=g.weekStart;return _.map(function(E,A){return _[(A+(x||0))%7]})},l=function(){return i.Ls[i.locale()]},u=function(f,d){return f.formats[d]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,v,g){return v||g.slice(1)})}(f.formats[d.toUpperCase()])},c=function(){var f=this;return{months:function(d){return d?d.format("MMMM"):s(f,"months")},monthsShort:function(d){return d?d.format("MMM"):s(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(f,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(f,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return u(f.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return c.bind(this)()},i.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(d){return u(f,d)},meridiem:f.meridiem,ordinal:f.ordinal}},i.months=function(){return s(l(),"months")},i.monthsShort=function(){return s(l(),"monthsShort","months",3)},i.weekdays=function(f){return s(l(),"weekdays",null,null,f)},i.weekdaysShort=function(f){return s(l(),"weekdaysShort","weekdays",3,f)},i.weekdaysMin=function(f){return s(l(),"weekdaysMin","weekdays",2,f)}}})}(QI)),QI.exports}var tUe=eUe();const wge=ni(tUe),nUe=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],q4=["sun","mon","tue","wed","thu","fri","sat"],rUe=(e,t)=>{kn.extend(wge);const n=kn.localeData().firstDayOfWeek(),{t:r,lang:i}=Lr(),a=kn().locale(i.value),o=$(()=>!!e.range&&!!e.range.length),s=$(()=>{let d=[];if(o.value){const[h,p]=e.range,v=_g(p.date()-h.date()+1).map(b=>({text:h.date()+b,type:"current"}));let g=v.length%7;g=g===0?0:7-g;const m=_g(g).map((b,_)=>({text:_+1,type:"next"}));d=v.concat(m)}else{const h=e.date.startOf("month").day(),p=X7e(e.date,(h-n+7)%7).map(b=>({text:b,type:"prev"})),v=K7e(e.date).map(b=>({text:b,type:"current"}));d=[...p,...v];const g=7-(d.length%7||7),m=_g(g).map((b,_)=>({text:_+1,type:"next"}));d=d.concat(m)}return q7e(d)}),l=$(()=>{const d=n;return d===0?q4.map(h=>r(`el.datepicker.weeks.${h}`)):q4.slice(d).concat(q4.slice(0,d)).map(h=>r(`el.datepicker.weeks.${h}`))}),u=(d,h)=>{switch(h){case"prev":return e.date.startOf("month").subtract(1,"month").date(d);case"next":return e.date.startOf("month").add(1,"month").date(d);case"current":return e.date.date(d)}};return{now:a,isInRange:o,rows:s,weekDays:l,getFormattedDate:u,handlePickDay:({text:d,type:h})=>{const p=u(d,h);t("pick",p)},getSlotData:({text:d,type:h})=>{const p=u(d,h);return{isSelected:p.isSame(e.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},iUe=le({name:"DateTable"}),aUe=le({...iUe,props:Z7e,emits:Q7e,setup(e,{expose:t,emit:n}){const r=e,{isInRange:i,now:a,rows:o,weekDays:s,getFormattedDate:l,handlePickDay:u,getSlotData:c}=rUe(r,n),f=at("calendar-table"),d=at("calendar-day"),h=({text:p,type:v})=>{const g=[v];if(v==="current"){const m=l(p,v);m.isSame(r.selectedDay,"day")&&g.push(d.is("selected")),m.isSame(a,"day")&&g.push(d.is("today"))}return g};return t({getFormattedDate:l}),(p,v)=>(H(),Q("table",{class:j([y(f).b(),y(f).is("range",y(i))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?Be("v-if",!0):(H(),Q("thead",{key:0},[I("tr",null,[(H(!0),Q(St,null,Nn(y(s),g=>(H(),Q("th",{key:g,scope:"col"},nt(g),1))),128))])])),I("tbody",null,[(H(!0),Q(St,null,Nn(y(o),(g,m)=>(H(),Q("tr",{key:m,class:j({[y(f).e("row")]:!0,[y(f).em("row","hide-border")]:m===0&&p.hideHeader})},[(H(!0),Q(St,null,Nn(g,(b,_)=>(H(),Q("td",{key:_,class:j(h(b)),onClick:x=>y(u)(b)},[I("div",{class:j(y(d).b())},[De(p.$slots,"date-cell",{data:y(c)(b)},()=>[I("span",null,nt(b.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var XK=_t(aUe,[["__file","date-table.vue"]]);const oUe=(e,t)=>{const n=e.endOf("month"),r=t.startOf("month"),a=n.isSame(r,"week")?r.add(1,"week"):r;return[[e,n],[a.startOf("week"),t]]},sUe=(e,t)=>{const n=e.endOf("month"),r=e.add(1,"month").startOf("month"),i=n.isSame(r,"week")?r.add(1,"week"):r,a=i.endOf("month"),o=t.startOf("month"),s=a.isSame(o,"week")?o.add(1,"week"):o;return[[e,n],[i.startOf("week"),a],[s.startOf("week"),t]]},lUe=(e,t,n)=>{const{lang:r}=Lr(),i=Y(),a=kn().locale(r.value),o=$({get(){return e.modelValue?l.value:i.value},set(g){if(!g)return;i.value=g;const m=g.toDate();t(Ms,m),t(Yn,m)}}),s=$(()=>{if(!e.range||!pt(e.range)||e.range.length!==2||e.range.some(_=>!Rg(_)))return[];const g=e.range.map(_=>kn(_).locale(r.value)),[m,b]=g;return m.isAfter(b)?[]:m.isSame(b,"month")?h(m,b):m.add(1,"month").month()!==b.month()?[]:h(m,b)}),l=$(()=>e.modelValue?kn(e.modelValue).locale(r.value):o.value||(s.value.length?s.value[0][0]:a)),u=$(()=>l.value.subtract(1,"month").date(1)),c=$(()=>l.value.add(1,"month").date(1)),f=$(()=>l.value.subtract(1,"year").date(1)),d=$(()=>l.value.add(1,"year").date(1)),h=(g,m)=>{const b=g.startOf("week"),_=m.endOf("week"),x=b.get("month"),E=_.get("month");return x===E?[[b,_]]:(x+1)%12===E?oUe(b,_):x+2===E||(x+1)%11===E?sUe(b,_):[]},p=g=>{o.value=g};return{calculateValidatedDateRange:h,date:l,realSelectedDay:o,pickDay:p,selectDate:g=>{const b={"prev-month":u.value,"next-month":c.value,"prev-year":f.value,"next-year":d.value,today:a}[g];b.isSame(l.value,"day")||p(b)},validatedRange:s}},uUe=e=>pt(e)&&e.length===2&&e.every(t=>Rg(t)),cUe=gt({modelValue:{type:Date},range:{type:Ie(Array),validator:uUe}}),fUe={[Yn]:e=>Rg(e),[Ms]:e=>Rg(e)},dUe="ElCalendar",hUe=le({name:dUe}),pUe=le({...hUe,props:cUe,emits:fUe,setup(e,{expose:t,emit:n}){const r=e,i=at("calendar"),{calculateValidatedDateRange:a,date:o,pickDay:s,realSelectedDay:l,selectDate:u,validatedRange:c}=lUe(r,n),{t:f}=Lr(),d=$(()=>{const h=`el.datepicker.month${o.value.format("M")}`;return`${o.value.year()} ${f("el.datepicker.year")} ${f(h)}`});return t({selectedDay:l,pickDay:s,selectDate:u,calculateValidatedDateRange:a}),(h,p)=>(H(),Q("div",{class:j(y(i).b())},[I("div",{class:j(y(i).e("header"))},[De(h.$slots,"header",{date:y(d)},()=>[I("div",{class:j(y(i).e("title"))},nt(y(d)),3),y(c).length===0?(H(),Q("div",{key:0,class:j(y(i).e("button-group"))},[z(y(Age),null,{default:J(()=>[z(y(sa),{size:"small",onClick:v=>y(u)("prev-month")},{default:J(()=>[$n(nt(y(f)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),z(y(sa),{size:"small",onClick:v=>y(u)("today")},{default:J(()=>[$n(nt(y(f)("el.datepicker.today")),1)]),_:1},8,["onClick"]),z(y(sa),{size:"small",onClick:v=>y(u)("next-month")},{default:J(()=>[$n(nt(y(f)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):Be("v-if",!0)])],2),y(c).length===0?(H(),Q("div",{key:0,class:j(y(i).e("body"))},[z(XK,{date:y(o),"selected-day":y(l),onPick:y(s)},Nc({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:J(v=>[De(h.$slots,"date-cell",Of(Ig(v)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(H(),Q("div",{key:1,class:j(y(i).e("body"))},[(H(!0),Q(St,null,Nn(y(c),(v,g)=>(H(),Ue(XK,{key:g,date:v[0],"selected-day":y(l),range:v,"hide-header":g!==0,onPick:y(s)},Nc({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:J(m=>[De(h.$slots,"date-cell",Of(Ig(m)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var vUe=_t(pUe,[["__file","calendar.vue"]]);const gUe=Un(vUe),mUe=gt({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Ie([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),yUe=le({name:"ElCard"}),_Ue=le({...yUe,props:mUe,setup(e){const t=at("card");return(n,r)=>(H(),Q("div",{class:j([y(t).b(),y(t).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(H(),Q("div",{key:0,class:j(y(t).e("header"))},[De(n.$slots,"header",{},()=>[$n(nt(n.header),1)])],2)):Be("v-if",!0),I("div",{class:j([y(t).e("body"),n.bodyClass]),style:en(n.bodyStyle)},[De(n.$slots,"default")],6),n.$slots.footer||n.footer?(H(),Q("div",{key:1,class:j(y(t).e("footer"))},[De(n.$slots,"footer",{},()=>[$n(nt(n.footer),1)])],2)):Be("v-if",!0)],2))}});var bUe=_t(_Ue,[["__file","card.vue"]]);const xUe=Un(bUe),SUe=gt({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),AUe={change:(e,t)=>[e,t].every(gn)},Cge=Symbol("carouselContextKey"),tU="ElCarouselItem";var mc=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(mc||{});function nU(e){return pa(e)&&e.type===St}function EUe(e){return pa(e)&&e.type===Xo}function TUe(e){return pa(e)&&!nU(e)&&!EUe(e)}const wUe=e=>{if(!pa(e))return{};const t=e.props||{},n=(pa(e.type)?e.type.props:void 0)||{},r={};return Object.keys(n).forEach(i=>{Yr(n[i],"default")&&(r[i]=n[i].default)}),Object.keys(t).forEach(i=>{r[Ml(i)]=t[i]}),r},CUe=e=>{if(!pt(e)||e.length>1)throw new Error("expect to receive a single Vue element child");return e[0]},bg=e=>{const t=pt(e)?e:[e],n=[];return t.forEach(r=>{var i;pt(r)?n.push(...bg(r)):pa(r)&&((i=r.component)!=null&&i.subTree)?n.push(r,...bg(r.component.subTree)):pa(r)&&pt(r.children)?n.push(...bg(r.children)):n.push(r)}),n},RUe=(e,t,n)=>bg(e.subTree).filter(a=>{var o;return pa(a)&&((o=a.type)==null?void 0:o.name)===t&&!!a.component}).map(a=>a.component.uid).map(a=>n[a]).filter(a=>!!a),j$=(e,t)=>{const n={},r=Ni([]);return{children:r,addChild:o=>{n[o.uid]=o,r.value=RUe(e,t,n)},removeChild:o=>{delete n[o],r.value=r.value.filter(s=>s.uid!==o)}}},KK=300,IUe=(e,t,n)=>{const{children:r,addChild:i,removeChild:a}=j$(or(),tU),o=_o(),s=Y(-1),l=Y(null),u=Y(!1),c=Y(),f=Y(0),d=Y(!0),h=Y(!0),p=Y(!1),v=$(()=>e.arrow!=="never"&&!y(b)),g=$(()=>r.value.some(Ce=>Ce.props.label.toString().length>0)),m=$(()=>e.type==="card"),b=$(()=>e.direction==="vertical"),_=$(()=>e.height!=="auto"?{height:e.height}:{height:`${f.value}px`,overflow:"hidden"}),x=G0(Ce=>{O(Ce)},KK,{trailing:!0}),E=G0(Ce=>{V(Ce)},KK),A=Ce=>d.value?s.value<=1?Ce<=1:Ce>1:!0;function T(){l.value&&(clearInterval(l.value),l.value=null)}function R(){e.interval<=0||!e.autoplay||l.value||(l.value=setInterval(()=>M(),e.interval))}const M=()=>{h.value||(p.value=!0),h.value=!1,s.value<r.value.length-1?s.value=s.value+1:e.loop?s.value=0:p.value=!1};function O(Ce){if(h.value||(p.value=!0),h.value=!1,an(Ce)){const oe=r.value.filter(pe=>pe.props.name===Ce);oe.length>0&&(Ce=r.value.indexOf(oe[0]))}if(Ce=Number(Ce),Number.isNaN(Ce)||Ce!==Math.floor(Ce))return;const ee=r.value.length,de=s.value;Ce<0?s.value=e.loop?ee-1:0:Ce>=ee?s.value=e.loop?0:ee-1:s.value=Ce,de===s.value&&D(de),K()}function D(Ce){r.value.forEach((ee,de)=>{ee.translateItem(de,s.value,Ce)})}function C(Ce,ee){var de,oe,pe,me;const re=y(r),ne=re.length;if(ne===0||!Ce.states.inStage)return!1;const se=ee+1,be=ee-1,Pe=ne-1,Ee=re[Pe].states.active,Le=re[0].states.active,He=(oe=(de=re[se])==null?void 0:de.states)==null?void 0:oe.active,rt=(me=(pe=re[be])==null?void 0:pe.states)==null?void 0:me.active;return ee===Pe&&Le||He?"left":ee===0&&Ee||rt?"right":!1}function P(){u.value=!0,e.pauseOnHover&&T()}function B(){u.value=!1,R()}function U(){p.value=!1}function L(Ce){y(b)||r.value.forEach((ee,de)=>{Ce===C(ee,de)&&(ee.states.hover=!0)})}function F(){y(b)||r.value.forEach(Ce=>{Ce.states.hover=!1})}function N(Ce){Ce!==s.value&&(h.value||(p.value=!0)),s.value=Ce}function V(Ce){e.trigger==="hover"&&Ce!==s.value&&(s.value=Ce,h.value||(p.value=!0))}function W(){O(s.value-1)}function G(){O(s.value+1)}function K(){T(),e.pauseOnHover||R()}function q(Ce){e.height==="auto"&&(f.value=Ce)}function ue(){var Ce;const ee=(Ce=o.default)==null?void 0:Ce.call(o);if(!ee)return null;const oe=bg(ee).filter(pe=>pa(pe)&&pe.type.name===tU);return(oe==null?void 0:oe.length)===2&&e.loop&&!m.value?(d.value=!0,oe):(d.value=!1,null)}tt(()=>s.value,(Ce,ee)=>{D(ee),d.value&&(Ce=Ce%2,ee=ee%2),ee>-1&&t("change",Ce,ee)}),tt(()=>e.autoplay,Ce=>{Ce?R():T()}),tt(()=>e.loop,()=>{O(s.value)}),tt(()=>e.interval,()=>{K()});const he=Ni();return Tn(()=>{tt(()=>r.value,()=>{r.value.length>0&&O(e.initialIndex)},{immediate:!0}),he.value=oa(c.value,()=>{D()}),R()}),Oi(()=>{T(),c.value&&he.value&&he.value.stop()}),mr(Cge,{root:c,isCardType:m,isVertical:b,items:r,loop:e.loop,cardScale:e.cardScale,addItem:i,removeItem:a,setActiveItem:O,setContainerHeight:q}),{root:c,activeIndex:s,arrowDisplay:v,hasLabel:g,hover:u,isCardType:m,isTransitioning:p,items:r,isVertical:b,containerStyle:_,isItemsTwoLength:d,handleButtonEnter:L,handleTransitionEnd:U,handleButtonLeave:F,handleIndicatorClick:N,handleMouseEnter:P,handleMouseLeave:B,setActiveItem:O,prev:W,next:G,PlaceholderItem:ue,isTwoLengthShow:A,throttledArrowClick:x,throttledIndicatorHover:E}},MUe="ElCarousel",OUe=le({name:MUe}),DUe=le({...OUe,props:SUe,emits:AUe,setup(e,{expose:t,emit:n}){const r=e,{root:i,activeIndex:a,arrowDisplay:o,hasLabel:s,hover:l,isCardType:u,items:c,isVertical:f,containerStyle:d,handleButtonEnter:h,handleButtonLeave:p,isTransitioning:v,handleIndicatorClick:g,handleMouseEnter:m,handleMouseLeave:b,handleTransitionEnd:_,setActiveItem:x,prev:E,next:A,PlaceholderItem:T,isTwoLengthShow:R,throttledArrowClick:M,throttledIndicatorHover:O}=IUe(r,n),D=at("carousel"),{t:C}=Lr(),P=$(()=>{const L=[D.b(),D.m(r.direction)];return y(u)&&L.push(D.m("card")),L}),B=$(()=>{const L=[D.e("container")];return r.motionBlur&&y(v)&&c.value.length>1&&L.push(y(f)?`${D.namespace.value}-transitioning-vertical`:`${D.namespace.value}-transitioning`),L}),U=$(()=>{const L=[D.e("indicators"),D.em("indicators",r.direction)];return y(s)&&L.push(D.em("indicators","labels")),r.indicatorPosition==="outside"&&L.push(D.em("indicators","outside")),y(f)&&L.push(D.em("indicators","right")),L});return t({activeIndex:a,setActiveItem:x,prev:E,next:A}),(L,F)=>(H(),Q("div",{ref_key:"root",ref:i,class:j(y(P)),onMouseenter:xn(y(m),["stop"]),onMouseleave:xn(y(b),["stop"])},[y(o)?(H(),Ue(ns,{key:0,name:"carousel-arrow-left",persisted:""},{default:J(()=>[Wn(I("button",{type:"button",class:j([y(D).e("arrow"),y(D).em("arrow","left")]),"aria-label":y(C)("el.carousel.leftArrow"),onMouseenter:N=>y(h)("left"),onMouseleave:y(p),onClick:xn(N=>y(M)(y(a)-1),["stop"])},[z(y(Xt),null,{default:J(()=>[z(y(Pg))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Xr,(L.arrow==="always"||y(l))&&(r.loop||y(a)>0)]])]),_:1})):Be("v-if",!0),y(o)?(H(),Ue(ns,{key:1,name:"carousel-arrow-right",persisted:""},{default:J(()=>[Wn(I("button",{type:"button",class:j([y(D).e("arrow"),y(D).em("arrow","right")]),"aria-label":y(C)("el.carousel.rightArrow"),onMouseenter:N=>y(h)("right"),onMouseleave:y(p),onClick:xn(N=>y(M)(y(a)+1),["stop"])},[z(y(Xt),null,{default:J(()=>[z(y(Cl))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[Xr,(L.arrow==="always"||y(l))&&(r.loop||y(a)<y(c).length-1)]])]),_:1})):Be("v-if",!0),I("div",{class:j(y(B)),style:en(y(d)),onTransitionend:y(_)},[z(y(T)),De(L.$slots,"default")],46,["onTransitionend"]),L.indicatorPosition!=="none"?(H(),Q("ul",{key:2,class:j(y(U))},[(H(!0),Q(St,null,Nn(y(c),(N,V)=>Wn((H(),Q("li",{key:V,class:j([y(D).e("indicator"),y(D).em("indicator",L.direction),y(D).is("active",V===y(a))]),onMouseenter:W=>y(O)(V),onClick:xn(W=>y(g)(V),["stop"])},[I("button",{class:j(y(D).e("button")),"aria-label":y(C)("el.carousel.indicator",{index:V+1})},[y(s)?(H(),Q("span",{key:0},nt(N.props.label),1)):Be("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[Xr,y(R)(V)]])),128))],2)):Be("v-if",!0),r.motionBlur?(H(),Q("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[I("defs",null,[I("filter",{id:"elCarouselHorizontal"},[I("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),I("filter",{id:"elCarouselVertical"},[I("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Be("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var PUe=_t(DUe,[["__file","carousel.vue"]]);const LUe=gt({name:{type:String,default:""},label:{type:[String,Number],default:""}}),NUe=e=>{const t=$t(Cge),n=or(),r=Y(),i=Y(!1),a=Y(0),o=Y(1),s=Y(!1),l=Y(!1),u=Y(!1),c=Y(!1),{isCardType:f,isVertical:d,cardScale:h}=t;function p(_,x,E){const A=E-1,T=x-1,R=x+1,M=E/2;return x===0&&_===A?-1:x===A&&_===0?E:_<T&&x-_>=M?E+1:_>R&&_-x>=M?-2:_}function v(_,x){var E,A;const T=y(d)?((E=t.root.value)==null?void 0:E.offsetHeight)||0:((A=t.root.value)==null?void 0:A.offsetWidth)||0;return u.value?T*((2-h)*(_-x)+1)/4:_<x?-(1+h)*T/4:(3+h)*T/4}function g(_,x,E){const A=t.root.value;return A?((E?A.offsetHeight:A.offsetWidth)||0)*(_-x):0}const m=(_,x,E)=>{var A;const T=y(f),R=(A=t.items.value.length)!=null?A:Number.NaN,M=_===x;!T&&!mi(E)&&(c.value=M||_===E),!M&&R>2&&t.loop&&(_=p(_,x,R));const O=y(d);s.value=M,T?(u.value=Math.round(Math.abs(_-x))<=1,a.value=v(_,x),o.value=y(s)?1:h):a.value=g(_,x,O),l.value=!0,M&&r.value&&t.setContainerHeight(r.value.offsetHeight)};function b(){if(t&&y(f)){const _=t.items.value.findIndex(({uid:x})=>x===n.uid);t.setActiveItem(_)}}return Tn(()=>{t.addItem({props:e,states:zn({hover:i,translate:a,scale:o,active:s,ready:l,inStage:u,animating:c}),uid:n.uid,translateItem:m})}),so(()=>{t.removeItem(n.uid)}),{carouselItemRef:r,active:s,animating:c,hover:i,inStage:u,isVertical:d,translate:a,isCardType:f,scale:o,ready:l,handleItemClick:b}},BUe=le({name:tU}),kUe=le({...BUe,props:LUe,setup(e){const t=e,n=at("carousel"),{carouselItemRef:r,active:i,animating:a,hover:o,inStage:s,isVertical:l,translate:u,isCardType:c,scale:f,ready:d,handleItemClick:h}=NUe(t),p=$(()=>[n.e("item"),n.is("active",i.value),n.is("in-stage",s.value),n.is("hover",o.value),n.is("animating",a.value),{[n.em("item","card")]:c.value,[n.em("item","card-vertical")]:c.value&&l.value}]),v=$(()=>{const m=`${`translate${y(l)?"Y":"X"}`}(${y(u)}px)`,b=`scale(${y(f)})`;return{transform:[m,b].join(" ")}});return(g,m)=>Wn((H(),Q("div",{ref_key:"carouselItemRef",ref:r,class:j(y(p)),style:en(y(v)),onClick:y(h)},[y(c)?Wn((H(),Q("div",{key:0,class:j(y(n).e("mask"))},null,2)),[[Xr,!y(i)]]):Be("v-if",!0),De(g.$slots,"default")],14,["onClick"])),[[Xr,y(d)]])}});var Rge=_t(kUe,[["__file","carousel-item.vue"]]);const Ige=Un(PUe,{CarouselItem:Rge}),Mge=Aa(Rge),Oge={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:yo,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...gs(["ariaControls"])},Dge={[Yn]:e=>an(e)||gn(e)||Bi(e),change:e=>an(e)||gn(e)||Bi(e)},Sx=Symbol("checkboxGroupContextKey"),FUe=({model:e,isChecked:t})=>{const n=$t(Sx,void 0),r=$(()=>{var a,o;const s=(a=n==null?void 0:n.max)==null?void 0:a.value,l=(o=n==null?void 0:n.min)==null?void 0:o.value;return!mi(s)&&e.value.length>=s&&!t.value||!mi(l)&&e.value.length<=l&&t.value});return{isDisabled:ks($(()=>(n==null?void 0:n.disabled.value)||r.value)),isLimitDisabled:r}},UUe=(e,{model:t,isLimitExceeded:n,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:a})=>{const o=$t(Sx,void 0),{formItem:s}=Bs(),{emit:l}=or();function u(p){var v,g,m,b;return[!0,e.trueValue,e.trueLabel].includes(p)?(g=(v=e.trueValue)!=null?v:e.trueLabel)!=null?g:!0:(b=(m=e.falseValue)!=null?m:e.falseLabel)!=null?b:!1}function c(p,v){l("change",u(p),v)}function f(p){if(n.value)return;const v=p.target;l("change",u(v.checked),p)}async function d(p){n.value||!r.value&&!i.value&&a.value&&(p.composedPath().some(m=>m.tagName==="LABEL")||(t.value=u([!1,e.falseValue,e.falseLabel].includes(t.value)),await fn(),c(t.value,p)))}const h=$(()=>(o==null?void 0:o.validateEvent)||e.validateEvent);return tt(()=>e.modelValue,()=>{h.value&&(s==null||s.validate("change").catch(p=>void 0))}),{handleChange:f,onClickRoot:d}},VUe=e=>{const t=Y(!1),{emit:n}=or(),r=$t(Sx,void 0),i=$(()=>mi(r)===!1),a=Y(!1),o=$({get(){var s,l;return i.value?(s=r==null?void 0:r.modelValue)==null?void 0:s.value:(l=e.modelValue)!=null?l:t.value},set(s){var l,u;i.value&&pt(s)?(a.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&s.length>(r==null?void 0:r.max.value)&&s.length>o.value.length,a.value===!1&&((u=r==null?void 0:r.changeEvent)==null||u.call(r,s))):(n(Yn,s),t.value=s)}});return{model:o,isGroup:i,isLimitExceeded:a}},zUe=(e,t,{model:n})=>{const r=$t(Sx,void 0),i=Y(!1),a=$(()=>uy(e.value)?e.label:e.value),o=$(()=>{const c=n.value;return Bi(c)?c:pt(c)?nr(a.value)?c.map(Ii).some(f=>ps(f,a.value)):c.map(Ii).includes(a.value):c!=null?c===e.trueValue||c===e.trueLabel:!!c}),s=oo($(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value}),{prop:!0}),l=oo($(()=>{var c;return(c=r==null?void 0:r.size)==null?void 0:c.value})),u=$(()=>!!t.default||!uy(a.value));return{checkboxButtonSize:s,isChecked:o,isFocused:i,checkboxSize:l,hasOwnLabel:u,actualValue:a}},Pge=(e,t)=>{const{formItem:n}=Bs(),{model:r,isGroup:i,isLimitExceeded:a}=VUe(e),{isFocused:o,isChecked:s,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,actualValue:f}=zUe(e,t,{model:r}),{isDisabled:d}=FUe({model:r,isChecked:s}),{inputId:h,isLabeledByFormItem:p}=zc(e,{formItemContext:n,disableIdGeneration:c,disableIdManagement:i}),{handleChange:v,onClickRoot:g}=UUe(e,{model:r,isLimitExceeded:a,hasOwnLabel:c,isDisabled:d,isLabeledByFormItem:p});return(()=>{function b(){var _,x;pt(r.value)&&!r.value.includes(f.value)?r.value.push(f.value):r.value=(x=(_=e.trueValue)!=null?_:e.trueLabel)!=null?x:!0}e.checked&&b()})(),yg({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},$(()=>i.value&&uy(e.value))),yg({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},$(()=>!!e.trueLabel)),yg({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},$(()=>!!e.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:s,isDisabled:d,isFocused:o,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:r,actualValue:f,handleChange:v,onClickRoot:g}},$Ue=le({name:"ElCheckbox"}),HUe=le({...$Ue,props:Oge,emits:Dge,setup(e){const t=e,n=_o(),{inputId:r,isLabeledByFormItem:i,isChecked:a,isDisabled:o,isFocused:s,checkboxSize:l,hasOwnLabel:u,model:c,actualValue:f,handleChange:d,onClickRoot:h}=Pge(t,n),p=at("checkbox"),v=$(()=>[p.b(),p.m(l.value),p.is("disabled",o.value),p.is("bordered",t.border),p.is("checked",a.value)]),g=$(()=>[p.e("input"),p.is("disabled",o.value),p.is("checked",a.value),p.is("indeterminate",t.indeterminate),p.is("focus",s.value)]);return(m,b)=>(H(),Ue(cr(!y(u)&&y(i)?"span":"label"),{class:j(y(v)),"aria-controls":m.indeterminate?m.ariaControls:null,onClick:y(h)},{default:J(()=>{var _,x,E,A;return[I("span",{class:j(y(g))},[m.trueValue||m.falseValue||m.trueLabel||m.falseLabel?Wn((H(),Q("input",{key:0,id:y(r),"onUpdate:modelValue":T=>Gi(c)?c.value=T:null,class:j(y(p).e("original")),type:"checkbox",indeterminate:m.indeterminate,name:m.name,tabindex:m.tabindex,disabled:y(o),"true-value":(x=(_=m.trueValue)!=null?_:m.trueLabel)!=null?x:!0,"false-value":(A=(E=m.falseValue)!=null?E:m.falseLabel)!=null?A:!1,onChange:y(d),onFocus:T=>s.value=!0,onBlur:T=>s.value=!1,onClick:xn(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[fM,y(c)]]):Wn((H(),Q("input",{key:1,id:y(r),"onUpdate:modelValue":T=>Gi(c)?c.value=T:null,class:j(y(p).e("original")),type:"checkbox",indeterminate:m.indeterminate,disabled:y(o),value:y(f),name:m.name,tabindex:m.tabindex,onChange:y(d),onFocus:T=>s.value=!0,onBlur:T=>s.value=!1,onClick:xn(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[fM,y(c)]]),I("span",{class:j(y(p).e("inner"))},null,2)],2),y(u)?(H(),Q("span",{key:0,class:j(y(p).e("label"))},[De(m.$slots,"default"),m.$slots.default?Be("v-if",!0):(H(),Q(St,{key:0},[$n(nt(m.label),1)],64))],2)):Be("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var WUe=_t(HUe,[["__file","checkbox.vue"]]);const GUe=le({name:"ElCheckboxButton"}),jUe=le({...GUe,props:Oge,emits:Dge,setup(e){const t=e,n=_o(),{isFocused:r,isChecked:i,isDisabled:a,checkboxButtonSize:o,model:s,actualValue:l,handleChange:u}=Pge(t,n),c=$t(Sx,void 0),f=at("checkbox"),d=$(()=>{var p,v,g,m;const b=(v=(p=c==null?void 0:c.fill)==null?void 0:p.value)!=null?v:"";return{backgroundColor:b,borderColor:b,color:(m=(g=c==null?void 0:c.textColor)==null?void 0:g.value)!=null?m:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),h=$(()=>[f.b("button"),f.bm("button",o.value),f.is("disabled",a.value),f.is("checked",i.value),f.is("focus",r.value)]);return(p,v)=>{var g,m,b,_;return H(),Q("label",{class:j(y(h))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?Wn((H(),Q("input",{key:0,"onUpdate:modelValue":x=>Gi(s)?s.value=x:null,class:j(y(f).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:y(a),"true-value":(m=(g=p.trueValue)!=null?g:p.trueLabel)!=null?m:!0,"false-value":(_=(b=p.falseValue)!=null?b:p.falseLabel)!=null?_:!1,onChange:y(u),onFocus:x=>r.value=!0,onBlur:x=>r.value=!1,onClick:xn(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[fM,y(s)]]):Wn((H(),Q("input",{key:1,"onUpdate:modelValue":x=>Gi(s)?s.value=x:null,class:j(y(f).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:y(a),value:y(l),onChange:y(u),onFocus:x=>r.value=!0,onBlur:x=>r.value=!1,onClick:xn(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[fM,y(s)]]),p.$slots.default||p.label?(H(),Q("span",{key:2,class:j(y(f).be("button","inner")),style:en(y(i)?y(d):void 0)},[De(p.$slots,"default",{},()=>[$n(nt(p.label),1)])],6)):Be("v-if",!0)],2)}}});var Lge=_t(jUe,[["__file","checkbox-button.vue"]]);const YUe=gt({modelValue:{type:Ie(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:yo,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...gs(["ariaLabel"])}),XUe={[Yn]:e=>pt(e),change:e=>pt(e)},KUe=le({name:"ElCheckboxGroup"}),qUe=le({...KUe,props:YUe,emits:XUe,setup(e,{emit:t}){const n=e,r=at("checkbox"),{formItem:i}=Bs(),{inputId:a,isLabeledByFormItem:o}=zc(n,{formItemContext:i}),s=async u=>{t(Yn,u),await fn(),t("change",u)},l=$({get(){return n.modelValue},set(u){s(u)}});return mr(Sx,{...Df(ts(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:s}),tt(()=>n.modelValue,()=>{n.validateEvent&&(i==null||i.validate("change").catch(u=>void 0))}),(u,c)=>{var f;return H(),Ue(cr(u.tag),{id:y(a),class:j(y(r).b("group")),role:"group","aria-label":y(o)?void 0:u.ariaLabel||"checkbox-group","aria-labelledby":y(o)?(f=y(i))==null?void 0:f.labelId:void 0},{default:J(()=>[De(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var Nge=_t(qUe,[["__file","checkbox-group.vue"]]);const ju=Un(WUe,{CheckboxButton:Lge,CheckboxGroup:Nge}),ZUe=Aa(Lge),Y$=Aa(Nge),Bge=gt({modelValue:{type:[String,Number,Boolean],default:void 0},size:yo,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),QUe=gt({...Bge,border:Boolean}),kge={[Yn]:e=>an(e)||gn(e)||Bi(e),[wi]:e=>an(e)||gn(e)||Bi(e)},Fge=Symbol("radioGroupKey"),Uge=(e,t)=>{const n=Y(),r=$t(Fge,void 0),i=$(()=>!!r),a=$(()=>uy(e.value)?e.label:e.value),o=$({get(){return i.value?r.modelValue:e.modelValue},set(f){i.value?r.changeEvent(f):t&&t(Yn,f),n.value.checked=e.modelValue===a.value}}),s=oo($(()=>r==null?void 0:r.size)),l=ks($(()=>r==null?void 0:r.disabled)),u=Y(!1),c=$(()=>l.value||i.value&&o.value!==a.value?-1:0);return yg({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},$(()=>i.value&&uy(e.value))),{radioRef:n,isGroup:i,radioGroup:r,focus:u,size:s,disabled:l,tabIndex:c,modelValue:o,actualValue:a}},JUe=le({name:"ElRadio"}),eVe=le({...JUe,props:QUe,emits:kge,setup(e,{emit:t}){const n=e,r=at("radio"),{radioRef:i,radioGroup:a,focus:o,size:s,disabled:l,modelValue:u,actualValue:c}=Uge(n,t);function f(){fn(()=>t("change",u.value))}return(d,h)=>{var p;return H(),Q("label",{class:j([y(r).b(),y(r).is("disabled",y(l)),y(r).is("focus",y(o)),y(r).is("bordered",d.border),y(r).is("checked",y(u)===y(c)),y(r).m(y(s))])},[I("span",{class:j([y(r).e("input"),y(r).is("disabled",y(l)),y(r).is("checked",y(u)===y(c))])},[Wn(I("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":v=>Gi(u)?u.value=v:null,class:j(y(r).e("original")),value:y(c),name:d.name||((p=y(a))==null?void 0:p.name),disabled:y(l),checked:y(u)===y(c),type:"radio",onFocus:v=>o.value=!0,onBlur:v=>o.value=!1,onChange:f,onClick:xn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[Epe,y(u)]]),I("span",{class:j(y(r).e("inner"))},null,2)],2),I("span",{class:j(y(r).e("label")),onKeydown:xn(()=>{},["stop"])},[De(d.$slots,"default",{},()=>[$n(nt(d.label),1)])],42,["onKeydown"])],2)}}});var tVe=_t(eVe,[["__file","radio.vue"]]);const nVe=gt({...Bge}),rVe=le({name:"ElRadioButton"}),iVe=le({...rVe,props:nVe,setup(e){const t=e,n=at("radio"),{radioRef:r,focus:i,size:a,disabled:o,modelValue:s,radioGroup:l,actualValue:u}=Uge(t),c=$(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(f,d)=>{var h;return H(),Q("label",{class:j([y(n).b("button"),y(n).is("active",y(s)===y(u)),y(n).is("disabled",y(o)),y(n).is("focus",y(i)),y(n).bm("button",y(a))])},[Wn(I("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":p=>Gi(s)?s.value=p:null,class:j(y(n).be("button","original-radio")),value:y(u),type:"radio",name:f.name||((h=y(l))==null?void 0:h.name),disabled:y(o),onFocus:p=>i.value=!0,onBlur:p=>i.value=!1,onClick:xn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[Epe,y(s)]]),I("span",{class:j(y(n).be("button","inner")),style:en(y(s)===y(u)?y(c):{}),onKeydown:xn(()=>{},["stop"])},[De(f.$slots,"default",{},()=>[$n(nt(f.label),1)])],46,["onKeydown"])],2)}}});var Vge=_t(iVe,[["__file","radio-button.vue"]]);const aVe=gt({id:{type:String,default:void 0},size:yo,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...gs(["ariaLabel"])}),oVe=kge,sVe=le({name:"ElRadioGroup"}),lVe=le({...sVe,props:aVe,emits:oVe,setup(e,{emit:t}){const n=e,r=at("radio"),i=vs(),a=Y(),{formItem:o}=Bs(),{inputId:s,isLabeledByFormItem:l}=zc(n,{formItemContext:o}),u=f=>{t(Yn,f),fn(()=>t("change",f))};Tn(()=>{const f=a.value.querySelectorAll("[type=radio]"),d=f[0];!Array.from(f).some(h=>h.checked)&&d&&(d.tabIndex=0)});const c=$(()=>n.name||i.value);return mr(Fge,zn({...ts(n),changeEvent:u,name:c})),tt(()=>n.modelValue,()=>{n.validateEvent&&(o==null||o.validate("change").catch(f=>void 0))}),(f,d)=>(H(),Q("div",{id:y(s),ref_key:"radioGroupRef",ref:a,class:j(y(r).b("group")),role:"radiogroup","aria-label":y(l)?void 0:f.ariaLabel||"radio-group","aria-labelledby":y(l)?y(o).labelId:void 0},[De(f.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var zge=_t(lVe,[["__file","radio-group.vue"]]);const $ge=Un(tVe,{RadioButton:Vge,RadioGroup:zge}),By=Aa(zge),ky=Aa(Vge);var uVe=le({name:"NodeContent",setup(){return{ns:at("cascader-node")}},render(){const{ns:e}=this,{node:t,panel:n}=this.$parent,{data:r,label:i}=t,{renderLabelFn:a}=n;return pn("span",{class:e.e("label")},a?a({node:t,data:r}):i)}});const X$=Symbol(),cVe=le({name:"ElCascaderNode",components:{ElCheckbox:ju,ElRadio:$ge,NodeContent:uVe,ElIcon:Xt,Check:jT,Loading:Qd,ArrowRight:Cl},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const n=$t(X$),r=at("cascader-node"),i=$(()=>n.isHoverMenu),a=$(()=>n.config.multiple),o=$(()=>n.config.checkStrictly),s=$(()=>{var A;return(A=n.checkedNodes[0])==null?void 0:A.uid}),l=$(()=>e.node.isDisabled),u=$(()=>e.node.isLeaf),c=$(()=>o.value&&!u.value||!l.value),f=$(()=>h(n.expandingNode)),d=$(()=>o.value&&n.checkedNodes.some(h)),h=A=>{var T;const{level:R,uid:M}=e.node;return((T=A==null?void 0:A.pathNodes[R-1])==null?void 0:T.uid)===M},p=()=>{f.value||n.expandNode(e.node)},v=A=>{const{node:T}=e;A!==T.checked&&n.handleCheckChange(T,A)},g=()=>{n.lazyLoad(e.node,()=>{u.value||p()})},m=A=>{i.value&&(b(),!u.value&&t("expand",A))},b=()=>{const{node:A}=e;!c.value||A.loading||(A.loaded?p():g())},_=()=>{i.value&&!u.value||(u.value&&!l.value&&!o.value&&!a.value?E(!0):b())},x=A=>{o.value?(v(A),e.node.loaded&&p()):E(A)},E=A=>{e.node.loaded?(v(A),!o.value&&p()):g()};return{panel:n,isHoverMenu:i,multiple:a,checkStrictly:o,checkedNodeId:s,isDisabled:l,isLeaf:u,expandable:c,inExpandingPath:f,inCheckedPath:d,ns:r,handleHoverExpand:m,handleExpand:b,handleClick:_,handleCheck:E,handleSelectCheck:x}}});function fVe(e,t,n,r,i,a){const o=ur("el-checkbox"),s=ur("el-radio"),l=ur("check"),u=ur("el-icon"),c=ur("node-content"),f=ur("loading"),d=ur("arrow-right");return H(),Q("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:j([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:e.handleHoverExpand,onFocus:e.handleHoverExpand,onClick:e.handleClick},[Be(" prefix "),e.multiple?(H(),Ue(o,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:xn(()=>{},["stop"]),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):e.checkStrictly?(H(),Ue(s,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:xn(()=>{},["stop"])},{default:J(()=>[Be(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),I("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):e.isLeaf&&e.node.checked?(H(),Ue(u,{key:2,class:j(e.ns.e("prefix"))},{default:J(()=>[z(l)]),_:1},8,["class"])):Be("v-if",!0),Be(" content "),z(c),Be(" postfix "),e.isLeaf?Be("v-if",!0):(H(),Q(St,{key:3},[e.node.loading?(H(),Ue(u,{key:0,class:j([e.ns.is("loading"),e.ns.e("postfix")])},{default:J(()=>[z(f)]),_:1},8,["class"])):(H(),Ue(u,{key:1,class:j(["arrow-right",e.ns.e("postfix")])},{default:J(()=>[z(d)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var dVe=_t(cVe,[["render",fVe],["__file","node.vue"]]);const hVe=le({name:"ElCascaderMenu",components:{Loading:Qd,ElIcon:Xt,ElScrollbar:ch,ElCascaderNode:dVe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=or(),n=at("cascader-menu"),{t:r}=Lr(),i=vs();let a=null,o=null;const s=$t(X$),l=Y(null),u=$(()=>!e.nodes.length),c=$(()=>!s.initialLoaded),f=$(()=>`${i.value}-${e.index}`),d=g=>{a=g.target},h=g=>{if(!(!s.isHoverMenu||!a||!l.value))if(a.contains(g.target)){p();const m=t.vnode.el,{left:b}=m.getBoundingClientRect(),{offsetWidth:_,offsetHeight:x}=m,E=g.clientX-b,A=a.offsetTop,T=A+a.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${E} ${A} L${_} 0 V${A} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${E} ${T} L${_} ${x} V${T} Z" />
        `}else o||(o=window.setTimeout(v,s.config.hoverThreshold))},p=()=>{o&&(clearTimeout(o),o=null)},v=()=>{l.value&&(l.value.innerHTML="",p())};return{ns:n,panel:s,hoverZone:l,isEmpty:u,isLoading:c,menuId:f,t:r,handleExpand:d,handleMouseMove:h,clearHoverZone:v}}});function pVe(e,t,n,r,i,a){const o=ur("el-cascader-node"),s=ur("loading"),l=ur("el-icon"),u=ur("el-scrollbar");return H(),Ue(u,{key:e.menuId,tag:"ul",role:"menu",class:j(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:J(()=>{var c;return[(H(!0),Q(St,null,Nn(e.nodes,f=>(H(),Ue(o,{key:f.uid,node:f,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),e.isLoading?(H(),Q("div",{key:0,class:j(e.ns.e("empty-text"))},[z(l,{size:"14",class:j(e.ns.is("loading"))},{default:J(()=>[z(s)]),_:1},8,["class"]),$n(" "+nt(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(H(),Q("div",{key:1,class:j(e.ns.e("empty-text"))},[De(e.$slots,"empty",{},()=>[$n(nt(e.t("el.cascader.noData")),1)])],2)):(c=e.panel)!=null&&c.isHoverMenu?(H(),Q("svg",{key:2,ref:"hoverZone",class:j(e.ns.e("hover-zone"))},null,2)):Be("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var vVe=_t(hVe,[["render",pVe],["__file","menu.vue"]]);const K$=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),kd=e=>FT(e);let gVe=0;const mVe=e=>{const t=[e];let{parent:n}=e;for(;n;)t.unshift(n),n=n.parent;return t};let rU=class iU{constructor(t,n,r,i=!1){this.data=t,this.config=n,this.parent=r,this.root=i,this.uid=gVe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:a,label:o,children:s}=n,l=t[s],u=mVe(this);this.level=i?0:r?r.level+1:1,this.value=t[a],this.label=t[o],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new iU(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!Du(l)}get isDisabled(){const{data:t,parent:n,config:r}=this,{disabled:i,checkStrictly:a}=r;return(on(i)?i(t,this):!!t[i])||!a&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:t,config:n,childrenData:r,loaded:i}=this,{lazy:a,leaf:o}=n,s=on(o)?o(t,this):t[o];return mi(s)?a&&!i?!1:!(pt(r)&&r.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:n,children:r}=this,i=new iU(t,this.config,this);return pt(n)?n.push(t):this.childrenData=[t],r.push(i),i}calcText(t,n){const r=t?this.pathLabels.join(n):this.label;return this.text=r,r}broadcast(t,...n){const r=`onParent${kd(t)}`;this.children.forEach(i=>{i&&(i.broadcast(t,...n),i[r]&&i[r](...n))})}emit(t,...n){const{parent:r}=this,i=`onChild${kd(t)}`;r&&(r[i]&&r[i](...n),r.emit(t,...n))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,n=t.filter(i=>!i.isDisabled),r=n.length?n.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(t){const n=this.children.length,r=this.children.reduce((i,a)=>{const o=a.checked?1:a.indeterminate?.5:0;return i+o},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&t,this.indeterminate=this.loaded&&r!==n&&r>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:n,multiple:r}=this.config;n||!r?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const aU=(e,t)=>e.reduce((n,r)=>(r.isLeaf?n.push(r):(!t&&n.push(r),n=n.concat(aU(r.children,t))),n),[]);class qK{constructor(t,n){this.config=n;const r=(t||[]).map(i=>new rU(i,this.config));this.nodes=r,this.allNodes=aU(r,!1),this.leafNodes=aU(r,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,n){const r=n?n.appendChild(t):new rU(t,this.config);n||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(t,n){t.forEach(r=>this.appendNode(r,n))}getNodeByValue(t,n=!1){return!t&&t!==0?null:this.getFlattedNodes(n).find(i=>ps(i.value,t)||ps(i.pathValues,t))||null}getSameNode(t){return t&&this.getFlattedNodes(!1).find(({value:r,level:i})=>ps(t.value,r)&&t.level===i)||null}}const Hge=gt({modelValue:{type:Ie([Number,String,Array])},options:{type:Ie(Array),default:()=>[]},props:{type:Ie(Object),default:()=>({})}}),yVe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:gi,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},_Ve=e=>$(()=>({...yVe,...e.props})),ZK=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},bVe=e=>{if(!e)return;const t=e.querySelector("input");t?t.click():Kve(e)&&e.click()},xVe=(e,t)=>{const n=t.slice(0),r=n.map(a=>a.uid),i=e.reduce((a,o)=>{const s=r.indexOf(o.uid);return s>-1&&(a.push(o),n.splice(s,1),r.splice(s,1)),a},[]);return i.push(...n),i},QK=e=>[...new Set(e)],Al=e=>!e&&e!==0?[]:pt(e)?e:[e],SVe=le({name:"ElCascaderPanel",components:{ElCascaderMenu:vVe},props:{...Hge,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Yn,wi,"close","expand-change"],setup(e,{emit:t,slots:n}){let r=!1;const i=at("cascader"),a=_Ve(e);let o=null;const s=Y(!0),l=Y([]),u=Y(null),c=Y([]),f=Y(null),d=Y([]),h=$(()=>a.value.expandTrigger==="hover"),p=$(()=>e.renderLabel||n.default),v=()=>{const{options:C}=e,P=a.value;r=!1,o=new qK(C,P),c.value=[o.getNodes()],P.lazy&&Du(e.options)?(s.value=!1,g(void 0,B=>{B&&(o=new qK(B,P),c.value=[o.getNodes()]),s.value=!0,R(!1,!0)})):R(!1,!0)},g=(C,P)=>{const B=a.value;C=C||new rU({},B,void 0,!0),C.loading=!0;const U=L=>{const F=C,N=F.root?null:F;L&&(o==null||o.appendNodes(L,N)),F.loading=!1,F.loaded=!0,F.childrenData=F.childrenData||[],P&&P(L)};B.lazyLoad(C,U)},m=(C,P)=>{var B;const{level:U}=C,L=c.value.slice(0,U);let F;C.isLeaf?F=C.pathNodes[U-2]:(F=C,L.push(C.children)),((B=f.value)==null?void 0:B.uid)!==(F==null?void 0:F.uid)&&(f.value=C,c.value=L,!P&&t("expand-change",(C==null?void 0:C.pathValues)||[]))},b=(C,P,B=!0)=>{const{checkStrictly:U,multiple:L}=a.value,F=d.value[0];r=!0,!L&&(F==null||F.doCheck(!1)),C.doCheck(P),T(),B&&!L&&!U&&t("close"),!B&&!L&&!U&&_(C)},_=C=>{C&&(C=C.parent,_(C),C&&m(C))},x=C=>o==null?void 0:o.getFlattedNodes(C),E=C=>{var P;return(P=x(C))==null?void 0:P.filter(B=>B.checked!==!1)},A=()=>{d.value.forEach(C=>C.doCheck(!1)),T(),c.value=c.value.slice(0,1),f.value=null,t("expand-change",[])},T=()=>{var C;const{checkStrictly:P,multiple:B}=a.value,U=d.value,L=E(!P),F=xVe(U,L),N=F.map(V=>V.valueByOption);d.value=F,u.value=B?N:(C=N[0])!=null?C:null},R=(C=!1,P=!1)=>{const{modelValue:B}=e,{lazy:U,multiple:L,checkStrictly:F}=a.value,N=!F;if(!(!s.value||r||!P&&ps(B,u.value)))if(U&&!C){const W=QK(xBe(Al(B))).map(G=>o==null?void 0:o.getNodeByValue(G)).filter(G=>!!G&&!G.loaded&&!G.loading);W.length?W.forEach(G=>{g(G,()=>R(!1,P))}):R(!0,P)}else{const V=L?Al(B):[B],W=QK(V.map(G=>o==null?void 0:o.getNodeByValue(G,N)));M(W,P),u.value=pM(B)}},M=(C,P=!0)=>{const{checkStrictly:B}=a.value,U=d.value,L=C.filter(V=>!!V&&(B||V.isLeaf)),F=o==null?void 0:o.getSameNode(f.value),N=P&&F||L[0];N?N.pathNodes.forEach(V=>m(V,!0)):f.value=null,U.forEach(V=>V.doCheck(!1)),zn(L).forEach(V=>V.doCheck(!0)),d.value=L,fn(O)},O=()=>{Pr&&l.value.forEach(C=>{const P=C==null?void 0:C.$el;if(P){const B=P.querySelector(`.${i.namespace.value}-scrollbar__wrap`),U=P.querySelector(`.${i.b("node")}.${i.is("active")}`)||P.querySelector(`.${i.b("node")}.in-active-path`);E$(B,U)}})},D=C=>{const P=C.target,{code:B}=C;switch(B){case kt.up:case kt.down:{C.preventDefault();const U=B===kt.up?-1:1;KI(qve(P,U,`.${i.b("node")}[tabindex="-1"]`));break}case kt.left:{C.preventDefault();const U=l.value[ZK(P)-1],L=U==null?void 0:U.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);KI(L);break}case kt.right:{C.preventDefault();const U=l.value[ZK(P)+1],L=U==null?void 0:U.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);KI(L);break}case kt.enter:case kt.numpadEnter:bVe(P);break}};return mr(X$,zn({config:a,expandingNode:f,checkedNodes:d,isHoverMenu:h,initialLoaded:s,renderLabelFn:p,lazyLoad:g,expandNode:m,handleCheckChange:b})),tt([a,()=>e.options],v,{deep:!0,immediate:!0}),tt(()=>e.modelValue,()=>{r=!1,R()},{deep:!0}),tt(()=>u.value,C=>{ps(C,e.modelValue)||(t(Yn,C),t(wi,C))}),Ghe(()=>l.value=[]),Tn(()=>!Du(e.modelValue)&&R()),{ns:i,menuList:l,menus:c,checkedNodes:d,handleKeyDown:D,handleCheckChange:b,getFlattedNodes:x,getCheckedNodes:E,clearCheckedNodes:A,calculateCheckedValue:T,scrollToExpandingNode:O}}});function AVe(e,t,n,r,i,a){const o=ur("el-cascader-menu");return H(),Q("div",{class:j([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:e.handleKeyDown},[(H(!0),Q(St,null,Nn(e.menus,(s,l)=>(H(),Ue(o,{key:l,ref_for:!0,ref:u=>e.menuList[l]=u,index:l,nodes:[...s]},{empty:J(()=>[De(e.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var EVe=_t(SVe,[["render",AVe],["__file","index.vue"]]);const Wge=Un(EVe),Tp=gt({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:uh},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),TVe={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},wVe=le({name:"ElTag"}),CVe=le({...wVe,props:Tp,emits:TVe,setup(e,{emit:t}){const n=e,r=oo(),i=at("tag"),a=$(()=>{const{type:u,hit:c,effect:f,closable:d,round:h}=n;return[i.b(),i.is("closable",d),i.m(u||"primary"),i.m(r.value),i.m(f),i.is("hit",c),i.is("round",h)]}),o=u=>{t("close",u)},s=u=>{t("click",u)},l=u=>{var c,f,d;(d=(f=(c=u==null?void 0:u.component)==null?void 0:c.subTree)==null?void 0:f.component)!=null&&d.bum&&(u.component.subTree.component.bum=null)};return(u,c)=>u.disableTransitions?(H(),Q("span",{key:0,class:j(y(a)),style:en({backgroundColor:u.color}),onClick:s},[I("span",{class:j(y(i).e("content"))},[De(u.$slots,"default")],2),u.closable?(H(),Ue(y(Xt),{key:0,class:j(y(i).e("close")),onClick:xn(o,["stop"])},{default:J(()=>[z(y(Yf))]),_:1},8,["class","onClick"])):Be("v-if",!0)],6)):(H(),Ue(ns,{key:1,name:`${y(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:J(()=>[I("span",{class:j(y(a)),style:en({backgroundColor:u.color}),onClick:s},[I("span",{class:j(y(i).e("content"))},[De(u.$slots,"default")],2),u.closable?(H(),Ue(y(Xt),{key:0,class:j(y(i).e("close")),onClick:xn(o,["stop"])},{default:J(()=>[z(y(Yf))]),_:1},8,["class","onClick"])):Be("v-if",!0)],6)]),_:3},8,["name"]))}});var RVe=_t(CVe,[["__file","tag.vue"]]);const dy=Un(RVe),IVe=gt({...Hge,size:yo,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Ie(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Ie(Function),default:()=>!0},placement:{type:Ie(String),values:$p,default:"bottom-start"},fallbackPlacements:{type:Ie(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:jo.teleported,tagType:{...Tp.type,default:"info"},tagEffect:{...Tp.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},..._x}),MVe={[Yn]:e=>!0,[wi]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>Bi(e),expandChange:e=>!!e,removeTag:e=>!!e},zv=new Map;if(Pr){let e;document.addEventListener("mousedown",t=>e=t),document.addEventListener("mouseup",t=>{if(e){for(const n of zv.values())for(const{documentHandler:r}of n)r(t,e);e=void 0}})}function JK(e,t){let n=[];return pt(t.arg)?n=t.arg:Vu(t.arg)&&n.push(t.arg),function(r,i){const a=t.instance.popperRef,o=r.target,s=i==null?void 0:i.target,l=!t||!t.instance,u=!o||!s,c=e.contains(o)||e.contains(s),f=e===o,d=n.length&&n.some(p=>p==null?void 0:p.contains(o))||n.length&&n.includes(s),h=a&&(a.contains(o)||a.contains(s));l||u||c||f||d||h||t.value(r,i)}}const wp={beforeMount(e,t){zv.has(e)||zv.set(e,[]),zv.get(e).push({documentHandler:JK(e,t),bindingFn:t.value})},updated(e,t){zv.has(e)||zv.set(e,[]);const n=zv.get(e),r=n.findIndex(a=>a.bindingFn===t.oldValue),i={documentHandler:JK(e,t),bindingFn:t.value};r>=0?n.splice(r,1,i):n.push(i)},unmounted(e){zv.delete(e)}},OVe="ElCascader",DVe=le({name:OVe}),PVe=le({...DVe,props:IVe,emits:MVe,setup(e,{expose:t,emit:n}){const r=e,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:Re})=>{const{modifiersData:ut,placement:_e}=Re;["right","left","bottom","top"].includes(_e)||(ut.arrow.x=35)},requires:["arrow"]}]},a=qg();let o=0,s=0;const l=at("cascader"),u=at("input"),{t:c}=Lr(),{form:f,formItem:d}=Bs(),{valueOnClear:h}=kD(r),{isComposing:p,handleComposition:v}=XT({afterComposition(Re){var ut;const _e=(ut=Re.target)==null?void 0:ut.value;We(_e)}}),g=Y(null),m=Y(null),b=Y(null),_=Y(null),x=Y(null),E=Y(!1),A=Y(!1),T=Y(!1),R=Y(!1),M=Y(""),O=Y(""),D=Y([]),C=Y([]),P=Y([]),B=$(()=>a.style),U=$(()=>r.disabled||(f==null?void 0:f.disabled)),L=$(()=>r.placeholder||c("el.cascader.placeholder")),F=$(()=>O.value||D.value.length>0||p.value?"":L.value),N=oo(),V=$(()=>N.value==="small"?"small":"default"),W=$(()=>!!r.props.multiple),G=$(()=>!r.filterable||W.value),K=$(()=>W.value?O.value:M.value),q=$(()=>{var Re;return((Re=_.value)==null?void 0:Re.checkedNodes)||[]}),ue=$(()=>!r.clearable||U.value||T.value||!A.value?!1:!!q.value.length),he=$(()=>{const{showAllLevels:Re,separator:ut}=r,_e=q.value;return _e.length?W.value?"":_e[0].calcText(Re,ut):""}),Ce=$(()=>(d==null?void 0:d.validateState)||""),ee=$({get(){return pM(r.modelValue)},set(Re){const ut=Re??h.value;n(Yn,ut),n(wi,ut),r.validateEvent&&(d==null||d.validate("change").catch(_e=>void 0))}}),de=$(()=>[l.b(),l.m(N.value),l.is("disabled",U.value),a.class]),oe=$(()=>[u.e("icon"),"icon-arrow-down",l.is("reverse",E.value)]),pe=$(()=>l.is("focus",E.value||R.value)),me=$(()=>{var Re,ut;return(ut=(Re=g.value)==null?void 0:Re.popperRef)==null?void 0:ut.contentRef}),re=Re=>{var ut,_e,It;U.value||(Re=Re??!E.value,Re!==E.value&&(E.value=Re,(_e=(ut=m.value)==null?void 0:ut.input)==null||_e.setAttribute("aria-expanded",`${Re}`),Re?(ne(),fn((It=_.value)==null?void 0:It.scrollToExpandingNode)):r.filterable&&Tt(),n("visibleChange",Re)))},ne=()=>{fn(()=>{var Re;(Re=g.value)==null||Re.updatePopper()})},se=()=>{T.value=!1},be=Re=>{const{showAllLevels:ut,separator:_e}=r;return{node:Re,key:Re.uid,text:Re.calcText(ut,_e),hitState:!1,closable:!U.value&&!Re.isDisabled,isCollapseTag:!1}},Pe=Re=>{var ut;const _e=Re.node;_e.doCheck(!1),(ut=_.value)==null||ut.calculateCheckedValue(),n("removeTag",_e.valueByOption)},Ee=()=>{if(!W.value)return;const Re=q.value,ut=[],_e=[];if(Re.forEach(It=>_e.push(be(It))),C.value=_e,Re.length){Re.slice(0,r.maxCollapseTags).forEach(pr=>ut.push(be(pr)));const It=Re.slice(r.maxCollapseTags),Pn=It.length;Pn&&(r.collapseTags?ut.push({key:-1,text:`+ ${Pn}`,closable:!1,isCollapseTag:!0}):It.forEach(pr=>ut.push(be(pr))))}D.value=ut},Le=()=>{var Re,ut;const{filterMethod:_e,showAllLevels:It,separator:Pn}=r,pr=(ut=(Re=_.value)==null?void 0:Re.getFlattedNodes(!r.props.checkStrictly))==null?void 0:ut.filter(_i=>_i.isDisabled?!1:(_i.calcText(It,Pn),_e(_i,K.value)));W.value&&(D.value.forEach(_i=>{_i.hitState=!1}),C.value.forEach(_i=>{_i.hitState=!1})),T.value=!0,P.value=pr,ne()},He=()=>{var Re;let ut;T.value&&x.value?ut=x.value.$el.querySelector(`.${l.e("suggestion-item")}`):ut=(Re=_.value)==null?void 0:Re.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),ut&&(ut.focus(),!T.value&&ut.click())},rt=()=>{var Re,ut;const _e=(Re=m.value)==null?void 0:Re.input,It=b.value,Pn=(ut=x.value)==null?void 0:ut.$el;if(!(!Pr||!_e)){if(Pn){const pr=Pn.querySelector(`.${l.e("suggestion-list")}`);pr.style.minWidth=`${_e.offsetWidth}px`}if(It){const{offsetHeight:pr}=It,_i=D.value.length>0?`${Math.max(pr,o)-2}px`:`${o}px`;_e.style.height=_i,ne()}}},Je=Re=>{var ut;return(ut=_.value)==null?void 0:ut.getCheckedNodes(Re)},ot=Re=>{ne(),n("expandChange",Re)},ae=Re=>{if(!p.value)switch(Re.code){case kt.enter:case kt.numpadEnter:re();break;case kt.down:re(!0),fn(He),Re.preventDefault();break;case kt.esc:E.value===!0&&(Re.preventDefault(),Re.stopPropagation(),re(!1));break;case kt.tab:re(!1);break}},Xe=()=>{var Re;(Re=_.value)==null||Re.clearCheckedNodes(),!E.value&&r.filterable&&Tt(),re(!1),n("clear")},Tt=()=>{const{value:Re}=he;M.value=Re,O.value=Re},sn=Re=>{var ut,_e;const{checked:It}=Re;W.value?(ut=_.value)==null||ut.handleCheckChange(Re,!It,!1):(!It&&((_e=_.value)==null||_e.handleCheckChange(Re,!0,!1)),re(!1))},Mn=Re=>{const ut=Re.target,{code:_e}=Re;switch(_e){case kt.up:case kt.down:{const It=_e===kt.up?-1:1;KI(qve(ut,It,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case kt.enter:case kt.numpadEnter:ut.click();break}},Sn=()=>{const Re=D.value,ut=Re[Re.length-1];s=O.value?0:s+1,!(!ut||!s||r.collapseTags&&Re.length>1)&&(ut.hitState?Pe(ut):ut.hitState=!0)},En=Re=>{const ut=Re.target,_e=l.e("search-input");ut.className===_e&&(R.value=!0),n("focus",Re)},Gn=Re=>{R.value=!1,n("blur",Re)},_r=yu(()=>{const{value:Re}=K;if(!Re)return;const ut=r.beforeFilter(Re);g2(ut)?ut.then(Le).catch(()=>{}):ut!==!1?Le():se()},r.debounce),We=(Re,ut)=>{!E.value&&re(!0),!(ut!=null&&ut.isComposing)&&(Re?_r():se())},yt=Re=>Number.parseFloat(n6e(u.cssVarName("input-height"),Re).value)-2;return tt(T,ne),tt([q,U,()=>r.collapseTags],Ee),tt(D,()=>{fn(()=>rt())}),tt(N,async()=>{await fn();const Re=m.value.input;o=yt(Re)||o,rt()}),tt(he,Tt,{immediate:!0}),Tn(()=>{const Re=m.value.input,ut=yt(Re);o=Re.offsetHeight||ut,oa(Re,rt)}),t({getCheckedNodes:Je,cascaderPanelRef:_,togglePopperVisible:re,contentRef:me,presentText:he}),(Re,ut)=>(H(),Ue(y(Ps),{ref_key:"tooltipRef",ref:g,visible:E.value,teleported:Re.teleported,"popper-class":[y(l).e("dropdown"),Re.popperClass],"popper-options":i,"fallback-placements":Re.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:Re.placement,transition:`${y(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:Re.persistent,onHide:se},{default:J(()=>[Wn((H(),Q("div",{class:j(y(de)),style:en(y(B)),onClick:()=>re(y(G)?void 0:!0),onKeydown:ae,onMouseenter:_e=>A.value=!0,onMouseleave:_e=>A.value=!1},[z(y(da),{ref_key:"input",ref:m,modelValue:M.value,"onUpdate:modelValue":_e=>M.value=_e,placeholder:y(F),readonly:y(G),disabled:y(U),"validate-event":!1,size:y(N),class:j(y(pe)),tabindex:y(W)&&Re.filterable&&!y(U)?-1:void 0,onCompositionstart:y(v),onCompositionupdate:y(v),onCompositionend:y(v),onFocus:En,onBlur:Gn,onInput:We},{suffix:J(()=>[y(ue)?(H(),Ue(y(Xt),{key:"clear",class:j([y(u).e("icon"),"icon-circle-close"]),onClick:xn(Xe,["stop"])},{default:J(()=>[z(y(zp))]),_:1},8,["class","onClick"])):(H(),Ue(y(Xt),{key:"arrow-down",class:j(y(oe)),onClick:xn(_e=>re(),["stop"])},{default:J(()=>[z(y(Vp))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),y(W)?(H(),Q("div",{key:0,ref_key:"tagWrapper",ref:b,class:j([y(l).e("tags"),y(l).is("validate",!!y(Ce))])},[(H(!0),Q(St,null,Nn(D.value,_e=>(H(),Ue(y(dy),{key:_e.key,type:Re.tagType,size:y(V),effect:Re.tagEffect,hit:_e.hitState,closable:_e.closable,"disable-transitions":"",onClose:It=>Pe(_e)},{default:J(()=>[_e.isCollapseTag===!1?(H(),Q("span",{key:0},nt(_e.text),1)):(H(),Ue(y(Ps),{key:1,disabled:E.value||!Re.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:J(()=>[I("span",null,nt(_e.text),1)]),content:J(()=>[I("div",{class:j(y(l).e("collapse-tags"))},[(H(!0),Q(St,null,Nn(C.value.slice(Re.maxCollapseTags),(It,Pn)=>(H(),Q("div",{key:Pn,class:j(y(l).e("collapse-tag"))},[(H(),Ue(y(dy),{key:It.key,class:"in-tooltip",type:Re.tagType,size:y(V),effect:Re.tagEffect,hit:It.hitState,closable:It.closable,"disable-transitions":"",onClose:pr=>Pe(It)},{default:J(()=>[I("span",null,nt(It.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),Re.filterable&&!y(U)?Wn((H(),Q("input",{key:0,"onUpdate:modelValue":_e=>O.value=_e,type:"text",class:j(y(l).e("search-input")),placeholder:y(he)?"":y(L),onInput:_e=>We(O.value,_e),onClick:xn(_e=>re(!0),["stop"]),onKeydown:Mi(Sn,["delete"]),onCompositionstart:y(v),onCompositionupdate:y(v),onCompositionend:y(v),onFocus:En,onBlur:Gn},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[RD,O.value]]):Be("v-if",!0)],2)):Be("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[y(wp),()=>re(!1),y(me)]])]),content:J(()=>[Wn(z(y(Wge),{ref_key:"cascaderPanelRef",ref:_,modelValue:y(ee),"onUpdate:modelValue":_e=>Gi(ee)?ee.value=_e:null,options:Re.options,props:r.props,border:!1,"render-label":Re.$slots.default,onExpandChange:ot,onClose:_e=>Re.$nextTick(()=>re(!1))},{empty:J(()=>[De(Re.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[Xr,!T.value]]),Re.filterable?Wn((H(),Ue(y(ch),{key:0,ref_key:"suggestionPanel",ref:x,tag:"ul",class:j(y(l).e("suggestion-panel")),"view-class":y(l).e("suggestion-list"),onKeydown:Mn},{default:J(()=>[P.value.length?(H(!0),Q(St,{key:0},Nn(P.value,_e=>(H(),Q("li",{key:_e.uid,class:j([y(l).e("suggestion-item"),y(l).is("checked",_e.checked)]),tabindex:-1,onClick:It=>sn(_e)},[I("span",null,nt(_e.text),1),_e.checked?(H(),Ue(y(Xt),{key:0},{default:J(()=>[z(y(jT))]),_:1})):Be("v-if",!0)],10,["onClick"]))),128)):De(Re.$slots,"empty",{key:1},()=>[I("li",{class:j(y(l).e("empty-text"))},nt(y(c)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Xr,T.value]]):Be("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var LVe=_t(PVe,[["__file","cascader.vue"]]);const NVe=Un(LVe),BVe=gt({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),kVe={"update:checked":e=>Bi(e),[wi]:e=>Bi(e)},FVe=le({name:"ElCheckTag"}),UVe=le({...FVe,props:BVe,emits:kVe,setup(e,{emit:t}){const n=e,r=at("check-tag"),i=$(()=>n.disabled),a=$(()=>[r.b(),r.is("checked",n.checked),r.is("disabled",i.value),r.m(n.type||"primary")]),o=()=>{if(i.value)return;const s=!n.checked;t(wi,s),t("update:checked",s)};return(s,l)=>(H(),Q("span",{class:j(y(a)),onClick:o},[De(s.$slots,"default")],2))}});var VVe=_t(UVe,[["__file","check-tag.vue"]]);const zVe=Un(VVe),$Ve=gt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Ie([Number,Object]),default:()=>xa({})},sm:{type:Ie([Number,Object]),default:()=>xa({})},md:{type:Ie([Number,Object]),default:()=>xa({})},lg:{type:Ie([Number,Object]),default:()=>xa({})},xl:{type:Ie([Number,Object]),default:()=>xa({})}}),Gge=Symbol("rowContextKey"),HVe=le({name:"ElCol"}),WVe=le({...HVe,props:$Ve,setup(e){const t=e,{gutter:n}=$t(Gge,{gutter:$(()=>0)}),r=at("col"),i=$(()=>{const o={};return n.value&&(o.paddingLeft=o.paddingRight=`${n.value/2}px`),o}),a=$(()=>{const o=[];return["span","offset","pull","push"].forEach(u=>{const c=t[u];gn(c)&&(u==="span"?o.push(r.b(`${t[u]}`)):c>0&&o.push(r.b(`${u}-${t[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{gn(t[u])?o.push(r.b(`${u}-${t[u]}`)):nr(t[u])&&Object.entries(t[u]).forEach(([c,f])=>{o.push(c!=="span"?r.b(`${u}-${c}-${f}`):r.b(`${u}-${f}`))})}),n.value&&o.push(r.is("guttered")),[r.b(),o]});return(o,s)=>(H(),Ue(cr(o.tag),{class:j(y(a)),style:en(y(i))},{default:J(()=>[De(o.$slots,"default")]),_:3},8,["class","style"]))}});var GVe=_t(WVe,[["__file","col.vue"]]);const jVe=Un(GVe),eq=e=>gn(e)||an(e)||pt(e),YVe=gt({accordion:Boolean,modelValue:{type:Ie([Array,String,Number]),default:()=>xa([])}}),XVe={[Yn]:eq,[wi]:eq},jge=Symbol("collapseContextKey"),KVe=(e,t)=>{const n=Y(Zs(e.modelValue)),r=a=>{n.value=a;const o=e.accordion?n.value[0]:n.value;t(Yn,o),t(wi,o)},i=a=>{if(e.accordion)r([n.value[0]===a?"":a]);else{const o=[...n.value],s=o.indexOf(a);s>-1?o.splice(s,1):o.push(a),r(o)}};return tt(()=>e.modelValue,()=>n.value=Zs(e.modelValue),{deep:!0}),mr(jge,{activeNames:n,handleItemClick:i}),{activeNames:n,setActiveNames:r}},qVe=()=>{const e=at("collapse");return{rootKls:$(()=>e.b())}},ZVe=le({name:"ElCollapse"}),QVe=le({...ZVe,props:YVe,emits:XVe,setup(e,{expose:t,emit:n}){const r=e,{activeNames:i,setActiveNames:a}=KVe(r,n),{rootKls:o}=qVe();return t({activeNames:i,setActiveNames:a}),(s,l)=>(H(),Q("div",{class:j(y(o))},[De(s.$slots,"default")],2))}});var JVe=_t(QVe,[["__file","collapse.vue"]]);const e9e=le({name:"ElCollapseTransition"}),t9e=le({...e9e,setup(e){const t=at("collapse-transition"),n=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){n(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){n(i)},leaveCancelled(i){n(i)}};return(i,a)=>(H(),Ue(ns,dr({name:y(t).b()},zMe(r)),{default:J(()=>[De(i.$slots,"default")]),_:3},16,["name"]))}});var n9e=_t(t9e,[["__file","collapse-transition.vue"]]);const jD=Un(n9e),r9e=gt({title:{type:String,default:""},name:{type:Ie([String,Number]),default:void 0},icon:{type:Ci,default:Cl},disabled:Boolean}),i9e=e=>{const t=$t(jge),{namespace:n}=at("collapse"),r=Y(!1),i=Y(!1),a=D$(),o=$(()=>a.current++),s=$(()=>{var d;return(d=e.name)!=null?d:`${n.value}-id-${a.prefix}-${y(o)}`}),l=$(()=>t==null?void 0:t.activeNames.value.includes(y(s)));return{focusing:r,id:o,isActive:l,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:()=>{e.disabled||(t==null||t.handleItemClick(y(s)),r.value=!1,i.value=!0)},handleEnterClick:()=>{t==null||t.handleItemClick(y(s))}}},a9e=(e,{focusing:t,isActive:n,id:r})=>{const i=at("collapse"),a=$(()=>[i.b("item"),i.is("active",y(n)),i.is("disabled",e.disabled)]),o=$(()=>[i.be("item","header"),i.is("active",y(n)),{focusing:y(t)&&!e.disabled}]),s=$(()=>[i.be("item","arrow"),i.is("active",y(n))]),l=$(()=>i.be("item","wrap")),u=$(()=>i.be("item","content")),c=$(()=>i.b(`content-${y(r)}`)),f=$(()=>i.b(`head-${y(r)}`));return{arrowKls:s,headKls:o,rootKls:a,itemWrapperKls:l,itemContentKls:u,scopedContentId:c,scopedHeadId:f}},o9e=le({name:"ElCollapseItem"}),s9e=le({...o9e,props:r9e,setup(e,{expose:t}){const n=e,{focusing:r,id:i,isActive:a,handleFocus:o,handleHeaderClick:s,handleEnterClick:l}=i9e(n),{arrowKls:u,headKls:c,rootKls:f,itemWrapperKls:d,itemContentKls:h,scopedContentId:p,scopedHeadId:v}=a9e(n,{focusing:r,isActive:a,id:i});return t({isActive:a}),(g,m)=>(H(),Q("div",{class:j(y(f))},[I("button",{id:y(v),class:j(y(c)),"aria-expanded":y(a),"aria-controls":y(p),"aria-describedby":y(p),tabindex:g.disabled?-1:0,type:"button",onClick:y(s),onKeydown:Mi(xn(y(l),["stop","prevent"]),["space","enter"]),onFocus:y(o),onBlur:b=>r.value=!1},[De(g.$slots,"title",{},()=>[$n(nt(g.title),1)]),De(g.$slots,"icon",{isActive:y(a)},()=>[z(y(Xt),{class:j(y(u))},{default:J(()=>[(H(),Ue(cr(g.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),z(y(jD),null,{default:J(()=>[Wn(I("div",{id:y(p),role:"region",class:j(y(d)),"aria-hidden":!y(a),"aria-labelledby":y(v)},[I("div",{class:j(y(h))},[De(g.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[Xr,y(a)]])]),_:3})],2))}});var Yge=_t(s9e,[["__file","collapse-item.vue"]]);const l9e=Un(JVe,{CollapseItem:Yge}),u9e=Aa(Yge),c9e=gt({color:{type:Ie(Object),required:!0},vertical:{type:Boolean,default:!1}});let Z4=!1;function P2(e,t){if(!Pr)return;const n=function(a){var o;(o=t.drag)==null||o.call(t,a)},r=function(a){var o;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,Z4=!1,(o=t.end)==null||o.call(t,a)},i=function(a){var o;Z4||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",r),document.addEventListener("touchmove",n),document.addEventListener("touchend",r),Z4=!0,(o=t.start)==null||o.call(t,a))};e.addEventListener("mousedown",i),e.addEventListener("touchstart",i,{passive:!1})}const f9e=(e,t)=>{if(!Pr||!e||!t)return!1;const n=e.getBoundingClientRect();let r;return t instanceof Element?r=t.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right},tq=e=>{let t=0,n=e;for(;n;)t+=n.offsetTop,n=n.offsetParent;return t},oU=(e,t)=>Math.abs(tq(e)-tq(t)),q$=e=>{let t,n;return e.type==="touchend"?(n=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(n=e.touches[0].clientY,t=e.touches[0].clientX):(n=e.clientY,t=e.clientX),{clientX:t,clientY:n}},d9e=e=>{const t=or(),{t:n}=Lr(),r=Ni(),i=Ni(),a=$(()=>e.color.get("alpha")),o=$(()=>n("el.colorpicker.alphaLabel"));function s(f){var d;f.target!==r.value&&l(f),(d=r.value)==null||d.focus()}function l(f){if(!i.value||!r.value)return;const h=t.vnode.el.getBoundingClientRect(),{clientX:p,clientY:v}=q$(f);if(e.vertical){let g=v-h.top;g=Math.max(r.value.offsetHeight/2,g),g=Math.min(g,h.height-r.value.offsetHeight/2),e.color.set("alpha",Math.round((g-r.value.offsetHeight/2)/(h.height-r.value.offsetHeight)*100))}else{let g=p-h.left;g=Math.max(r.value.offsetWidth/2,g),g=Math.min(g,h.width-r.value.offsetWidth/2),e.color.set("alpha",Math.round((g-r.value.offsetWidth/2)/(h.width-r.value.offsetWidth)*100))}}function u(f){const{code:d,shiftKey:h}=f,p=h?10:1;switch(d){case kt.left:case kt.down:f.preventDefault(),f.stopPropagation(),c(-p);break;case kt.right:case kt.up:f.preventDefault(),f.stopPropagation(),c(p);break}}function c(f){let d=a.value+f;d=d<0?0:d>100?100:d,e.color.set("alpha",d)}return{thumb:r,bar:i,alpha:a,alphaLabel:o,handleDrag:l,handleClick:s,handleKeydown:u}},h9e=(e,{bar:t,thumb:n,handleDrag:r})=>{const i=or(),a=at("color-alpha-slider"),o=Y(0),s=Y(0),l=Y();function u(){if(!n.value||e.vertical)return 0;const b=i.vnode.el,_=e.color.get("alpha");return b?Math.round(_*(b.offsetWidth-n.value.offsetWidth/2)/100):0}function c(){if(!n.value)return 0;const b=i.vnode.el;if(!e.vertical)return 0;const _=e.color.get("alpha");return b?Math.round(_*(b.offsetHeight-n.value.offsetHeight/2)/100):0}function f(){if(e.color&&e.color.value){const{r:b,g:_,b:x}=e.color.toRgb();return`linear-gradient(to right, rgba(${b}, ${_}, ${x}, 0) 0%, rgba(${b}, ${_}, ${x}, 1) 100%)`}return""}function d(){o.value=u(),s.value=c(),l.value=f()}Tn(()=>{if(!t.value||!n.value)return;const b={drag:_=>{r(_)},end:_=>{r(_)}};P2(t.value,b),P2(n.value,b),d()}),tt(()=>e.color.get("alpha"),()=>d()),tt(()=>e.color.value,()=>d());const h=$(()=>[a.b(),a.is("vertical",e.vertical)]),p=$(()=>a.e("bar")),v=$(()=>a.e("thumb")),g=$(()=>({background:l.value})),m=$(()=>({left:Na(o.value),top:Na(s.value)}));return{rootKls:h,barKls:p,barStyle:g,thumbKls:v,thumbStyle:m,update:d}},p9e="ElColorAlphaSlider",v9e=le({name:p9e}),g9e=le({...v9e,props:c9e,setup(e,{expose:t}){const n=e,{alpha:r,alphaLabel:i,bar:a,thumb:o,handleDrag:s,handleClick:l,handleKeydown:u}=d9e(n),{rootKls:c,barKls:f,barStyle:d,thumbKls:h,thumbStyle:p,update:v}=h9e(n,{bar:a,thumb:o,handleDrag:s});return t({update:v,bar:a,thumb:o}),(g,m)=>(H(),Q("div",{class:j(y(c))},[I("div",{ref_key:"bar",ref:a,class:j(y(f)),style:en(y(d)),onClick:y(l)},null,14,["onClick"]),I("div",{ref_key:"thumb",ref:o,class:j(y(h)),style:en(y(p)),"aria-label":y(i),"aria-valuenow":y(r),"aria-orientation":g.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:y(u)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var m9e=_t(g9e,[["__file","alpha-slider.vue"]]);const y9e=le({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=at("color-hue-slider"),n=or(),r=Y(),i=Y(),a=Y(0),o=Y(0),s=$(()=>e.color.get("hue"));tt(()=>s.value,()=>{d()});function l(h){h.target!==r.value&&u(h)}function u(h){if(!i.value||!r.value)return;const v=n.vnode.el.getBoundingClientRect(),{clientX:g,clientY:m}=q$(h);let b;if(e.vertical){let _=m-v.top;_=Math.min(_,v.height-r.value.offsetHeight/2),_=Math.max(r.value.offsetHeight/2,_),b=Math.round((_-r.value.offsetHeight/2)/(v.height-r.value.offsetHeight)*360)}else{let _=g-v.left;_=Math.min(_,v.width-r.value.offsetWidth/2),_=Math.max(r.value.offsetWidth/2,_),b=Math.round((_-r.value.offsetWidth/2)/(v.width-r.value.offsetWidth)*360)}e.color.set("hue",b)}function c(){if(!r.value)return 0;const h=n.vnode.el;if(e.vertical)return 0;const p=e.color.get("hue");return h?Math.round(p*(h.offsetWidth-r.value.offsetWidth/2)/360):0}function f(){if(!r.value)return 0;const h=n.vnode.el;if(!e.vertical)return 0;const p=e.color.get("hue");return h?Math.round(p*(h.offsetHeight-r.value.offsetHeight/2)/360):0}function d(){a.value=c(),o.value=f()}return Tn(()=>{if(!i.value||!r.value)return;const h={drag:p=>{u(p)},end:p=>{u(p)}};P2(i.value,h),P2(r.value,h),d()}),{bar:i,thumb:r,thumbLeft:a,thumbTop:o,hueValue:s,handleClick:l,update:d,ns:t}}});function _9e(e,t,n,r,i,a){return H(),Q("div",{class:j([e.ns.b(),e.ns.is("vertical",e.vertical)])},[I("div",{ref:"bar",class:j(e.ns.e("bar")),onClick:e.handleClick},null,10,["onClick"]),I("div",{ref:"thumb",class:j(e.ns.e("thumb")),style:en({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}var b9e=_t(y9e,[["render",_9e],["__file","hue-slider.vue"]]);const x9e=gt({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:yo,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:jo.teleported,predefine:{type:Ie(Array)},validateEvent:{type:Boolean,default:!0},...gs(["ariaLabel"])}),S9e={[Yn]:e=>an(e)||zo(e),[wi]:e=>an(e)||zo(e),activeChange:e=>an(e)||zo(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},Xge=Symbol("colorPickerContextKey"),nq=function(e,t,n){return[e,t*n/((e=(2-t)*n)<1?e:2-e)||0,e/2]},A9e=function(e){return an(e)&&e.includes(".")&&Number.parseFloat(e)===1},E9e=function(e){return an(e)&&e.includes("%")},tb=function(e,t){A9e(e)&&(e="100%");const n=E9e(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),n&&(e=Number.parseInt(`${e*t}`,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},rq={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},JI=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),n=e%16;return`${rq[t]||t}${rq[n]||n}`},iq=function({r:e,g:t,b:n}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+n)?"":`#${JI(e)}${JI(t)}${JI(n)}`},Q4={A:10,B:11,C:12,D:13,E:14,F:15},km=function(e){return e.length===2?(Q4[e[0].toUpperCase()]||+e[0])*16+(Q4[e[1].toUpperCase()]||+e[1]):Q4[e[1].toUpperCase()]||+e[1]},T9e=function(e,t,n){t=t/100,n=n/100;let r=t;const i=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,r*=i<=1?i:2-i;const a=(n+t)/2,o=n===0?2*r/(i+r):2*t/(n+t);return{h:e,s:o*100,v:a*100}},aq=(e,t,n)=>{e=tb(e,255),t=tb(t,255),n=tb(n,255);const r=Math.max(e,t,n),i=Math.min(e,t,n);let a;const o=r,s=r-i,l=r===0?0:s/r;if(r===i)a=0;else{switch(r){case e:{a=(t-n)/s+(t<n?6:0);break}case t:{a=(n-e)/s+2;break}case n:{a=(e-t)/s+4;break}}a/=6}return{h:a*360,s:l*100,v:o*100}},qS=function(e,t,n){e=tb(e,360)*6,t=tb(t,100),n=tb(n,100);const r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6,u=[n,o,a,a,s,n][l],c=[s,n,n,o,a,a][l],f=[a,a,s,n,n,o][l];return{r:Math.round(u*255),g:Math.round(c*255),b:Math.round(f*255)}};let $E=class{constructor(t={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in t)Yr(t,n)&&(this[n]=t[n]);t.value?this.fromString(t.value):this.doOnChange()}set(t,n){if(arguments.length===1&&typeof t=="object"){for(const r in t)Yr(t,r)&&this.set(r,t[r]);return}this[`_${t}`]=n,this.doOnChange()}get(t){return t==="alpha"?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return qS(this._hue,this._saturation,this._value)}fromString(t){if(!t){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(r,i,a)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(t.includes("hsl")){const r=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:a,v:o}=T9e(r[0],r[1],r[2]);n(i,a,o)}}else if(t.includes("hsv")){const r=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&n(r[0],r[1],r[2])}else if(t.includes("rgb")){const r=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:a,v:o}=aq(r[0],r[1],r[2]);n(i,a,o)}}else if(t.includes("#")){const r=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let i,a,o;r.length===3?(i=km(r[0]+r[0]),a=km(r[1]+r[1]),o=km(r[2]+r[2])):(r.length===6||r.length===8)&&(i=km(r.slice(0,2)),a=km(r.slice(2,4)),o=km(r.slice(4,6))),r.length===8?this._alpha=km(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:s,s:l,v:u}=aq(i,a,o);n(s,l,u)}}compare(t){return Math.abs(t._hue-this._hue)<2&&Math.abs(t._saturation-this._saturation)<1&&Math.abs(t._value-this._value)<1&&Math.abs(t._alpha-this._alpha)<1}doOnChange(){const{_hue:t,_saturation:n,_value:r,_alpha:i,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const o=nq(t,n/100,r/100);this.value=`hsla(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${t}, ${Math.round(n)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${iq(qS(t,n,r))}${JI(i*255/100)}`;break}default:{const{r:o,g:s,b:l}=qS(t,n,r);this.value=`rgba(${o}, ${s}, ${l}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const o=nq(t,n/100,r/100);this.value=`hsl(${t}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${t}, ${Math.round(n)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:o,g:s,b:l}=qS(t,n,r);this.value=`rgb(${o}, ${s}, ${l})`;break}default:this.value=iq(qS(t,n,r))}}};const w9e=le({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(e){const t=at("color-predefine"),{currentColor:n}=$t(Xge),r=Y(a(e.colors,e.color));tt(()=>n.value,o=>{const s=new $E;s.fromString(o),r.value.forEach(l=>{l.selected=s.compare(l)})}),Is(()=>{r.value=a(e.colors,e.color)});function i(o){e.color.fromString(e.colors[o])}function a(o,s){return o.map(l=>{const u=new $E;return u.enableAlpha=e.enableAlpha,u.format="rgba",u.fromString(l),u.selected=u.value===s.value,u})}return{rgbaColors:r,handleSelect:i,ns:t}}});function C9e(e,t,n,r,i,a){return H(),Q("div",{class:j(e.ns.b())},[I("div",{class:j(e.ns.e("colors"))},[(H(!0),Q(St,null,Nn(e.rgbaColors,(o,s)=>(H(),Q("div",{key:e.colors[s],class:j([e.ns.e("color-selector"),e.ns.is("alpha",o._alpha<100),{selected:o.selected}]),onClick:l=>e.handleSelect(s)},[I("div",{style:en({backgroundColor:o.value})},null,4)],10,["onClick"]))),128))],2)],2)}var R9e=_t(w9e,[["render",C9e],["__file","predefine.vue"]]);const I9e=le({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=at("color-svpanel"),n=or(),r=Y(0),i=Y(0),a=Y("hsl(0, 100%, 50%)"),o=$(()=>{const u=e.color.get("hue"),c=e.color.get("value");return{hue:u,value:c}});function s(){const u=e.color.get("saturation"),c=e.color.get("value"),f=n.vnode.el,{clientWidth:d,clientHeight:h}=f;i.value=u*d/100,r.value=(100-c)*h/100,a.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function l(u){const f=n.vnode.el.getBoundingClientRect(),{clientX:d,clientY:h}=q$(u);let p=d-f.left,v=h-f.top;p=Math.max(0,p),p=Math.min(p,f.width),v=Math.max(0,v),v=Math.min(v,f.height),i.value=p,r.value=v,e.color.set({saturation:p/f.width*100,value:100-v/f.height*100})}return tt(()=>o.value,()=>{s()}),Tn(()=>{P2(n.vnode.el,{drag:u=>{l(u)},end:u=>{l(u)}}),s()}),{cursorTop:r,cursorLeft:i,background:a,colorValue:o,handleDrag:l,update:s,ns:t}}});function M9e(e,t,n,r,i,a){return H(),Q("div",{class:j(e.ns.b()),style:en({backgroundColor:e.background})},[I("div",{class:j(e.ns.e("white"))},null,2),I("div",{class:j(e.ns.e("black"))},null,2),I("div",{class:j(e.ns.e("cursor")),style:en({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},[I("div")],6)],6)}var O9e=_t(I9e,[["render",M9e],["__file","sv-panel.vue"]]);const D9e=le({name:"ElColorPicker"}),P9e=le({...D9e,props:x9e,emits:S9e,setup(e,{expose:t,emit:n}){const r=e,{t:i}=Lr(),a=at("color"),{formItem:o}=Bs(),s=oo(),l=ks(),{inputId:u,isLabeledByFormItem:c}=zc(r,{formItemContext:o}),f=Y(),d=Y(),h=Y(),p=Y(),v=Y(),g=Y(),{isFocused:m,handleFocus:b,handleBlur:_}=Qg(v,{beforeFocus(){return l.value},beforeBlur(oe){var pe;return(pe=p.value)==null?void 0:pe.isFocusInsideContent(oe)},afterBlur(){U(!1),V()}});let x=!0;const E=zn(new $E({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),A=Y(!1),T=Y(!1),R=Y(""),M=$(()=>!r.modelValue&&!T.value?"transparent":B(E,r.showAlpha)),O=$(()=>!r.modelValue&&!T.value?"":E.value),D=$(()=>c.value?void 0:r.ariaLabel||i("el.colorpicker.defaultLabel")),C=$(()=>c.value?o==null?void 0:o.labelId:void 0),P=$(()=>[a.b("picker"),a.is("disabled",l.value),a.bm("picker",s.value),a.is("focused",m.value)]);function B(oe,pe){if(!(oe instanceof $E))throw new TypeError("color should be instance of _color Class");const{r:me,g:re,b:ne}=oe.toRgb();return pe?`rgba(${me}, ${re}, ${ne}, ${oe.get("alpha")/100})`:`rgb(${me}, ${re}, ${ne})`}function U(oe){A.value=oe}const L=yu(U,100,{leading:!0});function F(){l.value||U(!0)}function N(){L(!1),V()}function V(){fn(()=>{r.modelValue?E.fromString(r.modelValue):(E.value="",fn(()=>{T.value=!1}))})}function W(){l.value||L(!A.value)}function G(){E.fromString(R.value)}function K(){const oe=E.value;n(Yn,oe),n("change",oe),r.validateEvent&&(o==null||o.validate("change").catch(pe=>void 0)),L(!1),fn(()=>{const pe=new $E({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});E.compare(pe)||V()})}function q(){L(!1),n(Yn,null),n("change",null),r.modelValue!==null&&r.validateEvent&&(o==null||o.validate("change").catch(oe=>void 0)),V()}function ue(){A.value&&(N(),m.value&&ee())}function he(oe){oe.preventDefault(),oe.stopPropagation(),U(!1),V()}function Ce(oe){switch(oe.code){case kt.enter:case kt.numpadEnter:case kt.space:oe.preventDefault(),oe.stopPropagation(),F(),g.value.focus();break;case kt.esc:he(oe);break}}function ee(){v.value.focus()}function de(){v.value.blur()}return Tn(()=>{r.modelValue&&(R.value=O.value)}),tt(()=>r.modelValue,oe=>{oe?oe&&oe!==E.value&&(x=!1,E.fromString(oe)):T.value=!1}),tt(()=>[r.colorFormat,r.showAlpha],()=>{E.enableAlpha=r.showAlpha,E.format=r.colorFormat||E.format,E.doOnChange(),n(Yn,E.value)}),tt(()=>O.value,oe=>{R.value=oe,x&&n("activeChange",oe),x=!0}),tt(()=>E.value,()=>{!r.modelValue&&!T.value&&(T.value=!0)}),tt(()=>A.value,()=>{fn(()=>{var oe,pe,me;(oe=f.value)==null||oe.update(),(pe=d.value)==null||pe.update(),(me=h.value)==null||me.update()})}),mr(Xge,{currentColor:O}),t({color:E,show:F,hide:N,focus:ee,blur:de}),(oe,pe)=>(H(),Ue(y(Ps),{ref_key:"popper",ref:p,visible:A.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[y(a).be("picker","panel"),y(a).b("dropdown"),oe.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:oe.teleported,transition:`${y(a).namespace.value}-zoom-in-top`,persistent:"",onHide:me=>U(!1)},{content:J(()=>[Wn((H(),Q("div",{onKeydown:Mi(he,["esc"])},[I("div",{class:j(y(a).be("dropdown","main-wrapper"))},[z(b9e,{ref_key:"hue",ref:f,class:"hue-slider",color:y(E),vertical:""},null,8,["color"]),z(O9e,{ref_key:"sv",ref:d,color:y(E)},null,8,["color"])],2),oe.showAlpha?(H(),Ue(m9e,{key:0,ref_key:"alpha",ref:h,color:y(E)},null,8,["color"])):Be("v-if",!0),oe.predefine?(H(),Ue(R9e,{key:1,ref:"predefine","enable-alpha":oe.showAlpha,color:y(E),colors:oe.predefine},null,8,["enable-alpha","color","colors"])):Be("v-if",!0),I("div",{class:j(y(a).be("dropdown","btns"))},[I("span",{class:j(y(a).be("dropdown","value"))},[z(y(da),{ref_key:"inputRef",ref:g,modelValue:R.value,"onUpdate:modelValue":me=>R.value=me,"validate-event":!1,size:"small",onKeyup:Mi(G,["enter"]),onBlur:G},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),z(y(sa),{class:j(y(a).be("dropdown","link-btn")),text:"",size:"small",onClick:q},{default:J(()=>[$n(nt(y(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),z(y(sa),{plain:"",size:"small",class:j(y(a).be("dropdown","btn")),onClick:K},{default:J(()=>[$n(nt(y(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[y(wp),ue]])]),default:J(()=>[I("div",dr({id:y(u),ref_key:"triggerRef",ref:v},oe.$attrs,{class:y(P),role:"button","aria-label":y(D),"aria-labelledby":y(C),"aria-description":y(i)("el.colorpicker.description",{color:oe.modelValue||""}),"aria-disabled":y(l),tabindex:y(l)?-1:oe.tabindex,onKeydown:Ce,onFocus:y(b),onBlur:y(_)}),[y(l)?(H(),Q("div",{key:0,class:j(y(a).be("picker","mask"))},null,2)):Be("v-if",!0),I("div",{class:j(y(a).be("picker","trigger")),onClick:W},[I("span",{class:j([y(a).be("picker","color"),y(a).is("alpha",oe.showAlpha)])},[I("span",{class:j(y(a).be("picker","color-inner")),style:en({backgroundColor:y(M)})},[Wn(z(y(Xt),{class:j([y(a).be("picker","icon"),y(a).is("icon-arrow-down")])},{default:J(()=>[z(y(Vp))]),_:1},8,["class"]),[[Xr,oe.modelValue||T.value]]),Wn(z(y(Xt),{class:j([y(a).be("picker","empty"),y(a).is("icon-close")])},{default:J(()=>[z(y(Yf))]),_:1},8,["class"]),[[Xr,!oe.modelValue&&!T.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var L9e=_t(P9e,[["__file","color-picker.vue"]]);const N9e=Un(L9e),B9e=gt({a11y:{type:Boolean,default:!0},locale:{type:Ie(Object)},size:yo,button:{type:Ie(Object)},experimentalFeatures:{type:Ie(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Ie(Object)},zIndex:Number,namespace:{type:String,default:"el"},..._x}),wf={},k9e=le({name:"ElConfigProvider",props:B9e,setup(e,{slots:t}){tt(()=>e.message,r=>{Object.assign(wf,r??{})},{immediate:!0,deep:!0});const n=S$(e);return()=>De(t,"default",{config:n==null?void 0:n.value})}}),Kge=Un(k9e),F9e=le({name:"ElContainer"}),U9e=le({...F9e,props:{direction:{type:String}},setup(e){const t=e,n=_o(),r=at("container"),i=$(()=>t.direction==="vertical"?!0:t.direction==="horizontal"?!1:n&&n.default?n.default().some(o=>{const s=o.type.name;return s==="ElHeader"||s==="ElFooter"}):!1);return(a,o)=>(H(),Q("section",{class:j([y(r).b(),y(r).is("vertical",y(i))])},[De(a.$slots,"default")],2))}});var V9e=_t(U9e,[["__file","container.vue"]]);const z9e=le({name:"ElAside"}),$9e=le({...z9e,props:{width:{type:String,default:null}},setup(e){const t=e,n=at("aside"),r=$(()=>t.width?n.cssVarBlock({width:t.width}):{});return(i,a)=>(H(),Q("aside",{class:j(y(n).b()),style:en(y(r))},[De(i.$slots,"default")],6))}});var qge=_t($9e,[["__file","aside.vue"]]);const H9e=le({name:"ElFooter"}),W9e=le({...H9e,props:{height:{type:String,default:null}},setup(e){const t=e,n=at("footer"),r=$(()=>t.height?n.cssVarBlock({height:t.height}):{});return(i,a)=>(H(),Q("footer",{class:j(y(n).b()),style:en(y(r))},[De(i.$slots,"default")],6))}});var Zge=_t(W9e,[["__file","footer.vue"]]);const G9e=le({name:"ElHeader"}),j9e=le({...G9e,props:{height:{type:String,default:null}},setup(e){const t=e,n=at("header"),r=$(()=>t.height?n.cssVarBlock({height:t.height}):{});return(i,a)=>(H(),Q("header",{class:j(y(n).b()),style:en(y(r))},[De(i.$slots,"default")],6))}});var Qge=_t(j9e,[["__file","header.vue"]]);const Y9e=le({name:"ElMain"}),X9e=le({...Y9e,setup(e){const t=at("main");return(n,r)=>(H(),Q("main",{class:j(y(t).b())},[De(n.$slots,"default")],2))}});var Jge=_t(X9e,[["__file","main.vue"]]);const K9e=Un(V9e,{Aside:qge,Footer:Zge,Header:Qge,Main:Jge}),q9e=Aa(qge),Z9e=Aa(Zge),Q9e=Aa(Qge),J9e=Aa(Jge);var e3={exports:{}},eze=e3.exports,oq;function tze(){return oq||(oq=1,function(e,t){(function(n,r){e.exports=r()})(eze,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,o=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,l={},u=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(m){this[g]=+m}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var b=m.match(/([+-]|\d\d)/g),_=60*b[1]+(+b[2]||0);return _===0?0:b[0]==="+"?-_:_}(g)}],d=function(g){var m=l[g];return m&&(m.indexOf?m:m.s.concat(m.f))},h=function(g,m){var b,_=l.meridiem;if(_){for(var x=1;x<=24;x+=1)if(g.indexOf(_(x,0,m))>-1){b=x>12;break}}else b=g===(m?"pm":"PM");return b},p={A:[s,function(g){this.afternoon=h(g,!1)}],a:[s,function(g){this.afternoon=h(g,!0)}],Q:[i,function(g){this.month=3*(g-1)+1}],S:[i,function(g){this.milliseconds=100*+g}],SS:[a,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,c("seconds")],ss:[o,c("seconds")],m:[o,c("minutes")],mm:[o,c("minutes")],H:[o,c("hours")],h:[o,c("hours")],HH:[o,c("hours")],hh:[o,c("hours")],D:[o,c("day")],DD:[a,c("day")],Do:[s,function(g){var m=l.ordinal,b=g.match(/\d+/);if(this.day=b[0],m)for(var _=1;_<=31;_+=1)m(_).replace(/\[|\]/g,"")===g&&(this.day=_)}],w:[o,c("week")],ww:[a,c("week")],M:[o,c("month")],MM:[a,c("month")],MMM:[s,function(g){var m=d("months"),b=(d("monthsShort")||m.map(function(_){return _.slice(0,3)})).indexOf(g)+1;if(b<1)throw new Error;this.month=b%12||b}],MMMM:[s,function(g){var m=d("months").indexOf(g)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,c("year")],YY:[a,function(g){this.year=u(g)}],YYYY:[/\d{4}/,c("year")],Z:f,ZZ:f};function v(g){var m,b;m=g,b=l&&l.formats;for(var _=(g=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(O,D,C){var P=C&&C.toUpperCase();return D||b[C]||n[C]||b[P].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(B,U,L){return U||L.slice(1)})})).match(r),x=_.length,E=0;E<x;E+=1){var A=_[E],T=p[A],R=T&&T[0],M=T&&T[1];_[E]=M?{regex:R,parser:M}:A.replace(/^\[|\]$/g,"")}return function(O){for(var D={},C=0,P=0;C<x;C+=1){var B=_[C];if(typeof B=="string")P+=B.length;else{var U=B.regex,L=B.parser,F=O.slice(P),N=U.exec(F)[0];L.call(D,N),O=O.replace(N,"")}}return function(V){var W=V.afternoon;if(W!==void 0){var G=V.hours;W?G<12&&(V.hours+=12):G===12&&(V.hours=0),delete V.afternoon}}(D),D}}return function(g,m,b){b.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(u=g.parseTwoDigitYear);var _=m.prototype,x=_.parse;_.parse=function(E){var A=E.date,T=E.utc,R=E.args;this.$u=T;var M=R[1];if(typeof M=="string"){var O=R[2]===!0,D=R[3]===!0,C=O||D,P=R[2];D&&(P=R[2]),l=this.$locale(),!O&&P&&(l=b.Ls[P]),this.$d=function(F,N,V,W){try{if(["x","X"].indexOf(N)>-1)return new Date((N==="X"?1e3:1)*F);var G=v(N)(F),K=G.year,q=G.month,ue=G.day,he=G.hours,Ce=G.minutes,ee=G.seconds,de=G.milliseconds,oe=G.zone,pe=G.week,me=new Date,re=ue||(K||q?1:me.getDate()),ne=K||me.getFullYear(),se=0;K&&!q||(se=q>0?q-1:me.getMonth());var be,Pe=he||0,Ee=Ce||0,Le=ee||0,He=de||0;return oe?new Date(Date.UTC(ne,se,re,Pe,Ee,Le,He+60*oe.offset*1e3)):V?new Date(Date.UTC(ne,se,re,Pe,Ee,Le,He)):(be=new Date(ne,se,re,Pe,Ee,Le,He),pe&&(be=W(be).week(pe).toDate()),be)}catch{return new Date("")}}(A,M,T,b),this.init(),P&&P!==!0&&(this.$L=this.locale(P).$L),C&&A!=this.format(M)&&(this.$d=new Date("")),l={}}else if(M instanceof Array)for(var B=M.length,U=1;U<=B;U+=1){R[1]=M[U-1];var L=b.apply(this,R);if(L.isValid()){this.$d=L.$d,this.$L=L.$L,this.init();break}U===B&&(this.$d=new Date(""))}else x.call(this,E)}}})}(e3)),e3.exports}var nze=tze();const Z$=ni(nze);var t3={exports:{}},rze=t3.exports,sq;function ize(){return sq||(sq=1,function(e,t){(function(n,r){e.exports=r()})(rze,function(){return function(n,r){var i=r.prototype,a=i.format;i.format=function(o){var s=this,l=this.$locale();if(!this.isValid())return a.bind(this)(o);var u=this.$utils(),c=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return l.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return l.ordinal(s.week(),"W");case"w":case"ww":return u.s(s.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(s.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(s.$H===0?24:s.$H),f==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return f}});return a.bind(this)(c)}}})}(t3)),t3.exports}var aze=ize();const oze=ni(aze);var n3={exports:{}},sze=n3.exports,lq;function lze(){return lq||(lq=1,function(e,t){(function(n,r){e.exports=r()})(sze,function(){var n="week",r="year";return function(i,a,o){var s=a.prototype;s.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=o(this).startOf(r).add(1,r).date(u),f=o(this).endOf(n);if(c.isBefore(f))return 1}var d=o(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),h=this.diff(d,n,!0);return h<0?o(this).startOf("week").week():Math.ceil(h)},s.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})}(n3)),n3.exports}var uze=lze();const cze=ni(uze);var r3={exports:{}},fze=r3.exports,uq;function dze(){return uq||(uq=1,function(e,t){(function(n,r){e.exports=r()})(fze,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),a=this.week(),o=this.year();return a===1&&i===11?o+1:i===0&&a>=52?o-1:o}}})}(r3)),r3.exports}var hze=dze();const pze=ni(hze);var i3={exports:{}},vze=i3.exports,cq;function gze(){return cq||(cq=1,function(e,t){(function(n,r){e.exports=r()})(vze,function(){return function(n,r,i){r.prototype.dayOfYear=function(a){var o=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return a==null?o:this.add(a-o,"day")}}})}(i3)),i3.exports}var mze=gze();const yze=ni(mze);var a3={exports:{}},_ze=a3.exports,fq;function bze(){return fq||(fq=1,function(e,t){(function(n,r){e.exports=r()})(_ze,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})}(a3)),a3.exports}var xze=bze();const Sze=ni(xze);var o3={exports:{}},Aze=o3.exports,dq;function Eze(){return dq||(dq=1,function(e,t){(function(n,r){e.exports=r()})(Aze,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})}(o3)),o3.exports}var Tze=Eze();const wze=ni(Tze),hq=["hours","minutes","seconds"],sU="HH:mm:ss",S1="YYYY-MM-DD",Cze={date:S1,dates:S1,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${S1} ${sU}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:S1,datetimerange:`${S1} ${sU}`},eme=gt({disabledHours:{type:Ie(Function)},disabledMinutes:{type:Ie(Function)},disabledSeconds:{type:Ie(Function)}}),tme=gt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Q$=gt({id:{type:Ie([Array,String])},name:{type:Ie([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Ie([String,Object]),default:zp},editable:{type:Boolean,default:!0},prefixIcon:{type:Ie([String,Object]),default:""},size:yo,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Ie(Object),default:()=>({})},modelValue:{type:Ie([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Ie([Date,Array])},defaultTime:{type:Ie([Date,Array])},isRange:Boolean,...eme,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Ie([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:Ie(String),values:$p,default:"bottom"},fallbackPlacements:{type:Ie(Array),default:["bottom","top","right","left"]},..._x,...gs(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),Rze=gt({id:{type:Ie(Array)},name:{type:Ie(Array)},modelValue:{type:Ie([Array,String])},startPlaceholder:String,endPlaceholder:String}),Ize=le({name:"PickerRangeTrigger",inheritAttrs:!1}),Mze=le({...Ize,props:Rze,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(e,{expose:t,emit:n}){const r=YT(),i=at("date"),a=at("range"),o=Y(),s=Y(),{wrapperRef:l,isFocused:u}=Qg(o),c=x=>{n("click",x)},f=x=>{n("mouseenter",x)},d=x=>{n("mouseleave",x)},h=x=>{n("mouseenter",x)},p=x=>{n("startInput",x)},v=x=>{n("endInput",x)},g=x=>{n("startChange",x)},m=x=>{n("endChange",x)};return t({focus:()=>{var x;(x=o.value)==null||x.focus()},blur:()=>{var x,E;(x=o.value)==null||x.blur(),(E=s.value)==null||E.blur()}}),(x,E)=>(H(),Q("div",{ref_key:"wrapperRef",ref:l,class:j([y(i).is("active",y(u)),x.$attrs.class]),style:en(x.$attrs.style),onClick:c,onMouseenter:f,onMouseleave:d,onTouchstartPassive:h},[De(x.$slots,"prefix"),I("input",dr(y(r),{id:x.id&&x.id[0],ref_key:"inputRef",ref:o,name:x.name&&x.name[0],placeholder:x.startPlaceholder,value:x.modelValue&&x.modelValue[0],class:y(a).b("input"),onInput:p,onChange:g}),null,16,["id","name","placeholder","value"]),De(x.$slots,"range-separator"),I("input",dr(y(r),{id:x.id&&x.id[1],ref_key:"endInputRef",ref:s,name:x.name&&x.name[1],placeholder:x.endPlaceholder,value:x.modelValue&&x.modelValue[1],class:y(a).b("input"),onInput:v,onChange:m}),null,16,["id","name","placeholder","value"]),De(x.$slots,"suffix")],38))}});var Oze=_t(Mze,[["__file","picker-range-trigger.vue"]]);const Dze=le({name:"Picker"}),Pze=le({...Dze,props:Q$,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(e,{expose:t,emit:n}){const r=e,i=qg(),{lang:a}=Lr(),o=at("date"),s=at("input"),l=at("range"),{form:u,formItem:c}=Bs(),f=$t("ElPopperOptions",{}),{valueOnClear:d}=kD(r,null),h=Y(),p=Y(),v=Y(!1),g=Y(!1),m=Y(null);let b=!1;const{isFocused:_,handleFocus:x,handleBlur:E}=Qg(p,{beforeFocus(){return r.readonly||V.value},afterFocus(){v.value=!0},beforeBlur(_e){var It;return!b&&((It=h.value)==null?void 0:It.isFocusInsideContent(_e))},afterBlur(){rt(),v.value=!1,b=!1,r.validateEvent&&(c==null||c.validate("blur").catch(_e=>void 0))}}),A=$(()=>[o.b("editor"),o.bm("editor",r.type),s.e("wrapper"),o.is("disabled",V.value),o.is("active",v.value),l.b("editor"),Pe?l.bm("editor",Pe.value):"",i.class]),T=$(()=>[s.e("icon"),l.e("close-icon"),de.value?"":l.e("close-icon--hidden")]);tt(v,_e=>{_e?fn(()=>{_e&&(m.value=r.modelValue)}):(He.value=null,fn(()=>{R(r.modelValue)}))});const R=(_e,It)=>{(It||!WK(_e,m.value))&&(n("change",_e),r.validateEvent&&(c==null||c.validate("change").catch(Pn=>void 0)))},M=_e=>{if(!WK(r.modelValue,_e)){let It;pt(_e)?It=_e.map(Pn=>jK(Pn,r.valueFormat,a.value)):_e&&(It=jK(_e,r.valueFormat,a.value)),n("update:modelValue",_e&&It,a.value)}},O=_e=>{n("keydown",_e)},D=$(()=>p.value?Array.from(p.value.$el.querySelectorAll("input")):[]),C=(_e,It,Pn)=>{const pr=D.value;pr.length&&(!Pn||Pn==="min"?(pr[0].setSelectionRange(_e,It),pr[0].focus()):Pn==="max"&&(pr[1].setSelectionRange(_e,It),pr[1].focus()))},P=(_e="",It=!1)=>{v.value=It;let Pn;pt(_e)?Pn=_e.map(pr=>pr.toDate()):Pn=_e&&_e.toDate(),He.value=null,M(Pn)},B=()=>{g.value=!0},U=()=>{n("visible-change",!0)},L=()=>{g.value=!1,v.value=!1,n("visible-change",!1)},F=()=>{v.value=!0},N=()=>{v.value=!1},V=$(()=>r.disabled||(u==null?void 0:u.disabled)),W=$(()=>{let _e;if(pe.value?Gn.value.getDefaultValue&&(_e=Gn.value.getDefaultValue()):pt(r.modelValue)?_e=r.modelValue.map(It=>GK(It,r.valueFormat,a.value)):_e=GK(r.modelValue,r.valueFormat,a.value),Gn.value.getRangeAvailableTime){const It=Gn.value.getRangeAvailableTime(_e);ps(It,_e)||(_e=It,pe.value||M(oR(_e)))}return pt(_e)&&_e.some(It=>!It)&&(_e=[]),_e}),G=$(()=>{if(!Gn.value.panelReady)return"";const _e=ot(W.value);return pt(He.value)?[He.value[0]||_e&&_e[0]||"",He.value[1]||_e&&_e[1]||""]:He.value!==null?He.value:!q.value&&pe.value||!v.value&&pe.value?"":_e?ue.value||he.value||Ce.value?_e.join(", "):_e:""}),K=$(()=>r.type.includes("time")),q=$(()=>r.type.startsWith("time")),ue=$(()=>r.type==="dates"),he=$(()=>r.type==="months"),Ce=$(()=>r.type==="years"),ee=$(()=>r.prefixIcon||(K.value?kve:X6e)),de=Y(!1),oe=_e=>{r.readonly||V.value||(de.value&&(_e.stopPropagation(),Gn.value.handleClear?Gn.value.handleClear():M(d.value),R(d.value,!0),de.value=!1,L()),n("clear"))},pe=$(()=>{const{modelValue:_e}=r;return!_e||pt(_e)&&!_e.filter(Boolean).length}),me=async _e=>{var It;r.readonly||V.value||(((It=_e.target)==null?void 0:It.tagName)!=="INPUT"||_.value)&&(v.value=!0)},re=()=>{r.readonly||V.value||!pe.value&&r.clearable&&(de.value=!0)},ne=()=>{de.value=!1},se=_e=>{var It;r.readonly||V.value||(((It=_e.touches[0].target)==null?void 0:It.tagName)!=="INPUT"||_.value)&&(v.value=!0)},be=$(()=>r.type.includes("range")),Pe=oo(),Ee=$(()=>{var _e,It;return(It=(_e=y(h))==null?void 0:_e.popperRef)==null?void 0:It.contentRef}),Le=x$(p,_e=>{const It=y(Ee),Pn=El(p);It&&(_e.target===It||_e.composedPath().includes(It))||_e.target===Pn||Pn&&_e.composedPath().includes(Pn)||(v.value=!1)});Oi(()=>{Le==null||Le()});const He=Y(null),rt=()=>{if(He.value){const _e=Je(G.value);_e&&ae(_e)&&(M(oR(_e)),He.value=null)}He.value===""&&(M(d.value),R(d.value),He.value=null)},Je=_e=>_e?Gn.value.parseUserInput(_e):null,ot=_e=>_e?Gn.value.formatToString(_e):null,ae=_e=>Gn.value.isValidValue(_e),Xe=async _e=>{if(r.readonly||V.value)return;const{code:It}=_e;if(O(_e),It===kt.esc){v.value===!0&&(v.value=!1,_e.preventDefault(),_e.stopPropagation());return}if(It===kt.down&&(Gn.value.handleFocusPicker&&(_e.preventDefault(),_e.stopPropagation()),v.value===!1&&(v.value=!0,await fn()),Gn.value.handleFocusPicker)){Gn.value.handleFocusPicker();return}if(It===kt.tab){b=!0;return}if(It===kt.enter||It===kt.numpadEnter){(He.value===null||He.value===""||ae(Je(G.value)))&&(rt(),v.value=!1),_e.stopPropagation();return}if(He.value){_e.stopPropagation();return}Gn.value.handleKeydownInput&&Gn.value.handleKeydownInput(_e)},Tt=_e=>{He.value=_e,v.value||(v.value=!0)},sn=_e=>{const It=_e.target;He.value?He.value=[It.value,He.value[1]]:He.value=[It.value,null]},Mn=_e=>{const It=_e.target;He.value?He.value=[He.value[0],It.value]:He.value=[null,It.value]},Sn=()=>{var _e;const It=He.value,Pn=Je(It&&It[0]),pr=y(W);if(Pn&&Pn.isValid()){He.value=[ot(Pn),((_e=G.value)==null?void 0:_e[1])||null];const _i=[Pn,pr&&(pr[1]||null)];ae(_i)&&(M(oR(_i)),He.value=null)}},En=()=>{var _e;const It=y(He),Pn=Je(It&&It[1]),pr=y(W);if(Pn&&Pn.isValid()){He.value=[((_e=y(G))==null?void 0:_e[0])||null,ot(Pn)];const _i=[pr&&pr[0],Pn];ae(_i)&&(M(oR(_i)),He.value=null)}},Gn=Y({}),_r=_e=>{Gn.value[_e[0]]=_e[1],Gn.value.panelReady=!0},We=_e=>{n("calendar-change",_e)},yt=(_e,It,Pn)=>{n("panel-change",_e,It,Pn)},Re=()=>{var _e;(_e=p.value)==null||_e.focus()},ut=()=>{var _e;(_e=p.value)==null||_e.blur()};return mr("EP_PICKER_BASE",{props:r}),t({focus:Re,blur:ut,handleOpen:F,handleClose:N,onPick:P}),(_e,It)=>(H(),Ue(y(Ps),dr({ref_key:"refPopper",ref:h,visible:v.value,effect:"light",pure:"",trigger:"click"},_e.$attrs,{role:"dialog",teleported:"",transition:`${y(o).namespace.value}-zoom-in-top`,"popper-class":[`${y(o).namespace.value}-picker__popper`,_e.popperClass],"popper-options":y(f),"fallback-placements":_e.fallbackPlacements,"gpu-acceleration":!1,placement:_e.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:B,onShow:U,onHide:L}),{default:J(()=>[y(be)?(H(),Ue(Oze,{key:1,id:_e.id,ref_key:"inputRef",ref:p,"model-value":y(G),name:_e.name,disabled:y(V),readonly:!_e.editable||_e.readonly,"start-placeholder":_e.startPlaceholder,"end-placeholder":_e.endPlaceholder,class:j(y(A)),style:en(_e.$attrs.style),"aria-label":_e.ariaLabel,tabindex:_e.tabindex,autocomplete:"off",role:"combobox",onClick:me,onFocus:y(x),onBlur:y(E),onStartInput:sn,onStartChange:Sn,onEndInput:Mn,onEndChange:En,onMousedown:me,onMouseenter:re,onMouseleave:ne,onTouchstartPassive:se,onKeydown:Xe},{prefix:J(()=>[y(ee)?(H(),Ue(y(Xt),{key:0,class:j([y(s).e("icon"),y(l).e("icon")])},{default:J(()=>[(H(),Ue(cr(y(ee))))]),_:1},8,["class"])):Be("v-if",!0)]),"range-separator":J(()=>[De(_e.$slots,"range-separator",{},()=>[I("span",{class:j(y(l).b("separator"))},nt(_e.rangeSeparator),3)])]),suffix:J(()=>[_e.clearIcon?(H(),Ue(y(Xt),{key:0,class:j(y(T)),onMousedown:xn(y(gi),["prevent"]),onClick:oe},{default:J(()=>[(H(),Ue(cr(_e.clearIcon)))]),_:1},8,["class","onMousedown"])):Be("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(H(),Ue(y(da),{key:0,id:_e.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":y(G),name:_e.name,size:y(Pe),disabled:y(V),placeholder:_e.placeholder,class:j([y(o).b("editor"),y(o).bm("editor",_e.type),_e.$attrs.class]),style:en(_e.$attrs.style),readonly:!_e.editable||_e.readonly||y(ue)||y(he)||y(Ce)||_e.type==="week","aria-label":_e.ariaLabel,tabindex:_e.tabindex,"validate-event":!1,onInput:Tt,onFocus:y(x),onBlur:y(E),onKeydown:Xe,onChange:rt,onMousedown:me,onMouseenter:re,onMouseleave:ne,onTouchstartPassive:se,onClick:xn(()=>{},["stop"])},{prefix:J(()=>[y(ee)?(H(),Ue(y(Xt),{key:0,class:j(y(s).e("icon")),onMousedown:xn(me,["prevent"]),onTouchstartPassive:se},{default:J(()=>[(H(),Ue(cr(y(ee))))]),_:1},8,["class","onMousedown"])):Be("v-if",!0)]),suffix:J(()=>[de.value&&_e.clearIcon?(H(),Ue(y(Xt),{key:0,class:j(`${y(s).e("icon")} clear-icon`),onMousedown:xn(y(gi),["prevent"]),onClick:oe},{default:J(()=>[(H(),Ue(cr(_e.clearIcon)))]),_:1},8,["class","onMousedown"])):Be("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:J(()=>[De(_e.$slots,"default",{visible:v.value,actualVisible:g.value,parsedValue:y(W),format:_e.format,dateFormat:_e.dateFormat,timeFormat:_e.timeFormat,unlinkPanels:_e.unlinkPanels,type:_e.type,defaultValue:_e.defaultValue,showNow:_e.showNow,onPick:P,onSelectRange:C,onSetPickerOption:_r,onCalendarChange:We,onPanelChange:yt,onMousedown:xn(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var nme=_t(Pze,[["__file","picker.vue"]]);const Lze=gt({...tme,datetimeRole:String,parsedValue:{type:Ie(Object)}}),rme=({getAvailableHours:e,getAvailableMinutes:t,getAvailableSeconds:n})=>{const r=(o,s,l,u)=>{const c={hour:e,minute:t,second:n};let f=o;return["hour","minute","second"].forEach(d=>{if(c[d]){let h;const p=c[d];switch(d){case"minute":{h=p(f.hour(),s,u);break}case"second":{h=p(f.hour(),f.minute(),s,u);break}default:{h=p(s,u);break}}if(h!=null&&h.length&&!h.includes(f[d]())){const v=l?0:h.length-1;f=f[d](h[v])}}}),f},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([o,s])=>{i[o]=s}}},J4=e=>{const t=(r,i)=>r||i,n=r=>r!==!0;return e.map(t).filter(n)},ime=(e,t,n)=>({getHoursList:(o,s)=>K4(24,e&&(()=>e==null?void 0:e(o,s))),getMinutesList:(o,s,l)=>K4(60,t&&(()=>t==null?void 0:t(o,s,l))),getSecondsList:(o,s,l,u)=>K4(60,n&&(()=>n==null?void 0:n(o,s,l,u)))}),ame=(e,t,n)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:a}=ime(e,t,n);return{getAvailableHours:(u,c)=>J4(r(u,c)),getAvailableMinutes:(u,c,f)=>J4(i(u,c,f)),getAvailableSeconds:(u,c,f,d)=>J4(a(u,c,f,d))}},ome=e=>{const t=Y(e.parsedValue);return tt(()=>e.visible,n=>{n||(t.value=e.parsedValue)}),t},Nze=gt({role:{type:String,required:!0},spinnerDate:{type:Ie(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Ie(String),default:""},...eme}),Bze=100,kze=600,mM={beforeMount(e,t){const n=t.value,{interval:r=Bze,delay:i=kze}=on(n)?{}:n;let a,o;const s=()=>on(n)?n():n.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),a&&(clearInterval(a),a=void 0)};e.addEventListener("mousedown",u=>{u.button===0&&(l(),s(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{a=setInterval(()=>{s()},r)},i))})}},Fze=le({__name:"basic-time-spinner",props:Nze,emits:["change","select-range","set-option"],setup(e,{emit:t}){const n=e,r=$t("EP_PICKER_BASE"),{isRange:i}=r.props,a=at("time"),{getHoursList:o,getMinutesList:s,getSecondsList:l}=ime(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let u=!1;const c=Y(),f=Y(),d=Y(),h=Y(),p={hours:f,minutes:d,seconds:h},v=$(()=>n.showSeconds?hq:hq.slice(0,2)),g=$(()=>{const{spinnerDate:G}=n,K=G.hour(),q=G.minute(),ue=G.second();return{hours:K,minutes:q,seconds:ue}}),m=$(()=>{const{hours:G,minutes:K}=y(g),{role:q,spinnerDate:ue}=n,he=i?void 0:ue;return{hours:o(q,he),minutes:s(G,q,he),seconds:l(G,K,q,he)}}),b=$(()=>{const{hours:G,minutes:K,seconds:q}=y(g);return{hours:X4(G,23),minutes:X4(K,59),seconds:X4(q,59)}}),_=yu(G=>{u=!1,A(G)},200),x=G=>{if(!!!n.amPmMode)return"";const q=n.amPmMode==="A";let ue=G<12?" am":" pm";return q&&(ue=ue.toUpperCase()),ue},E=G=>{let K;switch(G){case"hours":K=[0,2];break;case"minutes":K=[3,5];break;case"seconds":K=[6,8];break}const[q,ue]=K;t("select-range",q,ue),c.value=G},A=G=>{M(G,y(g)[G])},T=()=>{A("hours"),A("minutes"),A("seconds")},R=G=>G.querySelector(`.${a.namespace.value}-scrollbar__wrap`),M=(G,K)=>{if(n.arrowControl)return;const q=y(p[G]);q&&q.$el&&(R(q.$el).scrollTop=Math.max(0,K*O(G)))},O=G=>{const K=y(p[G]),q=K==null?void 0:K.$el.querySelector("li");return q&&Number.parseFloat(lp(q,"height"))||0},D=()=>{P(1)},C=()=>{P(-1)},P=G=>{c.value||E("hours");const K=c.value,q=y(g)[K],ue=c.value==="hours"?24:60,he=B(K,q,G,ue);U(K,he),M(K,he),fn(()=>E(K))},B=(G,K,q,ue)=>{let he=(K+q+ue)%ue;const Ce=y(m)[G];for(;Ce[he]&&he!==K;)he=(he+q+ue)%ue;return he},U=(G,K)=>{if(y(m)[G][K])return;const{hours:he,minutes:Ce,seconds:ee}=y(g);let de;switch(G){case"hours":de=n.spinnerDate.hour(K).minute(Ce).second(ee);break;case"minutes":de=n.spinnerDate.hour(he).minute(K).second(ee);break;case"seconds":de=n.spinnerDate.hour(he).minute(Ce).second(K);break}t("change",de)},L=(G,{value:K,disabled:q})=>{q||(U(G,K),E(G),M(G,K))},F=G=>{const K=y(p[G]);if(!K)return;u=!0,_(G);const q=Math.min(Math.round((R(K.$el).scrollTop-(N(G)*.5-10)/O(G)+3)/O(G)),G==="hours"?23:59);U(G,q)},N=G=>y(p[G]).$el.offsetHeight,V=()=>{const G=K=>{const q=y(p[K]);q&&q.$el&&(R(q.$el).onscroll=()=>{F(K)})};G("hours"),G("minutes"),G("seconds")};Tn(()=>{fn(()=>{!n.arrowControl&&V(),T(),n.role==="start"&&E("hours")})});const W=(G,K)=>{p[K].value=G??void 0};return t("set-option",[`${n.role}_scrollDown`,P]),t("set-option",[`${n.role}_emitSelectRange`,E]),tt(()=>n.spinnerDate,()=>{u||T()}),(G,K)=>(H(),Q("div",{class:j([y(a).b("spinner"),{"has-seconds":G.showSeconds}])},[G.arrowControl?Be("v-if",!0):(H(!0),Q(St,{key:0},Nn(y(v),q=>(H(),Ue(y(ch),{key:q,ref_for:!0,ref:ue=>W(ue,q),class:j(y(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":y(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:ue=>E(q),onMousemove:ue=>A(q)},{default:J(()=>[(H(!0),Q(St,null,Nn(y(m)[q],(ue,he)=>(H(),Q("li",{key:he,class:j([y(a).be("spinner","item"),y(a).is("active",he===y(g)[q]),y(a).is("disabled",ue)]),onClick:Ce=>L(q,{value:he,disabled:ue})},[q==="hours"?(H(),Q(St,{key:0},[$n(nt(("0"+(G.amPmMode?he%12||12:he)).slice(-2))+nt(x(he)),1)],64)):(H(),Q(St,{key:1},[$n(nt(("0"+he).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),G.arrowControl?(H(!0),Q(St,{key:1},Nn(y(v),q=>(H(),Q("div",{key:q,class:j([y(a).be("spinner","wrapper"),y(a).is("arrow")]),onMouseenter:ue=>E(q)},[Wn((H(),Ue(y(Xt),{class:j(["arrow-up",y(a).be("spinner","arrow")])},{default:J(()=>[z(y(T$))]),_:1},8,["class"])),[[y(mM),C]]),Wn((H(),Ue(y(Xt),{class:j(["arrow-down",y(a).be("spinner","arrow")])},{default:J(()=>[z(y(Vp))]),_:1},8,["class"])),[[y(mM),D]]),I("ul",{class:j(y(a).be("spinner","list"))},[(H(!0),Q(St,null,Nn(y(b)[q],(ue,he)=>(H(),Q("li",{key:he,class:j([y(a).be("spinner","item"),y(a).is("active",ue===y(g)[q]),y(a).is("disabled",y(m)[q][ue])])},[y(gn)(ue)?(H(),Q(St,{key:0},[q==="hours"?(H(),Q(St,{key:0},[$n(nt(("0"+(G.amPmMode?ue%12||12:ue)).slice(-2))+nt(x(ue)),1)],64)):(H(),Q(St,{key:1},[$n(nt(("0"+ue).slice(-2)),1)],64))],64)):Be("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Be("v-if",!0)],2))}});var lU=_t(Fze,[["__file","basic-time-spinner.vue"]]);const Uze=le({__name:"panel-time-pick",props:Lze,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=$t("EP_PICKER_BASE"),{arrowControl:i,disabledHours:a,disabledMinutes:o,disabledSeconds:s,defaultValue:l}=r.props,{getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:f}=ame(a,o,s),d=at("time"),{t:h,lang:p}=Lr(),v=Y([0,2]),g=ome(n),m=$(()=>mi(n.actualVisible)?`${d.namespace.value}-zoom-in-top`:""),b=$(()=>n.format.includes("ss")),_=$(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),x=N=>{const V=kn(N).locale(p.value),W=B(V);return V.isSame(W)},E=()=>{t("pick",g.value,!1)},A=(N=!1,V=!1)=>{V||t("pick",n.parsedValue,N)},T=N=>{if(!n.visible)return;const V=B(N).millisecond(0);t("pick",V,!0)},R=(N,V)=>{t("select-range",N,V),v.value=[N,V]},M=N=>{const V=[0,3].concat(b.value?[6]:[]),W=["hours","minutes"].concat(b.value?["seconds"]:[]),K=(V.indexOf(v.value[0])+N+V.length)%V.length;D.start_emitSelectRange(W[K])},O=N=>{const V=N.code,{left:W,right:G,up:K,down:q}=kt;if([W,G].includes(V)){M(V===W?-1:1),N.preventDefault();return}if([K,q].includes(V)){const ue=V===K?-1:1;D.start_scrollDown(ue),N.preventDefault();return}},{timePickerOptions:D,onSetOption:C,getAvailableTime:P}=rme({getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:f}),B=N=>P(N,n.datetimeRole||"",!0),U=N=>N?kn(N,n.format).locale(p.value):null,L=N=>N?N.format(n.format):null,F=()=>kn(l).locale(p.value);return t("set-picker-option",["isValidValue",x]),t("set-picker-option",["formatToString",L]),t("set-picker-option",["parseUserInput",U]),t("set-picker-option",["handleKeydownInput",O]),t("set-picker-option",["getRangeAvailableTime",B]),t("set-picker-option",["getDefaultValue",F]),(N,V)=>(H(),Ue(ns,{name:y(m)},{default:J(()=>[N.actualVisible||N.visible?(H(),Q("div",{key:0,class:j(y(d).b("panel"))},[I("div",{class:j([y(d).be("panel","content"),{"has-seconds":y(b)}])},[z(lU,{ref:"spinner",role:N.datetimeRole||"start","arrow-control":y(i),"show-seconds":y(b),"am-pm-mode":y(_),"spinner-date":N.parsedValue,"disabled-hours":y(a),"disabled-minutes":y(o),"disabled-seconds":y(s),onChange:T,onSetOption:y(C),onSelectRange:R},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),I("div",{class:j(y(d).be("panel","footer"))},[I("button",{type:"button",class:j([y(d).be("panel","btn"),"cancel"]),onClick:E},nt(y(h)("el.datepicker.cancel")),3),I("button",{type:"button",class:j([y(d).be("panel","btn"),"confirm"]),onClick:W=>A()},nt(y(h)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Be("v-if",!0)]),_:1},8,["name"]))}});var yM=_t(Uze,[["__file","panel-time-pick.vue"]]);const Vze=gt({...tme,parsedValue:{type:Ie(Array)}}),zze=le({__name:"panel-time-range",props:Vze,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const n=e,r=(me,re)=>{const ne=[];for(let se=me;se<=re;se++)ne.push(se);return ne},{t:i,lang:a}=Lr(),o=at("time"),s=at("picker"),l=$t("EP_PICKER_BASE"),{arrowControl:u,disabledHours:c,disabledMinutes:f,disabledSeconds:d,defaultValue:h}=l.props,p=$(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",u),x.value?"has-seconds":""]),v=$(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",u),x.value?"has-seconds":""]),g=$(()=>n.parsedValue[0]),m=$(()=>n.parsedValue[1]),b=ome(n),_=()=>{t("pick",b.value,!1)},x=$(()=>n.format.includes("ss")),E=$(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),A=(me=!1)=>{t("pick",[g.value,m.value],me)},T=me=>{O(me.millisecond(0),m.value)},R=me=>{O(g.value,me.millisecond(0))},M=me=>{const re=me.map(se=>kn(se).locale(a.value)),ne=G(re);return re[0].isSame(ne[0])&&re[1].isSame(ne[1])},O=(me,re)=>{n.visible&&t("pick",[me,re],!0)},D=$(()=>g.value>m.value),C=Y([0,2]),P=(me,re)=>{t("select-range",me,re,"min"),C.value=[me,re]},B=$(()=>x.value?11:8),U=(me,re)=>{t("select-range",me,re,"max");const ne=y(B);C.value=[me+ne,re+ne]},L=me=>{const re=x.value?[0,3,6,11,14,17]:[0,3,8,11],ne=["hours","minutes"].concat(x.value?["seconds"]:[]),be=(re.indexOf(C.value[0])+me+re.length)%re.length,Pe=re.length/2;be<Pe?he.start_emitSelectRange(ne[be]):he.end_emitSelectRange(ne[be-Pe])},F=me=>{const re=me.code,{left:ne,right:se,up:be,down:Pe}=kt;if([ne,se].includes(re)){L(re===ne?-1:1),me.preventDefault();return}if([be,Pe].includes(re)){const Ee=re===be?-1:1,Le=C.value[0]<B.value?"start":"end";he[`${Le}_scrollDown`](Ee),me.preventDefault();return}},N=(me,re)=>{const ne=c?c(me):[],se=me==="start",Pe=(re||(se?m.value:g.value)).hour(),Ee=se?r(Pe+1,23):r(0,Pe-1);return $4(ne,Ee)},V=(me,re,ne)=>{const se=f?f(me,re):[],be=re==="start",Pe=ne||(be?m.value:g.value),Ee=Pe.hour();if(me!==Ee)return se;const Le=Pe.minute(),He=be?r(Le+1,59):r(0,Le-1);return $4(se,He)},W=(me,re,ne,se)=>{const be=d?d(me,re,ne):[],Pe=ne==="start",Ee=se||(Pe?m.value:g.value),Le=Ee.hour(),He=Ee.minute();if(me!==Le||re!==He)return be;const rt=Ee.second(),Je=Pe?r(rt+1,59):r(0,rt-1);return $4(be,Je)},G=([me,re])=>[Ce(me,"start",!0,re),Ce(re,"end",!1,me)],{getAvailableHours:K,getAvailableMinutes:q,getAvailableSeconds:ue}=ame(N,V,W),{timePickerOptions:he,getAvailableTime:Ce,onSetOption:ee}=rme({getAvailableHours:K,getAvailableMinutes:q,getAvailableSeconds:ue}),de=me=>me?pt(me)?me.map(re=>kn(re,n.format).locale(a.value)):kn(me,n.format).locale(a.value):null,oe=me=>me?pt(me)?me.map(re=>re.format(n.format)):me.format(n.format):null,pe=()=>{if(pt(h))return h.map(re=>kn(re).locale(a.value));const me=kn(h).locale(a.value);return[me,me.add(60,"m")]};return t("set-picker-option",["formatToString",oe]),t("set-picker-option",["parseUserInput",de]),t("set-picker-option",["isValidValue",M]),t("set-picker-option",["handleKeydownInput",F]),t("set-picker-option",["getDefaultValue",pe]),t("set-picker-option",["getRangeAvailableTime",G]),(me,re)=>me.actualVisible?(H(),Q("div",{key:0,class:j([y(o).b("range-picker"),y(s).b("panel")])},[I("div",{class:j(y(o).be("range-picker","content"))},[I("div",{class:j(y(o).be("range-picker","cell"))},[I("div",{class:j(y(o).be("range-picker","header"))},nt(y(i)("el.datepicker.startTime")),3),I("div",{class:j(y(p))},[z(lU,{ref:"minSpinner",role:"start","show-seconds":y(x),"am-pm-mode":y(E),"arrow-control":y(u),"spinner-date":y(g),"disabled-hours":N,"disabled-minutes":V,"disabled-seconds":W,onChange:T,onSetOption:y(ee),onSelectRange:P},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),I("div",{class:j(y(o).be("range-picker","cell"))},[I("div",{class:j(y(o).be("range-picker","header"))},nt(y(i)("el.datepicker.endTime")),3),I("div",{class:j(y(v))},[z(lU,{ref:"maxSpinner",role:"end","show-seconds":y(x),"am-pm-mode":y(E),"arrow-control":y(u),"spinner-date":y(m),"disabled-hours":N,"disabled-minutes":V,"disabled-seconds":W,onChange:R,onSetOption:y(ee),onSelectRange:U},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),I("div",{class:j(y(o).be("panel","footer"))},[I("button",{type:"button",class:j([y(o).be("panel","btn"),"cancel"]),onClick:ne=>_()},nt(y(i)("el.datepicker.cancel")),11,["onClick"]),I("button",{type:"button",class:j([y(o).be("panel","btn"),"confirm"]),disabled:y(D),onClick:ne=>A()},nt(y(i)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Be("v-if",!0)}});var $ze=_t(zze,[["__file","panel-time-range.vue"]]);kn.extend(Z$);var Hze=le({name:"ElTimePicker",install:null,props:{...Q$,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const n=Y(),[r,i]=e.isRange?["timerange",$ze]:["time",yM],a=o=>t.emit("update:modelValue",o);return mr("ElPopperOptions",e.popperOptions),t.expose({focus:()=>{var o;(o=n.value)==null||o.focus()},blur:()=>{var o;(o=n.value)==null||o.blur()},handleOpen:()=>{var o;(o=n.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=n.value)==null||o.handleClose()}}),()=>{var o;const s=(o=e.format)!=null?o:sU;return z(nme,dr(e,{ref:n,type:r,format:s,"onUpdate:modelValue":a}),{default:l=>z(i,l,null)})}}});const Wze=Un(Hze),YD=Symbol(),Gze=gt({...Q$,type:{type:Ie(String),default:"date"}}),jze=["date","dates","year","years","month","months","week","range"],J$=gt({disabledDate:{type:Ie(Function)},date:{type:Ie(Object),required:!0},minDate:{type:Ie(Object)},maxDate:{type:Ie(Object)},parsedValue:{type:Ie([Object,Array])},rangeState:{type:Ie(Object),default:()=>({endDate:null,selecting:!1})}}),sme=gt({type:{type:Ie(String),required:!0,values:nUe},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),eH=gt({unlinkPanels:Boolean,parsedValue:{type:Ie(Array)}}),tH=e=>({type:String,values:jze,default:e}),Yze=gt({...sme,parsedValue:{type:Ie([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),Ob=e=>{if(!pt(e))return!1;const[t,n]=e;return kn.isDayjs(t)&&kn.isDayjs(n)&&t.isSameOrBefore(n)},nH=(e,{lang:t,unit:n,unlinkPanels:r})=>{let i;if(pt(e)){let[a,o]=e.map(s=>kn(s).locale(t));return r||(o=a.add(1,n)),[a,o]}else e?i=kn(e):i=kn();return i=i.locale(t),[i,i.add(1,n)]},Xze=(e,t,{columnIndexOffset:n,startDate:r,nextEndDate:i,now:a,unit:o,relativeDateGetter:s,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<e.row;c++){const f=t[c];for(let d=0;d<e.column;d++){let h=f[d+n];h||(h={row:c,column:d,type:"normal",inRange:!1,start:!1,end:!1});const p=c*e.column+d,v=s(p);h.dayjs=v,h.date=v.toDate(),h.timestamp=v.valueOf(),h.type="normal",h.inRange=!!(r&&v.isSameOrAfter(r,o)&&i&&v.isSameOrBefore(i,o))||!!(r&&v.isSameOrBefore(r,o)&&i&&v.isSameOrAfter(i,o)),r!=null&&r.isSameOrAfter(i)?(h.start=!!i&&v.isSame(i,o),h.end=r&&v.isSame(r,o)):(h.start=!!r&&v.isSame(r,o),h.end=!!i&&v.isSame(i,o)),v.isSame(a,o)&&(h.type="today"),l==null||l(h,{rowIndex:c,columnIndex:d}),f[d+n]=h}u==null||u(f)}},_M=(e,t,n)=>{const r=kn().locale(n).startOf("month").month(t).year(e),i=r.daysInMonth();return _g(i).map(a=>r.add(a,"day").toDate())},L2=(e,t,n,r)=>{const i=kn().year(e).month(t).startOf("month"),a=_M(e,t,n).find(o=>!(r!=null&&r(o)));return a?kn(a).locale(n):i.locale(n)},uU=(e,t,n)=>{const r=e.year();if(!(n!=null&&n(e.toDate())))return e.locale(t);const i=e.month();if(!_M(r,i,t).every(n))return L2(r,i,t,n);for(let a=0;a<12;a++)if(!_M(r,a,t).every(n))return L2(r,a,t,n);return e},Kze=gt({...J$,cellClassName:{type:Ie(Function)},showWeekNumber:Boolean,selectionMode:tH("date")}),qze=["changerange","pick","select"],cU=(e="")=>["normal","today"].includes(e),Zze=(e,t)=>{const{lang:n}=Lr(),r=Y(),i=Y(),a=Y(),o=Y(),s=Y([[],[],[],[],[],[]]);let l=!1;const u=e.date.$locale().weekStart||7,c=e.date.locale("en").localeData().weekdaysShort().map(V=>V.toLowerCase()),f=$(()=>u>3?7-u:-u),d=$(()=>{const V=e.date.startOf("month");return V.subtract(V.day()||7,"day")}),h=$(()=>c.concat(c).slice(u,u+7)),p=$(()=>Wpe(y(x)).some(V=>V.isCurrent)),v=$(()=>{const V=e.date.startOf("month"),W=V.day()||7,G=V.daysInMonth(),K=V.subtract(1,"month").daysInMonth();return{startOfMonthDay:W,dateCountOfMonth:G,dateCountOfLastMonth:K}}),g=$(()=>e.selectionMode==="dates"?Al(e.parsedValue):[]),m=(V,{count:W,rowIndex:G,columnIndex:K})=>{const{startOfMonthDay:q,dateCountOfMonth:ue,dateCountOfLastMonth:he}=y(v),Ce=y(f);if(G>=0&&G<=1){const ee=q+Ce<0?7+q+Ce:q+Ce;if(K+G*7>=ee)return V.text=W,!0;V.text=he-(ee-K%7)+1+G*7,V.type="prev-month"}else return W<=ue?V.text=W:(V.text=W-ue,V.type="next-month"),!0;return!1},b=(V,{columnIndex:W,rowIndex:G},K)=>{const{disabledDate:q,cellClassName:ue}=e,he=y(g),Ce=m(V,{count:K,rowIndex:G,columnIndex:W}),ee=V.dayjs.toDate();return V.selected=he.find(de=>de.isSame(V.dayjs,"day")),V.isSelected=!!V.selected,V.isCurrent=A(V),V.disabled=q==null?void 0:q(ee),V.customClass=ue==null?void 0:ue(ee),Ce},_=V=>{if(e.selectionMode==="week"){const[W,G]=e.showWeekNumber?[1,7]:[0,6],K=N(V[W+1]);V[W].inRange=K,V[W].start=K,V[G].inRange=K,V[G].end=K}},x=$(()=>{const{minDate:V,maxDate:W,rangeState:G,showWeekNumber:K}=e,q=y(f),ue=y(s),he="day";let Ce=1;if(K)for(let ee=0;ee<6;ee++)ue[ee][0]||(ue[ee][0]={type:"week",text:y(d).add(ee*7+1,he).week()});return Xze({row:6,column:7},ue,{startDate:V,columnIndexOffset:K?1:0,nextEndDate:G.endDate||W||G.selecting&&V||null,now:kn().locale(y(n)).startOf(he),unit:he,relativeDateGetter:ee=>y(d).add(ee-q,he),setCellMetadata:(...ee)=>{b(...ee,Ce)&&(Ce+=1)},setRowMetadata:_}),ue});tt(()=>e.date,async()=>{var V;(V=y(r))!=null&&V.contains(document.activeElement)&&(await fn(),await E())});const E=async()=>{var V;return(V=y(i))==null?void 0:V.focus()},A=V=>e.selectionMode==="date"&&cU(V.type)&&T(V,e.parsedValue),T=(V,W)=>W?kn(W).locale(y(n)).isSame(e.date.date(Number(V.text)),"day"):!1,R=(V,W)=>{const G=V*7+(W-(e.showWeekNumber?1:0))-y(f);return y(d).add(G,"day")},M=V=>{var W;if(!e.rangeState.selecting)return;let G=V.target;if(G.tagName==="SPAN"&&(G=(W=G.parentNode)==null?void 0:W.parentNode),G.tagName==="DIV"&&(G=G.parentNode),G.tagName!=="TD")return;const K=G.parentNode.rowIndex-1,q=G.cellIndex;y(x)[K][q].disabled||(K!==y(a)||q!==y(o))&&(a.value=K,o.value=q,t("changerange",{selecting:!0,endDate:R(K,q)}))},O=V=>!y(p)&&(V==null?void 0:V.text)===1&&V.type==="normal"||V.isCurrent,D=V=>{l||y(p)||e.selectionMode!=="date"||F(V,!0)},C=V=>{V.target.closest("td")&&(l=!0)},P=V=>{V.target.closest("td")&&(l=!1)},B=V=>{!e.rangeState.selecting||!e.minDate?(t("pick",{minDate:V,maxDate:null}),t("select",!0)):(V>=e.minDate?t("pick",{minDate:e.minDate,maxDate:V}):t("pick",{minDate:V,maxDate:e.minDate}),t("select",!1))},U=V=>{const W=V.week(),G=`${V.year()}w${W}`;t("pick",{year:V.year(),week:W,value:G,date:V.startOf("week")})},L=(V,W)=>{const G=W?Al(e.parsedValue).filter(K=>(K==null?void 0:K.valueOf())!==V.valueOf()):Al(e.parsedValue).concat([V]);t("pick",G)},F=(V,W=!1)=>{const G=V.target.closest("td");if(!G)return;const K=G.parentNode.rowIndex-1,q=G.cellIndex,ue=y(x)[K][q];if(ue.disabled||ue.type==="week")return;const he=R(K,q);switch(e.selectionMode){case"range":{B(he);break}case"date":{t("pick",he,W);break}case"week":{U(he);break}case"dates":{L(he,!!ue.selected);break}}},N=V=>{if(e.selectionMode!=="week")return!1;let W=e.date.startOf("day");if(V.type==="prev-month"&&(W=W.subtract(1,"month")),V.type==="next-month"&&(W=W.add(1,"month")),W=W.date(Number.parseInt(V.text,10)),e.parsedValue&&!pt(e.parsedValue)){const G=(e.parsedValue.day()-u+7)%7-1;return e.parsedValue.subtract(G,"day").isSame(W,"day")}return!1};return{WEEKS:h,rows:x,tbodyRef:r,currentCellRef:i,focus:E,isCurrent:A,isWeekActive:N,isSelectedCell:O,handlePickDate:F,handleMouseUp:P,handleMouseDown:C,handleMouseMove:M,handleFocus:D}},Qze=(e,{isCurrent:t,isWeekActive:n})=>{const r=at("date-table"),{t:i}=Lr(),a=$(()=>[r.b(),{"is-week-mode":e.selectionMode==="week"}]),o=$(()=>i("el.datepicker.dateTablePrompt")),s=$(()=>i("el.datepicker.week"));return{tableKls:a,tableLabel:o,weekLabel:s,getCellClasses:c=>{const f=[];return cU(c.type)&&!c.disabled?(f.push("available"),c.type==="today"&&f.push("today")):f.push(c.type),t(c)&&f.push("current"),c.inRange&&(cU(c.type)||e.selectionMode==="week")&&(f.push("in-range"),c.start&&f.push("start-date"),c.end&&f.push("end-date")),c.disabled&&f.push("disabled"),c.selected&&f.push("selected"),c.customClass&&f.push(c.customClass),f.join(" ")},getRowKls:c=>[r.e("row"),{current:n(c)}],t:i}},Jze=gt({cell:{type:Ie(Object)}});var rH=le({name:"ElDatePickerCell",props:Jze,setup(e){const t=at("date-table-cell"),{slots:n}=$t(YD);return()=>{const{cell:r}=e;return De(n,"default",{...r},()=>{var i;return[z("div",{class:t.b()},[z("span",{class:t.e("text")},[(i=r==null?void 0:r.renderText)!=null?i:r==null?void 0:r.text])])]})}}});const e$e=le({__name:"basic-date-table",props:Kze,emits:qze,setup(e,{expose:t,emit:n}){const r=e,{WEEKS:i,rows:a,tbodyRef:o,currentCellRef:s,focus:l,isCurrent:u,isWeekActive:c,isSelectedCell:f,handlePickDate:d,handleMouseUp:h,handleMouseDown:p,handleMouseMove:v,handleFocus:g}=Zze(r,n),{tableLabel:m,tableKls:b,weekLabel:_,getCellClasses:x,getRowKls:E,t:A}=Qze(r,{isCurrent:u,isWeekActive:c});return t({focus:l}),(T,R)=>(H(),Q("table",{"aria-label":y(m),class:j(y(b)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:y(d),onMousemove:y(v),onMousedown:xn(y(p),["prevent"]),onMouseup:y(h)},[I("tbody",{ref_key:"tbodyRef",ref:o},[I("tr",null,[T.showWeekNumber?(H(),Q("th",{key:0,scope:"col"},nt(y(_)),1)):Be("v-if",!0),(H(!0),Q(St,null,Nn(y(i),(M,O)=>(H(),Q("th",{key:O,"aria-label":y(A)("el.datepicker.weeksFull."+M),scope:"col"},nt(y(A)("el.datepicker.weeks."+M)),9,["aria-label"]))),128))]),(H(!0),Q(St,null,Nn(y(a),(M,O)=>(H(),Q("tr",{key:O,class:j(y(E)(M[1]))},[(H(!0),Q(St,null,Nn(M,(D,C)=>(H(),Q("td",{key:`${O}.${C}`,ref_for:!0,ref:P=>y(f)(D)&&(s.value=P),class:j(y(x)(D)),"aria-current":D.isCurrent?"date":void 0,"aria-selected":D.isCurrent,tabindex:y(f)(D)?0:-1,onFocus:y(g)},[z(y(rH),{cell:D},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var fU=_t(e$e,[["__file","basic-date-table.vue"]]);const t$e=gt({...J$,selectionMode:tH("month")}),n$e=le({__name:"basic-month-table",props:t$e,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,i=at("month-table"),{t:a,lang:o}=Lr(),s=Y(),l=Y(),u=Y(r.date.locale("en").localeData().monthsShort().map(_=>_.toLowerCase())),c=Y([[],[],[]]),f=Y(),d=Y(),h=$(()=>{var _,x;const E=c.value,A=kn().locale(o.value).startOf("month");for(let T=0;T<3;T++){const R=E[T];for(let M=0;M<4;M++){const O=R[M]||(R[M]={row:T,column:M,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});O.type="normal";const D=T*4+M,C=r.date.startOf("year").month(D),P=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;O.inRange=!!(r.minDate&&C.isSameOrAfter(r.minDate,"month")&&P&&C.isSameOrBefore(P,"month"))||!!(r.minDate&&C.isSameOrBefore(r.minDate,"month")&&P&&C.isSameOrAfter(P,"month")),(_=r.minDate)!=null&&_.isSameOrAfter(P)?(O.start=!!(P&&C.isSame(P,"month")),O.end=r.minDate&&C.isSame(r.minDate,"month")):(O.start=!!(r.minDate&&C.isSame(r.minDate,"month")),O.end=!!(P&&C.isSame(P,"month"))),A.isSame(C)&&(O.type="today"),O.text=D,O.disabled=((x=r.disabledDate)==null?void 0:x.call(r,C.toDate()))||!1}}return E}),p=()=>{var _;(_=l.value)==null||_.focus()},v=_=>{const x={},E=r.date.year(),A=new Date,T=_.text;return x.disabled=r.disabledDate?_M(E,T,o.value).every(r.disabledDate):!1,x.current=Al(r.parsedValue).findIndex(R=>kn.isDayjs(R)&&R.year()===E&&R.month()===T)>=0,x.today=A.getFullYear()===E&&A.getMonth()===T,_.inRange&&(x["in-range"]=!0,_.start&&(x["start-date"]=!0),_.end&&(x["end-date"]=!0)),x},g=_=>{const x=r.date.year(),E=_.text;return Al(r.date).findIndex(A=>A.year()===x&&A.month()===E)>=0},m=_=>{var x;if(!r.rangeState.selecting)return;let E=_.target;if(E.tagName==="SPAN"&&(E=(x=E.parentNode)==null?void 0:x.parentNode),E.tagName==="DIV"&&(E=E.parentNode),E.tagName!=="TD")return;const A=E.parentNode.rowIndex,T=E.cellIndex;h.value[A][T].disabled||(A!==f.value||T!==d.value)&&(f.value=A,d.value=T,n("changerange",{selecting:!0,endDate:r.date.startOf("year").month(A*4+T)}))},b=_=>{var x;const E=(x=_.target)==null?void 0:x.closest("td");if((E==null?void 0:E.tagName)!=="TD"||pu(E,"disabled"))return;const A=E.cellIndex,R=E.parentNode.rowIndex*4+A,M=r.date.startOf("year").month(R);if(r.selectionMode==="months"){if(_.type==="keydown"){n("pick",Al(r.parsedValue),!1);return}const O=L2(r.date.year(),R,o.value,r.disabledDate),D=pu(E,"current")?Al(r.parsedValue).filter(C=>(C==null?void 0:C.month())!==O.month()):Al(r.parsedValue).concat([kn(O)]);n("pick",D)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&M>=r.minDate?n("pick",{minDate:r.minDate,maxDate:M}):n("pick",{minDate:M,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:M,maxDate:null}),n("select",!0)):n("pick",R)};return tt(()=>r.date,async()=>{var _,x;(_=s.value)!=null&&_.contains(document.activeElement)&&(await fn(),(x=l.value)==null||x.focus())}),t({focus:p}),(_,x)=>(H(),Q("table",{role:"grid","aria-label":y(a)("el.datepicker.monthTablePrompt"),class:j(y(i).b()),onClick:b,onMousemove:m},[I("tbody",{ref_key:"tbodyRef",ref:s},[(H(!0),Q(St,null,Nn(y(h),(E,A)=>(H(),Q("tr",{key:A},[(H(!0),Q(St,null,Nn(E,(T,R)=>(H(),Q("td",{key:R,ref_for:!0,ref:M=>g(T)&&(l.value=M),class:j(v(T)),"aria-selected":`${g(T)}`,"aria-label":y(a)(`el.datepicker.month${+T.text+1}`),tabindex:g(T)?0:-1,onKeydown:[Mi(xn(b,["prevent","stop"]),["space"]),Mi(xn(b,["prevent","stop"]),["enter"])]},[z(y(rH),{cell:{...T,renderText:y(a)("el.datepicker.months."+u.value[T.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var dU=_t(n$e,[["__file","basic-month-table.vue"]]);const r$e=gt({...J$,selectionMode:tH("year")}),i$e=le({__name:"basic-year-table",props:r$e,emits:["changerange","pick","select"],setup(e,{expose:t,emit:n}){const r=e,i=(x,E)=>{const A=kn(String(x)).locale(E).startOf("year"),R=A.endOf("year").dayOfYear();return _g(R).map(M=>A.add(M,"day").toDate())},a=at("year-table"),{t:o,lang:s}=Lr(),l=Y(),u=Y(),c=$(()=>Math.floor(r.date.year()/10)*10),f=Y([[],[],[]]),d=Y(),h=Y(),p=$(()=>{var x;const E=f.value,A=kn().locale(s.value).startOf("year");for(let T=0;T<3;T++){const R=E[T];for(let M=0;M<4&&!(T*4+M>=10);M++){let O=R[M];O||(O={row:T,column:M,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),O.type="normal";const D=T*4+M+c.value,C=kn().year(D),P=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;O.inRange=!!(r.minDate&&C.isSameOrAfter(r.minDate,"year")&&P&&C.isSameOrBefore(P,"year"))||!!(r.minDate&&C.isSameOrBefore(r.minDate,"year")&&P&&C.isSameOrAfter(P,"year")),(x=r.minDate)!=null&&x.isSameOrAfter(P)?(O.start=!!(P&&C.isSame(P,"year")),O.end=!!(r.minDate&&C.isSame(r.minDate,"year"))):(O.start=!!(r.minDate&&C.isSame(r.minDate,"year")),O.end=!!(P&&C.isSame(P,"year"))),A.isSame(C)&&(O.type="today"),O.text=D;const U=C.toDate();O.disabled=r.disabledDate&&r.disabledDate(U)||!1,R[M]=O}}return E}),v=()=>{var x;(x=u.value)==null||x.focus()},g=x=>{const E={},A=kn().locale(s.value),T=x.text;return E.disabled=r.disabledDate?i(T,s.value).every(r.disabledDate):!1,E.today=A.year()===T,E.current=Al(r.parsedValue).findIndex(R=>R.year()===T)>=0,x.inRange&&(E["in-range"]=!0,x.start&&(E["start-date"]=!0),x.end&&(E["end-date"]=!0)),E},m=x=>{const E=x.text;return Al(r.date).findIndex(A=>A.year()===E)>=0},b=x=>{var E;const A=(E=x.target)==null?void 0:E.closest("td");if(!A||!A.textContent||pu(A,"disabled"))return;const T=A.cellIndex,M=A.parentNode.rowIndex*4+T+c.value,O=kn().year(M);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&O>=r.minDate?n("pick",{minDate:r.minDate,maxDate:O}):n("pick",{minDate:O,maxDate:r.minDate}),n("select",!1)):(n("pick",{minDate:O,maxDate:null}),n("select",!0));else if(r.selectionMode==="years"){if(x.type==="keydown"){n("pick",Al(r.parsedValue),!1);return}const D=uU(O.startOf("year"),s.value,r.disabledDate),C=pu(A,"current")?Al(r.parsedValue).filter(P=>(P==null?void 0:P.year())!==M):Al(r.parsedValue).concat([D]);n("pick",C)}else n("pick",M)},_=x=>{var E;if(!r.rangeState.selecting)return;const A=(E=x.target)==null?void 0:E.closest("td");if(!A)return;const T=A.parentNode.rowIndex,R=A.cellIndex;p.value[T][R].disabled||(T!==d.value||R!==h.value)&&(d.value=T,h.value=R,n("changerange",{selecting:!0,endDate:kn().year(c.value).add(T*4+R,"year")}))};return tt(()=>r.date,async()=>{var x,E;(x=l.value)!=null&&x.contains(document.activeElement)&&(await fn(),(E=u.value)==null||E.focus())}),t({focus:v}),(x,E)=>(H(),Q("table",{role:"grid","aria-label":y(o)("el.datepicker.yearTablePrompt"),class:j(y(a).b()),onClick:b,onMousemove:_},[I("tbody",{ref_key:"tbodyRef",ref:l},[(H(!0),Q(St,null,Nn(y(p),(A,T)=>(H(),Q("tr",{key:T},[(H(!0),Q(St,null,Nn(A,(R,M)=>(H(),Q("td",{key:`${T}_${M}`,ref_for:!0,ref:O=>m(R)&&(u.value=O),class:j(["available",g(R)]),"aria-selected":m(R),"aria-label":String(R.text),tabindex:m(R)?0:-1,onKeydown:[Mi(xn(b,["prevent","stop"]),["space"]),Mi(xn(b,["prevent","stop"]),["enter"])]},[z(y(rH),{cell:R},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var hU=_t(i$e,[["__file","basic-year-table.vue"]]);const a$e=le({__name:"panel-date-pick",props:Yze,emits:["pick","set-picker-option","panel-change"],setup(e,{emit:t}){const n=e,r=(We,yt,Re)=>!0,i=at("picker-panel"),a=at("date-picker"),o=qg(),s=_o(),{t:l,lang:u}=Lr(),c=$t("EP_PICKER_BASE"),f=$t(GD),{shortcuts:d,disabledDate:h,cellClassName:p,defaultTime:v}=c.props,g=hi(c.props,"defaultValue"),m=Y(),b=Y(kn().locale(u.value)),_=Y(!1);let x=!1;const E=$(()=>kn(v).locale(u.value)),A=$(()=>b.value.month()),T=$(()=>b.value.year()),R=Y([]),M=Y(null),O=Y(null),D=We=>R.value.length>0?r(We,R.value,n.format||"HH:mm:ss"):!0,C=We=>v&&!be.value&&!_.value&&!x?E.value.year(We.year()).month(We.month()).date(We.date()):ee.value?We.millisecond(0):We.startOf("day"),P=(We,...yt)=>{if(!We)t("pick",We,...yt);else if(pt(We)){const Re=We.map(C);t("pick",Re,...yt)}else t("pick",C(We),...yt);M.value=null,O.value=null,_.value=!1,x=!1},B=async(We,yt)=>{if(W.value==="date"){We=We;let Re=n.parsedValue?n.parsedValue.year(We.year()).month(We.month()).date(We.date()):We;D(Re)||(Re=R.value[0][0].year(We.year()).month(We.month()).date(We.date())),b.value=Re,P(Re,ee.value||yt),n.type==="datetime"&&(await fn(),Sn())}else W.value==="week"?P(We.date):W.value==="dates"&&P(We,!0)},U=We=>{const yt=We?"add":"subtract";b.value=b.value[yt](1,"month"),_r("month")},L=We=>{const yt=b.value,Re=We?"add":"subtract";b.value=F.value==="year"?yt[Re](10,"year"):yt[Re](1,"year"),_r("year")},F=Y("date"),N=$(()=>{const We=l("el.datepicker.year");if(F.value==="year"){const yt=Math.floor(T.value/10)*10;return We?`${yt} ${We} - ${yt+9} ${We}`:`${yt} - ${yt+9}`}return`${T.value} ${We}`}),V=We=>{const yt=on(We.value)?We.value():We.value;if(yt){x=!0,P(kn(yt).locale(u.value));return}We.onClick&&We.onClick({attrs:o,slots:s,emit:t})},W=$(()=>{const{type:We}=n;return["week","month","months","year","years","dates"].includes(We)?We:"date"}),G=$(()=>W.value==="dates"||W.value==="months"||W.value==="years"),K=$(()=>W.value==="date"?F.value:W.value),q=$(()=>!!d.length),ue=async(We,yt)=>{W.value==="month"?(b.value=L2(b.value.year(),We,u.value,h),P(b.value,!1)):W.value==="months"?P(We,yt??!0):(b.value=L2(b.value.year(),We,u.value,h),F.value="date",["month","year","date","week"].includes(W.value)&&(P(b.value,!0),await fn(),Sn())),_r("month")},he=async(We,yt)=>{if(W.value==="year"){const Re=b.value.startOf("year").year(We);b.value=uU(Re,u.value,h),P(b.value,!1)}else if(W.value==="years")P(We,yt??!0);else{const Re=b.value.year(We);b.value=uU(Re,u.value,h),F.value="month",["month","year","date","week"].includes(W.value)&&(P(b.value,!0),await fn(),Sn())}_r("year")},Ce=async We=>{F.value=We,await fn(),Sn()},ee=$(()=>n.type==="datetime"||n.type==="datetimerange"),de=$(()=>{const We=ee.value||W.value==="dates",yt=W.value==="years",Re=W.value==="months",ut=F.value==="date",_e=F.value==="year",It=F.value==="month";return We&&ut||yt&&_e||Re&&It}),oe=$(()=>h?n.parsedValue?pt(n.parsedValue)?h(n.parsedValue[0].toDate()):h(n.parsedValue.toDate()):!0:!1),pe=()=>{if(G.value)P(n.parsedValue);else{let We=n.parsedValue;if(!We){const yt=kn(v).locale(u.value),Re=Mn();We=yt.year(Re.year()).month(Re.month()).date(Re.date())}b.value=We,P(We)}},me=$(()=>h?h(kn().locale(u.value).toDate()):!1),re=()=>{const yt=kn().locale(u.value).toDate();_.value=!0,(!h||!h(yt))&&D(yt)&&(b.value=kn().locale(u.value),P(b.value))},ne=$(()=>n.timeFormat||Tge(n.format)),se=$(()=>n.dateFormat||Ege(n.format)),be=$(()=>{if(O.value)return O.value;if(!(!n.parsedValue&&!g.value))return(n.parsedValue||b.value).format(ne.value)}),Pe=$(()=>{if(M.value)return M.value;if(!(!n.parsedValue&&!g.value))return(n.parsedValue||b.value).format(se.value)}),Ee=Y(!1),Le=()=>{Ee.value=!0},He=()=>{Ee.value=!1},rt=We=>({hour:We.hour(),minute:We.minute(),second:We.second(),year:We.year(),month:We.month(),date:We.date()}),Je=(We,yt,Re)=>{const{hour:ut,minute:_e,second:It}=rt(We),Pn=n.parsedValue?n.parsedValue.hour(ut).minute(_e).second(It):We;b.value=Pn,P(b.value,!0),Re||(Ee.value=yt)},ot=We=>{const yt=kn(We,ne.value).locale(u.value);if(yt.isValid()&&D(yt)){const{year:Re,month:ut,date:_e}=rt(b.value);b.value=yt.year(Re).month(ut).date(_e),O.value=null,Ee.value=!1,P(b.value,!0)}},ae=We=>{const yt=kn(We,se.value).locale(u.value);if(yt.isValid()){if(h&&h(yt.toDate()))return;const{hour:Re,minute:ut,second:_e}=rt(b.value);b.value=yt.hour(Re).minute(ut).second(_e),M.value=null,P(b.value,!0)}},Xe=We=>kn.isDayjs(We)&&We.isValid()&&(h?!h(We.toDate()):!0),Tt=We=>pt(We)?We.map(yt=>yt.format(n.format)):We.format(n.format),sn=We=>kn(We,n.format).locale(u.value),Mn=()=>{const We=kn(g.value).locale(u.value);if(!g.value){const yt=E.value;return kn().hour(yt.hour()).minute(yt.minute()).second(yt.second()).locale(u.value)}return We},Sn=async()=>{var We;["week","month","year","date"].includes(W.value)&&((We=m.value)==null||We.focus(),W.value==="week"&&Gn(kt.down))},En=We=>{const{code:yt}=We;[kt.up,kt.down,kt.left,kt.right,kt.home,kt.end,kt.pageUp,kt.pageDown].includes(yt)&&(Gn(yt),We.stopPropagation(),We.preventDefault()),[kt.enter,kt.space,kt.numpadEnter].includes(yt)&&M.value===null&&O.value===null&&(We.preventDefault(),P(b.value,!1))},Gn=We=>{var yt;const{up:Re,down:ut,left:_e,right:It,home:Pn,end:pr,pageUp:_i,pageDown:lo}=kt,Ki={year:{[Re]:-4,[ut]:4,[_e]:-1,[It]:1,offset:(br,ji)=>br.setFullYear(br.getFullYear()+ji)},month:{[Re]:-4,[ut]:4,[_e]:-1,[It]:1,offset:(br,ji)=>br.setMonth(br.getMonth()+ji)},week:{[Re]:-1,[ut]:1,[_e]:-1,[It]:1,offset:(br,ji)=>br.setDate(br.getDate()+ji*7)},date:{[Re]:-7,[ut]:7,[_e]:-1,[It]:1,[Pn]:br=>-br.getDay(),[pr]:br=>-br.getDay()+6,[_i]:br=>-new Date(br.getFullYear(),br.getMonth(),0).getDate(),[lo]:br=>new Date(br.getFullYear(),br.getMonth()+1,0).getDate(),offset:(br,ji)=>br.setDate(br.getDate()+ji)}},Di=b.value.toDate();for(;Math.abs(b.value.diff(Di,"year",!0))<1;){const br=Ki[K.value];if(!br)return;if(br.offset(Di,on(br[We])?br[We](Di):(yt=br[We])!=null?yt:0),h&&h(Di))break;const ji=kn(Di).locale(u.value);b.value=ji,t("pick",ji,!0);break}},_r=We=>{t("panel-change",b.value.toDate(),We,F.value)};return tt(()=>W.value,We=>{if(["month","year"].includes(We)){F.value=We;return}else if(We==="years"){F.value="year";return}else if(We==="months"){F.value="month";return}F.value="date"},{immediate:!0}),tt(()=>F.value,()=>{f==null||f.updatePopper()}),tt(()=>g.value,We=>{We&&(b.value=Mn())},{immediate:!0}),tt(()=>n.parsedValue,We=>{if(We){if(G.value||pt(We))return;b.value=We}else b.value=Mn()},{immediate:!0}),t("set-picker-option",["isValidValue",Xe]),t("set-picker-option",["formatToString",Tt]),t("set-picker-option",["parseUserInput",sn]),t("set-picker-option",["handleFocusPicker",Sn]),(We,yt)=>(H(),Q("div",{class:j([y(i).b(),y(a).b(),{"has-sidebar":We.$slots.sidebar||y(q),"has-time":y(ee)}])},[I("div",{class:j(y(i).e("body-wrapper"))},[De(We.$slots,"sidebar",{class:j(y(i).e("sidebar"))}),y(q)?(H(),Q("div",{key:0,class:j(y(i).e("sidebar"))},[(H(!0),Q(St,null,Nn(y(d),(Re,ut)=>(H(),Q("button",{key:ut,type:"button",class:j(y(i).e("shortcut")),onClick:_e=>V(Re)},nt(Re.text),11,["onClick"]))),128))],2)):Be("v-if",!0),I("div",{class:j(y(i).e("body"))},[y(ee)?(H(),Q("div",{key:0,class:j(y(a).e("time-header"))},[I("span",{class:j(y(a).e("editor-wrap"))},[z(y(da),{placeholder:y(l)("el.datepicker.selectDate"),"model-value":y(Pe),size:"small","validate-event":!1,onInput:Re=>M.value=Re,onChange:ae},null,8,["placeholder","model-value","onInput"])],2),Wn((H(),Q("span",{class:j(y(a).e("editor-wrap"))},[z(y(da),{placeholder:y(l)("el.datepicker.selectTime"),"model-value":y(be),size:"small","validate-event":!1,onFocus:Le,onInput:Re=>O.value=Re,onChange:ot},null,8,["placeholder","model-value","onInput"]),z(y(yM),{visible:Ee.value,format:y(ne),"parsed-value":b.value,onPick:Je},null,8,["visible","format","parsed-value"])],2)),[[y(wp),He]])],2)):Be("v-if",!0),Wn(I("div",{class:j([y(a).e("header"),(F.value==="year"||F.value==="month")&&y(a).e("header--bordered")])},[I("span",{class:j(y(a).e("prev-btn"))},[I("button",{type:"button","aria-label":y(l)("el.datepicker.prevYear"),class:j(["d-arrow-left",y(i).e("icon-btn")]),onClick:Re=>L(!1)},[De(We.$slots,"prev-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Lg))]),_:1})])],10,["aria-label","onClick"]),Wn(I("button",{type:"button","aria-label":y(l)("el.datepicker.prevMonth"),class:j([y(i).e("icon-btn"),"arrow-left"]),onClick:Re=>U(!1)},[De(We.$slots,"prev-month",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Pg))]),_:1})])],10,["aria-label","onClick"]),[[Xr,F.value==="date"]])],2),I("span",{role:"button",class:j(y(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Mi(Re=>Ce("year"),["enter"]),onClick:Re=>Ce("year")},nt(y(N)),43,["onKeydown","onClick"]),Wn(I("span",{role:"button","aria-live":"polite",tabindex:"0",class:j([y(a).e("header-label"),{active:F.value==="month"}]),onKeydown:Mi(Re=>Ce("month"),["enter"]),onClick:Re=>Ce("month")},nt(y(l)(`el.datepicker.month${y(A)+1}`)),43,["onKeydown","onClick"]),[[Xr,F.value==="date"]]),I("span",{class:j(y(a).e("next-btn"))},[Wn(I("button",{type:"button","aria-label":y(l)("el.datepicker.nextMonth"),class:j([y(i).e("icon-btn"),"arrow-right"]),onClick:Re=>U(!0)},[De(We.$slots,"next-month",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Cl))]),_:1})])],10,["aria-label","onClick"]),[[Xr,F.value==="date"]]),I("button",{type:"button","aria-label":y(l)("el.datepicker.nextYear"),class:j([y(i).e("icon-btn"),"d-arrow-right"]),onClick:Re=>L(!0)},[De(We.$slots,"next-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Ng))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[Xr,F.value!=="time"]]),I("div",{class:j(y(i).e("content")),onKeydown:En},[F.value==="date"?(H(),Ue(fU,{key:0,ref_key:"currentViewRef",ref:m,"selection-mode":y(W),date:b.value,"parsed-value":We.parsedValue,"disabled-date":y(h),"cell-class-name":y(p),onPick:B},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Be("v-if",!0),F.value==="year"?(H(),Ue(hU,{key:1,ref_key:"currentViewRef",ref:m,"selection-mode":y(W),date:b.value,"disabled-date":y(h),"parsed-value":We.parsedValue,onPick:he},null,8,["selection-mode","date","disabled-date","parsed-value"])):Be("v-if",!0),F.value==="month"?(H(),Ue(dU,{key:2,ref_key:"currentViewRef",ref:m,"selection-mode":y(W),date:b.value,"parsed-value":We.parsedValue,"disabled-date":y(h),onPick:ue},null,8,["selection-mode","date","parsed-value","disabled-date"])):Be("v-if",!0)],34)],2)],2),Wn(I("div",{class:j(y(i).e("footer"))},[Wn(z(y(sa),{text:"",size:"small",class:j(y(i).e("link-btn")),disabled:y(me),onClick:re},{default:J(()=>[$n(nt(y(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Xr,!y(G)&&We.showNow]]),z(y(sa),{plain:"",size:"small",class:j(y(i).e("link-btn")),disabled:y(oe),onClick:pe},{default:J(()=>[$n(nt(y(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Xr,y(de)]])],2))}});var o$e=_t(a$e,[["__file","panel-date-pick.vue"]]);const s$e=gt({...sme,...eH,visible:Boolean}),lme=e=>{const{emit:t}=or(),n=qg(),r=_o();return a=>{const o=on(a.value)?a.value():a.value;if(o){t("pick",[kn(o[0]).locale(e.value),kn(o[1]).locale(e.value)]);return}a.onClick&&a.onClick({attrs:n,slots:r,emit:t})}},ume=(e,{defaultValue:t,leftDate:n,rightDate:r,unit:i,onParsedValueChanged:a})=>{const{emit:o}=or(),{pickerNs:s}=$t(YD),l=at("date-range-picker"),{t:u,lang:c}=Lr(),f=lme(c),d=Y(),h=Y(),p=Y({endDate:null,selecting:!1}),v=x=>{p.value=x},g=(x=!1)=>{const E=y(d),A=y(h);Ob([E,A])&&o("pick",[E,A],x)},m=x=>{p.value.selecting=x,x||(p.value.endDate=null)},b=x=>{if(pt(x)&&x.length===2){const[E,A]=x;d.value=E,n.value=E,h.value=A,a(y(d),y(h))}else _()},_=()=>{const[x,E]=nH(y(t),{lang:y(c),unit:i,unlinkPanels:e.unlinkPanels});d.value=void 0,h.value=void 0,n.value=x,r.value=E};return tt(t,x=>{x&&_()},{immediate:!0}),tt(()=>e.parsedValue,b,{immediate:!0}),{minDate:d,maxDate:h,rangeState:p,lang:c,ppNs:s,drpNs:l,handleChangeRange:v,handleRangeConfirm:g,handleShortcutClick:f,onSelect:m,onReset:b,t:u}},sR="month",l$e=le({__name:"panel-date-range",props:s$e,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(e,{emit:t}){const n=e,r=$t("EP_PICKER_BASE"),{disabledDate:i,cellClassName:a,defaultTime:o,clearable:s}=r.props,l=hi(r.props,"format"),u=hi(r.props,"shortcuts"),c=hi(r.props,"defaultValue"),{lang:f}=Lr(),d=Y(kn().locale(f.value)),h=Y(kn().locale(f.value).add(1,sR)),{minDate:p,maxDate:v,rangeState:g,ppNs:m,drpNs:b,handleChangeRange:_,handleRangeConfirm:x,handleShortcutClick:E,onSelect:A,onReset:T,t:R}=ume(n,{defaultValue:c,leftDate:d,rightDate:h,unit:sR,onParsedValueChanged:yt});tt(()=>n.visible,Re=>{!Re&&g.value.selecting&&(T(n.parsedValue),A(!1))});const M=Y({min:null,max:null}),O=Y({min:null,max:null}),D=$(()=>`${d.value.year()} ${R("el.datepicker.year")} ${R(`el.datepicker.month${d.value.month()+1}`)}`),C=$(()=>`${h.value.year()} ${R("el.datepicker.year")} ${R(`el.datepicker.month${h.value.month()+1}`)}`),P=$(()=>d.value.year()),B=$(()=>d.value.month()),U=$(()=>h.value.year()),L=$(()=>h.value.month()),F=$(()=>!!u.value.length),N=$(()=>M.value.min!==null?M.value.min:p.value?p.value.format(q.value):""),V=$(()=>M.value.max!==null?M.value.max:v.value||p.value?(v.value||p.value).format(q.value):""),W=$(()=>O.value.min!==null?O.value.min:p.value?p.value.format(K.value):""),G=$(()=>O.value.max!==null?O.value.max:v.value||p.value?(v.value||p.value).format(K.value):""),K=$(()=>n.timeFormat||Tge(l.value)),q=$(()=>n.dateFormat||Ege(l.value)),ue=Re=>Ob(Re)&&(i?!i(Re[0].toDate())&&!i(Re[1].toDate()):!0),he=()=>{d.value=d.value.subtract(1,"year"),n.unlinkPanels||(h.value=d.value.add(1,"month")),ne("year")},Ce=()=>{d.value=d.value.subtract(1,"month"),n.unlinkPanels||(h.value=d.value.add(1,"month")),ne("month")},ee=()=>{n.unlinkPanels?h.value=h.value.add(1,"year"):(d.value=d.value.add(1,"year"),h.value=d.value.add(1,"month")),ne("year")},de=()=>{n.unlinkPanels?h.value=h.value.add(1,"month"):(d.value=d.value.add(1,"month"),h.value=d.value.add(1,"month")),ne("month")},oe=()=>{d.value=d.value.add(1,"year"),ne("year")},pe=()=>{d.value=d.value.add(1,"month"),ne("month")},me=()=>{h.value=h.value.subtract(1,"year"),ne("year")},re=()=>{h.value=h.value.subtract(1,"month"),ne("month")},ne=Re=>{t("panel-change",[d.value.toDate(),h.value.toDate()],Re)},se=$(()=>{const Re=(B.value+1)%12,ut=B.value+1>=12?1:0;return n.unlinkPanels&&new Date(P.value+ut,Re)<new Date(U.value,L.value)}),be=$(()=>n.unlinkPanels&&U.value*12+L.value-(P.value*12+B.value+1)>=12),Pe=$(()=>!(p.value&&v.value&&!g.value.selecting&&Ob([p.value,v.value]))),Ee=$(()=>n.type==="datetime"||n.type==="datetimerange"),Le=(Re,ut)=>{if(Re)return o?kn(o[ut]||o).locale(f.value).year(Re.year()).month(Re.month()).date(Re.date()):Re},He=(Re,ut=!0)=>{const _e=Re.minDate,It=Re.maxDate,Pn=Le(_e,0),pr=Le(It,1);v.value===pr&&p.value===Pn||(t("calendar-change",[_e.toDate(),It&&It.toDate()]),v.value=pr,p.value=Pn,!(!ut||Ee.value)&&x())},rt=Y(!1),Je=Y(!1),ot=()=>{rt.value=!1},ae=()=>{Je.value=!1},Xe=(Re,ut)=>{M.value[ut]=Re;const _e=kn(Re,q.value).locale(f.value);if(_e.isValid()){if(i&&i(_e.toDate()))return;ut==="min"?(d.value=_e,p.value=(p.value||d.value).year(_e.year()).month(_e.month()).date(_e.date()),!n.unlinkPanels&&(!v.value||v.value.isBefore(p.value))&&(h.value=_e.add(1,"month"),v.value=p.value.add(1,"month"))):(h.value=_e,v.value=(v.value||h.value).year(_e.year()).month(_e.month()).date(_e.date()),!n.unlinkPanels&&(!p.value||p.value.isAfter(v.value))&&(d.value=_e.subtract(1,"month"),p.value=v.value.subtract(1,"month")))}},Tt=(Re,ut)=>{M.value[ut]=null},sn=(Re,ut)=>{O.value[ut]=Re;const _e=kn(Re,K.value).locale(f.value);_e.isValid()&&(ut==="min"?(rt.value=!0,p.value=(p.value||d.value).hour(_e.hour()).minute(_e.minute()).second(_e.second())):(Je.value=!0,v.value=(v.value||h.value).hour(_e.hour()).minute(_e.minute()).second(_e.second()),h.value=v.value))},Mn=(Re,ut)=>{O.value[ut]=null,ut==="min"?(d.value=p.value,rt.value=!1,(!v.value||v.value.isBefore(p.value))&&(v.value=p.value)):(h.value=v.value,Je.value=!1,v.value&&v.value.isBefore(p.value)&&(p.value=v.value))},Sn=(Re,ut,_e)=>{O.value.min||(Re&&(d.value=Re,p.value=(p.value||d.value).hour(Re.hour()).minute(Re.minute()).second(Re.second())),_e||(rt.value=ut),(!v.value||v.value.isBefore(p.value))&&(v.value=p.value,h.value=Re))},En=(Re,ut,_e)=>{O.value.max||(Re&&(h.value=Re,v.value=(v.value||h.value).hour(Re.hour()).minute(Re.minute()).second(Re.second())),_e||(Je.value=ut),v.value&&v.value.isBefore(p.value)&&(p.value=v.value))},Gn=()=>{d.value=nH(y(c),{lang:y(f),unit:"month",unlinkPanels:n.unlinkPanels})[0],h.value=d.value.add(1,"month"),v.value=void 0,p.value=void 0,t("pick",null)},_r=Re=>pt(Re)?Re.map(ut=>ut.format(l.value)):Re.format(l.value),We=Re=>pt(Re)?Re.map(ut=>kn(ut,l.value).locale(f.value)):kn(Re,l.value).locale(f.value);function yt(Re,ut){if(n.unlinkPanels&&ut){const _e=(Re==null?void 0:Re.year())||0,It=(Re==null?void 0:Re.month())||0,Pn=ut.year(),pr=ut.month();h.value=_e===Pn&&It===pr?ut.add(1,sR):ut}else h.value=d.value.add(1,sR),ut&&(h.value=h.value.hour(ut.hour()).minute(ut.minute()).second(ut.second()))}return t("set-picker-option",["isValidValue",ue]),t("set-picker-option",["parseUserInput",We]),t("set-picker-option",["formatToString",_r]),t("set-picker-option",["handleClear",Gn]),(Re,ut)=>(H(),Q("div",{class:j([y(m).b(),y(b).b(),{"has-sidebar":Re.$slots.sidebar||y(F),"has-time":y(Ee)}])},[I("div",{class:j(y(m).e("body-wrapper"))},[De(Re.$slots,"sidebar",{class:j(y(m).e("sidebar"))}),y(F)?(H(),Q("div",{key:0,class:j(y(m).e("sidebar"))},[(H(!0),Q(St,null,Nn(y(u),(_e,It)=>(H(),Q("button",{key:It,type:"button",class:j(y(m).e("shortcut")),onClick:Pn=>y(E)(_e)},nt(_e.text),11,["onClick"]))),128))],2)):Be("v-if",!0),I("div",{class:j(y(m).e("body"))},[y(Ee)?(H(),Q("div",{key:0,class:j(y(b).e("time-header"))},[I("span",{class:j(y(b).e("editors-wrap"))},[I("span",{class:j(y(b).e("time-picker-wrap"))},[z(y(da),{size:"small",disabled:y(g).selecting,placeholder:y(R)("el.datepicker.startDate"),class:j(y(b).e("editor")),"model-value":y(N),"validate-event":!1,onInput:_e=>Xe(_e,"min"),onChange:_e=>Tt(_e,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Wn((H(),Q("span",{class:j(y(b).e("time-picker-wrap"))},[z(y(da),{size:"small",class:j(y(b).e("editor")),disabled:y(g).selecting,placeholder:y(R)("el.datepicker.startTime"),"model-value":y(W),"validate-event":!1,onFocus:_e=>rt.value=!0,onInput:_e=>sn(_e,"min"),onChange:_e=>Mn(_e,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),z(y(yM),{visible:rt.value,format:y(K),"datetime-role":"start","parsed-value":d.value,onPick:Sn},null,8,["visible","format","parsed-value"])],2)),[[y(wp),ot]])],2),I("span",null,[z(y(Xt),null,{default:J(()=>[z(y(Cl))]),_:1})]),I("span",{class:j([y(b).e("editors-wrap"),"is-right"])},[I("span",{class:j(y(b).e("time-picker-wrap"))},[z(y(da),{size:"small",class:j(y(b).e("editor")),disabled:y(g).selecting,placeholder:y(R)("el.datepicker.endDate"),"model-value":y(V),readonly:!y(p),"validate-event":!1,onInput:_e=>Xe(_e,"max"),onChange:_e=>Tt(_e,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Wn((H(),Q("span",{class:j(y(b).e("time-picker-wrap"))},[z(y(da),{size:"small",class:j(y(b).e("editor")),disabled:y(g).selecting,placeholder:y(R)("el.datepicker.endTime"),"model-value":y(G),readonly:!y(p),"validate-event":!1,onFocus:_e=>y(p)&&(Je.value=!0),onInput:_e=>sn(_e,"max"),onChange:_e=>Mn(_e,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),z(y(yM),{"datetime-role":"end",visible:Je.value,format:y(K),"parsed-value":h.value,onPick:En},null,8,["visible","format","parsed-value"])],2)),[[y(wp),ae]])],2)],2)):Be("v-if",!0),I("div",{class:j([[y(m).e("content"),y(b).e("content")],"is-left"])},[I("div",{class:j(y(b).e("header"))},[I("button",{type:"button",class:j([y(m).e("icon-btn"),"d-arrow-left"]),"aria-label":y(R)("el.datepicker.prevYear"),onClick:he},[De(Re.$slots,"prev-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Lg))]),_:1})])],10,["aria-label"]),I("button",{type:"button",class:j([y(m).e("icon-btn"),"arrow-left"]),"aria-label":y(R)("el.datepicker.prevMonth"),onClick:Ce},[De(Re.$slots,"prev-month",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Pg))]),_:1})])],10,["aria-label"]),Re.unlinkPanels?(H(),Q("button",{key:0,type:"button",disabled:!y(be),class:j([[y(m).e("icon-btn"),{"is-disabled":!y(be)}],"d-arrow-right"]),"aria-label":y(R)("el.datepicker.nextYear"),onClick:oe},[De(Re.$slots,"next-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Ng))]),_:1})])],10,["disabled","aria-label"])):Be("v-if",!0),Re.unlinkPanels?(H(),Q("button",{key:1,type:"button",disabled:!y(se),class:j([[y(m).e("icon-btn"),{"is-disabled":!y(se)}],"arrow-right"]),"aria-label":y(R)("el.datepicker.nextMonth"),onClick:pe},[De(Re.$slots,"next-month",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Cl))]),_:1})])],10,["disabled","aria-label"])):Be("v-if",!0),I("div",null,nt(y(D)),1)],2),z(fU,{"selection-mode":"range",date:d.value,"min-date":y(p),"max-date":y(v),"range-state":y(g),"disabled-date":y(i),"cell-class-name":y(a),onChangerange:y(_),onPick:He,onSelect:y(A)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),I("div",{class:j([[y(m).e("content"),y(b).e("content")],"is-right"])},[I("div",{class:j(y(b).e("header"))},[Re.unlinkPanels?(H(),Q("button",{key:0,type:"button",disabled:!y(be),class:j([[y(m).e("icon-btn"),{"is-disabled":!y(be)}],"d-arrow-left"]),"aria-label":y(R)("el.datepicker.prevYear"),onClick:me},[De(Re.$slots,"prev-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Lg))]),_:1})])],10,["disabled","aria-label"])):Be("v-if",!0),Re.unlinkPanels?(H(),Q("button",{key:1,type:"button",disabled:!y(se),class:j([[y(m).e("icon-btn"),{"is-disabled":!y(se)}],"arrow-left"]),"aria-label":y(R)("el.datepicker.prevMonth"),onClick:re},[De(Re.$slots,"prev-month",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Pg))]),_:1})])],10,["disabled","aria-label"])):Be("v-if",!0),I("button",{type:"button","aria-label":y(R)("el.datepicker.nextYear"),class:j([y(m).e("icon-btn"),"d-arrow-right"]),onClick:ee},[De(Re.$slots,"next-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Ng))]),_:1})])],10,["aria-label"]),I("button",{type:"button",class:j([y(m).e("icon-btn"),"arrow-right"]),"aria-label":y(R)("el.datepicker.nextMonth"),onClick:de},[De(Re.$slots,"next-month",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Cl))]),_:1})])],10,["aria-label"]),I("div",null,nt(y(C)),1)],2),z(fU,{"selection-mode":"range",date:h.value,"min-date":y(p),"max-date":y(v),"range-state":y(g),"disabled-date":y(i),"cell-class-name":y(a),onChangerange:y(_),onPick:He,onSelect:y(A)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),y(Ee)?(H(),Q("div",{key:0,class:j(y(m).e("footer"))},[y(s)?(H(),Ue(y(sa),{key:0,text:"",size:"small",class:j(y(m).e("link-btn")),onClick:Gn},{default:J(()=>[$n(nt(y(R)("el.datepicker.clear")),1)]),_:1},8,["class"])):Be("v-if",!0),z(y(sa),{plain:"",size:"small",class:j(y(m).e("link-btn")),disabled:y(Pe),onClick:_e=>y(x)(!1)},{default:J(()=>[$n(nt(y(R)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Be("v-if",!0)],2))}});var u$e=_t(l$e,[["__file","panel-date-range.vue"]]);const c$e=gt({...eH}),f$e=["pick","set-picker-option","calendar-change"],d$e=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const{t:r}=Lr(),i=()=>{t.value=t.value.subtract(1,"year"),e.value||(n.value=n.value.subtract(1,"year"))},a=()=>{e.value||(t.value=t.value.add(1,"year")),n.value=n.value.add(1,"year")},o=()=>{t.value=t.value.add(1,"year")},s=()=>{n.value=n.value.subtract(1,"year")},l=$(()=>`${t.value.year()} ${r("el.datepicker.year")}`),u=$(()=>`${n.value.year()} ${r("el.datepicker.year")}`),c=$(()=>t.value.year()),f=$(()=>n.value.year()===t.value.year()?t.value.year()+1:n.value.year());return{leftPrevYear:i,rightNextYear:a,leftNextYear:o,rightPrevYear:s,leftLabel:l,rightLabel:u,leftYear:c,rightYear:f}},lR="year",h$e=le({name:"DatePickerMonthRange"}),p$e=le({...h$e,props:c$e,emits:f$e,setup(e,{emit:t}){const n=e,{lang:r}=Lr(),i=$t("EP_PICKER_BASE"),{shortcuts:a,disabledDate:o}=i.props,s=hi(i.props,"format"),l=hi(i.props,"defaultValue"),u=Y(kn().locale(r.value)),c=Y(kn().locale(r.value).add(1,lR)),{minDate:f,maxDate:d,rangeState:h,ppNs:p,drpNs:v,handleChangeRange:g,handleRangeConfirm:m,handleShortcutClick:b,onSelect:_}=ume(n,{defaultValue:l,leftDate:u,rightDate:c,unit:lR,onParsedValueChanged:N}),x=$(()=>!!a.length),{leftPrevYear:E,rightNextYear:A,leftNextYear:T,rightPrevYear:R,leftLabel:M,rightLabel:O,leftYear:D,rightYear:C}=d$e({unlinkPanels:hi(n,"unlinkPanels"),leftDate:u,rightDate:c}),P=$(()=>n.unlinkPanels&&C.value>D.value+1),B=(V,W=!0)=>{const G=V.minDate,K=V.maxDate;d.value===K&&f.value===G||(t("calendar-change",[G.toDate(),K&&K.toDate()]),d.value=K,f.value=G,W&&m())},U=()=>{u.value=nH(y(l),{lang:y(r),unit:"year",unlinkPanels:n.unlinkPanels})[0],c.value=u.value.add(1,"year"),t("pick",null)},L=V=>pt(V)?V.map(W=>W.format(s.value)):V.format(s.value),F=V=>pt(V)?V.map(W=>kn(W,s.value).locale(r.value)):kn(V,s.value).locale(r.value);function N(V,W){if(n.unlinkPanels&&W){const G=(V==null?void 0:V.year())||0,K=W.year();c.value=G===K?W.add(1,lR):W}else c.value=u.value.add(1,lR)}return t("set-picker-option",["isValidValue",Ob]),t("set-picker-option",["formatToString",L]),t("set-picker-option",["parseUserInput",F]),t("set-picker-option",["handleClear",U]),(V,W)=>(H(),Q("div",{class:j([y(p).b(),y(v).b(),{"has-sidebar":!!V.$slots.sidebar||y(x)}])},[I("div",{class:j(y(p).e("body-wrapper"))},[De(V.$slots,"sidebar",{class:j(y(p).e("sidebar"))}),y(x)?(H(),Q("div",{key:0,class:j(y(p).e("sidebar"))},[(H(!0),Q(St,null,Nn(y(a),(G,K)=>(H(),Q("button",{key:K,type:"button",class:j(y(p).e("shortcut")),onClick:q=>y(b)(G)},nt(G.text),11,["onClick"]))),128))],2)):Be("v-if",!0),I("div",{class:j(y(p).e("body"))},[I("div",{class:j([[y(p).e("content"),y(v).e("content")],"is-left"])},[I("div",{class:j(y(v).e("header"))},[I("button",{type:"button",class:j([y(p).e("icon-btn"),"d-arrow-left"]),onClick:y(E)},[De(V.$slots,"prev-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Lg))]),_:1})])],10,["onClick"]),V.unlinkPanels?(H(),Q("button",{key:0,type:"button",disabled:!y(P),class:j([[y(p).e("icon-btn"),{[y(p).is("disabled")]:!y(P)}],"d-arrow-right"]),onClick:y(T)},[De(V.$slots,"next-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Ng))]),_:1})])],10,["disabled","onClick"])):Be("v-if",!0),I("div",null,nt(y(M)),1)],2),z(dU,{"selection-mode":"range",date:u.value,"min-date":y(f),"max-date":y(d),"range-state":y(h),"disabled-date":y(o),onChangerange:y(g),onPick:B,onSelect:y(_)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),I("div",{class:j([[y(p).e("content"),y(v).e("content")],"is-right"])},[I("div",{class:j(y(v).e("header"))},[V.unlinkPanels?(H(),Q("button",{key:0,type:"button",disabled:!y(P),class:j([[y(p).e("icon-btn"),{"is-disabled":!y(P)}],"d-arrow-left"]),onClick:y(R)},[De(V.$slots,"prev-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Lg))]),_:1})])],10,["disabled","onClick"])):Be("v-if",!0),I("button",{type:"button",class:j([y(p).e("icon-btn"),"d-arrow-right"]),onClick:y(A)},[De(V.$slots,"next-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Ng))]),_:1})])],10,["onClick"]),I("div",null,nt(y(O)),1)],2),z(dU,{"selection-mode":"range",date:c.value,"min-date":y(f),"max-date":y(d),"range-state":y(h),"disabled-date":y(o),onChangerange:y(g),onPick:B,onSelect:y(_)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var v$e=_t(p$e,[["__file","panel-month-range.vue"]]);const g$e=gt({...eH}),m$e=["pick","set-picker-option","calendar-change"],y$e=({unlinkPanels:e,leftDate:t,rightDate:n})=>{const r=()=>{t.value=t.value.subtract(10,"year"),e.value||(n.value=n.value.subtract(10,"year"))},i=()=>{e.value||(t.value=t.value.add(10,"year")),n.value=n.value.add(10,"year")},a=()=>{t.value=t.value.add(10,"year")},o=()=>{n.value=n.value.subtract(10,"year")},s=$(()=>{const f=Math.floor(t.value.year()/10)*10;return`${f}-${f+9}`}),l=$(()=>{const f=Math.floor(n.value.year()/10)*10;return`${f}-${f+9}`}),u=$(()=>Math.floor(t.value.year()/10)*10+9),c=$(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:i,leftNextYear:a,rightPrevYear:o,leftLabel:s,rightLabel:l,leftYear:u,rightYear:c}},pq="year",_$e=le({name:"DatePickerYearRange"}),b$e=le({..._$e,props:g$e,emits:m$e,setup(e,{emit:t}){const n=e,{lang:r}=Lr(),i=Y(kn().locale(r.value)),a=Y(i.value.add(10,"year")),{pickerNs:o}=$t(YD),s=at("date-range-picker"),l=$(()=>!!B.length),u=$(()=>[o.b(),s.b(),{"has-sidebar":!!_o().sidebar||l.value}]),c=$(()=>({content:[o.e("content"),s.e("content"),"is-left"],arrowLeftBtn:[o.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),{[o.is("disabled")]:!E.value},"d-arrow-right"]})),f=$(()=>({content:[o.e("content"),s.e("content"),"is-right"],arrowLeftBtn:[o.e("icon-btn"),{"is-disabled":!E.value},"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),"d-arrow-right"]})),d=lme(r),{leftPrevYear:h,rightNextYear:p,leftNextYear:v,rightPrevYear:g,leftLabel:m,rightLabel:b,leftYear:_,rightYear:x}=y$e({unlinkPanels:hi(n,"unlinkPanels"),leftDate:i,rightDate:a}),E=$(()=>n.unlinkPanels&&x.value>_.value+1),A=Y(),T=Y(),R=Y({endDate:null,selecting:!1}),M=q=>{R.value=q},O=(q,ue=!0)=>{const he=q.minDate,Ce=q.maxDate;T.value===Ce&&A.value===he||(t("calendar-change",[he.toDate(),Ce&&Ce.toDate()]),T.value=Ce,A.value=he,ue&&D())},D=(q=!1)=>{Ob([A.value,T.value])&&t("pick",[A.value,T.value],q)},C=q=>{R.value.selecting=q,q||(R.value.endDate=null)},P=$t("EP_PICKER_BASE"),{shortcuts:B,disabledDate:U}=P.props,L=hi(P.props,"format"),F=hi(P.props,"defaultValue"),N=()=>{let q;if(pt(F.value)){const ue=kn(F.value[0]);let he=kn(F.value[1]);return n.unlinkPanels||(he=ue.add(10,pq)),[ue,he]}else F.value?q=kn(F.value):q=kn();return q=q.locale(r.value),[q,q.add(10,pq)]};tt(()=>F.value,q=>{if(q){const ue=N();i.value=ue[0],a.value=ue[1]}},{immediate:!0}),tt(()=>n.parsedValue,q=>{if(q&&q.length===2)if(A.value=q[0],T.value=q[1],i.value=A.value,n.unlinkPanels&&T.value){const ue=A.value.year(),he=T.value.year();a.value=ue===he?T.value.add(10,"year"):T.value}else a.value=i.value.add(10,"year");else{const ue=N();A.value=void 0,T.value=void 0,i.value=ue[0],a.value=ue[1]}},{immediate:!0});const V=q=>pt(q)?q.map(ue=>kn(ue,L.value).locale(r.value)):kn(q,L.value).locale(r.value),W=q=>pt(q)?q.map(ue=>ue.format(L.value)):q.format(L.value),G=q=>Ob(q)&&(U?!U(q[0].toDate())&&!U(q[1].toDate()):!0),K=()=>{const q=N();i.value=q[0],a.value=q[1],T.value=void 0,A.value=void 0,t("pick",null)};return t("set-picker-option",["isValidValue",G]),t("set-picker-option",["parseUserInput",V]),t("set-picker-option",["formatToString",W]),t("set-picker-option",["handleClear",K]),(q,ue)=>(H(),Q("div",{class:j(y(u))},[I("div",{class:j(y(o).e("body-wrapper"))},[De(q.$slots,"sidebar",{class:j(y(o).e("sidebar"))}),y(l)?(H(),Q("div",{key:0,class:j(y(o).e("sidebar"))},[(H(!0),Q(St,null,Nn(y(B),(he,Ce)=>(H(),Q("button",{key:Ce,type:"button",class:j(y(o).e("shortcut")),onClick:ee=>y(d)(he)},nt(he.text),11,["onClick"]))),128))],2)):Be("v-if",!0),I("div",{class:j(y(o).e("body"))},[I("div",{class:j(y(c).content)},[I("div",{class:j(y(s).e("header"))},[I("button",{type:"button",class:j(y(c).arrowLeftBtn),onClick:y(h)},[De(q.$slots,"prev-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Lg))]),_:1})])],10,["onClick"]),q.unlinkPanels?(H(),Q("button",{key:0,type:"button",disabled:!y(E),class:j(y(c).arrowRightBtn),onClick:y(v)},[De(q.$slots,"next-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Ng))]),_:1})])],10,["disabled","onClick"])):Be("v-if",!0),I("div",null,nt(y(m)),1)],2),z(hU,{"selection-mode":"range",date:i.value,"min-date":A.value,"max-date":T.value,"range-state":R.value,"disabled-date":y(U),onChangerange:M,onPick:O,onSelect:C},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),I("div",{class:j(y(f).content)},[I("div",{class:j(y(s).e("header"))},[q.unlinkPanels?(H(),Q("button",{key:0,type:"button",disabled:!y(E),class:j(y(f).arrowLeftBtn),onClick:y(g)},[De(q.$slots,"prev-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Lg))]),_:1})])],10,["disabled","onClick"])):Be("v-if",!0),I("button",{type:"button",class:j(y(f).arrowRightBtn),onClick:y(p)},[De(q.$slots,"next-year",{},()=>[z(y(Xt),null,{default:J(()=>[z(y(Ng))]),_:1})])],10,["onClick"]),I("div",null,nt(y(b)),1)],2),z(hU,{"selection-mode":"range",date:a.value,"min-date":A.value,"max-date":T.value,"range-state":R.value,"disabled-date":y(U),onChangerange:M,onPick:O,onSelect:C},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var x$e=_t(b$e,[["__file","panel-year-range.vue"]]);const S$e=function(e){switch(e){case"daterange":case"datetimerange":return u$e;case"monthrange":return v$e;case"yearrange":return x$e;default:return o$e}};kn.extend(wge);kn.extend(oze);kn.extend(Z$);kn.extend(cze);kn.extend(pze);kn.extend(yze);kn.extend(Sze);kn.extend(wze);var A$e=le({name:"ElDatePicker",install:null,props:Gze,emits:["update:modelValue"],setup(e,{expose:t,emit:n,slots:r}){const i=at("picker-panel");mr("ElPopperOptions",zn(hi(e,"popperOptions"))),mr(YD,{slots:r,pickerNs:i});const a=Y();t({focus:()=>{var l;(l=a.value)==null||l.focus()},blur:()=>{var l;(l=a.value)==null||l.blur()},handleOpen:()=>{var l;(l=a.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=a.value)==null||l.handleClose()}});const s=l=>{n("update:modelValue",l)};return()=>{var l;const u=(l=e.format)!=null?l:Cze[e.type]||S1,c=S$e(e.type);return z(nme,dr(e,{format:u,type:e.type,ref:a,"onUpdate:modelValue":s}),{default:f=>z(c,f,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const em=Un(A$e),iH=Symbol("elDescriptions");var ZS=le({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:$t(iH,{})}},render(){var e;const t=wUe(this.cell),n=(((e=this.cell)==null?void 0:e.dirs)||[]).map(m=>{const{dir:b,arg:_,modifiers:x,value:E}=m;return[b,E,_,x]}),{border:r,direction:i}=this.descriptions,a=i==="vertical",o=()=>{var m,b,_;return((_=(b=(m=this.cell)==null?void 0:m.children)==null?void 0:b.label)==null?void 0:_.call(b))||t.label},s=()=>{var m,b,_;return(_=(b=(m=this.cell)==null?void 0:m.children)==null?void 0:b.default)==null?void 0:_.call(b)},l=t.span,u=t.rowspan,c=t.align?`is-${t.align}`:"",f=t.labelAlign?`is-${t.labelAlign}`:c,d=t.className,h=t.labelClassName,p=this.type==="label"&&(t.labelWidth||this.descriptions.labelWidth)||t.width,v={width:Na(p),minWidth:Na(t.minWidth)},g=at("descriptions");switch(this.type){case"label":return Wn(pn(this.tag,{style:v,class:[g.e("cell"),g.e("label"),g.is("bordered-label",r),g.is("vertical-label",a),f,h],colSpan:a?l:1,rowspan:a?1:u},o()),n);case"content":return Wn(pn(this.tag,{style:v,class:[g.e("cell"),g.e("content"),g.is("bordered-content",r),g.is("vertical-content",a),c,d],colSpan:a?l:l*2-1,rowspan:a?u*2-1:u},s()),n);default:{const m=o();return Wn(pn("td",{style:v,class:[g.e("cell"),c],colSpan:l,rowspan:u},[zo(m)?void 0:pn("span",{class:[g.e("label"),h]},m),pn("span",{class:[g.e("content"),d]},s())]),n)}}}});const E$e=gt({row:{type:Ie(Array),default:()=>[]}}),T$e=le({name:"ElDescriptionsRow"}),w$e=le({...T$e,props:E$e,setup(e){const t=$t(iH,{});return(n,r)=>y(t).direction==="vertical"?(H(),Q(St,{key:0},[I("tr",null,[(H(!0),Q(St,null,Nn(n.row,(i,a)=>(H(),Ue(y(ZS),{key:`tr1-${a}`,cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),I("tr",null,[(H(!0),Q(St,null,Nn(n.row,(i,a)=>(H(),Ue(y(ZS),{key:`tr2-${a}`,cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(H(),Q("tr",{key:1},[(H(!0),Q(St,null,Nn(n.row,(i,a)=>(H(),Q(St,{key:`tr3-${a}`},[y(t).border?(H(),Q(St,{key:0},[z(y(ZS),{cell:i,tag:"td",type:"label"},null,8,["cell"]),z(y(ZS),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):(H(),Ue(y(ZS),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var C$e=_t(w$e,[["__file","descriptions-row.vue"]]);const R$e=gt({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:yo,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),I$e=le({name:"ElDescriptions"}),M$e=le({...I$e,props:R$e,setup(e){const t=e,n=at("descriptions"),r=oo(),i=_o();mr(iH,t);const a=$(()=>[n.b(),n.m(r.value)]),o=(l,u,c,f=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),f&&(l.props.span=u),l),s=()=>{if(!i.default)return[];const l=bg(i.default()).filter(p=>{var v;return((v=p==null?void 0:p.type)==null?void 0:v.name)==="ElDescriptionsItem"}),u=[];let c=[],f=t.column,d=0;const h=[];return l.forEach((p,v)=>{var g,m,b;const _=((g=p.props)==null?void 0:g.span)||1,x=((m=p.props)==null?void 0:m.rowspan)||1,E=u.length;if(h[E]||(h[E]=0),x>1)for(let A=1;A<x;A++)h[b=E+A]||(h[b]=0),h[E+A]++,d++;if(h[E]>0&&(f-=h[E],h[E]=0),v<l.length-1&&(d+=_>f?f:_),v===l.length-1){const A=t.column-d%t.column;c.push(o(p,A,f,!0)),u.push(c);return}_<f?(f-=_,c.push(p)):(c.push(o(p,_,f)),u.push(c),f=t.column,c=[])}),u};return(l,u)=>(H(),Q("div",{class:j(y(a))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(H(),Q("div",{key:0,class:j(y(n).e("header"))},[I("div",{class:j(y(n).e("title"))},[De(l.$slots,"title",{},()=>[$n(nt(l.title),1)])],2),I("div",{class:j(y(n).e("extra"))},[De(l.$slots,"extra",{},()=>[$n(nt(l.extra),1)])],2)],2)):Be("v-if",!0),I("div",{class:j(y(n).e("body"))},[I("table",{class:j([y(n).e("table"),y(n).is("bordered",l.border)])},[I("tbody",null,[(H(!0),Q(St,null,Nn(s(),(c,f)=>(H(),Ue(C$e,{key:f,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var O$e=_t(M$e,[["__file","description.vue"]]);const D$e=gt({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),cme=le({name:"ElDescriptionsItem",props:D$e}),P$e=Un(O$e,{DescriptionsItem:cme}),L$e=Aa(cme),aH=e=>{if(!e)return{onClick:gi,onMousedown:gi,onMouseup:gi};let t=!1,n=!1;return{onClick:o=>{t&&n&&e(o),t=n=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{n=o.target===o.currentTarget}}},N$e=gt({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Ie([String,Array,Object])},zIndex:{type:Ie([String,Number])}}),B$e={click:e=>e instanceof MouseEvent},k$e="overlay";var F$e=le({name:"ElOverlay",props:N$e,emits:B$e,setup(e,{slots:t,emit:n}){const r=at(k$e),i=l=>{n("click",l)},{onClick:a,onMousedown:o,onMouseup:s}=aH(e.customMaskEvent?void 0:i);return()=>e.mask?z("div",{class:[r.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:o,onMouseup:s},[De(t,"default")],mc.STYLE|mc.CLASS|mc.PROPS,["onClick","onMouseup","onMousedown"]):pn("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[De(t,"default")])}});const oH=F$e,fme=Symbol("dialogInjectionKey"),dme=gt({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ci},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),U$e={close:()=>!0},hme=(e,t,n,r)=>{let i={offsetX:0,offsetY:0};const a=u=>{const c=u.clientX,f=u.clientY,{offsetX:d,offsetY:h}=i,p=e.value.getBoundingClientRect(),v=p.left,g=p.top,m=p.width,b=p.height,_=document.documentElement.clientWidth,x=document.documentElement.clientHeight,E=-v+d,A=-g+h,T=_-v-m+d,R=x-g-b+h,M=D=>{let C=d+D.clientX-c,P=h+D.clientY-f;r!=null&&r.value||(C=Math.min(Math.max(C,E),T),P=Math.min(Math.max(P,A),R)),i={offsetX:C,offsetY:P},e.value&&(e.value.style.transform=`translate(${Na(C)}, ${Na(P)})`)},O=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",O)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",O)},o=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",a)},s=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",a)},l=()=>{i={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return Tn(()=>{Is(()=>{n.value?o():s()})}),Oi(()=>{s()}),{resetPosition:l}},XD=(...e)=>t=>{e.forEach(n=>{on(n)?n(t):n.value=t})},V$e=le({name:"ElDialogContent"}),z$e=le({...V$e,props:dme,emits:U$e,setup(e,{expose:t}){const n=e,{t:r}=Lr(),{Close:i}=I$,{dialogRef:a,headerRef:o,bodyId:s,ns:l,style:u}=$t(fme),{focusTrapRef:c}=$t(N$),f=$(()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",n.draggable),l.is("align-center",n.alignCenter),{[l.m("center")]:n.center}]),d=XD(c,a),h=$(()=>n.draggable),p=$(()=>n.overflow),{resetPosition:v}=hme(a,o,h,p);return t({resetPosition:v}),(g,m)=>(H(),Q("div",{ref:y(d),class:j(y(f)),style:en(y(u)),tabindex:"-1"},[I("header",{ref_key:"headerRef",ref:o,class:j([y(l).e("header"),{"show-close":g.showClose}])},[De(g.$slots,"header",{},()=>[I("span",{role:"heading","aria-level":g.ariaLevel,class:j(y(l).e("title"))},nt(g.title),11,["aria-level"])]),g.showClose?(H(),Q("button",{key:0,"aria-label":y(r)("el.dialog.close"),class:j(y(l).e("headerbtn")),type:"button",onClick:b=>g.$emit("close")},[z(y(Xt),{class:j(y(l).e("close"))},{default:J(()=>[(H(),Ue(cr(g.closeIcon||y(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Be("v-if",!0)],2),I("div",{id:y(s),class:j(y(l).e("body"))},[De(g.$slots,"default")],10,["id"]),g.$slots.footer?(H(),Q("footer",{key:0,class:j(y(l).e("footer"))},[De(g.$slots,"footer")],2)):Be("v-if",!0)],6))}});var $$e=_t(z$e,[["__file","dialog-content.vue"]]);const pme=gt({...dme,appendToBody:Boolean,appendTo:{type:Ie([String,Object]),default:"body"},beforeClose:{type:Ie(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),vme={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Yn]:e=>Bi(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},sH=(e,t={})=>{Gi(e)||Ro("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||at("popup"),r=$(()=>n.bm("parent","hidden"));if(!Pr||pu(document.body,r.value))return;let i=0,a=!1,o="0";const s=()=>{setTimeout(()=>{typeof document>"u"||(el(document==null?void 0:document.body,r.value),a&&document&&(document.body.style.width=o))},200)};tt(e,l=>{if(!l){s();return}a=!pu(document.body,r.value),a&&(o=document.body.style.width),i=Pve(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,c=lp(document.body,"overflowY");i>0&&(u||c==="scroll")&&a&&(document.body.style.width=`calc(100% - ${i}px)`),Rc(document.body,r.value)}),che(()=>s())},gme=(e,t)=>{var n;const i=or().emit,{nextZIndex:a}=yx();let o="";const s=vs(),l=vs(),u=Y(!1),c=Y(!1),f=Y(!1),d=Y((n=e.zIndex)!=null?n:a());let h,p;const v=FD("namespace",FE),g=$(()=>{const U={},L=`--${v.value}-dialog`;return e.fullscreen||(e.top&&(U[`${L}-margin-top`]=e.top),e.width&&(U[`${L}-width`]=Na(e.width))),U}),m=$(()=>e.alignCenter?{display:"flex"}:{});function b(){i("opened")}function _(){i("closed"),i(Yn,!1),e.destroyOnClose&&(f.value=!1)}function x(){i("close")}function E(){p==null||p(),h==null||h(),e.openDelay&&e.openDelay>0?{stop:h}=cy(()=>M(),e.openDelay):M()}function A(){h==null||h(),p==null||p(),e.closeDelay&&e.closeDelay>0?{stop:p}=cy(()=>O(),e.closeDelay):O()}function T(){function U(L){L||(c.value=!0,u.value=!1)}e.beforeClose?e.beforeClose(U):A()}function R(){e.closeOnClickModal&&T()}function M(){Pr&&(u.value=!0)}function O(){u.value=!1}function D(){i("openAutoFocus")}function C(){i("closeAutoFocus")}function P(U){var L;((L=U.detail)==null?void 0:L.focusReason)==="pointer"&&U.preventDefault()}e.lockScroll&&sH(u);function B(){e.closeOnPressEscape&&T()}return tt(()=>e.modelValue,U=>{U?(c.value=!1,E(),f.value=!0,d.value=vve(e.zIndex)?a():d.value++,fn(()=>{i("open"),t.value&&(t.value.scrollTop=0)})):u.value&&A()}),tt(()=>e.fullscreen,U=>{t.value&&(U?(o=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=o)}),Tn(()=>{e.modelValue&&(u.value=!0,f.value=!0,E())}),{afterEnter:b,afterLeave:_,beforeLeave:x,handleClose:T,onModalClick:R,close:A,doClose:O,onOpenAutoFocus:D,onCloseAutoFocus:C,onCloseRequested:B,onFocusoutPrevented:P,titleId:s,bodyId:l,closed:c,style:g,overlayDialogStyle:m,rendered:f,visible:u,zIndex:d}},H$e=le({name:"ElDialog",inheritAttrs:!1}),W$e=le({...H$e,props:pme,emits:vme,setup(e,{expose:t}){const n=e,r=_o();yg({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},$(()=>!!r.title));const i=at("dialog"),a=Y(),o=Y(),s=Y(),{visible:l,titleId:u,bodyId:c,style:f,overlayDialogStyle:d,rendered:h,zIndex:p,afterEnter:v,afterLeave:g,beforeLeave:m,handleClose:b,onModalClick:_,onOpenAutoFocus:x,onCloseAutoFocus:E,onCloseRequested:A,onFocusoutPrevented:T}=gme(n,a);mr(fme,{dialogRef:a,headerRef:o,bodyId:c,ns:i,rendered:h,style:f});const R=aH(_),M=$(()=>n.draggable&&!n.fullscreen);return t({visible:l,dialogContentRef:s,resetPosition:()=>{var D;(D=s.value)==null||D.resetPosition()}}),(D,C)=>(H(),Ue(y(xx),{to:D.appendTo,disabled:D.appendTo!=="body"?!1:!D.appendToBody},{default:J(()=>[z(ns,{name:"dialog-fade",onAfterEnter:y(v),onAfterLeave:y(g),onBeforeLeave:y(m),persisted:""},{default:J(()=>[Wn(z(y(oH),{"custom-mask-event":"",mask:D.modal,"overlay-class":D.modalClass,"z-index":y(p)},{default:J(()=>[I("div",{role:"dialog","aria-modal":"true","aria-label":D.title||void 0,"aria-labelledby":D.title?void 0:y(u),"aria-describedby":y(c),class:j(`${y(i).namespace.value}-overlay-dialog`),style:en(y(d)),onClick:y(R).onClick,onMousedown:y(R).onMousedown,onMouseup:y(R).onMouseup},[z(y(bx),{loop:"",trapped:y(l),"focus-start-el":"container",onFocusAfterTrapped:y(x),onFocusAfterReleased:y(E),onFocusoutPrevented:y(T),onReleaseRequested:y(A)},{default:J(()=>[y(h)?(H(),Ue($$e,dr({key:0,ref_key:"dialogContentRef",ref:s},D.$attrs,{center:D.center,"align-center":D.alignCenter,"close-icon":D.closeIcon,draggable:y(M),overflow:D.overflow,fullscreen:D.fullscreen,"show-close":D.showClose,title:D.title,"aria-level":D.headerAriaLevel,onClose:y(b)}),Nc({header:J(()=>[D.$slots.title?De(D.$slots,"title",{key:1}):De(D.$slots,"header",{key:0,close:y(b),titleId:y(u),titleClass:y(i).e("title")})]),default:J(()=>[De(D.$slots,"default")]),_:2},[D.$slots.footer?{name:"footer",fn:J(()=>[De(D.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Be("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Xr,y(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var G$e=_t(W$e,[["__file","dialog.vue"]]);const j$e=Un(G$e),Y$e=gt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Ie(String),default:"solid"}}),X$e=le({name:"ElDivider"}),K$e=le({...X$e,props:Y$e,setup(e){const t=e,n=at("divider"),r=$(()=>n.cssVar({"border-style":t.borderStyle}));return(i,a)=>(H(),Q("div",{class:j([y(n).b(),y(n).m(i.direction)]),style:en(y(r)),role:"separator"},[i.$slots.default&&i.direction!=="vertical"?(H(),Q("div",{key:0,class:j([y(n).e("text"),y(n).is(i.contentPosition)])},[De(i.$slots,"default")],2)):Be("v-if",!0)],6))}});var q$e=_t(K$e,[["__file","divider.vue"]]);const mme=Un(q$e),Z$e=gt({...pme,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),Q$e=vme,J$e=le({name:"ElDrawer",inheritAttrs:!1}),eHe=le({...J$e,props:Z$e,emits:Q$e,setup(e,{expose:t}){const n=e,r=_o();yg({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},$(()=>!!r.title));const i=Y(),a=Y(),o=at("drawer"),{t:s}=Lr(),{afterEnter:l,afterLeave:u,beforeLeave:c,visible:f,rendered:d,titleId:h,bodyId:p,zIndex:v,onModalClick:g,onOpenAutoFocus:m,onCloseAutoFocus:b,onFocusoutPrevented:_,onCloseRequested:x,handleClose:E}=gme(n,i),A=$(()=>n.direction==="rtl"||n.direction==="ltr"),T=$(()=>Na(n.size));return t({handleClose:E,afterEnter:l,afterLeave:u}),(R,M)=>(H(),Ue(y(xx),{to:R.appendTo,disabled:R.appendTo!=="body"?!1:!R.appendToBody},{default:J(()=>[z(ns,{name:y(o).b("fade"),onAfterEnter:y(l),onAfterLeave:y(u),onBeforeLeave:y(c),persisted:""},{default:J(()=>[Wn(z(y(oH),{mask:R.modal,"overlay-class":R.modalClass,"z-index":y(v),onClick:y(g)},{default:J(()=>[z(y(bx),{loop:"",trapped:y(f),"focus-trap-el":i.value,"focus-start-el":a.value,onFocusAfterTrapped:y(m),onFocusAfterReleased:y(b),onFocusoutPrevented:y(_),onReleaseRequested:y(x)},{default:J(()=>[I("div",dr({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":R.title||void 0,"aria-labelledby":R.title?void 0:y(h),"aria-describedby":y(p)},R.$attrs,{class:[y(o).b(),R.direction,y(f)&&"open"],style:y(A)?"width: "+y(T):"height: "+y(T),role:"dialog",onClick:xn(()=>{},["stop"])}),[I("span",{ref_key:"focusStartRef",ref:a,class:j(y(o).e("sr-focus")),tabindex:"-1"},null,2),R.withHeader?(H(),Q("header",{key:0,class:j(y(o).e("header"))},[R.$slots.title?De(R.$slots,"title",{key:1},()=>[Be(" DEPRECATED SLOT ")]):De(R.$slots,"header",{key:0,close:y(E),titleId:y(h),titleClass:y(o).e("title")},()=>[R.$slots.title?Be("v-if",!0):(H(),Q("span",{key:0,id:y(h),role:"heading","aria-level":R.headerAriaLevel,class:j(y(o).e("title"))},nt(R.title),11,["id","aria-level"]))]),R.showClose?(H(),Q("button",{key:2,"aria-label":y(s)("el.drawer.close"),class:j(y(o).e("close-btn")),type:"button",onClick:y(E)},[z(y(Xt),{class:j(y(o).e("close"))},{default:J(()=>[z(y(Yf))]),_:1},8,["class"])],10,["aria-label","onClick"])):Be("v-if",!0)],2)):Be("v-if",!0),y(d)?(H(),Q("div",{key:1,id:y(p),class:j(y(o).e("body"))},[De(R.$slots,"default")],10,["id"])):Be("v-if",!0),R.$slots.footer?(H(),Q("div",{key:2,class:j(y(o).e("footer"))},[De(R.$slots,"footer")],2)):Be("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Xr,y(f)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var tHe=_t(eHe,[["__file","drawer.vue"]]);const nHe=Un(tHe),rHe=le({inheritAttrs:!1});function iHe(e,t,n,r,i,a){return De(e.$slots,"default")}var aHe=_t(rHe,[["render",iHe],["__file","collection.vue"]]);const oHe=le({name:"ElCollectionItem",inheritAttrs:!1});function sHe(e,t,n,r,i,a){return De(e.$slots,"default")}var lHe=_t(oHe,[["render",sHe],["__file","collection-item.vue"]]);const yme="data-el-collection-item",_me=e=>{const t=`El${e}Collection`,n=`${t}Item`,r=Symbol(t),i=Symbol(n),a={...aHe,name:t,setup(){const s=Y(null),l=new Map;mr(r,{itemMap:l,getItems:()=>{const c=y(s);if(!c)return[];const f=Array.from(c.querySelectorAll(`[${yme}]`));return[...l.values()].sort((h,p)=>f.indexOf(h.ref)-f.indexOf(p.ref))},collectionRef:s})}},o={...lHe,name:n,setup(s,{attrs:l}){const u=Y(null),c=$t(r,void 0);mr(i,{collectionItemRef:u}),Tn(()=>{const f=y(u);f&&c.itemMap.set(f,{ref:f,...l})}),Oi(()=>{const f=y(u);c.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:a,ElCollectionItem:o}},uHe=gt({style:{type:Ie([String,Array,Object])},currentTabId:{type:Ie(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Ie(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:cHe,ElCollectionItem:fHe,COLLECTION_INJECTION_KEY:lH,COLLECTION_ITEM_INJECTION_KEY:dHe}=_me("RovingFocusGroup"),uH=Symbol("elRovingFocusGroup"),bme=Symbol("elRovingFocusGroupItem"),hHe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},pHe=(e,t)=>e,vHe=(e,t,n)=>{const r=pHe(e.code);return hHe[r]},gHe=(e,t)=>e.map((n,r)=>e[(r+t)%e.length]),cH=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},vq="currentTabIdChange",gq="rovingFocusGroup.entryFocus",mHe={bubbles:!1,cancelable:!0},yHe=le({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:uHe,emits:[vq,"entryFocus"],setup(e,{emit:t}){var n;const r=Y((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),i=Y(!1),a=Y(!1),o=Y(null),{getItems:s}=$t(lH,void 0),l=$(()=>[{outline:"none"},e.style]),u=v=>{t(vq,v)},c=()=>{i.value=!0},f=La(v=>{var g;(g=e.onMousedown)==null||g.call(e,v)},()=>{a.value=!0}),d=La(v=>{var g;(g=e.onFocus)==null||g.call(e,v)},v=>{const g=!y(a),{target:m,currentTarget:b}=v;if(m===b&&g&&!y(i)){const _=new Event(gq,mHe);if(b==null||b.dispatchEvent(_),!_.defaultPrevented){const x=s().filter(M=>M.focusable),E=x.find(M=>M.active),A=x.find(M=>M.id===y(r)),R=[E,A,...x].filter(Boolean).map(M=>M.ref);cH(R)}}a.value=!1}),h=La(v=>{var g;(g=e.onBlur)==null||g.call(e,v)},()=>{i.value=!1}),p=(...v)=>{t("entryFocus",...v)};mr(uH,{currentTabbedId:dx(r),loop:hi(e,"loop"),tabIndex:$(()=>y(i)?-1:0),rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,orientation:hi(e,"orientation"),dir:hi(e,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:h,onFocus:d,onMousedown:f}),tt(()=>e.currentTabId,v=>{r.value=v??null}),xi(o,gq,p)}});function _He(e,t,n,r,i,a){return De(e.$slots,"default")}var bHe=_t(yHe,[["render",_He],["__file","roving-focus-group-impl.vue"]]);const xHe=le({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:cHe,ElRovingFocusGroupImpl:bHe}});function SHe(e,t,n,r,i,a){const o=ur("el-roving-focus-group-impl"),s=ur("el-focus-group-collection");return H(),Ue(s,null,{default:J(()=>[z(o,Of(Ig(e.$attrs)),{default:J(()=>[De(e.$slots,"default")]),_:3},16)]),_:3})}var AHe=_t(xHe,[["render",SHe],["__file","roving-focus-group.vue"]]);const s3=gt({trigger:D2.trigger,effect:{...jo.effect,default:"light"},type:{type:Ie(String)},placement:{type:Ie(String),default:"bottom"},popperOptions:{type:Ie(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Ie([Number,String]),default:0},maxHeight:{type:Ie([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:Ie(Object)},teleported:jo.teleported}),xme=gt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Ci}}),EHe=gt({onKeydown:{type:Ie(Function)}}),THe=[kt.down,kt.pageDown,kt.home],Sme=[kt.up,kt.pageUp,kt.end],wHe=[...THe,...Sme],{ElCollection:CHe,ElCollectionItem:RHe,COLLECTION_INJECTION_KEY:IHe,COLLECTION_ITEM_INJECTION_KEY:MHe}=_me("Dropdown"),KD=Symbol("elDropdown"),{ButtonGroup:OHe}=sa,DHe=le({name:"ElDropdown",components:{ElButton:sa,ElButtonGroup:OHe,ElScrollbar:ch,ElDropdownCollection:CHe,ElTooltip:Ps,ElRovingFocusGroup:AHe,ElOnlyChild:Zve,ElIcon:Xt,ArrowDown:Vp},props:s3,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=or(),r=at("dropdown"),{t:i}=Lr(),a=Y(),o=Y(),s=Y(null),l=Y(null),u=Y(null),c=Y(null),f=Y(!1),d=[kt.enter,kt.numpadEnter,kt.space,kt.down],h=$(()=>({maxHeight:Na(e.maxHeight)})),p=$(()=>[r.m(E.value)]),v=$(()=>Zs(e.trigger)),g=vs().value,m=$(()=>e.id||g);tt([a,v],([F,N],[V])=>{var W,G,K;(W=V==null?void 0:V.$el)!=null&&W.removeEventListener&&V.$el.removeEventListener("pointerenter",T),(G=F==null?void 0:F.$el)!=null&&G.removeEventListener&&F.$el.removeEventListener("pointerenter",T),(K=F==null?void 0:F.$el)!=null&&K.addEventListener&&N.includes("hover")&&F.$el.addEventListener("pointerenter",T)},{immediate:!0}),Oi(()=>{var F,N;(N=(F=a.value)==null?void 0:F.$el)!=null&&N.removeEventListener&&a.value.$el.removeEventListener("pointerenter",T)});function b(){_()}function _(){var F;(F=s.value)==null||F.onClose()}function x(){var F;(F=s.value)==null||F.onOpen()}const E=oo();function A(...F){t("command",...F)}function T(){var F,N;(N=(F=a.value)==null?void 0:F.$el)==null||N.focus()}function R(){}function M(){const F=y(l);v.value.includes("hover")&&(F==null||F.focus()),c.value=null}function O(F){c.value=F}function D(F){f.value||(F.preventDefault(),F.stopImmediatePropagation())}function C(){t("visible-change",!0)}function P(F){(F==null?void 0:F.type)==="keydown"&&l.value.focus()}function B(){t("visible-change",!1)}return mr(KD,{contentRef:l,role:$(()=>e.role),triggerId:m,isUsingKeyboard:f,onItemEnter:R,onItemLeave:M}),mr("elDropdown",{instance:n,dropdownSize:E,handleClick:b,commandHandler:A,trigger:hi(e,"trigger"),hideOnClick:hi(e,"hideOnClick")}),{t:i,ns:r,scrollbar:u,wrapStyle:h,dropdownTriggerKls:p,dropdownSize:E,triggerId:m,triggerKeys:d,currentTabId:c,handleCurrentTabIdChange:O,handlerMainButtonClick:F=>{t("click",F)},handleEntryFocus:D,handleClose:_,handleOpen:x,handleBeforeShowTooltip:C,handleShowTooltip:P,handleBeforeHideTooltip:B,onFocusAfterTrapped:F=>{var N,V;F.preventDefault(),(V=(N=l.value)==null?void 0:N.focus)==null||V.call(N,{preventScroll:!0})},popperRef:s,contentRef:l,triggeringElementRef:a,referenceElementRef:o}}});function PHe(e,t,n,r,i,a){var o;const s=ur("el-dropdown-collection"),l=ur("el-roving-focus-group"),u=ur("el-scrollbar"),c=ur("el-only-child"),f=ur("el-tooltip"),d=ur("el-button"),h=ur("arrow-down"),p=ur("el-icon"),v=ur("el-button-group");return H(),Q("div",{class:j([e.ns.b(),e.ns.is("disabled",e.disabled)])},[z(f,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(o=e.referenceElementRef)==null?void 0:o.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Nc({content:J(()=>[z(u,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:J(()=>[z(l,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:J(()=>[z(s,null,{default:J(()=>[De(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:J(()=>[z(c,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:J(()=>[De(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(H(),Ue(v,{key:0},{default:J(()=>[z(d,dr({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:J(()=>[De(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),z(d,dr({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:J(()=>[z(p,{class:j(e.ns.e("icon"))},{default:J(()=>[z(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Be("v-if",!0)],2)}var LHe=_t(DHe,[["render",PHe],["__file","dropdown.vue"]]);const NHe=le({components:{ElRovingFocusCollectionItem:fHe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:r,onItemFocus:i,onItemShiftTab:a}=$t(uH,void 0),{getItems:o}=$t(lH,void 0),s=vs(),l=Y(null),u=La(h=>{t("mousedown",h)},h=>{e.focusable?i(y(s)):h.preventDefault()}),c=La(h=>{t("focus",h)},()=>{i(y(s))}),f=La(h=>{t("keydown",h)},h=>{const{code:p,shiftKey:v,target:g,currentTarget:m}=h;if(p===kt.tab&&v){a();return}if(g!==m)return;const b=vHe(h);if(b){h.preventDefault();let x=o().filter(E=>E.focusable).map(E=>E.ref);switch(b){case"last":{x.reverse();break}case"prev":case"next":{b==="prev"&&x.reverse();const E=x.indexOf(m);x=r.value?gHe(x,E+1):x.slice(E+1);break}}fn(()=>{cH(x)})}}),d=$(()=>n.value===y(s));return mr(bme,{rovingFocusGroupItemRef:l,tabIndex:$(()=>y(d)?0:-1),handleMousedown:u,handleFocus:c,handleKeydown:f}),{id:s,handleKeydown:f,handleFocus:c,handleMousedown:u}}});function BHe(e,t,n,r,i,a){const o=ur("el-roving-focus-collection-item");return H(),Ue(o,{id:e.id,focusable:e.focusable,active:e.active},{default:J(()=>[De(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var kHe=_t(NHe,[["render",BHe],["__file","roving-focus-item.vue"]]);const FHe=le({name:"DropdownItemImpl",components:{ElIcon:Xt},props:xme,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=at("dropdown"),{role:r}=$t(KD,void 0),{collectionItemRef:i}=$t(MHe,void 0),{collectionItemRef:a}=$t(dHe,void 0),{rovingFocusGroupItemRef:o,tabIndex:s,handleFocus:l,handleKeydown:u,handleMousedown:c}=$t(bme,void 0),f=XD(i,a,o),d=$(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),h=La(p=>{if([kt.enter,kt.numpadEnter,kt.space].includes(p.code))return p.preventDefault(),p.stopImmediatePropagation(),t("clickimpl",p),!0},u);return{ns:n,itemRef:f,dataset:{[yme]:""},role:d,tabIndex:s,handleFocus:l,handleKeydown:h,handleMousedown:c}}});function UHe(e,t,n,r,i,a){const o=ur("el-icon");return H(),Q(St,null,[e.divided?(H(),Q("li",{key:0,role:"separator",class:j(e.ns.bem("menu","item","divided"))},null,2)):Be("v-if",!0),I("li",dr({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:s=>e.$emit("clickimpl",s),onFocus:e.handleFocus,onKeydown:xn(e.handleKeydown,["self"]),onMousedown:e.handleMousedown,onPointermove:s=>e.$emit("pointermove",s),onPointerleave:s=>e.$emit("pointerleave",s)}),[e.icon?(H(),Ue(o,{key:0},{default:J(()=>[(H(),Ue(cr(e.icon)))]),_:1})):Be("v-if",!0),De(e.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var VHe=_t(FHe,[["render",UHe],["__file","dropdown-item-impl.vue"]]);const Ame=()=>{const e=$t("elDropdown",{}),t=$(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},zHe=le({name:"ElDropdownItem",components:{ElDropdownCollectionItem:RHe,ElRovingFocusItem:kHe,ElDropdownItemImpl:VHe},inheritAttrs:!1,props:xme,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:r}=Ame(),i=or(),a=Y(null),o=$(()=>{var h,p;return(p=(h=y(a))==null?void 0:h.textContent)!=null?p:""}),{onItemEnter:s,onItemLeave:l}=$t(KD,void 0),u=La(h=>(t("pointermove",h),h.defaultPrevented),kK(h=>{if(e.disabled){l(h);return}const p=h.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(s(h),h.defaultPrevented||p==null||p.focus())})),c=La(h=>(t("pointerleave",h),h.defaultPrevented),kK(l)),f=La(h=>{if(!e.disabled)return t("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var p,v,g;if(e.disabled){h.stopImmediatePropagation();return}(p=r==null?void 0:r.hideOnClick)!=null&&p.value&&((v=r.handleClick)==null||v.call(r)),(g=r.commandHandler)==null||g.call(r,e.command,i,h)}),d=$(()=>({...e,...n}));return{handleClick:f,handlePointerMove:u,handlePointerLeave:c,textContent:o,propsAndAttrs:d}}});function $He(e,t,n,r,i,a){var o;const s=ur("el-dropdown-item-impl"),l=ur("el-roving-focus-item"),u=ur("el-dropdown-collection-item");return H(),Ue(u,{disabled:e.disabled,"text-value":(o=e.textValue)!=null?o:e.textContent},{default:J(()=>[z(l,{focusable:!e.disabled},{default:J(()=>[z(s,dr(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:J(()=>[De(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Eme=_t(zHe,[["render",$He],["__file","dropdown-item.vue"]]);const HHe=le({name:"ElDropdownMenu",props:EHe,setup(e){const t=at("dropdown"),{_elDropdownSize:n}=Ame(),r=n.value,{focusTrapRef:i,onKeydown:a}=$t(N$,void 0),{contentRef:o,role:s,triggerId:l}=$t(KD,void 0),{collectionRef:u,getItems:c}=$t(IHe,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:d,tabIndex:h,onBlur:p,onFocus:v,onMousedown:g}=$t(uH,void 0),{collectionRef:m}=$t(lH,void 0),b=$(()=>[t.b("menu"),t.bm("menu",r==null?void 0:r.value)]),_=XD(o,u,i,f,m),x=La(A=>{var T;(T=e.onKeydown)==null||T.call(e,A)},A=>{const{currentTarget:T,code:R,target:M}=A;if(T.contains(M),kt.tab===R&&A.stopImmediatePropagation(),A.preventDefault(),M!==y(o)||!wHe.includes(R))return;const D=c().filter(C=>!C.disabled).map(C=>C.ref);Sme.includes(R)&&D.reverse(),cH(D)});return{size:r,rovingFocusGroupRootStyle:d,tabIndex:h,dropdownKls:b,role:s,triggerId:l,dropdownListWrapperRef:_,handleKeydown:A=>{x(A),a(A)},onBlur:p,onFocus:v,onMousedown:g}}});function WHe(e,t,n,r,i,a){return H(),Q("ul",{ref:e.dropdownListWrapperRef,class:j(e.dropdownKls),style:en(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:e.onBlur,onFocus:e.onFocus,onKeydown:xn(e.handleKeydown,["self"]),onMousedown:xn(e.onMousedown,["self"])},[De(e.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Tme=_t(HHe,[["render",WHe],["__file","dropdown-menu.vue"]]);const GHe=Un(LHe,{DropdownItem:Eme,DropdownMenu:Tme}),jHe=Aa(Eme),YHe=Aa(Tme),XHe=le({name:"ImgEmpty"}),KHe=le({...XHe,setup(e){const t=at("empty"),n=vs();return(r,i)=>(H(),Q("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[I("defs",null,[I("linearGradient",{id:`linearGradient-1-${y(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[I("stop",{"stop-color":`var(${y(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),I("stop",{"stop-color":`var(${y(t).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),I("linearGradient",{id:`linearGradient-2-${y(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[I("stop",{"stop-color":`var(${y(t).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),I("stop",{"stop-color":`var(${y(t).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),I("rect",{id:`path-3-${y(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),I("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[I("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[I("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[I("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${y(t).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),I("polygon",{id:"Rectangle-Copy-14",fill:`var(${y(t).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),I("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[I("polygon",{id:"Rectangle-Copy-10",fill:`var(${y(t).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),I("polygon",{id:"Rectangle-Copy-11",fill:`var(${y(t).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),I("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${y(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),I("polygon",{id:"Rectangle-Copy-13",fill:`var(${y(t).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),I("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${y(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),I("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[I("use",{id:"Mask",fill:`var(${y(t).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${y(n)}`},null,8,["fill","xlink:href"]),I("polygon",{id:"Rectangle-Copy",fill:`var(${y(t).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${y(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),I("polygon",{id:"Rectangle-Copy-18",fill:`var(${y(t).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var qHe=_t(KHe,[["__file","img-empty.vue"]]);const ZHe=gt({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),QHe=le({name:"ElEmpty"}),JHe=le({...QHe,props:ZHe,setup(e){const t=e,{t:n}=Lr(),r=at("empty"),i=$(()=>t.description||n("el.table.emptyText")),a=$(()=>({width:Na(t.imageSize)}));return(o,s)=>(H(),Q("div",{class:j(y(r).b())},[I("div",{class:j(y(r).e("image")),style:en(y(a))},[o.image?(H(),Q("img",{key:0,src:o.image,ondragstart:"return false"},null,8,["src"])):De(o.$slots,"image",{key:1},()=>[z(qHe)])],6),I("div",{class:j(y(r).e("description"))},[o.$slots.description?De(o.$slots,"description",{key:0}):(H(),Q("p",{key:1},nt(y(i)),1))],2),o.$slots.default?(H(),Q("div",{key:0,class:j(y(r).e("bottom"))},[De(o.$slots,"default")],2)):Be("v-if",!0)],2))}});var eWe=_t(JHe,[["__file","empty.vue"]]);const wme=Un(eWe),tWe=gt({size:{type:String,values:uh},disabled:Boolean}),nWe=gt({...tWe,model:Object,rules:{type:Ie(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),rWe={validate:(e,t,n)=>(pt(e)||an(e))&&Bi(t)&&an(n)};function iWe(){const e=Y([]),t=$(()=>{if(!e.value.length)return"0";const a=Math.max(...e.value);return a?`${a}px`:""});function n(a){const o=e.value.indexOf(a);return o===-1&&t.value,o}function r(a,o){if(a&&o){const s=n(o);e.value.splice(s,1,a)}else a&&e.value.push(a)}function i(a){const o=n(a);o>-1&&e.value.splice(o,1)}return{autoLabelWidth:t,registerLabelWidth:r,deregisterLabelWidth:i}}const uR=(e,t)=>{const n=Zs(t);return n.length>0?e.filter(r=>r.prop&&n.includes(r.prop)):e},aWe="ElForm",oWe=le({name:aWe}),sWe=le({...oWe,props:nWe,emits:rWe,setup(e,{expose:t,emit:n}){const r=e,i=[],a=oo(),o=at("form"),s=$(()=>{const{labelPosition:_,inline:x}=r;return[o.b(),o.m(a.value||"default"),{[o.m(`label-${_}`)]:_,[o.m("inline")]:x}]}),l=_=>i.find(x=>x.prop===_),u=_=>{i.push(_)},c=_=>{_.prop&&i.splice(i.indexOf(_),1)},f=(_=[])=>{r.model&&uR(i,_).forEach(x=>x.resetField())},d=(_=[])=>{uR(i,_).forEach(x=>x.clearValidate())},h=$(()=>!!r.model),p=_=>{if(i.length===0)return[];const x=uR(i,_);return x.length?x:[]},v=async _=>m(void 0,_),g=async(_=[])=>{if(!h.value)return!1;const x=p(_);if(x.length===0)return!0;let E={};for(const A of x)try{await A.validate("")}catch(T){E={...E,...T}}return Object.keys(E).length===0?!0:Promise.reject(E)},m=async(_=[],x)=>{const E=!on(x);try{const A=await g(_);return A===!0&&await(x==null?void 0:x(A)),A}catch(A){if(A instanceof Error)throw A;const T=A;return r.scrollToError&&b(Object.keys(T)[0]),await(x==null?void 0:x(!1,T)),E&&Promise.reject(T)}},b=_=>{var x;const E=uR(i,_)[0];E&&((x=E.$el)==null||x.scrollIntoView(r.scrollIntoViewOptions))};return tt(()=>r.rules,()=>{r.validateOnRuleChange&&v().catch(_=>void 0)},{deep:!0}),mr(Ny,zn({...ts(r),emit:n,resetFields:f,clearValidate:d,validateField:m,getField:l,addField:u,removeField:c,...iWe()})),t({validate:v,validateField:m,resetFields:f,clearValidate:d,scrollToField:b,fields:i}),(_,x)=>(H(),Q("form",{class:j(y(s))},[De(_.$slots,"default")],2))}});var lWe=_t(sWe,[["__file","form.vue"]]);function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(this,arguments)}function uWe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,N2(e,t)}function pU(e){return pU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pU(e)}function N2(e,t){return N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N2(e,t)}function cWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function l3(e,t,n){return cWe()?l3=Reflect.construct.bind():l3=function(i,a,o){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(i,s),u=new l;return o&&N2(u,o.prototype),u},l3.apply(null,arguments)}function fWe(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function vU(e){var t=typeof Map=="function"?new Map:void 0;return vU=function(r){if(r===null||!fWe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return l3(r,arguments,pU(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),N2(i,r)},vU(e)}var dWe=/%[sdj%]/g,hWe=function(){};function gU(e){if(!e||!e.length)return null;var t={};return e.forEach(function(n){var r=n.field;t[r]=t[r]||[],t[r].push(n)}),t}function Nu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if(typeof e=="function")return e.apply(null,n);if(typeof e=="string"){var o=e.replace(dWe,function(s){if(s==="%%")return"%";if(i>=a)return s;switch(s){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return s}});return o}return e}function pWe(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function rs(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||pWe(t)&&typeof e=="string"&&!e)}function vWe(e,t,n){var r=[],i=0,a=e.length;function o(s){r.push.apply(r,s||[]),i++,i===a&&n(r)}e.forEach(function(s){t(s,o)})}function mq(e,t,n){var r=0,i=e.length;function a(o){if(o&&o.length){n(o);return}var s=r;r=r+1,s<i?t(e[s],a):n([])}a([])}function gWe(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}var yq=function(e){uWe(t,e);function t(n,r){var i;return i=e.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return t}(vU(Error));function mWe(e,t,n,r,i){if(t.first){var a=new Promise(function(d,h){var p=function(m){return r(m),m.length?h(new yq(m,gU(m))):d(i)},v=gWe(e);mq(v,n,p)});return a.catch(function(d){return d}),a}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],f=new Promise(function(d,h){var p=function(g){if(c.push.apply(c,g),u++,u===l)return r(c),c.length?h(new yq(c,gU(c))):d(i)};s.length||(r(c),d(i)),s.forEach(function(v){var g=e[v];o.indexOf(v)!==-1?mq(g,n,p):vWe(g,n,p)})});return f.catch(function(d){return d}),f}function yWe(e){return!!(e&&e.message!==void 0)}function _We(e,t){for(var n=e,r=0;r<t.length;r++){if(n==null)return n;n=n[t[r]]}return n}function _q(e,t){return function(n){var r;return e.fullFields?r=_We(t,e.fullFields):r=t[n.field||e.fullField],yWe(n)?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||e.fullField}}}function bq(e,t){if(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];typeof r=="object"&&typeof e[n]=="object"?e[n]=I0({},e[n],r):e[n]=r}}return e}var Cme=function(t,n,r,i,a,o){t.required&&(!r.hasOwnProperty(t.field)||rs(n,o||t.type))&&i.push(Nu(a.messages.required,t.fullField))},bWe=function(t,n,r,i,a){(/^\s+$/.test(n)||n==="")&&i.push(Nu(a.messages.whitespace,t.fullField))},cR,xWe=function(){if(cR)return cR;var e="[a-fA-F\\d:]",t=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),o=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),l=function(x){return x&&x.exact?a:new RegExp("(?:"+t(x)+n+t(x)+")|(?:"+t(x)+i+t(x)+")","g")};l.v4=function(_){return _&&_.exact?o:new RegExp(""+t(_)+n+t(_),"g")},l.v6=function(_){return _&&_.exact?s:new RegExp(""+t(_)+i+t(_),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,d=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",v="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",g="(?::\\d{2,5})?",m='(?:[/?#][^\\s"]*)?',b="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+d+"|"+h+p+v+")"+g+m;return cR=new RegExp("(?:^"+b+"$)","i"),cR},xq={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},nE={integer:function(t){return nE.number(t)&&parseInt(t,10)===t},float:function(t){return nE.number(t)&&!nE.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!nE.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(xq.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(xWe())},hex:function(t){return typeof t=="string"&&!!t.match(xq.hex)}},SWe=function(t,n,r,i,a){if(t.required&&n===void 0){Cme(t,n,r,i,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?nE[s](n)||i.push(Nu(a.messages.types[s],t.fullField,t.type)):s&&typeof n!==t.type&&i.push(Nu(a.messages.types[s],t.fullField,t.type))},AWe=function(t,n,r,i,a){var o=typeof t.len=="number",s=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,f=null,d=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(d?f="number":h?f="string":p&&(f="array"),!f)return!1;p&&(c=n.length),h&&(c=n.replace(u,"_").length),o?c!==t.len&&i.push(Nu(a.messages[f].len,t.fullField,t.len)):s&&!l&&c<t.min?i.push(Nu(a.messages[f].min,t.fullField,t.min)):l&&!s&&c>t.max?i.push(Nu(a.messages[f].max,t.fullField,t.max)):s&&l&&(c<t.min||c>t.max)&&i.push(Nu(a.messages[f].range,t.fullField,t.min,t.max))},z_="enum",EWe=function(t,n,r,i,a){t[z_]=Array.isArray(t[z_])?t[z_]:[],t[z_].indexOf(n)===-1&&i.push(Nu(a.messages[z_],t.fullField,t[z_].join(", ")))},TWe=function(t,n,r,i,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(n)||i.push(Nu(a.messages.pattern.mismatch,t.fullField,n,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(n)||i.push(Nu(a.messages.pattern.mismatch,t.fullField,n,t.pattern))}}},ki={required:Cme,whitespace:bWe,type:SWe,range:AWe,enum:EWe,pattern:TWe},wWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n,"string")&&!t.required)return r();ki.required(t,n,i,o,a,"string"),rs(n,"string")||(ki.type(t,n,i,o,a),ki.range(t,n,i,o,a),ki.pattern(t,n,i,o,a),t.whitespace===!0&&ki.whitespace(t,n,i,o,a))}r(o)},CWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n)&&!t.required)return r();ki.required(t,n,i,o,a),n!==void 0&&ki.type(t,n,i,o,a)}r(o)},RWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(n===""&&(n=void 0),rs(n)&&!t.required)return r();ki.required(t,n,i,o,a),n!==void 0&&(ki.type(t,n,i,o,a),ki.range(t,n,i,o,a))}r(o)},IWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n)&&!t.required)return r();ki.required(t,n,i,o,a),n!==void 0&&ki.type(t,n,i,o,a)}r(o)},MWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n)&&!t.required)return r();ki.required(t,n,i,o,a),rs(n)||ki.type(t,n,i,o,a)}r(o)},OWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n)&&!t.required)return r();ki.required(t,n,i,o,a),n!==void 0&&(ki.type(t,n,i,o,a),ki.range(t,n,i,o,a))}r(o)},DWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n)&&!t.required)return r();ki.required(t,n,i,o,a),n!==void 0&&(ki.type(t,n,i,o,a),ki.range(t,n,i,o,a))}r(o)},PWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(n==null&&!t.required)return r();ki.required(t,n,i,o,a,"array"),n!=null&&(ki.type(t,n,i,o,a),ki.range(t,n,i,o,a))}r(o)},LWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n)&&!t.required)return r();ki.required(t,n,i,o,a),n!==void 0&&ki.type(t,n,i,o,a)}r(o)},NWe="enum",BWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n)&&!t.required)return r();ki.required(t,n,i,o,a),n!==void 0&&ki[NWe](t,n,i,o,a)}r(o)},kWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n,"string")&&!t.required)return r();ki.required(t,n,i,o,a),rs(n,"string")||ki.pattern(t,n,i,o,a)}r(o)},FWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n,"date")&&!t.required)return r();if(ki.required(t,n,i,o,a),!rs(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),ki.type(t,l,i,o,a),l&&ki.range(t,l.getTime(),i,o,a)}}r(o)},UWe=function(t,n,r,i,a){var o=[],s=Array.isArray(n)?"array":typeof n;ki.required(t,n,i,o,a,s),r(o)},eN=function(t,n,r,i,a){var o=t.type,s=[],l=t.required||!t.required&&i.hasOwnProperty(t.field);if(l){if(rs(n,o)&&!t.required)return r();ki.required(t,n,i,s,a,o),rs(n,o)||ki.type(t,n,i,s,a)}r(s)},VWe=function(t,n,r,i,a){var o=[],s=t.required||!t.required&&i.hasOwnProperty(t.field);if(s){if(rs(n)&&!t.required)return r();ki.required(t,n,i,o,a)}r(o)},HE={string:wWe,method:CWe,number:RWe,boolean:IWe,regexp:MWe,integer:OWe,float:DWe,array:PWe,object:LWe,enum:BWe,pattern:kWe,date:FWe,url:eN,hex:eN,email:eN,required:UWe,any:VWe};function mU(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var yU=mU(),ZT=function(){function e(n){this.rules=null,this._messages=yU,this.define(n)}var t=e.prototype;return t.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var o=r[a];i.rules[a]=Array.isArray(o)?o:[o]})},t.messages=function(r){return r&&(this._messages=bq(mU(),r)),this._messages},t.validate=function(r,i,a){var o=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var s=r,l=i,u=a;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function c(v){var g=[],m={};function b(x){if(Array.isArray(x)){var E;g=(E=g).concat.apply(E,x)}else g.push(x)}for(var _=0;_<v.length;_++)b(v[_]);g.length?(m=gU(g),u(g,m)):u(null,s)}if(l.messages){var f=this.messages();f===yU&&(f=mU()),bq(f,l.messages),l.messages=f}else l.messages=this.messages();var d={},h=l.keys||Object.keys(this.rules);h.forEach(function(v){var g=o.rules[v],m=s[v];g.forEach(function(b){var _=b;typeof _.transform=="function"&&(s===r&&(s=I0({},s)),m=s[v]=_.transform(m)),typeof _=="function"?_={validator:_}:_=I0({},_),_.validator=o.getValidationMethod(_),_.validator&&(_.field=v,_.fullField=_.fullField||v,_.type=o.getType(_),d[v]=d[v]||[],d[v].push({rule:_,value:m,source:s,field:v}))})});var p={};return mWe(d,l,function(v,g){var m=v.rule,b=(m.type==="object"||m.type==="array")&&(typeof m.fields=="object"||typeof m.defaultField=="object");b=b&&(m.required||!m.required&&v.value),m.field=v.field;function _(A,T){return I0({},T,{fullField:m.fullField+"."+A,fullFields:m.fullFields?[].concat(m.fullFields,[A]):[A]})}function x(A){A===void 0&&(A=[]);var T=Array.isArray(A)?A:[A];!l.suppressWarning&&T.length&&e.warning("async-validator:",T),T.length&&m.message!==void 0&&(T=[].concat(m.message));var R=T.map(_q(m,s));if(l.first&&R.length)return p[m.field]=1,g(R);if(!b)g(R);else{if(m.required&&!v.value)return m.message!==void 0?R=[].concat(m.message).map(_q(m,s)):l.error&&(R=[l.error(m,Nu(l.messages.required,m.field))]),g(R);var M={};m.defaultField&&Object.keys(v.value).map(function(C){M[C]=m.defaultField}),M=I0({},M,v.rule.fields);var O={};Object.keys(M).forEach(function(C){var P=M[C],B=Array.isArray(P)?P:[P];O[C]=B.map(_.bind(null,C))});var D=new e(O);D.messages(l.messages),v.rule.options&&(v.rule.options.messages=l.messages,v.rule.options.error=l.error),D.validate(v.value,v.rule.options||l,function(C){var P=[];R&&R.length&&P.push.apply(P,R),C&&C.length&&P.push.apply(P,C),g(P.length?P:null)})}}var E;if(m.asyncValidator)E=m.asyncValidator(m,v.value,x,v.source,l);else if(m.validator){try{E=m.validator(m,v.value,x,v.source,l)}catch(A){console.error==null||console.error(A),l.suppressValidatorError||setTimeout(function(){throw A},0),x(A.message)}E===!0?x():E===!1?x(typeof m.message=="function"?m.message(m.fullField||m.field):m.message||(m.fullField||m.field)+" fails"):E instanceof Array?x(E):E instanceof Error&&x(E.message)}E&&E.then&&E.then(function(){return x()},function(A){return x(A)})},function(v){c(v)},s)},t.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!HE.hasOwnProperty(r.type))throw new Error(Nu("Unknown rule type %s",r.type));return r.type||"string"},t.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?HE.required:HE[this.getType(r)]||void 0},e}();ZT.register=function(t,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");HE[t]=n};ZT.warning=hWe;ZT.messages=yU;ZT.validators=HE;const zWe=["","error","validating","success"],$We=gt({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:Ie([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Ie([Object,Array])},error:String,validateStatus:{type:String,values:zWe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:uh}}),Sq="ElLabelWrap";var HWe=le({name:Sq,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const n=$t(Ny,void 0),r=$t(Jd);r||Ro(Sq,"usage: <el-form-item><label-wrap /></el-form-item>");const i=at("form"),a=Y(),o=Y(0),s=()=>{var c;if((c=a.value)!=null&&c.firstElementChild){const f=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(f))}else return 0},l=(c="update")=>{fn(()=>{t.default&&e.isAutoWidth&&(c==="update"?o.value=s():c==="remove"&&(n==null||n.deregisterLabelWidth(o.value)))})},u=()=>l("update");return Tn(()=>{u()}),Oi(()=>{l("remove")}),lh(()=>u()),tt(o,(c,f)=>{e.updateAll&&(n==null||n.registerLabelWidth(c,f))}),oa($(()=>{var c,f;return(f=(c=a.value)==null?void 0:c.firstElementChild)!=null?f:null}),u),()=>{var c,f;if(!t)return null;const{isAutoWidth:d}=e;if(d){const h=n==null?void 0:n.autoLabelWidth,p=r==null?void 0:r.hasLabel,v={};if(p&&h&&h!=="auto"){const g=Math.max(0,Number.parseInt(h,10)-o.value),b=(r.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";g&&(v[b]=`${g}px`)}return z("div",{ref:a,class:[i.be("item","label-wrap")],style:v},[(c=t.default)==null?void 0:c.call(t)])}else return z(St,{ref:a},[(f=t.default)==null?void 0:f.call(t)])}}});const WWe=le({name:"ElFormItem"}),GWe=le({...WWe,props:$We,setup(e,{expose:t}){const n=e,r=_o(),i=$t(Ny,void 0),a=$t(Jd,void 0),o=oo(void 0,{formItem:!1}),s=at("form-item"),l=vs().value,u=Y([]),c=Y(""),f=QBe(c,100),d=Y(""),h=Y();let p,v=!1;const g=$(()=>n.labelPosition||(i==null?void 0:i.labelPosition)),m=$(()=>{if(g.value==="top")return{};const de=Na(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return de?{width:de}:{}}),b=$(()=>{if(g.value==="top"||i!=null&&i.inline)return{};if(!n.label&&!n.labelWidth&&O)return{};const de=Na(n.labelWidth||(i==null?void 0:i.labelWidth)||"");return!n.label&&!r.label?{marginLeft:de}:{}}),_=$(()=>[s.b(),s.m(o.value),s.is("error",c.value==="error"),s.is("validating",c.value==="validating"),s.is("success",c.value==="success"),s.is("required",U.value||n.required),s.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:i==null?void 0:i.statusIcon,[s.m(`label-${g.value}`)]:g.value}]),x=$(()=>Bi(n.inlineMessage)?n.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),E=$(()=>[s.e("error"),{[s.em("error","inline")]:x.value}]),A=$(()=>n.prop?an(n.prop)?n.prop:n.prop.join("."):""),T=$(()=>!!(n.label||r.label)),R=$(()=>n.for||(u.value.length===1?u.value[0]:void 0)),M=$(()=>!R.value&&T.value),O=!!a,D=$(()=>{const de=i==null?void 0:i.model;if(!(!de||!n.prop))return YI(de,n.prop).value}),C=$(()=>{const{required:de}=n,oe=[];n.rules&&oe.push(...Zs(n.rules));const pe=i==null?void 0:i.rules;if(pe&&n.prop){const me=YI(pe,n.prop).value;me&&oe.push(...Zs(me))}if(de!==void 0){const me=oe.map((re,ne)=>[re,ne]).filter(([re])=>Object.keys(re).includes("required"));if(me.length>0)for(const[re,ne]of me)re.required!==de&&(oe[ne]={...re,required:de});else oe.push({required:de})}return oe}),P=$(()=>C.value.length>0),B=de=>C.value.filter(pe=>!pe.trigger||!de?!0:pt(pe.trigger)?pe.trigger.includes(de):pe.trigger===de).map(({trigger:pe,...me})=>me),U=$(()=>C.value.some(de=>de.required)),L=$(()=>{var de;return f.value==="error"&&n.showMessage&&((de=i==null?void 0:i.showMessage)!=null?de:!0)}),F=$(()=>`${n.label||""}${(i==null?void 0:i.labelSuffix)||""}`),N=de=>{c.value=de},V=de=>{var oe,pe;const{errors:me,fields:re}=de;(!me||!re)&&console.error(de),N("error"),d.value=me?(pe=(oe=me==null?void 0:me[0])==null?void 0:oe.message)!=null?pe:`${n.prop} is required`:"",i==null||i.emit("validate",n.prop,!1,d.value)},W=()=>{N("success"),i==null||i.emit("validate",n.prop,!0,"")},G=async de=>{const oe=A.value;return new ZT({[oe]:de}).validate({[oe]:D.value},{firstFields:!0}).then(()=>(W(),!0)).catch(me=>(V(me),Promise.reject(me)))},K=async(de,oe)=>{if(v||!n.prop)return!1;const pe=on(oe);if(!P.value)return oe==null||oe(!1),!1;const me=B(de);return me.length===0?(oe==null||oe(!0),!0):(N("validating"),G(me).then(()=>(oe==null||oe(!0),!0)).catch(re=>{const{fields:ne}=re;return oe==null||oe(!1,ne),pe?!1:Promise.reject(ne)}))},q=()=>{N(""),d.value="",v=!1},ue=async()=>{const de=i==null?void 0:i.model;if(!de||!n.prop)return;const oe=YI(de,n.prop);v=!0,oe.value=GX(p),await fn(),q(),v=!1},he=de=>{u.value.includes(de)||u.value.push(de)},Ce=de=>{u.value=u.value.filter(oe=>oe!==de)};tt(()=>n.error,de=>{d.value=de||"",N(de?"error":"")},{immediate:!0}),tt(()=>n.validateStatus,de=>N(de||""));const ee=zn({...ts(n),$el:h,size:o,validateState:c,labelId:l,inputIds:u,isGroup:M,hasLabel:T,fieldValue:D,addInputId:he,removeInputId:Ce,resetField:ue,clearValidate:q,validate:K});return mr(Jd,ee),Tn(()=>{n.prop&&(i==null||i.addField(ee),p=GX(D.value))}),Oi(()=>{i==null||i.removeField(ee)}),t({size:o,validateMessage:d,validateState:c,validate:K,clearValidate:q,resetField:ue}),(de,oe)=>{var pe;return H(),Q("div",{ref_key:"formItemRef",ref:h,class:j(y(_)),role:y(M)?"group":void 0,"aria-labelledby":y(M)?y(l):void 0},[z(y(HWe),{"is-auto-width":y(m).width==="auto","update-all":((pe=y(i))==null?void 0:pe.labelWidth)==="auto"},{default:J(()=>[y(T)?(H(),Ue(cr(y(R)?"label":"div"),{key:0,id:y(l),for:y(R),class:j(y(s).e("label")),style:en(y(m))},{default:J(()=>[De(de.$slots,"label",{label:y(F)},()=>[$n(nt(y(F)),1)])]),_:3},8,["id","for","class","style"])):Be("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),I("div",{class:j(y(s).e("content")),style:en(y(b))},[De(de.$slots,"default"),z(Ape,{name:`${y(s).namespace.value}-zoom-in-top`},{default:J(()=>[y(L)?De(de.$slots,"error",{key:0,error:d.value},()=>[I("div",{class:j(y(E))},nt(d.value),3)]):Be("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var Rme=_t(GWe,[["__file","form-item.vue"]]);const jWe=Un(lWe,{FormItem:Rme}),YWe=Aa(Rme),XWe=gt({urlList:{type:Ie(Array),default:()=>xa([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Ie(String)}}),KWe={close:()=>!0,switch:e=>gn(e),rotate:e=>gn(e)},qWe=le({name:"ElImageViewer"}),ZWe=le({...qWe,props:XWe,emits:KWe,setup(e,{expose:t,emit:n}){var r;const i=e,a={CONTAIN:{name:"contain",icon:pp(pke)},ORIGINAL:{name:"original",icon:pp(Lke)}},{t:o}=Lr(),s=at("image-viewer"),{nextZIndex:l}=yx(),u=Y(),c=Y([]),f=lhe(),d=Y(!0),h=Y(i.initialIndex),p=Ni(a.CONTAIN),v=Y({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=Y((r=i.zIndex)!=null?r:l()),m=$(()=>{const{urlList:K}=i;return K.length<=1}),b=$(()=>h.value===0),_=$(()=>h.value===i.urlList.length-1),x=$(()=>i.urlList[h.value]),E=$(()=>[s.e("btn"),s.e("prev"),s.is("disabled",!i.infinite&&b.value)]),A=$(()=>[s.e("btn"),s.e("next"),s.is("disabled",!i.infinite&&_.value)]),T=$(()=>{const{scale:K,deg:q,offsetX:ue,offsetY:he,enableTransition:Ce}=v.value;let ee=ue/K,de=he/K;const oe=q*Math.PI/180,pe=Math.cos(oe),me=Math.sin(oe);ee=ee*pe+de*me,de=de*pe-ue/K*me;const re={transform:`scale(${K}) rotate(${q}deg) translate(${ee}px, ${de}px)`,transition:Ce?"transform .3s":""};return p.value.name===a.CONTAIN.name&&(re.maxWidth=re.maxHeight="100%"),re});function R(){O(),n("close")}function M(){const K=G0(ue=>{switch(ue.code){case kt.esc:i.closeOnPressEscape&&R();break;case kt.space:U();break;case kt.left:F();break;case kt.up:V("zoomIn");break;case kt.right:N();break;case kt.down:V("zoomOut");break}}),q=G0(ue=>{const he=ue.deltaY||ue.deltaX;V(he<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});f.run(()=>{xi(document,"keydown",K),xi(document,"wheel",q)})}function O(){f.stop()}function D(){d.value=!1}function C(K){d.value=!1,K.target.alt=o("el.image.error")}function P(K){if(d.value||K.button!==0||!u.value)return;v.value.enableTransition=!1;const{offsetX:q,offsetY:ue}=v.value,he=K.pageX,Ce=K.pageY,ee=G0(oe=>{v.value={...v.value,offsetX:q+oe.pageX-he,offsetY:ue+oe.pageY-Ce}}),de=xi(document,"mousemove",ee);xi(document,"mouseup",()=>{de()}),K.preventDefault()}function B(){v.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function U(){if(d.value)return;const K=Tb(a),q=Object.values(a),ue=p.value.name,Ce=(q.findIndex(ee=>ee.name===ue)+1)%K.length;p.value=a[K[Ce]],B()}function L(K){const q=i.urlList.length;h.value=(K+q)%q}function F(){b.value&&!i.infinite||L(h.value-1)}function N(){_.value&&!i.infinite||L(h.value+1)}function V(K,q={}){if(d.value)return;const{minScale:ue,maxScale:he}=i,{zoomRate:Ce,rotateDeg:ee,enableTransition:de}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...q};switch(K){case"zoomOut":v.value.scale>ue&&(v.value.scale=Number.parseFloat((v.value.scale/Ce).toFixed(3)));break;case"zoomIn":v.value.scale<he&&(v.value.scale=Number.parseFloat((v.value.scale*Ce).toFixed(3)));break;case"clockwise":v.value.deg+=ee,n("rotate",v.value.deg);break;case"anticlockwise":v.value.deg-=ee,n("rotate",v.value.deg);break}v.value.enableTransition=de}function W(K){var q;((q=K.detail)==null?void 0:q.focusReason)==="pointer"&&K.preventDefault()}function G(){i.closeOnPressEscape&&R()}return tt(x,()=>{fn(()=>{const K=c.value[0];K!=null&&K.complete||(d.value=!0)})}),tt(h,K=>{B(),n("switch",K)}),Tn(()=>{M()}),t({setActiveItem:L}),(K,q)=>(H(),Ue(y(xx),{to:"body",disabled:!K.teleported},{default:J(()=>[z(ns,{name:"viewer-fade",appear:""},{default:J(()=>[I("div",{ref_key:"wrapper",ref:u,tabindex:-1,class:j(y(s).e("wrapper")),style:en({zIndex:g.value})},[z(y(bx),{loop:"",trapped:"","focus-trap-el":u.value,"focus-start-el":"container",onFocusoutPrevented:W,onReleaseRequested:G},{default:J(()=>[I("div",{class:j(y(s).e("mask")),onClick:xn(ue=>K.hideOnClickModal&&R(),["self"])},null,10,["onClick"]),Be(" CLOSE "),I("span",{class:j([y(s).e("btn"),y(s).e("close")]),onClick:R},[z(y(Xt),null,{default:J(()=>[z(y(Yf))]),_:1})],2),Be(" ARROW "),y(m)?Be("v-if",!0):(H(),Q(St,{key:0},[I("span",{class:j(y(E)),onClick:F},[z(y(Xt),null,{default:J(()=>[z(y(Pg))]),_:1})],2),I("span",{class:j(y(A)),onClick:N},[z(y(Xt),null,{default:J(()=>[z(y(Cl))]),_:1})],2)],64)),Be(" ACTIONS "),I("div",{class:j([y(s).e("btn"),y(s).e("actions")])},[I("div",{class:j(y(s).e("actions__inner"))},[z(y(Xt),{onClick:ue=>V("zoomOut")},{default:J(()=>[z(y(Kke))]),_:1},8,["onClick"]),z(y(Xt),{onClick:ue=>V("zoomIn")},{default:J(()=>[z(y(zve))]),_:1},8,["onClick"]),I("i",{class:j(y(s).e("actions__divider"))},null,2),z(y(Xt),{onClick:U},{default:J(()=>[(H(),Ue(cr(y(p).icon)))]),_:1}),I("i",{class:j(y(s).e("actions__divider"))},null,2),z(y(Xt),{onClick:ue=>V("anticlockwise")},{default:J(()=>[z(y(Mke))]),_:1},8,["onClick"]),z(y(Xt),{onClick:ue=>V("clockwise")},{default:J(()=>[z(y(Dke))]),_:1},8,["onClick"])],2)],2),Be(" CANVAS "),I("div",{class:j(y(s).e("canvas"))},[(H(!0),Q(St,null,Nn(K.urlList,(ue,he)=>Wn((H(),Q("img",{ref_for:!0,ref:Ce=>c.value[he]=Ce,key:ue,src:ue,style:en(y(T)),class:j(y(s).e("img")),crossorigin:K.crossorigin,onLoad:D,onError:C,onMousedown:P},null,46,["src","crossorigin"])),[[Xr,he===h.value]])),128))],2),De(K.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var QWe=_t(ZWe,[["__file","image-viewer.vue"]]);const Ime=Un(QWe),JWe=gt({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Ie([String,Object])},previewSrcList:{type:Ie(Array),default:()=>xa([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Ie(String)}}),eGe={load:e=>e instanceof Event,error:e=>e instanceof Event,switch:e=>gn(e),close:()=>!0,show:()=>!0},tGe=le({name:"ElImage",inheritAttrs:!1}),nGe=le({...tGe,props:JWe,emits:eGe,setup(e,{emit:t}){const n=e;let r="";const{t:i}=Lr(),a=at("image"),o=qg(),s=$(()=>I2(Object.entries(o).filter(([N])=>/^(data-|on[A-Z])/i.test(N)||["id","style"].includes(N)))),l=YT({excludeListeners:!0,excludeKeys:$(()=>Object.keys(s.value))}),u=Y(),c=Y(!1),f=Y(!0),d=Y(!1),h=Y(),p=Y(),v=Pr&&"loading"in HTMLImageElement.prototype;let g,m;const b=$(()=>[a.e("inner"),x.value&&a.e("preview"),f.value&&a.is("loading")]),_=$(()=>{const{fit:N}=n;return Pr&&N?{objectFit:N}:{}}),x=$(()=>{const{previewSrcList:N}=n;return pt(N)&&N.length>0}),E=$(()=>{const{previewSrcList:N,initialIndex:V}=n;let W=V;return V>N.length-1&&(W=0),W}),A=$(()=>n.loading==="eager"?!1:!v&&n.loading==="lazy"||n.lazy),T=()=>{Pr&&(f.value=!0,c.value=!1,u.value=n.src)};function R(N){f.value=!1,c.value=!1,t("load",N)}function M(N){f.value=!1,c.value=!0,t("error",N)}function O(){f9e(h.value,p.value)&&(T(),P())}const D=_ve(O,200,!0);async function C(){var N;if(!Pr)return;await fn();const{scrollContainer:V}=n;Vu(V)?p.value=V:an(V)&&V!==""?p.value=(N=document.querySelector(V))!=null?N:void 0:h.value&&(p.value=A$(h.value)),p.value&&(g=xi(p,"scroll",D),setTimeout(()=>O(),100))}function P(){!Pr||!p.value||!D||(g==null||g(),p.value=void 0)}function B(N){if(N.ctrlKey){if(N.deltaY<0)return N.preventDefault(),!1;if(N.deltaY>0)return N.preventDefault(),!1}}function U(){x.value&&(m=xi("wheel",B,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",d.value=!0,t("show"))}function L(){m==null||m(),document.body.style.overflow=r,d.value=!1,t("close")}function F(N){t("switch",N)}return tt(()=>n.src,()=>{A.value?(f.value=!0,c.value=!1,P(),C()):T()}),Tn(()=>{A.value?C():T()}),(N,V)=>(H(),Q("div",dr({ref_key:"container",ref:h},y(s),{class:[y(a).b(),N.$attrs.class]}),[c.value?De(N.$slots,"error",{key:0},()=>[I("div",{class:j(y(a).e("error"))},nt(y(i)("el.image.error")),3)]):(H(),Q(St,{key:1},[u.value!==void 0?(H(),Q("img",dr({key:0},y(l),{src:u.value,loading:N.loading,style:y(_),class:y(b),crossorigin:N.crossorigin,onClick:U,onLoad:R,onError:M}),null,16,["src","loading","crossorigin"])):Be("v-if",!0),f.value?(H(),Q("div",{key:1,class:j(y(a).e("wrapper"))},[De(N.$slots,"placeholder",{},()=>[I("div",{class:j(y(a).e("placeholder"))},null,2)])],2)):Be("v-if",!0)],64)),y(x)?(H(),Q(St,{key:2},[d.value?(H(),Ue(y(Ime),{key:0,"z-index":N.zIndex,"initial-index":y(E),infinite:N.infinite,"zoom-rate":N.zoomRate,"min-scale":N.minScale,"max-scale":N.maxScale,"url-list":N.previewSrcList,crossorigin:N.crossorigin,"hide-on-click-modal":N.hideOnClickModal,teleported:N.previewTeleported,"close-on-press-escape":N.closeOnPressEscape,onClose:L,onSwitch:F},{default:J(()=>[N.$slots.viewer?(H(),Q("div",{key:0},[De(N.$slots,"viewer")])):Be("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Be("v-if",!0)],64)):Be("v-if",!0)],16))}});var rGe=_t(nGe,[["__file","image.vue"]]);const Fi=Un(rGe),iGe=gt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:yo,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>e===null||gn(e)||["min","max"].includes(e),default:null},name:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0},...gs(["ariaLabel"])}),aGe={[wi]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[Ms]:e=>gn(e)||zo(e),[Yn]:e=>gn(e)||zo(e)},oGe=le({name:"ElInputNumber"}),sGe=le({...oGe,props:iGe,emits:aGe,setup(e,{expose:t,emit:n}){const r=e,{t:i}=Lr(),a=at("input-number"),o=Y(),s=zn({currentValue:r.modelValue,userInput:null}),{formItem:l}=Bs(),u=$(()=>gn(r.modelValue)&&r.modelValue<=r.min),c=$(()=>gn(r.modelValue)&&r.modelValue>=r.max),f=$(()=>{const U=m(r.step);return mi(r.precision)?Math.max(m(r.modelValue),U):(U>r.precision,r.precision)}),d=$(()=>r.controls&&r.controlsPosition==="right"),h=oo(),p=ks(),v=$(()=>{if(s.userInput!==null)return s.userInput;let U=s.currentValue;if(zo(U))return"";if(gn(U)){if(Number.isNaN(U))return"";mi(r.precision)||(U=U.toFixed(r.precision))}return U}),g=(U,L)=>{if(mi(L)&&(L=f.value),L===0)return Math.round(U);let F=String(U);const N=F.indexOf(".");if(N===-1||!F.replace(".","").split("")[N+L])return U;const G=F.length;return F.charAt(G-1)==="5"&&(F=`${F.slice(0,Math.max(0,G-1))}6`),Number.parseFloat(Number(F).toFixed(L))},m=U=>{if(zo(U))return 0;const L=U.toString(),F=L.indexOf(".");let N=0;return F!==-1&&(N=L.length-F-1),N},b=(U,L=1)=>gn(U)?g(U+r.step*L):s.currentValue,_=()=>{if(r.readonly||p.value||c.value)return;const U=Number(v.value)||0,L=b(U);A(L),n(Ms,s.currentValue),P()},x=()=>{if(r.readonly||p.value||u.value)return;const U=Number(v.value)||0,L=b(U,-1);A(L),n(Ms,s.currentValue),P()},E=(U,L)=>{const{max:F,min:N,step:V,precision:W,stepStrictly:G,valueOnClear:K}=r;F<N&&Ro("InputNumber","min should not be greater than max.");let q=Number(U);if(zo(U)||Number.isNaN(q))return null;if(U===""){if(K===null)return null;q=an(K)?{min:N,max:F}[K]:K}return G&&(q=g(Math.round(q/V)*V,W),q!==U&&L&&n(Yn,q)),mi(W)||(q=g(q,W)),(q>F||q<N)&&(q=q>F?F:N,L&&n(Yn,q)),q},A=(U,L=!0)=>{var F;const N=s.currentValue,V=E(U);if(!L){n(Yn,V);return}N===V&&U||(s.userInput=null,n(Yn,V),N!==V&&n(wi,V,N),r.validateEvent&&((F=l==null?void 0:l.validate)==null||F.call(l,"change").catch(W=>void 0)),s.currentValue=V)},T=U=>{s.userInput=U;const L=U===""?null:Number(U);n(Ms,L),A(L,!1)},R=U=>{const L=U!==""?Number(U):"";(gn(L)&&!Number.isNaN(L)||U==="")&&A(L),P(),s.userInput=null},M=()=>{var U,L;(L=(U=o.value)==null?void 0:U.focus)==null||L.call(U)},O=()=>{var U,L;(L=(U=o.value)==null?void 0:U.blur)==null||L.call(U)},D=U=>{n("focus",U)},C=U=>{var L,F;s.userInput=null,$D()&&s.currentValue===null&&((L=o.value)!=null&&L.input)&&(o.value.input.value=""),n("blur",U),r.validateEvent&&((F=l==null?void 0:l.validate)==null||F.call(l,"blur").catch(N=>void 0))},P=()=>{s.currentValue!==r.modelValue&&(s.currentValue=r.modelValue)},B=U=>{document.activeElement===U.target&&U.preventDefault()};return tt(()=>r.modelValue,(U,L)=>{const F=E(U,!0);s.userInput===null&&F!==L&&(s.currentValue=F)},{immediate:!0}),Tn(()=>{var U;const{min:L,max:F,modelValue:N}=r,V=(U=o.value)==null?void 0:U.input;if(V.setAttribute("role","spinbutton"),Number.isFinite(F)?V.setAttribute("aria-valuemax",String(F)):V.removeAttribute("aria-valuemax"),Number.isFinite(L)?V.setAttribute("aria-valuemin",String(L)):V.removeAttribute("aria-valuemin"),V.setAttribute("aria-valuenow",s.currentValue||s.currentValue===0?String(s.currentValue):""),V.setAttribute("aria-disabled",String(p.value)),!gn(N)&&N!=null){let W=Number(N);Number.isNaN(W)&&(W=null),n(Yn,W)}V.addEventListener("wheel",B,{passive:!1})}),lh(()=>{var U,L;const F=(U=o.value)==null?void 0:U.input;F==null||F.setAttribute("aria-valuenow",`${(L=s.currentValue)!=null?L:""}`)}),t({focus:M,blur:O}),(U,L)=>(H(),Q("div",{class:j([y(a).b(),y(a).m(y(h)),y(a).is("disabled",y(p)),y(a).is("without-controls",!U.controls),y(a).is("controls-right",y(d))]),onDragstart:xn(()=>{},["prevent"])},[U.controls?Wn((H(),Q("span",{key:0,role:"button","aria-label":y(i)("el.inputNumber.decrease"),class:j([y(a).e("decrease"),y(a).is("disabled",y(u))]),onKeydown:Mi(x,["enter"])},[De(U.$slots,"decrease-icon",{},()=>[z(y(Xt),null,{default:J(()=>[y(d)?(H(),Ue(y(Vp),{key:0})):(H(),Ue(y(bke),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[y(mM),x]]):Be("v-if",!0),U.controls?Wn((H(),Q("span",{key:1,role:"button","aria-label":y(i)("el.inputNumber.increase"),class:j([y(a).e("increase"),y(a).is("disabled",y(c))]),onKeydown:Mi(_,["enter"])},[De(U.$slots,"increase-icon",{},()=>[z(y(Xt),null,{default:J(()=>[y(d)?(H(),Ue(y(T$),{key:0})):(H(),Ue(y(Uve),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[y(mM),_]]):Be("v-if",!0),z(y(da),{id:U.id,ref_key:"input",ref:o,type:"number",step:U.step,"model-value":y(v),placeholder:U.placeholder,readonly:U.readonly,disabled:y(p),size:y(h),max:U.max,min:U.min,name:U.name,"aria-label":U.ariaLabel,"validate-event":!1,onKeydown:[Mi(xn(_,["prevent"]),["up"]),Mi(xn(x,["prevent"]),["down"])],onBlur:C,onFocus:D,onInput:T,onChange:R},Nc({_:2},[U.$slots.prefix?{name:"prefix",fn:J(()=>[De(U.$slots,"prefix")])}:void 0,U.$slots.suffix?{name:"suffix",fn:J(()=>[De(U.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var lGe=_t(sGe,[["__file","input-number.vue"]]);const Mme=Un(lGe),uGe=gt({modelValue:{type:Ie(Array)},max:Number,tagType:{...Tp.type,default:"info"},tagEffect:Tp.effect,trigger:{type:Ie(String),default:kt.enter},draggable:{type:Boolean,default:!1},size:yo,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),cGe={[Yn]:e=>pt(e)||mi(e),[wi]:e=>pt(e)||mi(e),[Ms]:e=>an(e),"add-tag":e=>an(e),"remove-tag":e=>an(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0};function fGe({props:e,emit:t,formItem:n}){const r=ks(),i=oo(),a=Ni(),o=Y(),s=$(()=>["small"].includes(i.value)?"small":"default"),l=$(()=>{var M;return(M=e.modelValue)!=null&&M.length?void 0:e.placeholder}),u=$(()=>!(e.readonly||r.value)),c=$(()=>{var M,O;return mi(e.max)?!1:((O=(M=e.modelValue)==null?void 0:M.length)!=null?O:0)>=e.max}),f=M=>{if(c.value){o.value=void 0;return}E.value||t(Ms,M.target.value)},d=M=>{var O;switch(M.code){case e.trigger:M.preventDefault(),M.stopPropagation(),h();break;case kt.numpadEnter:e.trigger===kt.enter&&(M.preventDefault(),M.stopPropagation(),h());break;case kt.backspace:!o.value&&((O=e.modelValue)!=null&&O.length)&&(M.preventDefault(),M.stopPropagation(),p(e.modelValue.length-1));break}},h=()=>{var M,O;const D=(M=o.value)==null?void 0:M.trim();if(!D||c.value)return;const C=[...(O=e.modelValue)!=null?O:[],D];t(Yn,C),t(wi,C),t("add-tag",D),o.value=void 0},p=M=>{var O;const D=((O=e.modelValue)!=null?O:[]).slice(),[C]=D.splice(M,1);t(Yn,D),t(wi,D),t("remove-tag",C)},v=()=>{o.value=void 0,t(Yn,void 0),t(wi,void 0),t("clear")},g=(M,O,D)=>{var C;const P=((C=e.modelValue)!=null?C:[]).slice(),[B]=P.splice(M,1),U=O>M&&D==="before"?-1:O<M&&D==="after"?1:0;P.splice(O+U,0,B),t(Yn,P),t(wi,P)},m=()=>{var M;(M=a.value)==null||M.focus()},b=()=>{var M;(M=a.value)==null||M.blur()},{wrapperRef:_,isFocused:x}=Qg(a,{beforeFocus(){return r.value},afterBlur(){var M;h(),e.validateEvent&&((M=n==null?void 0:n.validate)==null||M.call(n,"blur").catch(O=>void 0))}}),{isComposing:E,handleCompositionStart:A,handleCompositionUpdate:T,handleCompositionEnd:R}=XT({afterComposition:f});return tt(()=>e.modelValue,()=>{var M;e.validateEvent&&((M=n==null?void 0:n.validate)==null||M.call(n,wi).catch(O=>void 0))}),{inputRef:a,wrapperRef:_,isFocused:x,isComposing:E,inputValue:o,size:i,tagSize:s,placeholder:l,closable:u,disabled:r,inputLimit:c,handleDragged:g,handleInput:f,handleKeydown:d,handleAddTag:h,handleRemoveTag:p,handleClear:v,handleCompositionStart:A,handleCompositionUpdate:T,handleCompositionEnd:R,focus:m,blur:b}}function dGe(){const e=Y(!1);return{hovering:e,handleMouseEnter:()=>{e.value=!0},handleMouseLeave:()=>{e.value=!1}}}function hGe(){const e=Ni(),t=Y(0),n=11,r=$(()=>({minWidth:`${Math.max(t.value,n)}px`}));return oa(e,()=>{var a,o;t.value=(o=(a=e.value)==null?void 0:a.getBoundingClientRect().width)!=null?o:0}),{calculatorRef:e,calculatorWidth:t,inputStyle:r}}function pGe({wrapperRef:e,handleDragged:t,afterDragged:n}){const r=at("input-tag"),i=Ni(),a=Y(!1);let o,s,l,u;function c(p){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${p+1})`}function f(p,v){o=v,s=e.value.querySelector(c(v)),s&&(s.style.opacity="0.5"),p.dataTransfer.effectAllowed="move"}function d(p,v){if(l=v,p.preventDefault(),p.dataTransfer.dropEffect="move",mi(o)||o===v){a.value=!1;return}const g=e.value.querySelector(c(v)).getBoundingClientRect(),m=o+1!==v,b=o-1!==v,_=p.clientX-g.left,x=m?b?.5:1:-1,E=b?m?.5:0:1;_<=g.width*x?u="before":_>g.width*E?u="after":u=void 0;const A=e.value.querySelector(`.${r.e("inner")}`),T=A.getBoundingClientRect(),R=Number.parseFloat(lp(A,"gap"))/2,M=g.top-T.top;let O=-9999;if(u==="before")O=Math.max(g.left-T.left-R,Math.floor(-R/2));else if(u==="after"){const D=g.right-T.left;O=D+(T.width===D?Math.floor(R/2):R)}Dve(i.value,{top:`${M}px`,left:`${O}px`}),a.value=!!u}function h(p){p.preventDefault(),s&&(s.style.opacity=""),u&&!mi(o)&&!mi(l)&&o!==l&&t(o,l,u),a.value=!1,o=void 0,s=null,l=void 0,u=void 0,n==null||n()}return{dropIndicatorRef:i,showDropIndicator:a,handleDragStart:f,handleDragOver:d,handleDragEnd:h}}function vGe({props:e,isFocused:t,hovering:n,disabled:r,inputValue:i,size:a,validateState:o,validateIcon:s,needStatusIcon:l}){const u=qg(),c=_o(),f=at("input-tag"),d=at("input"),h=$(()=>[f.b(),f.is("focused",t.value),f.is("hovering",n.value),f.is("disabled",r.value),f.m(a.value),f.e("wrapper"),u.class]),p=$(()=>[u.style]),v=$(()=>{var b,_;return[f.e("inner"),f.is("draggable",e.draggable),f.is("left-space",!((b=e.modelValue)!=null&&b.length)&&!c.prefix),f.is("right-space",!((_=e.modelValue)!=null&&_.length)&&!m.value)]}),g=$(()=>{var b;return e.clearable&&!r.value&&!e.readonly&&(((b=e.modelValue)==null?void 0:b.length)||i.value)&&(t.value||n.value)}),m=$(()=>c.suffix||g.value||o.value&&s.value&&l.value);return{ns:f,nsInput:d,containerKls:h,containerStyle:p,innerKls:v,showClear:g,showSuffix:m}}const gGe=le({name:"ElInputTag",inheritAttrs:!1}),mGe=le({...gGe,props:uGe,emits:cGe,setup(e,{expose:t,emit:n}){const r=e,i=YT(),a=_o(),{form:o,formItem:s}=Bs(),{inputId:l}=zc(r,{formItemContext:s}),u=$(()=>{var re;return(re=o==null?void 0:o.statusIcon)!=null?re:!1}),c=$(()=>(s==null?void 0:s.validateState)||""),f=$(()=>c.value&&zD[c.value]),{inputRef:d,wrapperRef:h,isFocused:p,inputValue:v,size:g,tagSize:m,placeholder:b,closable:_,disabled:x,handleDragged:E,handleInput:A,handleKeydown:T,handleRemoveTag:R,handleClear:M,handleCompositionStart:O,handleCompositionUpdate:D,handleCompositionEnd:C,focus:P,blur:B}=fGe({props:r,emit:n,formItem:s}),{hovering:U,handleMouseEnter:L,handleMouseLeave:F}=dGe(),{calculatorRef:N,inputStyle:V}=hGe(),{dropIndicatorRef:W,showDropIndicator:G,handleDragStart:K,handleDragOver:q,handleDragEnd:ue}=pGe({wrapperRef:h,handleDragged:E,afterDragged:P}),{ns:he,nsInput:Ce,containerKls:ee,containerStyle:de,innerKls:oe,showClear:pe,showSuffix:me}=vGe({props:r,hovering:U,isFocused:p,inputValue:v,disabled:x,size:g,validateState:c,validateIcon:f,needStatusIcon:u});return t({focus:P,blur:B}),(re,ne)=>(H(),Q("div",{ref_key:"wrapperRef",ref:h,class:j(y(ee)),style:en(y(de)),onMouseenter:y(L),onMouseleave:y(F)},[y(a).prefix?(H(),Q("div",{key:0,class:j(y(he).e("prefix"))},[De(re.$slots,"prefix")],2)):Be("v-if",!0),I("div",{class:j(y(oe))},[(H(!0),Q(St,null,Nn(re.modelValue,(se,be)=>(H(),Ue(y(dy),{key:be,size:y(m),closable:y(_),type:re.tagType,effect:re.tagEffect,draggable:y(_)&&re.draggable,"disable-transitions":"",onClose:Pe=>y(R)(be),onDragstart:Pe=>y(K)(Pe,be),onDragover:Pe=>y(q)(Pe,be),onDragend:y(ue),onDrop:xn(()=>{},["stop"])},{default:J(()=>[De(re.$slots,"tag",{value:se,index:be},()=>[$n(nt(se),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),I("div",{class:j(y(he).e("input-wrapper"))},[Wn(I("input",dr({id:y(l),ref_key:"inputRef",ref:d,"onUpdate:modelValue":se=>Gi(v)?v.value=se:null},y(i),{type:"text",minlength:re.minlength,maxlength:re.maxlength,disabled:y(x),readonly:re.readonly,autocomplete:re.autocomplete,tabindex:re.tabindex,placeholder:y(b),autofocus:re.autofocus,ariaLabel:re.ariaLabel,class:y(he).e("input"),style:y(V),onCompositionstart:y(O),onCompositionupdate:y(D),onCompositionend:y(C),onInput:y(A),onKeydown:y(T)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[RD,y(v)]]),I("span",{ref_key:"calculatorRef",ref:N,"aria-hidden":"true",class:j(y(he).e("input-calculator")),textContent:nt(y(v))},null,10,["textContent"])],2),Wn(I("div",{ref_key:"dropIndicatorRef",ref:W,class:j(y(he).e("drop-indicator"))},null,2),[[Xr,y(G)]])],2),y(me)?(H(),Q("div",{key:1,class:j(y(he).e("suffix"))},[De(re.$slots,"suffix"),y(pe)?(H(),Ue(y(Xt),{key:0,class:j([y(he).e("icon"),y(he).e("clear")]),onMousedown:xn(y(gi),["prevent"]),onClick:y(M)},{default:J(()=>[z(y(zp))]),_:1},8,["class","onMousedown","onClick"])):Be("v-if",!0),y(c)&&y(f)&&y(u)?(H(),Ue(y(Xt),{key:1,class:j([y(Ce).e("icon"),y(Ce).e("validateIcon"),y(Ce).is("loading",y(c)==="validating")])},{default:J(()=>[(H(),Ue(cr(y(f))))]),_:1},8,["class"])):Be("v-if",!0)],2)):Be("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var yGe=_t(mGe,[["__file","input-tag.vue"]]);const _Ge=Un(yGe),bGe=gt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Ci}}),xGe={click:e=>e instanceof MouseEvent},SGe=le({name:"ElLink"}),AGe=le({...SGe,props:bGe,emits:xGe,setup(e,{emit:t}){const n=e,r=at("link"),i=$(()=>[r.b(),r.m(n.type),r.is("disabled",n.disabled),r.is("underline",n.underline&&!n.disabled)]);function a(o){n.disabled||t("click",o)}return(o,s)=>(H(),Q("a",{class:j(y(i)),href:o.disabled||!o.href?void 0:o.href,target:o.disabled||!o.href?void 0:o.target,onClick:a},[o.icon?(H(),Ue(y(Xt),{key:0},{default:J(()=>[(H(),Ue(cr(o.icon)))]),_:1})):Be("v-if",!0),o.$slots.default?(H(),Q("span",{key:1,class:j(y(r).e("inner"))},[De(o.$slots,"default")],2)):Be("v-if",!0),o.$slots.icon?De(o.$slots,"icon",{key:2}):Be("v-if",!0)],10,["href","target"]))}});var EGe=_t(AGe,[["__file","link.vue"]]);const TGe=Un(EGe);let wGe=class{constructor(t,n){this.parent=t,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",r=>{let i=!1;switch(r.code){case kt.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case kt.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case kt.tab:{XI(t,"mouseleave");break}case kt.enter:case kt.numpadEnter:case kt.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}},CGe=class{constructor(t,n){this.domNode=t,this.submenu=null,this.submenu=null,this.init(n)}init(t){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${t}-menu`);n&&(this.submenu=new wGe(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",t=>{let n=!1;switch(t.code){case kt.down:{XI(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case kt.up:{XI(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case kt.tab:{XI(t.currentTarget,"mouseleave");break}case kt.enter:case kt.numpadEnter:case kt.space:{n=!0,t.currentTarget.click();break}}n&&t.preventDefault()})}},RGe=class{constructor(t,n){this.domNode=t,this.init(n)}init(t){const n=this.domNode.childNodes;Array.from(n).forEach(r=>{r.nodeType===1&&new CGe(r,t)})}};const IGe=le({name:"ElMenuCollapseTransition",setup(){const e=at("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,r){Rc(n,`${e.namespace.value}-opacity-transition`),n.style.opacity="1",r()},onAfterEnter(n){el(n,`${e.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),pu(n,e.m("collapse"))?(el(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Rc(n,e.m("collapse"))):(Rc(n,e.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),el(n,e.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Rc(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function MGe(e,t,n,r,i,a){return H(),Ue(ns,dr({mode:"out-in"},e.listeners),{default:J(()=>[De(e.$slots,"default")]),_:3},16)}var OGe=_t(IGe,[["render",MGe],["__file","menu-collapse-transition.vue"]]);function Ome(e,t){const n=$(()=>{let i=e.parent;const a=[t.value];for(;i.type.name!=="ElMenu";)i.props.index&&a.unshift(i.props.index),i=i.parent;return a});return{parentMenu:$(()=>{let i=e.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:n}}function DGe(e){return $(()=>{const n=e.backgroundColor;return n?new xge(n).shade(20).toString():""})}const Dme=(e,t)=>{const n=at("menu");return $(()=>n.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":DGe(e).value||"","active-color":e.activeTextColor||"",level:`${t}`}))},PGe=gt({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Ci},expandOpenIcon:{type:Ci},collapseCloseIcon:{type:Ci},collapseOpenIcon:{type:Ci}}),tN="ElSubMenu";var fH=le({name:tN,props:PGe,setup(e,{slots:t,expose:n}){const r=or(),{indexPath:i,parentMenu:a}=Ome(r,$(()=>e.index)),o=at("menu"),s=at("sub-menu"),l=$t("rootMenu");l||Ro(tN,"can not inject root menu");const u=$t(`subMenu:${a.value.uid}`);u||Ro(tN,"can not inject sub menu");const c=Y({}),f=Y({});let d;const h=Y(!1),p=Y(),v=Y(null),g=$(()=>R.value==="horizontal"&&b.value?"bottom-start":"right-start"),m=$(()=>R.value==="horizontal"&&b.value||R.value==="vertical"&&!l.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?A.value?e.expandOpenIcon:e.expandCloseIcon:Vp:e.collapseCloseIcon&&e.collapseOpenIcon?A.value?e.collapseOpenIcon:e.collapseCloseIcon:Cl),b=$(()=>u.level===0),_=$(()=>{const W=e.teleported;return W===void 0?b.value:W}),x=$(()=>l.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),E=$(()=>R.value==="horizontal"&&b.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),A=$(()=>l.openedMenus.includes(e.index)),T=$(()=>{let W=!1;return Object.values(c.value).forEach(G=>{G.active&&(W=!0)}),Object.values(f.value).forEach(G=>{G.active&&(W=!0)}),W}),R=$(()=>l.props.mode),M=zn({index:e.index,indexPath:i,active:T}),O=Dme(l.props,u.level+1),D=$(()=>{var W;return(W=e.popperOffset)!=null?W:l.props.popperOffset}),C=$(()=>{var W;return(W=e.popperClass)!=null?W:l.props.popperClass}),P=$(()=>{var W;return(W=e.showTimeout)!=null?W:l.props.showTimeout}),B=$(()=>{var W;return(W=e.hideTimeout)!=null?W:l.props.hideTimeout}),U=()=>{var W,G,K;return(K=(G=(W=v.value)==null?void 0:W.popperRef)==null?void 0:G.popperInstanceRef)==null?void 0:K.destroy()},L=W=>{W||U()},F=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||e.disabled||l.handleSubMenuClick({index:e.index,indexPath:i.value,active:T.value})},N=(W,G=P.value)=>{var K;if(W.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||e.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,d==null||d(),{stop:d}=cy(()=>{l.openMenu(e.index,i.value)},G),_.value&&((K=a.value.vnode.el)==null||K.dispatchEvent(new MouseEvent("mouseenter")))}},V=(W=!1)=>{var G;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}d==null||d(),u.mouseInChild.value=!1,{stop:d}=cy(()=>!h.value&&l.closeMenu(e.index,i.value),B.value),_.value&&W&&((G=u.handleMouseleave)==null||G.call(u,!0))};tt(()=>l.props.collapse,W=>L(!!W));{const W=K=>{f.value[K.index]=K},G=K=>{delete f.value[K.index]};mr(`subMenu:${r.uid}`,{addSubMenu:W,removeSubMenu:G,handleMouseleave:V,mouseInChild:h,level:u.level+1})}return n({opened:A}),Tn(()=>{l.addSubMenu(M),u.addSubMenu(M)}),Oi(()=>{u.removeSubMenu(M),l.removeSubMenu(M)}),()=>{var W;const G=[(W=t.title)==null?void 0:W.call(t),pn(Xt,{class:s.e("icon-arrow"),style:{transform:A.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>an(m.value)?pn(r.appContext.components[m.value]):pn(m.value)})],K=l.isMenuPopup?pn(Ps,{ref:v,visible:A.value,effect:"light",pure:!0,offset:D.value,showArrow:!1,persistent:!0,popperClass:C.value,placement:g.value,teleported:_.value,fallbackPlacements:E.value,transition:x.value,gpuAcceleration:!1},{content:()=>{var q;return pn("div",{class:[o.m(R.value),o.m("popup-container"),C.value],onMouseenter:ue=>N(ue,100),onMouseleave:()=>V(!0),onFocus:ue=>N(ue,100)},[pn("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${g.value}`)],style:O.value},[(q=t.default)==null?void 0:q.call(t)])])},default:()=>pn("div",{class:s.e("title"),onClick:F},G)}):pn(St,{},[pn("div",{class:s.e("title"),ref:p,onClick:F},G),pn(jD,{},{default:()=>{var q;return Wn(pn("ul",{role:"menu",class:[o.b(),o.m("inline")],style:O.value},[(q=t.default)==null?void 0:q.call(t)]),[[Xr,A.value]])}})]);return pn("li",{class:[s.b(),s.is("active",T.value),s.is("opened",A.value),s.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:A.value,onMouseenter:N,onMouseleave:()=>V(),onFocus:N},[K])}}});const LGe=gt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Ie(Array),default:()=>xa([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Ci,default:()=>Ake},popperEffect:{type:Ie(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),nN=e=>pt(e)&&e.every(t=>an(t)),NGe={close:(e,t)=>an(e)&&nN(t),open:(e,t)=>an(e)&&nN(t),select:(e,t,n,r)=>an(e)&&nN(t)&&nr(n)&&(r===void 0||r instanceof Promise)};var BGe=le({name:"ElMenu",props:LGe,emits:NGe,setup(e,{emit:t,slots:n,expose:r}){const i=or(),a=i.appContext.config.globalProperties.$router,o=Y(),s=at("menu"),l=at("sub-menu"),u=Y(-1),c=Y(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),f=Y(e.defaultActive),d=Y({}),h=Y({}),p=$(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),v=()=>{const U=f.value&&d.value[f.value];if(!U||e.mode==="horizontal"||e.collapse)return;U.indexPath.forEach(F=>{const N=h.value[F];N&&g(F,N.indexPath)})},g=(U,L)=>{c.value.includes(U)||(e.uniqueOpened&&(c.value=c.value.filter(F=>L.includes(F))),c.value.push(U),t("open",U,L))},m=U=>{const L=c.value.indexOf(U);L!==-1&&c.value.splice(L,1)},b=(U,L)=>{m(U),t("close",U,L)},_=({index:U,indexPath:L})=>{c.value.includes(U)?b(U,L):g(U,L)},x=U=>{(e.mode==="horizontal"||e.collapse)&&(c.value=[]);const{index:L,indexPath:F}=U;if(!(zo(L)||zo(F)))if(e.router&&a){const N=U.route||L,V=a.push(N).then(W=>(W||(f.value=L),W));t("select",L,F,{index:L,indexPath:F,route:N},V)}else f.value=L,t("select",L,F,{index:L,indexPath:F})},E=U=>{const L=d.value,F=L[U]||f.value&&L[f.value]||L[e.defaultActive];F?f.value=F.index:f.value=U},A=U=>{const L=getComputedStyle(U),F=Number.parseInt(L.marginLeft,10),N=Number.parseInt(L.marginRight,10);return U.offsetWidth+F+N||0},T=()=>{var U,L;if(!o.value)return-1;const F=Array.from((L=(U=o.value)==null?void 0:U.childNodes)!=null?L:[]).filter(he=>he.nodeName!=="#comment"&&(he.nodeName!=="#text"||he.nodeValue)),N=64,V=getComputedStyle(o.value),W=Number.parseInt(V.paddingLeft,10),G=Number.parseInt(V.paddingRight,10),K=o.value.clientWidth-W-G;let q=0,ue=0;return F.forEach((he,Ce)=>{q+=A(he),q<=K-N&&(ue=Ce+1)}),ue===F.length?-1:ue},R=U=>h.value[U].indexPath,M=(U,L=33.34)=>{let F;return()=>{F&&clearTimeout(F),F=setTimeout(()=>{U()},L)}};let O=!0;const D=()=>{if(u.value===T())return;const U=()=>{u.value=-1,fn(()=>{u.value=T()})};O?U():M(U)(),O=!1};tt(()=>e.defaultActive,U=>{d.value[U]||(f.value=""),E(U)}),tt(()=>e.collapse,U=>{U&&(c.value=[])}),tt(d.value,v);let C;Is(()=>{e.mode==="horizontal"&&e.ellipsis?C=oa(o,D).stop:C==null||C()});const P=Y(!1);{const U=V=>{h.value[V.index]=V},L=V=>{delete h.value[V.index]};mr("rootMenu",zn({props:e,openedMenus:c,items:d,subMenus:h,activeIndex:f,isMenuPopup:p,addMenuItem:V=>{d.value[V.index]=V},removeMenuItem:V=>{delete d.value[V.index]},addSubMenu:U,removeSubMenu:L,openMenu:g,closeMenu:b,handleMenuItemClick:x,handleSubMenuClick:_})),mr(`subMenu:${i.uid}`,{addSubMenu:U,removeSubMenu:L,mouseInChild:P,level:0})}Tn(()=>{e.mode==="horizontal"&&new RGe(i.vnode.el,s.namespace.value)}),r({open:L=>{const{indexPath:F}=h.value[L];F.forEach(N=>g(N,F))},close:m,handleResize:D});const B=Dme(e,0);return()=>{var U,L;let F=(L=(U=n.default)==null?void 0:U.call(n))!=null?L:[];const N=[];if(e.mode==="horizontal"&&o.value){const G=bg(F),K=u.value===-1?G:G.slice(0,u.value),q=u.value===-1?[]:G.slice(u.value);q!=null&&q.length&&e.ellipsis&&(F=K,N.push(pn(fH,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>pn(Xt,{class:l.e("icon-more")},{default:()=>pn(e.ellipsisIcon)}),default:()=>q})))}const V=e.closeOnClickOutside?[[wp,()=>{c.value.length&&(P.value||(c.value.forEach(G=>t("close",G,R(G))),c.value=[]))}]]:[],W=Wn(pn("ul",{key:String(e.collapse),role:"menubar",ref:o,style:B.value,class:{[s.b()]:!0,[s.m(e.mode)]:!0,[s.m("collapse")]:e.collapse}},[...F,...N]),V);return e.collapseTransition&&e.mode==="vertical"?pn(OGe,()=>W):W}}});const kGe=gt({index:{type:Ie([String,null]),default:null},route:{type:Ie([String,Object])},disabled:Boolean}),FGe={click:e=>an(e.index)&&pt(e.indexPath)},rN="ElMenuItem",UGe=le({name:rN,components:{ElTooltip:Ps},props:kGe,emits:FGe,setup(e,{emit:t}){const n=or(),r=$t("rootMenu"),i=at("menu"),a=at("menu-item");r||Ro(rN,"can not inject root menu");const{parentMenu:o,indexPath:s}=Ome(n,hi(e,"index")),l=$t(`subMenu:${o.value.uid}`);l||Ro(rN,"can not inject sub menu");const u=$(()=>e.index===r.activeIndex),c=zn({index:e.index,indexPath:s,active:u}),f=()=>{e.disabled||(r.handleMenuItemClick({index:e.index,indexPath:s.value,route:e.route}),t("click",c))};return Tn(()=>{l.addSubMenu(c),r.addMenuItem(c)}),Oi(()=>{l.removeSubMenu(c),r.removeMenuItem(c)}),{parentMenu:o,rootMenu:r,active:u,nsMenu:i,nsMenuItem:a,handleClick:f}}});function VGe(e,t,n,r,i,a){const o=ur("el-tooltip");return H(),Q("li",{class:j([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:e.handleClick},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(H(),Ue(o,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:J(()=>[De(e.$slots,"title")]),default:J(()=>[I("div",{class:j(e.nsMenu.be("tooltip","trigger"))},[De(e.$slots,"default")],2)]),_:3},8,["effect"])):(H(),Q(St,{key:1},[De(e.$slots,"default"),De(e.$slots,"title")],64))],10,["onClick"])}var Pme=_t(UGe,[["render",VGe],["__file","menu-item.vue"]]);const zGe={title:String},$Ge="ElMenuItemGroup",HGe=le({name:$Ge,props:zGe,setup(){return{ns:at("menu-item-group")}}});function WGe(e,t,n,r,i,a){return H(),Q("li",{class:j(e.ns.b())},[I("div",{class:j(e.ns.e("title"))},[e.$slots.title?De(e.$slots,"title",{key:1}):(H(),Q(St,{key:0},[$n(nt(e.title),1)],64))],2),I("ul",null,[De(e.$slots,"default")])],2)}var Lme=_t(HGe,[["render",WGe],["__file","menu-item-group.vue"]]);const Nme=Un(BGe,{MenuItem:Pme,MenuItemGroup:Lme,SubMenu:fH}),Bme=Aa(Pme),GGe=Aa(Lme),kme=Aa(fH),jGe=gt({icon:{type:Ci,default:()=>j6e},title:String,content:{type:String,default:""}}),YGe={back:()=>!0},XGe=le({name:"ElPageHeader"}),KGe=le({...XGe,props:jGe,emits:YGe,setup(e,{emit:t}){const n=_o(),{t:r}=Lr(),i=at("page-header"),a=$(()=>[i.b(),{[i.m("has-breadcrumb")]:!!n.breadcrumb,[i.m("has-extra")]:!!n.extra,[i.is("contentful")]:!!n.default}]);function o(){t("back")}return(s,l)=>(H(),Q("div",{class:j(y(a))},[s.$slots.breadcrumb?(H(),Q("div",{key:0,class:j(y(i).e("breadcrumb"))},[De(s.$slots,"breadcrumb")],2)):Be("v-if",!0),I("div",{class:j(y(i).e("header"))},[I("div",{class:j(y(i).e("left"))},[I("div",{class:j(y(i).e("back")),role:"button",tabindex:"0",onClick:o},[s.icon||s.$slots.icon?(H(),Q("div",{key:0,"aria-label":s.title||y(r)("el.pageHeader.title"),class:j(y(i).e("icon"))},[De(s.$slots,"icon",{},()=>[s.icon?(H(),Ue(y(Xt),{key:0},{default:J(()=>[(H(),Ue(cr(s.icon)))]),_:1})):Be("v-if",!0)])],10,["aria-label"])):Be("v-if",!0),I("div",{class:j(y(i).e("title"))},[De(s.$slots,"title",{},()=>[$n(nt(s.title||y(r)("el.pageHeader.title")),1)])],2)],2),z(y(mme),{direction:"vertical"}),I("div",{class:j(y(i).e("content"))},[De(s.$slots,"content",{},()=>[$n(nt(s.content),1)])],2)],2),s.$slots.extra?(H(),Q("div",{key:0,class:j(y(i).e("extra"))},[De(s.$slots,"extra")],2)):Be("v-if",!0)],2),s.$slots.default?(H(),Q("div",{key:1,class:j(y(i).e("main"))},[De(s.$slots,"default")],2)):Be("v-if",!0)],2))}});var qGe=_t(KGe,[["__file","page-header.vue"]]);const ZGe=Un(qGe),Fme=Symbol("elPaginationKey"),QGe=gt({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Ci}}),JGe={click:e=>e instanceof MouseEvent},eje=le({name:"ElPaginationPrev"}),tje=le({...eje,props:QGe,emits:JGe,setup(e){const t=e,{t:n}=Lr(),r=$(()=>t.disabled||t.currentPage<=1);return(i,a)=>(H(),Q("button",{type:"button",class:"btn-prev",disabled:y(r),"aria-label":i.prevText||y(n)("el.pagination.prev"),"aria-disabled":y(r),onClick:o=>i.$emit("click",o)},[i.prevText?(H(),Q("span",{key:0},nt(i.prevText),1)):(H(),Ue(y(Xt),{key:1},{default:J(()=>[(H(),Ue(cr(i.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var nje=_t(tje,[["__file","prev.vue"]]);const rje=gt({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Ci}}),ije=le({name:"ElPaginationNext"}),aje=le({...ije,props:rje,emits:["click"],setup(e){const t=e,{t:n}=Lr(),r=$(()=>t.disabled||t.currentPage===t.pageCount||t.pageCount===0);return(i,a)=>(H(),Q("button",{type:"button",class:"btn-next",disabled:y(r),"aria-label":i.nextText||y(n)("el.pagination.next"),"aria-disabled":y(r),onClick:o=>i.$emit("click",o)},[i.nextText?(H(),Q("span",{key:0},nt(i.nextText),1)):(H(),Ue(y(Xt),{key:1},{default:J(()=>[(H(),Ue(cr(i.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var oje=_t(aje,[["__file","next.vue"]]);const Ume=Symbol("ElSelectGroup"),Ax=Symbol("ElSelect");function sje(e,t){const n=$t(Ax),r=$t(Ume,{disabled:!1}),i=$(()=>c(Zs(n.props.modelValue),e.value)),a=$(()=>{var h;if(n.props.multiple){const p=Zs((h=n.props.modelValue)!=null?h:[]);return!i.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),o=$(()=>e.label||(nr(e.value)?"":e.value)),s=$(()=>e.value||e.label||""),l=$(()=>e.disabled||t.groupDisabled||a.value),u=or(),c=(h=[],p)=>{if(nr(e.value)){const v=n.props.valueKey;return h&&h.some(g=>Ii(Ja(g,v))===Ja(p,v))}else return h&&h.includes(p)},f=()=>{!e.disabled&&!r.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},d=h=>{const p=new RegExp(K$(h),"i");t.visible=p.test(o.value)||e.created};return tt(()=>o.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),tt(()=>e.value,(h,p)=>{const{remote:v,valueKey:g}=n.props;if(h!==p&&(n.onOptionDestroy(p,u.proxy),n.onOptionCreate(u.proxy)),!e.created&&!v){if(g&&nr(h)&&nr(p)&&h[g]===p[g])return;n.setSelected()}}),tt(()=>r.disabled,()=>{t.groupDisabled=r.disabled},{immediate:!0}),{select:n,currentLabel:o,currentValue:s,itemSelected:i,isDisabled:l,hoverItem:f,updateOption:d}}const lje=le({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=at("select"),n=vs(),r=$(()=>[t.be("dropdown","item"),t.is("disabled",y(s)),t.is("selected",y(o)),t.is("hovering",y(d))]),i=zn({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:o,isDisabled:s,select:l,hoverItem:u,updateOption:c}=sje(e,i),{visible:f,hover:d}=ts(i),h=or().proxy;l.onOptionCreate(h),Oi(()=>{const v=h.value,{selected:g}=l.states,m=g.some(b=>b.value===h.value);fn(()=>{l.states.cachedOptions.get(v)===h&&!m&&l.states.cachedOptions.delete(v)}),l.onOptionDestroy(v,h)});function p(){s.value||l.handleOptionSelect(h)}return{ns:t,id:n,containerKls:r,currentLabel:a,itemSelected:o,isDisabled:s,select:l,hoverItem:u,updateOption:c,visible:f,hover:d,selectOptionClick:p,states:i}}});function uje(e,t,n,r,i,a){return Wn((H(),Q("li",{id:e.id,class:j(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:e.hoverItem,onClick:xn(e.selectOptionClick,["stop"])},[De(e.$slots,"default",{},()=>[I("span",null,nt(e.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[Xr,e.visible]])}var dH=_t(lje,[["render",uje],["__file","option.vue"]]);const cje=le({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=$t(Ax),t=at("select"),n=$(()=>e.props.popperClass),r=$(()=>e.props.multiple),i=$(()=>e.props.fitInputWidth),a=Y("");function o(){var s;a.value=`${(s=e.selectRef)==null?void 0:s.offsetWidth}px`}return Tn(()=>{o(),oa(e.selectRef,o)}),{ns:t,minWidth:a,popperClass:n,isMultiple:r,isFitInputWidth:i}}});function fje(e,t,n,r,i,a){return H(),Q("div",{class:j([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:en({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(H(),Q("div",{key:0,class:j(e.ns.be("dropdown","header"))},[De(e.$slots,"header")],2)):Be("v-if",!0),De(e.$slots,"default"),e.$slots.footer?(H(),Q("div",{key:1,class:j(e.ns.be("dropdown","footer"))},[De(e.$slots,"footer")],2)):Be("v-if",!0)],6)}var dje=_t(cje,[["render",fje],["__file","select-dropdown.vue"]]);const hje=11,pje=(e,t)=>{const{t:n}=Lr(),r=vs(),i=at("select"),a=at("input"),o=zn({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),s=Y(null),l=Y(null),u=Y(null),c=Y(null),f=Y(null),d=Y(null),h=Y(null),p=Y(null),v=Y(null),g=Y(null),m=Y(null),b=Y(null),{isComposing:_,handleCompositionStart:x,handleCompositionUpdate:E,handleCompositionEnd:A}=XT({afterComposition:Rt=>En(Rt)}),{wrapperRef:T,isFocused:R,handleBlur:M}=Qg(f,{beforeFocus(){return F.value},afterFocus(){e.automaticDropdown&&!O.value&&(O.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(Rt){var wn,zr;return((wn=u.value)==null?void 0:wn.isFocusInsideContent(Rt))||((zr=c.value)==null?void 0:zr.isFocusInsideContent(Rt))},afterBlur(){O.value=!1,o.menuVisibleOnFocus=!1}}),O=Y(!1),D=Y(),{form:C,formItem:P}=Bs(),{inputId:B}=zc(e,{formItemContext:P}),{valueOnClear:U,isEmptyValue:L}=kD(e),F=$(()=>e.disabled||(C==null?void 0:C.disabled)),N=$(()=>pt(e.modelValue)?e.modelValue.length>0:!L(e.modelValue)),V=$(()=>{var Rt;return(Rt=C==null?void 0:C.statusIcon)!=null?Rt:!1}),W=$(()=>e.clearable&&!F.value&&o.inputHovering&&N.value),G=$(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),K=$(()=>i.is("reverse",G.value&&O.value)),q=$(()=>(P==null?void 0:P.validateState)||""),ue=$(()=>zD[q.value]),he=$(()=>e.remote?300:0),Ce=$(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!o.inputValue&&o.options.size===0?!1:e.filterable&&o.inputValue&&o.options.size>0&&ee.value===0?e.noMatchText||n("el.select.noMatch"):o.options.size===0?e.noDataText||n("el.select.noData"):null),ee=$(()=>de.value.filter(Rt=>Rt.visible).length),de=$(()=>{const Rt=Array.from(o.options.values()),wn=[];return o.optionValues.forEach(zr=>{const la=Rt.findIndex(Ya=>Ya.value===zr);la>-1&&wn.push(Rt[la])}),wn.length>=Rt.length?wn:Rt}),oe=$(()=>Array.from(o.cachedOptions.values())),pe=$(()=>{const Rt=de.value.filter(wn=>!wn.created).some(wn=>wn.currentLabel===o.inputValue);return e.filterable&&e.allowCreate&&o.inputValue!==""&&!Rt}),me=()=>{e.filterable&&on(e.filterMethod)||e.filterable&&e.remote&&on(e.remoteMethod)||de.value.forEach(Rt=>{var wn;(wn=Rt.updateOption)==null||wn.call(Rt,o.inputValue)})},re=oo(),ne=$(()=>["small"].includes(re.value)?"small":"default"),se=$({get(){return O.value&&Ce.value!==!1},set(Rt){O.value=Rt}}),be=$(()=>{if(e.multiple&&!mi(e.modelValue))return Zs(e.modelValue).length===0&&!o.inputValue;const Rt=pt(e.modelValue)?e.modelValue[0]:e.modelValue;return e.filterable||mi(Rt)?!o.inputValue:!0}),Pe=$(()=>{var Rt;const wn=(Rt=e.placeholder)!=null?Rt:n("el.select.placeholder");return e.multiple||!N.value?wn:o.selectedLabel}),Ee=$(()=>K7?null:"mouseenter");tt(()=>e.modelValue,(Rt,wn)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(o.inputValue="",Le("")),rt(),!ps(Rt,wn)&&e.validateEvent&&(P==null||P.validate("change").catch(zr=>void 0))},{flush:"post",deep:!0}),tt(()=>O.value,Rt=>{Rt?Le(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),t("visible-change",Rt)}),tt(()=>o.options.entries(),()=>{var Rt;if(!Pr)return;const wn=((Rt=s.value)==null?void 0:Rt.querySelectorAll("input"))||[];(!e.filterable&&!e.defaultFirstOption&&!mi(e.modelValue)||!Array.from(wn).includes(document.activeElement))&&rt(),e.defaultFirstOption&&(e.filterable||e.remote)&&ee.value&&He()},{flush:"post"}),tt(()=>o.hoveringIndex,Rt=>{gn(Rt)&&Rt>-1?D.value=de.value[Rt]||{}:D.value={},de.value.forEach(wn=>{wn.hover=D.value===wn})}),Is(()=>{o.isBeforeHide||me()});const Le=Rt=>{o.previousQuery===Rt||_.value||(o.previousQuery=Rt,e.filterable&&on(e.filterMethod)?e.filterMethod(Rt):e.filterable&&e.remote&&on(e.remoteMethod)&&e.remoteMethod(Rt),e.defaultFirstOption&&(e.filterable||e.remote)&&ee.value?fn(He):fn(ot))},He=()=>{const Rt=de.value.filter(Ya=>Ya.visible&&!Ya.disabled&&!Ya.states.groupDisabled),wn=Rt.find(Ya=>Ya.created),zr=Rt[0],la=de.value.map(Ya=>Ya.value);o.hoveringIndex=It(la,wn||zr)},rt=()=>{if(e.multiple)o.selectedLabel="";else{const wn=pt(e.modelValue)?e.modelValue[0]:e.modelValue,zr=Je(wn);o.selectedLabel=zr.currentLabel,o.selected=[zr];return}const Rt=[];mi(e.modelValue)||Zs(e.modelValue).forEach(wn=>{Rt.push(Je(wn))}),o.selected=Rt},Je=Rt=>{let wn;const zr=m2(Rt);for(let Do=o.cachedOptions.size-1;Do>=0;Do--){const Po=oe.value[Do];if(zr?Ja(Po.value,e.valueKey)===Ja(Rt,e.valueKey):Po.value===Rt){wn={value:Rt,currentLabel:Po.currentLabel,get isDisabled(){return Po.isDisabled}};break}}if(wn)return wn;const la=zr?Rt.label:Rt??"";return{value:Rt,currentLabel:la}},ot=()=>{o.hoveringIndex=de.value.findIndex(Rt=>o.selected.some(wn=>bu(wn)===bu(Rt)))},ae=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},Xe=()=>{o.calculatorWidth=d.value.getBoundingClientRect().width},Tt=()=>{o.collapseItemWidth=m.value.getBoundingClientRect().width},sn=()=>{var Rt,wn;(wn=(Rt=u.value)==null?void 0:Rt.updatePopper)==null||wn.call(Rt)},Mn=()=>{var Rt,wn;(wn=(Rt=c.value)==null?void 0:Rt.updatePopper)==null||wn.call(Rt)},Sn=()=>{o.inputValue.length>0&&!O.value&&(O.value=!0),Le(o.inputValue)},En=Rt=>{if(o.inputValue=Rt.target.value,e.remote)Gn();else return Sn()},Gn=yu(()=>{Sn()},he.value),_r=Rt=>{ps(e.modelValue,Rt)||t(wi,Rt)},We=Rt=>pve(Rt,wn=>{const zr=o.cachedOptions.get(wn);return zr&&!zr.disabled&&!zr.states.groupDisabled}),yt=Rt=>{if(e.multiple&&Rt.code!==kt.delete&&Rt.target.value.length<=0){const wn=Zs(e.modelValue).slice(),zr=We(wn);if(zr<0)return;const la=wn[zr];wn.splice(zr,1),t(Yn,wn),_r(wn),t("remove-tag",la)}},Re=(Rt,wn)=>{const zr=o.selected.indexOf(wn);if(zr>-1&&!F.value){const la=Zs(e.modelValue).slice();la.splice(zr,1),t(Yn,la),_r(la),t("remove-tag",wn.value)}Rt.stopPropagation(),Di()},ut=Rt=>{Rt.stopPropagation();const wn=e.multiple?[]:U.value;if(e.multiple)for(const zr of o.selected)zr.isDisabled&&wn.push(zr.value);t(Yn,wn),_r(wn),o.hoveringIndex=-1,O.value=!1,t("clear"),Di()},_e=Rt=>{var wn;if(e.multiple){const zr=Zs((wn=e.modelValue)!=null?wn:[]).slice(),la=It(zr,Rt);la>-1?zr.splice(la,1):(e.multipleLimit<=0||zr.length<e.multipleLimit)&&zr.push(Rt.value),t(Yn,zr),_r(zr),Rt.created&&Le(""),e.filterable&&!e.reserveKeyword&&(o.inputValue="")}else t(Yn,Rt.value),_r(Rt.value),O.value=!1;Di(),!O.value&&fn(()=>{Pn(Rt)})},It=(Rt=[],wn)=>mi(wn)?-1:nr(wn.value)?Rt.findIndex(zr=>ps(Ja(zr,e.valueKey),bu(wn))):Rt.indexOf(wn.value),Pn=Rt=>{var wn,zr,la,Ya,Do;const Po=pt(Rt)?Rt[0]:Rt;let os=null;if(Po!=null&&Po.value){const Fs=de.value.filter(xu=>xu.value===Po.value);Fs.length>0&&(os=Fs[0].$el)}if(u.value&&os){const Fs=(Ya=(la=(zr=(wn=u.value)==null?void 0:wn.popperRef)==null?void 0:zr.contentRef)==null?void 0:la.querySelector)==null?void 0:Ya.call(la,`.${i.be("dropdown","wrap")}`);Fs&&E$(Fs,os)}(Do=b.value)==null||Do.handleScroll()},pr=Rt=>{o.options.set(Rt.value,Rt),o.cachedOptions.set(Rt.value,Rt)},_i=(Rt,wn)=>{o.options.get(Rt)===wn&&o.options.delete(Rt)},lo=$(()=>{var Rt,wn;return(wn=(Rt=u.value)==null?void 0:Rt.popperRef)==null?void 0:wn.contentRef}),Ki=()=>{o.isBeforeHide=!1,fn(()=>Pn(o.selected))},Di=()=>{var Rt;(Rt=f.value)==null||Rt.focus()},br=()=>{var Rt;if(O.value){O.value=!1,fn(()=>{var wn;return(wn=f.value)==null?void 0:wn.blur()});return}(Rt=f.value)==null||Rt.blur()},ji=Rt=>{ut(Rt)},sd=Rt=>{if(O.value=!1,R.value){const wn=new FocusEvent("focus",Rt);fn(()=>M(wn))}},Ku=()=>{o.inputValue.length>0?o.inputValue="":O.value=!1},ld=()=>{F.value||(K7&&(o.inputHovering=!0),o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:O.value=!O.value)},Xc=()=>{if(!O.value)ld();else{const Rt=de.value[o.hoveringIndex];Rt&&!Rt.disabled&&!Rt.states.groupDisabled&&_e(Rt)}},bu=Rt=>nr(Rt.value)?Ja(Rt.value,e.valueKey):Rt.value,il=$(()=>de.value.filter(Rt=>Rt.visible).every(Rt=>Rt.disabled)),mh=$(()=>e.multiple?e.collapseTags?o.selected.slice(0,e.maxCollapseTags):o.selected:[]),Ul=$(()=>e.multiple?e.collapseTags?o.selected.slice(e.maxCollapseTags):[]:[]),qu=Rt=>{if(!O.value){O.value=!0;return}if(!(o.options.size===0||ee.value===0||_.value)&&!il.value){Rt==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):Rt==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const wn=de.value[o.hoveringIndex];(wn.disabled===!0||wn.states.groupDisabled===!0||!wn.visible)&&qu(Rt),fn(()=>Pn(D.value))}},Zu=()=>{if(!l.value)return 0;const Rt=window.getComputedStyle(l.value);return Number.parseFloat(Rt.gap||"6px")},na=$(()=>{const Rt=Zu();return{maxWidth:`${m.value&&e.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-Rt:o.selectionWidth}px`}}),ud=$(()=>({maxWidth:`${o.selectionWidth}px`})),yh=$(()=>({width:`${Math.max(o.calculatorWidth,hje)}px`}));return oa(l,ae),oa(d,Xe),oa(v,sn),oa(T,sn),oa(g,Mn),oa(m,Tt),Tn(()=>{rt()}),{inputId:B,contentId:r,nsSelect:i,nsInput:a,states:o,isFocused:R,expanded:O,optionsArray:de,hoverOption:D,selectSize:re,filteredOptionsCount:ee,resetCalculatorWidth:Xe,updateTooltip:sn,updateTagTooltip:Mn,debouncedOnInputChange:Gn,onInput:En,deletePrevTag:yt,deleteTag:Re,deleteSelected:ut,handleOptionSelect:_e,scrollToOption:Pn,hasModelValue:N,shouldShowPlaceholder:be,currentPlaceholder:Pe,mouseEnterEventName:Ee,needStatusIcon:V,showClose:W,iconComponent:G,iconReverse:K,validateState:q,validateIcon:ue,showNewOption:pe,updateOptions:me,collapseTagSize:ne,setSelected:rt,selectDisabled:F,emptyText:Ce,handleCompositionStart:x,handleCompositionUpdate:E,handleCompositionEnd:A,onOptionCreate:pr,onOptionDestroy:_i,handleMenuEnter:Ki,focus:Di,blur:br,handleClearClick:ji,handleClickOutside:sd,handleEsc:Ku,toggleMenu:ld,selectOption:Xc,getValueKey:bu,navigateOptions:qu,dropdownMenuVisible:se,showTagList:mh,collapseTagList:Ul,tagStyle:na,collapseTagStyle:ud,inputStyle:yh,popperRef:lo,inputRef:f,tooltipRef:u,tagTooltipRef:c,calculatorRef:d,prefixRef:h,suffixRef:p,selectRef:s,wrapperRef:T,selectionRef:l,scrollbarRef:b,menuRef:v,tagMenuRef:g,collapseItemRef:m}};var vje=le({name:"ElOptions",setup(e,{slots:t}){const n=$t(Ax);let r=[];return()=>{var i,a;const o=(i=t.default)==null?void 0:i.call(t),s=[];function l(u){pt(u)&&u.forEach(c=>{var f,d,h,p;const v=(f=(c==null?void 0:c.type)||{})==null?void 0:f.name;v==="ElOptionGroup"?l(!an(c.children)&&!pt(c.children)&&on((d=c.children)==null?void 0:d.default)?(h=c.children)==null?void 0:h.default():c.children):v==="ElOption"?s.push((p=c.props)==null?void 0:p.value):pt(c.children)&&l(c.children)})}return o.length&&l((a=o[0])==null?void 0:a.children),ps(s,r)||(r=s,n&&(n.states.optionValues=s)),o}}});const gje=gt({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:yo,effect:{type:Ie(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ie(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:jo.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ci,default:zp},fitInputWidth:Boolean,suffixIcon:{type:Ci,default:Vp},tagType:{...Tp.type,default:"info"},tagEffect:{...Tp.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Ie(String),values:$p,default:"bottom-start"},fallbackPlacements:{type:Ie(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,..._x,...gs(["ariaLabel"])}),Aq="ElSelect",mje=le({name:Aq,componentName:Aq,components:{ElSelectMenu:dje,ElOption:dH,ElOptions:vje,ElTag:dy,ElScrollbar:ch,ElTooltip:Ps,ElIcon:Xt},directives:{ClickOutside:wp},props:gje,emits:[Yn,wi,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const n=$(()=>{const{modelValue:o,multiple:s}=e,l=s?[]:void 0;return pt(o)?s?o:l:s?l:o}),r=zn({...ts(e),modelValue:n}),i=pje(r,t);mr(Ax,zn({props:r,states:i.states,optionsArray:i.optionsArray,handleOptionSelect:i.handleOptionSelect,onOptionCreate:i.onOptionCreate,onOptionDestroy:i.onOptionDestroy,selectRef:i.selectRef,setSelected:i.setSelected}));const a=$(()=>e.multiple?i.states.selected.map(o=>o.currentLabel):i.states.selectedLabel);return{...i,modelValue:n,selectedLabel:a}}});function yje(e,t,n,r,i,a){const o=ur("el-tag"),s=ur("el-tooltip"),l=ur("el-icon"),u=ur("el-option"),c=ur("el-options"),f=ur("el-scrollbar"),d=ur("el-select-menu"),h=TD("click-outside");return Wn((H(),Q("div",{ref:"selectRef",class:j([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),[DE(e.mouseEnterEventName)]:p=>e.states.inputHovering=!0,onMouseleave:p=>e.states.inputHovering=!1},[z(s,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:p=>e.states.isBeforeHide=!1},{default:J(()=>{var p;return[I("div",{ref:"wrapperRef",class:j([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:xn(e.toggleMenu,["prevent"])},[e.$slots.prefix?(H(),Q("div",{key:0,ref:"prefixRef",class:j(e.nsSelect.e("prefix"))},[De(e.$slots,"prefix")],2)):Be("v-if",!0),I("div",{ref:"selectionRef",class:j([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?De(e.$slots,"tag",{key:0},()=>[(H(!0),Q(St,null,Nn(e.showTagList,v=>(H(),Q("div",{key:e.getValueKey(v),class:j(e.nsSelect.e("selected-item"))},[z(o,{closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:en(e.tagStyle),onClose:g=>e.deleteTag(g,v)},{default:J(()=>[I("span",{class:j(e.nsSelect.e("tags-text"))},[De(e.$slots,"label",{label:v.currentLabel,value:v.value},()=>[$n(nt(v.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(H(),Ue(s,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:J(()=>[I("div",{ref:"collapseItemRef",class:j(e.nsSelect.e("selected-item"))},[z(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:en(e.collapseTagStyle)},{default:J(()=>[I("span",{class:j(e.nsSelect.e("tags-text"))}," + "+nt(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:J(()=>[I("div",{ref:"tagMenuRef",class:j(e.nsSelect.e("selection"))},[(H(!0),Q(St,null,Nn(e.collapseTagList,v=>(H(),Q("div",{key:e.getValueKey(v),class:j(e.nsSelect.e("selected-item"))},[z(o,{class:"in-tooltip",closable:!e.selectDisabled&&!v.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:g=>e.deleteTag(g,v)},{default:J(()=>[I("span",{class:j(e.nsSelect.e("tags-text"))},[De(e.$slots,"label",{label:v.currentLabel,value:v.value},()=>[$n(nt(v.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Be("v-if",!0)]):Be("v-if",!0),I("div",{class:j([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Wn(I("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":v=>e.states.inputValue=v,type:"text",name:e.name,class:j([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:en(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":((p=e.hoverOption)==null?void 0:p.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Mi(xn(v=>e.navigateOptions("next"),["stop","prevent"]),["down"]),Mi(xn(v=>e.navigateOptions("prev"),["stop","prevent"]),["up"]),Mi(xn(e.handleEsc,["stop","prevent"]),["esc"]),Mi(xn(e.selectOption,["stop","prevent"]),["enter"]),Mi(xn(e.deletePrevTag,["stop"]),["delete"])],onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onInput:e.onInput,onClick:xn(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[RD,e.states.inputValue]]),e.filterable?(H(),Q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:j(e.nsSelect.e("input-calculator")),textContent:nt(e.states.inputValue)},null,10,["textContent"])):Be("v-if",!0)],2),e.shouldShowPlaceholder?(H(),Q("div",{key:1,class:j([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?De(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[I("span",null,nt(e.currentPlaceholder),1)]):(H(),Q("span",{key:1},nt(e.currentPlaceholder),1))],2)):Be("v-if",!0)],2),I("div",{ref:"suffixRef",class:j(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClose?(H(),Ue(l,{key:0,class:j([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:J(()=>[(H(),Ue(cr(e.iconComponent)))]),_:1},8,["class"])):Be("v-if",!0),e.showClose&&e.clearIcon?(H(),Ue(l,{key:1,class:j([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:J(()=>[(H(),Ue(cr(e.clearIcon)))]),_:1},8,["class","onClick"])):Be("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(H(),Ue(l,{key:2,class:j([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:J(()=>[(H(),Ue(cr(e.validateIcon)))]),_:1},8,["class"])):Be("v-if",!0)],2)],10,["onClick"])]}),content:J(()=>[z(d,{ref:"menuRef"},{default:J(()=>[e.$slots.header?(H(),Q("div",{key:0,class:j(e.nsSelect.be("dropdown","header")),onClick:xn(()=>{},["stop"])},[De(e.$slots,"header")],10,["onClick"])):Be("v-if",!0),Wn(z(f,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:j([e.nsSelect.is("empty",e.filteredOptionsCount===0)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical"},{default:J(()=>[e.showNewOption?(H(),Ue(u,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):Be("v-if",!0),z(c,null,{default:J(()=>[De(e.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Xr,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(H(),Q("div",{key:1,class:j(e.nsSelect.be("dropdown","loading"))},[De(e.$slots,"loading")],2)):e.loading||e.filteredOptionsCount===0?(H(),Q("div",{key:2,class:j(e.nsSelect.be("dropdown","empty"))},[De(e.$slots,"empty",{},()=>[I("span",null,nt(e.emptyText),1)])],2)):Be("v-if",!0),e.$slots.footer?(H(),Q("div",{key:3,class:j(e.nsSelect.be("dropdown","footer")),onClick:xn(()=>{},["stop"])},[De(e.$slots,"footer")],10,["onClick"])):Be("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[h,e.handleClickOutside,e.popperRef]])}var _je=_t(mje,[["render",yje],["__file","select.vue"]]);const bje=le({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=at("select"),n=Y(null),r=or(),i=Y([]);mr(Ume,zn({...ts(e)}));const a=$(()=>i.value.some(u=>u.visible===!0)),o=u=>{var c,f;return((c=u.type)==null?void 0:c.name)==="ElOption"&&!!((f=u.component)!=null&&f.proxy)},s=u=>{const c=Zs(u),f=[];return c.forEach(d=>{var h,p;o(d)?f.push(d.component.proxy):(h=d.children)!=null&&h.length?f.push(...s(d.children)):(p=d.component)!=null&&p.subTree&&f.push(...s(d.component.subTree))}),f},l=()=>{i.value=s(r.subTree)};return Tn(()=>{l()}),xve(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:a,ns:t}}});function xje(e,t,n,r,i,a){return Wn((H(),Q("ul",{ref:"groupRef",class:j(e.ns.be("group","wrap"))},[I("li",{class:j(e.ns.be("group","title"))},nt(e.label),3),I("li",null,[I("ul",{class:j(e.ns.b("group"))},[De(e.$slots,"default")],2)])],2)),[[Xr,e.visible]])}var Vme=_t(bje,[["render",xje],["__file","option-group.vue"]]);const Cp=Un(_je,{Option:dH,OptionGroup:Vme}),Db=Aa(dH),Sje=Aa(Vme),hH=()=>$t(Fme,{}),Aje=gt({pageSize:{type:Number,required:!0},pageSizes:{type:Ie(Array),default:()=>xa([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:uh},appendSizeTo:String}),Eje=le({name:"ElPaginationSizes"}),Tje=le({...Eje,props:Aje,emits:["page-size-change"],setup(e,{emit:t}){const n=e,{t:r}=Lr(),i=at("pagination"),a=hH(),o=Y(n.pageSize);tt(()=>n.pageSizes,(u,c)=>{if(!ps(u,c)&&pt(u)){const f=u.includes(n.pageSize)?n.pageSize:n.pageSizes[0];t("page-size-change",f)}}),tt(()=>n.pageSize,u=>{o.value=u});const s=$(()=>n.pageSizes);function l(u){var c;u!==o.value&&(o.value=u,(c=a.handleSizeChange)==null||c.call(a,Number(u)))}return(u,c)=>(H(),Q("span",{class:j(y(i).e("sizes"))},[z(y(Cp),{"model-value":o.value,disabled:u.disabled,"popper-class":u.popperClass,size:u.size,teleported:u.teleported,"validate-event":!1,"append-to":u.appendSizeTo,onChange:l},{default:J(()=>[(H(!0),Q(St,null,Nn(y(s),f=>(H(),Ue(y(Db),{key:f,value:f,label:f+y(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var wje=_t(Tje,[["__file","sizes.vue"]]);const Cje=gt({size:{type:String,values:uh}}),Rje=le({name:"ElPaginationJumper"}),Ije=le({...Rje,props:Cje,setup(e){const{t}=Lr(),n=at("pagination"),{pageCount:r,disabled:i,currentPage:a,changeEvent:o}=hH(),s=Y(),l=$(()=>{var f;return(f=s.value)!=null?f:a==null?void 0:a.value});function u(f){s.value=f?+f:""}function c(f){f=Math.trunc(+f),o==null||o(f),s.value=void 0}return(f,d)=>(H(),Q("span",{class:j(y(n).e("jump")),disabled:y(i)},[I("span",{class:j([y(n).e("goto")])},nt(y(t)("el.pagination.goto")),3),z(y(da),{size:f.size,class:j([y(n).e("editor"),y(n).is("in-pagination")]),min:1,max:y(r),disabled:y(i),"model-value":y(l),"validate-event":!1,"aria-label":y(t)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value","aria-label"]),I("span",{class:j([y(n).e("classifier")])},nt(y(t)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var Mje=_t(Ije,[["__file","jumper.vue"]]);const Oje=gt({total:{type:Number,default:1e3}}),Dje=le({name:"ElPaginationTotal"}),Pje=le({...Dje,props:Oje,setup(e){const{t}=Lr(),n=at("pagination"),{disabled:r}=hH();return(i,a)=>(H(),Q("span",{class:j(y(n).e("total")),disabled:y(r)},nt(y(t)("el.pagination.total",{total:i.total})),11,["disabled"]))}});var Lje=_t(Pje,[["__file","total.vue"]]);const Nje=gt({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),Bje=le({name:"ElPaginationPager"}),kje=le({...Bje,props:Nje,emits:["change"],setup(e,{emit:t}){const n=e,r=at("pager"),i=at("icon"),{t:a}=Lr(),o=Y(!1),s=Y(!1),l=Y(!1),u=Y(!1),c=Y(!1),f=Y(!1),d=$(()=>{const x=n.pagerCount,E=(x-1)/2,A=Number(n.currentPage),T=Number(n.pageCount);let R=!1,M=!1;T>x&&(A>x-E&&(R=!0),A<T-E&&(M=!0));const O=[];if(R&&!M){const D=T-(x-2);for(let C=D;C<T;C++)O.push(C)}else if(!R&&M)for(let D=2;D<x;D++)O.push(D);else if(R&&M){const D=Math.floor(x/2)-1;for(let C=A-D;C<=A+D;C++)O.push(C)}else for(let D=2;D<T;D++)O.push(D);return O}),h=$(()=>["more","btn-quickprev",i.b(),r.is("disabled",n.disabled)]),p=$(()=>["more","btn-quicknext",i.b(),r.is("disabled",n.disabled)]),v=$(()=>n.disabled?-1:0);Is(()=>{const x=(n.pagerCount-1)/2;o.value=!1,s.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-x&&(o.value=!0),n.currentPage<n.pageCount-x&&(s.value=!0))});function g(x=!1){n.disabled||(x?l.value=!0:u.value=!0)}function m(x=!1){x?c.value=!0:f.value=!0}function b(x){const E=x.target;if(E.tagName.toLowerCase()==="li"&&Array.from(E.classList).includes("number")){const A=Number(E.textContent);A!==n.currentPage&&t("change",A)}else E.tagName.toLowerCase()==="li"&&Array.from(E.classList).includes("more")&&_(x)}function _(x){const E=x.target;if(E.tagName.toLowerCase()==="ul"||n.disabled)return;let A=Number(E.textContent);const T=n.pageCount,R=n.currentPage,M=n.pagerCount-2;E.className.includes("more")&&(E.className.includes("quickprev")?A=R-M:E.className.includes("quicknext")&&(A=R+M)),Number.isNaN(+A)||(A<1&&(A=1),A>T&&(A=T)),A!==R&&t("change",A)}return(x,E)=>(H(),Q("ul",{class:j(y(r).b()),onClick:_,onKeyup:Mi(b,["enter"])},[x.pageCount>0?(H(),Q("li",{key:0,class:j([[y(r).is("active",x.currentPage===1),y(r).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===1,"aria-label":y(a)("el.pagination.currentPage",{pager:1}),tabindex:y(v)}," 1 ",10,["aria-current","aria-label","tabindex"])):Be("v-if",!0),o.value?(H(),Q("li",{key:1,class:j(y(h)),tabindex:y(v),"aria-label":y(a)("el.pagination.prevPages",{pager:x.pagerCount-2}),onMouseenter:A=>g(!0),onMouseleave:A=>l.value=!1,onFocus:A=>m(!0),onBlur:A=>c.value=!1},[(l.value||c.value)&&!x.disabled?(H(),Ue(y(Lg),{key:0})):(H(),Ue(y(hK),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Be("v-if",!0),(H(!0),Q(St,null,Nn(y(d),A=>(H(),Q("li",{key:A,class:j([[y(r).is("active",x.currentPage===A),y(r).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===A,"aria-label":y(a)("el.pagination.currentPage",{pager:A}),tabindex:y(v)},nt(A),11,["aria-current","aria-label","tabindex"]))),128)),s.value?(H(),Q("li",{key:2,class:j(y(p)),tabindex:y(v),"aria-label":y(a)("el.pagination.nextPages",{pager:x.pagerCount-2}),onMouseenter:A=>g(),onMouseleave:A=>u.value=!1,onFocus:A=>m(),onBlur:A=>f.value=!1},[(u.value||f.value)&&!x.disabled?(H(),Ue(y(Ng),{key:0})):(H(),Ue(y(hK),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Be("v-if",!0),x.pageCount>1?(H(),Q("li",{key:3,class:j([[y(r).is("active",x.currentPage===x.pageCount),y(r).is("disabled",x.disabled)],"number"]),"aria-current":x.currentPage===x.pageCount,"aria-label":y(a)("el.pagination.currentPage",{pager:x.pageCount}),tabindex:y(v)},nt(x.pageCount),11,["aria-current","aria-label","tabindex"])):Be("v-if",!0)],42,["onKeyup"]))}});var Fje=_t(kje,[["__file","pager.vue"]]);const fl=e=>typeof e!="number",Uje=gt({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>gn(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Ie(Array),default:()=>xa([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Ci,default:()=>Pg},nextText:{type:String,default:""},nextIcon:{type:Ci,default:()=>Cl},teleported:{type:Boolean,default:!0},small:Boolean,size:yo,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),Vje={"update:current-page":e=>gn(e),"update:page-size":e=>gn(e),"size-change":e=>gn(e),change:(e,t)=>gn(e)&&gn(t),"current-change":e=>gn(e),"prev-click":e=>gn(e),"next-click":e=>gn(e)},Eq="ElPagination";var zje=le({name:Eq,props:Uje,emits:Vje,setup(e,{emit:t,slots:n}){const{t:r}=Lr(),i=at("pagination"),a=or().vnode.props||{},o=Rve(),s=$(()=>{var E;return e.small?"small":(E=e.size)!=null?E:o.value});yg({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},$(()=>!!e.small));const l="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,u="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,c=$(()=>{if(fl(e.total)&&fl(e.pageCount)||!fl(e.currentPage)&&!l)return!1;if(e.layout.includes("sizes")){if(fl(e.pageCount)){if(!fl(e.total)&&!fl(e.pageSize)&&!u)return!1}else if(!u)return!1}return!0}),f=Y(fl(e.defaultPageSize)?10:e.defaultPageSize),d=Y(fl(e.defaultCurrentPage)?1:e.defaultCurrentPage),h=$({get(){return fl(e.pageSize)?f.value:e.pageSize},set(E){fl(e.pageSize)&&(f.value=E),u&&(t("update:page-size",E),t("size-change",E))}}),p=$(()=>{let E=0;return fl(e.pageCount)?fl(e.total)||(E=Math.max(1,Math.ceil(e.total/h.value))):E=e.pageCount,E}),v=$({get(){return fl(e.currentPage)?d.value:e.currentPage},set(E){let A=E;E<1?A=1:E>p.value&&(A=p.value),fl(e.currentPage)&&(d.value=A),l&&(t("update:current-page",A),t("current-change",A))}});tt(p,E=>{v.value>E&&(v.value=E)}),tt([v,h],E=>{t("change",...E)},{flush:"post"});function g(E){v.value=E}function m(E){h.value=E;const A=p.value;v.value>A&&(v.value=A)}function b(){e.disabled||(v.value-=1,t("prev-click",v.value))}function _(){e.disabled||(v.value+=1,t("next-click",v.value))}function x(E,A){E&&(E.props||(E.props={}),E.props.class=[E.props.class,A].join(" "))}return mr(Fme,{pageCount:p,disabled:$(()=>e.disabled),currentPage:v,changeEvent:g,handleSizeChange:m}),()=>{var E,A;if(!c.value)return r("el.pagination.deprecationWarning"),null;if(!e.layout||e.hideOnSinglePage&&p.value<=1)return null;const T=[],R=[],M=pn("div",{class:i.e("rightwrapper")},R),O={prev:pn(nje,{disabled:e.disabled,currentPage:v.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:b}),jumper:pn(Mje,{size:s.value}),pager:pn(Fje,{currentPage:v.value,pageCount:p.value,pagerCount:e.pagerCount,onChange:g,disabled:e.disabled}),next:pn(oje,{disabled:e.disabled,currentPage:v.value,pageCount:p.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:_}),sizes:pn(wje,{pageSize:h.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:s.value,appendSizeTo:e.appendSizeTo}),slot:(A=(E=n==null?void 0:n.default)==null?void 0:E.call(n))!=null?A:null,total:pn(Lje,{total:fl(e.total)?0:e.total})},D=e.layout.split(",").map(P=>P.trim());let C=!1;return D.forEach(P=>{if(P==="->"){C=!0;return}C?R.push(O[P]):T.push(O[P])}),x(T[0],i.is("first")),x(T[T.length-1],i.is("last")),C&&R.length>0&&(x(R[0],i.is("first")),x(R[R.length-1],i.is("last")),T.push(M)),pn("div",{class:[i.b(),i.is("background",e.background),i.m(s.value)]},T)}}});const QT=Un(zje),$je=gt({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Q7,default:"primary"},cancelButtonType:{type:String,values:Q7,default:"text"},icon:{type:Ci,default:()=>Rke},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:jo.teleported,persistent:jo.persistent,width:{type:[String,Number],default:150}}),Hje={confirm:e=>e instanceof MouseEvent,cancel:e=>e instanceof MouseEvent},Wje=le({name:"ElPopconfirm"}),Gje=le({...Wje,props:$je,emits:Hje,setup(e,{emit:t}){const n=e,{t:r}=Lr(),i=at("popconfirm"),a=Y(),o=()=>{var d,h;(h=(d=a.value)==null?void 0:d.onClose)==null||h.call(d)},s=$(()=>({width:Na(n.width)})),l=d=>{t("confirm",d),o()},u=d=>{t("cancel",d),o()},c=$(()=>n.confirmButtonText||r("el.popconfirm.confirmButtonText")),f=$(()=>n.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(d,h)=>(H(),Ue(y(Ps),dr({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},d.$attrs,{"popper-class":`${y(i).namespace.value}-popover`,"popper-style":y(s),teleported:d.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":d.hideAfter,persistent:d.persistent}),{content:J(()=>[I("div",{class:j(y(i).b())},[I("div",{class:j(y(i).e("main"))},[!d.hideIcon&&d.icon?(H(),Ue(y(Xt),{key:0,class:j(y(i).e("icon")),style:en({color:d.iconColor})},{default:J(()=>[(H(),Ue(cr(d.icon)))]),_:1},8,["class","style"])):Be("v-if",!0),$n(" "+nt(d.title),1)],2),I("div",{class:j(y(i).e("action"))},[De(d.$slots,"actions",{confirm:l,cancel:u},()=>[z(y(sa),{size:"small",type:d.cancelButtonType==="text"?"":d.cancelButtonType,text:d.cancelButtonType==="text",onClick:u},{default:J(()=>[$n(nt(y(f)),1)]),_:1},8,["type","text"]),z(y(sa),{size:"small",type:d.confirmButtonType==="text"?"":d.confirmButtonType,text:d.confirmButtonType==="text",onClick:l},{default:J(()=>[$n(nt(y(c)),1)]),_:1},8,["type","text"])])],2)],2)]),default:J(()=>[d.$slots.reference?De(d.$slots,"reference",{key:0}):Be("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var jje=_t(Gje,[["__file","popconfirm.vue"]]);const Yje=Un(jje),Xje=gt({trigger:D2.trigger,placement:s3.placement,disabled:D2.disabled,visible:jo.visible,transition:jo.transition,popperOptions:s3.popperOptions,tabindex:s3.tabindex,content:jo.content,popperStyle:jo.popperStyle,popperClass:jo.popperClass,enterable:{...jo.enterable,default:!0},effect:{...jo.effect,default:"light"},teleported:jo.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),Kje={"update:visible":e=>Bi(e),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},qje="onUpdate:visible",Zje=le({name:"ElPopover"}),Qje=le({...Zje,props:Xje,emits:Kje,setup(e,{expose:t,emit:n}){const r=e,i=$(()=>r[qje]),a=at("popover"),o=Y(),s=$(()=>{var g;return(g=y(o))==null?void 0:g.popperRef}),l=$(()=>[{width:Na(r.width)},r.popperStyle]),u=$(()=>[a.b(),r.popperClass,{[a.m("plain")]:!!r.content}]),c=$(()=>r.transition===`${a.namespace.value}-fade-in-linear`),f=()=>{var g;(g=o.value)==null||g.hide()},d=()=>{n("before-enter")},h=()=>{n("before-leave")},p=()=>{n("after-enter")},v=()=>{n("update:visible",!1),n("after-leave")};return t({popperRef:s,hide:f}),(g,m)=>(H(),Ue(y(Ps),dr({ref_key:"tooltipRef",ref:o},g.$attrs,{trigger:g.trigger,placement:g.placement,disabled:g.disabled,visible:g.visible,transition:g.transition,"popper-options":g.popperOptions,tabindex:g.tabindex,content:g.content,offset:g.offset,"show-after":g.showAfter,"hide-after":g.hideAfter,"auto-close":g.autoClose,"show-arrow":g.showArrow,"aria-label":g.title,effect:g.effect,enterable:g.enterable,"popper-class":y(u),"popper-style":y(l),teleported:g.teleported,persistent:g.persistent,"gpu-acceleration":y(c),"onUpdate:visible":y(i),onBeforeShow:d,onBeforeHide:h,onShow:p,onHide:v}),{content:J(()=>[g.title?(H(),Q("div",{key:0,class:j(y(a).e("title")),role:"title"},nt(g.title),3)):Be("v-if",!0),De(g.$slots,"default",{},()=>[$n(nt(g.content),1)])]),default:J(()=>[g.$slots.reference?De(g.$slots,"reference",{key:0}):Be("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var Jje=_t(Qje,[["__file","popover.vue"]]);const Tq=(e,t)=>{const n=t.arg||t.value,r=n==null?void 0:n.popperRef;r&&(r.triggerRef=e)};var eYe={mounted(e,t){Tq(e,t)},updated(e,t){Tq(e,t)}};const tYe="popover",zme=N6e(eYe,tYe),nYe=Un(Jje,{directive:zme}),rYe=gt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Ie(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Ie([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Ie(Function),default:e=>`${e}%`}}),iYe=le({name:"ElProgress"}),aYe=le({...iYe,props:rYe,setup(e){const t=e,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=at("progress"),i=$(()=>{const _={width:`${t.percentage}%`,animationDuration:`${t.duration}s`},x=b(t.percentage);return x.includes("gradient")?_.background=x:_.backgroundColor=x,_}),a=$(()=>(t.strokeWidth/t.width*100).toFixed(1)),o=$(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),s=$(()=>{const _=o.value,x=t.type==="dashboard";return`
          M 50 50
          m 0 ${x?"":"-"}${_}
          a ${_} ${_} 0 1 1 0 ${x?"-":""}${_*2}
          a ${_} ${_} 0 1 1 0 ${x?"":"-"}${_*2}
          `}),l=$(()=>2*Math.PI*o.value),u=$(()=>t.type==="dashboard"?.75:1),c=$(()=>`${-1*l.value*(1-u.value)/2}px`),f=$(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value})),d=$(()=>({strokeDasharray:`${l.value*u.value*(t.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=$(()=>{let _;return t.color?_=b(t.percentage):_=n[t.status]||n.default,_}),p=$(()=>t.status==="warning"?VD:t.type==="line"?t.status==="success"?w$:zp:t.status==="success"?jT:Yf),v=$(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),g=$(()=>t.format(t.percentage));function m(_){const x=100/_.length;return _.map((A,T)=>an(A)?{color:A,percentage:(T+1)*x}:A).sort((A,T)=>A.percentage-T.percentage)}const b=_=>{var x;const{color:E}=t;if(on(E))return E(_);if(an(E))return E;{const A=m(E);for(const T of A)if(T.percentage>_)return T.color;return(x=A[A.length-1])==null?void 0:x.color}};return(_,x)=>(H(),Q("div",{class:j([y(r).b(),y(r).m(_.type),y(r).is(_.status),{[y(r).m("without-text")]:!_.showText,[y(r).m("text-inside")]:_.textInside}]),role:"progressbar","aria-valuenow":_.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[_.type==="line"?(H(),Q("div",{key:0,class:j(y(r).b("bar"))},[I("div",{class:j(y(r).be("bar","outer")),style:en({height:`${_.strokeWidth}px`})},[I("div",{class:j([y(r).be("bar","inner"),{[y(r).bem("bar","inner","indeterminate")]:_.indeterminate},{[y(r).bem("bar","inner","striped")]:_.striped},{[y(r).bem("bar","inner","striped-flow")]:_.stripedFlow}]),style:en(y(i))},[(_.showText||_.$slots.default)&&_.textInside?(H(),Q("div",{key:0,class:j(y(r).be("bar","innerText"))},[De(_.$slots,"default",{percentage:_.percentage},()=>[I("span",null,nt(y(g)),1)])],2)):Be("v-if",!0)],6)],6)],2)):(H(),Q("div",{key:1,class:j(y(r).b("circle")),style:en({height:`${_.width}px`,width:`${_.width}px`})},[(H(),Q("svg",{viewBox:"0 0 100 100"},[I("path",{class:j(y(r).be("circle","track")),d:y(s),stroke:`var(${y(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":_.strokeLinecap,"stroke-width":y(a),fill:"none",style:en(y(f))},null,14,["d","stroke","stroke-linecap","stroke-width"]),I("path",{class:j(y(r).be("circle","path")),d:y(s),stroke:y(h),fill:"none",opacity:_.percentage?1:0,"stroke-linecap":_.strokeLinecap,"stroke-width":y(a),style:en(y(d))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(_.showText||_.$slots.default)&&!_.textInside?(H(),Q("div",{key:2,class:j(y(r).e("text")),style:en({fontSize:`${y(v)}px`})},[De(_.$slots,"default",{percentage:_.percentage},()=>[_.status?(H(),Ue(y(Xt),{key:1},{default:J(()=>[(H(),Ue(cr(y(p))))]),_:1})):(H(),Q("span",{key:0},nt(y(g)),1))])],6)):Be("v-if",!0)],10,["aria-valuenow"]))}});var oYe=_t(aYe,[["__file","progress.vue"]]);const $me=Un(oYe),sYe=gt({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Ie([Array,Object]),default:()=>xa(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Ie([Array,Object]),default:()=>[JC,JC,JC]},voidIcon:{type:Ci,default:()=>$ke},disabledVoidIcon:{type:Ci,default:()=>JC},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Ie(Array),default:()=>xa(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:yo,clearable:Boolean,...gs(["ariaLabel"])}),lYe={[wi]:e=>gn(e),[Yn]:e=>gn(e)},uYe=le({name:"ElRate"}),cYe=le({...uYe,props:sYe,emits:lYe,setup(e,{expose:t,emit:n}){const r=e;function i(L,F){const N=G=>nr(G),V=Object.keys(F).map(G=>+G).filter(G=>{const K=F[G];return(N(K)?K.excluded:!1)?L<G:L<=G}).sort((G,K)=>G-K),W=F[V[0]];return N(W)&&W.value||W}const a=$t(Ny,void 0),o=$t(Jd,void 0),s=oo(),l=at("rate"),{inputId:u,isLabeledByFormItem:c}=zc(r,{formItemContext:o}),f=Y(r.modelValue),d=Y(-1),h=Y(!0),p=$(()=>[l.b(),l.m(s.value)]),v=$(()=>r.disabled||(a==null?void 0:a.disabled)),g=$(()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":x.value})),m=$(()=>{let L="";return r.showScore?L=r.scoreTemplate.replace(/\{\s*value\s*\}/,v.value?`${r.modelValue}`:`${f.value}`):r.showText&&(L=r.texts[Math.ceil(f.value)-1]),L}),b=$(()=>r.modelValue*100-Math.floor(r.modelValue)*100),_=$(()=>pt(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),x=$(()=>{const L=i(f.value,_.value);return nr(L)?"":L}),E=$(()=>{let L="";return v.value?L=`${b.value}%`:r.allowHalf&&(L="50%"),{color:x.value,width:L}}),A=$(()=>{let L=pt(r.icons)?[...r.icons]:{...r.icons};return L=pp(L),pt(L)?{[r.lowThreshold]:L[0],[r.highThreshold]:{value:L[1],excluded:!0},[r.max]:L[2]}:L}),T=$(()=>i(r.modelValue,A.value)),R=$(()=>v.value?an(r.disabledVoidIcon)?r.disabledVoidIcon:pp(r.disabledVoidIcon):an(r.voidIcon)?r.voidIcon:pp(r.voidIcon)),M=$(()=>i(f.value,A.value));function O(L){const F=v.value&&b.value>0&&L-1<r.modelValue&&L>r.modelValue,N=r.allowHalf&&h.value&&L-.5<=f.value&&L>f.value;return F||N}function D(L){r.clearable&&L===r.modelValue&&(L=0),n(Yn,L),r.modelValue!==L&&n("change",L)}function C(L){v.value||(r.allowHalf&&h.value?D(f.value):D(L))}function P(L){if(v.value)return;let F=f.value;const N=L.code;return N===kt.up||N===kt.right?(r.allowHalf?F+=.5:F+=1,L.stopPropagation(),L.preventDefault()):(N===kt.left||N===kt.down)&&(r.allowHalf?F-=.5:F-=1,L.stopPropagation(),L.preventDefault()),F=F<0?0:F,F=F>r.max?r.max:F,n(Yn,F),n("change",F),F}function B(L,F){if(!v.value){if(r.allowHalf&&F){let N=F.target;pu(N,l.e("item"))&&(N=N.querySelector(`.${l.e("icon")}`)),(N.clientWidth===0||pu(N,l.e("decimal")))&&(N=N.parentNode),h.value=F.offsetX*2<=N.clientWidth,f.value=h.value?L-.5:L}else f.value=L;d.value=L}}function U(){v.value||(r.allowHalf&&(h.value=r.modelValue!==Math.floor(r.modelValue)),f.value=r.modelValue,d.value=-1)}return tt(()=>r.modelValue,L=>{f.value=L,h.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||n(Yn,0),t({setCurrentValue:B,resetCurrentValue:U}),(L,F)=>{var N;return H(),Q("div",{id:y(u),class:j([y(p),y(l).is("disabled",y(v))]),role:"slider","aria-label":y(c)?void 0:L.ariaLabel||"rating","aria-labelledby":y(c)?(N=y(o))==null?void 0:N.labelId:void 0,"aria-valuenow":f.value,"aria-valuetext":y(m)||void 0,"aria-valuemin":"0","aria-valuemax":L.max,tabindex:"0",style:en(y(g)),onKeydown:P},[(H(!0),Q(St,null,Nn(L.max,(V,W)=>(H(),Q("span",{key:W,class:j(y(l).e("item")),onMousemove:G=>B(V,G),onMouseleave:U,onClick:G=>C(V)},[z(y(Xt),{class:j([y(l).e("icon"),{hover:d.value===V},y(l).is("active",V<=f.value)])},{default:J(()=>[O(V)?Be("v-if",!0):(H(),Q(St,{key:0},[Wn((H(),Ue(cr(y(M)),null,null,512)),[[Xr,V<=f.value]]),Wn((H(),Ue(cr(y(R)),null,null,512)),[[Xr,!(V<=f.value)]])],64)),O(V)?(H(),Q(St,{key:1},[(H(),Ue(cr(y(R)),{class:j([y(l).em("decimal","box")])},null,8,["class"])),z(y(Xt),{style:en(y(E)),class:j([y(l).e("icon"),y(l).e("decimal")])},{default:J(()=>[(H(),Ue(cr(y(T))))]),_:1},8,["style","class"])],64)):Be("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),L.showText||L.showScore?(H(),Q("span",{key:0,class:j(y(l).e("text")),style:en({color:L.textColor})},nt(y(m)),7)):Be("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var fYe=_t(cYe,[["__file","rate.vue"]]);const dYe=Un(fYe),L1={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},wq={[L1.success]:eke,[L1.warning]:VD,[L1.error]:C$,[L1.info]:R$},hYe=gt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),pYe=le({name:"ElResult"}),vYe=le({...pYe,props:hYe,setup(e){const t=e,n=at("result"),r=$(()=>{const i=t.icon,a=i&&L1[i]?L1[i]:"icon-info",o=wq[a]||wq["icon-info"];return{class:a,component:o}});return(i,a)=>(H(),Q("div",{class:j(y(n).b())},[I("div",{class:j(y(n).e("icon"))},[De(i.$slots,"icon",{},()=>[y(r).component?(H(),Ue(cr(y(r).component),{key:0,class:j(y(r).class)},null,8,["class"])):Be("v-if",!0)])],2),i.title||i.$slots.title?(H(),Q("div",{key:0,class:j(y(n).e("title"))},[De(i.$slots,"title",{},()=>[I("p",null,nt(i.title),1)])],2)):Be("v-if",!0),i.subTitle||i.$slots["sub-title"]?(H(),Q("div",{key:1,class:j(y(n).e("subtitle"))},[De(i.$slots,"sub-title",{},()=>[I("p",null,nt(i.subTitle),1)])],2)):Be("v-if",!0),i.$slots.extra?(H(),Q("div",{key:2,class:j(y(n).e("extra"))},[De(i.$slots,"extra")],2)):Be("v-if",!0)],2))}});var gYe=_t(vYe,[["__file","result.vue"]]);const mYe=Un(gYe),yYe=["start","center","end","space-around","space-between","space-evenly"],_Ye=["top","middle","bottom"],bYe=gt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:yYe,default:"start"},align:{type:String,values:_Ye}}),xYe=le({name:"ElRow"}),SYe=le({...xYe,props:bYe,setup(e){const t=e,n=at("row"),r=$(()=>t.gutter);mr(Gge,{gutter:r});const i=$(()=>{const o={};return t.gutter&&(o.marginRight=o.marginLeft=`-${t.gutter/2}px`),o}),a=$(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,!!t.align)]);return(o,s)=>(H(),Ue(cr(o.tag),{class:j(y(a)),style:en(y(i))},{default:J(()=>[De(o.$slots,"default")]),_:3},8,["class","style"]))}});var AYe=_t(SYe,[["__file","row.vue"]]);const EYe=Un(AYe),TYe=le({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:at("select")}}});function wYe(e,t,n,r,i,a){return H(),Q("div",{class:j(e.ns.be("group","title")),style:en({...e.style,lineHeight:`${e.height}px`})},nt(e.item.label),7)}var CYe=_t(TYe,[["render",wYe],["__file","group-item.vue"]]);function RYe(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}const Hme={label:"label",value:"value",disabled:"disabled",options:"options"};function qD(e){const t=$(()=>({...Hme,...e.props}));return{aliasProps:t,getLabel:o=>Ja(o,t.value.label),getValue:o=>Ja(o,t.value.value),getDisabled:o=>Ja(o,t.value.disabled),getOptions:o=>Ja(o,t.value.options)}}const IYe=gt({allowCreate:Boolean,autocomplete:{type:Ie(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Ci,default:zp},effect:{type:Ie(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Ie([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Ie(Array),required:!0},placeholder:{type:String},teleported:jo.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Ie(Object),default:()=>({})},remote:Boolean,size:yo,props:{type:Ie(Object),default:()=>Hme},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:Ie(String),values:$p,default:"bottom-start"},fallbackPlacements:{type:Ie(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Tp.type,default:"info"},tagEffect:{...Tp.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,..._x,...gs(["ariaLabel"])}),MYe=gt({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Ie(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),OYe={[Yn]:e=>!0,[wi]:e=>!0,"remove-tag":e=>!0,"visible-change":e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0},DYe={hover:e=>gn(e),select:(e,t)=>!0},pH=Symbol("ElSelectV2Injection"),PYe=le({props:MYe,emits:DYe,setup(e,{emit:t}){const n=$t(pH),r=at("select"),{hoverItem:i,selectOptionClick:a}=RYe(e,{emit:t}),{getLabel:o}=qD(n.props);return{ns:r,hoverItem:i,selectOptionClick:a,getLabel:o}}});function LYe(e,t,n,r,i,a){return H(),Q("li",{"aria-selected":e.selected,style:en(e.style),class:j([e.ns.be("dropdown","item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),e.ns.is("hovering",e.hovering)]),onMousemove:e.hoverItem,onClick:xn(e.selectOptionClick,["stop"])},[De(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[I("span",null,nt(e.getLabel(e.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var NYe=_t(PYe,[["render",LYe],["__file","option-item.vue"]]),Cq=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function BYe(e,t){return!!(e===t||Cq(e)&&Cq(t))}function kYe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!BYe(e[n],t[n]))return!1;return!0}function FYe(e,t){t===void 0&&(t=kYe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const Wme=()=>{const t=or().proxy.$props;return $(()=>{const n=(r,i,a)=>({});return t.perfMode?PD(n):FYe(n)})},_U=50,bM="itemRendered",xM="scroll",N1="forward",SM="backward",Ic="auto",ZD="smart",B2="start",zd="center",k2="end",Pb="horizontal",vH="vertical",UYe="ltr",nb="rtl",F2="negative",gH="positive-ascending",mH="positive-descending",VYe={[Pb]:"left",[vH]:"top"},zYe=20,$Ye={[Pb]:"deltaX",[vH]:"deltaY"},HYe=({atEndEdge:e,atStartEdge:t,layout:n},r)=>{let i,a=0;const o=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:o,onWheel:l=>{fy(i);const u=l[$Ye[n.value]];o(a)&&o(a+u)||(a+=u,$D()||l.preventDefault(),i=Dg(()=>{r(a),a=0}))}}},bU=td({type:Ie([Number,Function]),required:!0}),xU=td({type:Number}),SU=td({type:Number,default:2}),WYe=td({type:String,values:["ltr","rtl"],default:"ltr"}),AU=td({type:Number,default:0}),AM=td({type:Number,required:!0}),Gme=td({type:String,values:["horizontal","vertical"],default:vH}),jme=gt({className:{type:String,default:""},containerElement:{type:Ie([String,Object]),default:"div"},data:{type:Ie(Array),default:()=>xa([])},direction:WYe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Ie([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Yme=gt({cache:SU,estimatedItemSize:xU,layout:Gme,initScrollOffset:AU,total:AM,itemSize:bU,...jme}),EU={type:Number,default:6},Xme={type:Number,default:0},Kme={type:Number,default:2},Y0=gt({columnCache:SU,columnWidth:bU,estimatedColumnWidth:xU,estimatedRowHeight:xU,initScrollLeft:AU,initScrollTop:AU,itemKey:{type:Ie(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:SU,rowHeight:bU,totalColumn:AM,totalRow:AM,hScrollbarSize:EU,vScrollbarSize:EU,scrollbarStartGap:Xme,scrollbarEndGap:Kme,role:String,...jme}),qme=gt({alwaysOn:Boolean,class:String,layout:Gme,total:AM,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:EU,startGap:Xme,endGap:Kme,visible:Boolean}),M0=(e,t)=>e<t?N1:SM,U2=e=>e===UYe||e===nb||e===Pb,Rq=e=>e===nb;let $_=null;function EM(e=!1){if($_===null||e){const t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?$_=mH:(t.scrollLeft=1,t.scrollLeft===0?$_=F2:$_=gH),document.body.removeChild(t),$_}return $_}function GYe({move:e,size:t,bar:n},r){const i={},a=`translate${n.axis}(${e}px)`;return i[n.size]=t,i.transform=a,i.msTransform=a,i.webkitTransform=a,r==="horizontal"?i.height="100%":i.width="100%",i}const TU=le({name:"ElVirtualScrollBar",props:qme,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const n=$(()=>e.startGap+e.endGap),r=at("virtual-scrollbar"),i=at("scrollbar"),a=Y(),o=Y();let s=null,l=null;const u=zn({isDragging:!1,traveled:0}),c=$(()=>Hve[e.layout]),f=$(()=>e.clientSize-y(n)),d=$(()=>({position:"absolute",width:`${Pb===e.layout?f.value:e.scrollbarSize}px`,height:`${Pb===e.layout?e.scrollbarSize:f.value}px`,[VYe[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=$(()=>{const A=e.ratio,T=e.clientSize;if(A>=100)return Number.POSITIVE_INFINITY;if(A>=50)return A*T/100;const R=T/3;return Math.floor(Math.min(Math.max(A*T,zYe),R))}),p=$(()=>{if(!Number.isFinite(h.value))return{display:"none"};const A=`${h.value}px`;return GYe({bar:c.value,size:A,move:u.traveled},e.layout)}),v=$(()=>Math.floor(e.clientSize-h.value-y(n))),g=()=>{window.addEventListener("mousemove",x),window.addEventListener("mouseup",_);const A=y(o);A&&(l=document.onselectstart,document.onselectstart=()=>!1,A.addEventListener("touchmove",x,{passive:!0}),A.addEventListener("touchend",_))},m=()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",_),document.onselectstart=l,l=null;const A=y(o);A&&(A.removeEventListener("touchmove",x),A.removeEventListener("touchend",_))},b=A=>{A.stopImmediatePropagation(),!(A.ctrlKey||[1,2].includes(A.button))&&(u.isDragging=!0,u[c.value.axis]=A.currentTarget[c.value.offset]-(A[c.value.client]-A.currentTarget.getBoundingClientRect()[c.value.direction]),t("start-move"),g())},_=()=>{u.isDragging=!1,u[c.value.axis]=0,t("stop-move"),m()},x=A=>{const{isDragging:T}=u;if(!T||!o.value||!a.value)return;const R=u[c.value.axis];if(!R)return;fy(s);const M=(a.value.getBoundingClientRect()[c.value.direction]-A[c.value.client])*-1,O=o.value[c.value.offset]-R,D=M-O;s=Dg(()=>{u.traveled=Math.max(e.startGap,Math.min(D,v.value)),t("scroll",D,v.value)})},E=A=>{const T=Math.abs(A.target.getBoundingClientRect()[c.value.direction]-A[c.value.client]),R=o.value[c.value.offset]/2,M=T-R;u.traveled=Math.max(0,Math.min(M,v.value)),t("scroll",M,v.value)};return tt(()=>e.scrollFrom,A=>{u.isDragging||(u.traveled=Math.ceil(A*v.value))}),Oi(()=>{m()}),()=>pn("div",{role:"presentation",ref:a,class:[r.b(),e.class,(e.alwaysOn||u.isDragging)&&"always-on"],style:d.value,onMousedown:xn(E,["stop","prevent"]),onTouchstartPrevent:b},pn("div",{ref:o,class:i.e("thumb"),style:p.value,onMousedown:b},[]))}}),Zme=({name:e,getOffset:t,getItemSize:n,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:a,getStopIndexForStartIndex:o,initCache:s,clearCache:l,validateProps:u})=>le({name:e??"ElVirtualList",props:Yme,emits:[bM,xM],setup(c,{emit:f,expose:d}){u(c);const h=or(),p=at("vl"),v=Y(s(c,h)),g=Wme(),m=Y(),b=Y(),_=Y(),x=Y({isScrolling:!1,scrollDir:"forward",scrollOffset:gn(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),E=$(()=>{const{total:q,cache:ue}=c,{isScrolling:he,scrollDir:Ce,scrollOffset:ee}=y(x);if(q===0)return[0,0,0,0];const de=a(c,ee,y(v)),oe=o(c,de,ee,y(v)),pe=!he||Ce===SM?Math.max(1,ue):1,me=!he||Ce===N1?Math.max(1,ue):1;return[Math.max(0,de-pe),Math.max(0,Math.min(q-1,oe+me)),de,oe]}),A=$(()=>i(c,y(v))),T=$(()=>U2(c.layout)),R=$(()=>[{position:"relative",[`overflow-${T.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:gn(c.height)?`${c.height}px`:c.height,width:gn(c.width)?`${c.width}px`:c.width},c.style]),M=$(()=>{const q=y(A),ue=y(T);return{height:ue?"100%":`${q}px`,pointerEvents:y(x).isScrolling?"none":void 0,width:ue?`${q}px`:"100%"}}),O=$(()=>T.value?c.width:c.height),{onWheel:D}=HYe({atStartEdge:$(()=>x.value.scrollOffset<=0),atEndEdge:$(()=>x.value.scrollOffset>=A.value),layout:$(()=>c.layout)},q=>{var ue,he;(he=(ue=_.value).onMouseUp)==null||he.call(ue),F(Math.min(x.value.scrollOffset+q,A.value-O.value))});xi(m,"wheel",D,{passive:!1});const C=()=>{const{total:q}=c;if(q>0){const[ee,de,oe,pe]=y(E);f(bM,ee,de,oe,pe)}const{scrollDir:ue,scrollOffset:he,updateRequested:Ce}=y(x);f(xM,ue,he,Ce)},P=q=>{const{clientHeight:ue,scrollHeight:he,scrollTop:Ce}=q.currentTarget,ee=y(x);if(ee.scrollOffset===Ce)return;const de=Math.max(0,Math.min(Ce,he-ue));x.value={...ee,isScrolling:!0,scrollDir:M0(ee.scrollOffset,de),scrollOffset:de,updateRequested:!1},fn(W)},B=q=>{const{clientWidth:ue,scrollLeft:he,scrollWidth:Ce}=q.currentTarget,ee=y(x);if(ee.scrollOffset===he)return;const{direction:de}=c;let oe=he;if(de===nb)switch(EM()){case F2:{oe=-he;break}case mH:{oe=Ce-ue-he;break}}oe=Math.max(0,Math.min(oe,Ce-ue)),x.value={...ee,isScrolling:!0,scrollDir:M0(ee.scrollOffset,oe),scrollOffset:oe,updateRequested:!1},fn(W)},U=q=>{y(T)?B(q):P(q),C()},L=(q,ue)=>{const he=(A.value-O.value)/ue*q;F(Math.min(A.value-O.value,he))},F=q=>{q=Math.max(q,0),q!==y(x).scrollOffset&&(x.value={...y(x),scrollOffset:q,scrollDir:M0(y(x).scrollOffset,q),updateRequested:!0},fn(W))},N=(q,ue=Ic)=>{const{scrollOffset:he}=y(x);q=Math.max(0,Math.min(q,c.total-1)),F(t(c,q,ue,he,y(v)))},V=q=>{const{direction:ue,itemSize:he,layout:Ce}=c,ee=g.value(l&&he,l&&Ce,l&&ue);let de;if(Yr(ee,String(q)))de=ee[q];else{const oe=r(c,q,y(v)),pe=n(c,q,y(v)),me=y(T),re=ue===nb,ne=me?oe:0;ee[q]=de={position:"absolute",left:re?void 0:`${ne}px`,right:re?`${ne}px`:void 0,top:me?0:`${oe}px`,height:me?"100%":`${pe}px`,width:me?`${pe}px`:"100%"}}return de},W=()=>{x.value.isScrolling=!1,fn(()=>{g.value(-1,null,null)})},G=()=>{const q=m.value;q&&(q.scrollTop=0)};Tn(()=>{if(!Pr)return;const{initScrollOffset:q}=c,ue=y(m);gn(q)&&ue&&(y(T)?ue.scrollLeft=q:ue.scrollTop=q),C()}),lh(()=>{const{direction:q,layout:ue}=c,{scrollOffset:he,updateRequested:Ce}=y(x),ee=y(m);if(Ce&&ee)if(ue===Pb)if(q===nb)switch(EM()){case F2:{ee.scrollLeft=-he;break}case gH:{ee.scrollLeft=he;break}default:{const{clientWidth:de,scrollWidth:oe}=ee;ee.scrollLeft=oe-de-he;break}}else ee.scrollLeft=he;else ee.scrollTop=he}),qz(()=>{y(m).scrollTop=y(x).scrollOffset});const K={ns:p,clientSize:O,estimatedTotalSize:A,windowStyle:R,windowRef:m,innerRef:b,innerStyle:M,itemsToRender:E,scrollbarRef:_,states:x,getItemStyle:V,onScroll:U,onScrollbarScroll:L,onWheel:D,scrollTo:F,scrollToItem:N,resetScrollTop:G};return d({windowRef:m,innerRef:b,getItemStyleCache:g,scrollTo:F,scrollToItem:N,resetScrollTop:G,states:x}),K},render(c){var f;const{$slots:d,className:h,clientSize:p,containerElement:v,data:g,getItemStyle:m,innerElement:b,itemsToRender:_,innerStyle:x,layout:E,total:A,onScroll:T,onScrollbarScroll:R,states:M,useIsScrolling:O,windowStyle:D,ns:C}=c,[P,B]=_,U=cr(v),L=cr(b),F=[];if(A>0)for(let G=P;G<=B;G++)F.push(pn(St,{key:G},(f=d.default)==null?void 0:f.call(d,{data:g,index:G,isScrolling:O?M.isScrolling:void 0,style:m(G)})));const N=[pn(L,{style:x,ref:"innerRef"},an(L)?F:{default:()=>F})],V=pn(TU,{ref:"scrollbarRef",clientSize:p,layout:E,onScroll:R,ratio:p*100/this.estimatedTotalSize,scrollFrom:M.scrollOffset/(this.estimatedTotalSize-p),total:A}),W=pn(U,{class:[C.e("window"),h],style:D,onScroll:T,ref:"windowRef",key:0},an(U)?[N]:{default:()=>[N]});return pn("div",{key:0,class:[C.e("wrapper"),M.scrollbarAlwaysOn?"always-on":""]},[W,V])}}),Qme=Zme({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:n,layout:r,width:i},a,o,s)=>{const l=U2(r)?i:e,u=Math.max(0,t*n-l),c=Math.min(u,a*n),f=Math.max(0,(a+1)*n-l);switch(o===ZD&&(s>=f-l&&s<=c+l?o=Ic:o=zd),o){case B2:return c;case k2:return f;case zd:{const d=Math.round(f+(c-f)/2);return d<Math.ceil(l/2)?0:d>u+Math.floor(l/2)?u:d}case Ic:default:return s>=f&&s<=c?s:s<f?f:c}},getStartIndexForOffset:({total:e,itemSize:t},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:n,layout:r,width:i},a,o)=>{const s=a*n,l=U2(r)?i:e,u=Math.ceil((l+o-s)/n);return Math.max(0,Math.min(t-1,a+u-1))},initCache(){},clearCache:!0,validateProps(){}}),B1=(e,t,n)=>{const{itemSize:r}=e,{items:i,lastVisitedIndex:a}=n;if(t>a){let o=0;if(a>=0){const s=i[a];o=s.offset+s.size}for(let s=a+1;s<=t;s++){const l=r(s);i[s]={offset:o,size:l},o+=l}n.lastVisitedIndex=t}return i[t]},jYe=(e,t,n)=>{const{items:r,lastVisitedIndex:i}=t;return(i>0?r[i].offset:0)>=n?Jme(e,t,0,i,n):YYe(e,t,Math.max(0,i),n)},Jme=(e,t,n,r,i)=>{for(;n<=r;){const a=n+Math.floor((r-n)/2),o=B1(e,a,t).offset;if(o===i)return a;o<i?n=a+1:o>i&&(r=a-1)}return Math.max(0,n-1)},YYe=(e,t,n,r)=>{const{total:i}=e;let a=1;for(;n<i&&B1(e,n,t).offset<r;)n+=a,a*=2;return Jme(e,t,Math.floor(n/2),Math.min(n,i-1),r)},Iq=({total:e},{items:t,estimatedItemSize:n,lastVisitedIndex:r})=>{let i=0;if(r>=e&&(r=e-1),r>=0){const s=t[r];i=s.offset+s.size}const o=(e-r-1)*n;return i+o},XYe=Zme({name:"ElDynamicSizeList",getItemOffset:(e,t,n)=>B1(e,t,n).offset,getItemSize:(e,t,{items:n})=>n[t].size,getEstimatedTotalSize:Iq,getOffset:(e,t,n,r,i)=>{const{height:a,layout:o,width:s}=e,l=U2(o)?s:a,u=B1(e,t,i),c=Iq(e,i),f=Math.max(0,Math.min(c-l,u.offset)),d=Math.max(0,u.offset-l+u.size);switch(n===ZD&&(r>=d-l&&r<=f+l?n=Ic:n=zd),n){case B2:return f;case k2:return d;case zd:return Math.round(d+(f-d)/2);case Ic:default:return r>=d&&r<=f?r:r<d?d:f}},getStartIndexForOffset:(e,t,n)=>jYe(e,n,t),getStopIndexForStartIndex:(e,t,n,r)=>{const{height:i,total:a,layout:o,width:s}=e,l=U2(o)?s:i,u=B1(e,t,r),c=n+l;let f=u.offset+u.size,d=t;for(;d<a-1&&f<c;)d++,f+=B1(e,d,r).size;return d},initCache({estimatedItemSize:e=_U},t){const n={items:{},estimatedItemSize:e,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(r,i=!0)=>{var a,o;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,r-1),(a=t.exposed)==null||a.getItemStyleCache(-1),i&&((o=t.proxy)==null||o.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:e})=>{}}),KYe={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var qYe=le({name:"ElSelectDropdown",props:KYe,setup(e,{slots:t,expose:n}){const r=$t(pH),i=at("select"),{getLabel:a,getValue:o,getDisabled:s}=qD(r.props),l=Y([]),u=Y(),c=$(()=>e.data.length);tt(()=>c.value,()=>{var D,C;(C=(D=r.tooltipRef.value).updatePopper)==null||C.call(D)});const f=$(()=>mi(r.props.estimatedOptionHeight)),d=$(()=>f.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:D=>l.value[D]}),h=(D=[],C)=>{const{props:{valueKey:P}}=r;return nr(C)?D&&D.some(B=>Ii(Ja(B,P))===Ja(C,P)):D.includes(C)},p=(D,C)=>{if(nr(C)){const{valueKey:P}=r.props;return Ja(D,P)===Ja(C,P)}else return D===C},v=(D,C)=>r.props.multiple?h(D,o(C)):p(D,o(C)),g=(D,C)=>{const{disabled:P,multiple:B,multipleLimit:U}=r.props;return P||!C&&(B?U>0&&D.length>=U:!1)},m=D=>e.hoveringIndex===D;n({listRef:u,isSized:f,isItemDisabled:g,isItemHovering:m,isItemSelected:v,scrollToItem:D=>{const C=u.value;C&&C.scrollToItem(D)},resetScrollTop:()=>{const D=u.value;D&&D.resetScrollTop()}});const E=D=>{const{index:C,data:P,style:B}=D,U=y(f),{itemSize:L,estimatedSize:F}=y(d),{modelValue:N}=r.props,{onSelect:V,onHover:W}=r,G=P[C];if(G.type==="Group")return z(CYe,{item:G,style:B,height:U?L:F},null);const K=v(N,G),q=g(N,K),ue=m(C);return z(NYe,dr(D,{selected:K,disabled:s(G)||q,created:!!G.created,hovering:ue,item:G,onSelect:V,onHover:W}),{default:he=>{var Ce;return((Ce=t.default)==null?void 0:Ce.call(t,he))||z("span",null,[a(G)])}})},{onKeyboardNavigate:A,onKeyboardSelect:T}=r,R=()=>{A("forward")},M=()=>{A("backward")},O=D=>{const{code:C}=D,{tab:P,esc:B,down:U,up:L,enter:F,numpadEnter:N}=kt;switch(C!==P&&(D.preventDefault(),D.stopPropagation()),C){case P:case B:break;case U:R();break;case L:M();break;case F:case N:T();break}};return()=>{var D,C,P,B;const{data:U,width:L}=e,{height:F,multiple:N,scrollbarAlwaysOn:V}=r.props,W=y(f)?Qme:XYe;return z("div",{class:[i.b("dropdown"),i.is("multiple",N)],style:{width:`${L}px`}},[(D=t.header)==null?void 0:D.call(t),((C=t.loading)==null?void 0:C.call(t))||((P=t.empty)==null?void 0:P.call(t))||z(W,dr({ref:u},y(d),{className:i.be("dropdown","list"),scrollbarAlwaysOn:V,data:U,height:F,width:L,total:U.length,onKeydown:O}),{default:G=>z(E,G,null)}),(B=t.footer)==null?void 0:B.call(t)])}}});function ZYe(e,t){const{aliasProps:n,getLabel:r,getValue:i}=qD(e),a=Y(0),o=Y(),s=$(()=>e.allowCreate&&e.filterable);function l(h){const p=v=>r(v)===h;return e.options&&e.options.some(p)||t.createdOptions.some(p)}function u(h){s.value&&(e.multiple&&h.created?a.value++:o.value=h)}function c(h){if(s.value)if(h&&h.length>0){if(l(h))return;const p={[n.value.value]:h,[n.value.label]:h,created:!0,[n.value.disabled]:!1};t.createdOptions.length>=a.value?t.createdOptions[a.value]=p:t.createdOptions.push(p)}else if(e.multiple)t.createdOptions.length=a.value;else{const p=o.value;t.createdOptions.length=0,p&&p.created&&t.createdOptions.push(p)}}function f(h){if(!s.value||!h||!h.created||h.created&&e.reserveKeyword&&t.inputValue===r(h))return;const p=t.createdOptions.findIndex(v=>i(v)===i(h));~p&&(t.createdOptions.splice(p,1),a.value--)}function d(){s.value&&(t.createdOptions.length=0,a.value=0)}return{createNewOption:c,removeNewOption:f,selectNewOption:u,clearAllNewOption:d}}const QYe=11,JYe=(e,t)=>{const{t:n}=Lr(),r=at("select"),i=at("input"),{form:a,formItem:o}=Bs(),{inputId:s}=zc(e,{formItemContext:o}),{aliasProps:l,getLabel:u,getValue:c,getDisabled:f,getOptions:d}=qD(e),{valueOnClear:h,isEmptyValue:p}=kD(e),v=zn({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),g=Y(-1),m=Y(),b=Y(),_=Y(),x=Y(),E=Y(),A=Y(),T=Y(),R=Y(),M=Y(),O=Y(),D=Y(),{isComposing:C,handleCompositionStart:P,handleCompositionEnd:B,handleCompositionUpdate:U}=XT({afterComposition:wt=>Ya(wt)}),{wrapperRef:L,isFocused:F,handleBlur:N}=Qg(E,{beforeFocus(){return K.value},afterFocus(){e.automaticDropdown&&!G.value&&(G.value=!0,v.menuVisibleOnFocus=!0)},beforeBlur(wt){var Ln,rr;return((Ln=_.value)==null?void 0:Ln.isFocusInsideContent(wt))||((rr=x.value)==null?void 0:rr.isFocusInsideContent(wt))},afterBlur(){G.value=!1,v.menuVisibleOnFocus=!1}}),V=Y([]),W=Y([]),G=Y(!1),K=$(()=>e.disabled||(a==null?void 0:a.disabled)),q=$(()=>{var wt;return(wt=a==null?void 0:a.statusIcon)!=null?wt:!1}),ue=$(()=>{const wt=W.value.length*e.itemHeight;return wt>e.height?e.height:wt}),he=$(()=>e.multiple?pt(e.modelValue)&&e.modelValue.length>0:!p(e.modelValue)),Ce=$(()=>e.clearable&&!K.value&&v.inputHovering&&he.value),ee=$(()=>e.remote&&e.filterable?"":Vp),de=$(()=>ee.value&&r.is("reverse",G.value)),oe=$(()=>(o==null?void 0:o.validateState)||""),pe=$(()=>{if(oe.value)return zD[oe.value]}),me=$(()=>e.remote?300:0),re=$(()=>e.loading?e.loadingText||n("el.select.loading"):e.remote&&!v.inputValue&&V.value.length===0?!1:e.filterable&&v.inputValue&&V.value.length>0&&W.value.length===0?e.noMatchText||n("el.select.noMatch"):V.value.length===0?e.noDataText||n("el.select.noData"):null),ne=wt=>{const Ln=rr=>{if(e.filterable&&on(e.filterMethod)||e.filterable&&e.remote&&on(e.remoteMethod))return!0;const vr=new RegExp(K$(wt),"i");return wt?vr.test(u(rr)||""):!0};return e.loading?[]:[...v.createdOptions,...e.options].reduce((rr,vr)=>{const Ia=d(vr);if(pt(Ia)){const uo=Ia.filter(Ln);uo.length>0&&rr.push({label:u(vr),type:"Group"},...uo)}else(e.remote||Ln(vr))&&rr.push(vr);return rr},[])},se=()=>{V.value=ne(""),W.value=ne(v.inputValue)},be=$(()=>{const wt=new Map;return V.value.forEach((Ln,rr)=>{wt.set(br(c(Ln)),{option:Ln,index:rr})}),wt}),Pe=$(()=>{const wt=new Map;return W.value.forEach((Ln,rr)=>{wt.set(br(c(Ln)),{option:Ln,index:rr})}),wt}),Ee=$(()=>W.value.every(wt=>f(wt))),Le=oo(),He=$(()=>Le.value==="small"?"small":"default"),rt=()=>{var wt;g.value=((wt=m.value)==null?void 0:wt.offsetWidth)||200},Je=()=>{if(!b.value)return 0;const wt=window.getComputedStyle(b.value);return Number.parseFloat(wt.gap||"6px")},ot=$(()=>{const wt=Je();return{maxWidth:`${D.value&&e.maxCollapseTags===1?v.selectionWidth-v.collapseItemWidth-wt:v.selectionWidth}px`}}),ae=$(()=>({maxWidth:`${v.selectionWidth}px`})),Xe=$(()=>({width:`${Math.max(v.calculatorWidth,QYe)}px`})),Tt=$(()=>pt(e.modelValue)?e.modelValue.length===0&&!v.inputValue:e.filterable?!v.inputValue:!0),sn=$(()=>{var wt;const Ln=(wt=e.placeholder)!=null?wt:n("el.select.placeholder");return e.multiple||!he.value?Ln:v.selectedLabel}),Mn=$(()=>{var wt,Ln;return(Ln=(wt=_.value)==null?void 0:wt.popperRef)==null?void 0:Ln.contentRef}),Sn=$(()=>{if(e.multiple){const wt=e.modelValue.length;if(e.modelValue.length>0&&Pe.value.has(e.modelValue[wt-1])){const{index:Ln}=Pe.value.get(e.modelValue[wt-1]);return Ln}}else if(e.modelValue&&Pe.value.has(e.modelValue)){const{index:wt}=Pe.value.get(e.modelValue);return wt}return-1}),En=$({get(){return G.value&&re.value!==!1},set(wt){G.value=wt}}),Gn=$(()=>e.multiple?e.collapseTags?v.cachedOptions.slice(0,e.maxCollapseTags):v.cachedOptions:[]),_r=$(()=>e.multiple?e.collapseTags?v.cachedOptions.slice(e.maxCollapseTags):[]:[]),{createNewOption:We,removeNewOption:yt,selectNewOption:Re,clearAllNewOption:ut}=ZYe(e,v),_e=()=>{K.value||(v.menuVisibleOnFocus?v.menuVisibleOnFocus=!1:G.value=!G.value)},It=()=>{v.inputValue.length>0&&!G.value&&(G.value=!0),We(v.inputValue),pr(v.inputValue)},Pn=yu(It,me.value),pr=wt=>{v.previousQuery===wt||C.value||(v.previousQuery=wt,e.filterable&&on(e.filterMethod)?e.filterMethod(wt):e.filterable&&e.remote&&on(e.remoteMethod)&&e.remoteMethod(wt),e.defaultFirstOption&&(e.filterable||e.remote)&&W.value.length?fn(_i):fn(la))},_i=()=>{const wt=W.value.filter(vr=>!vr.disabled&&vr.type!=="Group"),Ln=wt.find(vr=>vr.created),rr=wt[0];v.hoveringIndex=Di(W.value,Ln||rr)},lo=wt=>{ps(e.modelValue,wt)||t(wi,wt)},Ki=wt=>{t(Yn,wt),lo(wt),v.previousValue=e.multiple?String(wt):wt},Di=(wt=[],Ln)=>{if(!nr(Ln))return wt.indexOf(Ln);const rr=e.valueKey;let vr=-1;return wt.some((Ia,uo)=>Ja(Ia,rr)===Ja(Ln,rr)?(vr=uo,!0):!1),vr},br=wt=>nr(wt)?Ja(wt,e.valueKey):wt,ji=()=>{rt()},sd=()=>{v.selectionWidth=b.value.getBoundingClientRect().width},Ku=()=>{v.calculatorWidth=A.value.getBoundingClientRect().width},ld=()=>{v.collapseItemWidth=D.value.getBoundingClientRect().width},Xc=()=>{var wt,Ln;(Ln=(wt=_.value)==null?void 0:wt.updatePopper)==null||Ln.call(wt)},bu=()=>{var wt,Ln;(Ln=(wt=x.value)==null?void 0:wt.updatePopper)==null||Ln.call(wt)},il=wt=>{if(e.multiple){let Ln=e.modelValue.slice();const rr=Di(Ln,c(wt));rr>-1?(Ln=[...Ln.slice(0,rr),...Ln.slice(rr+1)],v.cachedOptions.splice(rr,1),yt(wt)):(e.multipleLimit<=0||Ln.length<e.multipleLimit)&&(Ln=[...Ln,c(wt)],v.cachedOptions.push(wt),Re(wt)),Ki(Ln),wt.created&&pr(""),e.filterable&&!e.reserveKeyword&&(v.inputValue="")}else v.selectedLabel=u(wt),Ki(c(wt)),G.value=!1,Re(wt),wt.created||ut();Ul()},mh=(wt,Ln)=>{let rr=e.modelValue.slice();const vr=Di(rr,c(Ln));vr>-1&&!K.value&&(rr=[...e.modelValue.slice(0,vr),...e.modelValue.slice(vr+1)],v.cachedOptions.splice(vr,1),Ki(rr),t("remove-tag",c(Ln)),yt(Ln)),wt.stopPropagation(),Ul()},Ul=()=>{var wt;(wt=E.value)==null||wt.focus()},qu=()=>{var wt;if(G.value){G.value=!1,fn(()=>{var Ln;return(Ln=E.value)==null?void 0:Ln.blur()});return}(wt=E.value)==null||wt.blur()},Zu=()=>{v.inputValue.length>0?v.inputValue="":G.value=!1},na=wt=>pve(wt,Ln=>!v.cachedOptions.some(rr=>c(rr)===Ln&&f(rr))),ud=wt=>{if(e.multiple&&wt.code!==kt.delete&&v.inputValue.length===0){wt.preventDefault();const Ln=e.modelValue.slice(),rr=na(Ln);if(rr<0)return;const vr=Ln[rr];Ln.splice(rr,1);const Ia=v.cachedOptions[rr];v.cachedOptions.splice(rr,1),yt(Ia),Ki(Ln),t("remove-tag",vr)}},yh=()=>{let wt;pt(e.modelValue)?wt=[]:wt=h.value,e.multiple?v.cachedOptions=[]:v.selectedLabel="",G.value=!1,Ki(wt),t("clear"),ut(),Ul()},Rt=(wt,Ln=void 0)=>{const rr=W.value;if(!["forward","backward"].includes(wt)||K.value||rr.length<=0||Ee.value||C.value)return;if(!G.value)return _e();Ln===void 0&&(Ln=v.hoveringIndex);let vr=-1;wt==="forward"?(vr=Ln+1,vr>=rr.length&&(vr=0)):wt==="backward"&&(vr=Ln-1,(vr<0||vr>=rr.length)&&(vr=rr.length-1));const Ia=rr[vr];if(f(Ia)||Ia.type==="Group")return Rt(wt,vr);v.hoveringIndex=vr,os(vr)},wn=()=>{if(G.value)~v.hoveringIndex&&W.value[v.hoveringIndex]&&il(W.value[v.hoveringIndex]);else return _e()},zr=wt=>{v.hoveringIndex=wt??-1},la=()=>{e.multiple?v.hoveringIndex=W.value.findIndex(wt=>e.modelValue.some(Ln=>br(Ln)===br(wt))):v.hoveringIndex=W.value.findIndex(wt=>br(wt)===br(e.modelValue))},Ya=wt=>{if(v.inputValue=wt.target.value,e.remote)Pn();else return It()},Do=wt=>{if(G.value=!1,F.value){const Ln=new FocusEvent("focus",wt);N(Ln)}},Po=()=>(v.isBeforeHide=!1,fn(()=>{~Sn.value&&os(v.hoveringIndex)})),os=wt=>{M.value.scrollToItem(wt)},Fs=(wt,Ln)=>{const rr=br(wt);if(be.value.has(rr)){const{option:vr}=be.value.get(rr);return vr}if(Ln&&Ln.length){const vr=Ln.find(Ia=>br(c(Ia))===rr);if(vr)return vr}return{[l.value.value]:wt,[l.value.label]:wt}},xu=(wt=!1)=>{if(e.multiple)if(e.modelValue.length>0){const Ln=v.cachedOptions.slice();v.cachedOptions.length=0,v.previousValue=e.modelValue.toString();for(const rr of e.modelValue){const vr=Fs(rr,Ln);v.cachedOptions.push(vr)}}else v.cachedOptions=[],v.previousValue=void 0;else if(he.value){v.previousValue=e.modelValue;const Ln=W.value,rr=Ln.findIndex(vr=>br(c(vr))===br(e.modelValue));~rr?v.selectedLabel=u(Ln[rr]):(!v.selectedLabel||wt)&&(v.selectedLabel=br(e.modelValue))}else v.selectedLabel="",v.previousValue=void 0;ut(),rt()};return tt(G,wt=>{wt?pr(""):(v.inputValue="",v.previousQuery=null,v.isBeforeHide=!0,We("")),t("visible-change",wt)}),tt(()=>e.modelValue,(wt,Ln)=>{var rr;(!wt||pt(wt)&&wt.length===0||e.multiple&&!ps(wt.toString(),v.previousValue)||!e.multiple&&br(wt)!==br(v.previousValue))&&xu(!0),!ps(wt,Ln)&&e.validateEvent&&((rr=o==null?void 0:o.validate)==null||rr.call(o,"change").catch(Ia=>void 0))},{deep:!0}),tt(()=>e.options,()=>{const wt=E.value;(!wt||wt&&document.activeElement!==wt)&&xu()},{deep:!0,flush:"post"}),tt(()=>W.value,()=>M.value&&fn(M.value.resetScrollTop)),Is(()=>{v.isBeforeHide||se()}),Is(()=>{const{valueKey:wt,options:Ln}=e,rr=new Map;for(const vr of Ln){const Ia=c(vr);let uo=Ia;if(nr(uo)&&(uo=Ja(Ia,wt)),rr.get(uo))break;rr.set(uo,!0)}}),Tn(()=>{xu()}),oa(m,ji),oa(b,sd),oa(A,Ku),oa(M,Xc),oa(L,Xc),oa(O,bu),oa(D,ld),{inputId:s,collapseTagSize:He,currentPlaceholder:sn,expanded:G,emptyText:re,popupHeight:ue,debounce:me,allOptions:V,filteredOptions:W,iconComponent:ee,iconReverse:de,tagStyle:ot,collapseTagStyle:ae,inputStyle:Xe,popperSize:g,dropdownMenuVisible:En,hasModelValue:he,shouldShowPlaceholder:Tt,selectDisabled:K,selectSize:Le,needStatusIcon:q,showClearBtn:Ce,states:v,isFocused:F,nsSelect:r,nsInput:i,calculatorRef:A,inputRef:E,menuRef:M,tagMenuRef:O,tooltipRef:_,tagTooltipRef:x,selectRef:m,wrapperRef:L,selectionRef:b,prefixRef:T,suffixRef:R,collapseItemRef:D,popperRef:Mn,validateState:oe,validateIcon:pe,showTagList:Gn,collapseTagList:_r,debouncedOnInputChange:Pn,deleteTag:mh,getLabel:u,getValue:c,getDisabled:f,getValueKey:br,handleClear:yh,handleClickOutside:Do,handleDel:ud,handleEsc:Zu,focus:Ul,blur:qu,handleMenuEnter:Po,handleResize:ji,resetSelectionWidth:sd,resetCalculatorWidth:Ku,updateTooltip:Xc,updateTagTooltip:bu,updateOptions:se,toggleMenu:_e,scrollTo:os,onInput:Ya,onKeyboardNavigate:Rt,onKeyboardSelect:wn,onSelect:il,onHover:zr,handleCompositionStart:P,handleCompositionEnd:B,handleCompositionUpdate:U}},eXe=le({name:"ElSelectV2",components:{ElSelectMenu:qYe,ElTag:dy,ElTooltip:Ps,ElIcon:Xt},directives:{ClickOutside:wp},props:IYe,emits:OYe,setup(e,{emit:t}){const n=$(()=>{const{modelValue:a,multiple:o}=e,s=o?[]:void 0;return pt(a)?o?a:s:o?s:a}),r=JYe(zn({...ts(e),modelValue:n}),t);mr(pH,{props:zn({...ts(e),height:r.popupHeight,modelValue:n}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const i=$(()=>e.multiple?r.states.cachedOptions.map(a=>a.label):r.states.selectedLabel);return{...r,modelValue:n,selectedLabel:i}}});function tXe(e,t,n,r,i,a){const o=ur("el-tag"),s=ur("el-tooltip"),l=ur("el-icon"),u=ur("el-select-menu"),c=TD("click-outside");return Wn((H(),Q("div",{ref:"selectRef",class:j([e.nsSelect.b(),e.nsSelect.m(e.selectSize)]),onMouseenter:f=>e.states.inputHovering=!0,onMouseleave:f=>e.states.inputHovering=!1},[z(s,{ref:"tooltipRef",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:f=>e.states.isBeforeHide=!1},{default:J(()=>[I("div",{ref:"wrapperRef",class:j([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:xn(e.toggleMenu,["prevent"])},[e.$slots.prefix?(H(),Q("div",{key:0,ref:"prefixRef",class:j(e.nsSelect.e("prefix"))},[De(e.$slots,"prefix")],2)):Be("v-if",!0),I("div",{ref:"selectionRef",class:j([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.modelValue.length)])},[e.multiple?De(e.$slots,"tag",{key:0},()=>[(H(!0),Q(St,null,Nn(e.showTagList,f=>(H(),Q("div",{key:e.getValueKey(e.getValue(f)),class:j(e.nsSelect.e("selected-item"))},[z(o,{closable:!e.selectDisabled&&!e.getDisabled(f),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:en(e.tagStyle),onClose:d=>e.deleteTag(d,f)},{default:J(()=>[I("span",{class:j(e.nsSelect.e("tags-text"))},[De(e.$slots,"label",{label:e.getLabel(f),value:e.getValue(f)},()=>[$n(nt(e.getLabel(f)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.modelValue.length>e.maxCollapseTags?(H(),Ue(s,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:J(()=>[I("div",{ref:"collapseItemRef",class:j(e.nsSelect.e("selected-item"))},[z(o,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,style:en(e.collapseTagStyle),"disable-transitions":""},{default:J(()=>[I("span",{class:j(e.nsSelect.e("tags-text"))}," + "+nt(e.modelValue.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:J(()=>[I("div",{ref:"tagMenuRef",class:j(e.nsSelect.e("selection"))},[(H(!0),Q(St,null,Nn(e.collapseTagList,f=>(H(),Q("div",{key:e.getValueKey(e.getValue(f)),class:j(e.nsSelect.e("selected-item"))},[z(o,{class:"in-tooltip",closable:!e.selectDisabled&&!e.getDisabled(f),size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:d=>e.deleteTag(d,f)},{default:J(()=>[I("span",{class:j(e.nsSelect.e("tags-text"))},[De(e.$slots,"label",{label:e.getLabel(f),value:e.getValue(f)},()=>[$n(nt(e.getLabel(f)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Be("v-if",!0)]):Be("v-if",!0),I("div",{class:j([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable)])},[Wn(I("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":f=>e.states.inputValue=f,style:en(e.inputStyle),autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-label":e.ariaLabel,class:j([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,onInput:e.onInput,onCompositionstart:e.handleCompositionStart,onCompositionupdate:e.handleCompositionUpdate,onCompositionend:e.handleCompositionEnd,onKeydown:[Mi(xn(f=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Mi(xn(f=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Mi(xn(e.onKeyboardSelect,["stop","prevent"]),["enter"]),Mi(xn(e.handleEsc,["stop","prevent"]),["esc"]),Mi(xn(e.handleDel,["stop"]),["delete"])],onClick:xn(e.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[RD,e.states.inputValue]]),e.filterable?(H(),Q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:j(e.nsSelect.e("input-calculator")),textContent:nt(e.states.inputValue)},null,10,["textContent"])):Be("v-if",!0)],2),e.shouldShowPlaceholder?(H(),Q("div",{key:1,class:j([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?De(e.$slots,"label",{key:0,label:e.currentPlaceholder,value:e.modelValue},()=>[I("span",null,nt(e.currentPlaceholder),1)]):(H(),Q("span",{key:1},nt(e.currentPlaceholder),1))],2)):Be("v-if",!0)],2),I("div",{ref:"suffixRef",class:j(e.nsSelect.e("suffix"))},[e.iconComponent?Wn((H(),Ue(l,{key:0,class:j([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:J(()=>[(H(),Ue(cr(e.iconComponent)))]),_:1},8,["class"])),[[Xr,!e.showClearBtn]]):Be("v-if",!0),e.showClearBtn&&e.clearIcon?(H(),Ue(l,{key:1,class:j([e.nsSelect.e("caret"),e.nsInput.e("icon"),e.nsSelect.e("clear")]),onClick:xn(e.handleClear,["prevent","stop"])},{default:J(()=>[(H(),Ue(cr(e.clearIcon)))]),_:1},8,["class","onClick"])):Be("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(H(),Ue(l,{key:2,class:j([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:J(()=>[(H(),Ue(cr(e.validateIcon)))]),_:1},8,["class"])):Be("v-if",!0)],2)],10,["onClick"])]),content:J(()=>[z(u,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},Nc({default:J(f=>[De(e.$slots,"default",Of(Ig(f)))]),_:2},[e.$slots.header?{name:"header",fn:J(()=>[I("div",{class:j(e.nsSelect.be("dropdown","header"))},[De(e.$slots,"header")],2)])}:void 0,e.$slots.loading&&e.loading?{name:"loading",fn:J(()=>[I("div",{class:j(e.nsSelect.be("dropdown","loading"))},[De(e.$slots,"loading")],2)])}:e.loading||e.filteredOptions.length===0?{name:"empty",fn:J(()=>[I("div",{class:j(e.nsSelect.be("dropdown","empty"))},[De(e.$slots,"empty",{},()=>[I("span",null,nt(e.emptyText),1)])],2)])}:void 0,e.$slots.footer?{name:"footer",fn:J(()=>[I("div",{class:j(e.nsSelect.be("dropdown","footer"))},[De(e.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[c,e.handleClickOutside,e.popperRef]])}var nXe=_t(eXe,[["render",tXe],["__file","select.vue"]]);const rXe=Un(nXe),iXe=gt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Ie([Number,Object])}}),aXe=gt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),oXe=le({name:"ElSkeletonItem"}),sXe=le({...oXe,props:aXe,setup(e){const t=at("skeleton");return(n,r)=>(H(),Q("div",{class:j([y(t).e("item"),y(t).e(n.variant)])},[n.variant==="image"?(H(),Ue(y(Tke),{key:0})):Be("v-if",!0)],2))}});var TM=_t(sXe,[["__file","skeleton-item.vue"]]);const lXe=(e,t=0)=>{if(t===0)return e;const n=nr(t)&&!!t.initVal,r=Y(n);let i=null;const a=s=>{if(mi(s)){r.value=e.value;return}i&&clearTimeout(i),i=setTimeout(()=>{r.value=e.value},s)},o=s=>{s==="leading"?gn(t)?a(t):a(t.leading):nr(t)?a(t.trailing):r.value=!1};return Tn(()=>o("leading")),tt(()=>e.value,s=>{o(s?"leading":"trailing")}),r},uXe=le({name:"ElSkeleton"}),cXe=le({...uXe,props:iXe,setup(e,{expose:t}){const n=e,r=at("skeleton"),i=lXe(hi(n,"loading"),n.throttle);return t({uiLoading:i}),(a,o)=>y(i)?(H(),Q("div",dr({key:0,class:[y(r).b(),y(r).is("animated",a.animated)]},a.$attrs),[(H(!0),Q(St,null,Nn(a.count,s=>(H(),Q(St,{key:s},[y(i)?De(a.$slots,"template",{key:s},()=>[z(TM,{class:j(y(r).is("first")),variant:"p"},null,8,["class"]),(H(!0),Q(St,null,Nn(a.rows,l=>(H(),Ue(TM,{key:l,class:j([y(r).e("paragraph"),y(r).is("last",l===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Be("v-if",!0)],64))),128))],16)):De(a.$slots,"default",Of(dr({key:1},a.$attrs)))}});var fXe=_t(cXe,[["__file","skeleton.vue"]]);const dXe=Un(fXe,{SkeletonItem:TM}),hXe=Aa(TM),e0e=Symbol("sliderContextKey"),pXe=gt({modelValue:{type:Ie([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:yo,inputSize:yo,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Ie(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Ie(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:$p,default:"top"},marks:{type:Ie(Object)},validateEvent:{type:Boolean,default:!0},...gs(["ariaLabel"])}),iN=e=>gn(e)||pt(e)&&e.every(gn),vXe={[Yn]:iN,[Ms]:iN,[wi]:iN},gXe=gt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:$p,default:"top"}}),mXe={[Yn]:e=>gn(e)},yXe=(e,t,n)=>{const r=Y(),i=Y(!1),a=$(()=>t.value instanceof Function),o=$(()=>a.value&&t.value(e.modelValue)||e.modelValue),s=yu(()=>{n.value&&(i.value=!0)},50),l=yu(()=>{n.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:o,displayTooltip:s,hideTooltip:l}},_Xe=(e,t,n)=>{const{disabled:r,min:i,max:a,step:o,showTooltip:s,precision:l,sliderSize:u,formatTooltip:c,emitChange:f,resetSize:d,updateDragging:h}=$t(e0e),{tooltip:p,tooltipVisible:v,formatValue:g,displayTooltip:m,hideTooltip:b}=yXe(e,c,s),_=Y(),x=$(()=>`${(e.modelValue-i.value)/(a.value-i.value)*100}%`),E=$(()=>e.vertical?{bottom:x.value}:{left:x.value}),A=()=>{t.hovering=!0,m()},T=()=>{t.hovering=!1,t.dragging||b()},R=K=>{r.value||(K.preventDefault(),N(K),window.addEventListener("mousemove",V),window.addEventListener("touchmove",V),window.addEventListener("mouseup",W),window.addEventListener("touchend",W),window.addEventListener("contextmenu",W),_.value.focus())},M=K=>{r.value||(t.newPosition=Number.parseFloat(x.value)+K/(a.value-i.value)*100,G(t.newPosition),f())},O=()=>{M(-o.value)},D=()=>{M(o.value)},C=()=>{M(-o.value*4)},P=()=>{M(o.value*4)},B=()=>{r.value||(G(0),f())},U=()=>{r.value||(G(100),f())},L=K=>{let q=!0;switch(K.code){case kt.left:case kt.down:O();break;case kt.right:case kt.up:D();break;case kt.home:B();break;case kt.end:U();break;case kt.pageDown:C();break;case kt.pageUp:P();break;default:q=!1;break}q&&K.preventDefault()},F=K=>{let q,ue;return K.type.startsWith("touch")?(ue=K.touches[0].clientY,q=K.touches[0].clientX):(ue=K.clientY,q=K.clientX),{clientX:q,clientY:ue}},N=K=>{t.dragging=!0,t.isClick=!0;const{clientX:q,clientY:ue}=F(K);e.vertical?t.startY=ue:t.startX=q,t.startPosition=Number.parseFloat(x.value),t.newPosition=t.startPosition},V=K=>{if(t.dragging){t.isClick=!1,m(),d();let q;const{clientX:ue,clientY:he}=F(K);e.vertical?(t.currentY=he,q=(t.startY-t.currentY)/u.value*100):(t.currentX=ue,q=(t.currentX-t.startX)/u.value*100),t.newPosition=t.startPosition+q,G(t.newPosition)}},W=()=>{t.dragging&&(setTimeout(()=>{t.dragging=!1,t.hovering||b(),t.isClick||G(t.newPosition),f()},0),window.removeEventListener("mousemove",V),window.removeEventListener("touchmove",V),window.removeEventListener("mouseup",W),window.removeEventListener("touchend",W),window.removeEventListener("contextmenu",W))},G=async K=>{if(K===null||Number.isNaN(+K))return;K<0?K=0:K>100&&(K=100);const q=100/((a.value-i.value)/o.value);let he=Math.round(K/q)*q*(a.value-i.value)*.01+i.value;he=Number.parseFloat(he.toFixed(l.value)),he!==e.modelValue&&n(Yn,he),!t.dragging&&e.modelValue!==t.oldValue&&(t.oldValue=e.modelValue),await fn(),t.dragging&&m(),p.value.updatePopper()};return tt(()=>t.dragging,K=>{h(K)}),xi(_,"touchstart",R,{passive:!1}),{disabled:r,button:_,tooltip:p,tooltipVisible:v,showTooltip:s,wrapperStyle:E,formatValue:g,handleMouseEnter:A,handleMouseLeave:T,onButtonDown:R,onKeyDown:L,setPosition:G}},bXe=le({name:"ElSliderButton"}),xXe=le({...bXe,props:gXe,emits:mXe,setup(e,{expose:t,emit:n}){const r=e,i=at("slider"),a=zn({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:o,button:s,tooltip:l,showTooltip:u,tooltipVisible:c,wrapperStyle:f,formatValue:d,handleMouseEnter:h,handleMouseLeave:p,onButtonDown:v,onKeyDown:g,setPosition:m}=_Xe(r,a,n),{hovering:b,dragging:_}=ts(a);return t({onButtonDown:v,onKeyDown:g,setPosition:m,hovering:b,dragging:_}),(x,E)=>(H(),Q("div",{ref_key:"button",ref:s,class:j([y(i).e("button-wrapper"),{hover:y(b),dragging:y(_)}]),style:en(y(f)),tabindex:y(o)?-1:0,onMouseenter:y(h),onMouseleave:y(p),onMousedown:y(v),onFocus:y(h),onBlur:y(p),onKeydown:y(g)},[z(y(Ps),{ref_key:"tooltip",ref:l,visible:y(c),placement:x.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":x.tooltipClass,disabled:!y(u),persistent:y(u)},{content:J(()=>[I("span",null,nt(y(d)),1)]),default:J(()=>[I("div",{class:j([y(i).e("button"),{hover:y(b),dragging:y(_)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var Mq=_t(xXe,[["__file","button.vue"]]);const SXe=gt({mark:{type:Ie([String,Object]),default:void 0}});var AXe=le({name:"ElSliderMarker",props:SXe,setup(e){const t=at("slider"),n=$(()=>an(e.mark)?e.mark:e.mark.label),r=$(()=>an(e.mark)?void 0:e.mark.style);return()=>pn("div",{class:t.e("marks-text"),style:r.value},n.value)}});const EXe=(e,t,n)=>{const{form:r,formItem:i}=Bs(),a=Ni(),o=Y(),s=Y(),l={firstButton:o,secondButton:s},u=$(()=>e.disabled||(r==null?void 0:r.disabled)||!1),c=$(()=>Math.min(t.firstValue,t.secondValue)),f=$(()=>Math.max(t.firstValue,t.secondValue)),d=$(()=>e.range?`${100*(f.value-c.value)/(e.max-e.min)}%`:`${100*(t.firstValue-e.min)/(e.max-e.min)}%`),h=$(()=>e.range?`${100*(c.value-e.min)/(e.max-e.min)}%`:"0%"),p=$(()=>e.vertical?{height:e.height}:{}),v=$(()=>e.vertical?{height:d.value,bottom:h.value}:{width:d.value,left:h.value}),g=()=>{a.value&&(t.sliderSize=a.value[`client${e.vertical?"Height":"Width"}`])},m=C=>{const P=e.min+C*(e.max-e.min)/100;if(!e.range)return o;let B;return Math.abs(c.value-P)<Math.abs(f.value-P)?B=t.firstValue<t.secondValue?"firstButton":"secondButton":B=t.firstValue>t.secondValue?"firstButton":"secondButton",l[B]},b=C=>{const P=m(C);return P.value.setPosition(C),P},_=C=>{t.firstValue=C??e.min,E(e.range?[c.value,f.value]:C??e.min)},x=C=>{t.secondValue=C,e.range&&E([c.value,f.value])},E=C=>{n(Yn,C),n(Ms,C)},A=async()=>{await fn(),n(wi,e.range?[c.value,f.value]:e.modelValue)},T=C=>{var P,B,U,L,F,N;if(u.value||t.dragging)return;g();let V=0;if(e.vertical){const W=(U=(B=(P=C.touches)==null?void 0:P.item(0))==null?void 0:B.clientY)!=null?U:C.clientY;V=(a.value.getBoundingClientRect().bottom-W)/t.sliderSize*100}else{const W=(N=(F=(L=C.touches)==null?void 0:L.item(0))==null?void 0:F.clientX)!=null?N:C.clientX,G=a.value.getBoundingClientRect().left;V=(W-G)/t.sliderSize*100}if(!(V<0||V>100))return b(V)};return{elFormItem:i,slider:a,firstButton:o,secondButton:s,sliderDisabled:u,minValue:c,maxValue:f,runwayStyle:p,barStyle:v,resetSize:g,setPosition:b,emitChange:A,onSliderWrapperPrevent:C=>{var P,B;((P=l.firstButton.value)!=null&&P.dragging||(B=l.secondButton.value)!=null&&B.dragging)&&C.preventDefault()},onSliderClick:C=>{T(C)&&A()},onSliderDown:async C=>{const P=T(C);P&&(await fn(),P.value.onButtonDown(C))},onSliderMarkerDown:C=>{u.value||t.dragging||b(C)},setFirstValue:_,setSecondValue:x}},TXe=(e,t,n,r)=>({stops:$(()=>{if(!e.showStops||e.min>e.max)return[];if(e.step===0)return[];const o=(e.max-e.min)/e.step,s=100*e.step/(e.max-e.min),l=Array.from({length:o-1}).map((u,c)=>(c+1)*s);return e.range?l.filter(u=>u<100*(n.value-e.min)/(e.max-e.min)||u>100*(r.value-e.min)/(e.max-e.min)):l.filter(u=>u>100*(t.firstValue-e.min)/(e.max-e.min))}),getStopStyle:o=>e.vertical?{bottom:`${o}%`}:{left:`${o}%`}}),wXe=e=>$(()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort((n,r)=>n-r).filter(n=>n<=e.max&&n>=e.min).map(n=>({point:n,position:(n-e.min)*100/(e.max-e.min),mark:e.marks[n]})):[]),CXe=(e,t,n,r,i,a)=>{const o=u=>{i(Yn,u),i(Ms,u)},s=()=>e.range?![n.value,r.value].every((u,c)=>u===t.oldValue[c]):e.modelValue!==t.oldValue,l=()=>{var u,c;e.min>e.max&&Ro("Slider","min should not be greater than max.");const f=e.modelValue;e.range&&pt(f)?f[1]<e.min?o([e.min,e.min]):f[0]>e.max?o([e.max,e.max]):f[0]<e.min?o([e.min,f[1]]):f[1]>e.max?o([f[0],e.max]):(t.firstValue=f[0],t.secondValue=f[1],s()&&(e.validateEvent&&((u=a==null?void 0:a.validate)==null||u.call(a,"change").catch(d=>void 0)),t.oldValue=f.slice())):!e.range&&gn(f)&&!Number.isNaN(f)&&(f<e.min?o(e.min):f>e.max?o(e.max):(t.firstValue=f,s()&&(e.validateEvent&&((c=a==null?void 0:a.validate)==null||c.call(a,"change").catch(d=>void 0)),t.oldValue=f)))};l(),tt(()=>t.dragging,u=>{u||l()}),tt(()=>e.modelValue,(u,c)=>{t.dragging||pt(u)&&pt(c)&&u.every((f,d)=>f===c[d])&&t.firstValue===u[0]&&t.secondValue===u[1]||l()},{deep:!0}),tt(()=>[e.min,e.max],()=>{l()})},RXe=(e,t,n)=>{const r=Y();return Tn(async()=>{e.range?(pt(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):(!gn(e.modelValue)||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),xi(window,"resize",n),await fn(),n()}),{sliderWrapper:r}},IXe=le({name:"ElSlider"}),MXe=le({...IXe,props:pXe,emits:vXe,setup(e,{expose:t,emit:n}){const r=e,i=at("slider"),{t:a}=Lr(),o=zn({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:l,firstButton:u,secondButton:c,sliderDisabled:f,minValue:d,maxValue:h,runwayStyle:p,barStyle:v,resetSize:g,emitChange:m,onSliderWrapperPrevent:b,onSliderClick:_,onSliderDown:x,onSliderMarkerDown:E,setFirstValue:A,setSecondValue:T}=EXe(r,o,n),{stops:R,getStopStyle:M}=TXe(r,o,d,h),{inputId:O,isLabeledByFormItem:D}=zc(r,{formItemContext:s}),C=oo(),P=$(()=>r.inputSize||C.value),B=$(()=>r.ariaLabel||a("el.slider.defaultLabel",{min:r.min,max:r.max})),U=$(()=>r.range?r.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):B.value),L=$(()=>r.formatValueText?r.formatValueText(q.value):`${q.value}`),F=$(()=>r.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),N=$(()=>r.formatValueText?r.formatValueText(ue.value):`${ue.value}`),V=$(()=>[i.b(),i.m(C.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),W=wXe(r);CXe(r,o,d,h,n,s);const G=$(()=>{const ee=[r.min,r.max,r.step].map(de=>{const oe=`${de}`.split(".")[1];return oe?oe.length:0});return Math.max.apply(null,ee)}),{sliderWrapper:K}=RXe(r,o,g),{firstValue:q,secondValue:ue,sliderSize:he}=ts(o),Ce=ee=>{o.dragging=ee};return xi(K,"touchstart",b,{passive:!1}),xi(K,"touchmove",b,{passive:!1}),mr(e0e,{...ts(r),sliderSize:he,disabled:f,precision:G,emitChange:m,resetSize:g,updateDragging:Ce}),t({onSliderClick:_}),(ee,de)=>{var oe,pe;return H(),Q("div",{id:ee.range?y(O):void 0,ref_key:"sliderWrapper",ref:K,class:j(y(V)),role:ee.range?"group":void 0,"aria-label":ee.range&&!y(D)?y(B):void 0,"aria-labelledby":ee.range&&y(D)?(oe=y(s))==null?void 0:oe.labelId:void 0},[I("div",{ref_key:"slider",ref:l,class:j([y(i).e("runway"),{"show-input":ee.showInput&&!ee.range},y(i).is("disabled",y(f))]),style:en(y(p)),onMousedown:y(x),onTouchstartPassive:y(x)},[I("div",{class:j(y(i).e("bar")),style:en(y(v))},null,6),z(Mq,{id:ee.range?void 0:y(O),ref_key:"firstButton",ref:u,"model-value":y(q),vertical:ee.vertical,"tooltip-class":ee.tooltipClass,placement:ee.placement,role:"slider","aria-label":ee.range||!y(D)?y(U):void 0,"aria-labelledby":!ee.range&&y(D)?(pe=y(s))==null?void 0:pe.labelId:void 0,"aria-valuemin":ee.min,"aria-valuemax":ee.range?y(ue):ee.max,"aria-valuenow":y(q),"aria-valuetext":y(L),"aria-orientation":ee.vertical?"vertical":"horizontal","aria-disabled":y(f),"onUpdate:modelValue":y(A)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),ee.range?(H(),Ue(Mq,{key:0,ref_key:"secondButton",ref:c,"model-value":y(ue),vertical:ee.vertical,"tooltip-class":ee.tooltipClass,placement:ee.placement,role:"slider","aria-label":y(F),"aria-valuemin":y(q),"aria-valuemax":ee.max,"aria-valuenow":y(ue),"aria-valuetext":y(N),"aria-orientation":ee.vertical?"vertical":"horizontal","aria-disabled":y(f),"onUpdate:modelValue":y(T)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Be("v-if",!0),ee.showStops?(H(),Q("div",{key:1},[(H(!0),Q(St,null,Nn(y(R),(me,re)=>(H(),Q("div",{key:re,class:j(y(i).e("stop")),style:en(y(M)(me))},null,6))),128))])):Be("v-if",!0),y(W).length>0?(H(),Q(St,{key:2},[I("div",null,[(H(!0),Q(St,null,Nn(y(W),(me,re)=>(H(),Q("div",{key:re,style:en(y(M)(me.position)),class:j([y(i).e("stop"),y(i).e("marks-stop")])},null,6))),128))]),I("div",{class:j(y(i).e("marks"))},[(H(!0),Q(St,null,Nn(y(W),(me,re)=>(H(),Ue(y(AXe),{key:re,mark:me.mark,style:en(y(M)(me.position)),onMousedown:xn(ne=>y(E)(me.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Be("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),ee.showInput&&!ee.range?(H(),Ue(y(Mme),{key:0,ref:"input","model-value":y(q),class:j(y(i).e("input")),step:ee.step,disabled:y(f),controls:ee.showInputControls,min:ee.min,max:ee.max,precision:y(G),debounce:ee.debounce,size:y(P),"onUpdate:modelValue":y(A),onChange:y(m)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Be("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var OXe=_t(MXe,[["__file","slider.vue"]]);const DXe=Un(OXe),PXe=gt({prefixCls:{type:String}}),Oq=le({name:"ElSpaceItem",props:PXe,setup(e,{slots:t}){const n=at("space"),r=$(()=>`${e.prefixCls||n.b()}__item`);return()=>pn("div",{class:r.value},De(t,"default"))}}),Dq={small:8,default:12,large:16};function LXe(e){const t=at("space"),n=$(()=>[t.b(),t.m(e.direction),e.class]),r=Y(0),i=Y(0),a=$(()=>{const s=e.wrap||e.fill?{flexWrap:"wrap"}:{},l={alignItems:e.alignment},u={rowGap:`${i.value}px`,columnGap:`${r.value}px`};return[s,l,u,e.style]}),o=$(()=>e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{});return Is(()=>{const{size:s="small",wrap:l,direction:u,fill:c}=e;if(pt(s)){const[f=0,d=0]=s;r.value=f,i.value=d}else{let f;gn(s)?f=s:f=Dq[s||"small"]||Dq.small,(l||c)&&u==="horizontal"?r.value=i.value=f:u==="horizontal"?(r.value=f,i.value=0):(i.value=f,r.value=0)}}),{classes:n,containerStyle:a,itemStyle:o}}const NXe=gt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Ie([String,Object,Array]),default:""},style:{type:Ie([String,Array,Object]),default:""},alignment:{type:Ie(String),default:"center"},prefixCls:{type:String},spacer:{type:Ie([Object,String,Number,Array]),default:null,validator:e=>pa(e)||gn(e)||an(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:uh,validator:e=>gn(e)||pt(e)&&e.length===2&&e.every(gn)}}),BXe=le({name:"ElSpace",props:NXe,setup(e,{slots:t}){const{classes:n,containerStyle:r,itemStyle:i}=LXe(e);function a(o,s="",l=[]){const{prefixCls:u}=e;return o.forEach((c,f)=>{nU(c)?pt(c.children)&&c.children.forEach((d,h)=>{nU(d)&&pt(d.children)?a(d.children,`${s+h}-`,l):l.push(z(Oq,{style:i.value,prefixCls:u,key:`nested-${s+h}`},{default:()=>[d]},mc.PROPS|mc.STYLE,["style","prefixCls"]))}):TUe(c)&&l.push(z(Oq,{style:i.value,prefixCls:u,key:`LoopKey${s+f}`},{default:()=>[c]},mc.PROPS|mc.STYLE,["style","prefixCls"]))}),l}return()=>{var o;const{spacer:s,direction:l}=e,u=De(t,"default",{key:0},()=>[]);if(((o=u.children)!=null?o:[]).length===0)return null;if(pt(u.children)){let c=a(u.children);if(s){const f=c.length-1;c=c.reduce((d,h,p)=>{const v=[...d,h];return p!==f&&v.push(z("span",{style:[i.value,l==="vertical"?"width: 100%":null],key:p},[pa(s)?s:$n(s,mc.TEXT)],mc.STYLE)),v},[])}return z("div",{class:n.value,style:r.value},c,mc.STYLE|mc.CLASS)}return u.children}}}),kXe=Un(BXe),FXe=gt({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:Ie([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Ie([String,Object,Array])}}),UXe=le({name:"ElStatistic"}),VXe=le({...UXe,props:FXe,setup(e,{expose:t}){const n=e,r=at("statistic"),i=$(()=>{const{value:a,formatter:o,precision:s,decimalSeparator:l,groupSeparator:u}=n;if(on(o))return o(a);if(!gn(a)||Number.isNaN(a))return a;let[c,f=""]=String(a).split(".");return f=f.padEnd(s,"0").slice(0,s>0?s:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,u),[c,f].join(f?l:"")});return t({displayValue:i}),(a,o)=>(H(),Q("div",{class:j(y(r).b())},[a.$slots.title||a.title?(H(),Q("div",{key:0,class:j(y(r).e("head"))},[De(a.$slots,"title",{},()=>[$n(nt(a.title),1)])],2)):Be("v-if",!0),I("div",{class:j(y(r).e("content"))},[a.$slots.prefix||a.prefix?(H(),Q("div",{key:0,class:j(y(r).e("prefix"))},[De(a.$slots,"prefix",{},()=>[I("span",null,nt(a.prefix),1)])],2)):Be("v-if",!0),I("span",{class:j(y(r).e("number")),style:en(a.valueStyle)},nt(y(i)),7),a.$slots.suffix||a.suffix?(H(),Q("div",{key:1,class:j(y(r).e("suffix"))},[De(a.$slots,"suffix",{},()=>[I("span",null,nt(a.suffix),1)])],2)):Be("v-if",!0)],2)],2))}});var zXe=_t(VXe,[["__file","statistic.vue"]]);const t0e=Un(zXe),$Xe=gt({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:Ie([Number,Object]),default:0},valueStyle:{type:Ie([String,Object,Array])}}),HXe={finish:()=>!0,[wi]:e=>gn(e)},WXe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],Pq=e=>gn(e)?new Date(e).getTime():e.valueOf(),Lq=(e,t)=>{let n=e;const r=/\[([^\]]*)]/g;return WXe.reduce((a,[o,s])=>{const l=new RegExp(`${o}+(?![^\\[\\]]*\\])`,"g");if(l.test(a)){const u=Math.floor(n/s);return n-=u*s,a.replace(l,c=>String(u).padStart(c.length,"0"))}return a},t).replace(r,"$1")},GXe=le({name:"ElCountdown"}),jXe=le({...GXe,props:$Xe,emits:HXe,setup(e,{expose:t,emit:n}){const r=e;let i;const a=Y(0),o=$(()=>Lq(a.value,r.format)),s=c=>Lq(c,r.format),l=()=>{i&&(fy(i),i=void 0)},u=()=>{const c=Pq(r.value),f=()=>{let d=c-Date.now();n("change",d),d<=0?(d=0,l(),n("finish")):i=Dg(f),a.value=d};i=Dg(f)};return Tn(()=>{a.value=Pq(r.value)-Date.now(),tt(()=>[r.value,r.format],()=>{l(),u()},{immediate:!0})}),Oi(()=>{l()}),t({displayValue:o}),(c,f)=>(H(),Ue(y(t0e),{value:a.value,title:c.title,prefix:c.prefix,suffix:c.suffix,"value-style":c.valueStyle,formatter:s},Nc({_:2},[Nn(c.$slots,(d,h)=>({name:h,fn:J(()=>[De(c.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var YXe=_t(jXe,[["__file","countdown.vue"]]);const XXe=Un(YXe),KXe=gt({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),qXe={[wi]:(e,t)=>[e,t].every(gn)},ZXe=le({name:"ElSteps"}),QXe=le({...ZXe,props:KXe,emits:qXe,setup(e,{emit:t}){const n=e,r=at("steps"),{children:i,addChild:a,removeChild:o}=j$(or(),"ElStep");return tt(i,()=>{i.value.forEach((s,l)=>{s.setIndex(l)})}),mr("ElSteps",{props:n,steps:i,addStep:a,removeStep:o}),tt(()=>n.active,(s,l)=>{t(wi,s,l)}),(s,l)=>(H(),Q("div",{class:j([y(r).b(),y(r).m(s.simple?"simple":s.direction)])},[De(s.$slots,"default")],2))}});var JXe=_t(QXe,[["__file","steps.vue"]]);const eKe=gt({title:{type:String,default:""},icon:{type:Ci},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),tKe=le({name:"ElStep"}),nKe=le({...tKe,props:eKe,setup(e){const t=e,n=at("step"),r=Y(-1),i=Y({}),a=Y(""),o=$t("ElSteps"),s=or();Tn(()=>{tt([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],([A])=>{x(A)},{immediate:!0})}),Oi(()=>{o.removeStep(E.uid)});const l=$(()=>t.status||a.value),u=$(()=>{const A=o.steps.value[r.value-1];return A?A.currentStatus:"wait"}),c=$(()=>o.props.alignCenter),f=$(()=>o.props.direction==="vertical"),d=$(()=>o.props.simple),h=$(()=>o.steps.value.length),p=$(()=>{var A;return((A=o.steps.value[h.value-1])==null?void 0:A.uid)===(s==null?void 0:s.uid)}),v=$(()=>d.value?"":o.props.space),g=$(()=>[n.b(),n.is(d.value?"simple":o.props.direction),n.is("flex",p.value&&!v.value&&!c.value),n.is("center",c.value&&!f.value&&!d.value)]),m=$(()=>{const A={flexBasis:gn(v.value)?`${v.value}px`:v.value?v.value:`${100/(h.value-(c.value?0:1))}%`};return f.value||p.value&&(A.maxWidth=`${100/h.value}%`),A}),b=A=>{r.value=A},_=A=>{const T=A==="wait",R={transitionDelay:`${T?"-":""}${150*r.value}ms`},M=A===o.props.processStatus||T?0:100;R.borderWidth=M&&!d.value?"1px":0,R[o.props.direction==="vertical"?"height":"width"]=`${M}%`,i.value=R},x=A=>{A>r.value?a.value=o.props.finishStatus:A===r.value&&u.value!=="error"?a.value=o.props.processStatus:a.value="wait";const T=o.steps.value[r.value-1];T&&T.calcProgress(a.value)},E=zn({uid:s.uid,currentStatus:l,setIndex:b,calcProgress:_});return o.addStep(E),(A,T)=>(H(),Q("div",{style:en(y(m)),class:j(y(g))},[Be(" icon & line "),I("div",{class:j([y(n).e("head"),y(n).is(y(l))])},[y(d)?Be("v-if",!0):(H(),Q("div",{key:0,class:j(y(n).e("line"))},[I("i",{class:j(y(n).e("line-inner")),style:en(i.value)},null,6)],2)),I("div",{class:j([y(n).e("icon"),y(n).is(A.icon||A.$slots.icon?"icon":"text")])},[De(A.$slots,"icon",{},()=>[A.icon?(H(),Ue(y(Xt),{key:0,class:j(y(n).e("icon-inner"))},{default:J(()=>[(H(),Ue(cr(A.icon)))]),_:1},8,["class"])):y(l)==="success"?(H(),Ue(y(Xt),{key:1,class:j([y(n).e("icon-inner"),y(n).is("status")])},{default:J(()=>[z(y(jT))]),_:1},8,["class"])):y(l)==="error"?(H(),Ue(y(Xt),{key:2,class:j([y(n).e("icon-inner"),y(n).is("status")])},{default:J(()=>[z(y(Yf))]),_:1},8,["class"])):y(d)?Be("v-if",!0):(H(),Q("div",{key:3,class:j(y(n).e("icon-inner"))},nt(r.value+1),3))])],2)],2),Be(" title & description "),I("div",{class:j(y(n).e("main"))},[I("div",{class:j([y(n).e("title"),y(n).is(y(l))])},[De(A.$slots,"title",{},()=>[$n(nt(A.title),1)])],2),y(d)?(H(),Q("div",{key:0,class:j(y(n).e("arrow"))},null,2)):(H(),Q("div",{key:1,class:j([y(n).e("description"),y(n).is(y(l))])},[De(A.$slots,"description",{},()=>[$n(nt(A.description),1)])],2))],2)],6))}});var n0e=_t(nKe,[["__file","item.vue"]]);const rKe=Un(JXe,{Step:n0e}),iKe=Aa(n0e),r0e=e=>["",...uh].includes(e),aKe=gt({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:r0e},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Ci},activeActionIcon:{type:Ci},activeIcon:{type:Ci},inactiveIcon:{type:Ci},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Ie(Function)},id:String,tabindex:{type:[String,Number]},...gs(["ariaLabel"])}),oKe={[Yn]:e=>Bi(e)||an(e)||gn(e),[wi]:e=>Bi(e)||an(e)||gn(e),[Ms]:e=>Bi(e)||an(e)||gn(e)},i0e="ElSwitch",sKe=le({name:i0e}),lKe=le({...sKe,props:aKe,emits:oKe,setup(e,{expose:t,emit:n}){const r=e,{formItem:i}=Bs(),a=oo(),o=at("switch"),{inputId:s}=zc(r,{formItemContext:i}),l=ks($(()=>r.loading)),u=Y(r.modelValue!==!1),c=Y(),f=Y(),d=$(()=>[o.b(),o.m(a.value),o.is("disabled",l.value),o.is("checked",m.value)]),h=$(()=>[o.e("label"),o.em("label","left"),o.is("active",!m.value)]),p=$(()=>[o.e("label"),o.em("label","right"),o.is("active",m.value)]),v=$(()=>({width:Na(r.width)}));tt(()=>r.modelValue,()=>{u.value=!0});const g=$(()=>u.value?r.modelValue:!1),m=$(()=>g.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(g.value)||(n(Yn,r.inactiveValue),n(wi,r.inactiveValue),n(Ms,r.inactiveValue)),tt(m,E=>{var A;c.value.checked=E,r.validateEvent&&((A=i==null?void 0:i.validate)==null||A.call(i,"change").catch(T=>void 0))});const b=()=>{const E=m.value?r.inactiveValue:r.activeValue;n(Yn,E),n(wi,E),n(Ms,E),fn(()=>{c.value.checked=m.value})},_=()=>{if(l.value)return;const{beforeChange:E}=r;if(!E){b();return}const A=E();[g2(A),Bi(A)].includes(!0)||Ro(i0e,"beforeChange must return type `Promise<boolean>` or `boolean`"),g2(A)?A.then(R=>{R&&b()}).catch(R=>{}):A&&b()},x=()=>{var E,A;(A=(E=c.value)==null?void 0:E.focus)==null||A.call(E)};return Tn(()=>{c.value.checked=m.value}),t({focus:x,checked:m}),(E,A)=>(H(),Q("div",{class:j(y(d)),onClick:xn(_,["prevent"])},[I("input",{id:y(s),ref_key:"input",ref:c,class:j(y(o).e("input")),type:"checkbox",role:"switch","aria-checked":y(m),"aria-disabled":y(l),"aria-label":E.ariaLabel,name:E.name,"true-value":E.activeValue,"false-value":E.inactiveValue,disabled:y(l),tabindex:E.tabindex,onChange:b,onKeydown:Mi(_,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!E.inlinePrompt&&(E.inactiveIcon||E.inactiveText)?(H(),Q("span",{key:0,class:j(y(h))},[E.inactiveIcon?(H(),Ue(y(Xt),{key:0},{default:J(()=>[(H(),Ue(cr(E.inactiveIcon)))]),_:1})):Be("v-if",!0),!E.inactiveIcon&&E.inactiveText?(H(),Q("span",{key:1,"aria-hidden":y(m)},nt(E.inactiveText),9,["aria-hidden"])):Be("v-if",!0)],2)):Be("v-if",!0),I("span",{ref_key:"core",ref:f,class:j(y(o).e("core")),style:en(y(v))},[E.inlinePrompt?(H(),Q("div",{key:0,class:j(y(o).e("inner"))},[E.activeIcon||E.inactiveIcon?(H(),Ue(y(Xt),{key:0,class:j(y(o).is("icon"))},{default:J(()=>[(H(),Ue(cr(y(m)?E.activeIcon:E.inactiveIcon)))]),_:1},8,["class"])):E.activeText||E.inactiveText?(H(),Q("span",{key:1,class:j(y(o).is("text")),"aria-hidden":!y(m)},nt(y(m)?E.activeText:E.inactiveText),11,["aria-hidden"])):Be("v-if",!0)],2)):Be("v-if",!0),I("div",{class:j(y(o).e("action"))},[E.loading?(H(),Ue(y(Xt),{key:0,class:j(y(o).is("loading"))},{default:J(()=>[z(y(Qd))]),_:1},8,["class"])):y(m)?De(E.$slots,"active-action",{key:1},()=>[E.activeActionIcon?(H(),Ue(y(Xt),{key:0},{default:J(()=>[(H(),Ue(cr(E.activeActionIcon)))]),_:1})):Be("v-if",!0)]):y(m)?Be("v-if",!0):De(E.$slots,"inactive-action",{key:2},()=>[E.inactiveActionIcon?(H(),Ue(y(Xt),{key:0},{default:J(()=>[(H(),Ue(cr(E.inactiveActionIcon)))]),_:1})):Be("v-if",!0)])],2)],6),!E.inlinePrompt&&(E.activeIcon||E.activeText)?(H(),Q("span",{key:1,class:j(y(p))},[E.activeIcon?(H(),Ue(y(Xt),{key:0},{default:J(()=>[(H(),Ue(cr(E.activeIcon)))]),_:1})):Be("v-if",!0),!E.activeIcon&&E.activeText?(H(),Q("span",{key:1,"aria-hidden":!y(m)},nt(E.activeText),9,["aria-hidden"])):Be("v-if",!0)],2)):Be("v-if",!0)],10,["onClick"]))}});var uKe=_t(lKe,[["__file","switch.vue"]]);const cKe=Un(uKe),aN=function(e){var t;return(t=e.target)==null?void 0:t.closest("td")},fKe=function(e,t,n,r,i){if(!t&&!r&&(!i||pt(i)&&!i.length))return e;an(n)?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const a=r?null:function(s,l){return i?(pt(i)||(i=[i]),i.map(u=>an(u)?Ja(s,u):u(s,l,e))):(t!=="$key"&&nr(s)&&"$value"in s&&(s=s.$value),[nr(s)?Ja(s,t):s])},o=function(s,l){if(r)return r(s.value,l.value);for(let u=0,c=s.key.length;u<c;u++){if(s.key[u]<l.key[u])return-1;if(s.key[u]>l.key[u])return 1}return 0};return e.map((s,l)=>({value:s,index:l,key:a?a(s,l):null})).sort((s,l)=>{let u=o(s,l);return u||(u=s.index-l.index),u*+n}).map(s=>s.value)},a0e=function(e,t){let n=null;return e.columns.forEach(r=>{r.id===t&&(n=r)}),n},dKe=function(e,t){let n=null;for(let r=0;r<e.columns.length;r++){const i=e.columns[r];if(i.columnKey===t){n=i;break}}return n||Ro("ElTable",`No column matching with column-key: ${t}`),n},Nq=function(e,t,n){const r=(t.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return r?a0e(e,r[0]):null},Qs=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(an(t)){if(!t.includes("."))return`${e[t]}`;const n=t.split(".");let r=e;for(const i of n)r=r[i];return`${r}`}else if(on(t))return t.call(null,e)},O0=function(e,t){const n={};return(e||[]).forEach((r,i)=>{n[Qs(r,t)]={row:r,index:i}}),n};function hKe(e,t){const n={};let r;for(r in e)n[r]=e[r];for(r in t)if(Yr(t,r)){const i=t[r];typeof i<"u"&&(n[r]=i)}return n}function yH(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function o0e(e){return e===""||e!==void 0&&(e=yH(e),Number.isNaN(e)&&(e=80)),e}function pKe(e){return gn(e)?e:an(e)?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function vKe(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function wM(e,t,n,r,i,a){let o=a??0,s=!1;const l=e.indexOf(t),u=l!==-1,c=i==null?void 0:i.call(null,t,a),f=h=>{h==="add"?e.push(t):e.splice(l,1),s=!0},d=h=>{let p=0;const v=(r==null?void 0:r.children)&&h[r.children];return v&&pt(v)&&(p+=v.length,v.forEach(g=>{p+=d(g)})),p};return(!i||c)&&(Bi(n)?n&&!u?f("add"):!n&&u&&f("remove"):f(u?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&pt(t[r.children])&&t[r.children].forEach(h=>{wM(e,h,n??!u,r,i,o+1),o+=d(h)+1}),s}function gKe(e,t,n="children",r="hasChildren"){const i=o=>!(pt(o)&&o.length);function a(o,s,l){t(o,s,l),s.forEach(u=>{if(u[r]){t(u,null,l+1);return}const c=u[n];i(c)||a(u,c,l+1)})}e.forEach(o=>{if(o[r]){t(o,null,0);return}const s=o[n];i(s)||a(o,s,0)})}const Bq=(e,t)=>({content:t,...e,popperOptions:{strategy:"fixed",...e.popperOptions}});let cc=null;function mKe(e,t,n,r){if((cc==null?void 0:cc.trigger)===n){gve(cc.vm.component.props,Bq(e,t));return}cc==null||cc();const i=r==null?void 0:r.refs.tableWrapper,a=i==null?void 0:i.dataset.prefix,o=z(Ps,{virtualTriggering:!0,virtualRef:n,appendTo:i,placement:"top",transition:"none",offset:0,hideAfter:0,...Bq(e,t)});o.appContext={...r.appContext,...r};const s=document.createElement("div");Mg(o,s),o.component.exposed.onOpen();const l=i==null?void 0:i.querySelector(`.${a}-scrollbar__wrap`);cc=()=>{Mg(null,s),l==null||l.removeEventListener("scroll",cc),cc=null},cc.trigger=n,cc.vm=o,l==null||l.addEventListener("scroll",cc)}function s0e(e){return e.children?_Be(e.children,s0e):[e]}function kq(e,t){return e+t.colSpan}const l0e=(e,t,n,r)=>{let i=0,a=e;const o=n.states.columns.value;if(r){const l=s0e(r[e]);i=o.slice(0,o.indexOf(l[0])).reduce(kq,0),a=i+l.reduce(kq,0)-1}else i=e;let s;switch(t){case"left":a<n.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":i>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:a<n.states.fixedLeafColumnsLength.value?s="left":i>=o.length-n.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:i,after:a}:{}},_H=(e,t,n,r,i,a=0)=>{const o=[],{direction:s,start:l,after:u}=l0e(t,n,r,i);if(s){const c=s==="left";o.push(`${e}-fixed-column--${s}`),c&&u+a===r.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!c&&l-a===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function Fq(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const bH=(e,t,n,r)=>{const{direction:i,start:a=0,after:o=0}=l0e(e,t,n,r);if(!i)return;const s={},l=i==="left",u=n.states.columns.value;return l?s.left=u.slice(0,a).reduce(Fq,0):s.right=u.slice(o+1).reverse().reduce(Fq,0),s},Lb=(e,t)=>{e&&(Number.isNaN(e[t])||(e[t]=`${e[t]}px`))};function yKe(e){const t=or(),n=Y(!1),r=Y([]);return{updateExpandRows:()=>{const l=e.data.value||[],u=e.rowKey.value;if(n.value)r.value=l.slice();else if(u){const c=O0(r.value,u);r.value=l.reduce((f,d)=>{const h=Qs(d,u);return c[h]&&f.push(d),f},[])}else r.value=[]},toggleRowExpansion:(l,u)=>{wM(r.value,l,u)&&t.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{t.store.assertRowKey();const u=e.data.value||[],c=e.rowKey.value,f=O0(u,c);r.value=l.reduce((d,h)=>{const p=f[h];return p&&d.push(p.row),d},[])},isRowExpanded:l=>{const u=e.rowKey.value;return u?!!O0(r.value,u)[Qs(l,u)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:n}}}function _Ke(e){const t=or(),n=Y(null),r=Y(null),i=u=>{t.store.assertRowKey(),n.value=u,o(u)},a=()=>{n.value=null},o=u=>{const{data:c,rowKey:f}=e;let d=null;f.value&&(d=(y(c)||[]).find(h=>Qs(h,f.value)===u)),r.value=d,t.emit("current-change",r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:a,setCurrentRowByKey:o,updateCurrentRow:u=>{const c=r.value;if(u&&u!==c){r.value=u,t.emit("current-change",r.value,c);return}!u&&c&&(r.value=null,t.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=e.rowKey.value,c=e.data.value||[],f=r.value;if(!c.includes(f)&&f){if(u){const d=Qs(f,u);o(d)}else r.value=null;r.value===null&&t.emit("current-change",null,f)}else n.value&&(o(n.value),a())},states:{_currentRowKey:n,currentRow:r}}}function bKe(e){const t=Y([]),n=Y({}),r=Y(16),i=Y(!1),a=Y({}),o=Y("hasChildren"),s=Y("children"),l=Y(!1),u=or(),c=$(()=>{if(!e.rowKey.value)return{};const _=e.data.value||[];return d(_)}),f=$(()=>{const _=e.rowKey.value,x=Object.keys(a.value),E={};return x.length&&x.forEach(A=>{if(a.value[A].length){const T={children:[]};a.value[A].forEach(R=>{const M=Qs(R,_);T.children.push(M),R[o.value]&&!E[M]&&(E[M]={children:[]})}),E[A]=T}}),E}),d=_=>{const x=e.rowKey.value,E={};return gKe(_,(A,T,R)=>{const M=Qs(A,x);pt(T)?E[M]={children:T.map(O=>Qs(O,x)),level:R}:i.value&&(E[M]={children:[],lazy:!0,level:R})},s.value,o.value),E},h=(_=!1,x=(E=>(E=u.store)==null?void 0:E.states.defaultExpandAll.value)())=>{var E;const A=c.value,T=f.value,R=Object.keys(A),M={};if(R.length){const O=y(n),D=[],C=(B,U)=>{if(_)return t.value?x||t.value.includes(U):!!(x||B!=null&&B.expanded);{const L=x||t.value&&t.value.includes(U);return!!(B!=null&&B.expanded||L)}};R.forEach(B=>{const U=O[B],L={...A[B]};if(L.expanded=C(U,B),L.lazy){const{loaded:F=!1,loading:N=!1}=U||{};L.loaded=!!F,L.loading=!!N,D.push(B)}M[B]=L});const P=Object.keys(T);i.value&&P.length&&D.length&&P.forEach(B=>{const U=O[B],L=T[B].children;if(D.includes(B)){if(M[B].children.length!==0)throw new Error("[ElTable]children must be an empty array.");M[B].children=L}else{const{loaded:F=!1,loading:N=!1}=U||{};M[B]={lazy:!0,loaded:!!F,loading:!!N,expanded:C(U,B),children:L,level:""}}})}n.value=M,(E=u.store)==null||E.updateTableScrollY()};tt(()=>t.value,()=>{h(!0)}),tt(()=>c.value,()=>{h()}),tt(()=>f.value,()=>{h()});const p=_=>{t.value=_,h()},v=(_,x)=>{u.store.assertRowKey();const E=e.rowKey.value,A=Qs(_,E),T=A&&n.value[A];if(A&&T&&"expanded"in T){const R=T.expanded;x=mi(x)?!T.expanded:x,n.value[A].expanded=x,R!==x&&u.emit("expand-change",_,x),u.store.updateTableScrollY()}},g=_=>{u.store.assertRowKey();const x=e.rowKey.value,E=Qs(_,x),A=n.value[E];i.value&&A&&"loaded"in A&&!A.loaded?m(_,E,A):v(_,void 0)},m=(_,x,E)=>{const{load:A}=u.props;A&&!n.value[x].loaded&&(n.value[x].loading=!0,A(_,E,T=>{if(!pt(T))throw new TypeError("[ElTable] data must be an array");n.value[x].loading=!1,n.value[x].loaded=!0,n.value[x].expanded=!0,T.length&&(a.value[x]=T),u.emit("expand-change",_,!0)}))};return{loadData:m,loadOrToggle:g,toggleTreeExpansion:v,updateTreeExpandKeys:p,updateTreeData:h,updateKeyChildren:(_,x)=>{const{lazy:E,rowKey:A}=u.props;if(E){if(!A)throw new Error("[Table] rowKey is required in updateKeyChild");a.value[_]&&(a.value[_]=x)}},normalize:d,states:{expandRowKeys:t,treeData:n,indent:r,lazy:i,lazyTreeNodeMap:a,lazyColumnIdentifier:o,childrenColumnName:s,checkStrictly:l}}}const xKe=(e,t)=>{const n=t.sortingColumn;return!n||an(n.sortable)?e:fKe(e,t.sortProp,t.sortOrder,n.sortMethod,n.sortBy)},u3=e=>{const t=[];return e.forEach(n=>{n.children&&n.children.length>0?t.push.apply(t,u3(n.children)):t.push(n)}),t};function SKe(){var e;const t=or(),{size:n}=ts((e=t.proxy)==null?void 0:e.$props),r=Y(null),i=Y([]),a=Y([]),o=Y(!1),s=Y([]),l=Y([]),u=Y([]),c=Y([]),f=Y([]),d=Y([]),h=Y([]),p=Y([]),v=[],g=Y(0),m=Y(0),b=Y(0),_=Y(!1),x=Y([]),E=Y(!1),A=Y(!1),T=Y(null),R=Y({}),M=Y(null),O=Y(null),D=Y(null),C=Y(null),P=Y(null);tt(i,()=>{var We;t.state&&(N(!1),t.props.tableLayout==="auto"&&((We=t.refs.tableHeaderRef)==null||We.updateFixedColumnStyle()))},{deep:!0});const B=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},U=We=>{var yt;(yt=We.children)==null||yt.forEach(Re=>{Re.fixed=We.fixed,U(Re)})};let L;const F=()=>{s.value.forEach(_e=>{U(_e)}),c.value=s.value.filter(_e=>_e.fixed===!0||_e.fixed==="left"),f.value=s.value.filter(_e=>_e.fixed==="right"),mi(L)&&s.value[0]&&s.value[0].type==="selection"&&(L=!!s.value[0].fixed),c.value.length>0&&s.value[0]&&s.value[0].type==="selection"&&(s.value[0].fixed?c.value.some(It=>It.type!=="selection")?L=void 0:(s.value[0].fixed=L,L||c.value.shift()):(s.value[0].fixed=!0,c.value.unshift(s.value[0])));const We=s.value.filter(_e=>!_e.fixed);l.value=[].concat(c.value).concat(We).concat(f.value);const yt=u3(We),Re=u3(c.value),ut=u3(f.value);g.value=yt.length,m.value=Re.length,b.value=ut.length,u.value=[].concat(Re).concat(yt).concat(ut),o.value=c.value.length>0||f.value.length>0},N=(We,yt=!1)=>{We&&F(),yt?t.state.doLayout():t.state.debouncedUpdateLayout()},V=We=>x.value.some(yt=>ps(yt,We)),W=()=>{_.value=!1;const We=x.value;x.value=[],We.length&&t.emit("selection-change",[])},G=()=>{let We;if(r.value){We=[];const yt=O0(x.value,r.value),Re=O0(i.value,r.value);for(const ut in yt)Yr(yt,ut)&&!Re[ut]&&We.push(yt[ut].row)}else We=x.value.filter(yt=>!i.value.includes(yt));if(We.length){const yt=x.value.filter(Re=>!We.includes(Re));x.value=yt,t.emit("selection-change",yt.slice())}},K=()=>(x.value||[]).slice(),q=(We,yt,Re=!0,ut=!1)=>{var _e,It,Pn,pr;const _i={children:(It=(_e=t==null?void 0:t.store)==null?void 0:_e.states)==null?void 0:It.childrenColumnName.value,checkStrictly:(pr=(Pn=t==null?void 0:t.store)==null?void 0:Pn.states)==null?void 0:pr.checkStrictly.value};if(wM(x.value,We,yt,_i,ut?void 0:T.value)){const Ki=(x.value||[]).slice();Re&&t.emit("select",Ki,We),t.emit("selection-change",Ki)}},ue=()=>{var We,yt;const Re=A.value?!_.value:!(_.value||x.value.length);_.value=Re;let ut=!1,_e=0;const It=(yt=(We=t==null?void 0:t.store)==null?void 0:We.states)==null?void 0:yt.rowKey.value,{childrenColumnName:Pn}=t.store.states,pr={children:Pn.value,checkStrictly:!1};i.value.forEach((_i,lo)=>{const Ki=lo+_e;wM(x.value,_i,Re,pr,T.value,Ki)&&(ut=!0),_e+=ee(Qs(_i,It))}),ut&&t.emit("selection-change",x.value?x.value.slice():[]),t.emit("select-all",(x.value||[]).slice())},he=()=>{const We=O0(x.value,r.value);i.value.forEach(yt=>{const Re=Qs(yt,r.value),ut=We[Re];ut&&(x.value[ut.index]=yt)})},Ce=()=>{var We;if(((We=i.value)==null?void 0:We.length)===0){_.value=!1;return}const{childrenColumnName:yt}=t.store.states,Re=r.value?O0(x.value,r.value):void 0;let ut=0,_e=0;const It=_i=>Re?!!Re[Qs(_i,r.value)]:x.value.includes(_i),Pn=_i=>{var lo;for(const Ki of _i){const Di=T.value&&T.value.call(null,Ki,ut);if(It(Ki))_e++;else if(!T.value||Di)return!1;if(ut++,(lo=Ki[yt.value])!=null&&lo.length&&!Pn(Ki[yt.value]))return!1}return!0},pr=Pn(i.value||[]);_.value=_e===0?!1:pr},ee=We=>{var yt;if(!t||!t.store)return 0;const{treeData:Re}=t.store.states;let ut=0;const _e=(yt=Re.value[We])==null?void 0:yt.children;return _e&&(ut+=_e.length,_e.forEach(It=>{ut+=ee(It)})),ut},de=(We,yt)=>{pt(We)||(We=[We]);const Re={};return We.forEach(ut=>{R.value[ut.id]=yt,Re[ut.columnKey||ut.id]=yt}),Re},oe=(We,yt,Re)=>{O.value&&O.value!==We&&(O.value.order=null),O.value=We,D.value=yt,C.value=Re},pe=()=>{let We=y(a);Object.keys(R.value).forEach(yt=>{const Re=R.value[yt];if(!Re||Re.length===0)return;const ut=a0e({columns:u.value},yt);ut&&ut.filterMethod&&(We=We.filter(_e=>Re.some(It=>ut.filterMethod.call(null,It,_e,ut))))}),M.value=We},me=()=>{i.value=xKe(M.value,{sortingColumn:O.value,sortProp:D.value,sortOrder:C.value})},re=(We=void 0)=>{We&&We.filter||pe(),me()},ne=We=>{const{tableHeaderRef:yt}=t.refs;if(!yt)return;const Re=Object.assign({},yt.filterPanels),ut=Object.keys(Re);if(ut.length)if(an(We)&&(We=[We]),pt(We)){const _e=We.map(It=>dKe({columns:u.value},It));ut.forEach(It=>{const Pn=_e.find(pr=>pr.id===It);Pn&&(Pn.filteredValue=[])}),t.store.commit("filterChange",{column:_e,values:[],silent:!0,multi:!0})}else ut.forEach(_e=>{const It=u.value.find(Pn=>Pn.id===_e);It&&(It.filteredValue=[])}),R.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},se=()=>{O.value&&(oe(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:be,toggleRowExpansion:Pe,updateExpandRows:Ee,states:Le,isRowExpanded:He}=yKe({data:i,rowKey:r}),{updateTreeExpandKeys:rt,toggleTreeExpansion:Je,updateTreeData:ot,updateKeyChildren:ae,loadOrToggle:Xe,states:Tt}=bKe({data:i,rowKey:r}),{updateCurrentRowData:sn,updateCurrentRow:Mn,setCurrentRowKey:Sn,states:En}=_Ke({data:i,rowKey:r});return{assertRowKey:B,updateColumns:F,scheduleLayout:N,isSelected:V,clearSelection:W,cleanSelection:G,getSelectionRows:K,toggleRowSelection:q,_toggleAllSelection:ue,toggleAllSelection:null,updateSelectionByRowKey:he,updateAllSelected:Ce,updateFilters:de,updateCurrentRow:Mn,updateSort:oe,execFilter:pe,execSort:me,execQuery:re,clearFilter:ne,clearSort:se,toggleRowExpansion:Pe,setExpandRowKeysAdapter:We=>{be(We),rt(We)},setCurrentRowKey:Sn,toggleRowExpansionAdapter:(We,yt)=>{u.value.some(({type:ut})=>ut==="expand")?Pe(We,yt):Je(We,yt)},isRowExpanded:He,updateExpandRows:Ee,updateCurrentRowData:sn,loadOrToggle:Xe,updateTreeData:ot,updateKeyChildren:ae,states:{tableSize:n,rowKey:r,data:i,_data:a,isComplex:o,_columns:s,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:f,leafColumns:d,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:v,leafColumnsLength:g,fixedLeafColumnsLength:m,rightFixedLeafColumnsLength:b,isAllSelected:_,selection:x,reserveSelection:E,selectOnIndeterminate:A,selectable:T,filters:R,filteredData:M,sortingColumn:O,sortProp:D,sortOrder:C,hoverRow:P,...Le,...Tt,...En}}}function wU(e,t){return e.map(n=>{var r;return n.id===t.id?t:((r=n.children)!=null&&r.length&&(n.children=wU(n.children,t)),n)})}function CU(e){e.forEach(t=>{var n,r;t.no=(n=t.getColumnIndex)==null?void 0:n.call(t),(r=t.children)!=null&&r.length&&CU(t.children)}),e.sort((t,n)=>t.no-n.no)}function AKe(){const e=or(),t=SKe();return{ns:at("table"),...t,mutations:{setData(o,s){const l=y(o._data)!==s;o.data.value=s,o._data.value=s,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),y(o.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):l?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(o,s,l,u){const c=y(o._columns);let f=[];l?(l&&!l.children&&(l.children=[]),l.children.push(s),f=wU(c,l)):(c.push(s),f=c),CU(f),o._columns.value=f,o.updateOrderFns.push(u),s.type==="selection"&&(o.selectable.value=s.selectable,o.reserveSelection.value=s.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},updateColumnOrder(o,s){var l;((l=s.getColumnIndex)==null?void 0:l.call(s))!==s.no&&(CU(o._columns.value),e.$ready&&e.store.updateColumns())},removeColumn(o,s,l,u){const c=y(o._columns)||[];if(l)l.children.splice(l.children.findIndex(d=>d.id===s.id),1),fn(()=>{var d;((d=l.children)==null?void 0:d.length)===0&&delete l.children}),o._columns.value=wU(c,l);else{const d=c.indexOf(s);d>-1&&(c.splice(d,1),o._columns.value=c)}const f=o.updateOrderFns.indexOf(u);f>-1&&o.updateOrderFns.splice(f,1),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(o,s){const{prop:l,order:u,init:c}=s;if(l){const f=y(o.columns).find(d=>d.property===l);f&&(f.order=u,e.store.updateSort(f,l,u),e.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(o,s){const{sortingColumn:l,sortProp:u,sortOrder:c}=o,f=y(l),d=y(u),h=y(c);h===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const p={filter:!0};e.store.execQuery(p),(!s||!(s.silent||s.init))&&e.emit("sort-change",{column:f,prop:d,order:h}),e.store.updateTableScrollY()},filterChange(o,s){const{column:l,values:u,silent:c}=s,f=e.store.updateFilters(l,u);e.store.execQuery(),c||e.emit("filter-change",f),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(o,s){e.store.toggleRowSelection(s),e.store.updateAllSelected()},setHoverRow(o,s){o.hoverRow.value=s},setCurrentRow(o,s){e.store.updateCurrentRow(s)}},commit:function(o,...s){const l=e.store.mutations;if(l[o])l[o].apply(e,[e.store.states].concat(s));else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){fn(()=>e.layout.updateScrollY.apply(e.layout))}}}const WE={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function EKe(e,t){if(!e)throw new Error("Table is required.");const n=AKe();return n.toggleAllSelection=yu(n._toggleAllSelection,10),Object.keys(WE).forEach(r=>{u0e(c0e(t,r),r,n)}),TKe(n,t),n}function TKe(e,t){Object.keys(WE).forEach(n=>{tt(()=>c0e(t,n),r=>{u0e(r,n,e)})})}function u0e(e,t,n){let r=e,i=WE[t];typeof WE[t]=="object"&&(i=i.key,r=r||WE[t].default),n.states[i].value=r}function c0e(e,t){if(t.includes(".")){const n=t.split(".");let r=e;return n.forEach(i=>{r=r[i]}),r}else return e[t]}class wKe{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Y(null),this.scrollX=Y(!1),this.scrollY=Y(!1),this.bodyWidth=Y(null),this.fixedWidth=Y(null),this.rightFixedWidth=Y(null),this.gutterWidth=0;for(const n in t)Yr(t,n)&&(Gi(this[n])?this[n].value=t[n]:this[n]=t[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let r=!0;const i=this.scrollY.value;return r=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=r,i!==r}return!1}setHeight(t,n="height"){if(!Pr)return;const r=this.table.vnode.el;if(t=pKe(t),this.height.value=Number(t),!r&&(t||t===0))return fn(()=>this.setHeight(t,n));gn(t)?(r.style[n]=`${t}px`,this.updateElsHeight()):an(t)&&(r.style[n]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?t.push.apply(t,r.columns):t.push(r)}),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let n=t;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!Pr)return;const t=this.fit,n=this.table.vnode.el.clientWidth;let r=0;const i=this.getFlattenColumns(),a=i.filter(l=>!gn(l.width));if(i.forEach(l=>{gn(l.width)&&l.realWidth&&(l.realWidth=null)}),a.length>0&&t){if(i.forEach(l=>{r+=Number(l.width||l.minWidth||80)}),r<=n){this.scrollX.value=!1;const l=n-r;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+l;else{const u=a.reduce((d,h)=>d+Number(h.minWidth||80),0),c=l/u;let f=0;a.forEach((d,h)=>{if(h===0)return;const p=Math.floor(Number(d.minWidth||80)*c);f+=p,d.realWidth=Number(d.minWidth||80)+p}),a[0].realWidth=Number(a[0].minWidth||80)+l-f}}else this.scrollX.value=!0,a.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(r,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),r+=l.realWidth}),this.scrollX.value=r>n,this.bodyWidth.value=r;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const s=this.store.states.rightFixedColumns.value;if(s.length>0){let l=0;s.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const n=this.observers.indexOf(t);n!==-1&&this.observers.splice(n,1)}notifyObservers(t){this.observers.forEach(r=>{var i,a;switch(t){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(a=r.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:CKe}=ju,RKe=le({name:"ElTableFilterPanel",components:{ElCheckbox:ju,ElCheckboxGroup:CKe,ElScrollbar:ch,ElTooltip:Ps,ElIcon:Xt,ArrowDown:Vp,ArrowUp:T$},directives:{ClickOutside:wp},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(e){const t=or(),{t:n}=Lr(),r=at("table-filter"),i=t==null?void 0:t.parent;i.filterPanels.value[e.column.id]||(i.filterPanels.value[e.column.id]=t);const a=Y(!1),o=Y(null),s=$(()=>e.column&&e.column.filters),l=$(()=>e.column.filterClassName?`${r.b()} ${e.column.filterClassName}`:r.b()),u=$({get:()=>{var E;return(((E=e.column)==null?void 0:E.filteredValue)||[])[0]},set:E=>{c.value&&(typeof E<"u"&&E!==null?c.value.splice(0,1,E):c.value.splice(0,1))}}),c=$({get(){return e.column?e.column.filteredValue||[]:[]},set(E){e.column&&e.upDataColumn("filteredValue",E)}}),f=$(()=>e.column?e.column.filterMultiple:!0),d=E=>E.value===u.value,h=()=>{a.value=!1},p=E=>{E.stopPropagation(),a.value=!a.value},v=()=>{a.value=!1},g=()=>{_(c.value),h()},m=()=>{c.value=[],_(c.value),h()},b=E=>{u.value=E,_(typeof E<"u"&&E!==null?c.value:[]),h()},_=E=>{e.store.commit("filterChange",{column:e.column,values:E}),e.store.updateAllSelected()};tt(a,E=>{e.column&&e.upDataColumn("filterOpened",E)},{immediate:!0});const x=$(()=>{var E,A;return(A=(E=o.value)==null?void 0:E.popperRef)==null?void 0:A.contentRef});return{tooltipVisible:a,multiple:f,filterClassName:l,filteredValue:c,filterValue:u,filters:s,handleConfirm:g,handleReset:m,handleSelect:b,isActive:d,t:n,ns:r,showFilterPanel:p,hideFilterPanel:v,popperPaneRef:x,tooltip:o}}});function IKe(e,t,n,r,i,a){const o=ur("el-checkbox"),s=ur("el-checkbox-group"),l=ur("el-scrollbar"),u=ur("arrow-up"),c=ur("arrow-down"),f=ur("el-icon"),d=ur("el-tooltip"),h=TD("click-outside");return H(),Ue(d,{ref:"tooltip",visible:e.tooltipVisible,offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.filterClassName,persistent:"","append-to":e.appendTo},{content:J(()=>[e.multiple?(H(),Q("div",{key:0},[I("div",{class:j(e.ns.e("content"))},[z(l,{"wrap-class":e.ns.e("wrap")},{default:J(()=>[z(s,{modelValue:e.filteredValue,"onUpdate:modelValue":p=>e.filteredValue=p,class:j(e.ns.e("checkbox-group"))},{default:J(()=>[(H(!0),Q(St,null,Nn(e.filters,p=>(H(),Ue(o,{key:p.value,value:p.value},{default:J(()=>[$n(nt(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),I("div",{class:j(e.ns.e("bottom"))},[I("button",{class:j({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:e.handleConfirm},nt(e.t("el.table.confirmFilter")),11,["disabled","onClick"]),I("button",{type:"button",onClick:e.handleReset},nt(e.t("el.table.resetFilter")),9,["onClick"])],2)])):(H(),Q("ul",{key:1,class:j(e.ns.e("list"))},[I("li",{class:j([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:p=>e.handleSelect(null)},nt(e.t("el.table.clearFilter")),11,["onClick"]),(H(!0),Q(St,null,Nn(e.filters,p=>(H(),Q("li",{key:p.value,class:j([e.ns.e("list-item"),e.ns.is("active",e.isActive(p))]),label:p.value,onClick:v=>e.handleSelect(p.value)},nt(p.text),11,["label","onClick"]))),128))],2))]),default:J(()=>[Wn((H(),Q("span",{class:j([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:e.showFilterPanel},[z(f,null,{default:J(()=>[De(e.$slots,"filter-icon",{},()=>[e.column.filterOpened?(H(),Ue(u,{key:0})):(H(),Ue(c,{key:1}))])]),_:3})],10,["onClick"])),[[h,e.hideFilterPanel,e.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var MKe=_t(RKe,[["render",IKe],["__file","filter-panel.vue"]]);function f0e(e){const t=or();ED(()=>{n.value.addObserver(t)}),Tn(()=>{r(n.value),i(n.value)}),lh(()=>{r(n.value),i(n.value)}),so(()=>{n.value.removeObserver(t)});const n=$(()=>{const a=e.layout;if(!a)throw new Error("Can not find table layout.");return a}),r=a=>{var o;const s=((o=e.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!s.length)return;const l=a.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,f=s.length;c<f;c++){const d=s[c],h=d.getAttribute("name"),p=u[h];p&&d.setAttribute("width",p.realWidth||p.width)}},i=a=>{var o,s;const l=((o=e.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,f=l.length;c<f;c++)l[c].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const u=((s=e.vnode.el)==null?void 0:s.querySelectorAll("th.gutter"))||[];for(let c=0,f=u.length;c<f;c++){const d=u[c];d.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",d.style.display=a.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:r,onScrollableChange:i}}const fh=Symbol("ElTable");function OKe(e,t){const n=or(),r=$t(fh),i=v=>{v.stopPropagation()},a=(v,g)=>{!g.filters&&g.sortable?p(v,g,!1):g.filterable&&!g.sortable&&i(v),r==null||r.emit("header-click",g,v)},o=(v,g)=>{r==null||r.emit("header-contextmenu",g,v)},s=Y(null),l=Y(!1),u=Y({}),c=(v,g)=>{if(Pr&&!(g.children&&g.children.length>0)&&s.value&&e.border){l.value=!0;const m=r;t("set-drag-visible",!0);const _=(m==null?void 0:m.vnode.el).getBoundingClientRect().left,x=n.vnode.el.querySelector(`th.${g.id}`),E=x.getBoundingClientRect(),A=E.left-_+30;Rc(x,"noclick"),u.value={startMouseLeft:v.clientX,startLeft:E.right-_,startColumnLeft:E.left-_,tableLeft:_};const T=m==null?void 0:m.refs.resizeProxy;T.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const R=O=>{const D=O.clientX-u.value.startMouseLeft,C=u.value.startLeft+D;T.style.left=`${Math.max(A,C)}px`},M=()=>{if(l.value){const{startColumnLeft:O,startLeft:D}=u.value,P=Number.parseInt(T.style.left,10)-O;g.width=g.realWidth=P,m==null||m.emit("header-dragend",g.width,D-O,g,v),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,s.value=null,u.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",M),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{el(x,"noclick")},0)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",M)}},f=(v,g)=>{var m;if(g.children&&g.children.length>0)return;const b=v.target;if(!Vu(b))return;const _=b==null?void 0:b.closest("th");if(!(!g||!g.resizable||!_)&&!l.value&&e.border){const x=_.getBoundingClientRect(),E=document.body.style,A=((m=_.parentNode)==null?void 0:m.lastElementChild)===_;x.width>12&&x.right-v.pageX<8&&!A?(E.cursor="col-resize",pu(_,"is-sortable")&&(_.style.cursor="col-resize"),s.value=g):l.value||(E.cursor="",pu(_,"is-sortable")&&(_.style.cursor="pointer"),s.value=null)}},d=()=>{Pr&&(document.body.style.cursor="")},h=({order:v,sortOrders:g})=>{if(v==="")return g[0];const m=g.indexOf(v||null);return g[m>g.length-2?0:m+1]},p=(v,g,m)=>{var b;v.stopPropagation();const _=g.order===m?null:m||h(g),x=(b=v.target)==null?void 0:b.closest("th");if(x&&pu(x,"noclick")){el(x,"noclick");return}if(!g.sortable)return;const E=v.currentTarget;if(["ascending","descending"].some(O=>pu(E,O)&&!g.sortOrders.includes(O)))return;const A=e.store.states;let T=A.sortProp.value,R;const M=A.sortingColumn.value;(M!==g||M===g&&M.order===null)&&(M&&(M.order=null),A.sortingColumn.value=g,T=g.property),_?R=g.order=_:R=g.order=null,A.sortProp.value=T,A.sortOrder.value=R,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:o,handleMouseDown:c,handleMouseMove:f,handleMouseOut:d,handleSortClick:p,handleFilterClick:i}}function DKe(e){const t=$t(fh),n=at("table");return{getHeaderRowStyle:s=>{const l=t==null?void 0:t.props.headerRowStyle;return on(l)?l.call(null,{rowIndex:s}):l},getHeaderRowClass:s=>{const l=[],u=t==null?void 0:t.props.headerRowClassName;return an(u)?l.push(u):on(u)&&l.push(u.call(null,{rowIndex:s})),l.join(" ")},getHeaderCellStyle:(s,l,u,c)=>{var f;let d=(f=t==null?void 0:t.props.headerCellStyle)!=null?f:{};on(d)&&(d=d.call(null,{rowIndex:s,columnIndex:l,row:u,column:c}));const h=bH(l,c.fixed,e.store,u);return Lb(h,"left"),Lb(h,"right"),Object.assign({},d,h)},getHeaderCellClass:(s,l,u,c)=>{const f=_H(n.b(),l,c.fixed,e.store,u),d=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...f];c.children||d.push("is-leaf"),c.sortable&&d.push("is-sortable");const h=t==null?void 0:t.props.headerCellClassName;return an(h)?d.push(h):on(h)&&d.push(h.call(null,{rowIndex:s,columnIndex:l,row:u,column:c})),d.push(n.e("cell")),d.filter(p=>!!p).join(" ")}}}const d0e=e=>{const t=[];return e.forEach(n=>{n.children?(t.push(n),t.push.apply(t,d0e(n.children))):t.push(n)}),t},h0e=e=>{let t=1;const n=(a,o)=>{if(o&&(a.level=o.level+1,t<a.level&&(t=a.level)),a.children){let s=0;a.children.forEach(l=>{n(l,a),s+=l.colSpan}),a.colSpan=s}else a.colSpan=1};e.forEach(a=>{a.level=1,n(a,void 0)});const r=[];for(let a=0;a<t;a++)r.push([]);return d0e(e).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(o=>o.isSubColumn=!0)):a.rowSpan=t-a.level+1,r[a.level-1].push(a)}),r};function PKe(e){const t=$t(fh),n=$(()=>h0e(e.store.states.originColumns.value));return{isGroup:$(()=>{const a=n.value.length>1;return a&&t&&(t.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:n}}var LKe=le({name:"ElTableHeader",components:{ElCheckbox:ju},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(e,{emit:t}){const n=or(),r=$t(fh),i=at("table"),a=Y({}),{onColumnsChange:o,onScrollableChange:s}=f0e(r),l=(r==null?void 0:r.props.tableLayout)==="auto",u=zn(new Map),c=Y(),f=()=>{setTimeout(()=>{u.size>0&&(u.forEach((O,D)=>{const C=c.value.querySelector(`.${D.replace(/\s/g,".")}`);if(C){const P=C.getBoundingClientRect().width;O.width=P}}),u.clear())})};tt(u,f),Tn(async()=>{await fn(),await fn();const{prop:O,order:D}=e.defaultSort;r==null||r.store.commit("sort",{prop:O,order:D,init:!0}),f()});const{handleHeaderClick:d,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:v,handleMouseOut:g,handleSortClick:m,handleFilterClick:b}=OKe(e,t),{getHeaderRowStyle:_,getHeaderRowClass:x,getHeaderCellStyle:E,getHeaderCellClass:A}=DKe(e),{isGroup:T,toggleAllSelection:R,columnRows:M}=PKe(e);return n.state={onColumnsChange:o,onScrollableChange:s},n.filterPanels=a,{ns:i,filterPanels:a,onColumnsChange:o,onScrollableChange:s,columnRows:M,getHeaderRowClass:x,getHeaderRowStyle:_,getHeaderCellClass:A,getHeaderCellStyle:E,handleHeaderClick:d,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:v,handleMouseOut:g,handleSortClick:m,handleFilterClick:b,isGroup:T,toggleAllSelection:R,saveIndexSelection:u,isTableLayoutAuto:l,theadRef:c,updateFixedColumnStyle:f}},render(){const{ns:e,isGroup:t,columnRows:n,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:a,getHeaderRowStyle:o,handleHeaderClick:s,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:f,handleMouseOut:d,store:h,$parent:p,saveIndexSelection:v,isTableLayoutAuto:g}=this;let m=1;return pn("thead",{ref:"theadRef",class:{[e.is("group")]:t}},n.map((b,_)=>pn("tr",{class:a(_),key:_,style:o(_)},b.map((x,E)=>{x.rowSpan>m&&(m=x.rowSpan);const A=i(_,E,b,x);return g&&x.fixed&&v.set(A,x),pn("th",{class:A,colspan:x.colSpan,key:`${x.id}-thead`,rowspan:x.rowSpan,style:r(_,E,b,x),onClick:T=>{T.currentTarget.classList.contains("noclick")||s(T,x)},onContextmenu:T=>l(T,x),onMousedown:T=>u(T,x),onMousemove:T=>c(T,x),onMouseout:d},[pn("div",{class:["cell",x.filteredValue&&x.filteredValue.length>0?"highlight":""]},[x.renderHeader?x.renderHeader({column:x,$index:E,store:h,_self:p}):x.label,x.sortable&&pn("span",{onClick:T=>f(T,x),class:"caret-wrapper"},[pn("i",{onClick:T=>f(T,x,"ascending"),class:"sort-caret ascending"}),pn("i",{onClick:T=>f(T,x,"descending"),class:"sort-caret descending"})]),x.filterable&&pn(MKe,{store:h,placement:x.filterPlacement||"bottom-start",appendTo:p.appendFilterPanelTo,column:x,upDataColumn:(T,R)=>{x[T]=R}},{"filter-icon":()=>x.renderFilterIcon?x.renderFilterIcon({filterOpened:x.filterOpened}):null})])])}))))}});function oN(e,t,n=.03){return e-t>n}function NKe(e){const t=$t(fh),n=Y(""),r=Y(pn("div")),i=(p,v,g)=>{var m;const b=t,_=aN(p);let x;const E=(m=b==null?void 0:b.vnode.el)==null?void 0:m.dataset.prefix;_&&(x=Nq({columns:e.store.states.columns.value},_,E),x&&(b==null||b.emit(`cell-${g}`,v,x,_,p))),b==null||b.emit(`row-${g}`,v,x,p)},a=(p,v)=>{i(p,v,"dblclick")},o=(p,v)=>{e.store.commit("setCurrentRow",v),i(p,v,"click")},s=(p,v)=>{i(p,v,"contextmenu")},l=yu(p=>{e.store.commit("setHoverRow",p)},30),u=yu(()=>{e.store.commit("setHoverRow",null)},30),c=p=>{const v=window.getComputedStyle(p,null),g=Number.parseInt(v.paddingLeft,10)||0,m=Number.parseInt(v.paddingRight,10)||0,b=Number.parseInt(v.paddingTop,10)||0,_=Number.parseInt(v.paddingBottom,10)||0;return{left:g,right:m,top:b,bottom:_}},f=(p,v,g)=>{let m=v.target.parentNode;for(;p>1&&(m=m==null?void 0:m.nextSibling,!(!m||m.nodeName!=="TR"));)g(m,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:a,handleClick:o,handleContextMenu:s,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(p,v,g)=>{var m;const b=t,_=aN(p),x=(m=b==null?void 0:b.vnode.el)==null?void 0:m.dataset.prefix;if(_){const F=Nq({columns:e.store.states.columns.value},_,x);_.rowSpan>1&&f(_.rowSpan,p,Rc);const N=b.hoverState={cell:_,column:F,row:v};b==null||b.emit("cell-mouse-enter",N.row,N.column,N.cell,p)}if(!g)return;const E=p.target.querySelector(".cell");if(!(pu(E,`${x}-tooltip`)&&E.childNodes.length))return;const A=document.createRange();A.setStart(E,0),A.setEnd(E,E.childNodes.length);const{width:T,height:R}=A.getBoundingClientRect(),{width:M,height:O}=E.getBoundingClientRect(),{top:D,left:C,right:P,bottom:B}=c(E),U=C+P,L=D+B;(oN(T+U,M)||oN(R+L,O)||oN(E.scrollWidth,M))&&mKe(g,_.innerText||_.textContent,_,b)},handleCellMouseLeave:p=>{const v=aN(p);if(!v)return;v.rowSpan>1&&f(v.rowSpan,p,el);const g=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",g==null?void 0:g.row,g==null?void 0:g.column,g==null?void 0:g.cell,p)},tooltipContent:n,tooltipTrigger:r}}function BKe(e){const t=$t(fh),n=at("table");return{getRowStyle:(u,c)=>{const f=t==null?void 0:t.props.rowStyle;return on(f)?f.call(null,{row:u,rowIndex:c}):f||null},getRowClass:(u,c)=>{const f=[n.e("row")];t!=null&&t.props.highlightCurrentRow&&u===e.store.states.currentRow.value&&f.push("current-row"),e.stripe&&c%2===1&&f.push(n.em("row","striped"));const d=t==null?void 0:t.props.rowClassName;return an(d)?f.push(d):on(d)&&f.push(d.call(null,{row:u,rowIndex:c})),f},getCellStyle:(u,c,f,d)=>{const h=t==null?void 0:t.props.cellStyle;let p=h??{};on(h)&&(p=h.call(null,{rowIndex:u,columnIndex:c,row:f,column:d}));const v=bH(c,e==null?void 0:e.fixed,e.store);return Lb(v,"left"),Lb(v,"right"),Object.assign({},p,v)},getCellClass:(u,c,f,d,h)=>{const p=_H(n.b(),c,e==null?void 0:e.fixed,e.store,void 0,h),v=[d.id,d.align,d.className,...p],g=t==null?void 0:t.props.cellClassName;return an(g)?v.push(g):on(g)&&v.push(g.call(null,{rowIndex:u,columnIndex:c,row:f,column:d})),v.push(n.e("cell")),v.filter(m=>!!m).join(" ")},getSpan:(u,c,f,d)=>{let h=1,p=1;const v=t==null?void 0:t.props.spanMethod;if(on(v)){const g=v({row:u,column:c,rowIndex:f,columnIndex:d});pt(g)?(h=g[0],p=g[1]):typeof g=="object"&&(h=g.rowspan,p=g.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(u,c,f)=>{if(c<1)return u[f].realWidth;const d=u.map(({realWidth:h,width:p})=>h||p).slice(f,f+c);return Number(d.reduce((h,p)=>Number(h)+Number(p),-1))}}}const kKe=le({name:"TableTdWrapper"}),FKe=le({...kKe,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(e){return(t,n)=>(H(),Q("td",{colspan:e.colspan,rowspan:e.rowspan},[De(t.$slots,"default")],8,["colspan","rowspan"]))}});var UKe=_t(FKe,[["__file","td-wrapper.vue"]]);function VKe(e){const t=$t(fh),n=at("table"),{handleDoubleClick:r,handleClick:i,handleContextMenu:a,handleMouseEnter:o,handleMouseLeave:s,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:f}=NKe(e),{getRowStyle:d,getRowClass:h,getCellStyle:p,getCellClass:v,getSpan:g,getColspanRealWidth:m}=BKe(e),b=$(()=>e.store.states.columns.value.findIndex(({type:T})=>T==="default")),_=(T,R)=>{const M=t.props.rowKey;return M?Qs(T,M):R},x=(T,R,M,O=!1)=>{const{tooltipEffect:D,tooltipOptions:C,store:P}=e,{indent:B,columns:U}=P.states,L=h(T,R);let F=!0;return M&&(L.push(n.em("row",`level-${M.level}`)),F=M.display),pn("tr",{style:[F?null:{display:"none"},d(T,R)],class:L,key:_(T,R),onDblclick:V=>r(V,T),onClick:V=>i(V,T),onContextmenu:V=>a(V,T),onMouseenter:()=>o(R),onMouseleave:s},U.value.map((V,W)=>{const{rowspan:G,colspan:K}=g(T,V,R,W);if(!G||!K)return null;const q=Object.assign({},V);q.realWidth=m(U.value,K,W);const ue={store:e.store,_self:e.context||t,column:q,row:T,$index:R,cellIndex:W,expanded:O};W===b.value&&M&&(ue.treeNode={indent:M.level*B.value,level:M.level},Bi(M.expanded)&&(ue.treeNode.expanded=M.expanded,"loading"in M&&(ue.treeNode.loading=M.loading),"noLazyChildren"in M&&(ue.treeNode.noLazyChildren=M.noLazyChildren)));const he=`${_(T,R)},${W}`,Ce=q.columnKey||q.rawColumnKey||"",ee=V.showOverflowTooltip&&gve({effect:D},C,V.showOverflowTooltip);return pn(UKe,{style:p(R,W,T,V),class:v(R,W,T,V,K-1),key:`${Ce}${he}`,rowspan:G,colspan:K,onMouseenter:de=>l(de,T,ee),onMouseleave:u},{default:()=>E(W,V,ue)})}))},E=(T,R,M)=>R.renderCell(M);return{wrappedRowRender:(T,R)=>{const M=e.store,{isRowExpanded:O,assertRowKey:D}=M,{treeData:C,lazyTreeNodeMap:P,childrenColumnName:B,rowKey:U}=M.states,L=M.states.columns.value;if(L.some(({type:N})=>N==="expand")){const N=O(T),V=x(T,R,void 0,N),W=t.renderExpanded;return N?W?[[V,pn("tr",{key:`expanded-row__${V.key}`},[pn("td",{colspan:L.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[W({row:T,$index:R,store:M,expanded:N})])])]]:(console.error("[Element Error]renderExpanded is required."),V):[[V]]}else if(Object.keys(C.value).length){D();const N=Qs(T,U.value);let V=C.value[N],W=null;V&&(W={expanded:V.expanded,level:V.level,display:!0},Bi(V.lazy)&&(Bi(V.loaded)&&V.loaded&&(W.noLazyChildren=!(V.children&&V.children.length)),W.loading=V.loading));const G=[x(T,R,W)];if(V){let K=0;const q=(he,Ce)=>{he&&he.length&&Ce&&he.forEach(ee=>{const de={display:Ce.display&&Ce.expanded,level:Ce.level+1,expanded:!1,noLazyChildren:!1,loading:!1},oe=Qs(ee,U.value);if(oe==null)throw new Error("For nested data item, row-key is required.");if(V={...C.value[oe]},V&&(de.expanded=V.expanded,V.level=V.level||de.level,V.display=!!(V.expanded&&de.display),Bi(V.lazy)&&(Bi(V.loaded)&&V.loaded&&(de.noLazyChildren=!(V.children&&V.children.length)),de.loading=V.loading)),K++,G.push(x(ee,R+K,de)),V){const pe=P.value[oe]||ee[B.value];q(pe,V)}})};V.display=!0;const ue=P.value[N]||T[B.value];q(ue,V)}return G}else return x(T,R,void 0)},tooltipContent:c,tooltipTrigger:f}}const zKe={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var $Ke=le({name:"ElTableBody",props:zKe,setup(e){const t=or(),n=$t(fh),r=at("table"),{wrappedRowRender:i,tooltipContent:a,tooltipTrigger:o}=VKe(e),{onColumnsChange:s,onScrollableChange:l}=f0e(n),u=[];return tt(e.store.states.hoverRow,(c,f)=>{var d;const h=t==null?void 0:t.vnode.el,p=Array.from((h==null?void 0:h.children)||[]).filter(m=>m==null?void 0:m.classList.contains(`${r.e("row")}`));let v=c;const g=(d=p[v])==null?void 0:d.childNodes;if(g!=null&&g.length){let m=0;Array.from(g).reduce((_,x,E)=>{var A,T;return((A=g[E])==null?void 0:A.colSpan)>1&&(m=(T=g[E])==null?void 0:T.colSpan),x.nodeName!=="TD"&&m===0&&_.push(E),m>0&&m--,_},[]).forEach(_=>{var x;for(v=c;v>0;){const E=(x=p[v-1])==null?void 0:x.childNodes;if(E[_]&&E[_].nodeName==="TD"&&E[_].rowSpan>1){Rc(E[_],"hover-cell"),u.push(E[_]);break}v--}})}else u.forEach(m=>el(m,"hover-cell")),u.length=0;!e.store.states.isComplex.value||!Pr||Dg(()=>{const m=p[f],b=p[c];m&&!m.classList.contains("hover-fixed-row")&&el(m,"hover-row"),b&&Rc(b,"hover-row")})}),so(()=>{var c;(c=cc)==null||c()}),{ns:r,onColumnsChange:s,onScrollableChange:l,wrappedRowRender:i,tooltipContent:a,tooltipTrigger:o}},render(){const{wrappedRowRender:e,store:t}=this,n=t.states.data.value||[];return pn("tbody",{tabIndex:-1},[n.reduce((r,i)=>r.concat(e(i,r.length)),[])])}});function HKe(){const e=$t(fh),t=e==null?void 0:e.store,n=$(()=>t.states.fixedLeafColumnsLength.value),r=$(()=>t.states.rightFixedColumns.value.length),i=$(()=>t.states.columns.value.length),a=$(()=>t.states.fixedColumns.value.length),o=$(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:a,rightFixedCount:o,columns:t.states.columns}}function WKe(e){const{columns:t}=HKe(),n=at("table");return{getCellClasses:(a,o)=>{const s=a[o],l=[n.e("cell"),s.id,s.align,s.labelClassName,..._H(n.b(),o,s.fixed,e.store)];return s.className&&l.push(s.className),s.children||l.push(n.is("leaf")),l},getCellStyles:(a,o)=>{const s=bH(o,a.fixed,e.store);return Lb(s,"left"),Lb(s,"right"),s},columns:t}}var GKe=le({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:n,columns:r}=WKe(e);return{ns:at("table"),getCellClasses:t,getCellStyles:n,columns:r}},render(){const{columns:e,getCellStyles:t,getCellClasses:n,summaryMethod:r,sumText:i}=this,a=this.store.states.data.value;let o=[];return r?o=r({columns:e,data:a}):e.forEach((s,l)=>{if(l===0){o[l]=i;return}const u=a.map(h=>Number(h[s.property])),c=[];let f=!0;u.forEach(h=>{if(!Number.isNaN(+h)){f=!1;const p=`${h}`.split(".")[1];c.push(p?p.length:0)}});const d=Math.max.apply(null,c);f?o[l]="":o[l]=u.reduce((h,p)=>{const v=Number(p);return Number.isNaN(+v)?h:Number.parseFloat((h+p).toFixed(Math.min(d,20)))},0)}),pn(pn("tfoot",[pn("tr",{},[...e.map((s,l)=>pn("td",{key:l,colspan:s.colSpan,rowspan:s.rowSpan,class:n(e,l),style:t(s,l)},[pn("div",{class:["cell",s.labelClassName]},[o[l]])]))])]))}});function jKe(e){return{setCurrentRow:f=>{e.commit("setCurrentRow",f)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(f,d,h=!0)=>{e.toggleRowSelection(f,d,!1,h),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:f=>{e.clearFilter(f)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(f,d)=>{e.toggleRowExpansionAdapter(f,d)},clearSort:()=>{e.clearSort()},sort:(f,d)=>{e.commit("sort",{prop:f,order:d})},updateKeyChildren:(f,d)=>{e.updateKeyChildren(f,d)}}}function YKe(e,t,n,r){const i=Y(!1),a=Y(null),o=Y(!1),s=N=>{o.value=N},l=Y({width:null,height:null,headerHeight:null}),u=Y(!1),c={display:"inline-block",verticalAlign:"middle"},f=Y(),d=Y(0),h=Y(0),p=Y(0),v=Y(0),g=Y(0);Is(()=>{t.setHeight(e.height)}),Is(()=>{t.setMaxHeight(e.maxHeight)}),tt(()=>[e.currentRowKey,n.states.rowKey],([N,V])=>{!y(V)||!y(N)||n.setCurrentRowKey(`${N}`)},{immediate:!0}),tt(()=>e.data,N=>{r.store.commit("setData",N)},{immediate:!0,deep:!0}),Is(()=>{e.expandRowKeys&&n.setExpandRowKeysAdapter(e.expandRowKeys)});const m=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},b=(N,V)=>{const{pixelX:W,pixelY:G}=V;Math.abs(W)>=Math.abs(G)&&(r.refs.bodyWrapper.scrollLeft+=V.pixelX/5)},_=$(()=>e.height||e.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),x=$(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),E=()=>{_.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(M)};Tn(async()=>{await fn(),n.updateColumns(),O(),requestAnimationFrame(E);const N=r.vnode.el,V=r.refs.headerWrapper;e.flexible&&N&&N.parentElement&&(N.parentElement.style.minWidth="0"),l.value={width:f.value=N.offsetWidth,height:N.offsetHeight,headerHeight:e.showHeader&&V?V.offsetHeight:null},n.states.columns.value.forEach(W=>{W.filteredValue&&W.filteredValue.length&&r.store.commit("filterChange",{column:W,values:W.filteredValue,silent:!0})}),r.$ready=!0});const A=(N,V)=>{if(!N)return;const W=Array.from(N.classList).filter(G=>!G.startsWith("is-scrolling-"));W.push(t.scrollX.value?V:"is-scrolling-none"),N.className=W.join(" ")},T=N=>{const{tableWrapper:V}=r.refs;A(V,N)},R=N=>{const{tableWrapper:V}=r.refs;return!!(V&&V.classList.contains(N))},M=function(){if(!r.refs.scrollBarRef)return;if(!t.scrollX.value){const he="is-scrolling-none";R(he)||T(he);return}const N=r.refs.scrollBarRef.wrapRef;if(!N)return;const{scrollLeft:V,offsetWidth:W,scrollWidth:G}=N,{headerWrapper:K,footerWrapper:q}=r.refs;K&&(K.scrollLeft=V),q&&(q.scrollLeft=V);const ue=G-W-1;V>=ue?T("is-scrolling-right"):T(V===0?"is-scrolling-left":"is-scrolling-middle")},O=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&xi(r.refs.scrollBarRef.wrapRef,"scroll",M,{passive:!0}),e.fit?oa(r.vnode.el,D):xi(window,"resize",D),oa(r.refs.bodyWrapper,()=>{var N,V;D(),(V=(N=r.refs)==null?void 0:N.scrollBarRef)==null||V.update()}))},D=()=>{var N,V,W,G;const K=r.vnode.el;if(!r.$ready||!K)return;let q=!1;const{width:ue,height:he,headerHeight:Ce}=l.value,ee=f.value=K.offsetWidth;ue!==ee&&(q=!0);const de=K.offsetHeight;(e.height||_.value)&&he!==de&&(q=!0);const oe=e.tableLayout==="fixed"?r.refs.headerWrapper:(N=r.refs.tableHeaderRef)==null?void 0:N.$el;e.showHeader&&(oe==null?void 0:oe.offsetHeight)!==Ce&&(q=!0),d.value=((V=r.refs.tableWrapper)==null?void 0:V.scrollHeight)||0,p.value=(oe==null?void 0:oe.scrollHeight)||0,v.value=((W=r.refs.footerWrapper)==null?void 0:W.offsetHeight)||0,g.value=((G=r.refs.appendWrapper)==null?void 0:G.offsetHeight)||0,h.value=d.value-p.value-v.value-g.value,q&&(l.value={width:ee,height:de,headerHeight:e.showHeader&&(oe==null?void 0:oe.offsetHeight)||0},E())},C=oo(),P=$(()=>{const{bodyWidth:N,scrollY:V,gutterWidth:W}=t;return N.value?`${N.value-(V.value?W:0)}px`:""}),B=$(()=>e.maxHeight?"fixed":e.tableLayout),U=$(()=>{if(e.data&&e.data.length)return null;let N="100%";e.height&&h.value&&(N=`${h.value}px`);const V=f.value;return{width:V?`${V}px`:"",height:N}}),L=$(()=>e.height?{height:"100%"}:e.maxHeight?Number.isNaN(Number(e.maxHeight))?{maxHeight:`calc(${e.maxHeight} - ${p.value+v.value}px)`}:{maxHeight:`${e.maxHeight-p.value-v.value}px`}:{});return{isHidden:i,renderExpanded:a,setDragVisible:s,isGroup:u,handleMouseLeave:m,handleHeaderFooterMousewheel:b,tableSize:C,emptyBlockStyle:U,handleFixedMousewheel:(N,V)=>{const W=r.refs.bodyWrapper;if(Math.abs(V.spinY)>0){const G=W.scrollTop;V.pixelY<0&&G!==0&&N.preventDefault(),V.pixelY>0&&W.scrollHeight-W.clientHeight>G&&N.preventDefault(),W.scrollTop+=Math.ceil(V.pixelY/5)}else W.scrollLeft+=Math.ceil(V.pixelX/5)},resizeProxyVisible:o,bodyWidth:P,resizeState:l,doLayout:E,tableBodyStyles:x,tableLayout:B,scrollbarViewStyle:c,scrollbarStyle:L}}function XKe(e){const t=Y(),n=()=>{const i=e.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},o=e.store.states.updateOrderFns;t.value=new MutationObserver(()=>{o.forEach(s=>s())}),t.value.observe(i,a)};Tn(()=>{n()}),so(()=>{var r;(r=t.value)==null||r.disconnect()})}var KKe={data:{type:Array,default:()=>[]},size:yo,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function p0e(e){const t=e.tableLayout==="auto";let n=e.columns||[];t&&n.every(i=>i.width===void 0)&&(n=[]);const r=i=>{const a={key:`${e.tableLayout}_${i.id}`,style:{},name:void 0};return t?a.style={width:`${i.width}px`}:a.name=i.id,a};return pn("colgroup",{},n.map(i=>pn("col",r(i))))}p0e.props=["columns","tableLayout"];const qKe=()=>{const e=Y(),t=(a,o)=>{const s=e.value;s&&s.scrollTo(a,o)},n=(a,o)=>{const s=e.value;s&&gn(o)&&["Top","Left"].includes(a)&&s[`setScroll${a}`](o)};return{scrollBarRef:e,scrollTo:t,setScrollTop:a=>n("Top",a),setScrollLeft:a=>n("Left",a)}};var Uq=!1,x0,RU,IU,c3,f3,v0e,d3,MU,OU,DU,g0e,PU,LU,m0e,y0e;function Jl(){if(!Uq){Uq=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(PU=/\b(iPhone|iP[ao]d)/.exec(e),LU=/\b(iP[ao]d)/.exec(e),DU=/Android/i.exec(e),m0e=/FBAN\/\w+;/i.exec(e),y0e=/Mobile/i.exec(e),g0e=!!/Win64/.exec(e),t){x0=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,x0&&document&&document.documentMode&&(x0=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);v0e=r?parseFloat(r[1])+4:x0,RU=t[2]?parseFloat(t[2]):NaN,IU=t[3]?parseFloat(t[3]):NaN,c3=t[4]?parseFloat(t[4]):NaN,c3?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),f3=t&&t[1]?parseFloat(t[1]):NaN):f3=NaN}else x0=RU=IU=f3=c3=NaN;if(n){if(n[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);d3=i?parseFloat(i[1].replace("_",".")):!0}else d3=!1;MU=!!n[2],OU=!!n[3]}else d3=MU=OU=!1}}var NU={ie:function(){return Jl()||x0},ieCompatibilityMode:function(){return Jl()||v0e>x0},ie64:function(){return NU.ie()&&g0e},firefox:function(){return Jl()||RU},opera:function(){return Jl()||IU},webkit:function(){return Jl()||c3},safari:function(){return NU.webkit()},chrome:function(){return Jl()||f3},windows:function(){return Jl()||MU},osx:function(){return Jl()||d3},linux:function(){return Jl()||OU},iphone:function(){return Jl()||PU},mobile:function(){return Jl()||PU||LU||DU||y0e},nativeApp:function(){return Jl()||m0e},android:function(){return Jl()||DU},ipad:function(){return Jl()||LU}},ZKe=NU,fR=!!(typeof window<"u"&&window.document&&window.document.createElement),QKe={canUseDOM:fR,canUseWorkers:typeof Worker<"u",canUseEventListeners:fR&&!!(window.addEventListener||window.attachEvent),canUseViewport:fR&&!!window.screen,isInWorker:!fR},_0e=QKe,b0e;_0e.canUseDOM&&(b0e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function JKe(e,t){if(!_0e.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r=typeof i[n]=="function"}return!r&&b0e&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var eqe=JKe,Vq=10,zq=40,$q=800;function x0e(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*Vq,i=n*Vq,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||i)&&e.deltaMode&&(e.deltaMode==1?(r*=zq,i*=zq):(r*=$q,i*=$q)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}}x0e.getEventType=function(){return ZKe.firefox()?"DOMMouseScroll":eqe("wheel")?"wheel":"mousewheel"};var tqe=x0e;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const nqe=function(e,t){if(e&&e.addEventListener){const n=function(r){const i=tqe(r);t&&Reflect.apply(t,this,[r,i])};e.addEventListener("wheel",n,{passive:!0})}},rqe={beforeMount(e,t){nqe(e,t.value)}};let iqe=1;const aqe=le({name:"ElTable",directives:{Mousewheel:rqe},components:{TableHeader:LKe,TableBody:$Ke,TableFooter:GKe,ElScrollbar:ch,hColgroup:p0e},props:KKe,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(e){const{t}=Lr(),n=at("table"),r=or();mr(fh,r);const i=EKe(r,e);r.store=i;const a=new wKe({store:r.store,table:r,fit:e.fit,showHeader:e.showHeader});r.layout=a;const o=$(()=>(i.states.data.value||[]).length===0),{setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,sort:v,updateKeyChildren:g}=jKe(i),{isHidden:m,renderExpanded:b,setDragVisible:_,isGroup:x,handleMouseLeave:E,handleHeaderFooterMousewheel:A,tableSize:T,emptyBlockStyle:R,handleFixedMousewheel:M,resizeProxyVisible:O,bodyWidth:D,resizeState:C,doLayout:P,tableBodyStyles:B,tableLayout:U,scrollbarViewStyle:L,scrollbarStyle:F}=YKe(e,a,i,r),{scrollBarRef:N,scrollTo:V,setScrollLeft:W,setScrollTop:G}=qKe(),K=yu(P,50),q=`${n.namespace.value}-table_${iqe++}`;r.tableId=q,r.state={isGroup:x,resizeState:C,doLayout:P,debouncedUpdateLayout:K};const ue=$(()=>{var ee;return(ee=e.sumText)!=null?ee:t("el.table.sumText")}),he=$(()=>{var ee;return(ee=e.emptyText)!=null?ee:t("el.table.emptyText")}),Ce=$(()=>h0e(i.states.originColumns.value)[0]);return XKe(r),Oi(()=>{K.cancel()}),{ns:n,layout:a,store:i,columns:Ce,handleHeaderFooterMousewheel:A,handleMouseLeave:E,tableId:q,tableSize:T,isHidden:m,isEmpty:o,renderExpanded:b,resizeProxyVisible:O,resizeState:C,isGroup:x,bodyWidth:D,tableBodyStyles:B,emptyBlockStyle:R,debouncedUpdateLayout:K,handleFixedMousewheel:M,setCurrentRow:s,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:f,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,doLayout:P,sort:v,updateKeyChildren:g,t,setDragVisible:_,context:r,computedSumText:ue,computedEmptyText:he,tableLayout:U,scrollbarViewStyle:L,scrollbarStyle:F,scrollBarRef:N,scrollTo:V,setScrollLeft:W,setScrollTop:G}}});function oqe(e,t,n,r,i,a){const o=ur("hColgroup"),s=ur("table-header"),l=ur("table-body"),u=ur("table-footer"),c=ur("el-scrollbar"),f=TD("mousewheel");return H(),Q("div",{ref:"tableWrapper",class:j([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:en(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:e.handleMouseLeave},[I("div",{class:j(e.ns.e("inner-wrapper"))},[I("div",{ref:"hiddenColumns",class:"hidden-columns"},[De(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Wn((H(),Q("div",{key:0,ref:"headerWrapper",class:j(e.ns.e("header-wrapper"))},[I("table",{ref:"tableHeader",class:j(e.ns.e("header")),style:en(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[z(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),z(s,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[f,e.handleHeaderFooterMousewheel]]):Be("v-if",!0),I("div",{ref:"bodyWrapper",class:j(e.ns.e("body-wrapper"))},[z(c,{ref:"scrollBarRef","view-style":e.scrollbarViewStyle,"wrap-style":e.scrollbarStyle,always:e.scrollbarAlwaysOn,tabindex:e.scrollbarTabindex,onScroll:d=>e.$emit("scroll",d)},{default:J(()=>[I("table",{ref:"tableBody",class:j(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:en({width:e.bodyWidth,tableLayout:e.tableLayout})},[z(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(H(),Ue(s,{key:0,ref:"tableHeaderRef",class:j(e.ns.e("body-header")),border:e.border,"default-sort":e.defaultSort,store:e.store,"append-filter-panel-to":e.appendFilterPanelTo,onSetDragVisible:e.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Be("v-if",!0),z(l,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"tooltip-options":e.tooltipOptions,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),e.showSummary&&e.tableLayout==="auto"?(H(),Ue(u,{key:1,class:j(e.ns.e("body-footer")),border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Be("v-if",!0)],6),e.isEmpty?(H(),Q("div",{key:0,ref:"emptyBlock",style:en(e.emptyBlockStyle),class:j(e.ns.e("empty-block"))},[I("span",{class:j(e.ns.e("empty-text"))},[De(e.$slots,"empty",{},()=>[$n(nt(e.computedEmptyText),1)])],2)],6)):Be("v-if",!0),e.$slots.append?(H(),Q("div",{key:1,ref:"appendWrapper",class:j(e.ns.e("append-wrapper"))},[De(e.$slots,"append")],2)):Be("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),e.showSummary&&e.tableLayout==="fixed"?Wn((H(),Q("div",{key:1,ref:"footerWrapper",class:j(e.ns.e("footer-wrapper"))},[I("table",{class:j(e.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:en(e.tableBodyStyles)},[z(o,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),z(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Xr,!e.isEmpty],[f,e.handleHeaderFooterMousewheel]]):Be("v-if",!0),e.border||e.isGroup?(H(),Q("div",{key:2,class:j(e.ns.e("border-left-patch"))},null,2)):Be("v-if",!0)],2),Wn(I("div",{ref:"resizeProxy",class:j(e.ns.e("column-resize-proxy"))},null,2),[[Xr,e.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var sqe=_t(aqe,[["render",oqe],["__file","table.vue"]]);const lqe={selection:"table-column--selection",expand:"table__expand-column"},uqe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},cqe=e=>lqe[e]||"",fqe={selection:{renderHeader({store:e,column:t}){function n(){return e.states.data.value&&e.states.data.value.length===0}return pn(ju,{disabled:n(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value,ariaLabel:t.label})},renderCell({row:e,column:t,store:n,$index:r}){return pn(ju,{disabled:t.selectable?!t.selectable.call(null,e,r):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",e)},onClick:i=>i.stopPropagation(),modelValue:n.isSelected(e),ariaLabel:t.label})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let n=t+1;const r=e.index;return gn(r)?n=t+r:on(r)&&(n=r(t)),pn("div",{},[n])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:n}){const{ns:r}=t,i=[r.e("expand-icon")];return n&&i.push(r.em("expand-icon","expanded")),pn("div",{class:i,onClick:function(o){o.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[pn(Xt,null,{default:()=>[pn(Cl)]})]})},sortable:!1,resizable:!1}};function dqe({row:e,column:t,$index:n}){var r;const i=t.property,a=i&&YI(e,i).value;return t&&t.formatter?t.formatter(e,t,a,n):((r=a==null?void 0:a.toString)==null?void 0:r.call(a))||""}function hqe({row:e,treeNode:t,store:n},r=!1){const{ns:i}=n;if(!t)return r?[pn("span",{class:i.e("placeholder")})]:null;const a=[],o=function(s){s.stopPropagation(),!t.loading&&n.loadOrToggle(e)};if(t.indent&&a.push(pn("span",{class:i.e("indent"),style:{"padding-left":`${t.indent}px`}})),Bi(t.expanded)&&!t.noLazyChildren){const s=[i.e("expand-icon"),t.expanded?i.em("expand-icon","expanded"):""];let l=Cl;t.loading&&(l=Qd),a.push(pn("div",{class:s,onClick:o},{default:()=>[pn(Xt,{class:{[i.is("loading")]:t.loading}},{default:()=>[pn(l)]})]}))}else a.push(pn("span",{class:i.e("placeholder")}));return a}function Hq(e,t){return e.reduce((n,r)=>(n[r]=r,n),t)}function pqe(e,t){const n=or();return{registerComplexWatchers:()=>{const a=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},s=Hq(a,o);Object.keys(s).forEach(l=>{const u=o[l];Yr(t,u)&&tt(()=>t[u],c=>{let f=c;u==="width"&&l==="realWidth"&&(f=yH(c)),u==="minWidth"&&l==="realMinWidth"&&(f=o0e(c)),n.columnConfig.value[u]=f,n.columnConfig.value[l]=f;const d=u==="fixed";e.value.store.scheduleLayout(d)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},s=Hq(a,o);Object.keys(s).forEach(l=>{const u=o[l];Yr(t,u)&&tt(()=>t[u],c=>{n.columnConfig.value[l]=c})})}}}function vqe(e,t,n){const r=or(),i=Y(""),a=Y(!1),o=Y(),s=Y(),l=at("table");Is(()=>{o.value=e.align?`is-${e.align}`:null,o.value}),Is(()=>{s.value=e.headerAlign?`is-${e.headerAlign}`:o.value,s.value});const u=$(()=>{let x=r.vnode.vParent||r.parent;for(;x&&!x.tableId&&!x.columnId;)x=x.vnode.vParent||x.parent;return x}),c=$(()=>{const{store:x}=r.parent;if(!x)return!1;const{treeData:E}=x.states,A=E.value;return A&&Object.keys(A).length>0}),f=Y(yH(e.width)),d=Y(o0e(e.minWidth)),h=x=>(f.value&&(x.width=f.value),d.value&&(x.minWidth=d.value),!f.value&&d.value&&(x.width=void 0),x.minWidth||(x.minWidth=80),x.realWidth=Number(x.width===void 0?x.minWidth:x.width),x),p=x=>{const E=x.type,A=fqe[E]||{};Object.keys(A).forEach(R=>{const M=A[R];R!=="className"&&M!==void 0&&(x[R]=M)});const T=cqe(E);if(T){const R=`${y(l.namespace)}-${T}`;x.className=x.className?`${x.className} ${R}`:R}return x},v=x=>{pt(x)?x.forEach(A=>E(A)):E(x);function E(A){var T;((T=A==null?void 0:A.type)==null?void 0:T.name)==="ElTableColumn"&&(A.vParent=r)}};return{columnId:i,realAlign:o,isSubColumn:a,realHeaderAlign:s,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:x=>{e.renderHeader||x.type!=="selection"&&(x.renderHeader=A=>(r.columnConfig.value.label,De(t,"header",A,()=>[x.label]))),t["filter-icon"]&&(x.renderFilterIcon=A=>De(t,"filter-icon",A));let E=x.renderCell;return x.type==="expand"?(x.renderCell=A=>pn("div",{class:"cell"},[E(A)]),n.value.renderExpanded=A=>t.default?t.default(A):t.default):(E=E||dqe,x.renderCell=A=>{let T=null;if(t.default){const P=t.default(A);T=P.some(B=>B.type!==Xo)?P:E(A)}else T=E(A);const{columns:R}=n.value.store.states,M=R.value.findIndex(P=>P.type==="default"),O=c.value&&A.cellIndex===M,D=hqe(A,O),C={class:"cell",style:{}};return x.showOverflowTooltip&&(C.class=`${C.class} ${y(l.namespace)}-tooltip`,C.style={width:`${(A.column.realWidth||Number(A.column.width))-1}px`}),v(T),pn("div",C,[D,T])}),x},getPropsData:(...x)=>x.reduce((E,A)=>(pt(A)&&A.forEach(T=>{E[T]=e[T]}),E),{}),getColumnElIndex:(x,E)=>Array.prototype.indexOf.call(x,E),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var gqe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let mqe=1;var S0e=le({name:"ElTableColumn",components:{ElCheckbox:ju},props:gqe,setup(e,{slots:t}){const n=or(),r=Y({}),i=$(()=>{let _=n.parent;for(;_&&!_.tableId;)_=_.parent;return _}),{registerNormalWatchers:a,registerComplexWatchers:o}=pqe(i,e),{columnId:s,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:f,setColumnForcedProps:d,setColumnRenders:h,getPropsData:p,getColumnElIndex:v,realAlign:g,updateColumnOrder:m}=vqe(e,t,i),b=c.value;s.value=`${b.tableId||b.columnId}_column_${mqe++}`,ED(()=>{l.value=i.value!==b;const _=e.type||"default",x=e.sortable===""?!0:e.sortable,E=mi(e.showOverflowTooltip)?b.props.showOverflowTooltip:e.showOverflowTooltip,A={...uqe[_],id:s.value,type:_,property:e.prop||e.property,align:g,headerAlign:u,showOverflowTooltip:E,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:x,index:e.index,rawColumnKey:n.vnode.key};let D=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);D=hKe(A,D),D=vKe(h,f,d)(D),r.value=D,a(),o()}),Tn(()=>{var _;const x=c.value,E=l.value?x.vnode.el.children:(_=x.refs.hiddenColumns)==null?void 0:_.children,A=()=>v(E||[],n.vnode.el);r.value.getColumnIndex=A,A()>-1&&i.value.store.commit("insertColumn",r.value,l.value?x.columnConfig.value:null,m)}),Oi(()=>{const _=r.value.getColumnIndex;(_?_():-1)>-1&&i.value.store.commit("removeColumn",r.value,l.value?b.columnConfig.value:null,m)}),n.columnId=s.value,n.columnConfig=r},render(){var e,t,n;try{const r=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),i=[];if(pt(r))for(const o of r)((n=o.type)==null?void 0:n.name)==="ElTableColumn"||o.shapeFlag&2?i.push(o):o.type===St&&pt(o.children)&&o.children.forEach(s=>{(s==null?void 0:s.patchFlag)!==1024&&!an(s==null?void 0:s.children)&&i.push(s)});return pn("div",i)}catch{return pn("div",[])}}});const Ex=Un(sqe,{TableColumn:S0e}),Tx=Aa(S0e);var V2=(e=>(e.ASC="asc",e.DESC="desc",e))(V2||{}),z2=(e=>(e.CENTER="center",e.RIGHT="right",e))(z2||{}),A0e=(e=>(e.LEFT="left",e.RIGHT="right",e))(A0e||{});const BU={asc:"desc",desc:"asc"},$2=Symbol("placeholder"),yqe=(e,t,n)=>{var r;const i={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};n||(i.flexShrink=1);const a={...(r=e.style)!=null?r:{},...i,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a};function _qe(e,t,n){const r=$(()=>y(t).map((g,m)=>{var b,_;return{...g,key:(_=(b=g.key)!=null?b:g.dataKey)!=null?_:m}})),i=$(()=>y(r).filter(g=>!g.hidden)),a=$(()=>y(i).filter(g=>g.fixed==="left"||g.fixed===!0)),o=$(()=>y(i).filter(g=>g.fixed==="right")),s=$(()=>y(i).filter(g=>!g.fixed)),l=$(()=>{const g=[];return y(a).forEach(m=>{g.push({...m,placeholderSign:$2})}),y(s).forEach(m=>{g.push(m)}),y(o).forEach(m=>{g.push({...m,placeholderSign:$2})}),g}),u=$(()=>y(a).length||y(o).length),c=$(()=>y(r).reduce((g,m)=>(g[m.key]=yqe(m,y(n),e.fixed),g),{})),f=$(()=>y(i).reduce((g,m)=>g+m.width,0)),d=g=>y(r).find(m=>m.key===g),h=g=>y(c)[g],p=(g,m)=>{g.width=m};function v(g){var m;const{key:b}=g.currentTarget.dataset;if(!b)return;const{sortState:_,sortBy:x}=e;let E=V2.ASC;nr(_)?E=BU[_[b]]:E=BU[x.order],(m=e.onColumnSort)==null||m.call(e,{column:d(b),key:b,order:E})}return{columns:r,columnsStyles:c,columnsTotalWidth:f,fixedColumnsOnLeft:a,fixedColumnsOnRight:o,hasFixedColumns:u,mainColumns:l,normalColumns:s,visibleColumns:i,getColumn:d,getColumnStyle:h,updateColumnWidth:p,onColumnSorted:v}}const bqe=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:i})=>{const a=Y({scrollLeft:0,scrollTop:0});function o(h){var p,v,g;const{scrollTop:m}=h;(p=t.value)==null||p.scrollTo(h),(v=n.value)==null||v.scrollToTop(m),(g=r.value)==null||g.scrollToTop(m)}function s(h){a.value=h,o(h)}function l(h){a.value.scrollTop=h,o(y(a))}function u(h){var p,v;a.value.scrollLeft=h,(v=(p=t.value)==null?void 0:p.scrollTo)==null||v.call(p,y(a))}function c(h){var p;s(h),(p=e.onScroll)==null||p.call(e,h)}function f({scrollTop:h}){const{scrollTop:p}=y(a);h!==p&&l(h)}function d(h,p="auto"){var v;(v=t.value)==null||v.scrollToRow(h,p)}return tt(()=>y(a).scrollTop,(h,p)=>{h>p&&i()}),{scrollPos:a,scrollTo:s,scrollToLeft:u,scrollToTop:l,scrollToRow:d,onScroll:c,onVerticalScroll:f}},xqe=(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:i,ns:a,isScrolling:o})=>{const s=or(),{emit:l}=s,u=Ni(!1),c=Y(e.defaultExpandedRowKeys||[]),f=Y(-1),d=Ni(null),h=Y({}),p=Y({}),v=Ni({}),g=Ni({}),m=Ni({}),b=$(()=>gn(e.estimatedRowHeight));function _(O){var D;(D=e.onRowsRendered)==null||D.call(e,O),O.rowCacheEnd>y(f)&&(f.value=O.rowCacheEnd)}function x({hovered:O,rowKey:D}){if(o.value)return;i.vnode.el.querySelectorAll(`[rowkey="${String(D)}"]`).forEach(B=>{O?B.classList.add(a.is("hovered")):B.classList.remove(a.is("hovered"))})}function E({expanded:O,rowData:D,rowIndex:C,rowKey:P}){var B,U;const L=[...y(c)],F=L.indexOf(P);O?F===-1&&L.push(P):F>-1&&L.splice(F,1),c.value=L,l("update:expandedRowKeys",L),(B=e.onRowExpand)==null||B.call(e,{expanded:O,rowData:D,rowIndex:C,rowKey:P}),(U=e.onExpandedRowsChange)==null||U.call(e,L)}const A=yu(()=>{var O,D,C,P;u.value=!0,h.value={...y(h),...y(p)},T(y(d),!1),p.value={},d.value=null,(O=t.value)==null||O.forceUpdate(),(D=n.value)==null||D.forceUpdate(),(C=r.value)==null||C.forceUpdate(),(P=s.proxy)==null||P.$forceUpdate(),u.value=!1},0);function T(O,D=!1){y(b)&&[t,n,r].forEach(C=>{const P=y(C);P&&P.resetAfterRowIndex(O,D)})}function R(O,D,C){const P=y(d);(P===null||P>C)&&(d.value=C),p.value[O]=D}function M({rowKey:O,height:D,rowIndex:C},P){P?P===A0e.RIGHT?m.value[O]=D:v.value[O]=D:g.value[O]=D;const B=Math.max(...[v,m,g].map(U=>U.value[O]||0));y(h)[O]!==B&&(R(O,B,C),A())}return{expandedRowKeys:c,lastRenderedRowIndex:f,isDynamic:b,isResetting:u,rowHeights:h,resetAfterIndex:T,onRowExpanded:E,onRowHovered:x,onRowsRendered:_,onRowHeightChange:M}},Sqe=(e,{expandedRowKeys:t,lastRenderedRowIndex:n,resetAfterIndex:r})=>{const i=Y({}),a=$(()=>{const s={},{data:l,rowKey:u}=e,c=y(t);if(!c||!c.length)return l;const f=[],d=new Set;c.forEach(p=>d.add(p));let h=l.slice();for(h.forEach(p=>s[p[u]]=0);h.length>0;){const p=h.shift();f.push(p),d.has(p[u])&&pt(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(v=>s[v[u]]=s[p[u]]+1))}return i.value=s,f}),o=$(()=>{const{data:s,expandColumnKey:l}=e;return l?y(a):s});return tt(o,(s,l)=>{s!==l&&(n.value=-1,r(0,!0))}),{data:o,depthMap:i}},Aqe=(e,t)=>e+t,h3=e=>pt(e)?e.reduce(Aqe,0):e,hy=(e,t,n={})=>on(e)?e(t):e??n,ig=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=Na(e[t])}),e),E0e=e=>pa(e)?t=>pn(e,t):e,Eqe=(e,{columnsTotalWidth:t,data:n,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{const a=$(()=>{const{fixed:_,width:x,vScrollbarSize:E}=e,A=x-E;return _?Math.max(Math.round(y(t)),A):A}),o=$(()=>y(a)+e.vScrollbarSize),s=$(()=>{const{height:_=0,maxHeight:x=0,footerHeight:E,hScrollbarSize:A}=e;if(x>0){const T=y(p),R=y(l),O=y(h)+T+R+A;return Math.min(O,x-E)}return _-E}),l=$(()=>{const{rowHeight:_,estimatedRowHeight:x}=e,E=y(n);return gn(x)?E.length*x:E.length*_}),u=$(()=>{const{maxHeight:_}=e,x=y(s);if(gn(_)&&_>0)return x;const E=y(l)+y(h)+y(p);return Math.min(x,E)}),c=_=>_.width,f=$(()=>h3(y(r).map(c))),d=$(()=>h3(y(i).map(c))),h=$(()=>h3(e.headerHeight)),p=$(()=>{var _;return(((_=e.fixedData)==null?void 0:_.length)||0)*e.rowHeight}),v=$(()=>y(s)-y(h)-y(p)),g=$(()=>{const{style:_={},height:x,width:E}=e;return ig({..._,height:x,width:E})}),m=$(()=>ig({height:e.footerHeight})),b=$(()=>({top:Na(y(h)),bottom:Na(e.footerHeight),width:Na(e.width)}));return{bodyWidth:a,fixedTableHeight:u,mainTableHeight:s,leftTableWidth:f,rightTableWidth:d,headerWidth:o,rowsHeight:l,windowHeight:v,footerHeight:m,emptyStyle:b,rootStyle:g,headerHeight:h}};function Tqe(e){const t=Y(),n=Y(),r=Y(),{columns:i,columnsStyles:a,columnsTotalWidth:o,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:f}=_qe(e,hi(e,"columns"),hi(e,"fixed")),{scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:v,onScroll:g,onVerticalScroll:m,scrollPos:b}=bqe(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,onMaybeEndReached:ne}),_=at("table-v2"),x=or(),E=Ni(!1),{expandedRowKeys:A,lastRenderedRowIndex:T,isDynamic:R,isResetting:M,rowHeights:O,resetAfterIndex:D,onRowExpanded:C,onRowHeightChange:P,onRowHovered:B,onRowsRendered:U}=xqe(e,{mainTableRef:t,leftTableRef:n,rightTableRef:r,tableInstance:x,ns:_,isScrolling:E}),{data:L,depthMap:F}=Sqe(e,{expandedRowKeys:A,lastRenderedRowIndex:T,resetAfterIndex:D}),{bodyWidth:N,fixedTableHeight:V,mainTableHeight:W,leftTableWidth:G,rightTableWidth:K,headerWidth:q,rowsHeight:ue,windowHeight:he,footerHeight:Ce,emptyStyle:ee,rootStyle:de,headerHeight:oe}=Eqe(e,{columnsTotalWidth:o,data:L,fixedColumnsOnLeft:s,fixedColumnsOnRight:l}),pe=Y(),me=$(()=>{const se=y(L).length===0;return pt(e.fixedData)?e.fixedData.length===0&&se:se});function re(se){const{estimatedRowHeight:be,rowHeight:Pe,rowKey:Ee}=e;return be?y(O)[y(L)[se][Ee]]||be:Pe}function ne(){const{onEndReached:se}=e;if(!se)return;const{scrollTop:be}=y(b),Pe=y(ue),Ee=y(he),Le=Pe-(be+Ee)+e.hScrollbarSize;y(T)>=0&&Pe===be+y(W)-y(oe)&&se(Le)}return tt(()=>e.expandedRowKeys,se=>A.value=se,{deep:!0}),{columns:i,containerRef:pe,mainTableRef:t,leftTableRef:n,rightTableRef:r,isDynamic:R,isResetting:M,isScrolling:E,hasFixedColumns:u,columnsStyles:a,columnsTotalWidth:o,data:L,expandedRowKeys:A,depthMap:F,fixedColumnsOnLeft:s,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:N,emptyStyle:ee,rootStyle:de,headerWidth:q,footerHeight:Ce,mainTableHeight:W,fixedTableHeight:V,leftTableWidth:G,rightTableWidth:K,showEmpty:me,getRowHeight:re,onColumnSorted:f,onRowHovered:B,onRowExpanded:C,onRowsRendered:U,onRowHeightChange:P,scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:v,onScroll:g,onVerticalScroll:m}}const xH=Symbol("tableV2"),T0e=String,JT={type:Ie(Array),required:!0},SH={type:Ie(Array)},w0e={...SH,required:!0},wqe=String,Wq={type:Ie(Array),default:()=>xa([])},S0={type:Number,required:!0},C0e={type:Ie([String,Number,Symbol]),default:"id"},Gq={type:Ie(Object)},D0=gt({class:String,columns:JT,columnsStyles:{type:Ie(Object),required:!0},depth:Number,expandColumnKey:wqe,estimatedRowHeight:{...Y0.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Ie(Function)},onRowHover:{type:Ie(Function)},onRowHeightChange:{type:Ie(Function)},rowData:{type:Ie(Object),required:!0},rowEventHandlers:{type:Ie(Object)},rowIndex:{type:Number,required:!0},rowKey:C0e,style:{type:Ie(Object)}}),sN={type:Number,required:!0},AH=gt({class:String,columns:JT,fixedHeaderData:{type:Ie(Array)},headerData:{type:Ie(Array),required:!0},headerHeight:{type:Ie([Number,Array]),default:50},rowWidth:sN,rowHeight:{type:Number,default:50},height:sN,width:sN}),p3=gt({columns:JT,data:w0e,fixedData:SH,estimatedRowHeight:D0.estimatedRowHeight,width:S0,height:S0,headerWidth:S0,headerHeight:AH.headerHeight,bodyWidth:S0,rowHeight:S0,cache:Yme.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Y0.scrollbarAlwaysOn,scrollbarStartGap:Y0.scrollbarStartGap,scrollbarEndGap:Y0.scrollbarEndGap,class:T0e,style:Gq,containerStyle:Gq,getRowHeight:{type:Ie(Function),required:!0},rowKey:D0.rowKey,onRowsRendered:{type:Ie(Function)},onScroll:{type:Ie(Function)}}),Cqe=gt({cache:p3.cache,estimatedRowHeight:D0.estimatedRowHeight,rowKey:C0e,headerClass:{type:Ie([String,Function])},headerProps:{type:Ie([Object,Function])},headerCellProps:{type:Ie([Object,Function])},headerHeight:AH.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Ie([String,Function])},rowProps:{type:Ie([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Ie([Object,Function])},columns:JT,data:w0e,dataGetter:{type:Ie(Function)},fixedData:SH,expandColumnKey:D0.expandColumnKey,expandedRowKeys:Wq,defaultExpandedRowKeys:Wq,class:T0e,fixed:Boolean,style:{type:Ie(Object)},width:S0,height:S0,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Y0.hScrollbarSize,vScrollbarSize:Y0.vScrollbarSize,scrollbarAlwaysOn:qme.alwaysOn,sortBy:{type:Ie(Object),default:()=>({})},sortState:{type:Ie(Object),default:void 0},onColumnSort:{type:Ie(Function)},onExpandedRowsChange:{type:Ie(Function)},onEndReached:{type:Ie(Function)},onRowExpand:D0.onRowExpand,onScroll:p3.onScroll,onRowsRendered:p3.onRowsRendered,rowEventHandlers:D0.rowEventHandlers}),Rqe="ElTableV2Header",Iqe=le({name:Rqe,props:AH,setup(e,{slots:t,expose:n}){const r=at("table-v2"),i=$t("tableV2GridScrollLeft"),a=Y(),o=$(()=>ig({width:e.width,height:e.height})),s=$(()=>ig({width:e.rowWidth,height:e.height})),l=$(()=>Zs(y(e.headerHeight))),u=d=>{const h=y(a);fn(()=>{h!=null&&h.scroll&&h.scroll({left:d})})},c=()=>{const d=r.e("fixed-header-row"),{columns:h,fixedHeaderData:p,rowHeight:v}=e;return p==null?void 0:p.map((g,m)=>{var b;const _=ig({height:v,width:"100%"});return(b=t.fixed)==null?void 0:b.call(t,{class:d,columns:h,rowData:g,rowIndex:-(m+1),style:_})})},f=()=>{const d=r.e("dynamic-header-row"),{columns:h}=e;return y(l).map((p,v)=>{var g;const m=ig({width:"100%",height:p});return(g=t.dynamic)==null?void 0:g.call(t,{class:d,columns:h,headerIndex:v,style:m})})};return lh(()=>{i!=null&&i.value&&u(i.value)}),n({scrollToLeft:u}),()=>{if(!(e.height<=0))return z("div",{ref:a,class:e.class,style:y(o),role:"rowgroup"},[z("div",{style:y(s),class:r.e("header")},[f(),c()])])}}});var Mqe=Iqe;const Oqe=({atXEndEdge:e,atXStartEdge:t,atYEndEdge:n,atYStartEdge:r},i)=>{let a=null,o=0,s=0;const l=(c,f)=>{const d=c<=0&&t.value||c>=0&&e.value,h=f<=0&&r.value||f>=0&&n.value;return d&&h};return{hasReachedEdge:l,onWheel:c=>{fy(a);let f=c.deltaX,d=c.deltaY;Math.abs(f)>Math.abs(d)?d=0:f=0,c.shiftKey&&d!==0&&(f=d,d=0),!(l(o,s)&&l(o+f,s+d))&&(o+=f,s+=d,c.preventDefault(),a=Dg(()=>{i(o,s),o=0,s=0}))}}},R0e=({name:e,clearCache:t,getColumnPosition:n,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:a,getEstimatedTotalWidth:o,getColumnOffset:s,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:f,initCache:d,injectToInstance:h,validateProps:p})=>le({name:e??"ElVirtualList",props:Y0,emits:[bM,xM],setup(v,{emit:g,expose:m,slots:b}){const _=at("vl");p(v);const x=or(),E=Y(d(v,x));h==null||h(x,E);const A=Y(),T=Y(),R=Y(),M=Y(null),O=Y({isScrolling:!1,scrollLeft:gn(v.initScrollLeft)?v.initScrollLeft:0,scrollTop:gn(v.initScrollTop)?v.initScrollTop:0,updateRequested:!1,xAxisScrollDir:N1,yAxisScrollDir:N1}),D=Wme(),C=$(()=>Number.parseInt(`${v.height}`,10)),P=$(()=>Number.parseInt(`${v.width}`,10)),B=$(()=>{const{totalColumn:Ee,totalRow:Le,columnCache:He}=v,{isScrolling:rt,xAxisScrollDir:Je,scrollLeft:ot}=y(O);if(Ee===0||Le===0)return[0,0,0,0];const ae=r(v,ot,y(E)),Xe=i(v,ae,ot,y(E)),Tt=!rt||Je===SM?Math.max(1,He):1,sn=!rt||Je===N1?Math.max(1,He):1;return[Math.max(0,ae-Tt),Math.max(0,Math.min(Ee-1,Xe+sn)),ae,Xe]}),U=$(()=>{const{totalColumn:Ee,totalRow:Le,rowCache:He}=v,{isScrolling:rt,yAxisScrollDir:Je,scrollTop:ot}=y(O);if(Ee===0||Le===0)return[0,0,0,0];const ae=c(v,ot,y(E)),Xe=f(v,ae,ot,y(E)),Tt=!rt||Je===SM?Math.max(1,He):1,sn=!rt||Je===N1?Math.max(1,He):1;return[Math.max(0,ae-Tt),Math.max(0,Math.min(Le-1,Xe+sn)),ae,Xe]}),L=$(()=>a(v,y(E))),F=$(()=>o(v,y(E))),N=$(()=>{var Ee;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:v.direction,height:gn(v.height)?`${v.height}px`:v.height,width:gn(v.width)?`${v.width}px`:v.width},(Ee=v.style)!=null?Ee:{}]}),V=$(()=>{const Ee=`${y(F)}px`;return{height:`${y(L)}px`,pointerEvents:y(O).isScrolling?"none":void 0,width:Ee}}),W=()=>{const{totalColumn:Ee,totalRow:Le}=v;if(Ee>0&&Le>0){const[Xe,Tt,sn,Mn]=y(B),[Sn,En,Gn,_r]=y(U);g(bM,{columnCacheStart:Xe,columnCacheEnd:Tt,rowCacheStart:Sn,rowCacheEnd:En,columnVisibleStart:sn,columnVisibleEnd:Mn,rowVisibleStart:Gn,rowVisibleEnd:_r})}const{scrollLeft:He,scrollTop:rt,updateRequested:Je,xAxisScrollDir:ot,yAxisScrollDir:ae}=y(O);g(xM,{xAxisScrollDir:ot,scrollLeft:He,yAxisScrollDir:ae,scrollTop:rt,updateRequested:Je})},G=Ee=>{const{clientHeight:Le,clientWidth:He,scrollHeight:rt,scrollLeft:Je,scrollTop:ot,scrollWidth:ae}=Ee.currentTarget,Xe=y(O);if(Xe.scrollTop===ot&&Xe.scrollLeft===Je)return;let Tt=Je;if(Rq(v.direction))switch(EM()){case F2:Tt=-Je;break;case mH:Tt=ae-He-Je;break}O.value={...Xe,isScrolling:!0,scrollLeft:Tt,scrollTop:Math.max(0,Math.min(ot,rt-Le)),updateRequested:!0,xAxisScrollDir:M0(Xe.scrollLeft,Tt),yAxisScrollDir:M0(Xe.scrollTop,ot)},fn(()=>de()),oe(),W()},K=(Ee,Le)=>{const He=y(C),rt=(L.value-He)/Le*Ee;he({scrollTop:Math.min(L.value-He,rt)})},q=(Ee,Le)=>{const He=y(P),rt=(F.value-He)/Le*Ee;he({scrollLeft:Math.min(F.value-He,rt)})},{onWheel:ue}=Oqe({atXStartEdge:$(()=>O.value.scrollLeft<=0),atXEndEdge:$(()=>O.value.scrollLeft>=F.value-y(P)),atYStartEdge:$(()=>O.value.scrollTop<=0),atYEndEdge:$(()=>O.value.scrollTop>=L.value-y(C))},(Ee,Le)=>{var He,rt,Je,ot;(rt=(He=T.value)==null?void 0:He.onMouseUp)==null||rt.call(He),(ot=(Je=R.value)==null?void 0:Je.onMouseUp)==null||ot.call(Je);const ae=y(P),Xe=y(C);he({scrollLeft:Math.min(O.value.scrollLeft+Ee,F.value-ae),scrollTop:Math.min(O.value.scrollTop+Le,L.value-Xe)})});xi(A,"wheel",ue,{passive:!1});const he=({scrollLeft:Ee=O.value.scrollLeft,scrollTop:Le=O.value.scrollTop})=>{Ee=Math.max(Ee,0),Le=Math.max(Le,0);const He=y(O);Le===He.scrollTop&&Ee===He.scrollLeft||(O.value={...He,xAxisScrollDir:M0(He.scrollLeft,Ee),yAxisScrollDir:M0(He.scrollTop,Le),scrollLeft:Ee,scrollTop:Le,updateRequested:!0},fn(()=>de()),oe(),W())},Ce=(Ee=0,Le=0,He=Ic)=>{const rt=y(O);Le=Math.max(0,Math.min(Le,v.totalColumn-1)),Ee=Math.max(0,Math.min(Ee,v.totalRow-1));const Je=Pve(_.namespace.value),ot=y(E),ae=a(v,ot),Xe=o(v,ot);he({scrollLeft:s(v,Le,He,rt.scrollLeft,ot,Xe>v.width?Je:0),scrollTop:l(v,Ee,He,rt.scrollTop,ot,ae>v.height?Je:0)})},ee=(Ee,Le)=>{const{columnWidth:He,direction:rt,rowHeight:Je}=v,ot=D.value(t&&He,t&&Je,t&&rt),ae=`${Ee},${Le}`;if(Yr(ot,ae))return ot[ae];{const[,Xe]=n(v,Le,y(E)),Tt=y(E),sn=Rq(rt),[Mn,Sn]=u(v,Ee,Tt),[En]=n(v,Le,Tt);return ot[ae]={position:"absolute",left:sn?void 0:`${Xe}px`,right:sn?`${Xe}px`:void 0,top:`${Sn}px`,height:`${Mn}px`,width:`${En}px`},ot[ae]}},de=()=>{O.value.isScrolling=!1,fn(()=>{D.value(-1,null,null)})};Tn(()=>{if(!Pr)return;const{initScrollLeft:Ee,initScrollTop:Le}=v,He=y(A);He&&(gn(Ee)&&(He.scrollLeft=Ee),gn(Le)&&(He.scrollTop=Le)),W()});const oe=()=>{const{direction:Ee}=v,{scrollLeft:Le,scrollTop:He,updateRequested:rt}=y(O),Je=y(A);if(rt&&Je){if(Ee===nb)switch(EM()){case F2:{Je.scrollLeft=-Le;break}case gH:{Je.scrollLeft=Le;break}default:{const{clientWidth:ot,scrollWidth:ae}=Je;Je.scrollLeft=ae-ot-Le;break}}else Je.scrollLeft=Math.max(0,Le);Je.scrollTop=Math.max(0,He)}},{resetAfterColumnIndex:pe,resetAfterRowIndex:me,resetAfter:re}=x.proxy;m({windowRef:A,innerRef:M,getItemStyleCache:D,scrollTo:he,scrollToItem:Ce,states:O,resetAfterColumnIndex:pe,resetAfterRowIndex:me,resetAfter:re});const ne=()=>{const{scrollbarAlwaysOn:Ee,scrollbarStartGap:Le,scrollbarEndGap:He,totalColumn:rt,totalRow:Je}=v,ot=y(P),ae=y(C),Xe=y(F),Tt=y(L),{scrollLeft:sn,scrollTop:Mn}=y(O),Sn=pn(TU,{ref:T,alwaysOn:Ee,startGap:Le,endGap:He,class:_.e("horizontal"),clientSize:ot,layout:"horizontal",onScroll:q,ratio:ot*100/Xe,scrollFrom:sn/(Xe-ot),total:Je,visible:!0}),En=pn(TU,{ref:R,alwaysOn:Ee,startGap:Le,endGap:He,class:_.e("vertical"),clientSize:ae,layout:"vertical",onScroll:K,ratio:ae*100/Tt,scrollFrom:Mn/(Tt-ae),total:rt,visible:!0});return{horizontalScrollbar:Sn,verticalScrollbar:En}},se=()=>{var Ee;const[Le,He]=y(B),[rt,Je]=y(U),{data:ot,totalColumn:ae,totalRow:Xe,useIsScrolling:Tt,itemKey:sn}=v,Mn=[];if(Xe>0&&ae>0)for(let Sn=rt;Sn<=Je;Sn++)for(let En=Le;En<=He;En++){const Gn=sn({columnIndex:En,data:ot,rowIndex:Sn});Mn.push(pn(St,{key:Gn},(Ee=b.default)==null?void 0:Ee.call(b,{columnIndex:En,data:ot,isScrolling:Tt?y(O).isScrolling:void 0,style:ee(Sn,En),rowIndex:Sn})))}return Mn},be=()=>{const Ee=cr(v.innerElement),Le=se();return[pn(Ee,{style:y(V),ref:M},an(Ee)?Le:{default:()=>Le})]};return()=>{const Ee=cr(v.containerElement),{horizontalScrollbar:Le,verticalScrollbar:He}=ne(),rt=be();return pn("div",{key:0,class:_.e("wrapper"),role:v.role},[pn(Ee,{class:v.className,style:y(N),onScroll:G,ref:A},an(Ee)?rt:{default:()=>rt}),Le,He])}}}),{max:CM,min:I0e,floor:M0e}=Math,Dqe={column:"columnWidth",row:"rowHeight"},kU={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},ip=(e,t,n,r)=>{const[i,a,o]=[n[r],e[Dqe[r]],n[kU[r]]];if(t>o){let s=0;if(o>=0){const l=i[o];s=l.offset+l.size}for(let l=o+1;l<=t;l++){const u=a(l);i[l]={offset:s,size:u},s+=u}n[kU[r]]=t}return i[t]},O0e=(e,t,n,r,i,a)=>{for(;n<=r;){const o=n+M0e((r-n)/2),s=ip(e,o,t,a).offset;if(s===i)return o;s<i?n=o+1:r=o-1}return CM(0,n-1)},Pqe=(e,t,n,r,i)=>{const a=i==="column"?e.totalColumn:e.totalRow;let o=1;for(;n<a&&ip(e,n,t,i).offset<r;)n+=o,o*=2;return O0e(e,t,M0e(n/2),I0e(n,a-1),r,i)},jq=(e,t,n,r)=>{const[i,a]=[t[r],t[kU[r]]];return(a>0?i[a].offset:0)>=n?O0e(e,t,0,a,n,r):Pqe(e,t,CM(0,a),n,r)},D0e=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:n,row:r})=>{let i=0;if(n>=e&&(n=e-1),n>=0){const s=r[n];i=s.offset+s.size}const o=(e-n-1)*t;return i+o},P0e=({totalColumn:e},{column:t,estimatedColumnWidth:n,lastVisitedColumnIndex:r})=>{let i=0;if(r>e&&(r=e-1),r>=0){const s=t[r];i=s.offset+s.size}const o=(e-r-1)*n;return i+o},Lqe={column:P0e,row:D0e},Yq=(e,t,n,r,i,a,o)=>{const[s,l]=[a==="row"?e.height:e.width,Lqe[a]],u=ip(e,t,i,a),c=l(e,i),f=CM(0,I0e(c-s,u.offset)),d=CM(0,u.offset-s+o+u.size);switch(n===ZD&&(r>=d-s&&r<=f+s?n=Ic:n=zd),n){case B2:return f;case k2:return d;case zd:return Math.round(d+(f-d)/2);case Ic:default:return r>=d&&r<=f?r:d>f||r<d?d:f}},Nqe=R0e({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,n)=>{const r=ip(e,t,n,"column");return[r.size,r.offset]},getRowPosition:(e,t,n)=>{const r=ip(e,t,n,"row");return[r.size,r.offset]},getColumnOffset:(e,t,n,r,i,a)=>Yq(e,t,n,r,i,"column",a),getRowOffset:(e,t,n,r,i,a)=>Yq(e,t,n,r,i,"row",a),getColumnStartIndexForOffset:(e,t,n)=>jq(e,n,t,"column"),getColumnStopIndexForStartIndex:(e,t,n,r)=>{const i=ip(e,t,r,"column"),a=n+e.width;let o=i.offset+i.size,s=t;for(;s<e.totalColumn-1&&o<a;)s++,o+=ip(e,t,r,"column").size;return s},getEstimatedTotalHeight:D0e,getEstimatedTotalWidth:P0e,getRowStartIndexForOffset:(e,t,n)=>jq(e,n,t,"row"),getRowStopIndexForStartIndex:(e,t,n,r)=>{const{totalRow:i,height:a}=e,o=ip(e,t,r,"row"),s=n+a;let l=o.size+o.offset,u=t;for(;u<i-1&&l<s;)u++,l+=ip(e,u,r,"row").size;return u},injectToInstance:(e,t)=>{const n=({columnIndex:a,rowIndex:o},s)=>{var l,u;s=mi(s)?!0:s,gn(a)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,a-1)),gn(o)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,o-1)),(l=e.exposed)==null||l.getItemStyleCache.value(-1,null,null),s&&((u=e.proxy)==null||u.$forceUpdate())},r=(a,o)=>{n({columnIndex:a},o)},i=(a,o)=>{n({rowIndex:a},o)};Object.assign(e.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:i,resetAfter:n})},initCache:({estimatedColumnWidth:e=_U,estimatedRowHeight:t=_U})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),Bqe=R0e({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:n},r,i,a,o,s)=>{n=Number(n);const l=Math.max(0,e*t-n),u=Math.min(l,r*t),c=Math.max(0,r*t-n+s+t);switch(i==="smart"&&(a>=c-n&&a<=u+n?i=Ic:i=zd),i){case B2:return u;case k2:return c;case zd:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(n/2)?0:f>l+Math.floor(n/2)?l:f}case Ic:default:return a>=c&&a<=u?a:c>u||a<c?c:u}},getRowOffset:({rowHeight:e,height:t,totalRow:n},r,i,a,o,s)=>{t=Number(t);const l=Math.max(0,n*e-t),u=Math.min(l,r*e),c=Math.max(0,r*e-t+s+e);switch(i===ZD&&(a>=c-t&&a<=u+t?i=Ic:i=zd),i){case B2:return u;case k2:return c;case zd:{const f=Math.round(c+(u-c)/2);return f<Math.ceil(t/2)?0:f>l+Math.floor(t/2)?l:f}case Ic:default:return a>=c&&a<=u?a:c>u||a<c?c:u}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:n},r,i)=>{const a=r*e,o=Math.ceil((n+i-a)/e);return Math.max(0,Math.min(t-1,r+o-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:n},r,i)=>{const a=r*e,o=Math.ceil((n+i-a)/e);return Math.max(0,Math.min(t-1,r+o-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}}),kqe="ElTableV2Grid",Fqe=e=>{const t=Y(),n=Y(),r=Y(0),i=$(()=>{const{data:g,rowHeight:m,estimatedRowHeight:b}=e;if(!b)return g.length*m}),a=$(()=>{const{fixedData:g,rowHeight:m}=e;return((g==null?void 0:g.length)||0)*m}),o=$(()=>h3(e.headerHeight)),s=$(()=>{const{height:g}=e;return Math.max(0,g-y(o)-y(a))}),l=$(()=>y(o)+y(a)>0),u=({data:g,rowIndex:m})=>g[m][e.rowKey];function c({rowCacheStart:g,rowCacheEnd:m,rowVisibleStart:b,rowVisibleEnd:_}){var x;(x=e.onRowsRendered)==null||x.call(e,{rowCacheStart:g,rowCacheEnd:m,rowVisibleStart:b,rowVisibleEnd:_})}function f(g,m){var b;(b=n.value)==null||b.resetAfterRowIndex(g,m)}function d(g,m){const b=y(t),_=y(n);nr(g)?(b==null||b.scrollToLeft(g.scrollLeft),r.value=g.scrollLeft,_==null||_.scrollTo(g)):(b==null||b.scrollToLeft(g),r.value=g,_==null||_.scrollTo({scrollLeft:g,scrollTop:m}))}function h(g){var m;(m=y(n))==null||m.scrollTo({scrollTop:g})}function p(g,m){var b;(b=y(n))==null||b.scrollToItem(g,1,m)}function v(){var g,m;(g=y(n))==null||g.$forceUpdate(),(m=y(t))==null||m.$forceUpdate()}return{bodyRef:n,forceUpdate:v,fixedRowHeight:a,gridHeight:s,hasHeader:l,headerHeight:o,headerRef:t,totalHeight:i,itemKey:u,onItemRendered:c,resetAfterRowIndex:f,scrollTo:d,scrollToTop:h,scrollToRow:p,scrollLeft:r}},Uqe=le({name:kqe,props:p3,setup(e,{slots:t,expose:n}){const{ns:r}=$t(xH),{bodyRef:i,fixedRowHeight:a,gridHeight:o,hasHeader:s,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:f,itemKey:d,onItemRendered:h,resetAfterRowIndex:p,scrollTo:v,scrollToTop:g,scrollToRow:m,scrollLeft:b}=Fqe(e);mr("tableV2GridScrollLeft",b),n({forceUpdate:f,totalHeight:c,scrollTo:v,scrollToTop:g,scrollToRow:m,resetAfterRowIndex:p});const _=()=>e.bodyWidth;return()=>{const{cache:x,columns:E,data:A,fixedData:T,useIsScrolling:R,scrollbarAlwaysOn:M,scrollbarEndGap:O,scrollbarStartGap:D,style:C,rowHeight:P,bodyWidth:B,estimatedRowHeight:U,headerWidth:L,height:F,width:N,getRowHeight:V,onScroll:W}=e,G=gn(U),K=G?Nqe:Bqe,q=y(u);return z("div",{role:"table",class:[r.e("table"),e.class],style:C},[z(K,{ref:i,data:A,useIsScrolling:R,itemKey:d,columnCache:0,columnWidth:G?_:B,totalColumn:1,totalRow:A.length,rowCache:x,rowHeight:G?V:P,width:N,height:y(o),class:r.e("body"),role:"rowgroup",scrollbarStartGap:D,scrollbarEndGap:O,scrollbarAlwaysOn:M,onScroll:W,onItemRendered:h,perfMode:!1},{default:ue=>{var he;const Ce=A[ue.rowIndex];return(he=t.row)==null?void 0:he.call(t,{...ue,columns:E,rowData:Ce})}}),y(s)&&z(Mqe,{ref:l,class:r.e("header-wrapper"),columns:E,headerData:A,headerHeight:e.headerHeight,fixedHeaderData:T,rowWidth:L,rowHeight:P,width:N,height:Math.min(q+y(a),F)},{dynamic:t.header,fixed:t.row})])}}});var EH=Uqe;function Vqe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!pa(e)}const zqe=(e,{slots:t})=>{const{mainTableRef:n,...r}=e;return z(EH,dr({ref:n},r),Vqe(t)?t:{default:()=>[t]})};var $qe=zqe;function Hqe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!pa(e)}const Wqe=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:n,...r}=e;return z(EH,dr({ref:n},r),Hqe(t)?t:{default:()=>[t]})};var Gqe=Wqe;function jqe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!pa(e)}const Yqe=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:n,...r}=e;return z(EH,dr({ref:n},r),jqe(t)?t:{default:()=>[t]})};var Xqe=Yqe;const Kqe=e=>{const{isScrolling:t}=$t(xH),n=Y(!1),r=Y(),i=$(()=>gn(e.estimatedRowHeight)&&e.rowIndex>=0),a=(l=!1)=>{const u=y(r);if(!u)return;const{columns:c,onRowHeightChange:f,rowKey:d,rowIndex:h,style:p}=e,{height:v}=u.getBoundingClientRect();n.value=!0,fn(()=>{if(l||v!==Number.parseInt(p.height)){const g=c[0],m=(g==null?void 0:g.placeholderSign)===$2;f==null||f({rowKey:d,height:v,rowIndex:h},g&&!m&&g.fixed)}})},o=$(()=>{const{rowData:l,rowIndex:u,rowKey:c,onRowHover:f}=e,d=e.rowEventHandlers||{},h={};return Object.entries(d).forEach(([p,v])=>{on(v)&&(h[p]=g=>{v({event:g,rowData:l,rowIndex:u,rowKey:c})})}),f&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:v})=>{const g=h[p];h[p]=m=>{f({event:m,hovered:v,rowData:l,rowIndex:u,rowKey:c}),g==null||g(m)}}),h}),s=l=>{const{onRowExpand:u,rowData:c,rowIndex:f,rowKey:d}=e;u==null||u({expanded:l,rowData:c,rowIndex:f,rowKey:d})};return Tn(()=>{y(i)&&a(!0)}),{isScrolling:t,measurable:i,measured:n,rowRef:r,eventHandlers:o,onExpand:s}},qqe="ElTableV2TableRow",Zqe=le({name:qqe,props:D0,setup(e,{expose:t,slots:n,attrs:r}){const{eventHandlers:i,isScrolling:a,measurable:o,measured:s,rowRef:l,onExpand:u}=Kqe(e);return t({onExpand:u}),()=>{const{columns:c,columnsStyles:f,expandColumnKey:d,depth:h,rowData:p,rowIndex:v,style:g}=e;let m=c.map((b,_)=>{const x=pt(p.children)&&p.children.length>0&&b.key===d;return n.cell({column:b,columns:c,columnIndex:_,depth:h,style:f[b.key],rowData:p,rowIndex:v,isScrolling:y(a),expandIconProps:x?{rowData:p,rowIndex:v,onExpand:u}:void 0})});if(n.row&&(m=n.row({cells:m.map(b=>pt(b)&&b.length===1?b[0]:b),style:g,columns:c,depth:h,rowData:p,rowIndex:v,isScrolling:y(a)})),y(o)){const{height:b,..._}=g||{},x=y(s);return z("div",dr({ref:l,class:e.class,style:x?g:_,role:"row"},r,y(i)),[m])}return z("div",dr(r,{ref:l,class:e.class,style:g,role:"row"},y(i)),[m])}}});var Qqe=Zqe;function Jqe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!pa(e)}const eZe=(e,{slots:t})=>{const{columns:n,columnsStyles:r,depthMap:i,expandColumnKey:a,expandedRowKeys:o,estimatedRowHeight:s,hasFixedColumns:l,rowData:u,rowIndex:c,style:f,isScrolling:d,rowProps:h,rowClass:p,rowKey:v,rowEventHandlers:g,ns:m,onRowHovered:b,onRowExpanded:_}=e,x=hy(p,{columns:n,rowData:u,rowIndex:c},""),E=hy(h,{columns:n,rowData:u,rowIndex:c}),A=u[v],T=i[A]||0,R=!!a,M=c<0,O=[m.e("row"),x,{[m.e(`row-depth-${T}`)]:R&&c>=0,[m.is("expanded")]:R&&o.includes(A),[m.is("fixed")]:!T&&M,[m.is("customized")]:!!t.row}],D=l?b:void 0,C={...E,columns:n,columnsStyles:r,class:O,depth:T,expandColumnKey:a,estimatedRowHeight:M?void 0:s,isScrolling:d,rowIndex:c,rowData:u,rowKey:A,rowEventHandlers:g,style:f};return z(Qqe,dr(C,{onRowExpand:_,onMouseenter:U=>{D==null||D({hovered:!0,rowKey:A,event:U,rowData:u,rowIndex:c})},onMouseleave:U=>{D==null||D({hovered:!1,rowKey:A,event:U,rowData:u,rowIndex:c})},rowkey:A}),Jqe(t)?t:{default:()=>[t]})};var tZe=eZe;const TH=(e,{slots:t})=>{var n;const{cellData:r,style:i}=e,a=((n=r==null?void 0:r.toString)==null?void 0:n.call(r))||"",o=De(t,"default",e,()=>[a]);return z("div",{class:e.class,title:a,style:i},[o])};TH.displayName="ElTableV2Cell";TH.inheritAttrs=!1;var nZe=TH;const rZe=e=>{const{expanded:t,expandable:n,onExpand:r,style:i,size:a}=e,o={onClick:n?()=>r(!t):void 0,class:e.class};return z(Xt,dr(o,{size:a,style:i}),{default:()=>[z(Cl,null,null)]})};var iZe=rZe;const L0e=({columns:e,column:t,columnIndex:n,depth:r,expandIconProps:i,isScrolling:a,rowData:o,rowIndex:s,style:l,expandedRowKeys:u,ns:c,cellProps:f,expandColumnKey:d,indentSize:h,iconSize:p,rowKey:v},{slots:g})=>{const m=ig(l);if(t.placeholderSign===$2)return z("div",{class:c.em("row-cell","placeholder"),style:m},null);const{cellRenderer:b,dataKey:_,dataGetter:x}=t,E=on(x)?x({columns:e,column:t,columnIndex:n,rowData:o,rowIndex:s}):Ja(o,_??""),A=hy(f,{cellData:E,columns:e,column:t,columnIndex:n,rowIndex:s,rowData:o}),T={class:c.e("cell-text"),columns:e,column:t,columnIndex:n,cellData:E,isScrolling:a,rowData:o,rowIndex:s},R=E0e(b),M=R?R(T):De(g,"default",T,()=>[z(nZe,T,null)]),O=[c.e("row-cell"),t.class,t.align===z2.CENTER&&c.is("align-center"),t.align===z2.RIGHT&&c.is("align-right")],D=s>=0&&d&&t.key===d,C=s>=0&&u.includes(o[v]);let P;const B=`margin-inline-start: ${r*h}px;`;return D&&(nr(i)?P=z(iZe,dr(i,{class:[c.e("expand-icon"),c.is("expanded",C)],size:p,expanded:C,style:B,expandable:!0}),null):P=z("div",{style:[B,`width: ${p}px; height: ${p}px;`].join(" ")},null)),z("div",dr({class:O,style:m},A,{role:"cell"}),[P,M])};L0e.inheritAttrs=!1;var Xq=L0e;const aZe=gt({class:String,columns:JT,columnsStyles:{type:Ie(Object),required:!0},headerIndex:Number,style:{type:Ie(Object)}}),oZe=le({name:"ElTableV2HeaderRow",props:aZe,setup(e,{slots:t}){return()=>{const{columns:n,columnsStyles:r,headerIndex:i,style:a}=e;let o=n.map((s,l)=>t.cell({columns:n,column:s,columnIndex:l,headerIndex:i,style:r[s.key]}));return t.header&&(o=t.header({cells:o.map(s=>pt(s)&&s.length===1?s[0]:s),columns:n,headerIndex:i})),z("div",{class:e.class,style:a,role:"row"},[o])}}});var sZe=oZe;function lZe(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!pa(e)}const uZe=({columns:e,columnsStyles:t,headerIndex:n,style:r,headerClass:i,headerProps:a,ns:o},{slots:s})=>{const l={columns:e,headerIndex:n},u=[o.e("header-row"),hy(i,l,""),{[o.is("customized")]:!!s.header}],c={...hy(a,l),columnsStyles:t,class:u,columns:e,headerIndex:n,style:r};return z(sZe,c,lZe(s)?s:{default:()=>[s]})};var cZe=uZe;const wH=(e,{slots:t})=>De(t,"default",e,()=>{var n,r;return[z("div",{class:e.class,title:(n=e.column)==null?void 0:n.title},[(r=e.column)==null?void 0:r.title])]});wH.displayName="ElTableV2HeaderCell";wH.inheritAttrs=!1;var fZe=wH;const dZe=e=>{const{sortOrder:t}=e;return z(Xt,{size:14,class:e.class},{default:()=>[t===V2.ASC?z(Uke,null,null):z(kke,null,null)]})};var hZe=dZe;const pZe=(e,{slots:t})=>{const{column:n,ns:r,style:i,onColumnSorted:a}=e,o=ig(i);if(n.placeholderSign===$2)return z("div",{class:r.em("header-row-cell","placeholder"),style:o},null);const{headerCellRenderer:s,headerClass:l,sortable:u}=n,c={...e,class:r.e("header-cell-text")},f=E0e(s),d=f?f(c):De(t,"default",c,()=>[z(fZe,c,null)]),{sortBy:h,sortState:p,headerCellProps:v}=e;let g,m;if(p){const x=p[n.key];g=!!BU[x],m=g?x:V2.ASC}else g=n.key===h.key,m=g?h.order:V2.ASC;const b=[r.e("header-cell"),hy(l,e,""),n.align===z2.CENTER&&r.is("align-center"),n.align===z2.RIGHT&&r.is("align-right"),u&&r.is("sortable")],_={...hy(v,e),onClick:n.sortable?a:void 0,class:b,style:o,"data-key":n.key};return z("div",dr(_,{role:"columnheader"}),[d,u&&z(hZe,{class:[r.e("sort-icon"),g&&r.is("sorting")],sortOrder:m},null)])};var Kq=pZe;const N0e=(e,{slots:t})=>{var n;return z("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};N0e.displayName="ElTableV2Footer";var vZe=N0e;const B0e=(e,{slots:t})=>{const n=De(t,"default",{},()=>[z(wme,null,null)]);return z("div",{class:e.class,style:e.style},[n])};B0e.displayName="ElTableV2Empty";var gZe=B0e;const k0e=(e,{slots:t})=>{var n;return z("div",{class:e.class,style:e.style},[(n=t.default)==null?void 0:n.call(t)])};k0e.displayName="ElTableV2Overlay";var mZe=k0e;function QS(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!pa(e)}const yZe="ElTableV2",_Ze=le({name:yZe,props:Cqe,setup(e,{slots:t,expose:n}){const r=at("table-v2"),{columnsStyles:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:o,mainColumns:s,mainTableHeight:l,fixedTableHeight:u,leftTableWidth:c,rightTableWidth:f,data:d,depthMap:h,expandedRowKeys:p,hasFixedColumns:v,mainTableRef:g,leftTableRef:m,rightTableRef:b,isDynamic:_,isResetting:x,isScrolling:E,bodyWidth:A,emptyStyle:T,rootStyle:R,headerWidth:M,footerHeight:O,showEmpty:D,scrollTo:C,scrollToLeft:P,scrollToTop:B,scrollToRow:U,getRowHeight:L,onColumnSorted:F,onRowHeightChange:N,onRowHovered:V,onRowExpanded:W,onRowsRendered:G,onScroll:K,onVerticalScroll:q}=Tqe(e);return n({scrollTo:C,scrollToLeft:P,scrollToTop:B,scrollToRow:U}),mr(xH,{ns:r,isResetting:x,isScrolling:E}),()=>{const{cache:ue,cellProps:he,estimatedRowHeight:Ce,expandColumnKey:ee,fixedData:de,headerHeight:oe,headerClass:pe,headerProps:me,headerCellProps:re,sortBy:ne,sortState:se,rowHeight:be,rowClass:Pe,rowEventHandlers:Ee,rowKey:Le,rowProps:He,scrollbarAlwaysOn:rt,indentSize:Je,iconSize:ot,useIsScrolling:ae,vScrollbarSize:Xe,width:Tt}=e,sn=y(d),Mn={cache:ue,class:r.e("main"),columns:y(s),data:sn,fixedData:de,estimatedRowHeight:Ce,bodyWidth:y(A)+Xe,headerHeight:oe,headerWidth:y(M),height:y(l),mainTableRef:g,rowKey:Le,rowHeight:be,scrollbarAlwaysOn:rt,scrollbarStartGap:2,scrollbarEndGap:Xe,useIsScrolling:ae,width:Tt,getRowHeight:L,onRowsRendered:G,onScroll:K},Sn=y(c),En=y(u),Gn={cache:ue,class:r.e("left"),columns:y(a),data:sn,estimatedRowHeight:Ce,leftTableRef:m,rowHeight:be,bodyWidth:Sn,headerWidth:Sn,headerHeight:oe,height:En,rowKey:Le,scrollbarAlwaysOn:rt,scrollbarStartGap:2,scrollbarEndGap:Xe,useIsScrolling:ae,width:Sn,getRowHeight:L,onScroll:q},We=y(f)+Xe,yt={cache:ue,class:r.e("right"),columns:y(o),data:sn,estimatedRowHeight:Ce,rightTableRef:b,rowHeight:be,bodyWidth:We,headerWidth:We,headerHeight:oe,height:En,rowKey:Le,scrollbarAlwaysOn:rt,scrollbarStartGap:2,scrollbarEndGap:Xe,width:We,style:`--${y(r.namespace)}-table-scrollbar-size: ${Xe}px`,useIsScrolling:ae,getRowHeight:L,onScroll:q},Re=y(i),ut={ns:r,depthMap:y(h),columnsStyles:Re,expandColumnKey:ee,expandedRowKeys:y(p),estimatedRowHeight:Ce,hasFixedColumns:y(v),rowProps:He,rowClass:Pe,rowKey:Le,rowEventHandlers:Ee,onRowHovered:V,onRowExpanded:W,onRowHeightChange:N},_e={cellProps:he,expandColumnKey:ee,indentSize:Je,iconSize:ot,rowKey:Le,expandedRowKeys:y(p),ns:r},It={ns:r,headerClass:pe,headerProps:me,columnsStyles:Re},Pn={ns:r,sortBy:ne,sortState:se,headerCellProps:re,onColumnSorted:F},pr={row:Ki=>z(tZe,dr(Ki,ut),{row:t.row,cell:Di=>{let br;return t.cell?z(Xq,dr(Di,_e,{style:Re[Di.column.key]}),QS(br=t.cell(Di))?br:{default:()=>[br]}):z(Xq,dr(Di,_e,{style:Re[Di.column.key]}),null)}}),header:Ki=>z(cZe,dr(Ki,It),{header:t.header,cell:Di=>{let br;return t["header-cell"]?z(Kq,dr(Di,Pn,{style:Re[Di.column.key]}),QS(br=t["header-cell"](Di))?br:{default:()=>[br]}):z(Kq,dr(Di,Pn,{style:Re[Di.column.key]}),null)}})},_i=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:y(_)}],lo={class:r.e("footer"),style:y(O)};return z("div",{class:_i,style:y(R)},[z($qe,Mn,QS(pr)?pr:{default:()=>[pr]}),z(Gqe,Gn,QS(pr)?pr:{default:()=>[pr]}),z(Xqe,yt,QS(pr)?pr:{default:()=>[pr]}),t.footer&&z(vZe,lo,{default:t.footer}),y(D)&&z(gZe,{class:r.e("empty"),style:y(T)},{default:t.empty}),t.overlay&&z(mZe,{class:r.e("overlay")},{default:t.overlay})])}}});var bZe=_Ze;const xZe=gt({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Ie(Function)}}),SZe=e=>{const t=Y(),n=Y(0),r=Y(0);let i;return Tn(()=>{i=oa(t,([a])=>{const{width:o,height:s}=a.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:c,paddingBottom:f}=getComputedStyle(a.target),d=Number.parseInt(l)||0,h=Number.parseInt(u)||0,p=Number.parseInt(c)||0,v=Number.parseInt(f)||0;n.value=o-d-h,r.value=s-p-v}).stop}),Oi(()=>{i==null||i()}),tt([n,r],([a,o])=>{var s;(s=e.onResize)==null||s.call(e,{width:a,height:o})}),{sizer:t,width:n,height:r}},AZe=le({name:"ElAutoResizer",props:xZe,setup(e,{slots:t}){const n=at("auto-resizer"),{height:r,width:i,sizer:a}=SZe(e),o={width:"100%",height:"100%"};return()=>{var s;return z("div",{ref:a,class:n.b(),style:o},[(s=t.default)==null?void 0:s.call(t,{height:r.value,width:i.value})])}}});var EZe=AZe;const TZe=Un(bZe),wZe=Un(EZe),QD=Symbol("tabsRootContextKey"),CZe=gt({tabs:{type:Ie(Array),default:()=>xa([])}}),F0e="ElTabBar",RZe=le({name:F0e}),IZe=le({...RZe,props:CZe,setup(e,{expose:t}){const n=e,r=or(),i=$t(QD);i||Ro(F0e,"<el-tabs><el-tab-bar /></el-tabs>");const a=at("tabs"),o=Y(),s=Y(),l=()=>{let h=0,p=0;const v=["top","bottom"].includes(i.props.tabPosition)?"width":"height",g=v==="width"?"x":"y",m=g==="x"?"left":"top";return n.tabs.every(b=>{var _,x;const E=(x=(_=r.parent)==null?void 0:_.refs)==null?void 0:x[`tab-${b.uid}`];if(!E)return!1;if(!b.active)return!0;h=E[`offset${kd(m)}`],p=E[`client${kd(v)}`];const A=window.getComputedStyle(E);return v==="width"&&(p-=Number.parseFloat(A.paddingLeft)+Number.parseFloat(A.paddingRight),h+=Number.parseFloat(A.paddingLeft)),!1}),{[v]:`${p}px`,transform:`translate${kd(g)}(${h}px)`}},u=()=>s.value=l(),c=[],f=()=>{var h;c.forEach(v=>v.stop()),c.length=0;const p=(h=r.parent)==null?void 0:h.refs;if(p){for(const v in p)if(v.startsWith("tab-")){const g=p[v];g&&c.push(oa(g,u))}}};tt(()=>n.tabs,async()=>{await fn(),u(),f()},{immediate:!0});const d=oa(o,()=>u());return Oi(()=>{c.forEach(h=>h.stop()),c.length=0,d.stop()}),t({ref:o,update:u}),(h,p)=>(H(),Q("div",{ref_key:"barRef",ref:o,class:j([y(a).e("active-bar"),y(a).is(y(i).props.tabPosition)]),style:en(s.value)},null,6))}});var MZe=_t(IZe,[["__file","tab-bar.vue"]]);const OZe=gt({panes:{type:Ie(Array),default:()=>xa([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),DZe={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},qq="ElTabNav",PZe=le({name:qq,props:OZe,emits:DZe,setup(e,{expose:t,emit:n}){const r=$t(QD);r||Ro(qq,"<el-tabs><tab-nav /></el-tabs>");const i=at("tabs"),a=r6e(),o=v6e(),s=Y(),l=Y(),u=Y(),c=Y(),f=Y(!1),d=Y(0),h=Y(!1),p=Y(!0),v=$(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),g=$(()=>({transform:`translate${v.value==="width"?"X":"Y"}(-${d.value}px)`})),m=()=>{if(!s.value)return;const R=s.value[`offset${kd(v.value)}`],M=d.value;if(!M)return;const O=M>R?M-R:0;d.value=O},b=()=>{if(!s.value||!l.value)return;const R=l.value[`offset${kd(v.value)}`],M=s.value[`offset${kd(v.value)}`],O=d.value;if(R-O<=M)return;const D=R-O>M*2?O+M:R-M;d.value=D},_=async()=>{const R=l.value;if(!f.value||!u.value||!s.value||!R)return;await fn();const M=u.value.querySelector(".is-active");if(!M)return;const O=s.value,D=["top","bottom"].includes(r.props.tabPosition),C=M.getBoundingClientRect(),P=O.getBoundingClientRect(),B=D?R.offsetWidth-P.width:R.offsetHeight-P.height,U=d.value;let L=U;D?(C.left<P.left&&(L=U-(P.left-C.left)),C.right>P.right&&(L=U+C.right-P.right)):(C.top<P.top&&(L=U-(P.top-C.top)),C.bottom>P.bottom&&(L=U+(C.bottom-P.bottom))),L=Math.max(L,0),d.value=Math.min(L,B)},x=()=>{var R;if(!l.value||!s.value)return;e.stretch&&((R=c.value)==null||R.update());const M=l.value[`offset${kd(v.value)}`],O=s.value[`offset${kd(v.value)}`],D=d.value;O<M?(f.value=f.value||{},f.value.prev=D,f.value.next=D+O<M,M-D<O&&(d.value=M-O)):(f.value=!1,D>0&&(d.value=0))},E=R=>{let M=0;switch(R.code){case kt.left:case kt.up:M=-1;break;case kt.right:case kt.down:M=1;break;default:return}const O=Array.from(R.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let C=O.indexOf(R.target)+M;C<0?C=O.length-1:C>=O.length&&(C=0),O[C].focus({preventScroll:!0}),O[C].click(),A()},A=()=>{p.value&&(h.value=!0)},T=()=>h.value=!1;return tt(a,R=>{R==="hidden"?p.value=!1:R==="visible"&&setTimeout(()=>p.value=!0,50)}),tt(o,R=>{R?setTimeout(()=>p.value=!0,50):p.value=!1}),oa(u,x),Tn(()=>setTimeout(()=>_(),0)),lh(()=>x()),t({scrollToActiveTab:_,removeFocus:T}),()=>{const R=f.value?[z("span",{class:[i.e("nav-prev"),i.is("disabled",!f.value.prev)],onClick:m},[z(Xt,null,{default:()=>[z(Pg,null,null)]})]),z("span",{class:[i.e("nav-next"),i.is("disabled",!f.value.next)],onClick:b},[z(Xt,null,{default:()=>[z(Cl,null,null)]})])]:null,M=e.panes.map((O,D)=>{var C,P,B,U;const L=O.uid,F=O.props.disabled,N=(P=(C=O.props.name)!=null?C:O.index)!=null?P:`${D}`,V=!F&&(O.isClosable||e.editable);O.index=`${D}`;const W=V?z(Xt,{class:"is-icon-close",onClick:q=>n("tabRemove",O,q)},{default:()=>[z(Yf,null,null)]}):null,G=((U=(B=O.slots).label)==null?void 0:U.call(B))||O.props.label,K=!F&&O.active?0:-1;return z("div",{ref:`tab-${L}`,class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",O.active),i.is("disabled",F),i.is("closable",V),i.is("focus",h.value)],id:`tab-${N}`,key:`tab-${L}`,"aria-controls":`pane-${N}`,role:"tab","aria-selected":O.active,tabindex:K,onFocus:()=>A(),onBlur:()=>T(),onClick:q=>{T(),n("tabClick",O,N,q)},onKeydown:q=>{V&&(q.code===kt.delete||q.code===kt.backspace)&&n("tabRemove",O,q)}},[G,W])});return z("div",{ref:u,class:[i.e("nav-wrap"),i.is("scrollable",!!f.value),i.is(r.props.tabPosition)]},[R,z("div",{class:i.e("nav-scroll"),ref:s},[z("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",e.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:g.value,role:"tablist",onKeydown:E},[e.type?null:z(MZe,{ref:c,tabs:[...e.panes]},null),M])])])}}}),LZe=gt({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ie(Function),default:()=>!0},stretch:Boolean}),lN=e=>an(e)||gn(e),NZe={[Yn]:e=>lN(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>lN(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>lN(e),tabAdd:()=>!0},BZe=le({name:"ElTabs",props:LZe,emits:NZe,setup(e,{emit:t,slots:n,expose:r}){var i;const a=at("tabs"),o=$(()=>["left","right"].includes(e.tabPosition)),{children:s,addChild:l,removeChild:u}=j$(or(),"ElTabPane"),c=Y(),f=Y((i=e.modelValue)!=null?i:"0"),d=async(m,b=!1)=>{var _,x,E;if(!(f.value===m||mi(m)))try{await((_=e.beforeLeave)==null?void 0:_.call(e,m,f.value))!==!1&&(f.value=m,b&&(t(Yn,m),t("tabChange",m)),(E=(x=c.value)==null?void 0:x.removeFocus)==null||E.call(x))}catch{}},h=(m,b,_)=>{m.props.disabled||(d(b,!0),t("tabClick",m,_))},p=(m,b)=>{m.props.disabled||mi(m.props.name)||(b.stopPropagation(),t("edit",m.props.name,"remove"),t("tabRemove",m.props.name))},v=()=>{t("edit",void 0,"add"),t("tabAdd")};tt(()=>e.modelValue,m=>d(m)),tt(f,async()=>{var m;await fn(),(m=c.value)==null||m.scrollToActiveTab()}),mr(QD,{props:e,currentName:f,registerPane:m=>{s.value.push(m)},sortPane:l,unregisterPane:u}),r({currentName:f});const g=({render:m})=>m();return()=>{const m=n["add-icon"],b=e.editable||e.addable?z("div",{class:[a.e("new-tab"),o.value&&a.e("new-tab-vertical")],tabindex:"0",onClick:v,onKeydown:E=>{[kt.enter,kt.numpadEnter].includes(E.code)&&v()}},[m?De(n,"add-icon"):z(Xt,{class:a.is("icon-plus")},{default:()=>[z(Uve,null,null)]})]):null,_=z("div",{class:[a.e("header"),o.value&&a.e("header-vertical"),a.is(e.tabPosition)]},[z(g,{render:()=>{const E=s.value.some(A=>A.slots.label);return z(PZe,{ref:c,currentName:f.value,editable:e.editable,type:e.type,panes:s.value,stretch:e.stretch,onTabClick:h,onTabRemove:p},{$stable:!E})}},null),b]),x=z("div",{class:a.e("content")},[De(n,"default")]);return z("div",{class:[a.b(),a.m(e.tabPosition),{[a.m("card")]:e.type==="card",[a.m("border-card")]:e.type==="border-card"}]},[x,_])}}});var kZe=BZe;const FZe=gt({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),U0e="ElTabPane",UZe=le({name:U0e}),VZe=le({...UZe,props:FZe,setup(e){const t=e,n=or(),r=_o(),i=$t(QD);i||Ro(U0e,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=at("tab-pane"),o=Y(),s=$(()=>t.closable||i.props.closable),l=Y7(()=>{var h;return i.currentName.value===((h=t.name)!=null?h:o.value)}),u=Y(l.value),c=$(()=>{var h;return(h=t.name)!=null?h:o.value}),f=Y7(()=>!t.lazy||u.value||l.value);tt(l,h=>{h&&(u.value=!0)});const d=zn({uid:n.uid,slots:r,props:t,paneName:c,active:l,index:o,isClosable:s});return i.registerPane(d),Tn(()=>{i.sortPane(d)}),so(()=>{i.unregisterPane(d.uid)}),(h,p)=>y(f)?Wn((H(),Q("div",{key:0,id:`pane-${y(c)}`,class:j(y(a).b()),role:"tabpanel","aria-hidden":!y(l),"aria-labelledby":`tab-${y(c)}`},[De(h.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[Xr,y(l)]]):Be("v-if",!0)}});var V0e=_t(VZe,[["__file","tab-pane.vue"]]);const zZe=Un(kZe,{TabPane:V0e}),$Ze=Aa(V0e),HZe=gt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:uh,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),WZe=le({name:"ElText"}),GZe=le({...WZe,props:HZe,setup(e){const t=e,n=oo(),r=at("text"),i=$(()=>[r.b(),r.m(t.type),r.m(n.value),r.is("truncated",t.truncated),r.is("line-clamp",!mi(t.lineClamp))]);return(a,o)=>(H(),Ue(cr(a.tag),{class:j(y(i)),style:en({"-webkit-line-clamp":a.lineClamp})},{default:J(()=>[De(a.$slots,"default")]),_:3},8,["class","style"]))}});var jZe=_t(GZe,[["__file","text.vue"]]);const YZe=Un(jZe),XZe=gt({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:Ie(String),default:"light"},clearable:{type:Boolean,default:!0},size:yo,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Ie([String,Object]),default:()=>kve},clearIcon:{type:Ie([String,Object]),default:()=>zp},..._x}),up=e=>{const t=(e||"").split(":");if(t.length>=2){let n=Number.parseInt(t[0],10);const r=Number.parseInt(t[1],10),i=e.toUpperCase();return i.includes("AM")&&n===12?n=0:i.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:r}}return null},uN=(e,t)=>{const n=up(e);if(!n)return-1;const r=up(t);if(!r)return-1;const i=n.minutes+n.hours*60,a=r.minutes+r.hours*60;return i===a?0:i>a?1:-1},Zq=e=>`${e}`.padStart(2,"0"),A1=e=>`${Zq(e.hours)}:${Zq(e.minutes)}`,KZe=(e,t)=>{const n=up(e);if(!n)return"";const r=up(t);if(!r)return"";const i={hours:n.hours,minutes:n.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,A1(i)},qZe=le({name:"ElTimeSelect"}),ZZe=le({...qZe,props:XZe,emits:["change","blur","focus","clear","update:modelValue"],setup(e,{expose:t}){const n=e;kn.extend(Z$);const{Option:r}=Cp,i=at("input"),a=Y(),o=ks(),{lang:s}=Lr(),l=$(()=>n.modelValue),u=$(()=>{const m=up(n.start);return m?A1(m):null}),c=$(()=>{const m=up(n.end);return m?A1(m):null}),f=$(()=>{const m=up(n.step);return m?A1(m):null}),d=$(()=>{const m=up(n.minTime||"");return m?A1(m):null}),h=$(()=>{const m=up(n.maxTime||"");return m?A1(m):null}),p=$(()=>{const m=[];if(n.start&&n.end&&n.step){let b=u.value,_;for(;b&&c.value&&uN(b,c.value)<=0;)_=kn(b,"HH:mm").locale(s.value).format(n.format),m.push({value:_,disabled:uN(b,d.value||"-1:-1")<=0||uN(b,h.value||"100:100")>=0}),b=KZe(b,f.value)}return m});return t({blur:()=>{var m,b;(b=(m=a.value)==null?void 0:m.blur)==null||b.call(m)},focus:()=>{var m,b;(b=(m=a.value)==null?void 0:m.focus)==null||b.call(m)}}),(m,b)=>(H(),Ue(y(Cp),{ref_key:"select",ref:a,"model-value":y(l),disabled:y(o),clearable:m.clearable,"clear-icon":m.clearIcon,size:m.size,effect:m.effect,placeholder:m.placeholder,"default-first-option":"",filterable:m.editable,"empty-values":m.emptyValues,"value-on-clear":m.valueOnClear,"onUpdate:modelValue":_=>m.$emit("update:modelValue",_),onChange:_=>m.$emit("change",_),onBlur:_=>m.$emit("blur",_),onFocus:_=>m.$emit("focus",_),onClear:()=>m.$emit("clear")},{prefix:J(()=>[m.prefixIcon?(H(),Ue(y(Xt),{key:0,class:j(y(i).e("prefix-icon"))},{default:J(()=>[(H(),Ue(cr(m.prefixIcon)))]),_:1},8,["class"])):Be("v-if",!0)]),default:J(()=>[(H(!0),Q(St,null,Nn(y(p),_=>(H(),Ue(y(r),{key:_.value,label:_.value,value:_.value,disabled:_.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var QZe=_t(ZZe,[["__file","time-select.vue"]]);const JZe=Un(QZe),eQe=le({name:"ElTimeline",setup(e,{slots:t}){const n=at("timeline");return mr("timeline",t),()=>pn("ul",{class:[n.b()]},[De(t,"default")])}}),tQe=gt({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Ci},hollow:Boolean}),nQe=le({name:"ElTimelineItem"}),rQe=le({...nQe,props:tQe,setup(e){const t=e,n=at("timeline-item"),r=$(()=>[n.e("node"),n.em("node",t.size||""),n.em("node",t.type||""),n.is("hollow",t.hollow)]);return(i,a)=>(H(),Q("li",{class:j([y(n).b(),{[y(n).e("center")]:i.center}])},[I("div",{class:j(y(n).e("tail"))},null,2),i.$slots.dot?Be("v-if",!0):(H(),Q("div",{key:0,class:j(y(r)),style:en({backgroundColor:i.color})},[i.icon?(H(),Ue(y(Xt),{key:0,class:j(y(n).e("icon"))},{default:J(()=>[(H(),Ue(cr(i.icon)))]),_:1},8,["class"])):Be("v-if",!0)],6)),i.$slots.dot?(H(),Q("div",{key:1,class:j(y(n).e("dot"))},[De(i.$slots,"dot")],2)):Be("v-if",!0),I("div",{class:j(y(n).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(H(),Q("div",{key:0,class:j([y(n).e("timestamp"),y(n).is("top")])},nt(i.timestamp),3)):Be("v-if",!0),I("div",{class:j(y(n).e("content"))},[De(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(H(),Q("div",{key:1,class:j([y(n).e("timestamp"),y(n).is("bottom")])},nt(i.timestamp),3)):Be("v-if",!0)],2)],2))}});var z0e=_t(rQe,[["__file","timeline-item.vue"]]);const CH=Un(eQe,{TimelineItem:z0e}),RH=Aa(z0e),$0e=gt({nowrap:Boolean});var H0e=(e=>(e.top="top",e.bottom="bottom",e.left="left",e.right="right",e))(H0e||{});const iQe=Object.values(H0e),IH=gt({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Ie(Object),default:null}}),aQe=gt({side:{type:Ie(String),values:iQe,required:!0}}),oQe=["absolute","fixed"],sQe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],MH=gt({arrowPadding:{type:Ie(Number),default:5},effect:{type:Ie(String),default:"light"},contentClass:String,placement:{type:Ie(String),values:sQe,default:"bottom"},reference:{type:Ie(Object),default:null},offset:{type:Number,default:8},strategy:{type:Ie(String),values:oQe,default:"absolute"},showArrow:Boolean,...gs(["ariaLabel"])}),OH=gt({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Ie(Function)},"onUpdate:open":{type:Ie(Function)}}),H_={type:Ie(Function)},DH=gt({onBlur:H_,onClick:H_,onFocus:H_,onMouseDown:H_,onMouseEnter:H_,onMouseLeave:H_}),lQe=gt({...OH,...IH,...DH,...MH,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Ie(Object),default:null},teleported:Boolean,to:{type:Ie(String),default:"body"}}),JD=Symbol("tooltipV2"),W0e=Symbol("tooltipV2Content"),cN="tooltip_v2.open",uQe=le({name:"ElTooltipV2Root"}),cQe=le({...uQe,props:OH,setup(e,{expose:t}){const n=e,r=Y(n.defaultOpen),i=Y(null),a=$({get:()=>uy(n.open)?r.value:n.open,set:g=>{var m;r.value=g,(m=n["onUpdate:open"])==null||m.call(n,g)}}),o=$(()=>gn(n.delayDuration)&&n.delayDuration>0),{start:s,stop:l}=cy(()=>{a.value=!0},$(()=>n.delayDuration),{immediate:!1}),u=at("tooltip-v2"),c=vs(),f=()=>{l(),a.value=!0},d=()=>{y(o)?s():f()},h=f,p=()=>{l(),a.value=!1};return tt(a,g=>{var m;g&&(document.dispatchEvent(new CustomEvent(cN)),h()),(m=n.onOpenChange)==null||m.call(n,g)}),Tn(()=>{document.addEventListener(cN,p)}),Oi(()=>{l(),document.removeEventListener(cN,p)}),mr(JD,{contentId:c,triggerRef:i,ns:u,onClose:p,onDelayOpen:d,onOpen:h}),t({onOpen:h,onClose:p}),(g,m)=>De(g.$slots,"default",{open:y(a)})}});var fQe=_t(cQe,[["__file","root.vue"]]);const dQe=le({name:"ElTooltipV2Arrow"}),hQe=le({...dQe,props:{...IH,...aQe},setup(e){const t=e,{ns:n}=$t(JD),{arrowRef:r}=$t(W0e),i=$(()=>{const{style:a,width:o,height:s}=t,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${o}px`,[`--${l}-tooltip-v2-arrow-height`]:`${s}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${o/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:o/2-1,...a||{}}});return(a,o)=>(H(),Q("span",{ref_key:"arrowRef",ref:r,style:en(y(i)),class:j(y(n).e("arrow"))},null,6))}});var Qq=_t(hQe,[["__file","arrow.vue"]]);const Nb=Math.min,X0=Math.max,RM=Math.round,dR=Math.floor,Yd=e=>({x:e,y:e}),pQe={left:"right",right:"left",bottom:"top",top:"bottom"},vQe={start:"end",end:"start"};function FU(e,t,n){return X0(e,Nb(t,n))}function ew(e,t){return typeof e=="function"?e(t):e}function py(e){return e.split("-")[0]}function tw(e){return e.split("-")[1]}function G0e(e){return e==="x"?"y":"x"}function PH(e){return e==="y"?"height":"width"}function Bb(e){return["top","bottom"].includes(py(e))?"y":"x"}function LH(e){return G0e(Bb(e))}function gQe(e,t,n){n===void 0&&(n=!1);const r=tw(e),i=LH(e),a=PH(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=IM(o)),[o,IM(o)]}function mQe(e){const t=IM(e);return[UU(e),t,UU(t)]}function UU(e){return e.replace(/start|end/g,t=>vQe[t])}function yQe(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function _Qe(e,t,n,r){const i=tw(e);let a=yQe(py(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(UU)))),a}function IM(e){return e.replace(/left|right|bottom|top/g,t=>pQe[t])}function bQe(e){return{top:0,right:0,bottom:0,left:0,...e}}function j0e(e){return typeof e!="number"?bQe(e):{top:e,right:e,bottom:e,left:e}}function MM(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Jq(e,t,n){let{reference:r,floating:i}=e;const a=Bb(t),o=LH(t),s=PH(o),l=py(t),u=a==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[s]/2-i[s]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(tw(t)){case"start":h[o]-=d*(n&&u?-1:1);break;case"end":h[o]+=d*(n&&u?-1:1);break}return h}const xQe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:f}=Jq(u,r,l),d=r,h={},p=0;for(let v=0;v<s.length;v++){const{name:g,fn:m}=s[v],{x:b,y:_,data:x,reset:E}=await m({x:c,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=b??c,f=_??f,h={...h,[g]:{...h[g],...x}},E&&p<=50&&(p++,typeof E=="object"&&(E.placement&&(d=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):E.rects),{x:c,y:f}=Jq(u,d,l)),v=-1)}return{x:c,y:f,placement:d,strategy:i,middlewareData:h}};async function NH(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=ew(t,e),p=j0e(h),g=s[d?f==="floating"?"reference":"floating":f],m=MM(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(g)))==null||n?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),b=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),x=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},E=MM(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:_,strategy:l}):b);return{top:(m.top-E.top+p.top)/x.y,bottom:(E.bottom-m.bottom+p.bottom)/x.y,left:(m.left-E.left+p.left)/x.x,right:(E.right-m.right+p.right)/x.x}}const SQe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=ew(e,t)||{};if(u==null)return{};const f=j0e(c),d={x:n,y:r},h=LH(i),p=PH(h),v=await o.getDimensions(u),g=h==="y",m=g?"top":"left",b=g?"bottom":"right",_=g?"clientHeight":"clientWidth",x=a.reference[p]+a.reference[h]-d[h]-a.floating[p],E=d[h]-a.reference[h],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=A?A[_]:0;(!T||!await(o.isElement==null?void 0:o.isElement(A)))&&(T=s.floating[_]||a.floating[p]);const R=x/2-E/2,M=T/2-v[p]/2-1,O=Nb(f[m],M),D=Nb(f[b],M),C=O,P=T-v[p]-D,B=T/2-v[p]/2+R,U=FU(C,B,P),L=!l.arrow&&tw(i)!=null&&B!==U&&a.reference[p]/2-(B<C?O:D)-v[p]/2<0,F=L?B<C?B-C:B-P:0;return{[h]:d[h]+F,data:{[h]:U,centerOffset:B-U-F,...L&&{alignmentOffset:F}},reset:L}}}),AQe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,...g}=ew(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const m=py(i),b=Bb(s),_=py(s)===s,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=d||(_||!v?[IM(s)]:mQe(s)),A=p!=="none";!d&&A&&E.push(..._Qe(s,v,p,x));const T=[s,...E],R=await NH(t,g),M=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(c&&M.push(R[m]),f){const B=gQe(i,o,x);M.push(R[B[0]],R[B[1]])}if(O=[...O,{placement:i,overflows:M}],!M.every(B=>B<=0)){var D,C;const B=(((D=a.flip)==null?void 0:D.index)||0)+1,U=T[B];if(U)return{data:{index:B,overflows:O},reset:{placement:U}};let L=(C=O.filter(F=>F.overflows[0]<=0).sort((F,N)=>F.overflows[1]-N.overflows[1])[0])==null?void 0:C.placement;if(!L)switch(h){case"bestFit":{var P;const F=(P=O.filter(N=>{if(A){const V=Bb(N.placement);return V===b||V==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(V=>V>0).reduce((V,W)=>V+W,0)]).sort((N,V)=>N[1]-V[1])[0])==null?void 0:P[0];F&&(L=F);break}case"initialPlacement":L=s;break}if(i!==L)return{reset:{placement:L}}}return{}}}};async function EQe(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=py(n),s=tw(n),l=Bb(n)==="y",u=["left","top"].includes(o)?-1:1,c=a&&l?-1:1,f=ew(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),l?{x:h*c,y:d*u}:{x:d*u,y:h*c}}const TQe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await EQe(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},wQe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:g=>{let{x:m,y:b}=g;return{x:m,y:b}}},...l}=ew(e,t),u={x:n,y:r},c=await NH(t,l),f=Bb(py(i)),d=G0e(f);let h=u[d],p=u[f];if(a){const g=d==="y"?"top":"left",m=d==="y"?"bottom":"right",b=h+c[g],_=h-c[m];h=FU(b,h,_)}if(o){const g=f==="y"?"top":"left",m=f==="y"?"bottom":"right",b=p+c[g],_=p-c[m];p=FU(b,p,_)}const v=s.fn({...t,[d]:h,[f]:p});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[d]:a,[f]:o}}}}}};function eP(){return typeof window<"u"}function Cx(e){return Y0e(e)?(e.nodeName||"").toLowerCase():"#document"}function zu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dh(e){var t;return(t=(Y0e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Y0e(e){return eP()?e instanceof Node||e instanceof zu(e).Node:!1}function Kf(e){return eP()?e instanceof Element||e instanceof zu(e).Element:!1}function th(e){return eP()?e instanceof HTMLElement||e instanceof zu(e).HTMLElement:!1}function eZ(e){return!eP()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zu(e).ShadowRoot}function nw(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=qf(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function CQe(e){return["table","td","th"].includes(Cx(e))}function tP(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function BH(e){const t=kH(),n=Kf(e)?qf(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function RQe(e){let t=kg(e);for(;th(t)&&!kb(t);){if(BH(t))return t;if(tP(t))return null;t=kg(t)}return null}function kH(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kb(e){return["html","body","#document"].includes(Cx(e))}function qf(e){return zu(e).getComputedStyle(e)}function nP(e){return Kf(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function kg(e){if(Cx(e)==="html")return e;const t=e.assignedSlot||e.parentNode||eZ(e)&&e.host||dh(e);return eZ(t)?t.host:t}function X0e(e){const t=kg(e);return kb(t)?e.ownerDocument?e.ownerDocument.body:e.body:th(t)&&nw(t)?t:X0e(t)}function H2(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=X0e(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=zu(i);if(a){const s=VU(o);return t.concat(o,o.visualViewport||[],nw(i)?i:[],s&&n?H2(s):[])}return t.concat(i,H2(i,[],n))}function VU(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function K0e(e){const t=qf(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=th(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=RM(n)!==a||RM(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function FH(e){return Kf(e)?e:e.contextElement}function rb(e){const t=FH(e);if(!th(t))return Yd(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=K0e(t);let o=(a?RM(n.width):n.width)/r,s=(a?RM(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const IQe=Yd(0);function q0e(e){const t=zu(e);return!kH()||!t.visualViewport?IQe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MQe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==zu(e)?!1:t}function vy(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=FH(e);let o=Yd(1);t&&(r?Kf(r)&&(o=rb(r)):o=rb(e));const s=MQe(a,n,r)?q0e(a):Yd(0);let l=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,c=i.width/o.x,f=i.height/o.y;if(a){const d=zu(a),h=r&&Kf(r)?zu(r):r;let p=d,v=VU(p);for(;v&&r&&h!==p;){const g=rb(v),m=v.getBoundingClientRect(),b=qf(v),_=m.left+(v.clientLeft+parseFloat(b.paddingLeft))*g.x,x=m.top+(v.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,f*=g.y,l+=_,u+=x,p=zu(v),v=VU(p)}}return MM({width:c,height:f,x:l,y:u})}function UH(e,t){const n=nP(e).scrollLeft;return t?t.left+n:vy(dh(e)).left+n}function Z0e(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:UH(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function OQe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=dh(r),s=t?tP(t.floating):!1;if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},u=Yd(1);const c=Yd(0),f=th(r);if((f||!f&&!a)&&((Cx(r)!=="body"||nw(o))&&(l=nP(r)),th(r))){const h=vy(r);u=rb(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}const d=o&&!f&&!a?Z0e(o,l,!0):Yd(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:n.y*u.y-l.scrollTop*u.y+c.y+d.y}}function DQe(e){return Array.from(e.getClientRects())}function PQe(e){const t=dh(e),n=nP(e),r=e.ownerDocument.body,i=X0(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=X0(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+UH(e);const s=-n.scrollTop;return qf(r).direction==="rtl"&&(o+=X0(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function LQe(e,t){const n=zu(e),r=dh(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const u=kH();(!u||u&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function NQe(e,t){const n=vy(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=th(e)?rb(e):Yd(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,u=r*a.y;return{width:o,height:s,x:l,y:u}}function tZ(e,t,n){let r;if(t==="viewport")r=LQe(e,n);else if(t==="document")r=PQe(dh(e));else if(Kf(t))r=NQe(t,n);else{const i=q0e(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return MM(r)}function Q0e(e,t){const n=kg(e);return n===t||!Kf(n)||kb(n)?!1:qf(n).position==="fixed"||Q0e(n,t)}function BQe(e,t){const n=t.get(e);if(n)return n;let r=H2(e,[],!1).filter(s=>Kf(s)&&Cx(s)!=="body"),i=null;const a=qf(e).position==="fixed";let o=a?kg(e):e;for(;Kf(o)&&!kb(o);){const s=qf(o),l=BH(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nw(o)&&!l&&Q0e(e,o))?r=r.filter(c=>c!==o):i=s,o=kg(o)}return t.set(e,r),r}function kQe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?tP(t)?[]:BQe(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((u,c)=>{const f=tZ(t,c,i);return u.top=X0(f.top,u.top),u.right=Nb(f.right,u.right),u.bottom=Nb(f.bottom,u.bottom),u.left=X0(f.left,u.left),u},tZ(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function FQe(e){const{width:t,height:n}=K0e(e);return{width:t,height:n}}function UQe(e,t,n){const r=th(t),i=dh(t),a=n==="fixed",o=vy(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Yd(0);if(r||!r&&!a)if((Cx(t)!=="body"||nw(i))&&(s=nP(t)),r){const d=vy(t,!0,a,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&(l.x=UH(i));const u=i&&!r&&!a?Z0e(i,s):Yd(0),c=o.left+s.scrollLeft-l.x-u.x,f=o.top+s.scrollTop-l.y-u.y;return{x:c,y:f,width:o.width,height:o.height}}function fN(e){return qf(e).position==="static"}function nZ(e,t){if(!th(e)||qf(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return dh(e)===n&&(n=n.ownerDocument.body),n}function J0e(e,t){const n=zu(e);if(tP(e))return n;if(!th(e)){let i=kg(e);for(;i&&!kb(i);){if(Kf(i)&&!fN(i))return i;i=kg(i)}return n}let r=nZ(e,t);for(;r&&CQe(r)&&fN(r);)r=nZ(r,t);return r&&kb(r)&&fN(r)&&!BH(r)?n:r||RQe(e)||n}const VQe=async function(e){const t=this.getOffsetParent||J0e,n=this.getDimensions,r=await n(e.floating);return{reference:UQe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zQe(e){return qf(e).direction==="rtl"}const $Qe={convertOffsetParentRelativeRectToViewportRelativeRect:OQe,getDocumentElement:dh,getClippingRect:kQe,getOffsetParent:J0e,getElementRects:VQe,getClientRects:DQe,getDimensions:FQe,getScale:rb,isElement:Kf,isRTL:zQe};function HQe(e,t){let n=null,r;const i=dh(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:u,top:c,width:f,height:d}=e.getBoundingClientRect();if(s||t(),!f||!d)return;const h=dR(c),p=dR(i.clientWidth-(u+f)),v=dR(i.clientHeight-(c+d)),g=dR(u),b={rootMargin:-h+"px "+-p+"px "+-v+"px "+-g+"px",threshold:X0(0,Nb(1,l))||1};let _=!0;function x(E){const A=E[0].intersectionRatio;if(A!==l){if(!_)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(x,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,b)}n.observe(e)}return o(!0),a}function WQe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=FH(e),c=i||a?[...u?H2(u):[],...H2(t)]:[];c.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),a&&m.addEventListener("resize",n)});const f=u&&s?HQe(u,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(m=>{let[b]=m;b&&b.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let p,v=l?vy(e):null;l&&g();function g(){const m=vy(e);v&&(m.x!==v.x||m.y!==v.y||m.width!==v.width||m.height!==v.height)&&n(),v=m,p=requestAnimationFrame(g)}return n(),()=>{var m;c.forEach(b=>{i&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),f==null||f(),(m=h)==null||m.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const GQe=NH,eye=TQe,jQe=wQe,YQe=AQe,tye=SQe,nye=(e,t,n)=>{const r=new Map,i={platform:$Qe,...n},a={...i.platform,_c:r};return xQe(e,t,{...i,platform:a})},XQe=gt({style:{type:Ie([String,Object,Array]),default:()=>({})}}),KQe=le({name:"ElVisuallyHidden"}),qQe=le({...KQe,props:XQe,setup(e){const t=e,n=$(()=>[t.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,i)=>(H(),Q("span",dr(r.$attrs,{style:y(n)}),[De(r.$slots,"default")],16))}});var ZQe=_t(qQe,[["__file","visual-hidden.vue"]]);gt({});const QQe=e=>{if(!Pr)return;if(!e)return e;const t=El(e);return t||(Gi(e)?t:e)},JQe=({middleware:e,placement:t,strategy:n})=>{const r=Y(),i=Y(),a=Y(),o=Y(),s=Y({}),l={x:a,y:o,placement:t,strategy:n,middlewareData:s},u=async()=>{if(!Pr)return;const c=QQe(r),f=El(i);if(!c||!f)return;const d=await nye(c,f,{placement:y(t),strategy:y(n),middleware:y(e)});Tb(l).forEach(h=>{l[h].value=d[h]})};return Tn(()=>{Is(()=>{u()})}),{...l,update:u,referenceRef:r,contentRef:i}},eJe=({arrowRef:e,padding:t})=>({name:"arrow",options:{element:e,padding:t},fn(n){const r=y(e);return r?tye({element:r,padding:t}).fn(n):{}}}),tJe=le({name:"ElTooltipV2Content"}),nJe=le({...tJe,props:{...MH,...$0e},setup(e){const t=e,{triggerRef:n,contentId:r}=$t(JD),i=Y(t.placement),a=Y(t.strategy),o=Y(null),{referenceRef:s,contentRef:l,middlewareData:u,x:c,y:f,update:d}=JQe({placement:i,strategy:a,middleware:$(()=>{const _=[eye(t.offset)];return t.showArrow&&_.push(eJe({arrowRef:o})),_})}),h=yx().nextZIndex(),p=at("tooltip-v2"),v=$(()=>i.value.split("-")[0]),g=$(()=>({position:y(a),top:`${y(f)||0}px`,left:`${y(c)||0}px`,zIndex:h})),m=$(()=>{if(!t.showArrow)return{};const{arrow:_}=y(u);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${_==null?void 0:_.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${_==null?void 0:_.y}px`||""}}),b=$(()=>[p.e("content"),p.is("dark",t.effect==="dark"),p.is(y(a)),t.contentClass]);return tt(o,()=>d()),tt(()=>t.placement,_=>i.value=_),Tn(()=>{tt(()=>t.reference||n.value,_=>{s.value=_||void 0},{immediate:!0})}),mr(W0e,{arrowRef:o}),(_,x)=>(H(),Q("div",{ref_key:"contentRef",ref:l,style:en(y(g)),"data-tooltip-v2-root":""},[_.nowrap?Be("v-if",!0):(H(),Q("div",{key:0,"data-side":y(v),class:j(y(b))},[De(_.$slots,"default",{contentStyle:y(g),contentClass:y(b)}),z(y(ZQe),{id:y(r),role:"tooltip"},{default:J(()=>[_.ariaLabel?(H(),Q(St,{key:0},[$n(nt(_.ariaLabel),1)],64)):De(_.$slots,"default",{key:1})]),_:3},8,["id"]),De(_.$slots,"arrow",{style:en(y(m)),side:y(v)})],10,["data-side"]))],4))}});var rZ=_t(nJe,[["__file","content.vue"]]);const rJe=gt({setRef:{type:Ie(Function),required:!0},onlyChild:Boolean});var iJe=le({props:rJe,setup(e,{slots:t}){const n=Y(),r=XD(n,i=>{i?e.setRef(i.nextElementSibling):e.setRef(null)});return()=>{var i;const[a]=((i=t.default)==null?void 0:i.call(t))||[],o=e.onlyChild?CUe(a.children):a.children;return z(St,{ref:r},[o])}}});const aJe=le({name:"ElTooltipV2Trigger"}),oJe=le({...aJe,props:{...$0e,...DH},setup(e){const t=e,{onClose:n,onOpen:r,onDelayOpen:i,triggerRef:a,contentId:o}=$t(JD);let s=!1;const l=b=>{a.value=b},u=()=>{s=!1},c=La(t.onMouseEnter,i),f=La(t.onMouseLeave,n),d=La(t.onMouseDown,()=>{n(),s=!0,document.addEventListener("mouseup",u,{once:!0})}),h=La(t.onFocus,()=>{s||r()}),p=La(t.onBlur,n),v=La(t.onClick,b=>{b.detail===0&&n()}),g={blur:p,click:v,focus:h,mousedown:d,mouseenter:c,mouseleave:f},m=(b,_,x)=>{b&&Object.entries(_).forEach(([E,A])=>{b[x](E,A)})};return tt(a,(b,_)=>{m(b,g,"addEventListener"),m(_,g,"removeEventListener"),b&&b.setAttribute("aria-describedby",o.value)}),Oi(()=>{m(a.value,g,"removeEventListener"),document.removeEventListener("mouseup",u)}),(b,_)=>b.nowrap?(H(),Ue(y(iJe),{key:0,"set-ref":l,"only-child":""},{default:J(()=>[De(b.$slots,"default")]),_:3})):(H(),Q("button",dr({key:1,ref_key:"triggerRef",ref:a},b.$attrs),[De(b.$slots,"default")],16))}});var sJe=_t(oJe,[["__file","trigger.vue"]]);const lJe=le({name:"ElTooltipV2"}),uJe=le({...lJe,props:lQe,setup(e){const n=ts(e),r=zn(Df(n,Object.keys(IH))),i=zn(Df(n,Object.keys(MH))),a=zn(Df(n,Object.keys(OH))),o=zn(Df(n,Object.keys(DH)));return(s,l)=>(H(),Ue(fQe,Of(Ig(a)),{default:J(({open:u})=>[z(sJe,dr(o,{nowrap:""}),{default:J(()=>[De(s.$slots,"trigger")]),_:3},16),z(y(xx),{to:s.to,disabled:!s.teleported},{default:J(()=>[s.fullTransition?(H(),Ue(ns,Of(dr({key:0},s.transitionProps)),{default:J(()=>[s.alwaysOn||u?(H(),Ue(rZ,Of(dr({key:0},i)),{arrow:J(({style:c,side:f})=>[s.showArrow?(H(),Ue(Qq,dr({key:0},r,{style:c,side:f}),null,16,["style","side"])):Be("v-if",!0)]),default:J(()=>[De(s.$slots,"default")]),_:3},16)):Be("v-if",!0)]),_:2},1040)):(H(),Q(St,{key:1},[s.alwaysOn||u?(H(),Ue(rZ,Of(dr({key:0},i)),{arrow:J(({style:c,side:f})=>[s.showArrow?(H(),Ue(Qq,dr({key:0},r,{style:c,side:f}),null,16,["style","side"])):Be("v-if",!0)]),default:J(()=>[De(s.$slots,"default")]),_:3},16)):Be("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var cJe=_t(uJe,[["__file","tooltip.vue"]]);const fJe=Un(cJe),rye="left-check-change",iye="right-check-change",E1=gt({data:{type:Ie(Array),default:()=>[]},titles:{type:Ie(Array),default:()=>[]},buttonTexts:{type:Ie(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Ie(Function)},leftDefaultChecked:{type:Ie(Array),default:()=>[]},rightDefaultChecked:{type:Ie(Array),default:()=>[]},renderContent:{type:Ie(Function)},modelValue:{type:Ie(Array),default:()=>[]},format:{type:Ie(Object),default:()=>({})},filterable:Boolean,props:{type:Ie(Object),default:()=>xa({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),zU=(e,t)=>[e,t].every(pt)||pt(e)&&zo(t),dJe={[wi]:(e,t,n)=>[e,n].every(pt)&&["left","right"].includes(t),[Yn]:e=>pt(e),[rye]:zU,[iye]:zU},$U="checked-change",hJe=gt({data:E1.data,optionRender:{type:Ie(Function)},placeholder:String,title:String,filterable:Boolean,format:E1.format,filterMethod:E1.filterMethod,defaultChecked:E1.leftDefaultChecked,props:E1.props}),pJe={[$U]:zU},rw=e=>{const t={label:"label",key:"key",disabled:"disabled"};return $(()=>({...t,...e.props}))},vJe=(e,t,n)=>{const r=rw(e),i=$(()=>e.data.filter(c=>on(e.filterMethod)?e.filterMethod(t.query,c):String(c[r.value.label]||c[r.value.key]).toLowerCase().includes(t.query.toLowerCase()))),a=$(()=>i.value.filter(c=>!c[r.value.disabled])),o=$(()=>{const c=t.checked.length,f=e.data.length,{noChecked:d,hasChecked:h}=e.format;return d&&h?c>0?h.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,f.toString()):d.replace(/\${total}/g,f.toString()):`${c}/${f}`}),s=$(()=>{const c=t.checked.length;return c>0&&c<a.value.length}),l=()=>{const c=a.value.map(f=>f[r.value.key]);t.allChecked=c.length>0&&c.every(f=>t.checked.includes(f))},u=c=>{t.checked=c?a.value.map(f=>f[r.value.key]):[]};return tt(()=>t.checked,(c,f)=>{if(l(),t.checkChangeByUser){const d=c.concat(f).filter(h=>!c.includes(h)||!f.includes(h));n($U,c,d)}else n($U,c),t.checkChangeByUser=!0}),tt(a,()=>{l()}),tt(()=>e.data,()=>{const c=[],f=i.value.map(d=>d[r.value.key]);t.checked.forEach(d=>{f.includes(d)&&c.push(d)}),t.checkChangeByUser=!1,t.checked=c}),tt(()=>e.defaultChecked,(c,f)=>{if(f&&c.length===f.length&&c.every(p=>f.includes(p)))return;const d=[],h=a.value.map(p=>p[r.value.key]);c.forEach(p=>{h.includes(p)&&d.push(p)}),t.checkChangeByUser=!1,t.checked=d},{immediate:!0}),{filteredData:i,checkableData:a,checkedSummary:o,isIndeterminate:s,updateAllChecked:l,handleAllCheckedChange:u}},gJe=le({name:"ElTransferPanel"}),mJe=le({...gJe,props:hJe,emits:pJe,setup(e,{expose:t,emit:n}){const r=e,i=_o(),a=({option:_})=>_,{t:o}=Lr(),s=at("transfer"),l=zn({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=rw(r),{filteredData:c,checkedSummary:f,isIndeterminate:d,handleAllCheckedChange:h}=vJe(r,l,n),p=$(()=>!Du(l.query)&&Du(c.value)),v=$(()=>!Du(i.default()[0].children)),{checked:g,allChecked:m,query:b}=ts(l);return t({query:b}),(_,x)=>(H(),Q("div",{class:j(y(s).b("panel"))},[I("p",{class:j(y(s).be("panel","header"))},[z(y(ju),{modelValue:y(m),"onUpdate:modelValue":E=>Gi(m)?m.value=E:null,indeterminate:y(d),"validate-event":!1,onChange:y(h)},{default:J(()=>[$n(nt(_.title)+" ",1),I("span",null,nt(y(f)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),I("div",{class:j([y(s).be("panel","body"),y(s).is("with-footer",y(v))])},[_.filterable?(H(),Ue(y(da),{key:0,modelValue:y(b),"onUpdate:modelValue":E=>Gi(b)?b.value=E:null,class:j(y(s).be("panel","filter")),size:"default",placeholder:_.placeholder,"prefix-icon":y(Xf),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Be("v-if",!0),Wn(z(y(Y$),{modelValue:y(g),"onUpdate:modelValue":E=>Gi(g)?g.value=E:null,"validate-event":!1,class:j([y(s).is("filterable",_.filterable),y(s).be("panel","list")])},{default:J(()=>[(H(!0),Q(St,null,Nn(y(c),E=>(H(),Ue(y(ju),{key:E[y(u).key],class:j(y(s).be("panel","item")),value:E[y(u).key],disabled:E[y(u).disabled],"validate-event":!1},{default:J(()=>{var A;return[z(a,{option:(A=_.optionRender)==null?void 0:A.call(_,E)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[Xr,!y(p)&&!y(Du)(_.data)]]),Wn(I("div",{class:j(y(s).be("panel","empty"))},[De(_.$slots,"empty",{},()=>[$n(nt(y(p)?y(o)("el.transfer.noMatch"):y(o)("el.transfer.noData")),1)])],2),[[Xr,y(p)||y(Du)(_.data)]])],2),y(v)?(H(),Q("p",{key:0,class:j(y(s).be("panel","footer"))},[De(_.$slots,"default")],2)):Be("v-if",!0)],2))}});var iZ=_t(mJe,[["__file","transfer-panel.vue"]]);const yJe=e=>{const t=rw(e),n=$(()=>e.data.reduce((a,o)=>(a[o[t.value.key]]=o)&&a,{})),r=$(()=>e.data.filter(a=>!e.modelValue.includes(a[t.value.key]))),i=$(()=>e.targetOrder==="original"?e.data.filter(a=>e.modelValue.includes(a[t.value.key])):e.modelValue.reduce((a,o)=>{const s=n.value[o];return s&&a.push(s),a},[]));return{sourceData:r,targetData:i}},_Je=(e,t,n)=>{const r=rw(e),i=(s,l,u)=>{n(Yn,s),n(wi,s,l,u)};return{addToLeft:()=>{const s=e.modelValue.slice();t.rightChecked.forEach(l=>{const u=s.indexOf(l);u>-1&&s.splice(u,1)}),i(s,"left",t.rightChecked)},addToRight:()=>{let s=e.modelValue.slice();const l=e.data.filter(u=>{const c=u[r.value.key];return t.leftChecked.includes(c)&&!e.modelValue.includes(c)}).map(u=>u[r.value.key]);s=e.targetOrder==="unshift"?l.concat(s):s.concat(l),e.targetOrder==="original"&&(s=e.data.filter(u=>s.includes(u[r.value.key])).map(u=>u[r.value.key])),i(s,"right",t.leftChecked)}}},bJe=(e,t)=>({onSourceCheckedChange:(i,a)=>{e.leftChecked=i,a&&t(rye,i,a)},onTargetCheckedChange:(i,a)=>{e.rightChecked=i,a&&t(iye,i,a)}}),xJe=le({name:"ElTransfer"}),SJe=le({...xJe,props:E1,emits:dJe,setup(e,{expose:t,emit:n}){const r=e,i=_o(),{t:a}=Lr(),o=at("transfer"),{formItem:s}=Bs(),l=zn({leftChecked:[],rightChecked:[]}),u=rw(r),{sourceData:c,targetData:f}=yJe(r),{onSourceCheckedChange:d,onTargetCheckedChange:h}=bJe(l,n),{addToLeft:p,addToRight:v}=_Je(r,l,n),g=Y(),m=Y(),b=R=>{switch(R){case"left":g.value.query="";break;case"right":m.value.query="";break}},_=$(()=>r.buttonTexts.length===2),x=$(()=>r.titles[0]||a("el.transfer.titles.0")),E=$(()=>r.titles[1]||a("el.transfer.titles.1")),A=$(()=>r.filterPlaceholder||a("el.transfer.filterPlaceholder"));tt(()=>r.modelValue,()=>{var R;r.validateEvent&&((R=s==null?void 0:s.validate)==null||R.call(s,"change").catch(M=>void 0))});const T=$(()=>R=>{var M;if(r.renderContent)return r.renderContent(pn,R);const O=(((M=i.default)==null?void 0:M.call(i,{option:R}))||[]).filter(D=>D.type!==Xo);return O.length?O:pn("span",R[u.value.label]||R[u.value.key])});return t({clearQuery:b,leftPanel:g,rightPanel:m}),(R,M)=>(H(),Q("div",{class:j(y(o).b())},[z(iZ,{ref_key:"leftPanel",ref:g,data:y(c),"option-render":y(T),placeholder:y(A),title:y(x),filterable:R.filterable,format:R.format,"filter-method":R.filterMethod,"default-checked":R.leftDefaultChecked,props:r.props,onCheckedChange:y(d)},{empty:J(()=>[De(R.$slots,"left-empty")]),default:J(()=>[De(R.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),I("div",{class:j(y(o).e("buttons"))},[z(y(sa),{type:"primary",class:j([y(o).e("button"),y(o).is("with-texts",y(_))]),disabled:y(Du)(l.rightChecked),onClick:y(p)},{default:J(()=>[z(y(Xt),null,{default:J(()=>[z(y(Pg))]),_:1}),y(mi)(R.buttonTexts[0])?Be("v-if",!0):(H(),Q("span",{key:0},nt(R.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),z(y(sa),{type:"primary",class:j([y(o).e("button"),y(o).is("with-texts",y(_))]),disabled:y(Du)(l.leftChecked),onClick:y(v)},{default:J(()=>[y(mi)(R.buttonTexts[1])?Be("v-if",!0):(H(),Q("span",{key:0},nt(R.buttonTexts[1]),1)),z(y(Xt),null,{default:J(()=>[z(y(Cl))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),z(iZ,{ref_key:"rightPanel",ref:m,data:y(f),"option-render":y(T),placeholder:y(A),filterable:R.filterable,format:R.format,"filter-method":R.filterMethod,title:y(E),"default-checked":R.rightDefaultChecked,props:r.props,onCheckedChange:y(h)},{empty:J(()=>[De(R.$slots,"right-empty")]),default:J(()=>[De(R.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var AJe=_t(SJe,[["__file","transfer.vue"]]);const EJe=Un(AJe),ib="$treeNodeId",aZ=function(e,t){!t||t[ib]||Object.defineProperty(t,ib,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},VH=function(e,t){return e?t[e]:t[ib]},HU=(e,t,n)=>{const r=e.value.currentNode;n();const i=e.value.currentNode;r!==i&&t("current-change",i?i.data:null,i)},WU=e=>{let t=!0,n=!0,r=!0;for(let i=0,a=e.length;i<a;i++){const o=e[i];(o.checked!==!0||o.indeterminate)&&(t=!1,o.disabled||(r=!1)),(o.checked!==!1||o.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:r,half:!t&&!n}},rE=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:r}=WU(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):r?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const i=e.parent;!i||i.level===0||e.store.checkStrictly||rE(i)},hR=function(e,t){const n=e.store.props,r=e.data||{},i=n[t];if(on(i))return i(r,e);if(an(i))return r[i];if(mi(i)){const a=r[t];return a===void 0?"":a}};let TJe=0,GU=class v3{constructor(t){this.id=TJe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)Yr(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const a=hR(this,"isLeaf");Bi(a)&&(this.isLeafByUser=a)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),pt(this.data)||aZ(this,this.data),!this.data)return;const r=t.defaultExpandedKeys,i=t.key;i&&r&&r.includes(this.key)&&this.expand(null,t.autoExpandParent),i&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){pt(t)||aZ(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&pt(this.data)?n=this.data:n=hR(this,"children")||[];for(let r=0,i=n.length;r<i;r++)this.insertChild({data:n[r]})}get label(){return hR(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return hR(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(r=>r===t||n&&r.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,r){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof v3)){if(!r){const i=this.getChildren(!0);i.includes(t.data)||(mi(n)||n<0?i.push(t.data):i.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=zn(new v3(t)),t instanceof v3&&t.initialize()}t.level=this.level+1,mi(n)||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let r;n&&(r=this.childNodes.indexOf(n)),this.insertChild(t,r)}insertAfter(t,n){let r;n&&(r=this.childNodes.indexOf(n),r!==-1&&(r+=1)),this.insertChild(t,r)}removeChild(t){const n=this.getChildren()||[],r=n.indexOf(t.data);r>-1&&n.splice(r,1);const i=this.childNodes.indexOf(t);i>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===t){n=this.childNodes[r];break}n&&this.removeChild(n)}expand(t,n){const r=()=>{if(n){let i=this.parent;for(;i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(i=>{i.canFocus=!0})};this.shouldLoadData()?this.loadData(i=>{pt(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||rE(this),r())}):r()}doCreateChildren(t,n={}){t.forEach(r=>{this.insertChild(Object.assign({data:r},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,r,i){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:o,allWithoutDisable:s}=WU(this.childNodes);!this.isLeaf&&!o&&s&&(this.checked=!1,t=!1);const l=()=>{if(n){const u=this.childNodes;for(let d=0,h=u.length;d<h;d++){const p=u[d];i=i||t!==!1;const v=p.disabled?p.checked:i;p.setChecked(v,n,!0,i)}const{half:c,all:f}=WU(u);f||(this.checked=f,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{l(),rE(this)},{checked:t!==!1});return}else l()}const a=this.parent;!a||a.level===0||r||rE(a)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const r=this.store.props;let i="children";return r&&(i=r.children||"children"),n[i]===void 0&&(n[i]=null),t&&!n[i]&&(n[i]=[]),n[i]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(a=>a.data),r={},i=[];t.forEach((a,o)=>{const s=a[ib];!!s&&n.findIndex(u=>u[ib]===s)>=0?r[s]={index:o,data:a}:i.push({index:o,data:a})}),this.store.lazy||n.forEach(a=>{r[a[ib]]||this.removeChildByData(a)}),i.forEach(({index:a,data:o})=>{this.insertChild({data:o},a)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const r=a=>{this.childNodes=[],this.doCreateChildren(a,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,a)},i=()=>{this.loading=!1};this.store.load(this,r,i)}else t&&t.call(this)}eachNode(t){const n=[this];for(;n.length;){const r=n.shift();n.unshift(...r.childNodes),t(r)}}reInitChecked(){this.store.checkStrictly||rE(this)}};class wJe{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)Yr(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new GU({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,r=this.lazy,i=function(a){const o=a.root?a.root.childNodes:a.childNodes;if(o.forEach(s=>{s.visible=n.call(s,t,s.data,s),i(s)}),!a.visible&&o.length){let s=!0;s=!o.some(l=>l.visible),a.root?a.root.visible=s===!1:a.visible=s===!1}t&&a.visible&&!a.isLeaf&&(!r||a.loaded)&&a.expand()};i(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(t){if(t instanceof GU)return t;const n=nr(t)?VH(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const r=this.getNode(n);r.parent.insertBefore({data:t},r)}insertAfter(t,n){const r=this.getNode(n);r.parent.insertAfter({data:t},r)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const r=uy(n)?this.root:this.getNode(n);r&&r.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(r=>{const i=n[r];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const r=[],i=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(s=>{(s.checked||n&&s.indeterminate)&&(!t||t&&s.isLeaf)&&r.push(s.data),i(s)})};return i(this),r}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(a=>{a.indeterminate&&t.push(a.data),n(a)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const r in n)Yr(n,r)&&t.push(n[r]);return t}updateChildren(t,n){const r=this.nodesMap[t];if(!r)return;const i=r.childNodes;for(let a=i.length-1;a>=0;a--){const o=i[a];this.remove(o.data)}for(let a=0,o=n.length;a<o;a++){const s=n[a];this.append(s,r.data)}}_setCheckedKeys(t,n=!1,r){const i=this._getAllNodes().sort((l,u)=>l.level-u.level),a=Object.create(null),o=Object.keys(r);i.forEach(l=>l.setChecked(!1,!1));const s=l=>{l.childNodes.forEach(u=>{var c;a[u.data[t]]=!0,(c=u.childNodes)!=null&&c.length&&s(u)})};for(let l=0,u=i.length;l<u;l++){const c=i[l],f=c.data[t].toString();if(!o.includes(f)){c.checked&&!a[f]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&s(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(g=>{g.isLeaf||g.setChecked(!1,!1),h(g)})};h(c)}}}setCheckedNodes(t,n=!1){const r=this.key,i={};t.forEach(a=>{i[(a||{})[r]]=!0}),this._setCheckedKeys(r,n,i)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const r=this.key,i={};t.forEach(a=>{i[a]=!0}),this._setCheckedKeys(r,n,i)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const r=this.getNode(n);r&&r.expand(null,this.autoExpandParent)})}setChecked(t,n,r){const i=this.getNode(t);i&&i.setChecked(!!n,r)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const r=t[this.key],i=this.nodesMap[r];this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(this.currentNodeKey=t,t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(t);r&&(this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const CJe=le({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=at("tree"),n=$t("NodeInstance"),r=$t("RootTree");return()=>{const i=e.node,{data:a,store:o}=i;return e.renderContent?e.renderContent(pn,{_self:n,node:i,data:a,store:o}):De(r.ctx.slots,"default",{node:i,data:a},()=>[pn("span",{class:t.be("node","label")},[i.label])])}}});var RJe=_t(CJe,[["__file","tree-node-content.vue"]]);function aye(e){const t=$t("TreeNodeMap",null),n={treeNodeExpand:r=>{e.node!==r&&e.node.collapse()},children:[]};return t&&t.children.push(n),mr("TreeNodeMap",n),{broadcastExpanded:r=>{if(e.accordion)for(const i of n.children)i.treeNodeExpand(r)}}}const oye=Symbol("dragEvents");function IJe({props:e,ctx:t,el$:n,dropIndicator$:r,store:i}){const a=at("tree"),o=Y({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return mr(oye,{treeNodeDragStart:({event:c,treeNode:f})=>{if(on(e.allowDrag)&&!e.allowDrag(f.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}o.value.draggingNode=f,t.emit("node-drag-start",f.node,c)},treeNodeDragOver:({event:c,treeNode:f})=>{const d=f,h=o.value.dropNode;h&&h.node.id!==d.node.id&&el(h.$el,a.is("drop-inner"));const p=o.value.draggingNode;if(!p||!d)return;let v=!0,g=!0,m=!0,b=!0;on(e.allowDrop)&&(v=e.allowDrop(p.node,d.node,"prev"),b=g=e.allowDrop(p.node,d.node,"inner"),m=e.allowDrop(p.node,d.node,"next")),c.dataTransfer.dropEffect=g||v||m?"move":"none",(v||g||m)&&(h==null?void 0:h.node.id)!==d.node.id&&(h&&t.emit("node-drag-leave",p.node,h.node,c),t.emit("node-drag-enter",p.node,d.node,c)),v||g||m?o.value.dropNode=d:o.value.dropNode=null,d.node.nextSibling===p.node&&(m=!1),d.node.previousSibling===p.node&&(v=!1),d.node.contains(p.node,!1)&&(g=!1),(p.node===d.node||p.node.contains(d.node))&&(v=!1,g=!1,m=!1);const _=d.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),x=n.value.getBoundingClientRect();let E;const A=v?g?.25:m?.45:1:-1,T=m?g?.75:v?.55:0:1;let R=-9999;const M=c.clientY-_.top;M<_.height*A?E="before":M>_.height*T?E="after":g?E="inner":E="none";const O=d.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),D=r.value;E==="before"?R=O.top-x.top:E==="after"&&(R=O.bottom-x.top),D.style.top=`${R}px`,D.style.left=`${O.right-x.left}px`,E==="inner"?Rc(d.$el,a.is("drop-inner")):el(d.$el,a.is("drop-inner")),o.value.showDropIndicator=E==="before"||E==="after",o.value.allowDrop=o.value.showDropIndicator||b,o.value.dropType=E,t.emit("node-drag-over",p.node,d.node,c)},treeNodeDragEnd:c=>{const{draggingNode:f,dropType:d,dropNode:h}=o.value;if(c.preventDefault(),c.dataTransfer&&(c.dataTransfer.dropEffect="move"),f&&h){const p={data:f.node.data};d!=="none"&&f.node.remove(),d==="before"?h.node.parent.insertBefore(p,h.node):d==="after"?h.node.parent.insertAfter(p,h.node):d==="inner"&&h.node.insertChild(p),d!=="none"&&(i.value.registerNode(p),i.value.key&&f.node.eachNode(v=>{var g;(g=i.value.nodesMap[v.data[i.value.key]])==null||g.setChecked(v.checked,!i.value.checkStrictly)})),el(h.$el,a.is("drop-inner")),t.emit("node-drag-end",f.node,h.node,d,c),d!=="none"&&t.emit("node-drop",f.node,h.node,d,c)}f&&!h&&t.emit("node-drag-end",f.node,null,d,c),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}const MJe=le({name:"ElTreeNode",components:{ElCollapseTransition:jD,ElCheckbox:ju,NodeContent:RJe,ElIcon:Xt,Loading:Qd},props:{node:{type:GU,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=at("tree"),{broadcastExpanded:r}=aye(e),i=$t("RootTree"),a=Y(!1),o=Y(!1),s=Y(null),l=Y(null),u=Y(null),c=$t(oye),f=or();mr("NodeInstance",f),e.node.expanded&&(a.value=!0,o.value=!0);const d=i.props.props.children||"children";tt(()=>{const M=e.node.data[d];return M&&[...M]},()=>{e.node.updateChildren()}),tt(()=>e.node.indeterminate,M=>{v(e.node.checked,M)}),tt(()=>e.node.checked,M=>{v(M,e.node.indeterminate)}),tt(()=>e.node.childNodes.length,()=>e.node.reInitChecked()),tt(()=>e.node.expanded,M=>{fn(()=>a.value=M),M&&(o.value=!0)});const h=M=>VH(i.props.nodeKey,M.data),p=M=>{const O=e.props.class;if(!O)return{};let D;if(on(O)){const{data:C}=M;D=O(C,M)}else D=O;return an(D)?{[D]:!0}:D},v=(M,O)=>{(s.value!==M||l.value!==O)&&i.ctx.emit("check-change",e.node.data,M,O),s.value=M,l.value=O},g=M=>{HU(i.store,i.ctx.emit,()=>{var O;if((O=i==null?void 0:i.props)==null?void 0:O.nodeKey){const C=h(e.node);i.store.value.setCurrentNodeKey(C)}else i.store.value.setCurrentNode(e.node)}),i.currentNode.value=e.node,i.props.expandOnClickNode&&b(),i.props.checkOnClickNode&&!e.node.disabled&&_(null,{target:{checked:!e.node.checked}}),i.ctx.emit("node-click",e.node.data,e.node,f,M)},m=M=>{i.instance.vnode.props.onNodeContextmenu&&(M.stopPropagation(),M.preventDefault()),i.ctx.emit("node-contextmenu",M,e.node.data,e.node,f)},b=()=>{e.node.isLeaf||(a.value?(i.ctx.emit("node-collapse",e.node.data,e.node,f),e.node.collapse()):e.node.expand(()=>{t.emit("node-expand",e.node.data,e.node,f)}))},_=(M,O)=>{e.node.setChecked(O.target.checked,!i.props.checkStrictly),fn(()=>{const D=i.store.value;i.ctx.emit("check",e.node.data,{checkedNodes:D.getCheckedNodes(),checkedKeys:D.getCheckedKeys(),halfCheckedNodes:D.getHalfCheckedNodes(),halfCheckedKeys:D.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:i,expanded:a,childNodeRendered:o,oldChecked:s,oldIndeterminate:l,getNodeKey:h,getNodeClass:p,handleSelectChange:v,handleClick:g,handleContextMenu:m,handleExpandIconClick:b,handleCheckChange:_,handleChildNodeExpand:(M,O,D)=>{r(O),i.ctx.emit("node-expand",M,O,D)},handleDragStart:M=>{i.props.draggable&&c.treeNodeDragStart({event:M,treeNode:e})},handleDragOver:M=>{M.preventDefault(),i.props.draggable&&c.treeNodeDragOver({event:M,treeNode:{$el:u.value,node:e.node}})},handleDrop:M=>{M.preventDefault()},handleDragEnd:M=>{i.props.draggable&&c.treeNodeDragEnd(M)},CaretRight:Bve}}});function OJe(e,t,n,r,i,a){const o=ur("el-icon"),s=ur("el-checkbox"),l=ur("loading"),u=ur("node-content"),c=ur("el-tree-node"),f=ur("el-collapse-transition");return Wn((H(),Q("div",{ref:"node$",class:j([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:xn(e.handleClick,["stop"]),onContextmenu:e.handleContextMenu,onDragstart:xn(e.handleDragStart,["stop"]),onDragover:xn(e.handleDragOver,["stop"]),onDragend:xn(e.handleDragEnd,["stop"]),onDrop:xn(e.handleDrop,["stop"])},[I("div",{class:j(e.ns.be("node","content")),style:en({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(H(),Ue(o,{key:0,class:j([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:xn(e.handleExpandIconClick,["stop"])},{default:J(()=>[(H(),Ue(cr(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):Be("v-if",!0),e.showCheckbox?(H(),Ue(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:xn(()=>{},["stop"]),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Be("v-if",!0),e.node.loading?(H(),Ue(o,{key:2,class:j([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:J(()=>[z(l)]),_:1},8,["class"])):Be("v-if",!0),z(u,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),z(f,null,{default:J(()=>[!e.renderAfterExpand||e.childNodeRendered?Wn((H(),Q("div",{key:0,class:j(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(H(!0),Q(St,null,Nn(e.node.childNodes,d=>(H(),Ue(c,{key:e.getNodeKey(d),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:d,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[Xr,e.expanded]]):Be("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Xr,e.node.visible]])}var DJe=_t(MJe,[["render",OJe],["__file","tree-node.vue"]]);function PJe({el$:e},t){const n=at("tree"),r=Ni([]),i=Ni([]);Tn(()=>{o()}),lh(()=>{r.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),tt(i,s=>{s.forEach(l=>{l.setAttribute("tabindex","-1")})}),xi(e,"keydown",s=>{const l=s.target;if(!l.className.includes(n.b("node")))return;const u=s.code;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const c=r.value.indexOf(l);let f;if([kt.up,kt.down].includes(u)){if(s.preventDefault(),u===kt.up){f=c===-1?0:c!==0?c-1:r.value.length-1;const h=f;for(;!t.value.getNode(r.value[f].dataset.key).canFocus;){if(f--,f===h){f=-1;break}f<0&&(f=r.value.length-1)}}else{f=c===-1?0:c<r.value.length-1?c+1:0;const h=f;for(;!t.value.getNode(r.value[f].dataset.key).canFocus;){if(f++,f===h){f=-1;break}f>=r.value.length&&(f=0)}}f!==-1&&r.value[f].focus()}[kt.left,kt.right].includes(u)&&(s.preventDefault(),l.click());const d=l.querySelector('[type="checkbox"]');[kt.enter,kt.numpadEnter,kt.space].includes(u)&&d&&(s.preventDefault(),d.click())});const o=()=>{var s;r.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),i.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const l=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(s=r.value[0])==null||s.setAttribute("tabindex","0")}}const LJe=le({name:"ElTree",components:{ElTreeNode:DJe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ci}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=Lr(),r=at("tree"),i=$t(Ax,null),a=Y(new wJe({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const o=Y(a.value.root),s=Y(null),l=Y(null),u=Y(null),{broadcastExpanded:c}=aye(e),{dragState:f}=IJe({props:e,ctx:t,el$:l,dropIndicator$:u,store:a});PJe({el$:l},a);const d=$(()=>{const{childNodes:N}=o.value,V=i?i.hasFilteredOptions!==0:!1;return(!N||N.length===0||N.every(({visible:W})=>!W))&&!V});tt(()=>e.currentNodeKey,N=>{a.value.setCurrentNodeKey(N)}),tt(()=>e.defaultCheckedKeys,N=>{a.value.setDefaultCheckedKey(N)}),tt(()=>e.defaultExpandedKeys,N=>{a.value.setDefaultExpandedKeys(N)}),tt(()=>e.data,N=>{a.value.setData(N)},{deep:!0}),tt(()=>e.checkStrictly,N=>{a.value.checkStrictly=N});const h=N=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(N)},p=N=>VH(e.nodeKey,N.data),v=N=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const V=a.value.getNode(N);if(!V)return[];const W=[V.data];let G=V.parent;for(;G&&G!==o.value;)W.push(G.data),G=G.parent;return W.reverse()},g=(N,V)=>a.value.getCheckedNodes(N,V),m=N=>a.value.getCheckedKeys(N),b=()=>{const N=a.value.getCurrentNode();return N?N.data:null},_=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const N=b();return N?N[e.nodeKey]:null},x=(N,V)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(N,V)},E=(N,V)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(N,V)},A=(N,V,W)=>{a.value.setChecked(N,V,W)},T=()=>a.value.getHalfCheckedNodes(),R=()=>a.value.getHalfCheckedKeys(),M=(N,V=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");HU(a,t.emit,()=>{c(N),a.value.setUserCurrentNode(N,V)})},O=(N,V=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");HU(a,t.emit,()=>{c(),a.value.setCurrentNodeKey(N,V)})},D=N=>a.value.getNode(N),C=N=>{a.value.remove(N)},P=(N,V)=>{a.value.append(N,V)},B=(N,V)=>{a.value.insertBefore(N,V)},U=(N,V)=>{a.value.insertAfter(N,V)},L=(N,V,W)=>{c(V),t.emit("node-expand",N,V,W)},F=(N,V)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(N,V)};return mr("RootTree",{ctx:t,props:e,store:a,root:o,currentNode:s,instance:or()}),mr(Jd,void 0),{ns:r,store:a,root:o,currentNode:s,dragState:f,el$:l,dropIndicator$:u,isEmpty:d,filter:h,getNodeKey:p,getNodePath:v,getCheckedNodes:g,getCheckedKeys:m,getCurrentNode:b,getCurrentKey:_,setCheckedNodes:x,setCheckedKeys:E,setChecked:A,getHalfCheckedNodes:T,getHalfCheckedKeys:R,setCurrentNode:M,setCurrentKey:O,t:n,getNode:D,remove:C,append:P,insertBefore:B,insertAfter:U,handleNodeExpand:L,updateKeyChildren:F}}});function NJe(e,t,n,r,i,a){const o=ur("el-tree-node");return H(),Q("div",{ref:"el$",class:j([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(H(!0),Q(St,null,Nn(e.root.childNodes,s=>(H(),Ue(o,{key:e.getNodeKey(s),node:s,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(H(),Q("div",{key:0,class:j(e.ns.e("empty-block"))},[De(e.$slots,"empty",{},()=>{var s;return[I("span",{class:j(e.ns.e("empty-text"))},nt((s=e.emptyText)!=null?s:e.t("el.tree.emptyText")),3)]})],2)):Be("v-if",!0),Wn(I("div",{ref:"dropIndicator$",class:j(e.ns.e("drop-indicator"))},null,2),[[Xr,e.dragState.showDropIndicator]])],2)}var BJe=_t(LJe,[["render",NJe],["__file","tree.vue"]]);const Fb=Un(BJe),kJe=(e,{attrs:t,emit:n},{select:r,tree:i,key:a})=>{const o=at("tree-select");return tt(()=>e.data,()=>{e.filterable&&fn(()=>{var l,u;(u=i.value)==null||u.filter((l=r.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...Df(ts(e),Object.keys(Cp.props)),...t,"onUpdate:modelValue":l=>n(Yn,l),valueKey:a,popperClass:$(()=>{const l=[o.e("popper")];return e.popperClass&&l.push(e.popperClass),l.join(" ")}),filterMethod:(l="")=>{var u;e.filterMethod?e.filterMethod(l):e.remoteMethod?e.remoteMethod(l):(u=i.value)==null||u.filter(l)}}},FJe=le({extends:Db,setup(e,t){const n=Db.setup(e,t);delete n.selectOptionClick;const r=or().proxy;return fn(()=>{n.select.states.cachedOptions.get(r.value)||n.select.onOptionCreate(r)}),tt(()=>t.attrs.visible,i=>{n.states.visible=i},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function jU(e){return e||e===0}function zH(e){return pt(e)&&e.length}function W_(e){return pt(e)?e:jU(e)?[e]:[]}function g3(e,t,n,r,i){for(let a=0;a<e.length;a++){const o=e[a];if(t(o,a,e,i))return r?r(o,a,e,i):o;{const s=n(o);if(zH(s)){const l=g3(s,t,n,r,o);if(l)return l}}}}function m3(e,t,n,r){for(let i=0;i<e.length;i++){const a=e[i];t(a,i,e,r);const o=n(a);zH(o)&&m3(o,t,n,a)}}const UJe=(e,{attrs:t,slots:n,emit:r},{select:i,tree:a,key:o})=>{tt(()=>e.modelValue,()=>{e.showCheckbox&&fn(()=>{const d=a.value;d&&!ps(d.getCheckedKeys(),W_(e.modelValue))&&d.setCheckedKeys(W_(e.modelValue))})},{immediate:!0,deep:!0});const s=$(()=>({value:o.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props})),l=(d,h)=>{var p;const v=s.value[d];return on(v)?v(h,(p=a.value)==null?void 0:p.getNode(l("value",h))):h[v]},u=W_(e.modelValue).map(d=>g3(e.data||[],h=>l("value",h)===d,h=>l("children",h),(h,p,v,g)=>g&&l("value",g))).filter(d=>jU(d)),c=$(()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const d=[];return m3(e.data.concat(e.cacheData),h=>{const p=l("value",h);d.push({value:p,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),d}),f=()=>{var d;return(d=a.value)==null?void 0:d.getCheckedKeys().filter(h=>{var p;const v=(p=a.value)==null?void 0:p.getNode(h);return!zo(v)&&Du(v.childNodes)})};return{...Df(ts(e),Object.keys(Fb.props)),...t,nodeKey:o,expandOnClickNode:$(()=>!e.checkStrictly&&e.expandOnClickNode),defaultExpandedKeys:$(()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(u):u),renderContent:(d,{node:h,data:p,store:v})=>d(FJe,{value:l("value",p),label:l("label",p),disabled:l("disabled",p),visible:h.visible},e.renderContent?()=>e.renderContent(d,{node:h,data:p,store:v}):n.default?()=>n.default({node:h,data:p,store:v}):void 0),filterNodeMethod:(d,h,p)=>e.filterNodeMethod?e.filterNodeMethod(d,h,p):d?new RegExp(K$(d),"i").test(l("label",h)||""):!0,onNodeClick:(d,h,p)=>{var v,g,m,b;if((v=t.onNodeClick)==null||v.call(t,d,h,p),!(e.showCheckbox&&e.checkOnClickNode)){if(!e.showCheckbox&&(e.checkStrictly||h.isLeaf)){if(!l("disabled",d)){const _=(g=i.value)==null?void 0:g.states.options.get(l("value",d));(m=i.value)==null||m.handleOptionSelect(_)}}else e.expandOnClickNode&&p.proxy.handleExpandIconClick();(b=i.value)==null||b.focus()}},onCheck:(d,h)=>{var p;if(!e.showCheckbox)return;const v=l("value",d),g={};m3([a.value.store.root],x=>g[x.key]=x,x=>x.childNodes);const m=h.checkedKeys,b=e.multiple?W_(e.modelValue).filter(x=>!(x in g)&&!m.includes(x)):[],_=b.concat(m);if(e.checkStrictly)r(Yn,e.multiple?_:_.includes(v)?v:void 0);else if(e.multiple){const x=f();r(Yn,b.concat(x))}else{const x=g3([d],T=>!zH(l("children",T))&&!l("disabled",T),T=>l("children",T)),E=x?l("value",x):void 0,A=jU(e.modelValue)&&!!g3([d],T=>l("value",T)===e.modelValue,T=>l("children",T));r(Yn,E===e.modelValue||A?void 0:E)}fn(()=>{var x;const E=W_(e.modelValue);a.value.setCheckedKeys(E),(x=t.onCheck)==null||x.call(t,d,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(p=i.value)==null||p.focus()},onNodeExpand:(d,h,p)=>{var v;(v=t.onNodeExpand)==null||v.call(t,d,h,p),fn(()=>{if(!e.checkStrictly&&e.lazy&&e.multiple&&h.checked){const g={},m=a.value.getCheckedKeys();m3([a.value.store.root],x=>g[x.key]=x,x=>x.childNodes);const b=W_(e.modelValue).filter(x=>!(x in g)&&!m.includes(x)),_=f();r(Yn,b.concat(_))}})},cacheOptions:c}};var VJe=le({props:{data:{type:Array,default:()=>[]}},setup(e){const t=$t(Ax);return tt(()=>e.data,()=>{var n;e.data.forEach(i=>{t.states.cachedOptions.has(i.value)||t.states.cachedOptions.set(i.value,i)});const r=((n=t.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Pr&&!Array.from(r).includes(document.activeElement)&&t.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const zJe=le({name:"ElTreeSelect",inheritAttrs:!1,props:{...Cp.props,...Fb.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:n,expose:r}=t,i=Y(),a=Y(),o=$(()=>e.nodeKey||e.valueKey||"value"),s=kJe(e,t,{select:i,tree:a,key:o}),{cacheOptions:l,...u}=UJe(e,t,{select:i,tree:a,key:o}),c=zn({});return r(c),Tn(()=>{Object.assign(c,{...Df(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Df(i.value,["focus","blur","selectedLabel"])})}),()=>pn(Cp,zn({...s,ref:f=>i.value=f}),{...n,default:()=>[pn(VJe,{data:l.value}),pn(Fb,zn({...u,ref:f=>a.value=f}))]})}});var $Je=_t(zJe,[["__file","tree-select.vue"]]);const HJe=Un($Je),$H=Symbol(),WJe={key:-1,level:-1,data:{}};var iE=(e=>(e.KEY="id",e.LABEL="label",e.CHILDREN="children",e.DISABLED="disabled",e.CLASS="",e))(iE||{}),YU=(e=>(e.ADD="add",e.DELETE="delete",e))(YU||{});const sye={type:Number,default:26},GJe=gt({data:{type:Ie(Array),default:()=>xa([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Ie(Object),default:()=>xa({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Ie(Array),default:()=>xa([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Ie(Array),default:()=>xa([])},indent:{type:Number,default:16},itemSize:sye,icon:{type:Ci},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Ie([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Ie(Function)},perfMode:{type:Boolean,default:!0}}),jJe=gt({node:{type:Ie(Object),default:()=>xa(WJe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:sye}),YJe=gt({node:{type:Ie(Object),required:!0}}),lye="node-click",uye="node-drop",cye="node-expand",fye="node-collapse",dye="current-change",hye="check",pye="check-change",vye="node-contextmenu",XJe={[lye]:(e,t,n)=>e&&t&&n,[uye]:(e,t,n)=>e&&t&&n,[cye]:(e,t)=>e&&t,[fye]:(e,t)=>e&&t,[dye]:(e,t)=>e&&t,[hye]:(e,t)=>e&&t,[pye]:(e,t)=>e&&Bi(t),[vye]:(e,t,n)=>e&&t&&n},KJe={click:(e,t)=>!!(e&&t),drop:(e,t)=>!!(e&&t),toggle:e=>!!e,check:(e,t)=>e&&Bi(t)};function qJe(e,t){const n=Y(new Set),r=Y(new Set),{emit:i}=or();tt([()=>t.value,()=>e.defaultCheckedKeys],()=>fn(()=>{b(e.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!t.value||!e.showCheckbox||e.checkStrictly)return;const{levelTreeNodeMap:_,maxLevel:x}=t.value,E=n.value,A=new Set;for(let T=x-1;T>=1;--T){const R=_.get(T);R&&R.forEach(M=>{const O=M.children;if(O){let D=!0,C=!1;for(const P of O){const B=P.key;if(E.has(B))C=!0;else if(A.has(B)){D=!1,C=!0;break}else D=!1}D?E.add(M.key):C?(A.add(M.key),E.delete(M.key)):(E.delete(M.key),A.delete(M.key))}})}r.value=A},o=_=>n.value.has(_.key),s=_=>r.value.has(_.key),l=(_,x,E=!0)=>{const A=n.value,T=(R,M)=>{A[M?YU.ADD:YU.DELETE](R.key);const O=R.children;!e.checkStrictly&&O&&O.forEach(D=>{D.disabled||T(D,M)})};T(_,x),a(),E&&u(_,x)},u=(_,x)=>{const{checkedNodes:E,checkedKeys:A}=p(),{halfCheckedNodes:T,halfCheckedKeys:R}=v();i(hye,_.data,{checkedKeys:A,checkedNodes:E,halfCheckedKeys:R,halfCheckedNodes:T}),i(pye,_.data,x)};function c(_=!1){return p(_).checkedKeys}function f(_=!1){return p(_).checkedNodes}function d(){return v().halfCheckedKeys}function h(){return v().halfCheckedNodes}function p(_=!1){const x=[],E=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:A}=t.value;n.value.forEach(T=>{const R=A.get(T);R&&(!_||_&&R.isLeaf)&&(E.push(T),x.push(R.data))})}return{checkedKeys:E,checkedNodes:x}}function v(){const _=[],x=[];if(t!=null&&t.value&&e.showCheckbox){const{treeNodeMap:E}=t.value;r.value.forEach(A=>{const T=E.get(A);T&&(x.push(A),_.push(T.data))})}return{halfCheckedNodes:_,halfCheckedKeys:x}}function g(_){n.value.clear(),r.value.clear(),fn(()=>{b(_)})}function m(_,x){if(t!=null&&t.value&&e.showCheckbox){const E=t.value.treeNodeMap.get(_);E&&l(E,x,!1)}}function b(_){if(t!=null&&t.value){const{treeNodeMap:x}=t.value;if(e.showCheckbox&&x&&_)for(const E of _){const A=x.get(E);A&&!o(A)&&l(A,!0,!1)}}}return{updateCheckedKeys:a,toggleCheckbox:l,isChecked:o,isIndeterminate:s,getCheckedKeys:c,getCheckedNodes:f,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:m,setCheckedKeys:g}}function ZJe(e,t){const n=Y(new Set([])),r=Y(new Set([])),i=$(()=>on(e.filterMethod));function a(s){var l;if(!i.value)return;const u=new Set,c=r.value,f=n.value,d=[],h=((l=t.value)==null?void 0:l.treeNodes)||[],p=e.filterMethod;f.clear();function v(g){g.forEach(m=>{d.push(m),p!=null&&p(s,m.data)?d.forEach(_=>{u.add(_.key)}):m.isLeaf&&f.add(m.key);const b=m.children;if(b&&v(b),!m.isLeaf){if(!u.has(m.key))f.add(m.key);else if(b){let _=!0;for(const x of b)if(!f.has(x.key)){_=!1;break}_?c.add(m.key):c.delete(m.key)}}d.pop()})}return v(h),u}function o(s){return r.value.has(s.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:n,doFilter:a,isForceHiddenExpandIcon:o}}function QJe(e,t){const n=Y(new Set(e.defaultExpandedKeys)),r=Y(),i=Ni(),a=Y();tt(()=>e.currentNodeKey,re=>{r.value=re},{immediate:!0}),tt(()=>e.data,re=>{de(re)},{immediate:!0});const{isIndeterminate:o,isChecked:s,toggleCheckbox:l,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p}=qJe(e,i),{doFilter:v,hiddenNodeKeySet:g,isForceHiddenExpandIcon:m}=ZJe(e,i),b=$(()=>{var re;return((re=e.props)==null?void 0:re.value)||iE.KEY}),_=$(()=>{var re;return((re=e.props)==null?void 0:re.children)||iE.CHILDREN}),x=$(()=>{var re;return((re=e.props)==null?void 0:re.disabled)||iE.DISABLED}),E=$(()=>{var re;return((re=e.props)==null?void 0:re.label)||iE.LABEL}),A=$(()=>{var re;const ne=n.value,se=g.value,be=[],Pe=((re=i.value)==null?void 0:re.treeNodes)||[],Ee=[];for(let Le=Pe.length-1;Le>=0;--Le)Ee.push(Pe[Le]);for(;Ee.length;){const Le=Ee.pop();if(!se.has(Le.key)&&(be.push(Le),Le.children&&ne.has(Le.key)))for(let He=Le.children.length-1;He>=0;--He)Ee.push(Le.children[He])}return be}),T=$(()=>A.value.length>0);function R(re){const ne=new Map,se=new Map;let be=1;function Pe(Le,He=1,rt=void 0){var Je;const ot=[];for(const ae of Le){const Xe=D(ae),Tt={level:He,key:Xe,data:ae};Tt.label=P(ae),Tt.parent=rt;const sn=O(ae);Tt.disabled=C(ae),Tt.isLeaf=!sn||sn.length===0,sn&&sn.length&&(Tt.children=Pe(sn,He+1,Tt)),ot.push(Tt),ne.set(Xe,Tt),se.has(He)||se.set(He,[]),(Je=se.get(He))==null||Je.push(Tt)}return He>be&&(be=He),ot}const Ee=Pe(re);return{treeNodeMap:ne,levelTreeNodeMap:se,maxLevel:be,treeNodes:Ee}}function M(re){const ne=v(re);ne&&(n.value=ne)}function O(re){return re[_.value]}function D(re){return re?re[b.value]:""}function C(re){return re[x.value]}function P(re){return re[E.value]}function B(re){n.value.has(re.key)?G(re):W(re)}function U(re){const ne=new Set,se=i.value.treeNodeMap;re.forEach(be=>{let Pe=se.get(be);for(;Pe&&!ne.has(Pe.key);)ne.add(Pe.key),Pe=Pe.parent}),n.value=ne}function L(re,ne){t(lye,re.data,re,ne),N(re),e.expandOnClickNode&&B(re),e.showCheckbox&&e.checkOnClickNode&&!re.disabled&&l(re,!s(re),!0)}function F(re,ne){t(uye,re.data,re,ne)}function N(re){ue(re)||(r.value=re.key,t(dye,re.data,re))}function V(re,ne){l(re,ne)}function W(re){const ne=n.value;if(i.value&&e.accordion){const{treeNodeMap:se}=i.value;ne.forEach(be=>{const Pe=se.get(be);re&&re.level===(Pe==null?void 0:Pe.level)&&ne.delete(be)})}ne.add(re.key),t(cye,re.data,re)}function G(re){n.value.delete(re.key),t(fye,re.data,re)}function K(re){return n.value.has(re.key)}function q(re){return!!re.disabled}function ue(re){const ne=r.value;return ne!==void 0&&ne===re.key}function he(){var re,ne;if(r.value)return(ne=(re=i.value)==null?void 0:re.treeNodeMap.get(r.value))==null?void 0:ne.data}function Ce(){return r.value}function ee(re){r.value=re}function de(re){fn(()=>i.value=R(re))}function oe(re){var ne;const se=nr(re)?D(re):re;return(ne=i.value)==null?void 0:ne.treeNodeMap.get(se)}function pe(re,ne="auto"){const se=oe(re);se&&a.value&&a.value.scrollToItem(A.value.indexOf(se),ne)}function me(re){var ne;(ne=a.value)==null||ne.scrollTo(re)}return{tree:i,flattenTree:A,isNotEmpty:T,listRef:a,getKey:D,getChildren:O,toggleExpand:B,toggleCheckbox:l,isExpanded:K,isChecked:s,isIndeterminate:o,isDisabled:q,isCurrent:ue,isForceHiddenExpandIcon:m,handleNodeClick:L,handleNodeDrop:F,handleNodeCheck:V,getCurrentNode:he,getCurrentKey:Ce,setCurrentKey:ee,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:d,setChecked:h,setCheckedKeys:p,filter:M,setData:de,getNode:oe,expandNode:W,collapseNode:G,setExpandedKeys:U,scrollToNode:pe,scrollTo:me}}var JJe=le({name:"ElTreeNodeContent",props:YJe,setup(e){const t=$t($H),n=at("tree");return()=>{const r=e.node,{data:i}=r;return t!=null&&t.ctx.slots.default?t.ctx.slots.default({node:r,data:i}):pn("span",{class:n.be("node","label")},[r==null?void 0:r.label])}}});const eet=le({name:"ElTreeNode"}),tet=le({...eet,props:jJe,emits:KJe,setup(e,{emit:t}){const n=e,r=$t($H),i=at("tree"),a=$(()=>{var h;return(h=r==null?void 0:r.props.indent)!=null?h:16}),o=$(()=>{var h;return(h=r==null?void 0:r.props.icon)!=null?h:Bve}),s=h=>{const p=r==null?void 0:r.props.props.class;if(!p)return{};let v;if(on(p)){const{data:g}=h;v=p(g,h)}else v=p;return an(v)?{[v]:!0}:v},l=h=>{t("click",n.node,h)},u=h=>{t("drop",n.node,h)},c=()=>{t("toggle",n.node)},f=h=>{t("check",n.node,h)},d=h=>{var p,v,g,m;(g=(v=(p=r==null?void 0:r.instance)==null?void 0:p.vnode)==null?void 0:v.props)!=null&&g.onNodeContextmenu&&(h.stopPropagation(),h.preventDefault()),r==null||r.ctx.emit(vye,h,(m=n.node)==null?void 0:m.data,n.node)};return(h,p)=>{var v,g,m;return H(),Q("div",{ref:"node$",class:j([y(i).b("node"),y(i).is("expanded",h.expanded),y(i).is("current",h.current),y(i).is("focusable",!h.disabled),y(i).is("checked",!h.disabled&&h.checked),s(h.node)]),role:"treeitem",tabindex:"-1","aria-expanded":h.expanded,"aria-disabled":h.disabled,"aria-checked":h.checked,"data-key":(v=h.node)==null?void 0:v.key,onClick:xn(l,["stop"]),onContextmenu:d,onDragover:xn(()=>{},["prevent"]),onDragenter:xn(()=>{},["prevent"]),onDrop:xn(u,["stop"])},[I("div",{class:j(y(i).be("node","content")),style:en({paddingLeft:`${(h.node.level-1)*y(a)}px`,height:h.itemSize+"px"})},[y(o)?(H(),Ue(y(Xt),{key:0,class:j([y(i).is("leaf",!!((g=h.node)!=null&&g.isLeaf)),y(i).is("hidden",h.hiddenExpandIcon),{expanded:!((m=h.node)!=null&&m.isLeaf)&&h.expanded},y(i).be("node","expand-icon")]),onClick:xn(c,["stop"])},{default:J(()=>[(H(),Ue(cr(y(o))))]),_:1},8,["class","onClick"])):Be("v-if",!0),h.showCheckbox?(H(),Ue(y(ju),{key:1,"model-value":h.checked,indeterminate:h.indeterminate,disabled:h.disabled,onChange:f,onClick:xn(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Be("v-if",!0),z(y(JJe),{node:h.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var net=_t(tet,[["__file","tree-node.vue"]]);const ret=le({name:"ElTreeV2"}),iet=le({...ret,props:GJe,emits:XJe,setup(e,{expose:t,emit:n}){const r=e,i=_o(),a=$(()=>r.itemSize);mr($H,{ctx:{emit:n,slots:i},props:r,instance:or()}),mr(Jd,void 0);const{t:o}=Lr(),s=at("tree"),{flattenTree:l,isNotEmpty:u,listRef:c,toggleExpand:f,isExpanded:d,isIndeterminate:h,isChecked:p,isDisabled:v,isCurrent:g,isForceHiddenExpandIcon:m,handleNodeClick:b,handleNodeDrop:_,handleNodeCheck:x,toggleCheckbox:E,getCurrentNode:A,getCurrentKey:T,setCurrentKey:R,getCheckedKeys:M,getCheckedNodes:O,getHalfCheckedKeys:D,getHalfCheckedNodes:C,setChecked:P,setCheckedKeys:B,filter:U,setData:L,getNode:F,expandNode:N,collapseNode:V,setExpandedKeys:W,scrollToNode:G,scrollTo:K}=QJe(r,n);return t({toggleCheckbox:E,getCurrentNode:A,getCurrentKey:T,setCurrentKey:R,getCheckedKeys:M,getCheckedNodes:O,getHalfCheckedKeys:D,getHalfCheckedNodes:C,setChecked:P,setCheckedKeys:B,filter:U,setData:L,getNode:F,expandNode:N,collapseNode:V,setExpandedKeys:W,scrollToNode:G,scrollTo:K}),(q,ue)=>(H(),Q("div",{class:j([y(s).b(),{[y(s).m("highlight-current")]:q.highlightCurrent}]),role:"tree"},[y(u)?(H(),Ue(y(Qme),{key:0,ref_key:"listRef",ref:c,"class-name":y(s).b("virtual-list"),data:y(l),total:y(l).length,height:q.height,"item-size":y(a),"perf-mode":q.perfMode},{default:J(({data:he,index:Ce,style:ee})=>[(H(),Ue(net,{key:he[Ce].key,style:en(ee),node:he[Ce],expanded:y(d)(he[Ce]),"show-checkbox":q.showCheckbox,checked:y(p)(he[Ce]),indeterminate:y(h)(he[Ce]),"item-size":y(a),disabled:y(v)(he[Ce]),current:y(g)(he[Ce]),"hidden-expand-icon":y(m)(he[Ce]),onClick:y(b),onToggle:y(f),onCheck:y(x),onDrop:y(_)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(H(),Q("div",{key:1,class:j(y(s).e("empty-block"))},[De(q.$slots,"empty",{},()=>{var he;return[I("span",{class:j(y(s).e("empty-text"))},nt((he=q.emptyText)!=null?he:y(o)("el.tree.emptyText")),3)]})],2))],2))}});var aet=_t(iet,[["__file","tree.vue"]]);const oet=Un(aet),gye=Symbol("uploadContextKey"),set="ElUpload";class uet extends Error{constructor(t,n,r,i){super(t),this.name="UploadAjaxError",this.status=n,this.method=r,this.url=i}}function oZ(e,t,n){let r;return n.response?r=`${n.response.error||n.response}`:n.responseText?r=`${n.responseText}`:r=`fail to ${t.method} ${e} ${n.status}`,new uet(r,n.status,t.method,e)}function cet(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}const fet=e=>{typeof XMLHttpRequest>"u"&&Ro(set,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,n=e.action;t.upload&&t.upload.addEventListener("progress",a=>{const o=a;o.percent=a.total>0?a.loaded/a.total*100:0,e.onProgress(o)});const r=new FormData;if(e.data)for(const[a,o]of Object.entries(e.data))pt(o)&&o.length?r.append(a,...o):r.append(a,o);r.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(oZ(n,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(oZ(n,e,t));e.onSuccess(cet(t))}),t.open(e.method,n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const i=e.headers||{};if(i instanceof Headers)i.forEach((a,o)=>t.setRequestHeader(o,a));else for(const[a,o]of Object.entries(i))zo(o)||t.setRequestHeader(a,String(o));return t.send(r),t},mye=["text","picture","picture-card"];let det=1;const XU=()=>Date.now()+det++,yye=gt({action:{type:String,default:"#"},headers:{type:Ie(Object)},method:{type:String,default:"post"},data:{type:Ie([Object,Function,Promise]),default:()=>xa({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Ie(Array),default:()=>xa([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:mye,default:"text"},httpRequest:{type:Ie(Function),default:fet},disabled:Boolean,limit:Number}),het=gt({...yye,beforeUpload:{type:Ie(Function),default:gi},beforeRemove:{type:Ie(Function)},onRemove:{type:Ie(Function),default:gi},onChange:{type:Ie(Function),default:gi},onPreview:{type:Ie(Function),default:gi},onSuccess:{type:Ie(Function),default:gi},onProgress:{type:Ie(Function),default:gi},onError:{type:Ie(Function),default:gi},onExceed:{type:Ie(Function),default:gi},crossorigin:{type:Ie(String)}}),pet=gt({files:{type:Ie(Array),default:()=>xa([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Ie(Function),default:gi},listType:{type:String,values:mye,default:"text"},crossorigin:{type:Ie(String)}}),vet={remove:e=>!!e},get=le({name:"ElUploadList"}),met=le({...get,props:pet,emits:vet,setup(e,{emit:t}){const n=e,{t:r}=Lr(),i=at("upload"),a=at("icon"),o=at("list"),s=ks(),l=Y(!1),u=$(()=>[i.b("list"),i.bm("list",n.listType),i.is("disabled",n.disabled)]),c=f=>{t("remove",f)};return(f,d)=>(H(),Ue(Ape,{tag:"ul",class:j(y(u)),name:y(o).b()},{default:J(()=>[(H(!0),Q(St,null,Nn(f.files,(h,p)=>(H(),Q("li",{key:h.uid||h.name,class:j([y(i).be("list","item"),y(i).is(h.status),{focusing:l.value}]),tabindex:"0",onKeydown:Mi(v=>!y(s)&&c(h),["delete"]),onFocus:v=>l.value=!0,onBlur:v=>l.value=!1,onClick:v=>l.value=!1},[De(f.$slots,"default",{file:h,index:p},()=>[f.listType==="picture"||h.status!=="uploading"&&f.listType==="picture-card"?(H(),Q("img",{key:0,class:j(y(i).be("list","item-thumbnail")),src:h.url,crossorigin:f.crossorigin,alt:""},null,10,["src","crossorigin"])):Be("v-if",!0),h.status==="uploading"||f.listType!=="picture-card"?(H(),Q("div",{key:1,class:j(y(i).be("list","item-info"))},[I("a",{class:j(y(i).be("list","item-name")),onClick:xn(v=>f.handlePreview(h),["prevent"])},[z(y(Xt),{class:j(y(a).m("document"))},{default:J(()=>[z(y(fke))]),_:1},8,["class"]),I("span",{class:j(y(i).be("list","item-file-name")),title:h.name},nt(h.name),11,["title"])],10,["onClick"]),h.status==="uploading"?(H(),Ue(y($me),{key:0,type:f.listType==="picture-card"?"circle":"line","stroke-width":f.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:en(f.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Be("v-if",!0)],2)):Be("v-if",!0),I("label",{class:j(y(i).be("list","item-status-label"))},[f.listType==="text"?(H(),Ue(y(Xt),{key:0,class:j([y(a).m("upload-success"),y(a).m("circle-check")])},{default:J(()=>[z(y(w$))]),_:1},8,["class"])):["picture-card","picture"].includes(f.listType)?(H(),Ue(y(Xt),{key:1,class:j([y(a).m("upload-success"),y(a).m("check")])},{default:J(()=>[z(y(jT))]),_:1},8,["class"])):Be("v-if",!0)],2),y(s)?Be("v-if",!0):(H(),Ue(y(Xt),{key:2,class:j(y(a).m("close")),onClick:v=>c(h)},{default:J(()=>[z(y(Yf))]),_:2},1032,["class","onClick"])),Be(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Be(" This is a bug which needs to be fixed "),Be(" TODO: Fix the incorrect navigation interaction "),y(s)?Be("v-if",!0):(H(),Q("i",{key:3,class:j(y(a).m("close-tip"))},nt(y(r)("el.upload.deleteTip")),3)),f.listType==="picture-card"?(H(),Q("span",{key:4,class:j(y(i).be("list","item-actions"))},[I("span",{class:j(y(i).be("list","item-preview")),onClick:v=>f.handlePreview(h)},[z(y(Xt),{class:j(y(a).m("zoom-in"))},{default:J(()=>[z(y(zve))]),_:1},8,["class"])],10,["onClick"]),y(s)?Be("v-if",!0):(H(),Q("span",{key:0,class:j(y(i).be("list","item-delete")),onClick:v=>c(h)},[z(y(Xt),{class:j(y(a).m("delete"))},{default:J(()=>[z(y(uke))]),_:1},8,["class"])],10,["onClick"]))],2)):Be("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),De(f.$slots,"append")]),_:3},8,["class","name"]))}});var sZ=_t(met,[["__file","upload-list.vue"]]);const yet=gt({disabled:{type:Boolean,default:!1}}),_et={file:e=>pt(e)},_ye="ElUploadDrag",bet=le({name:_ye}),xet=le({...bet,props:yet,emits:_et,setup(e,{emit:t}){$t(gye)||Ro(_ye,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=at("upload"),i=Y(!1),a=ks(),o=l=>{if(a.value)return;i.value=!1,l.stopPropagation();const u=Array.from(l.dataTransfer.files);t("file",u)},s=()=>{a.value||(i.value=!0)};return(l,u)=>(H(),Q("div",{class:j([y(r).b("dragger"),y(r).is("dragover",i.value)]),onDrop:xn(o,["prevent"]),onDragover:xn(s,["prevent"]),onDragleave:xn(c=>i.value=!1,["prevent"])},[De(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var Aet=_t(xet,[["__file","upload-dragger.vue"]]);const Eet=gt({...yye,beforeUpload:{type:Ie(Function),default:gi},onRemove:{type:Ie(Function),default:gi},onStart:{type:Ie(Function),default:gi},onSuccess:{type:Ie(Function),default:gi},onProgress:{type:Ie(Function),default:gi},onError:{type:Ie(Function),default:gi},onExceed:{type:Ie(Function),default:gi}}),Tet=le({name:"ElUploadContent",inheritAttrs:!1}),wet=le({...Tet,props:Eet,setup(e,{expose:t}){const n=e,r=at("upload"),i=ks(),a=Ni({}),o=Ni(),s=v=>{if(v.length===0)return;const{autoUpload:g,limit:m,fileList:b,multiple:_,onStart:x,onExceed:E}=n;if(m&&b.length+v.length>m){E(v,b);return}_||(v=v.slice(0,1));for(const A of v){const T=A;T.uid=XU(),x(T),g&&l(T)}},l=async v=>{if(o.value.value="",!n.beforeUpload)return c(v);let g,m={};try{const _=n.data,x=n.beforeUpload(v);m=m2(n.data)?pM(n.data):n.data,g=await x,m2(n.data)&&ps(_,m)&&(m=pM(n.data))}catch{g=!1}if(g===!1){n.onRemove(v);return}let b=v;g instanceof Blob&&(g instanceof File?b=g:b=new File([g],v.name,{type:v.type})),c(Object.assign(b,{uid:v.uid}),m)},u=async(v,g)=>on(v)?v(g):v,c=async(v,g)=>{const{headers:m,data:b,method:_,withCredentials:x,name:E,action:A,onProgress:T,onSuccess:R,onError:M,httpRequest:O}=n;try{g=await u(g??b,v)}catch{n.onRemove(v);return}const{uid:D}=v,C={headers:m||{},withCredentials:x,file:v,data:g,method:_,filename:E,action:A,onProgress:B=>{T(B,v)},onSuccess:B=>{R(B,v),delete a.value[D]},onError:B=>{M(B,v),delete a.value[D]}},P=O(C);a.value[D]=P,P instanceof Promise&&P.then(C.onSuccess,C.onError)},f=v=>{const g=v.target.files;g&&s(Array.from(g))},d=()=>{i.value||(o.value.value="",o.value.click())},h=()=>{d()};return t({abort:v=>{Mve(a.value).filter(v?([m])=>String(v.uid)===m:()=>!0).forEach(([m,b])=>{b instanceof XMLHttpRequest&&b.abort(),delete a.value[m]})},upload:l}),(v,g)=>(H(),Q("div",{class:j([y(r).b(),y(r).m(v.listType),y(r).is("drag",v.drag),y(r).is("disabled",y(i))]),tabindex:y(i)?"-1":"0",onClick:d,onKeydown:Mi(xn(h,["self"]),["enter","space"])},[v.drag?(H(),Ue(Aet,{key:0,disabled:y(i),onFile:s},{default:J(()=>[De(v.$slots,"default")]),_:3},8,["disabled"])):De(v.$slots,"default",{key:1}),I("input",{ref_key:"inputRef",ref:o,class:j(y(r).e("input")),name:v.name,disabled:y(i),multiple:v.multiple,accept:v.accept,type:"file",onChange:f,onClick:xn(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var lZ=_t(wet,[["__file","upload-content.vue"]]);const uZ="ElUpload",cZ=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},Cet=(e,t)=>{const n=Sve(e,"fileList",void 0,{passive:!0}),r=h=>n.value.find(p=>p.uid===h.uid);function i(h){var p;(p=t.value)==null||p.abort(h)}function a(h=["ready","uploading","success","fail"]){n.value=n.value.filter(p=>!h.includes(p.status))}function o(h){n.value=n.value.filter(p=>p!==h)}const s=(h,p)=>{const v=r(p);v&&(console.error(h),v.status="fail",o(v),e.onError(h,v,n.value),e.onChange(v,n.value))},l=(h,p)=>{const v=r(p);v&&(e.onProgress(h,v,n.value),v.status="uploading",v.percentage=Math.round(h.percent))},u=(h,p)=>{const v=r(p);v&&(v.status="success",v.response=h,e.onSuccess(h,v,n.value),e.onChange(v,n.value))},c=h=>{zo(h.uid)&&(h.uid=XU());const p={name:h.name,percentage:0,status:"ready",size:h.size,raw:h,uid:h.uid};if(e.listType==="picture-card"||e.listType==="picture")try{p.url=URL.createObjectURL(h)}catch(v){v.message,e.onError(v,p,n.value)}n.value=[...n.value,p],e.onChange(p,n.value)},f=async h=>{const p=h instanceof File?r(h):h;p||Ro(uZ,"file to be removed not found");const v=g=>{i(g),o(g),e.onRemove(g,n.value),cZ(g)};e.beforeRemove?await e.beforeRemove(p,n.value)!==!1&&v(p):v(p)};function d(){n.value.filter(({status:h})=>h==="ready").forEach(({raw:h})=>{var p;return h&&((p=t.value)==null?void 0:p.upload(h))})}return tt(()=>e.listType,h=>{h!=="picture-card"&&h!=="picture"||(n.value=n.value.map(p=>{const{raw:v,url:g}=p;if(!g&&v)try{p.url=URL.createObjectURL(v)}catch(m){e.onError(m,p,n.value)}return p}))}),tt(n,h=>{for(const p of h)p.uid||(p.uid=XU()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:i,clearFiles:a,handleError:s,handleProgress:l,handleStart:c,handleSuccess:u,handleRemove:f,submit:d,revokeFileObjectURL:cZ}},Ret=le({name:"ElUpload"}),Iet=le({...Ret,props:het,setup(e,{expose:t}){const n=e,r=ks(),i=Ni(),{abort:a,submit:o,clearFiles:s,uploadFiles:l,handleStart:u,handleError:c,handleRemove:f,handleSuccess:d,handleProgress:h,revokeFileObjectURL:p}=Cet(n,i),v=$(()=>n.listType==="picture-card"),g=$(()=>({...n,fileList:l.value,onStart:u,onProgress:h,onSuccess:d,onError:c,onRemove:f}));return Oi(()=>{l.value.forEach(p)}),mr(gye,{accept:hi(n,"accept")}),t({abort:a,submit:o,clearFiles:s,handleStart:u,handleRemove:f}),(m,b)=>(H(),Q("div",null,[y(v)&&m.showFileList?(H(),Ue(sZ,{key:0,disabled:y(r),"list-type":m.listType,files:y(l),crossorigin:m.crossorigin,"handle-preview":m.onPreview,onRemove:y(f)},Nc({append:J(()=>[z(lZ,dr({ref_key:"uploadRef",ref:i},y(g)),{default:J(()=>[m.$slots.trigger?De(m.$slots,"trigger",{key:0}):Be("v-if",!0),!m.$slots.trigger&&m.$slots.default?De(m.$slots,"default",{key:1}):Be("v-if",!0)]),_:3},16)]),_:2},[m.$slots.file?{name:"default",fn:J(({file:_,index:x})=>[De(m.$slots,"file",{file:_,index:x})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Be("v-if",!0),!y(v)||y(v)&&!m.showFileList?(H(),Ue(lZ,dr({key:1,ref_key:"uploadRef",ref:i},y(g)),{default:J(()=>[m.$slots.trigger?De(m.$slots,"trigger",{key:0}):Be("v-if",!0),!m.$slots.trigger&&m.$slots.default?De(m.$slots,"default",{key:1}):Be("v-if",!0)]),_:3},16)):Be("v-if",!0),m.$slots.trigger?De(m.$slots,"default",{key:2}):Be("v-if",!0),De(m.$slots,"tip"),!y(v)&&m.showFileList?(H(),Ue(sZ,{key:3,disabled:y(r),"list-type":m.listType,files:y(l),crossorigin:m.crossorigin,"handle-preview":m.onPreview,onRemove:y(f)},Nc({_:2},[m.$slots.file?{name:"default",fn:J(({file:_,index:x})=>[De(m.$slots,"file",{file:_,index:x})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Be("v-if",!0)]))}});var Met=_t(Iet,[["__file","upload.vue"]]);const Oet=Un(Met),Det=gt({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Ie([String,Array]),default:"Element Plus"},font:{type:Ie(Object)},gap:{type:Ie(Array),default:()=>[100,100]},offset:{type:Ie(Array)}});function Pet(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function Let(e){return Object.keys(e).map(t=>`${Pet(t)}: ${e[t]};`).join(" ")}function Net(){return window.devicePixelRatio||1}const Bet=(e,t)=>{let n=!1;return e.removedNodes.length&&t&&(n=Array.from(e.removedNodes).includes(t)),e.type==="attributes"&&e.target===t&&(n=!0),n},bye=3;function dN(e,t,n=1){const r=document.createElement("canvas"),i=r.getContext("2d"),a=e*n,o=t*n;return r.setAttribute("width",`${a}px`),r.setAttribute("height",`${o}px`),i.save(),[i,r,a,o]}function ket(){function e(t,n,r,i,a,o,s,l){const[u,c,f,d]=dN(i,a,r);if(t instanceof HTMLImageElement)u.drawImage(t,0,0,f,d);else{const{color:G,fontSize:K,fontStyle:q,fontWeight:ue,fontFamily:he,textAlign:Ce,textBaseline:ee}=o,de=Number(K)*r;u.font=`${q} normal ${ue} ${de}px/${a}px ${he}`,u.fillStyle=G,u.textAlign=Ce,u.textBaseline=ee;const oe=pt(t)?t:[t];oe==null||oe.forEach((pe,me)=>{u.fillText(pe??"",f/2,me*(de+bye*r))})}const h=Math.PI/180*Number(n),p=Math.max(i,a),[v,g,m]=dN(p,p,r);v.translate(m/2,m/2),v.rotate(h),f>0&&d>0&&v.drawImage(c,-f/2,-d/2);function b(G,K){const q=G*Math.cos(h)-K*Math.sin(h),ue=G*Math.sin(h)+K*Math.cos(h);return[q,ue]}let _=0,x=0,E=0,A=0;const T=f/2,R=d/2;[[0-T,0-R],[0+T,0-R],[0+T,0+R],[0-T,0+R]].forEach(([G,K])=>{const[q,ue]=b(G,K);_=Math.min(_,q),x=Math.max(x,q),E=Math.min(E,ue),A=Math.max(A,ue)});const O=_+m/2,D=E+m/2,C=x-_,P=A-E,B=s*r,U=l*r,L=(C+B)*2,F=P+U,[N,V]=dN(L,F);function W(G=0,K=0){N.drawImage(g,O,D,C,P,G,K,C,P)}return W(),W(C+B,-P/2-U/2),W(C+B,+P/2+U/2),[V.toDataURL(),L/r,F/r]}return e}const Fet=le({name:"ElWatermark"}),Uet=le({...Fet,props:Det,setup(e){const t=e,n={position:"relative"},r=$(()=>{var O,D;return(D=(O=t.font)==null?void 0:O.color)!=null?D:"rgba(0,0,0,.15)"}),i=$(()=>{var O,D;return(D=(O=t.font)==null?void 0:O.fontSize)!=null?D:16}),a=$(()=>{var O,D;return(D=(O=t.font)==null?void 0:O.fontWeight)!=null?D:"normal"}),o=$(()=>{var O,D;return(D=(O=t.font)==null?void 0:O.fontStyle)!=null?D:"normal"}),s=$(()=>{var O,D;return(D=(O=t.font)==null?void 0:O.fontFamily)!=null?D:"sans-serif"}),l=$(()=>{var O,D;return(D=(O=t.font)==null?void 0:O.textAlign)!=null?D:"center"}),u=$(()=>{var O,D;return(D=(O=t.font)==null?void 0:O.textBaseline)!=null?D:"hanging"}),c=$(()=>t.gap[0]),f=$(()=>t.gap[1]),d=$(()=>c.value/2),h=$(()=>f.value/2),p=$(()=>{var O,D;return(D=(O=t.offset)==null?void 0:O[0])!=null?D:d.value}),v=$(()=>{var O,D;return(D=(O=t.offset)==null?void 0:O[1])!=null?D:h.value}),g=()=>{const O={zIndex:t.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let D=p.value-d.value,C=v.value-h.value;return D>0&&(O.left=`${D}px`,O.width=`calc(100% - ${D}px)`,D=0),C>0&&(O.top=`${C}px`,O.height=`calc(100% - ${C}px)`,C=0),O.backgroundPosition=`${D}px ${C}px`,O},m=Ni(null),b=Ni(),_=Y(!1),x=()=>{b.value&&(b.value.remove(),b.value=void 0)},E=(O,D)=>{var C;m.value&&b.value&&(_.value=!0,b.value.setAttribute("style",Let({...g(),backgroundImage:`url('${O}')`,backgroundSize:`${Math.floor(D)}px`})),(C=m.value)==null||C.append(b.value),setTimeout(()=>{_.value=!1}))},A=O=>{let D=120,C=64;const P=t.image,B=t.content,U=t.width,L=t.height;if(!P&&O.measureText){O.font=`${Number(i.value)}px ${s.value}`;const F=pt(B)?B:[B],N=F.map(V=>{const W=O.measureText(V);return[W.width,W.fontBoundingBoxAscent!==void 0?W.fontBoundingBoxAscent+W.fontBoundingBoxDescent:W.actualBoundingBoxAscent+W.actualBoundingBoxDescent]});D=Math.ceil(Math.max(...N.map(V=>V[0]))),C=Math.ceil(Math.max(...N.map(V=>V[1])))*F.length+(F.length-1)*bye}return[U??D,L??C]},T=ket(),R=()=>{const D=document.createElement("canvas").getContext("2d"),C=t.image,P=t.content,B=t.rotate;if(D){b.value||(b.value=document.createElement("div"));const U=Net(),[L,F]=A(D),N=V=>{const[W,G]=T(V||"",B,U,L,F,{color:r.value,fontSize:i.value,fontStyle:o.value,fontWeight:a.value,fontFamily:s.value,textAlign:l.value,textBaseline:u.value},c.value,f.value);E(W,G)};if(C){const V=new Image;V.onload=()=>{N(V)},V.onerror=()=>{N(P)},V.crossOrigin="anonymous",V.referrerPolicy="no-referrer",V.src=C}else N(P)}};return Tn(()=>{R()}),tt(()=>t,()=>{R()},{deep:!0,flush:"post"}),Oi(()=>{x()}),xve(m,O=>{_.value||O.forEach(D=>{Bet(D,b.value)&&(x(),R())})},{attributes:!0,subtree:!0,childList:!0}),(O,D)=>(H(),Q("div",{ref_key:"containerRef",ref:m,style:en([n])},[De(O.$slots,"default")],4))}});var Vet=_t(Uet,[["__file","watermark.vue"]]);const zet=Un(Vet),$et=gt({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:Ie(Object)},targetAreaClickable:{type:Boolean,default:!0}}),Het=(e,t,n,r,i)=>{const a=Y(null),o=()=>{let f;return an(e.value)?f=document.querySelector(e.value):on(e.value)?f=e.value():f=e.value,f},s=()=>{const f=o();if(!f||!t.value){a.value=null;return}Wet(f)||f.scrollIntoView(i.value);const{left:d,top:h,width:p,height:v}=f.getBoundingClientRect();a.value={left:d,top:h,width:p,height:v,radius:0}};Tn(()=>{tt([t,e],()=>{s()},{immediate:!0}),window.addEventListener("resize",s)}),Oi(()=>{window.removeEventListener("resize",s)});const l=f=>{var d;return(d=pt(n.value.offset)?n.value.offset[f]:n.value.offset)!=null?d:6},u=$(()=>{var f;if(!a.value)return a.value;const d=l(0),h=l(1),p=((f=n.value)==null?void 0:f.radius)||2;return{left:a.value.left-d,top:a.value.top-h,width:a.value.width+d*2,height:a.value.height+h*2,radius:p}}),c=$(()=>{const f=o();return!r.value||!f||!window.DOMRect?f||void 0:{getBoundingClientRect(){var d,h,p,v;return window.DOMRect.fromRect({width:((d=u.value)==null?void 0:d.width)||0,height:((h=u.value)==null?void 0:h.height)||0,x:((p=u.value)==null?void 0:p.left)||0,y:((v=u.value)==null?void 0:v.top)||0})}}});return{mergedPosInfo:u,triggerTarget:c}},rP=Symbol("ElTour");function Wet(e){const t=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:a,left:o}=e.getBoundingClientRect();return r>=0&&o>=0&&i<=t&&a<=n}const Get=(e,t,n,r,i,a,o,s)=>{const l=Y(),u=Y(),c=Y({}),f={x:l,y:u,placement:r,strategy:i,middlewareData:c},d=$(()=>{const m=[eye(y(a)),YQe(),jQe(),jet()];return y(s)&&y(n)&&m.push(tye({element:y(n)})),m}),h=async()=>{if(!Pr)return;const m=y(e),b=y(t);if(!m||!b)return;const _=await nye(m,b,{placement:y(r),strategy:y(i),middleware:y(d)});Tb(f).forEach(x=>{f[x].value=_[x]})},p=$(()=>{if(!y(e))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:y(o)};const{overflow:m}=y(c);return{position:y(i),zIndex:y(o),top:y(u)!=null?`${y(u)}px`:"",left:y(l)!=null?`${y(l)}px`:"",maxWidth:m!=null&&m.maxWidth?`${m==null?void 0:m.maxWidth}px`:""}}),v=$(()=>{if(!y(s))return{};const{arrow:m}=y(c);return{left:(m==null?void 0:m.x)!=null?`${m==null?void 0:m.x}px`:"",top:(m==null?void 0:m.y)!=null?`${m==null?void 0:m.y}px`:""}});let g;return Tn(()=>{const m=y(e),b=y(t);m&&b&&(g=WQe(m,b,h)),Is(()=>{h()})}),Oi(()=>{g&&g()}),{update:h,contentStyle:p,arrowStyle:v}},jet=()=>({name:"overflow",async fn(e){const t=await GQe(e);let n=0;return t.left>0&&(n=t.left),t.right>0&&(n=t.right),{data:{maxWidth:e.rects.floating.width-n}}}}),Yet=le({name:"ElTourMask",inheritAttrs:!1}),Xet=le({...Yet,props:$et,setup(e){const t=e,{ns:n}=$t(rP),r=$(()=>{var s,l;return(l=(s=t.pos)==null?void 0:s.radius)!=null?l:2}),i=$(()=>{const s=r.value,l=`a${s},${s} 0 0 1`;return{topRight:`${l} ${s},${s}`,bottomRight:`${l} ${-s},${s}`,bottomLeft:`${l} ${-s},${-s}`,topLeft:`${l} ${s},${-s}`}}),a=$(()=>{const s=window.innerWidth,l=window.innerHeight,u=i.value,c=`M${s},0 L0,0 L0,${l} L${s},${l} L${s},0 Z`,f=r.value;return t.pos?`${c} M${t.pos.left+f},${t.pos.top} h${t.pos.width-f*2} ${u.topRight} v${t.pos.height-f*2} ${u.bottomRight} h${-t.pos.width+f*2} ${u.bottomLeft} v${-t.pos.height+f*2} ${u.topLeft} z`:c}),o=$(()=>({fill:t.fill,pointerEvents:"auto",cursor:"auto"}));return sH(hi(t,"visible"),{ns:n}),(s,l)=>s.visible?(H(),Q("div",dr({key:0,class:y(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:s.zIndex,pointerEvents:s.pos&&s.targetAreaClickable?"none":"auto"}},s.$attrs),[(H(),Q("svg",{style:{width:"100%",height:"100%"}},[I("path",{class:j(y(n).e("hollow")),style:en(y(o)),d:y(a)},null,14,["d"])]))],16)):Be("v-if",!0)}});var Ket=_t(Xet,[["__file","mask.vue"]]);const qet=["absolute","fixed"],Zet=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],HH=gt({placement:{type:Ie(String),values:Zet,default:"bottom"},reference:{type:Ie(Object),default:null},strategy:{type:Ie(String),values:qet,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),Qet={close:()=>!0},Jet=le({name:"ElTourContent"}),ett=le({...Jet,props:HH,emits:Qet,setup(e,{emit:t}){const n=e,r=Y(n.placement),i=Y(n.strategy),a=Y(null),o=Y(null);tt(()=>n.placement,()=>{r.value=n.placement});const{contentStyle:s,arrowStyle:l}=Get(hi(n,"reference"),a,o,r,i,hi(n,"offset"),hi(n,"zIndex"),hi(n,"showArrow")),u=$(()=>r.value.split("-")[0]),{ns:c}=$t(rP),f=()=>{t("close")},d=h=>{h.detail.focusReason==="pointer"&&h.preventDefault()};return(h,p)=>(H(),Q("div",{ref_key:"contentRef",ref:a,style:en(y(s)),class:j(y(c).e("content")),"data-side":y(u),tabindex:"-1"},[z(y(bx),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":a.value||void 0,onReleaseRequested:f,onFocusoutPrevented:d},{default:J(()=>[De(h.$slots,"default")]),_:3},8,["focus-trap-el"]),h.showArrow?(H(),Q("span",{key:0,ref_key:"arrowRef",ref:o,style:en(y(l)),class:j(y(c).e("arrow"))},null,6)):Be("v-if",!0)],14,["data-side"]))}});var ttt=_t(ett,[["__file","content.vue"]]),ntt=le({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(e,{slots:t,emit:n}){let r=0;return()=>{var i,a;const o=(i=t.default)==null?void 0:i.call(t),s=[];let l=0;function u(c){pt(c)&&c.forEach(f=>{var d;((d=(f==null?void 0:f.type)||{})==null?void 0:d.name)==="ElTourStep"&&(s.push(f),l+=1)})}return o.length&&u(bg((a=o[0])==null?void 0:a.children)),r!==l&&(r=l,n("update-total",l)),s.length?s[e.current]:null}}});const rtt=gt({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Ci},placement:HH.placement,contentStyle:{type:Ie([Object])},mask:{type:Ie([Boolean,Object]),default:!0},gap:{type:Ie(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Ie([Boolean,Object]),default:()=>({block:"center"})},type:{type:Ie(String)},appendTo:{type:Ie([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),itt={[Yn]:e=>Bi(e),"update:current":e=>gn(e),close:e=>gn(e),finish:()=>!0,change:e=>gn(e)},att=le({name:"ElTour"}),ott=le({...att,props:rtt,emits:itt,setup(e,{emit:t}){const n=e,r=at("tour"),i=Y(0),a=Y(),o=Sve(n,"current",t,{passive:!0}),s=$(()=>{var M;return(M=a.value)==null?void 0:M.target}),l=$(()=>[r.b(),g.value==="primary"?r.m("primary"):""]),u=$(()=>{var M;return((M=a.value)==null?void 0:M.placement)||n.placement}),c=$(()=>{var M,O;return(O=(M=a.value)==null?void 0:M.contentStyle)!=null?O:n.contentStyle}),f=$(()=>{var M,O;return(O=(M=a.value)==null?void 0:M.mask)!=null?O:n.mask}),d=$(()=>!!f.value&&n.modelValue),h=$(()=>Bi(f.value)?void 0:f.value),p=$(()=>{var M,O;return!!s.value&&((O=(M=a.value)==null?void 0:M.showArrow)!=null?O:n.showArrow)}),v=$(()=>{var M,O;return(O=(M=a.value)==null?void 0:M.scrollIntoViewOptions)!=null?O:n.scrollIntoViewOptions}),g=$(()=>{var M,O;return(O=(M=a.value)==null?void 0:M.type)!=null?O:n.type}),{nextZIndex:m}=yx(),b=m(),_=$(()=>{var M;return(M=n.zIndex)!=null?M:b}),{mergedPosInfo:x,triggerTarget:E}=Het(s,hi(n,"modelValue"),hi(n,"gap"),f,v);tt(()=>n.modelValue,M=>{M||(o.value=0)});const A=()=>{n.closeOnPressEscape&&(t("update:modelValue",!1),t("close",o.value))},T=M=>{i.value=M},R=_o();return mr(rP,{currentStep:a,current:o,total:i,showClose:hi(n,"showClose"),closeIcon:hi(n,"closeIcon"),mergedType:g,ns:r,slots:R,updateModelValue(M){t("update:modelValue",M)},onClose(){t("close",o.value)},onFinish(){t("finish")},onChange(){t("change",o.value)}}),(M,O)=>(H(),Q(St,null,[z(y(xx),{to:M.appendTo},{default:J(()=>{var D,C;return[I("div",dr({class:y(l)},M.$attrs),[z(Ket,{visible:y(d),fill:(D=y(h))==null?void 0:D.color,style:en((C=y(h))==null?void 0:C.style),pos:y(x),"z-index":y(_),"target-area-clickable":M.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),M.modelValue?(H(),Ue(ttt,{key:y(o),reference:y(E),placement:y(u),"show-arrow":y(p),"z-index":y(_),style:en(y(c)),onClose:A},{default:J(()=>[z(y(ntt),{current:y(o),onUpdateTotal:T},{default:J(()=>[De(M.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Be("v-if",!0)],16)]}),_:3},8,["to"]),Be(" just for IDE "),Be("v-if",!0)],64))}});var stt=_t(ott,[["__file","tour.vue"]]);const ltt=gt({target:{type:Ie([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Ci},showArrow:{type:Boolean,default:void 0},placement:HH.placement,mask:{type:Ie([Boolean,Object]),default:void 0},contentStyle:{type:Ie([Object])},prevButtonProps:{type:Ie(Object)},nextButtonProps:{type:Ie(Object)},scrollIntoViewOptions:{type:Ie([Boolean,Object]),default:void 0},type:{type:Ie(String)}}),utt={close:()=>!0},ctt=le({name:"ElTourStep"}),ftt=le({...ctt,props:ltt,emits:utt,setup(e,{emit:t}){const n=e,{Close:r}=I$,{t:i}=Lr(),{currentStep:a,current:o,total:s,showClose:l,closeIcon:u,mergedType:c,ns:f,slots:d,updateModelValue:h,onClose:p,onFinish:v,onChange:g}=$t(rP);tt(n,R=>{a.value=R},{immediate:!0});const m=$(()=>{var R;return(R=n.showClose)!=null?R:l.value}),b=$(()=>{var R,M;return(M=(R=n.closeIcon)!=null?R:u.value)!=null?M:r}),_=R=>{if(R)return RBe(R,["children","onClick"])},x=()=>{var R,M;o.value-=1,(R=n.prevButtonProps)!=null&&R.onClick&&((M=n.prevButtonProps)==null||M.onClick()),g()},E=()=>{var R;o.value>=s.value-1?A():o.value+=1,(R=n.nextButtonProps)!=null&&R.onClick&&n.nextButtonProps.onClick(),g()},A=()=>{T(),v()},T=()=>{h(!1),p(),t("close")};return(R,M)=>(H(),Q(St,null,[y(m)?(H(),Q("button",{key:0,"aria-label":"Close",class:j(y(f).e("closebtn")),type:"button",onClick:T},[z(y(Xt),{class:j(y(f).e("close"))},{default:J(()=>[(H(),Ue(cr(y(b))))]),_:1},8,["class"])],2)):Be("v-if",!0),I("header",{class:j([y(f).e("header"),{"show-close":y(l)}])},[De(R.$slots,"header",{},()=>[I("span",{role:"heading",class:j(y(f).e("title"))},nt(R.title),3)])],2),I("div",{class:j(y(f).e("body"))},[De(R.$slots,"default",{},()=>[I("span",null,nt(R.description),1)])],2),I("footer",{class:j(y(f).e("footer"))},[I("div",{class:j(y(f).b("indicators"))},[y(d).indicators?(H(),Ue(cr(y(d).indicators),{key:0,current:y(o),total:y(s)},null,8,["current","total"])):(H(!0),Q(St,{key:1},Nn(y(s),(O,D)=>(H(),Q("span",{key:O,class:j([y(f).b("indicator"),D===y(o)?"is-active":""])},null,2))),128))],2),I("div",{class:j(y(f).b("buttons"))},[y(o)>0?(H(),Ue(y(sa),dr({key:0,size:"small",type:y(c)},_(R.prevButtonProps),{onClick:x}),{default:J(()=>{var O,D;return[$n(nt((D=(O=R.prevButtonProps)==null?void 0:O.children)!=null?D:y(i)("el.tour.previous")),1)]}),_:1},16,["type"])):Be("v-if",!0),y(o)<=y(s)-1?(H(),Ue(y(sa),dr({key:1,size:"small",type:y(c)==="primary"?"default":"primary"},_(R.nextButtonProps),{onClick:E}),{default:J(()=>{var O,D;return[$n(nt((D=(O=R.nextButtonProps)==null?void 0:O.children)!=null?D:y(o)===y(s)-1?y(i)("el.tour.finish"):y(i)("el.tour.next")),1)]}),_:1},16,["type"])):Be("v-if",!0)],2)],2)],64))}});var xye=_t(ftt,[["__file","step.vue"]]);const dtt=Un(stt,{TourStep:xye}),htt=Aa(xye),ptt=gt({container:{type:Ie([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:Ie(String),default:"default"},direction:{type:Ie(String),default:"vertical"}}),vtt={change:e=>an(e),click:(e,t)=>e instanceof MouseEvent&&(an(t)||mi(t))},Sye=Symbol("anchor"),pR=e=>{if(!Pr||e==="")return null;if(an(e))try{return document.querySelector(e)}catch{return null}return e};function gtt(e){let t=0;const n=(...r)=>{t&&fy(t),t=Dg(()=>{e(...r),t=0})};return n.cancel=()=>{fy(t),t=0},n}const mtt=le({name:"ElAnchor"}),ytt=le({...mtt,props:ptt,emits:vtt,setup(e,{expose:t,emit:n}){const r=e,i=Y(""),a=Y(null),o=Y(null),s=Y(),l={};let u=!1,c=0;const f=at("anchor"),d=$(()=>[f.b(),r.type==="underline"?f.m("underline"):"",f.m(r.direction)]),h=R=>{l[R.href]=R.el},p=R=>{delete l[R]},v=R=>{i.value!==R&&(i.value=R,n("change",R))};let g=null;const m=R=>{if(!s.value)return;const M=pR(R);if(!M)return;g&&g(),u=!0;const O=fK(M,s.value),D=oU(M,O),C=O.scrollHeight-O.clientHeight,P=Math.min(D-r.offset,C);g=O6e(s.value,c,P,r.duration,()=>{setTimeout(()=>{u=!1},20)})},b=R=>{R&&(v(R),m(R))},_=(R,M)=>{n("click",R,M),b(M)},x=gtt(()=>{s.value&&(c=dK(s.value));const R=E();u||mi(R)||v(R)}),E=()=>{if(!s.value)return;const R=dK(s.value),M=[];for(const O of Object.keys(l)){const D=pR(O);if(!D)continue;const C=fK(D,s.value),P=oU(D,C);M.push({top:P-r.offset-r.bound,href:O})}M.sort((O,D)=>O.top-D.top);for(let O=0;O<M.length;O++){const D=M[O],C=M[O+1];if(O===0&&R===0)return"";if(D.top<=R&&(!C||C.top>R))return D.href}},A=()=>{const R=pR(r.container);!R||BD(R)?s.value=window:s.value=R};xi(s,"scroll",x);const T=$(()=>{if(!a.value||!o.value||!i.value)return{};const R=l[i.value];if(!R)return{};const M=a.value.getBoundingClientRect(),O=o.value.getBoundingClientRect(),D=R.getBoundingClientRect();return r.direction==="horizontal"?{left:`${D.left-M.left}px`,width:`${D.width}px`,opacity:1}:{top:`${D.top-M.top+(D.height-O.height)/2}px`,opacity:1}});return Tn(()=>{A();const R=decodeURIComponent(window.location.hash);pR(R)?b(R):x()}),tt(()=>r.container,()=>{A()}),mr(Sye,{ns:f,direction:r.direction,currentAnchor:i,addLink:h,removeLink:p,handleClick:_}),t({scrollTo:b}),(R,M)=>(H(),Q("div",{ref_key:"anchorRef",ref:a,class:j(y(d))},[R.marker?(H(),Q("div",{key:0,ref_key:"markerRef",ref:o,class:j(y(f).e("marker")),style:en(y(T))},null,6)):Be("v-if",!0),I("div",{class:j(y(f).e("list"))},[De(R.$slots,"default")],2)],2))}});var _tt=_t(ytt,[["__file","anchor.vue"]]);const btt=gt({title:String,href:String}),xtt=le({name:"ElAnchorLink"}),Stt=le({...xtt,props:btt,setup(e){const t=e,n=Y(null),{ns:r,direction:i,currentAnchor:a,addLink:o,removeLink:s,handleClick:l}=$t(Sye),u=$(()=>[r.e("link"),r.is("active",a.value===t.href)]),c=f=>{l(f,t.href)};return tt(()=>t.href,(f,d)=>{fn(()=>{d&&s(d),f&&o({href:f,el:n.value})})}),Tn(()=>{const{href:f}=t;f&&o({href:f,el:n.value})}),Oi(()=>{const{href:f}=t;f&&s(f)}),(f,d)=>(H(),Q("div",{class:j(y(r).e("item"))},[I("a",{ref_key:"linkRef",ref:n,class:j(y(u)),href:f.href,onClick:c},[De(f.$slots,"default",{},()=>[$n(nt(f.title),1)])],10,["href"]),f.$slots["sub-link"]&&y(i)==="vertical"?(H(),Q("div",{key:0,class:j(y(r).e("list"))},[De(f.$slots,"sub-link")],2)):Be("v-if",!0)],2))}});var Aye=_t(Stt,[["__file","anchor-link.vue"]]);const Att=Un(_tt,{AnchorLink:Aye}),Ett=Aa(Aye),Ttt=gt({direction:{type:Ie(String),default:"horizontal"},options:{type:Ie(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:yo,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...gs(["ariaLabel"])}),wtt={[Yn]:e=>an(e)||gn(e)||Bi(e),[wi]:e=>an(e)||gn(e)||Bi(e)},Ctt=le({name:"ElSegmented"}),Rtt=le({...Ctt,props:Ttt,emits:wtt,setup(e,{emit:t}){const n=e,r=at("segmented"),i=vs(),a=oo(),o=ks(),{formItem:s}=Bs(),{inputId:l,isLabeledByFormItem:u}=zc(n,{formItemContext:s}),c=Y(null),f=e6e(),d=zn({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),h=M=>{const O=p(M);t(Yn,O),t(wi,O)},p=M=>nr(M)?M.value:M,v=M=>nr(M)?M.label:M,g=M=>!!(o.value||nr(M)&&M.disabled),m=M=>n.modelValue===p(M),b=M=>n.options.find(O=>p(O)===M),_=M=>[r.e("item"),r.is("selected",m(M)),r.is("disabled",g(M))],x=()=>{if(!c.value)return;const M=c.value.querySelector(".is-selected"),O=c.value.querySelector(".is-selected input");if(!M||!O){d.width=0,d.height=0,d.translateX=0,d.translateY=0,d.focusVisible=!1;return}const D=M.getBoundingClientRect();d.isInit=!0,n.direction==="vertical"?(d.height=D.height,d.translateY=M.offsetTop):(d.width=D.width,d.translateX=M.offsetLeft);try{d.focusVisible=O.matches(":focus-visible")}catch{}},E=$(()=>[r.b(),r.m(a.value),r.is("block",n.block)]),A=$(()=>({width:n.direction==="vertical"?"100%":`${d.width}px`,height:n.direction==="vertical"?`${d.height}px`:"100%",transform:n.direction==="vertical"?`translateY(${d.translateY}px)`:`translateX(${d.translateX}px)`,display:d.isInit?"block":"none"})),T=$(()=>[r.e("item-selected"),r.is("disabled",g(b(n.modelValue))),r.is("focus-visible",d.focusVisible)]),R=$(()=>n.name||i.value);return oa(c,x),tt(f,x),tt(()=>n.modelValue,()=>{var M;x(),n.validateEvent&&((M=s==null?void 0:s.validate)==null||M.call(s,"change").catch(O=>void 0))},{flush:"post"}),(M,O)=>M.options.length?(H(),Q("div",{key:0,id:y(l),ref_key:"segmentedRef",ref:c,class:j(y(E)),role:"radiogroup","aria-label":y(u)?void 0:M.ariaLabel||"segmented","aria-labelledby":y(u)?y(s).labelId:void 0},[I("div",{class:j([y(r).e("group"),y(r).m(n.direction)])},[I("div",{style:en(y(A)),class:j(y(T))},null,6),(H(!0),Q(St,null,Nn(M.options,(D,C)=>(H(),Q("label",{key:C,class:j(_(D))},[I("input",{class:j(y(r).e("item-input")),type:"radio",name:y(R),disabled:g(D),checked:m(D),onChange:P=>h(D)},null,42,["name","disabled","checked","onChange"]),I("div",{class:j(y(r).e("item-label"))},[De(M.$slots,"default",{item:D},()=>[$n(nt(v(D)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):Be("v-if",!0)}});var Itt=_t(Rtt,[["__file","segmented.vue"]]);const Mtt=Un(Itt),Ott=(e,t)=>{const n=e.toLowerCase();return(t.label||t.value).toLowerCase().includes(n)},Dtt=(e,t,n)=>{const{selectionEnd:r}=e;if(r===null)return;const i=e.value,a=Zs(t);let o=-1,s;for(let l=r-1;l>=0;--l){const u=i[l];if(u===n||u===`
`||u==="\r"){o=l;continue}if(a.includes(u)){const c=o===-1?r:o;s={pattern:i.slice(l+1,c),start:l+1,end:c,prefix:u,prefixIndex:l,splitIndex:o,selectionEnd:r};break}}return s},Ptt=(e,t={debug:!1,useSelectionEnd:!1})=>{const n=e.selectionStart!==null?e.selectionStart:0,r=e.selectionEnd!==null?e.selectionEnd:0,i=t.useSelectionEnd?r:n,a=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(t.debug){const d=document.querySelector("#input-textarea-caret-position-mirror-div");d!=null&&d.parentNode&&d.parentNode.removeChild(d)}const o=document.createElement("div");o.id="input-textarea-caret-position-mirror-div",document.body.appendChild(o);const s=o.style,l=window.getComputedStyle(e),u=e.nodeName==="INPUT";s.whiteSpace=u?"nowrap":"pre-wrap",u||(s.wordWrap="break-word"),s.position="absolute",t.debug||(s.visibility="hidden"),a.forEach(d=>{if(u&&d==="lineHeight")if(l.boxSizing==="border-box"){const h=Number.parseInt(l.height),p=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),v=p+Number.parseInt(l.lineHeight);h>v?s.lineHeight=`${h-p}px`:h===v?s.lineHeight=l.lineHeight:s.lineHeight="0"}else s.lineHeight=l.height;else s[d]=l[d]}),$D()?e.scrollHeight>Number.parseInt(l.height)&&(s.overflowY="scroll"):s.overflow="hidden",o.textContent=e.value.slice(0,Math.max(0,i)),u&&o.textContent&&(o.textContent=o.textContent.replace(/\s/g," "));const c=document.createElement("span");c.textContent=e.value.slice(Math.max(0,i))||".",c.style.position="relative",c.style.left=`${-e.scrollLeft}px`,c.style.top=`${-e.scrollTop}px`,o.appendChild(c);const f={top:c.offsetTop+Number.parseInt(l.borderTopWidth),left:c.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return t.debug?c.style.backgroundColor="#aaa":document.body.removeChild(o),f.left>=e.clientWidth&&(f.left=e.clientWidth),f},Ltt=gt({...O$,options:{type:Ie(Array),default:()=>[]},prefix:{type:Ie([String,Array]),default:"@",validator:e=>an(e)?e.length===1:e.every(t=>an(t)&&t.length===1)},split:{type:String,default:" ",validator:e=>e.length===1},filterOption:{type:Ie([Boolean,Function]),default:()=>Ott,validator:e=>e===!1?!0:on(e)},placement:{type:Ie(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:Ie(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ie(Object),default:()=>({})}}),Ntt={[Yn]:e=>an(e),search:(e,t)=>an(e)&&an(t),select:(e,t)=>an(e.value)&&an(t),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},Btt=gt({options:{type:Ie(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),ktt={select:e=>an(e.value)},Ftt=le({name:"ElMentionDropdown"}),Utt=le({...Ftt,props:Btt,emits:ktt,setup(e,{expose:t,emit:n}){const r=e,i=at("mention"),{t:a}=Lr(),o=Y(-1),s=Y(),l=Y(),u=Y(),c=(_,x)=>[i.be("dropdown","item"),i.is("hovering",o.value===x),i.is("disabled",_.disabled||r.disabled)],f=_=>{_.disabled||r.disabled||n("select",_)},d=_=>{o.value=_},h=$(()=>r.disabled||r.options.every(_=>_.disabled)),p=$(()=>r.options[o.value]),v=()=>{p.value&&n("select",p.value)},g=_=>{const{options:x}=r;if(x.length===0||h.value)return;_==="next"?(o.value++,o.value===x.length&&(o.value=0)):_==="prev"&&(o.value--,o.value<0&&(o.value=x.length-1));const E=x[o.value];if(E.disabled){g(_);return}fn(()=>m(E))},m=_=>{var x,E,A,T;const{options:R}=r,M=R.findIndex(D=>D.value===_.value),O=(x=l.value)==null?void 0:x[M];if(O){const D=(A=(E=u.value)==null?void 0:E.querySelector)==null?void 0:A.call(E,`.${i.be("dropdown","wrap")}`);D&&E$(D,O)}(T=s.value)==null||T.handleScroll()};return tt(()=>r.options,()=>{h.value||r.options.length===0?o.value=-1:o.value=0},{immediate:!0}),t({hoveringIndex:o,navigateOptions:g,selectHoverOption:v,hoverOption:p}),(_,x)=>(H(),Q("div",{ref_key:"dropdownRef",ref:u,class:j(y(i).b("dropdown"))},[_.$slots.header?(H(),Q("div",{key:0,class:j(y(i).be("dropdown","header"))},[De(_.$slots,"header")],2)):Be("v-if",!0),Wn(z(y(ch),{id:_.contentId,ref_key:"scrollbarRef",ref:s,tag:"ul","wrap-class":y(i).be("dropdown","wrap"),"view-class":y(i).be("dropdown","list"),role:"listbox","aria-label":_.ariaLabel,"aria-orientation":"vertical"},{default:J(()=>[(H(!0),Q(St,null,Nn(_.options,(E,A)=>(H(),Q("li",{id:`${_.contentId}-${A}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:A,class:j(c(E,A)),role:"option","aria-disabled":E.disabled||_.disabled||void 0,"aria-selected":o.value===A,onMousemove:T=>d(A),onClick:xn(T=>f(E),["stop"])},[De(_.$slots,"label",{item:E,index:A},()=>{var T;return[I("span",null,nt((T=E.label)!=null?T:E.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[Xr,_.options.length>0&&!_.loading]]),_.loading?(H(),Q("div",{key:1,class:j(y(i).be("dropdown","loading"))},[De(_.$slots,"loading",{},()=>[$n(nt(y(a)("el.mention.loading")),1)])],2)):Be("v-if",!0),_.$slots.footer?(H(),Q("div",{key:2,class:j(y(i).be("dropdown","footer"))},[De(_.$slots,"footer")],2)):Be("v-if",!0)],2))}});var Vtt=_t(Utt,[["__file","mention-dropdown.vue"]]);const ztt=le({name:"ElMention",inheritAttrs:!1}),$tt=le({...ztt,props:Ltt,emits:Ntt,setup(e,{expose:t,emit:n}){const r=e,i=$(()=>Df(r,Object.keys(O$))),a=at("mention"),o=ks(),s=vs(),l=Y(),u=Y(),c=Y(),f=Y(!1),d=Y(),h=Y(),p=$(()=>r.showArrow?r.placement:`${r.placement}-start`),v=$(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),g=$(()=>{const{filterOption:C,options:P}=r;return!h.value||!C?P:P.filter(B=>C(h.value.pattern,B))}),m=$(()=>f.value&&(!!g.value.length||r.loading)),b=$(()=>{var C;return`${s.value}-${(C=c.value)==null?void 0:C.hoveringIndex}`}),_=C=>{n("update:modelValue",C),M()},x=C=>{var P,B,U,L;if(!(!("code"in C)||(P=l.value)!=null&&P.isComposing))switch(C.code){case kt.left:case kt.right:M();break;case kt.up:case kt.down:if(!f.value)return;C.preventDefault(),(B=c.value)==null||B.navigateOptions(C.code===kt.up?"prev":"next");break;case kt.enter:case kt.numpadEnter:if(!f.value)return;C.preventDefault(),(U=c.value)!=null&&U.hoverOption?(L=c.value)==null||L.selectHoverOption():f.value=!1;break;case kt.esc:if(!f.value)return;C.preventDefault(),f.value=!1;break;case kt.backspace:if(r.whole&&h.value){const{splitIndex:F,selectionEnd:N,pattern:V,prefixIndex:W,prefix:G}=h.value,K=R();if(!K)return;const q=K.value,ue=r.options.find(Ce=>Ce.value===V);if((on(r.checkIsWhole)?r.checkIsWhole(V,G):ue)&&F!==-1&&F+1===N){C.preventDefault();const Ce=q.slice(0,W)+q.slice(F+1);n(Yn,Ce);const ee=W;fn(()=>{K.selectionStart=ee,K.selectionEnd=ee,D()})}}}},{wrapperRef:E}=Qg(l,{beforeFocus(){return o.value},afterFocus(){M()},beforeBlur(C){var P;return(P=u.value)==null?void 0:P.isFocusInsideContent(C)},afterBlur(){f.value=!1}}),A=()=>{M()},T=C=>{if(!h.value)return;const P=R();if(!P)return;const B=P.value,{split:U}=r,L=B.slice(h.value.end),F=L.startsWith(U),N=`${C.value}${F?"":U}`,V=B.slice(0,h.value.start)+N+L;n(Yn,V),n("select",C,h.value.prefix);const W=h.value.start+N.length+(F?1:0);fn(()=>{P.selectionStart=W,P.selectionEnd=W,P.focus(),D()})},R=()=>{var C,P;return r.type==="textarea"?(C=l.value)==null?void 0:C.textarea:(P=l.value)==null?void 0:P.input},M=()=>{setTimeout(()=>{O(),D(),fn(()=>{var C;return(C=u.value)==null?void 0:C.updatePopper()})},0)},O=()=>{const C=R();if(!C)return;const P=Ptt(C),B=C.getBoundingClientRect(),U=l.value.$el.getBoundingClientRect();d.value={position:"absolute",width:0,height:`${P.height}px`,left:`${P.left+B.left-U.left}px`,top:`${P.top+B.top-U.top}px`}},D=()=>{const C=R();if(document.activeElement!==C){f.value=!1;return}const{prefix:P,split:B}=r;if(h.value=Dtt(C,P,B),h.value&&h.value.splitIndex===-1){f.value=!0,n("search",h.value.pattern,h.value.prefix);return}f.value=!1};return t({input:l,tooltip:u,dropdownVisible:m}),(C,P)=>(H(),Q("div",{ref_key:"wrapperRef",ref:E,class:j(y(a).b())},[z(y(da),dr(dr(y(i),C.$attrs),{ref_key:"elInputRef",ref:l,"model-value":C.modelValue,disabled:y(o),role:y(m)?"combobox":void 0,"aria-activedescendant":y(m)?y(b)||"":void 0,"aria-controls":y(m)?y(s):void 0,"aria-expanded":y(m)||void 0,"aria-label":C.ariaLabel,"aria-autocomplete":y(m)?"none":void 0,"aria-haspopup":y(m)?"listbox":void 0,onInput:_,onKeydown:x,onMousedown:A}),Nc({_:2},[Nn(C.$slots,(B,U)=>({name:U,fn:J(L=>[De(C.$slots,U,Of(Ig(L)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),z(y(Ps),{ref_key:"tooltipRef",ref:u,visible:y(m),"popper-class":[y(a).e("popper"),C.popperClass],"popper-options":C.popperOptions,placement:y(p),"fallback-placements":y(v),effect:"light",pure:"",offset:C.offset,"show-arrow":C.showArrow},{default:J(()=>[I("div",{style:en(d.value)},null,4)]),content:J(()=>{var B;return[z(Vtt,{ref_key:"dropdownRef",ref:c,options:y(g),disabled:y(o),loading:C.loading,"content-id":y(s),"aria-label":C.ariaLabel,onSelect:T,onClick:xn((B=l.value)==null?void 0:B.focus,["stop"])},Nc({_:2},[Nn(C.$slots,(U,L)=>({name:L,fn:J(F=>[De(C.$slots,L,Of(Ig(F)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var Htt=_t($tt,[["__file","mention.vue"]]);const Wtt=Un(Htt);var Gtt=[B6e,n5e,q8e,wZe,n7e,u7e,gge,x7e,S7e,sa,Age,gUe,xUe,Ige,Mge,NVe,Wge,zVe,ju,ZUe,Y$,jVe,l9e,u9e,jD,N9e,Kge,K9e,q9e,Z9e,Q9e,J9e,em,P$e,L$e,j$e,mme,nHe,GHe,jHe,YHe,wme,jWe,YWe,Xt,Fi,Ime,da,Mme,_Ge,TGe,Nme,Bme,GGe,kme,ZGe,QT,Yje,nYe,dge,$me,$ge,ky,By,dYe,mYe,EYe,ch,Cp,Db,Sje,rXe,dXe,hXe,DXe,kXe,t0e,XXe,rKe,iKe,cKe,Ex,Tx,TZe,zZe,$Ze,dy,YZe,Wze,JZe,CH,RH,Ps,fJe,EJe,Fb,HJe,oet,Oet,zet,dtt,htt,Att,Ett,Mtt,Wtt];const bc="ElInfiniteScroll",jtt=50,Ytt=200,Xtt=0,Ktt={delay:{type:Number,default:Ytt},distance:{type:Number,default:Xtt},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},WH=(e,t)=>Object.entries(Ktt).reduce((n,[r,i])=>{var a,o;const{type:s,default:l}=i,u=e.getAttribute(`infinite-scroll-${r}`);let c=(o=(a=t[u])!=null?a:u)!=null?o:l;return c=c==="false"?!1:c,c=s(c),n[r]=Number.isNaN(c)?l:c,n},{}),Eye=e=>{const{observer:t}=e[bc];t&&(t.disconnect(),delete e[bc].observer)},qtt=(e,t)=>{const{container:n,containerEl:r,instance:i,observer:a,lastScrollTop:o}=e[bc],{disabled:s,distance:l}=WH(e,i),{clientHeight:u,scrollHeight:c,scrollTop:f}=r,d=f-o;if(e[bc].lastScrollTop=f,a||s||d<0)return;let h=!1;if(n===e)h=c-(u+f)<=l;else{const{clientTop:p,scrollHeight:v}=e,g=oU(e,r);h=f+u>=g+p+v-l}h&&t.call(i)};function hN(e,t){const{containerEl:n,instance:r}=e[bc],{disabled:i}=WH(e,r);i||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?t.call(r):Eye(e))}const Ztt={async mounted(e,t){const{instance:n,value:r}=t;on(r)||Ro(bc,"'v-infinite-scroll' binding value must be a function"),await fn();const{delay:i,immediate:a}=WH(e,n),o=A$(e,!0),s=o===window?document.documentElement:o,l=G0(qtt.bind(null,e,r),i);if(o){if(e[bc]={instance:n,container:o,containerEl:s,delay:i,cb:r,onScroll:l,lastScrollTop:s.scrollTop},a){const u=new MutationObserver(G0(hN.bind(null,e,r),jtt));e[bc].observer=u,u.observe(e,{childList:!0,subtree:!0}),hN(e,r)}o.addEventListener("scroll",l)}},unmounted(e){if(!e[bc])return;const{container:t,onScroll:n}=e[bc];t==null||t.removeEventListener("scroll",n),Eye(e)},async updated(e){if(!e[bc])await fn();else{const{containerEl:t,cb:n,observer:r}=e[bc];t.clientHeight&&r&&hN(e,n)}}},KU=Ztt;KU.install=e=>{e.directive("InfiniteScroll",KU)};const Qtt=KU;function Jtt(e){let t;const n=Y(!1),r=zn({...e,originalPosition:"",originalOverflow:"",visible:!1});function i(d){r.text=d}function a(){const d=r.parent,h=f.ns;if(!d.vLoadingAddClassList){let p=d.getAttribute("loading-number");p=Number.parseInt(p)-1,p?d.setAttribute("loading-number",p.toString()):(el(d,h.bm("parent","relative")),d.removeAttribute("loading-number")),el(d,h.bm("parent","hidden"))}o(),c.unmount()}function o(){var d,h;(h=(d=f.$el)==null?void 0:d.parentNode)==null||h.removeChild(f.$el)}function s(){var d;e.beforeClose&&!e.beforeClose()||(n.value=!0,clearTimeout(t),t=setTimeout(l,400),r.visible=!1,(d=e.closed)==null||d.call(e))}function l(){if(!n.value)return;const d=r.parent;n.value=!1,d.vLoadingAddClassList=void 0,a()}const c=Rpe(le({name:"ElLoading",setup(d,{expose:h}){const{ns:p,zIndex:v}=UD("loading");return h({ns:p,zIndex:v}),()=>{const g=r.spinner||r.svg,m=pn("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...g?{innerHTML:g}:{}},[pn("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),b=r.text?pn("p",{class:p.b("text")},[r.text]):void 0;return pn(ns,{name:p.b("fade"),onAfterLeave:l},{default:J(()=>[Wn(z("div",{style:{backgroundColor:r.background||""},class:[p.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[pn("div",{class:p.b("spinner")},[m,b])]),[[Xr,r.visible]])])})}}})),f=c.mount(document.createElement("div"));return{...ts(r),setText:i,removeElLoadingChild:o,close:s,handleAfterLeave:l,vm:f,get $el(){return f.$el}}}let vR;const qU=function(e={}){if(!Pr)return;const t=ent(e);if(t.fullscreen&&vR)return vR;const n=Jtt({...t,closed:()=>{var i;(i=t.closed)==null||i.call(t),t.fullscreen&&(vR=void 0)}});tnt(t,t.parent,n),fZ(t,t.parent,n),t.parent.vLoadingAddClassList=()=>fZ(t,t.parent,n);let r=t.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",t.parent.setAttribute("loading-number",r),t.parent.appendChild(n.$el),fn(()=>n.visible.value=t.visible),t.fullscreen&&(vR=n),n},ent=e=>{var t,n,r,i;let a;return an(e.target)?a=(t=document.querySelector(e.target))!=null?t:document.body:a=e.target||document.body,{parent:a===document.body||e.body?document.body:a,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:a===document.body&&((n=e.fullscreen)!=null?n:!0),lock:(r=e.lock)!=null?r:!1,customClass:e.customClass||"",visible:(i=e.visible)!=null?i:!0,beforeClose:e.beforeClose,closed:e.closed,target:a}},tnt=async(e,t,n)=>{const{nextZIndex:r}=n.vm.zIndex||n.vm._.exposed.zIndex,i={};if(e.fullscreen)n.originalPosition.value=lp(document.body,"position"),n.originalOverflow.value=lp(document.body,"overflow"),i.zIndex=r();else if(e.parent===document.body){n.originalPosition.value=lp(document.body,"position"),await fn();for(const a of["top","left"]){const o=a==="top"?"scrollTop":"scrollLeft";i[a]=`${e.target.getBoundingClientRect()[a]+document.body[o]+document.documentElement[o]-Number.parseInt(lp(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])i[a]=`${e.target.getBoundingClientRect()[a]}px`}else n.originalPosition.value=lp(t,"position");for(const[a,o]of Object.entries(i))n.$el.style[a]=o},fZ=(e,t,n)=>{const r=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?el(t,r.bm("parent","relative")):Rc(t,r.bm("parent","relative")),e.fullscreen&&e.lock?Rc(t,r.bm("parent","hidden")):el(t,r.bm("parent","hidden"))},y3=Symbol("ElLoading"),dZ=(e,t)=>{var n,r,i,a;const o=t.instance,s=d=>nr(t.value)?t.value[d]:void 0,l=d=>{const h=an(d)&&(o==null?void 0:o[d])||d;return h&&Y(h)},u=d=>l(s(d)||e.getAttribute(`element-loading-${Bp(d)}`)),c=(n=s("fullscreen"))!=null?n:t.modifiers.fullscreen,f={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(r=s("target"))!=null?r:c?void 0:e,body:(i=s("body"))!=null?i:t.modifiers.body,lock:(a=s("lock"))!=null?a:t.modifiers.lock};e[y3]={options:f,instance:qU(f)}},nnt=(e,t)=>{for(const n of Object.keys(t))Gi(t[n])&&(t[n].value=e[n])},hZ={mounted(e,t){t.value&&dZ(e,t)},updated(e,t){const n=e[y3];t.oldValue!==t.value&&(t.value&&!t.oldValue?dZ(e,t):t.value&&t.oldValue?nr(t.value)&&nnt(t.value,n.options):n==null||n.instance.close())},unmounted(e){var t;(t=e[y3])==null||t.instance.close(),e[y3]=null}},rnt={install(e){e.directive("loading",hZ),e.config.globalProperties.$loading=qU},directive:hZ,service:qU},Tye=["success","info","warning","error"],js=xa({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Pr?document.body:void 0}),int=gt({customClass:{type:String,default:js.customClass},center:{type:Boolean,default:js.center},dangerouslyUseHTMLString:{type:Boolean,default:js.dangerouslyUseHTMLString},duration:{type:Number,default:js.duration},icon:{type:Ci,default:js.icon},id:{type:String,default:js.id},message:{type:Ie([String,Object,Function]),default:js.message},onClose:{type:Ie(Function),default:js.onClose},showClose:{type:Boolean,default:js.showClose},type:{type:String,values:Tye,default:js.type},plain:{type:Boolean,default:js.plain},offset:{type:Number,default:js.offset},zIndex:{type:Number,default:js.zIndex},grouping:{type:Boolean,default:js.grouping},repeatNum:{type:Number,default:js.repeatNum}}),ant={destroy:()=>!0},Pf=Gz([]),ont=e=>{const t=Pf.findIndex(i=>i.id===e),n=Pf[t];let r;return t>0&&(r=Pf[t-1]),{current:n,prev:r}},snt=e=>{const{prev:t}=ont(e);return t?t.vm.exposed.bottom.value:0},lnt=(e,t)=>Pf.findIndex(r=>r.id===e)>0?16:t,unt=le({name:"ElMessage"}),cnt=le({...unt,props:int,emits:ant,setup(e,{expose:t}){const n=e,{Close:r}=M$,{ns:i,zIndex:a}=UD("message"),{currentZIndex:o,nextZIndex:s}=a,l=Y(),u=Y(!1),c=Y(0);let f;const d=$(()=>n.type?n.type==="error"?"danger":n.type:"info"),h=$(()=>{const T=n.type;return{[i.bm("icon",T)]:T&&Bg[T]}}),p=$(()=>n.icon||Bg[n.type]||""),v=$(()=>snt(n.id)),g=$(()=>lnt(n.id,n.offset)+v.value),m=$(()=>c.value+g.value),b=$(()=>({top:`${g.value}px`,zIndex:o.value}));function _(){n.duration!==0&&({stop:f}=cy(()=>{E()},n.duration))}function x(){f==null||f()}function E(){u.value=!1}function A({code:T}){T===kt.esc&&E()}return Tn(()=>{_(),s(),u.value=!0}),tt(()=>n.repeatNum,()=>{x(),_()}),xi(document,"keydown",A),oa(l,()=>{c.value=l.value.getBoundingClientRect().height}),t({visible:u,bottom:m,close:E}),(T,R)=>(H(),Ue(ns,{name:y(i).b("fade"),onBeforeLeave:T.onClose,onAfterLeave:M=>T.$emit("destroy"),persisted:""},{default:J(()=>[Wn(I("div",{id:T.id,ref_key:"messageRef",ref:l,class:j([y(i).b(),{[y(i).m(T.type)]:T.type},y(i).is("center",T.center),y(i).is("closable",T.showClose),y(i).is("plain",T.plain),T.customClass]),style:en(y(b)),role:"alert",onMouseenter:x,onMouseleave:_},[T.repeatNum>1?(H(),Ue(y(gge),{key:0,value:T.repeatNum,type:y(d),class:j(y(i).e("badge"))},null,8,["value","type","class"])):Be("v-if",!0),y(p)?(H(),Ue(y(Xt),{key:1,class:j([y(i).e("icon"),y(h)])},{default:J(()=>[(H(),Ue(cr(y(p))))]),_:1},8,["class"])):Be("v-if",!0),De(T.$slots,"default",{},()=>[T.dangerouslyUseHTMLString?(H(),Q(St,{key:1},[Be(" Caution here, message could've been compromised, never use user's input as message "),I("p",{class:j(y(i).e("content")),innerHTML:T.message},null,10,["innerHTML"])],2112)):(H(),Q("p",{key:0,class:j(y(i).e("content"))},nt(T.message),3))]),T.showClose?(H(),Ue(y(Xt),{key:2,class:j(y(i).e("closeBtn")),onClick:xn(E,["stop"])},{default:J(()=>[z(y(r))]),_:1},8,["class","onClick"])):Be("v-if",!0)],46,["id"]),[[Xr,u.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var fnt=_t(cnt,[["__file","message.vue"]]);let dnt=1;const wye=e=>{const t=!e||an(e)||pa(e)||on(e)?{message:e}:e,n={...js,...t};if(!n.appendTo)n.appendTo=document.body;else if(an(n.appendTo)){let r=document.querySelector(n.appendTo);Vu(r)||(r=document.body),n.appendTo=r}return Bi(wf.grouping)&&!n.grouping&&(n.grouping=wf.grouping),gn(wf.duration)&&n.duration===3e3&&(n.duration=wf.duration),gn(wf.offset)&&n.offset===16&&(n.offset=wf.offset),Bi(wf.showClose)&&!n.showClose&&(n.showClose=wf.showClose),n},hnt=e=>{const t=Pf.indexOf(e);if(t===-1)return;Pf.splice(t,1);const{handler:n}=e;n.close()},pnt=({appendTo:e,...t},n)=>{const r=`message_${dnt++}`,i=t.onClose,a=document.createElement("div"),o={...t,id:r,onClose:()=>{i==null||i(),hnt(c)},onDestroy:()=>{Mg(null,a)}},s=z(fnt,o,on(o.message)||pa(o.message)?{default:on(o.message)?o.message:()=>o.message}:null);s.appContext=n||Ub._context,Mg(s,a),e.appendChild(a.firstElementChild);const l=s.component,c={id:r,vnode:s,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:s.component.props};return c},Ub=(e={},t)=>{if(!Pr)return{close:()=>{}};const n=wye(e);if(n.grouping&&Pf.length){const i=Pf.find(({vnode:a})=>{var o;return((o=a.props)==null?void 0:o.message)===n.message});if(i)return i.props.repeatNum+=1,i.props.type=n.type,i.handler}if(gn(wf.max)&&Pf.length>=wf.max)return{close:()=>{}};const r=pnt(n,t);return Pf.push(r),r.handler};Tye.forEach(e=>{Ub[e]=(t={},n)=>{const r=wye(t);return Ub({...r,type:e},n)}});function vnt(e){for(const t of Pf)(!e||e===t.props.type)&&t.handler.close()}Ub.closeAll=vnt;Ub._context=null;const gnt=Nve(Ub,"$message"),ZU="_trap-focus-children",P0=[],pZ=e=>{if(P0.length===0)return;const t=P0[P0.length-1][ZU];if(t.length>0&&e.code===kt.tab){if(t.length===1){e.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const n=e.shiftKey,r=e.target===t[0],i=e.target===t[t.length-1];r&&n&&(e.preventDefault(),t[t.length-1].focus()),i&&!n&&(e.preventDefault(),t[0].focus())}},mnt={beforeMount(e){e[ZU]=mK(e),P0.push(e),P0.length<=1&&document.addEventListener("keydown",pZ)},updated(e){fn(()=>{e[ZU]=mK(e)})},unmounted(){P0.shift(),P0.length===0&&document.removeEventListener("keydown",pZ)}},ynt=le({name:"ElMessageBox",directives:{TrapFocus:mnt},components:{ElButton:sa,ElFocusTrap:bx,ElInput:da,ElOverlay:oH,ElIcon:Xt,...M$},inheritAttrs:!1,props:{buttonSize:{type:String,validator:r0e},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:t}){const{locale:n,zIndex:r,ns:i,size:a}=UD("message-box",$(()=>e.buttonSize)),{t:o}=n,{nextZIndex:s}=r,l=Y(!1),u=zn({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:pp(Qd),cancelButtonLoadingIcon:pp(Qd),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:s()}),c=$(()=>{const L=u.type;return{[i.bm("icon",L)]:L&&Bg[L]}}),f=vs(),d=vs(),h=$(()=>u.icon||Bg[u.type]||""),p=$(()=>!!u.message),v=Y(),g=Y(),m=Y(),b=Y(),_=Y(),x=$(()=>u.confirmButtonClass);tt(()=>u.inputValue,async L=>{await fn(),e.boxType==="prompt"&&L!==null&&C()},{immediate:!0}),tt(()=>l.value,L=>{var F,N;L&&(e.boxType!=="prompt"&&(u.autofocus?m.value=(N=(F=_.value)==null?void 0:F.$el)!=null?N:v.value:m.value=v.value),u.zIndex=s()),e.boxType==="prompt"&&(L?fn().then(()=>{var V;b.value&&b.value.$el&&(u.autofocus?m.value=(V=P())!=null?V:v.value:m.value=v.value)}):(u.editorErrorMessage="",u.validateError=!1))});const E=$(()=>e.draggable),A=$(()=>e.overflow);hme(v,g,E,A),Tn(async()=>{await fn(),e.closeOnHashChange&&window.addEventListener("hashchange",T)}),Oi(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",T)});function T(){l.value&&(l.value=!1,fn(()=>{u.action&&t("action",u.action)}))}const R=()=>{e.closeOnClickModal&&D(u.distinguishCancelAndClose?"close":"cancel")},M=aH(R),O=L=>{if(u.inputType!=="textarea")return L.preventDefault(),D("confirm")},D=L=>{var F;e.boxType==="prompt"&&L==="confirm"&&!C()||(u.action=L,u.beforeClose?(F=u.beforeClose)==null||F.call(u,L,u,T):T())},C=()=>{if(e.boxType==="prompt"){const L=u.inputPattern;if(L&&!L.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;const F=u.inputValidator;if(on(F)){const N=F(u.inputValue);if(N===!1)return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;if(an(N))return u.editorErrorMessage=N,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},P=()=>{const L=b.value.$refs;return L.input||L.textarea},B=()=>{D("close")},U=()=>{e.closeOnPressEscape&&B()};return e.lockScroll&&sH(l),{...ts(u),ns:i,overlayEvent:M,visible:l,hasMessage:p,typeClass:c,contentId:f,inputId:d,btnSize:a,iconComponent:h,confirmButtonClasses:x,rootRef:v,focusStartRef:m,headerRef:g,inputRef:b,confirmRef:_,doClose:T,handleClose:B,onCloseRequested:U,handleWrapperClick:R,handleInputEnter:O,handleAction:D,t:o}}});function _nt(e,t,n,r,i,a){const o=ur("el-icon"),s=ur("close"),l=ur("el-input"),u=ur("el-button"),c=ur("el-focus-trap"),f=ur("el-overlay");return H(),Ue(ns,{name:"fade-in-linear",onAfterLeave:d=>e.$emit("vanish"),persisted:""},{default:J(()=>[Wn(z(f,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:J(()=>[I("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:j(`${e.ns.namespace.value}-overlay-message-box`),onClick:e.overlayEvent.onClick,onMousedown:e.overlayEvent.onMousedown,onMouseup:e.overlayEvent.onMouseup},[z(c,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:J(()=>[I("div",{ref:"rootRef",class:j([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:en(e.customStyle),tabindex:"-1",onClick:xn(()=>{},["stop"])},[e.title!==null&&e.title!==void 0?(H(),Q("div",{key:0,ref:"headerRef",class:j([e.ns.e("header"),{"show-close":e.showClose}])},[I("div",{class:j(e.ns.e("title"))},[e.iconComponent&&e.center?(H(),Ue(o,{key:0,class:j([e.ns.e("status"),e.typeClass])},{default:J(()=>[(H(),Ue(cr(e.iconComponent)))]),_:1},8,["class"])):Be("v-if",!0),I("span",null,nt(e.title),1)],2),e.showClose?(H(),Q("button",{key:0,type:"button",class:j(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),onKeydown:Mi(xn(d=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[z(o,{class:j(e.ns.e("close"))},{default:J(()=>[z(s)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Be("v-if",!0)],2)):Be("v-if",!0),I("div",{id:e.contentId,class:j(e.ns.e("content"))},[I("div",{class:j(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(H(),Ue(o,{key:0,class:j([e.ns.e("status"),e.typeClass])},{default:J(()=>[(H(),Ue(cr(e.iconComponent)))]),_:1},8,["class"])):Be("v-if",!0),e.hasMessage?(H(),Q("div",{key:1,class:j(e.ns.e("message"))},[De(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(H(),Ue(cr(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(H(),Ue(cr(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:J(()=>[$n(nt(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):Be("v-if",!0)],2),Wn(I("div",{class:j(e.ns.e("input"))},[z(l,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":d=>e.inputValue=d,type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:j({invalid:e.validateError}),onKeydown:Mi(e.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),I("div",{class:j(e.ns.e("errormsg")),style:en({visibility:e.editorErrorMessage?"visible":"hidden"})},nt(e.editorErrorMessage),7)],2),[[Xr,e.showInput]])],10,["id"]),I("div",{class:j(e.ns.e("btns"))},[e.showCancelButton?(H(),Ue(u,{key:0,loading:e.cancelButtonLoading,"loading-icon":e.cancelButtonLoadingIcon,class:j([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:d=>e.handleAction("cancel"),onKeydown:Mi(xn(d=>e.handleAction("cancel"),["prevent"]),["enter"])},{default:J(()=>[$n(nt(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Be("v-if",!0),Wn(z(u,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,"loading-icon":e.confirmButtonLoadingIcon,class:j([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:d=>e.handleAction("confirm"),onKeydown:Mi(xn(d=>e.handleAction("confirm"),["prevent"]),["enter"])},{default:J(()=>[$n(nt(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[Xr,e.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[Xr,e.visible]])]),_:3},8,["onAfterLeave"])}var bnt=_t(ynt,[["render",_nt],["__file","index.vue"]]);const W2=new Map,xnt=e=>{let t=document.body;return e.appendTo&&(an(e.appendTo)&&(t=document.querySelector(e.appendTo)),Vu(e.appendTo)&&(t=e.appendTo),Vu(t)||(t=document.body)),t},Snt=(e,t,n=null)=>{const r=z(bnt,e,on(e.message)||pa(e.message)?{default:on(e.message)?e.message:()=>e.message}:null);return r.appContext=n,Mg(r,t),xnt(e).appendChild(t.firstElementChild),r.component},Ant=()=>document.createElement("div"),Ent=(e,t)=>{const n=Ant();e.onVanish=()=>{Mg(null,n),W2.delete(i)},e.onAction=a=>{const o=W2.get(i);let s;e.showInput?s={value:i.inputValue,action:a}:s=a,e.callback?e.callback(s,r.proxy):a==="cancel"||a==="close"?e.distinguishCancelAndClose&&a!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(s)};const r=Snt(e,n,t),i=r.proxy;for(const a in e)Yr(e,a)&&!Yr(i.$props,a)&&(i[a]=e[a]);return i.visible=!0,i};function Rx(e,t=null){if(!Pr)return Promise.reject();let n;return an(e)||pa(e)?e={message:e}:n=e.callback,new Promise((r,i)=>{const a=Ent(e,t??Rx._context);W2.set(a,{options:e,callback:n,resolve:r,reject:i})})}const Tnt=["alert","confirm","prompt"],wnt={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Tnt.forEach(e=>{Rx[e]=Cnt(e)});function Cnt(e){return(t,n,r,i)=>{let a="";return nr(n)?(r=n,a=""):mi(n)?a="":a=n,Rx(Object.assign({title:a,message:t,type:"",...wnt[e]},r,{boxType:e}),i)}}Rx.close=()=>{W2.forEach((e,t)=>{t.doClose()}),W2.clear()};Rx._context=null;const $v=Rx;$v.install=e=>{$v._context=e._context,e.config.globalProperties.$msgbox=$v,e.config.globalProperties.$messageBox=$v,e.config.globalProperties.$alert=$v.alert,e.config.globalProperties.$confirm=$v.confirm,e.config.globalProperties.$prompt=$v.prompt};const Rnt=$v,Cye=["success","info","warning","error"],Int=gt({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:Ci},id:{type:String,default:""},message:{type:Ie([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:Ie(Function),default:()=>{}},onClose:{type:Ie(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...Cye,""],default:""},zIndex:Number}),Mnt={destroy:()=>!0},Ont=le({name:"ElNotification"}),Dnt=le({...Ont,props:Int,emits:Mnt,setup(e,{expose:t}){const n=e,{ns:r,zIndex:i}=UD("notification"),{nextZIndex:a,currentZIndex:o}=i,{Close:s}=I$,l=Y(!1);let u;const c=$(()=>{const _=n.type;return _&&Bg[n.type]?r.m(_):""}),f=$(()=>n.type&&Bg[n.type]||n.icon),d=$(()=>n.position.endsWith("right")?"right":"left"),h=$(()=>n.position.startsWith("top")?"top":"bottom"),p=$(()=>{var _;return{[h.value]:`${n.offset}px`,zIndex:(_=n.zIndex)!=null?_:o.value}});function v(){n.duration>0&&({stop:u}=cy(()=>{l.value&&m()},n.duration))}function g(){u==null||u()}function m(){l.value=!1}function b({code:_}){_===kt.delete||_===kt.backspace?g():_===kt.esc?l.value&&m():v()}return Tn(()=>{v(),a(),l.value=!0}),xi(document,"keydown",b),t({visible:l,close:m}),(_,x)=>(H(),Ue(ns,{name:y(r).b("fade"),onBeforeLeave:_.onClose,onAfterLeave:E=>_.$emit("destroy"),persisted:""},{default:J(()=>[Wn(I("div",{id:_.id,class:j([y(r).b(),_.customClass,y(d)]),style:en(y(p)),role:"alert",onMouseenter:g,onMouseleave:v,onClick:_.onClick},[y(f)?(H(),Ue(y(Xt),{key:0,class:j([y(r).e("icon"),y(c)])},{default:J(()=>[(H(),Ue(cr(y(f))))]),_:1},8,["class"])):Be("v-if",!0),I("div",{class:j(y(r).e("group"))},[I("h2",{class:j(y(r).e("title")),textContent:nt(_.title)},null,10,["textContent"]),Wn(I("div",{class:j(y(r).e("content")),style:en(_.title?void 0:{margin:0})},[De(_.$slots,"default",{},()=>[_.dangerouslyUseHTMLString?(H(),Q(St,{key:1},[Be(" Caution here, message could've been compromised, never use user's input as message "),I("p",{innerHTML:_.message},null,8,["innerHTML"])],2112)):(H(),Q("p",{key:0},nt(_.message),1))])],6),[[Xr,_.message]]),_.showClose?(H(),Ue(y(Xt),{key:0,class:j(y(r).e("closeBtn")),onClick:xn(m,["stop"])},{default:J(()=>[z(y(s))]),_:1},8,["class","onClick"])):Be("v-if",!0)],2)],46,["id","onClick"]),[[Xr,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Pnt=_t(Dnt,[["__file","notification.vue"]]);const OM={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},QU=16;let Lnt=1;const Vb=function(e={},t){if(!Pr)return{close:()=>{}};(an(e)||pa(e))&&(e={message:e});const n=e.position||"top-right";let r=e.offset||0;OM[n].forEach(({vm:c})=>{var f;r+=(((f=c.el)==null?void 0:f.offsetHeight)||0)+QU}),r+=QU;const i=`notification_${Lnt++}`,a=e.onClose,o={...e,offset:r,id:i,onClose:()=>{Nnt(i,n,a)}};let s=document.body;Vu(e.appendTo)?s=e.appendTo:an(e.appendTo)&&(s=document.querySelector(e.appendTo)),Vu(s)||(s=document.body);const l=document.createElement("div"),u=z(Pnt,o,on(o.message)?o.message:()=>o.message);return u.appContext=mi(t)?Vb._context:t,u.props.onDestroy=()=>{Mg(null,l)},Mg(u,l),OM[n].push({vm:u}),s.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};Cye.forEach(e=>{Vb[e]=(t={},n)=>((an(t)||pa(t))&&(t={message:t}),Vb({...t,type:e},n))});function Nnt(e,t,n){const r=OM[t],i=r.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===e});if(i===-1)return;const{vm:a}=r[i];if(!a)return;n==null||n(a);const o=a.el.offsetHeight,s=t.split("-")[0];r.splice(i,1);const l=r.length;if(!(l<1))for(let u=i;u<l;u++){const{el:c,component:f}=r[u].vm,d=Number.parseInt(c.style[s],10)-o-QU;f.props.offset=d}}function Bnt(){for(const e of Object.values(OM))e.forEach(({vm:t})=>{t.component.exposed.visible.value=!1})}Vb.closeAll=Bnt;Vb._context=null;const knt=Nve(Vb,"$notify");var Fnt=[Qtt,rnt,gnt,Rnt,knt,zme],Unt=w6e([...Gtt,...Fnt]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const T1=typeof document<"u";function Rye(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Vnt(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Rye(e.default)}const aa=Object.assign;function pN(e,t){const n={};for(const r in t){const i=t[r];n[r]=Zf(i)?i.map(e):e(i)}return n}const GE=()=>{},Zf=Array.isArray,Iye=/#/g,znt=/&/g,$nt=/\//g,Hnt=/=/g,Wnt=/\?/g,Mye=/\+/g,Gnt=/%5B/g,jnt=/%5D/g,Oye=/%5E/g,Ynt=/%60/g,Dye=/%7B/g,Xnt=/%7C/g,Pye=/%7D/g,Knt=/%20/g;function GH(e){return encodeURI(""+e).replace(Xnt,"|").replace(Gnt,"[").replace(jnt,"]")}function qnt(e){return GH(e).replace(Dye,"{").replace(Pye,"}").replace(Oye,"^")}function JU(e){return GH(e).replace(Mye,"%2B").replace(Knt,"+").replace(Iye,"%23").replace(znt,"%26").replace(Ynt,"`").replace(Dye,"{").replace(Pye,"}").replace(Oye,"^")}function Znt(e){return JU(e).replace(Hnt,"%3D")}function Qnt(e){return GH(e).replace(Iye,"%23").replace(Wnt,"%3F")}function Jnt(e){return e==null?"":Qnt(e).replace($nt,"%2F")}function G2(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ert=/\/$/,trt=e=>e.replace(ert,"");function vN(e,t,n="/"){let r,i={},a="",o="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=t.slice(0,l),a=t.slice(l+1,s>-1?s:t.length),i=e(a)),s>-1&&(r=r||t.slice(0,s),o=t.slice(s,t.length)),r=art(r??t,n),{fullPath:r+(a&&"?")+a+o,path:r,query:i,hash:G2(o)}}function nrt(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function vZ(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function rrt(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&zb(t.matched[r],n.matched[i])&&Lye(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function zb(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Lye(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!irt(e[n],t[n]))return!1;return!0}function irt(e,t){return Zf(e)?gZ(e,t):Zf(t)?gZ(t,e):e===t}function gZ(e,t){return Zf(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function art(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let a=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==".")if(s==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+r.slice(o).join("/")}const Av={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var j2;(function(e){e.pop="pop",e.push="push"})(j2||(j2={}));var jE;(function(e){e.back="back",e.forward="forward",e.unknown=""})(jE||(jE={}));function ort(e){if(!e)if(T1){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),trt(e)}const srt=/^[^#]+#/;function lrt(e,t){return e.replace(srt,"#")+t}function urt(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const iP=()=>({left:window.scrollX,top:window.scrollY});function crt(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=urt(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function mZ(e,t){return(history.state?history.state.position-t:-1)+e}const eV=new Map;function frt(e,t){eV.set(e,t)}function drt(e){const t=eV.get(e);return eV.delete(e),t}let hrt=()=>location.protocol+"//"+location.host;function Nye(e,t){const{pathname:n,search:r,hash:i}=t,a=e.indexOf("#");if(a>-1){let s=i.includes(e.slice(a))?e.slice(a).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),vZ(l,"")}return vZ(n,e)+r+i}function prt(e,t,n,r){let i=[],a=[],o=null;const s=({state:d})=>{const h=Nye(e,location),p=n.value,v=t.value;let g=0;if(d){if(n.value=h,t.value=d,o&&o===p){o=null;return}g=v?d.position-v.position:0}else r(h);i.forEach(m=>{m(n.value,p,{delta:g,type:j2.pop,direction:g?g>0?jE.forward:jE.back:jE.unknown})})};function l(){o=n.value}function u(d){i.push(d);const h=()=>{const p=i.indexOf(d);p>-1&&i.splice(p,1)};return a.push(h),h}function c(){const{history:d}=window;d.state&&d.replaceState(aa({},d.state,{scroll:iP()}),"")}function f(){for(const d of a)d();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function yZ(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?iP():null}}function vrt(e){const{history:t,location:n}=window,r={value:Nye(e,n)},i={value:t.state};i.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(l,u,c){const f=e.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+l:hrt()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),i.value=u}catch(h){console.error(h),n[c?"replace":"assign"](d)}}function o(l,u){const c=aa({},t.state,yZ(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});a(l,c,!0),r.value=l}function s(l,u){const c=aa({},i.value,t.state,{forward:l,scroll:iP()});a(c.current,c,!0);const f=aa({},yZ(r.value,l,null),{position:c.position+1},u);a(l,f,!1),r.value=l}return{location:r,state:i,push:s,replace:o}}function grt(e){e=ort(e);const t=vrt(e),n=prt(e,t.state,t.location,t.replace);function r(a,o=!0){o||n.pauseListeners(),history.go(a)}const i=aa({location:"",base:e,go:r,createHref:lrt.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function mrt(e){return typeof e=="string"||e&&typeof e=="object"}function Bye(e){return typeof e=="string"||typeof e=="symbol"}const kye=Symbol("");var _Z;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_Z||(_Z={}));function $b(e,t){return aa(new Error,{type:e,[kye]:!0},t)}function qh(e,t){return e instanceof Error&&kye in e&&(t==null||!!(e.type&t))}const bZ="[^/]+?",yrt={sensitive:!1,strict:!1,start:!0,end:!0},_rt=/[.+*?^${}()[\]/\\]/g;function brt(e,t){const n=aa({},yrt,t),r=[];let i=n.start?"^":"";const a=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const d=u[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(_rt,"\\$&"),h+=40;else if(d.type===1){const{value:p,repeatable:v,optional:g,regexp:m}=d;a.push({name:p,repeatable:v,optional:g});const b=m||bZ;if(b!==bZ){h+=10;try{new RegExp(`(${b})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+x.message)}}let _=v?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(_=g&&u.length<2?`(?:/${_})`:"/"+_),g&&(_+="?"),i+=_,h+=20,g&&(h+=-8),v&&(h+=-20),b===".*"&&(h+=-50)}c.push(h)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function s(u){const c=u.match(o),f={};if(!c)return null;for(let d=1;d<c.length;d++){const h=c[d]||"",p=a[d-1];f[p.name]=h&&p.repeatable?h.split("/"):h}return f}function l(u){let c="",f=!1;for(const d of e){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const h of d)if(h.type===0)c+=h.value;else if(h.type===1){const{value:p,repeatable:v,optional:g}=h,m=p in u?u[p]:"";if(Zf(m)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=Zf(m)?m.join("/"):m;if(!b)if(g)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);c+=b}}return c||"/"}return{re:o,score:r,keys:a,parse:s,stringify:l}}function xrt(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Fye(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const a=xrt(r[n],i[n]);if(a)return a;n++}if(Math.abs(i.length-r.length)===1){if(xZ(r))return 1;if(xZ(i))return-1}return i.length-r.length}function xZ(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Srt={type:0,value:""},Art=/[a-zA-Z0-9_]/;function Ert(e){if(!e)return[[]];if(e==="/")return[[Srt]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let a;function o(){a&&i.push(a),a=[]}let s=0,l,u="",c="";function f(){u&&(n===0?a.push({type:0,value:u}):n===1||n===2||n===3?(a.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;s<e.length;){if(l=e[s++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:Art.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),f(),o(),i}function Trt(e,t,n){const r=brt(Ert(e.path),n),i=aa(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function wrt(e,t){const n=[],r=new Map;t=TZ({strict:!1,end:!0,sensitive:!1},t);function i(f){return r.get(f)}function a(f,d,h){const p=!h,v=AZ(f);v.aliasOf=h&&h.record;const g=TZ(t,f),m=[v];if("alias"in f){const x=typeof f.alias=="string"?[f.alias]:f.alias;for(const E of x)m.push(AZ(aa({},v,{components:h?h.record.components:v.components,path:E,aliasOf:h?h.record:v})))}let b,_;for(const x of m){const{path:E}=x;if(d&&E[0]!=="/"){const A=d.record.path,T=A[A.length-1]==="/"?"":"/";x.path=d.record.path+(E&&T+E)}if(b=Trt(x,d,g),h?h.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),p&&f.name&&!EZ(b)&&o(f.name)),Uye(b)&&l(b),v.children){const A=v.children;for(let T=0;T<A.length;T++)a(A[T],b,h&&h.children[T])}h=h||b}return _?()=>{o(_)}:GE}function o(f){if(Bye(f)){const d=r.get(f);d&&(r.delete(f),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(f);d>-1&&(n.splice(d,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function s(){return n}function l(f){const d=Irt(f,n);n.splice(d,0,f),f.record.name&&!EZ(f)&&r.set(f.record.name,f)}function u(f,d){let h,p={},v,g;if("name"in f&&f.name){if(h=r.get(f.name),!h)throw $b(1,{location:f});g=h.record.name,p=aa(SZ(d.params,h.keys.filter(_=>!_.optional).concat(h.parent?h.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),f.params&&SZ(f.params,h.keys.map(_=>_.name))),v=h.stringify(p)}else if(f.path!=null)v=f.path,h=n.find(_=>_.re.test(v)),h&&(p=h.parse(v),g=h.record.name);else{if(h=d.name?r.get(d.name):n.find(_=>_.re.test(d.path)),!h)throw $b(1,{location:f,currentLocation:d});g=h.record.name,p=aa({},d.params,f.params),v=h.stringify(p)}const m=[];let b=h;for(;b;)m.unshift(b.record),b=b.parent;return{name:g,path:v,params:p,matched:m,meta:Rrt(m)}}e.forEach(f=>a(f));function c(){n.length=0,r.clear()}return{addRoute:a,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:s,getRecordMatcher:i}}function SZ(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function AZ(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Crt(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Crt(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function EZ(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Rrt(e){return e.reduce((t,n)=>aa(t,n.meta),{})}function TZ(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Irt(e,t){let n=0,r=t.length;for(;n!==r;){const a=n+r>>1;Fye(e,t[a])<0?r=a:n=a+1}const i=Mrt(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function Mrt(e){let t=e;for(;t=t.parent;)if(Uye(t)&&Fye(e,t)===0)return t}function Uye({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Ort(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const a=r[i].replace(Mye," "),o=a.indexOf("="),s=G2(o<0?a:a.slice(0,o)),l=o<0?null:G2(a.slice(o+1));if(s in t){let u=t[s];Zf(u)||(u=t[s]=[u]),u.push(l)}else t[s]=l}return t}function wZ(e){let t="";for(let n in e){const r=e[n];if(n=Znt(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Zf(r)?r.map(a=>a&&JU(a)):[r&&JU(r)]).forEach(a=>{a!==void 0&&(t+=(t.length?"&":"")+n,a!=null&&(t+="="+a))})}return t}function Drt(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Zf(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const Prt=Symbol(""),CZ=Symbol(""),jH=Symbol(""),YH=Symbol(""),tV=Symbol("");function JS(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Xv(e,t,n,r,i,a=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const u=d=>{d===!1?l($b(4,{from:n,to:t})):d instanceof Error?l(d):mrt(d)?l($b(2,{from:t,to:d})):(o&&r.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),s())},c=a(()=>e.call(r&&r.instances[i],t,n,u));let f=Promise.resolve(c);e.length<3&&(f=f.then(u)),f.catch(d=>l(d))})}function gN(e,t,n,r,i=a=>a()){const a=[];for(const o of e)for(const s in o.components){let l=o.components[s];if(!(t!=="beforeRouteEnter"&&!o.instances[s]))if(Rye(l)){const c=(l.__vccOpts||l)[t];c&&a.push(Xv(c,n,r,o,s,i))}else{let u=l();a.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${s}" at "${o.path}"`);const f=Vnt(c)?c.default:c;o.mods[s]=c,o.components[s]=f;const h=(f.__vccOpts||f)[t];return h&&Xv(h,n,r,o,s,i)()}))}}return a}function RZ(e){const t=$t(jH),n=$t(YH),r=$(()=>{const l=y(e.to);return t.resolve(l)}),i=$(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],f=n.matched;if(!c||!f.length)return-1;const d=f.findIndex(zb.bind(null,c));if(d>-1)return d;const h=IZ(l[u-2]);return u>1&&IZ(c)===h&&f[f.length-1].path!==h?f.findIndex(zb.bind(null,l[u-2])):d}),a=$(()=>i.value>-1&&Frt(n.params,r.value.params)),o=$(()=>i.value>-1&&i.value===n.matched.length-1&&Lye(n.params,r.value.params));function s(l={}){if(krt(l)){const u=t[y(e.replace)?"replace":"push"](y(e.to)).catch(GE);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:$(()=>r.value.href),isActive:a,isExactActive:o,navigate:s}}function Lrt(e){return e.length===1?e[0]:e}const Nrt=le({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:RZ,setup(e,{slots:t}){const n=zn(RZ(e)),{options:r}=$t(jH),i=$(()=>({[MZ(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[MZ(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=t.default&&Lrt(t.default(n));return e.custom?a:pn("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},a)}}}),Brt=Nrt;function krt(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Frt(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Zf(i)||i.length!==r.length||r.some((a,o)=>a!==i[o]))return!1}return!0}function IZ(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const MZ=(e,t,n)=>e??t??n,Urt=le({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=$t(tV),i=$(()=>e.route||r.value),a=$t(CZ,0),o=$(()=>{let u=y(a);const{matched:c}=i.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),s=$(()=>i.value.matched[o.value]);mr(CZ,$(()=>o.value+1)),mr(Prt,s),mr(tV,i);const l=Y();return tt(()=>[l.value,s.value,e.name],([u,c,f],[d,h,p])=>{c&&(c.instances[f]=u,h&&h!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!zb(c,h)||!d)&&(c.enterCallbacks[f]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,f=s.value,d=f&&f.components[c];if(!d)return OZ(n.default,{Component:d,route:u});const h=f.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,g=pn(d,aa({},p,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return OZ(n.default,{Component:g,route:u})||g}}});function OZ(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Vye=Urt;function Vrt(e){const t=wrt(e.routes,e),n=e.parseQuery||Ort,r=e.stringifyQuery||wZ,i=e.history,a=JS(),o=JS(),s=JS(),l=Ni(Av);let u=Av;T1&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=pN.bind(null,ee=>""+ee),f=pN.bind(null,Jnt),d=pN.bind(null,G2);function h(ee,de){let oe,pe;return Bye(ee)?(oe=t.getRecordMatcher(ee),pe=de):pe=ee,t.addRoute(pe,oe)}function p(ee){const de=t.getRecordMatcher(ee);de&&t.removeRoute(de)}function v(){return t.getRoutes().map(ee=>ee.record)}function g(ee){return!!t.getRecordMatcher(ee)}function m(ee,de){if(de=aa({},de||l.value),typeof ee=="string"){const se=vN(n,ee,de.path),be=t.resolve({path:se.path},de),Pe=i.createHref(se.fullPath);return aa(se,be,{params:d(be.params),hash:G2(se.hash),redirectedFrom:void 0,href:Pe})}let oe;if(ee.path!=null)oe=aa({},ee,{path:vN(n,ee.path,de.path).path});else{const se=aa({},ee.params);for(const be in se)se[be]==null&&delete se[be];oe=aa({},ee,{params:f(se)}),de.params=f(de.params)}const pe=t.resolve(oe,de),me=ee.hash||"";pe.params=c(d(pe.params));const re=nrt(r,aa({},ee,{hash:qnt(me),path:pe.path})),ne=i.createHref(re);return aa({fullPath:re,hash:me,query:r===wZ?Drt(ee.query):ee.query||{}},pe,{redirectedFrom:void 0,href:ne})}function b(ee){return typeof ee=="string"?vN(n,ee,l.value.path):aa({},ee)}function _(ee,de){if(u!==ee)return $b(8,{from:de,to:ee})}function x(ee){return T(ee)}function E(ee){return x(aa(b(ee),{replace:!0}))}function A(ee){const de=ee.matched[ee.matched.length-1];if(de&&de.redirect){const{redirect:oe}=de;let pe=typeof oe=="function"?oe(ee):oe;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=b(pe):{path:pe},pe.params={}),aa({query:ee.query,hash:ee.hash,params:pe.path!=null?{}:ee.params},pe)}}function T(ee,de){const oe=u=m(ee),pe=l.value,me=ee.state,re=ee.force,ne=ee.replace===!0,se=A(oe);if(se)return T(aa(b(se),{state:typeof se=="object"?aa({},me,se.state):me,force:re,replace:ne}),de||oe);const be=oe;be.redirectedFrom=de;let Pe;return!re&&rrt(r,pe,oe)&&(Pe=$b(16,{to:be,from:pe}),G(pe,pe,!0,!1)),(Pe?Promise.resolve(Pe):O(be,pe)).catch(Ee=>qh(Ee)?qh(Ee,2)?Ee:W(Ee):N(Ee,be,pe)).then(Ee=>{if(Ee){if(qh(Ee,2))return T(aa({replace:ne},b(Ee.to),{state:typeof Ee.to=="object"?aa({},me,Ee.to.state):me,force:re}),de||be)}else Ee=C(be,pe,!0,ne,me);return D(be,pe,Ee),Ee})}function R(ee,de){const oe=_(ee,de);return oe?Promise.reject(oe):Promise.resolve()}function M(ee){const de=ue.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(ee):ee()}function O(ee,de){let oe;const[pe,me,re]=zrt(ee,de);oe=gN(pe.reverse(),"beforeRouteLeave",ee,de);for(const se of pe)se.leaveGuards.forEach(be=>{oe.push(Xv(be,ee,de))});const ne=R.bind(null,ee,de);return oe.push(ne),Ce(oe).then(()=>{oe=[];for(const se of a.list())oe.push(Xv(se,ee,de));return oe.push(ne),Ce(oe)}).then(()=>{oe=gN(me,"beforeRouteUpdate",ee,de);for(const se of me)se.updateGuards.forEach(be=>{oe.push(Xv(be,ee,de))});return oe.push(ne),Ce(oe)}).then(()=>{oe=[];for(const se of re)if(se.beforeEnter)if(Zf(se.beforeEnter))for(const be of se.beforeEnter)oe.push(Xv(be,ee,de));else oe.push(Xv(se.beforeEnter,ee,de));return oe.push(ne),Ce(oe)}).then(()=>(ee.matched.forEach(se=>se.enterCallbacks={}),oe=gN(re,"beforeRouteEnter",ee,de,M),oe.push(ne),Ce(oe))).then(()=>{oe=[];for(const se of o.list())oe.push(Xv(se,ee,de));return oe.push(ne),Ce(oe)}).catch(se=>qh(se,8)?se:Promise.reject(se))}function D(ee,de,oe){s.list().forEach(pe=>M(()=>pe(ee,de,oe)))}function C(ee,de,oe,pe,me){const re=_(ee,de);if(re)return re;const ne=de===Av,se=T1?history.state:{};oe&&(pe||ne?i.replace(ee.fullPath,aa({scroll:ne&&se&&se.scroll},me)):i.push(ee.fullPath,me)),l.value=ee,G(ee,de,oe,ne),W()}let P;function B(){P||(P=i.listen((ee,de,oe)=>{if(!he.listening)return;const pe=m(ee),me=A(pe);if(me){T(aa(me,{replace:!0,force:!0}),pe).catch(GE);return}u=pe;const re=l.value;T1&&frt(mZ(re.fullPath,oe.delta),iP()),O(pe,re).catch(ne=>qh(ne,12)?ne:qh(ne,2)?(T(aa(b(ne.to),{force:!0}),pe).then(se=>{qh(se,20)&&!oe.delta&&oe.type===j2.pop&&i.go(-1,!1)}).catch(GE),Promise.reject()):(oe.delta&&i.go(-oe.delta,!1),N(ne,pe,re))).then(ne=>{ne=ne||C(pe,re,!1),ne&&(oe.delta&&!qh(ne,8)?i.go(-oe.delta,!1):oe.type===j2.pop&&qh(ne,20)&&i.go(-1,!1)),D(pe,re,ne)}).catch(GE)}))}let U=JS(),L=JS(),F;function N(ee,de,oe){W(ee);const pe=L.list();return pe.length?pe.forEach(me=>me(ee,de,oe)):console.error(ee),Promise.reject(ee)}function V(){return F&&l.value!==Av?Promise.resolve():new Promise((ee,de)=>{U.add([ee,de])})}function W(ee){return F||(F=!ee,B(),U.list().forEach(([de,oe])=>ee?oe(ee):de()),U.reset()),ee}function G(ee,de,oe,pe){const{scrollBehavior:me}=e;if(!T1||!me)return Promise.resolve();const re=!oe&&drt(mZ(ee.fullPath,0))||(pe||!oe)&&history.state&&history.state.scroll||null;return fn().then(()=>me(ee,de,re)).then(ne=>ne&&crt(ne)).catch(ne=>N(ne,ee,de))}const K=ee=>i.go(ee);let q;const ue=new Set,he={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:v,resolve:m,options:e,push:x,replace:E,go:K,back:()=>K(-1),forward:()=>K(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:L.add,isReady:V,install(ee){const de=this;ee.component("RouterLink",Brt),ee.component("RouterView",Vye),ee.config.globalProperties.$router=de,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>y(l)}),T1&&!q&&l.value===Av&&(q=!0,x(i.location).catch(me=>{}));const oe={};for(const me in Av)Object.defineProperty(oe,me,{get:()=>l.value[me],enumerable:!0});ee.provide(jH,de),ee.provide(YH,Gz(oe)),ee.provide(tV,l);const pe=ee.unmount;ue.add(ee),ee.unmount=function(){ue.delete(ee),ue.size<1&&(u=Av,P&&P(),P=null,l.value=Av,q=!1,F=!1),pe()}}};function Ce(ee){return ee.reduce((de,oe)=>de.then(()=>M(oe)),Promise.resolve())}return he}function zrt(e,t){const n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){const s=t.matched[o];s&&(e.matched.find(u=>zb(u,s))?r.push(s):n.push(s));const l=e.matched[o];l&&(t.matched.find(u=>zb(u,l))||i.push(l))}return[n,r,i]}function $rt(e){return $t(YH)}const Hrt={class:"nav w-100% h-60px"},Wrt={class:"btn"},Grt=le({__name:"index",setup(e){const t=$rt(),n=Y("/");Tn(()=>{}),tt(()=>t.path,()=>{n.value=t.path});const r=()=>{};return(i,a)=>{const o=Bme,s=kme,l=Nme;return H(),Q("div",Hrt,[a[19]||(a[19]=tg('<div class="title" data-v-1a1d406d><span class="name" data-v-1a1d406d>虚拟电厂运行管理与监控平台</span><span class="name2" data-v-1a1d406d>Virtual power plant operation management and monitoring platform</span></div><div class="decoration" data-v-1a1d406d><div class="d1" data-v-1a1d406d></div><div class="d2" data-v-1a1d406d></div><div class="d3" data-v-1a1d406d></div></div>',2)),I("div",Wrt,[z(l,{"popper-class":"dx-el-popper","background-color":"#252628","default-active":n.value,class:"el-menu-demo",mode:"horizontal",router:"",onSelect:r},{default:J(()=>[z(o,{index:"/"},{default:J(()=>a[0]||(a[0]=[I("div",{class:"wrap"},"首页",-1)])),_:1}),z(s,{index:"2"},{title:J(()=>a[1]||(a[1]=[I("div",{class:"wrap"},"资源管理",-1)])),default:J(()=>[z(o,{index:"/resources/metaAnalysis"},{default:J(()=>a[2]||(a[2]=[I("div",{class:"wrap"},"综合分析",-1)])),_:1}),z(o,{index:"/resources/metaOverview"},{default:J(()=>a[3]||(a[3]=[I("div",{class:"wrap"},"管理总览",-1)])),_:1}),z(o,{index:"/resources/metaEnroll"},{default:J(()=>a[4]||(a[4]=[I("div",{class:"wrap"},"资源注册",-1)])),_:1})]),_:1}),z(o,{index:"/realTimeMonitor"},{default:J(()=>a[5]||(a[5]=[I("div",{class:"wrap"},"实时状态监测",-1)])),_:1}),z(s,{index:"4"},{title:J(()=>a[6]||(a[6]=[I("div",{class:"wrap"},"负荷预测",-1)])),default:J(()=>[z(o,{index:"/forecast/DataQuery"},{default:J(()=>a[7]||(a[7]=[I("div",{class:"wrap"},"数据查询",-1)])),_:1}),z(o,{index:"/forecast/multiDimension"},{default:J(()=>a[8]||(a[8]=[I("div",{class:"wrap"},"多维度负荷预测",-1)])),_:1})]),_:1}),z(s,{index:"5"},{title:J(()=>a[9]||(a[9]=[I("div",{class:"wrap"},"发电任务管理",-1)])),default:J(()=>[z(o,{index:"/generationTask/priceSignal"},{default:J(()=>a[10]||(a[10]=[I("div",{class:"wrap"},"价格信号",-1)])),_:1}),z(o,{index:"/generationTask/excitationSignal"},{default:J(()=>a[11]||(a[11]=[I("div",{class:"wrap"},"激励信号",-1)])),_:1})]),_:1}),z(s,{index:"6"},{title:J(()=>a[12]||(a[12]=[I("div",{class:"wrap"},"发电任务追溯",-1)])),default:J(()=>[z(o,{index:"/task/motivational"},{default:J(()=>a[13]||(a[13]=[I("div",{class:"wrap"},"激励型信息",-1)])),_:1}),z(o,{index:"/task/demandResponse"},{default:J(()=>a[14]||(a[14]=[I("div",{class:"wrap"},"需求响应详情",-1)])),_:1}),z(o,{index:"/task/orderElectric"},{default:J(()=>a[15]||(a[15]=[I("div",{class:"wrap"},"有序用电详情",-1)])),_:1})]),_:1}),z(s,{index:"7"},{title:J(()=>a[16]||(a[16]=[I("div",{class:"wrap"},"运行效果决策",-1)])),default:J(()=>[z(o,{index:"/effect/technical"},{default:J(()=>a[17]||(a[17]=[I("div",{class:"wrap"},"技术参数考核",-1)])),_:1}),z(o,{index:"/effect/deviation"},{default:J(()=>a[18]||(a[18]=[I("div",{class:"wrap"},"偏差率考核",-1)])),_:1})]),_:1})]),_:1},8,["default-active"])])])}}}),li=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},jrt=li(Grt,[["__scopeId","data-v-1a1d406d"]]);var Fm={},DZ;function Yrt(){if(DZ)return Fm;DZ=1;var e=Fm&&Fm.__values||function(h){var p=typeof Symbol=="function"&&Symbol.iterator,v=p&&h[p],g=0;if(v)return v.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&g>=h.length&&(h=void 0),{value:h&&h[g++],done:!h}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.elRectification=c;var t=null,n="",r="",i="",a=null,o=null,s=1,l=!1,u={isAutofitRunnig:!1,init:function(h,p){h===void 0&&(h={}),p===void 0&&(p=!0),p&&console.log("autofit.js is running");var v=h,g=v.dw,m=g===void 0?1920:g,b=v.dh,_=b===void 0?1080:b,x=v.el,E=x===void 0?typeof h=="string"?h:"body":x,A=v.resize,T=A===void 0?!0:A,R=v.ignore,M=R===void 0?[]:R,O=v.transition,D=O===void 0?"none":O,C=v.delay,P=C===void 0?0:C,B=v.limit,U=B===void 0?.1:B,L=v.cssMode,F=L===void 0?"scale":L,N=v.allowScroll,V=N===void 0?!1:N;t=E;var W=document.querySelector(E);if(!W){console.error("autofit: '".concat(E,"' is not exist"));return}var G=document.createElement("style"),K=document.createElement("style");G.lang="text/css",K.lang="text/css",G.id="autofit-style",K.id="ignoreStyle",!V&&(G.innerHTML="body {overflow: hidden;}");var q=document.querySelector("body");q.appendChild(G),q.appendChild(K),W.style.height="".concat(_,"px"),W.style.width="".concat(m,"px"),W.style.transformOrigin="0 0",!V&&(W.style.overflow="hidden"),d(m,_,W,M,U,F),a=function(){clearTimeout(o),P!=0?o=setTimeout(function(){d(m,_,W,M,U,F),l&&c(n,i,r)},P):(d(m,_,W,M,U,F),l&&c(n,i,r))},T&&window.addEventListener("resize",a),this.isAutofitRunnig=!0,setTimeout(function(){W.style.transition="".concat(D,"s")})},off:function(h){var p;h===void 0&&(h="body");try{l=!1,window.removeEventListener("resize",a),(p=document.querySelector("#autofit-style"))===null||p===void 0||p.remove();var v=document.querySelector("#ignoreStyle");v&&v.remove();var g=document.querySelector(t||h);g&&(g.style=""),l&&f()}catch(m){console.error("autofit: Failed to remove normally",m),this.isAutofitRunnig=!1}this.isAutofitRunnig&&console.log("autofit.js is off")},elRectification:null};function c(h,p,v){var g,m;p===void 0&&(p=!0),v===void 0&&(v=1),u.isAutofitRunnig||console.error("autofit.js：autofit has not been initialized yet"),!h&&console.error("autofit.js：bad selector: ".concat(h)),n=h,r=v,i=p;var b=Array.from(document.querySelectorAll(h));if(b.length==0){console.error("autofit.js：elRectification found no element");return}try{for(var _=e(b),x=_.next();!x.done;x=_.next()){var E=x.value,A=s==1?1:Number(s)*Number(v);l||(E.originalWidth=E.clientWidth,E.originalHeight=E.clientHeight),p?(E.style.width="".concat(E.originalWidth*A,"px"),E.style.height="".concat(E.originalHeight*A,"px")):(E.style.width="".concat(100*A,"%"),E.style.height="".concat(100*A,"%")),E.style.transform="scale(".concat(1/Number(s),")"),E.style.transformOrigin="0 0"}}catch(T){g={error:T}}finally{try{x&&!x.done&&(m=_.return)&&m.call(_)}finally{if(g)throw g.error}}l=!0}function f(){var h,p;if(n)try{for(var v=e(Array.from(document.querySelectorAll(n))),g=v.next();!g.done;g=v.next()){var m=g.value;m.style.width="",m.style.height="",m.style.transform=""}}catch(b){h={error:b}}finally{try{g&&!g.done&&(p=v.return)&&p.call(v)}finally{if(h)throw h.error}}}function d(h,p,v,g,m,b){var _,x;b===void 0&&(b="scale");var E=document.documentElement.clientHeight,A=document.documentElement.clientWidth;s=A/E<h/p?A/h:E/p,s=Math.abs(1-s)>m?s:1;var T=Math.round(E/Number(s)),R=Math.round(A/Number(s));v.style.height="".concat(T,"px"),v.style.width="".concat(R,"px"),b==="zoom"?v.style.zoom="".concat(s):v.style.transform="scale(".concat(s,")");var M=document.querySelector("#ignoreStyle");M.innerHTML="";try{for(var O=e(g),D=O.next();!D.done;D=O.next()){var C=D.value,P=C,B=P.el||P.dom;if(typeof P=="string"&&(B=P),!B||typeof B=="object"&&!Object.keys(B).length){console.error("autofit: found invalid or empty selector/object: ".concat(B));continue}var U=P.scale?P.scale:1/Number(s),L=U!=s&&P.fontSize,F=U!=s&&P.width,N=U!=s&&P.height;M.innerHTML+=`
`.concat(B,` { 
      transform: scale(`).concat(U,`)!important;
      transform-origin: 0 0;
      `).concat(F?"width: ".concat(F,"!important;"):"",`
      `).concat(N?"height: ".concat(N,"!important;"):"",`
    }`),L&&(M.innerHTML+=`
`.concat(B," div ,").concat(B," span,").concat(B," a,").concat(B,` * {
        font-size: `).concat(L,`px;
      }`))}}catch(V){_={error:V}}finally{try{D&&!D.done&&(x=O.return)&&x.call(O)}finally{if(_)throw _.error}}}return u.elRectification=c,Fm.default=u,Fm}var Xrt=Yrt();const Sa=ni(Xrt),Krt={class:"bg-#252628 h-100%"},qrt=le({__name:"App",setup(e){return Tn(()=>{}),(t,n)=>{const r=Kge;return H(),Q("div",Krt,[z(r,{size:"small"},{default:J(()=>[z(jrt),z(y(Vye))]),_:1})])}}}),Zrt={class:"h-100%"},Qrt={class:"title text-12px text-#92aab4"},Jrt=le({__name:"index",props:{height:Object},setup(e){const t=e;return(n,r)=>{var i,a;return H(),Q("div",Zrt,[De(n.$slots,"extra",{ref:"extraSlot"},void 0,!0),I("div",{class:"exterior_shell bg-#23292ab3",style:en({height:`calc(100% - ${(i=t.height)==null?void 0:i.extra})`})},[r[1]||(r[1]=I("div",{class:"flex items-center"},[I("div",{class:"dot"}),I("div",{class:"flex-1 mx-6px h-2px bg-#223d4f"}),I("div",{class:"dot"})],-1)),I("div",Qrt,[De(n.$slots,"title",{ref:"titleSlot"},void 0,!0),r[0]||(r[0]=I("div",{class:"flex items-center px-4px"},[I("div",{class:"w-8px h-2px bg-#768e95"}),I("div",{class:"flex-1 h-1px bg-#141a1e"}),I("div",{class:"w-8px h-2px bg-#768e95"})],-1))]),I("div",{class:"content",style:en({height:`calc(100% - ${(a=t.height)==null?void 0:a.tite}px)`})},[De(n.$slots,"content",{},void 0,!0)],4),r[2]||(r[2]=I("div",{class:"flex items-center"},[I("div",{class:"dot"}),I("div",{class:"flex-1 mx-6px h-2px bg-#223d4f"}),I("div",{class:"dot"})],-1))],4)])}}}),Ir=li(Jrt,[["__scopeId","data-v-95948bc5"]]),eit="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABC9JREFUWEftl81u00oUx89xxoEFgeQNgsSuQaJvkErsoSuWwa240l2VPkHIE7SskIDWZXlX8ABIhCcIgnSHVN8nSGhYQDz2uTr2TDJxnNixeyWuLl5Vzcyc35yP/zmDd+4/IviFP2TAr+//wl+Rkdl+A5aJzP/Pg+5g1ASAsbPdGJfxnN57ZR6MwKqiQwTPGJCQDve3bp6VhbwSwJPzy8dI0AVA9p7xkRcQOk/u1vpFQUsBJsEQ8Ax8vyeFaFaQgaGtwPoBQa8IaCFADifZwjUB0JeOs93wTE+9+jJpV5Bcw7N9ifLwj63Gp7we3QgwyjPb7hLQ49gAeYTQM3ONvRqG6Jneij2NRwBQ513a08kLpUHnAozBxAEBPF0F9urLqF1BwRD30sLqDkZ1qIoDougMBh0jwjFM5fN1FZ8JeDL89hQBD3SYEOEZTOUb8/ZsnGzxwYBTjOShH+yYspMGShD29lu3jgt58HR4ecFwybCY4VbQz8Nq5WFczQAcemsa9HVKrNvPqbLXunm7FOBPX97+c7vhLefh7NhI+6xp8I5D5g4nR/OUmK8xw/piMGpes8VFYUBVrQPOGYLwkMPgnk+6SowX9A4RzzifOM+iH9TfRs7N1hOSw4X18nx0T5AYFAY8HU44r7SWwV6rhklAHbqwWmlzeBGsPgE1AajJIi2k9BYrn8NPTlTNM3EvGOIE4HivVWssAsYHqzytByR3n9xtRF0j1kB4S4Dv9ls3nNPhJHUozpKctVXMIQ5tu4tATS2w6YBsnDwA9LhjWBY1lXci4d5r1XaSgFlghYcFlTesd22dO2ycwx9LksVV7KEvd6WAZgVFNwHYD0j2tKezOkqmDi62Lhbjisu5FXsJO9o4A/Lak+F3FzD8yEWgxFsBXl6w9PAa3WmUIhwA0niVYOcCXCEts756OpyMAOAT92NOCQZkDQyrUWeB/a3artm/dRVrjdXtz2ndiIrH/DIB3eF31+y9nGfzyo6LhMNug3igJIXP9wCorqXnB0A91jvVKJXMJPKyz9HYGFAfkq6DuoonxN3kx1S+uV4VHTYiQ/lRoN1hyfnpSycN0Ci4sUS5kzblZHpQA+pOsqpI1M3jAYBbXTxZ89c3Ac3qLd1J+HQNiADH4MuenjxY5yzEzjqNMwGvc276Pu+fzYxzDxYUajaQ6KnjtMkj2XHMPCLAM76E+b/lSRyOnVbtME1yMkMcQS5N0MtvjeV3yfIw+/rz5UPLgqPZ6KaeCOsG11yA+maqfa18a+hZLwT625yy0ybxgAInj1hvBJgAXTk963V5nghpYd1IB9cdsOpVF+2Zv5GjtwtrorNVizrJJl8hD5oG0kZ4ABpvkmfrgEsDGuFceBTlnVayvHllgAt5BwB5npRZcPz7lQPmMbrJmt+Am3ircCcpa6TM/v9OiMvc8t/e+w8nX8sG9yKbnAAAAABJRU5ErkJggg==",tit="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAvZJREFUWEftmc9uElEUxr8DM9qFVHgDmrgDFd6AJj5Au3JZhqqJK+EJ2j5B68pE0063rvQBTKhPgInTnQm8wWDpRmbg6AFuHfkzc2lTGExnRcL987vfPec7Z4AePXvOWIGHVg70x5ePFEdhlZBXit6B3vCa7hS9oYAT0/8/RW2nc8jgLR2lGPx2N//wSGes7hgtRY+dn1VC4hDANwDt8MU5C1C23+ftF0/WP+uCRI3TBL20CVz+5fkbr4uZVtiiH767pSQZdSLsW7nUgYyVgwLJp9PmJTyvZhUzEYcHFgJ64lw0ReVpoD75xVe5jNxU6LMEUG751NvWgQuSLxK0RYQzZuxLnPvkb84Du1DQSj61+f7cLRic/ARQmjy/aEXEvFJ14aCy8RDWqAPcJq8nsLFKppYoqhRSlkfAkZVP1WKRTALFfWqN+6pyA/L8jagQWMjVz1Lr+PyiTEw2o1+LqmR6oKMFCXQK4lDD7wMFYmwxsbWbWz+NutITp+NKxQuGxbQ5WqB2w82yadgASlEby/dyICv/wNIZe+J06rJuJZ8KfbPQAlUbvmu42TXTfMPgqtRyr9ebqChrQFsni9Wa9nlnT7w1qjzPBarqtjQoPfY3Xz7OnOmoJjfiG5haQg0ydxhcpgRVPfa+zioCc4OqpkMnAQYHG8W3zoEGYRNoZuYuoeOb6CaAzBtZUJqJI72SmHYkXsnzM+PhM7eisrntXNqD69LwvxHoP2Y/S92weL0e6NAFmuPZbTfcNJvJBhMOlDUtFTSoajBWxRXum0aTQae7I3taPuhA1WRdGmLV/CrQYEIsHXSg6jAEGvJZkqXb7Z2JorED/Qs7VPZPxoqvlmIFKmriniF2InKmpVqpbI4XqHMp7/lXcEHLCSZYLGJUOnXqIz3ui8HSOhfo6PDT6v61fFS3HAZtDAhvD4drSpxzq5Jf3xjf4/ZBG24aprnH4ELUAZnQTnR9+UFioue9ddAoON3v70B1ldIdt7qK6p5wWeNW5n+m3/vgMIQ1ri6lAAAAAElFTkSuQmCC",cp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAZZJREFUSEu9lb1OAkEQx2d5Ih4BOqnINlIfVhgt7gmAJ4AKG0MowQoqrrDYRhNjcyZaYEw8CxNjQrz4wYdwN2YvHhy4cx8k53aX/8z8dve/M8cg5cVSrg8rQKE1aAwPizoFzJbKDbPXJnUqLwDoIwCI6Ry50Lm9nZAtHXg6zB1u9jt/9LgAGWchw7xR4VYw6RcAAGgBc/Nmt7OhJwEAINjoIjeOufAT1wDJABsyjJvd05WeDOBHu6gPj3hTfm4AVtVQN3ttT98N4GWxpjRfDZA6NsPM3zaZ2oh4uTByuFyQOmV+XAA4swmMby7BmU0JiNr82ABZ1V0u4O3uGr7tsRqiMD8RwK/6/nALX8+PIdauzd8J8GGN4PPpngYg1syzdt17In5UoeV1cuiSPtgjk74irwkzWrA/YgPSNlm8Xp3n6BcEApijqcZH5AmQsZpRKdbJRgvct+p+QwF+cXJURBQPM9lCBzVy2CnMTDKLUh3XAhlq2/+CwBWRZkaeYO9kUJVmUoHZ/XLVb56ofgnq//fTT7KrJLE/DVkbKNGXsqQAAAAASUVORK5CYII=",nit="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAABJFJREFUWEftmc1O41YUx8/xB6sJJW9gpO7ItMkbJFL3DasuB0NnpK6AJwg8QWBVqVNwZtnV8ACVCE+QTCfsKuE3SIawmfj6nvbYvmCIbW4cpBaJrBCx7/3d//n4n6vgtz/8RPAMPvjsQP/+8w/8PwqrhLxV9AV0yTC9KLqkgHOvP5miv/913TYN40cCqgOAAwDD7VqlxTvyd2iQMwvk2S+Nql/mEEuBeoPxGqxYu0S0BYAOAPmEOESKQCcK9ORy+hEJ2glgPyQ4fPu60l8EuDTo+8/TponkMSAC9gIMjt9tVIe8eQK2pkBPR9MxAKylwRDgCAJx6DaqEx3gUqDe5bRDBAccXgzEptuo+ieX11tI+AYAOPQM1WfQ3y7HdYusQQ4Mv9/SgV0Y9GT0ZQ/B6CLCgbtROXyorER5EUI4tGfgM4A3GDtg27sEnB73VU3gtWAXAo2h4JzD5tYq+0pZDj0EAYcxt1Du8hn25tMAe27tlVuUAtqgvBHZ5gAAfQ6pgiSQ+zu1b4508oyfYYXJNs/j4rv7EJK7s7Hay1tHHzTOyz0MRENYlsPKLgqpILJhyd+ura4vBRqraV0hwhHMxDEri2D0HwtXlJ8Ak6xiSYrP01VVS1GVm18Dsb5iG20Eo4OBWH+sWk9H0/OvgXDzmjx//293aCpYQjjb2ahsZqmqBeqNbroE1NyuVRq8OCFM8hZUm6QPlwfKjmUY+DEFFrW00qCno+kAAftc2WRb48cSP1V4DkchDzTqBLbdCaW8MMOwXxQhLUXZWQjkYYiyz81boGgoF8o6fcoQgMMJhBOA8NMi3eHhurqgxCpKGfomWpx3RSo5ZEdOdN8y45ye67PsXCjvnrUEDLOULQVapOjDAmFllItlqT9fUNn9VBd0gBzCqDVZ45BE6+3raub082vcksA2zXpcKORjEDby8u90dH2FiD0h4YJ7s5S0+fN3q2dlQ39b6dHCYJy5tVf7RW70/vO4yWmSt3HiUtyfxyFByzDIQUIvL620FE0Gkc52rVL1RjcegWwWuQhDJKD8Tma7iUATt0vW7RLIdt66WqCx5VlXXFDGLOyrv4u8mUEtEU1QmYPKvNvFzscTWek+Gp0+paQ3mrIBtDEIeZYsdbVIrdGIbwlwkLhd5npait5NPdYVDyJGIHvxJAVQBlb1Wc5NSwif2xkC9Hh0XGoouZ16UhMU/y8e1wBCQlfnDhQP0dYuAewpd2PXA6C1os7Ae2grqmBTC0dFQrbFE1CTHUhKOM4CZkC5YjaRoMPvCAw32dlORjceArUFilaR05UCTYrgnFVQSqbuSzwJ8WWN80xd2tih6lE/RezBTHxIDsjDiENI+0VFqQRaWFHV/6RtdxFoK32bZDs0yWgCmN+rDQwkPwzpk2ri8aHuK1vUj5cCVS/HYxp0k2tFn5A+zGZhPz0tcQSEBXUL7Tfcf9X1+rE7VilnKjoxg8gVs51clW+H4Pl3yOdbwaKAT6LoQxiGDlbAMcHku3304YmrqPHrhL1UMeku/NTPlSqmp4bQWe8FVEelRZ55vooucsr/4tln8zvTP9i9qYQgGcihAAAAAElFTkSuQmCC",rit="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAABCCAYAAAC4sF+cAAAAAXNSR0IArs4c6QAABb9JREFUeF7tXT1vXEUUnbELJJQiVGkokpIokWbtSFB6+QmW0lHY5A+ENBTIykYWRRrgD4SkoEPyT2C3BAl7RwKF0i7SUCVFhESxHjLeXbx2vO/NuW/meN7zbLt33rlz73nnzZuP+7QS/gY//7FxvLoyRJo7pUe7m7f7SBtvy8RCfQux39n7c6iV3gixndusTI77g/t3R0gbb8vE8ngadXBuv7P3cqiVIwWFhyWNR1U72Q3gRrubd0g3mwxLTCBZQK6m+pzecLgKvfrr1+0fv3nwAiW1RIWkWCIFKuqDplT2GH77+u+j7x58fgtFk9zgUiyYQBLnrurY53zimcrAwoIJ9OjZL4fXPrpxE7krpANCJhbSH6mt5OaTKgMLCyKQMWtbSuvnUACdemHt/jbURinFxEJ9a2JvzPpzpdUWdA3ntq09gMdCDCyMQL21Q6U0pD7KTW5Za4+ggHkCEbFQ35rYG2NuKr16iF3DHdnxATwWYmAFE4ipCEwsLJFxrBnKMPc0NVYQgYwx12d3zXUghG9m6vMGaKOYWIhfMW0ZynBKoLSKF0igtcdK6wEUROcG1h48gdpMxz40LNS3mPaplWHR15RYtQRiKgITKyYZJNfqigoFEIinCFdFfU4fL2vfK60fQgR07itrD36A2kyVPQlWJYGYisDEQoOfyn6qQn5BGnmzdUfKHffRN9tUWDUEKuqTijwLKkQb86VQ+KUEYioCEys1IdDrp1KGi/xIgVVBoKI+KBmk9imUYZkvsbEuJBBTEZhY0gQz2jFn3mNiLSFQUR8Gac7O1bRznfE9As3mJ8ZKKWDW+eTNoGetRWed/boQBYtNCAleTGWow4+FdQGBurVaXBfInP5nrgHGwjpDoK7MjuZECtSXWMoQghsD6xyBivqEBD6lTSxlCPExBtb/BDLGmNl4JAR7bmPteL+HNPC2TCzUtxzsYyhDaD+aYp0SqLfuz3hBx3SU031rf4fPLhkiVmggc7KLoQyh/WmKdUIgY+5tKO2gQ4LvyDay43343BITKzSIOdo1VQakT02wpgQiKgITCwlibrZNlQHpTxMszVQEJhYSwFxtTW/dz5EZyD838fNxFmozFRERlmYqAhMLDWCO9saYDaVXsaGFUyNrJUMLGVbthrIcA1t8yicChUD55KKVnhQCtTJt+ThdCJRPLlrpSSFQK9OWj9OFQPnkopWeFAK1Mm35OF0IlE8uWumJNmZ9qDS6iDrx55LwRVQiViuzcc5p5sy9FEu3YbZTMrPaCQK1YI1ythpfNpLlRjipIrB3SMwIlLYEyGJymNtmcyMF4g9z3bAJ1sKOxKJCSIJT2rZFfXwMFre0dqr0WsoEp752kw1eqG9NscqmejTiie2bbO5CXYuBVY71oFFPbN9UERD3YmCVg4VIxBPbxlCEUBdjYS072tyZMrShAb1sO2aRiZhYS4orlDcyNqFil12p8j8m1rLyLuWNjMigmIpQ53ZsrKoCU0mKMl7UwVQFIOuCmcv/MRWhrk+xsapK3LW+AGRdMHP4P7YiVD+64heMr9zOEZutrOdyDsQI9aHtMa4hUPvL0IYm8jLs2q4+Z5YylgWw7XfIZRAjFLMLsQ3akRhjxjI4qB39zNP5/ndBfYIUyBvFmrUMIRETK8SfVDZdUJ9gAp2QiKgMTKxUBKl5G6IVF01dNDXoEVZUKC7NUn5+6f1HZdpVhWACFRWKQyLmjkwGFkag8tHdxizqkvpAY6B55Jif4mZiNWZGwAUkn+L+95+39ukXn8KFTFlYkAL5GH357bOtjz/5DPr0t1NutLt5B66nyMQKyH9jk529l0OtHFTIdGVy3B/cvwufwWNhwQTyUWQqAxOrMUMqLiBRBKf0aHfzNnzjMbFEBGIqAxMrJYFYiuD7wMQSEcg7+fVPv40/+PAaVABSKsdMrBQkYioCE0s0iJ4HWOaobCzExEpBIKYiMLF8rP4DeXlO1mTzWqgAAAAASUVORK5CYII=",zye="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAACiJJREFUWEftmXtwVNUdx8/vd+69+8hrNyFP8jIEQhOeCYFEoiQSB0ptteME2rGVQsLQjlO1tg6tjxr/ErQFsXYUAokiDwGJqJ3SqjWQmAQkK8/QCoS8EwKShM1jH/eec9q7YcMuxLqpzigz3X/2zjln7/nc7+/3/f1ObiC1cJkgt8AHbjnQ8x/uhm+jsF4hRxX9P+hXDNPXpSgQ4uNF7+Wzz/5n/JnriI17R9KqyDs0euHzGHsJ2UsI2VPECcDoTQMBHYG4sSb4QBTpAJ49i8jlMweBkHwyEGsDZ7cJSDohiRcVcPR2AElKJq6+biAkgbiDesb0gjIULQhpJ/XxuW6yFJj3CQIAFSM39FNJH3iG3AxIyEBsiGe902oC10UF4ns7wBVqGIVT7TL8clHKOorkoS/KBs5FzfZK210HSwu0wEHFNdBxKOgL6A5SQIdj5l6wDMqgmSSYn5YQlh4X+jECSRwLlhNS80rtZwttq+eogYOWluLI4rEUHAmxn4IhHeDqM4DbroAaJEO4WQJ1kIJm6gfNIAEbphDspFCQF514m9X8LiE3w3IhPn6l7uxd4wEFUirgy3LQo+A1wJH8o+DUPkOLMRaclweRGSgEGygwJwWmIDDnEHAF4b7MhGkJFuNHN6qqg27Y176wsTTDHaCiAor27MVRkyzIJwNnryvoMYlXwZtCHA0uNog6oJvLqMOZdUiZAnMhcLcDSFAQKcmLr5ApLvaFZULUrqvqWXj+4cmuwECFgPxnD1J9sW4SPxffpGAfWgb7PDmoGSLBxIaQKRTcTEKD3YlMRuAygsZdaDabCXc74YF5SY+ZFemxGxXVQXfssxUeLC1wBgZaWopZsfdQf0AJ9BLjb5JY0Ex0VEE9xG7uQLMSBm7uRE240BgaDNqQCzlF4CrAAzmxRZZg5Q9jmUnjoq7iw9OF9Y/d7ggQVGBG+hlpJMT+gF6TzJsVYnFpLjzROmi/DoiecOsKKkaKOqDGVZQFRS4hLMuOv98arLzghRBE2Dt7XavjrMYXEEg847z+1cpzhbbSOcOBgRbtoflLsmVfBXVABxtAbViCnOnhlszEyPe4EO2v1ncv9w2xwqlHSY1TlIXqAZQEYuH0qJzkSPP265DEfrZn6Cc1jZfPZKWExc1Msu4UnvudLbStDhR0j6BZfTaDXgdD+ACO5N9IiZkzyWrNvS3iHQAyXd9U1fjuzVWdvzKGoifE1wFNIAkVmdDwjvSo9PTY0G2EkFAvaPOVweUHjl06Qo0yp8D4HSkTpk6KMj/18vsthScfnzkUkKL5pVUSiYwyehQ0SGDqVTylZtaUYEtWovUdRJjmm2PDbr5+19H2jYxTZEJFmQIwQVHiKuamRqanx4W85gvZM+B6qtLWsR85F/fMji9470TXB5JM2YLJE9Le/WdvdeNDGYMBgWZtapAlV5hJLzMmoaBeAw3cgQ/mp+6nCLePZYQBl7bxzcNdLzOBSIWKAgFmxAUlzEud8BYAhHh/02N3/v7thvZ3gcvix3kJqw0SZG+raX2QyxLjXGPDgl4KGDSjtFGxRrEg3Rg6oP69siBxo0xxmXdDp8b26ddGid7vHbM7tJd32bpeoULD70SHxuekRmylCHHe+d5h9+a3PunYRFRCluYlrLKY5J+rGj9aXt3xM8Y1JnONoeroqV2TNxCQoqkvnTOEoxYsUTdVuYTF8yduVCS61Ptjh5tVbq/vXKOrt3x+7FqTTH/onbt01fX0+cuDn85LCS/zhewbVsv2He0qI0QlP8iM/1FUiNFTR3XQ1w+1rBR6qeWMSU7Txdo1UwMDTS6tMsZFh4e6nCpdVTD5RUVCH0hRWXG4+QlJaCioERKC0HL3jLhymWKaF5Zx0kWRjCp5ZcC9de/h1q1AqViSGbMkwWJ+2rvWzXjD69WtI6CCMdlk7K4tDhA0d32dyQ0Wy6qCif6QKnv7jbqmJ3WjJEUEh4Fg2NmnDUZblbDFGVGbZYpTbszfzwfd5ZVHu8tHxlVSvGDSXooQ6wtaUdVWTBA1gajJJggcNGtTg3nVvMkVfkq6tP3bjnY9iSqjMRFBYYszIrcQIuBvJ7p/0W13DUWFmUK/PyvmdQrXIT4fcL2239ZV4YXSuBCrClJ2UyB+oOWHmkqEpoOCRtHRfeThHHtAObrllH0lAmwdzUmV7d9R3fo0kxFRY/TBO5PLDBLN0ueH3ax6e23zEwJlmBptjsubMmEjRYixD6t/31Xfts57D0AqCNF0RXfp876Klh9qLxGoaUL7CqAaF/96v/FScWvvwDAViAumRmanxYS86hvixo7+R2vP9Z/QS1JqpCl2enzYonc+7dQLPJmVbJl0vKW/Sb/mQHnJHYk7fUFdGrOVVzWXEFlRhaaNT9GyE/ZiSmGLDvnB6Z6VLX2DDtSofqygt6dFzsmYGPpnX9CT7Vd/ffhc70mBDAiRCOX6NyXJMcbo/LToF7bWtP4UUAgEylfMT9jxtYIKIL/5x5meFc2XBhyIlAIXEiDqoFnpscF/8gNtsz9+pOnyKR2SeGAJuS0yKCZ/atRaCSG6rKppMRdEAOG8OD/1ja8NdMORK7kfX7jCuz53DseGG61zUyLurbR1vgWANG9SWFZGvOVFX9Djbf1rPmnqOyWAwbQEa0p3n/PSfZlxL+mQ+rqyQ23fJVwVgiIrzkv+r6CGEENXwOVp1oZjFllWJiaHG62F0yK3uFR2fmdd53MguJQ7ZcLsafEhG3xBj7XZf3ukpfe0HvKiuQmPhhrlHEQI8q7ZXNW8BAhyDoKX3Jm0bWxFQQViUMdVnnRQk0QTlt+ZVK5QnDPgZH/dUde6FgFpTqo1c0ZC2B/9FG29+sQnLf2n9bGl2RMfsZilhb7zm6vbloDQBBfIxgKtqO4oBgKqQFWTh4zdAXem6c+dtK5elFRhVvBefUO7Qz2w50jHWk0IKXdyxOyZ8WF+J/RjLX1PHm3uOy0AYFn2xIctQcpdvqCbDjZ/D0HwsUD1zlRR21ZMNFUjwqhKTgy8hW460V8iU1rm3czuUg+8Wdf6PHCkc9MiZo0XdCT0/FroJ/mFfrSFaqCBgioO9gV+KLkRdNDFDuysa35eN9O8FOvsGYnW0T8n9IfxKuoJ/dz4R25UVDeTB5QJXpzvbyYvqKe/qqpmNxgvBnzM+0JFAenc1JsVPf4lOVpW1bpYNxIVyFYs8K+jbpU3bKluWUFkoupt1Emx538HdagHdtd3rAMQNHuMHD3e3v+7hub+U+Ka6y1mxc9Mmz5qWoQoM85UXlKQ4teZvOdR/UAiVFUbVsZxcF5vu5oaJEG+p+1xAk631rWzodvG3QB3z7TEJYabPX1e7z7659MLV2pOdVz1nCGXZsdlBpuMMaOv4wgjO2ou/MWpGAVqQizPjc+nnhM/J4gonJroqKi+cNhAg7nk6BH9DqtrHG9KfD37zV4H8NrxmwX07n7rgn479Ptiilvm/0z/Bn++eLHpuYBoAAAAAElFTkSuQmCC",iit="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAARCAYAAAAL4VbbAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAABFSURBVCiRY2QgAiROu5TGwMDAwESMYhgYAMVJUy7MTJpyYeYAO4Og4sSpF88kTr14ZoCdQV3FSVMv/k+aevH/ADuDFMUAU0QRwzRQP5wAAAAASUVORK5CYII=",ait="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAARCAYAAAAL4VbbAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAABESURBVCiRY2QgAuxMyUtjYGBgYCJGMQwMgOLtaXkzt6flzRxgZxBUvCM178yO1LwzA+wM6irekZr3f0dq3v8BdgYpigGdHxAdElsBxAAAAABJRU5ErkJggg==",oit="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAARCAYAAAAL4VbbAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAABESURBVCiRY2QgAmRO60pjYGBgYCJGMQwMgOLsGV0zs2d0zRxgZxBUnDW960zW9K4zA+wM6irOmt71P2t61/8BdgYpigGdQRAfLON6JQAAAABJRU5ErkJggg==",sit="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAAOCAYAAACvtwvjAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAABkSURBVFiF7dChDYBAEAXRhVpRaIqhAWqAhAR7NHBYHOISekBRAnOCeWrd/kzTjccVFZS8pJLns8bvr+3bOrx3P90pIqKtN+dfDA0xNMTQEENDDA0xNMTQEENDDA0xNMTQEENDHvn8Dt//5roMAAAAAElFTkSuQmCC",lit="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAAAOCAYAAACvtwvjAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAABhSURBVFiF7dCxEUBAFADRfwpVgEBMB2IlCOTqUIFIAwilJ6CF28S+BnZmUztMOSJi7OoUn2Y+c/zEfezXtvRr6U5VOqCXoyGOhjga4miIoyGOhjga4miIoyGOhjga4mjIA0CODZUg2zMaAAAAAElFTkSuQmCC",uit={class:"pt-10px"},cit={class:"h-26px flex items-center px-16px"},fit={class:"pt-16px"},dit={class:"h-26px flex items-center px-16px"},hit={class:"px-10px my-10px"},pit={class:"h-15px flex items-center px-2px"},vit={class:"h-15px flex items-center px-2px"},git={class:"h-15px flex items-center px-2px mt-12px"},mit={class:"h-15px flex items-center px-2px mt-12px"},yit={class:"pt-16px"},_it={class:"h-26px flex items-center px-16px"},bit={class:"px-16px flex items-center"},xit={class:"pt-16px"},Sit={class:"h-26px flex items-center px-16px"},Ait={class:"px-16px my-10px"},Eit={class:"bg_wrap_f pt-6px"},Tit={class:"flex"},wit={class:"w-75px flex items-center pl-12px pt-8px"},Cit={class:"w-75px flex items-center pl-12px pt-8px"},Rit={class:"bg_wrap_h mt-6px pl-6px pt-16px"},Iit={class:"flex items-center"},Mit={class:"flex items-center mt-10px"},Oit=le({__name:"left",setup(e){return(t,n)=>{const r=Fi;return H(),Q(St,null,[I("div",uit,[z(Ir,null,{title:J(()=>[I("div",cit,[z(r,{class:"w-20px h-20px mr-14px",src:y(eit),fit:"fill"},null,8,["src"]),n[0]||(n[0]=I("span",null,"容量指标",-1))])]),content:J(()=>n[1]||(n[1]=[I("div",{class:"px-16px mb-6px"},[I("div",{class:"flex justify-between mt-6px"},[I("div",{class:"w-106px"},[I("div",{class:"bg_wrap_c text-8px text-#C2D6E5 pl-18px"},"注册虚拟电厂数量"),I("div",{class:"text-center"},[I("span",{class:"text-18px text-#fff font-bold"},"432"),I("span",{class:"text-12px text-#869bb0"},"家")])]),I("div",{class:"w-106px"},[I("div",{class:"bg_wrap_c text-8px text-#C2D6E5 pl-18px"},"注册发电机组数量"),I("div",{class:"text-center"},[I("span",{class:"text-18px text-#fff font-bold"},"4543"),I("span",{class:"text-12px text-#869bb0"},"户")])])]),I("div",{class:"flex justify-between mt-6px"},[I("div",{class:"w-106px"},[I("div",{class:"bg_wrap_c text-8px text-#C2D6E5 pl-18px"},"注册发电单元"),I("div",{class:"text-center"},[I("span",{class:"text-18px text-#fff font-bold"},"6436"),I("span",{class:"text-12px text-#869bb0"},"户")])]),I("div",{class:"w-106px"},[I("div",{class:"bg_wrap_c text-8px text-#C2D6E5 pl-18px"},"分布式额定能源装机容量"),I("div",{class:"text-center"},[I("span",{class:"text-18px text-#fff font-bold"},"866"),I("span",{class:"text-12px text-#869bb0"},"kW")])])])],-1)])),_:1})]),I("div",fit,[z(Ir,null,{title:J(()=>[I("div",dit,[z(r,{class:"w-20px h-20px mr-14px",src:y(tit),fit:"fill"},null,8,["src"]),n[2]||(n[2]=I("span",null,"运行模式:计划曲线",-1))])]),content:J(()=>[I("div",hit,[I("div",null,[I("div",pit,[z(r,{class:"w-9px h-9px mr-6px",src:y(cp),fit:"fill"},null,8,["src"]),n[3]||(n[3]=I("span",{class:"text-11px text-#9AAEBF font-500"},"注册调控能力",-1))]),n[4]||(n[4]=I("div",{class:"text-9px text-#5BAFCB font-500 pl-16px"},[I("span",null,"削峰："),I("span",{class:"text-15px text-#fff"},"18.30"),I("span",null,"kW"),I("span",{class:"ml-20px"},"填谷："),I("span",{class:"text-15px text-#fff"},"13.80"),I("span",null,"kW")],-1))]),n[12]||(n[12]=I("div",{class:"flex items-center px-4px my-5px"},[I("div",{class:"w-8px h-2px bg-#768e95"}),I("div",{class:"flex-1 h-1px bg-#141a1e"}),I("div",{class:"w-8px h-2px bg-#768e95"})],-1)),I("div",vit,[z(r,{class:"w-9px h-9px mr-6px",src:y(cp),fit:"fill"},null,8,["src"]),n[5]||(n[5]=I("span",{class:"text-11px text-#9AAEBF font-500"},"发电负荷因子：",-1)),n[6]||(n[6]=I("span",{class:"text-15px text-#fff font-500"},"25.70",-1)),n[7]||(n[7]=I("span",{class:"text-9px text-#5BAFCB font-500 mt-2px"},"kW",-1))]),I("div",git,[z(r,{class:"w-9px h-9px mr-6px",src:y(cp),fit:"fill"},null,8,["src"]),n[8]||(n[8]=I("span",{class:"text-11px text-#9AAEBF font-500"},"网供负荷：",-1)),n[9]||(n[9]=I("div",{class:"bg_wrap_d w-154px flex items-center justify-center font-500"},[I("span",{class:"text-15px text-#fff"},"18.52"),I("span",{class:"text-9px text-#5BAFCB"},"kW")],-1))]),I("div",mit,[z(r,{class:"w-9px h-9px mr-6px",src:y(cp),fit:"fill"},null,8,["src"]),n[10]||(n[10]=I("span",{class:"text-11px text-#9AAEBF font-500"},"上网负荷：",-1)),n[11]||(n[11]=I("div",{class:"bg_wrap_d w-154px flex items-center justify-center font-500"},[I("span",{class:"text-15px text-#fff"},"17.62"),I("span",{class:"text-9px text-#5BAFCB"},"kW")],-1))])])]),_:1})]),I("div",yit,[z(Ir,null,{title:J(()=>[I("div",_it,[z(r,{class:"w-20px h-20px mr-14px",src:y(nit),fit:"fill"},null,8,["src"]),n[13]||(n[13]=I("span",null,"当日累计占比",-1))])]),content:J(()=>[I("div",bit,[n[14]||(n[14]=I("div",{class:"w-88px h-92px flex items-center justify-center bg_warp_e"},[I("span",{class:"text-14px text-#fff font-700"},"46734")],-1)),z(r,{class:"w-54px h-25px",src:y(rit),fit:"fill"},null,8,["src"]),n[15]||(n[15]=I("div",{class:"w-88px h-92px flex items-center justify-center bg_warp_e"},[I("span",{class:"text-14px text-#fff font-700"},"43241")],-1))])]),_:1})]),I("div",xit,[z(Ir,null,{title:J(()=>[I("div",Sit,[z(r,{class:"w-20px h-20px mr-14px",src:y(zye),fit:"fill"},null,8,["src"]),n[16]||(n[16]=I("span",null,"年度平均考核指标",-1))])]),content:J(()=>[I("div",Ait,[I("div",Eit,[n[19]||(n[19]=I("div",{class:"flex"},[I("div",{class:"w-75px flex items-center pl-12px pt-8px"},[I("div",{class:"w-2px h-2px bg-#fff mr-4px"}),I("span",{class:"text-11px text-#BDD3DA"},"响应偏差率")]),I("div",{class:"w-75px flex items-center pl-12px pt-8px"},[I("div",{class:"w-2px h-2px bg-#fff mr-4px"}),I("span",{class:"text-11px text-#BDD3DA"},"响应完成率")])],-1)),I("div",Tit,[I("div",wit,[z(r,{class:"w-10px h-12px mr-4px",src:y(ait),fit:"fill"},null,8,["src"]),n[17]||(n[17]=I("span",{class:"text-11px text-#B8656E"},"41%",-1))]),I("div",Cit,[z(r,{class:"w-10px h-12px mr-4px",src:y(oit),fit:"fill"},null,8,["src"]),n[18]||(n[18]=I("span",{class:"text-11px text-#74968a"},"44%",-1))])])]),I("div",Rit,[I("div",Iit,[n[20]||(n[20]=I("div",{class:"w-2px h-2px bg-#fff mr-4px"},null,-1)),n[21]||(n[21]=I("span",{class:"text-11px text-#BDD3DA"},"机组爬坡率",-1)),z(r,{class:"w-72px h-10px mr-4px ml-6px",src:y(lit),fit:"fill"},null,8,["src"])]),I("div",Mit,[z(r,{class:"w-10px h-12px mr-4px",src:y(iit),fit:"fill"},null,8,["src"]),n[22]||(n[22]=I("span",{class:"text-11px text-#668cc0"},"39%min",-1)),z(r,{class:"w-72px h-10px mr-4px ml-10px",src:y(sit),fit:"fill"},null,8,["src"])])])])]),_:1})])],64)}}}),Dit=li(Oit,[["__scopeId","data-v-07f8e96a"]]),Pit="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAvxJREFUWEftmb9u01AUxr9jO50aSN6gSGwNUvIGrcQDNBNs1EQgtrYDM+rA3M5AmjIhpvIASA1PkKgkGxJ5A5uGCf85cJK4dV0nudehairZk5Wce+/P3z3nOzcOPXz8hHEHLrpzoD++fqZlFDYS8kLRHHTBbcoVXVDAa8NzRbMq2uo4a94KSi/Xy934HEujaLM/PCHGBoASI9xrVO4fLidob/iJgKcCFzA2XzwqtpcOtNn73SLwNgBX4MjzH9i18ug+um596+OQPvmbhT9w7Vp5kMzxWwVNQiYLaCkU1YEUYCVFm71fuyByG+v3jrPaTnycLqQy6FFv6Iht+OTXZm1Pq+OUfAtVy4BrJ3wwAs0CqQza6g0PGNgF0H5eKW6mqSpGzQXzFKA1+Z5Bx4bn7cWrNyukOmjHKXHB+jkyY2I7mQJXIXkAUEliAXTJ8+tSxYtAKoNKYLN/vk1MLfG6uM/FIUXFRmXVToIzUZcYWzJWLGhW+kyrAaViigYf9Yan/7Z/g4BDu1LcS4OMYiVfuWCdSPz4Mx74FNSzQGopKsHv+k7VYqsj92HIdcPAgeRkpGSaGh/OzkVJmEHQTTNyVRfRUlQmjRXWWKfJdqsumDVOH7TvVHmiKhO+NNaL9ayL64zTAk1aULKwdBbWjVUGTRYOgcUvLwpLd2HdeCXQtOqOF9asjiXVjxVrh3nUMMRb5Woz8UedljwXdKYFXXQsHpAX1JJnSKl4wxh5bwR4RcjI5lTUnQk6C3LkAGOvFG+tik8yYT8MgwGxWTIM2rn0ULQDxr6c2mVMuGJuEdPB5AHa5Pn2POuaCjqGMDvzfDKlwOICuYxwP/n759KTzZPobCDtNjrhxycg0MCurNpTQd9/dzZMsk5VfXLSYp/JIkRwQw6/GV54nEyHOIQ8JAqFNwyWppCaHqP5PL/89vUrOcEh9d1Tq+9Upx3XVPJKJ0bW8sPrsJYP6Wju3GLSWewmY3PQ/61urmiuaJQD+avxBXPhWjEtON+ND78z/zP9BSqKbHWzPEP7AAAAAElFTkSuQmCC",Lit="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAA9lJREFUWEftmcFO20AQhmdsp70Q6rxBkHrDbckTEKTeC6decdJW6g2egPIE0FOlUjDXnuABKkGfIKiEWyXyBnEJl2LHU03iJVvX9u6SSC1SI3Ehtvebf2b+nXXw8fOXBPfgg/cO9PuXz/gvCiuEvFX0P+iUaZq5oh86/brjQB3JdtEGN0mGvTiG3ttGrTcN60xA9y+u1i2ylgmSJgDWC4BCQjhNEnj/+kn11BR6KlAGRIKtfDhKFUQXAPhP/oQEyXbbe7SrC3wn0KDTr1PFCQCgKRZCwMMEk6/WzfDYb9RCGSDo9N3kgb0KZC0j0KoEfopR7PsaZWEM+vGiv+SQfSRUZECIom2dxRieoaHibBHARhpMGGO88maxdlamrhHoGNI5GStCPYyGK7qAWYhMwEpYbdA03Z00bWcYxWs6kOO0O0F7sbqWhU2feQQAS6rAtUEPugNWsql6YBZm/2JwhARuy6uu5KV2DGufpKV01vKqjbzrtEDH3Y3cPBBj3FDVk1hov/tjA8HaIUg2yzo8VfaS7yMkv704f5iF1QI96F5dcsQIsOt71U0dS5Hr+WcUL6gMP+heBwS0zhlrefMLxqCfvl2tWhZyHYUYxQtZ6ylIp0sVuzNOZ/7C+fVqnxDCdp7FKRXd714HCLROgIdtb87XUTPoDnaE/SDgru/NaWVhKns66A763OlFtZN9uJSB0VdJQmuvns4f6wTI13DJ2GQ1szVdqigPGA8rzqjIMYprqrRnLGzEplOfchCiH7IBloLunfebNo4MPmx51ZpKlYmFlV55WmRVfBc7hQX2M4iiTVmYUtCJLakbQq7LMswhwcrMp6dJvZWD7p0PmjYCK1/6MbE3I3uSUg8tr1p4lppFylVBzrSZxGJyE6b/Yw9u6MwGXG5A5Bp1PS8iulDXnvieu1oUDzBUcdgO/3AZpeGLrY3nTl/b8K93CGg0b5rWJXc9IIbZ/V4JKquTbqHKQ5rIQjppccp/m/hV9Zj3vRJUTr+OqlJ9KodhE2AtUHnMU6mqO9rJkGltHiHAWdF0pgUqq6oanNmqCCHMm+iLFNTZAbVBs5N40VGEJ3rrZnSyNKpL3jScOO4VWZg2qJhs5MNdjMM13Wk/qyYHHj0AV/d+I9AJrHxchl2IYj4uGykodjNdfzYGZdicFxAhAR5DwQsIEaCs3niIodUhoa8zpNwJVKSx5JVOCEChOPsEF4MtInhnav5yuUwFmqrrDm27iZb1IvO65naQEfamOo2W+erUoNmHi9eOlmXX8469JiY/U0XvurDpfTNX1BRA9/r7C6ob4d+67t78zvQLOYsWhG8VYZwAAAAASUVORK5CYII=",Nit="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAA7JJREFUWEftWU1u2lAQnsEGdRFSuAGRuotTwQkKUg+QrLpMTJpKXSWcgHCCwKpS0+Bk2VV6gErhBqDG2VWKbwANWbTxs187/iEPYmN+WgNSWcbvPX/zvW++mXHwxes3HFbghysH9PvXz7iMxPpEDhj9D3TOa1oIo1q7m7MkKY8SZCywOu82s52oOGIFSgAhmaxy4HsjwFpoMlUtZI0wwLEBJZA8KV0BYC4ETA9NVggDGx9Q/V7zmUTAczDNGoE6ve4XJeSaGwA3ysr6RlAgsQDV2t0MT8q3AJABgFZZSZdEMC7bznNgyApBmo0F6Mebbl7mcpuAcOTq/ub6+ShrTb1/9SeIYtjz+IGCXdlXntcDgHaJ8aUBCgCdspIuiEDP9B9HCIkT+tsvk228D8j+mRglTTEZnOyVGXTUQrYXZisuCDwcyfYWR35BexI88Uqwqyf69c+dCujZzd0ecqgGWEzL4lA72Eq3/IM/fbvbTiTgZHgtN8LtiRtoWqW57Imy1k7JGnLYHldBEKAOJmsEmHoHTbYDAD1IylUOQIZPDuD8RLuay/D9jPQPZdy8YAycKpJKSUXkuEsZ+/Ql3OAItdEsp8DNFOTQhkyUdCa+elHoiHCsbqZrQVFrN/0q53A8YAnhGB5YY5x+o+q7+DxSo02979hGkFGHeeEka6cBSWvHAhWN2uJQEpMl6EVusqHmSMRk2b/FZiTQaV98et0tSihThQkthdMyOZFGXYvBS1pcVtKRI4p4A2HG/U+AigxZnJUOtrIDn1yqqycwTf3ulkyavE5V1tRxjDT1PjUe+diTiUAN6XSMPZ3p9xo+du49RKjHak8u2P6lUJWccskYM6QUZCSQ8iFllZq6QMOnM0lWTtIxMIKakNGbi/RR2uA1vpRUAdXn8UiSx0/TrD1Lybui+ZMU/F5A0/snoyWUnjNklXFD3kRAfSieDA49HYpBdzjyhlgqva6dPFUMjrqsQY0fYa3HkJXCwE4F1D/4Q7ubkyds84ZnIvcEYt5Es2E9QC+VTGwjJKpuAEs0MwX1C6Jf2zbfefty/ctMGp3VpMV9Tb3vfC0MKwR+T4GAdVVZqywcaNCU6SUrNT8ki4UDdYoBNdeqkh5iTGwlecjwN1MyzSKFocLhTgL0AaLngfSSCehryUZQ1xUbULccu7N7WKBho3JkmzcLc+P2kBa9meloeB03bBsqQdnur4uVUf+lBNiSpCJ9drRty4jqymJndJ4bWgijswBeXaCzRBvnnpX5P9NvGl3EdV6XDyEAAAAASUVORK5CYII=",XH="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAC5CAYAAACx88aIAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAEhSURBVHic7daxCQJBFEXRUSxpYbEeA9tVC7AVTWUzwYs7cE74oxvNvMPYWNbza3vbrb3GLuv5dfx3xDfEVsRWxFbEVk6X6/X5ebjfHv9q+Z7v9kfEVsRWxFbEVsRWDJmCIVMSWxFbEVsRW5kq1pApGDIlsRWxFbEVsRXboGAblMRWxFbEVsRWpoo1ZAqGTElsRWxFbEVsxTYo2AYlsRWxFbEVsZWpYg2ZgiFTElsRWxFbEVuZKtaQKRgyJbEVsRWxFbEV26BgG5TEVsRWxFbEVqaKNWQKhkxJbEVsRWxFbMU2KNgGJbEVsRWxFbGVqWINmYIhUxJbEVsRWxFbmSrWkCkYMiWxFbEVsRWxFdugYBuUxFbEVqaKPWwPe31nxxjjDf16dOtiRbYwAAAAAElFTkSuQmCC";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var nV=function(e,t){return nV=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},nV(e,t)};function et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nV(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Bit=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),kit=function(){function e(){this.browser=new Bit,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),qr=new kit;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(qr.wxa=!0,qr.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?qr.worker=!0:typeof navigator>"u"||navigator.userAgent.indexOf("Node.js")===0?(qr.node=!0,qr.svgSupported=!0):Fit(navigator.userAgent,qr);function Fit(e,t){var n=t.browser,r=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),a&&(n.edge=!0,n.version=a[1],n.newEdge=+a[1].split(".")[0]>18),o&&(n.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,t.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),t.domSupported=typeof document<"u";var s=document.documentElement.style;t.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),t.transformSupported=t.transform3dSupported||n.ie&&+n.version>=9}var KH=12,$ye="sans-serif",Fg=KH+"px "+$ye,Uit=20,Vit=100,zit="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function $it(e){var t={};if(typeof JSON>"u")return t;for(var n=0;n<e.length;n++){var r=String.fromCharCode(n+32),i=(e.charCodeAt(n)-Uit)/Vit;t[r]=i}return t}var Hit=$it(zit),Ug={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(n,r){if(!e){var i=Ug.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==r&&(t=e.font=r||Fg),e.measureText(n);n=n||"",r=r||Fg;var a=/((?:\d+)?\.?\d*)px/.exec(r),o=a&&+a[1]||KH,s=0;if(r.indexOf("mono")>=0)s=o*n.length;else for(var l=0;l<n.length;l++){var u=Hit[n[l]];s+=u==null?o:u*o}return{width:s}}}(),loadImage:function(e,t,n){var r=new Image;return r.onload=t,r.onerror=n,r.src=e,r}},Hye=nh(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),Wye=nh(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),Ix=Object.prototype.toString,aP=Array.prototype,Wit=aP.forEach,Git=aP.filter,qH=aP.slice,jit=aP.map,PZ=(function(){}).constructor,gR=PZ?PZ.prototype:null,ZH="__proto__",Yit=2311;function Gye(){return Yit++}function QH(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function sr(e){if(e==null||typeof e!="object")return e;var t=e,n=Ix.call(e);if(n==="[object Array]"){if(!YE(e)){t=[];for(var r=0,i=e.length;r<i;r++)t[r]=sr(e[r])}}else if(Wye[n]){if(!YE(e)){var a=e.constructor;if(a.from)t=a.from(e);else{t=new a(e.length);for(var r=0,i=e.length;r<i;r++)t[r]=e[r]}}}else if(!Hye[n]&&!YE(e)&&!Hb(e)){t={};for(var o in e)e.hasOwnProperty(o)&&o!==ZH&&(t[o]=sr(e[o]))}return t}function wr(e,t,n){if(!ar(t)||!ar(e))return n?sr(t):e;for(var r in t)if(t.hasOwnProperty(r)&&r!==ZH){var i=e[r],a=t[r];ar(a)&&ar(i)&&!Lt(a)&&!Lt(i)&&!Hb(a)&&!Hb(i)&&!LZ(a)&&!LZ(i)&&!YE(a)&&!YE(i)?wr(i,a,n):(n||!(r in e))&&(e[r]=sr(t[r]))}return e}function JH(e,t){for(var n=e[0],r=1,i=e.length;r<i;r++)n=wr(n,e[r],t);return n}function Ct(e,t){if(Object.assign)Object.assign(e,t);else for(var n in t)t.hasOwnProperty(n)&&n!==ZH&&(e[n]=t[n]);return e}function tr(e,t,n){for(var r=Jr(t),i=0;i<r.length;i++){var a=r[i];(n?t[a]!=null:e[a]==null)&&(e[a]=t[a])}return e}function Ur(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n}return-1}function Xit(e,t){var n=e.prototype;function r(){}r.prototype=t.prototype,e.prototype=new r;for(var i in n)n.hasOwnProperty(i)&&(e.prototype[i]=n[i]);e.prototype.constructor=e,e.superClass=t}function Mo(e,t,n){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var a=r[i];a!=="constructor"&&(n?t[a]!=null:e[a]==null)&&(e[a]=t[a])}else tr(e,t,n)}function nl(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function te(e,t,n){if(e&&t)if(e.forEach&&e.forEach===Wit)e.forEach(t,n);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(n,e[a],a,e)}function Vt(e,t,n){if(!e)return[];if(!t)return eW(e);if(e.map&&e.map===jit)return e.map(t,n);for(var r=[],i=0,a=e.length;i<a;i++)r.push(t.call(n,e[i],i,e));return r}function nh(e,t,n,r){if(e&&t){for(var i=0,a=e.length;i<a;i++)n=t.call(r,n,e[i],i,e);return n}}function Xi(e,t,n){if(!e)return[];if(!t)return eW(e);if(e.filter&&e.filter===Git)return e.filter(t,n);for(var r=[],i=0,a=e.length;i<a;i++)t.call(n,e[i],i,e)&&r.push(e[i]);return r}function Kit(e,t,n){if(e&&t){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return e[r]}}function Jr(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function qit(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return e.apply(t,n.concat(qH.call(arguments)))}}var Rn=gR&&er(gR.bind)?gR.call.bind(gR.bind):qit;function Tr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(this,t.concat(qH.call(arguments)))}}function Lt(e){return Array.isArray?Array.isArray(e):Ix.call(e)==="[object Array]"}function er(e){return typeof e=="function"}function An(e){return typeof e=="string"}function rV(e){return Ix.call(e)==="[object String]"}function yi(e){return typeof e=="number"}function ar(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function LZ(e){return!!Hye[Ix.call(e)]}function _u(e){return!!Wye[Ix.call(e)]}function Hb(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function oP(e){return e.colorStops!=null}function Zit(e){return e.image!=null}function Qit(e){return Ix.call(e)==="[object RegExp]"}function Y2(e){return e!==e}function hs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,r=e.length;n<r;n++)if(e[n]!=null)return e[n]}function Sr(e,t){return e??t}function Xd(e,t,n){return e??t??n}function eW(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return qH.apply(e,t)}function tW(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function Pl(e,t){if(!e)throw new Error(t)}function Lf(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var jye="__ec_primitive__";function DM(e){e[jye]=!0}function YE(e){return e[jye]}var Jit=function(){function e(){this.data={}}return e.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,n){return this.data[t]=n,this},e.prototype.keys=function(){return Jr(this.data)},e.prototype.forEach=function(t){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&t(n[r],r)},e}(),Yye=typeof Map=="function";function eat(){return Yye?new Map:new Jit}var tat=function(){function e(t){var n=Lt(t);this.data=eat();var r=this;t instanceof e?t.each(i):t&&te(t,i);function i(a,o){n?r.set(a,o):r.set(o,a)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,n){return this.data.set(t,n),n},e.prototype.each=function(t,n){this.data.forEach(function(r,i){t.call(n,r,i)})},e.prototype.keys=function(){var t=this.data.keys();return Yye?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function Fn(e){return new tat(e)}function PM(e,t){for(var n=new e.constructor(e.length+t.length),r=0;r<e.length;r++)n[r]=e[r];for(var i=e.length,r=0;r<t.length;r++)n[r+i]=t[r];return n}function sP(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&Ct(n,t),n}function Xye(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function Dn(e,t){return e.hasOwnProperty(t)}function mo(){}var _3=180/Math.PI;function Fy(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function yl(e,t){return e[0]=t[0],e[1]=t[1],e}function gp(e){return[e[0],e[1]]}function nat(e,t,n){return e[0]=t,e[1]=n,e}function NZ(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function iV(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function L0(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function aV(e){return Math.sqrt(rat(e))}function rat(e){return e[0]*e[0]+e[1]*e[1]}function b3(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function Mx(e,t){var n=aV(t);return n===0?(e[0]=0,e[1]=0):(e[0]=t[0]/n,e[1]=t[1]/n),e}function oV(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var ag=oV;function iat(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var K0=iat;function x3(e,t,n,r){return e[0]=t[0]+r*(n[0]-t[0]),e[1]=t[1]+r*(n[1]-t[1]),e}function Ds(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i+n[4],e[1]=n[1]*r+n[3]*i+n[5],e}function og(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function sg(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}var G_=function(){function e(t,n){this.target=t,this.topTarget=n&&n.topTarget}return e}(),aat=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new G_(n,t),"dragstart",t.event))},e.prototype._drag=function(t){var n=this._draggingTarget;if(n){var r=t.offsetX,i=t.offsetY,a=r-this._x,o=i-this._y;this._x=r,this._y=i,n.drift(a,o,t),this.handler.dispatchToElement(new G_(n,t),"drag",t.event);var s=this.handler.findHover(r,i,n).target,l=this._dropTarget;this._dropTarget=s,n!==s&&(l&&s!==l&&this.handler.dispatchToElement(new G_(l,t),"dragleave",t.event),s&&s!==l&&this.handler.dispatchToElement(new G_(s,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new G_(n,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new G_(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}(),$c=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,n,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof n=="function"&&(i=r,r=n,n=null),!r||!t)return this;var o=this._$eventProcessor;n!=null&&o&&o.normalizeQuery&&(n=o.normalizeQuery(n)),a[t]||(a[t]=[]);for(var s=0;s<a[t].length;s++)if(a[t][s].h===r)return this;var l={h:r,query:n,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},u=a[t].length-1,c=a[t][u];return c&&c.callAtLast?a[t].splice(u,0,l):a[t].push(l),this},e.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},e.prototype.off=function(t,n){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(n){if(r[t]){for(var i=[],a=0,o=r[t].length;a<o;a++)r[t][a].h!==n&&i.push(r[t][a]);r[t]=i}r[t]&&r[t].length===0&&delete r[t]}else delete r[t];return this},e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=n.length,s=i.length,l=0;l<s;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)))switch(o){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,n[0]);break;case 2:u.h.call(u.ctx,n[0],n[1]);break;default:u.h.apply(u.ctx,n);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var o=n.length,s=n[o-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(t,c.query)))switch(o){case 0:c.h.call(s);break;case 1:c.h.call(s,n[0]);break;case 2:c.h.call(s,n[0],n[1]);break;default:c.h.apply(s,n.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},e}(),oat=Math.log(2);function sV(e,t,n,r,i,a){var o=r+"-"+i,s=e.length;if(a.hasOwnProperty(o))return a[o];if(t===1){var l=Math.round(Math.log((1<<s)-1&~i)/oat);return e[n][l]}for(var u=r|1<<n,c=n+1;r&1<<c;)c++;for(var f=0,d=0,h=0;d<s;d++){var p=1<<d;p&i||(f+=(h%2?-1:1)*e[n][d]*sV(e,t-1,c,u,i|p,a),h++)}return a[o]=f,f}function BZ(e,t){var n=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],r={},i=sV(n,8,0,0,0,r);if(i!==0){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)a[s]==null&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*sV(n,7,o===0?1:0,1<<o,1<<s,r)/i*t[o];return function(l,u,c){var f=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/f,l[1]=(u*a[3]+c*a[4]+a[5])/f}}}var kZ="___zrEVENTSAVED",mN=[];function sat(e,t,n,r,i){return lV(mN,t,r,i,!0)&&lV(e,n,mN[0],mN[1])}function lV(e,t,n,r,i){if(t.getBoundingClientRect&&qr.domSupported&&!Kye(t)){var a=t[kZ]||(t[kZ]={}),o=lat(t,a),s=uat(o,a,i);if(s)return s(e,n,r),!0}return!1}function lat(e,t){var n=t.markers;if(n)return n;n=t.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),s=o.style,l=a%2,u=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[u]+":0",r[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),e.appendChild(o),n.push(o)}return n}function uat(e,t,n){for(var r=n?"invTrans":"trans",i=t[r],a=t.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),f=2*u,d=c.left,h=c.top;o.push(d,h),l=l&&a&&d===a[f]&&h===a[f+1],s.push(e[u].offsetLeft,e[u].offsetTop)}return l&&i?i:(t.srcCoords=o,t[r]=n?BZ(s,o):BZ(o,s))}function Kye(e){return e.nodeName.toUpperCase()==="CANVAS"}var cat=/([&<>"'])/g,fat={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function uu(e){return e==null?"":(e+"").replace(cat,function(t,n){return fat[n]})}var dat=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,yN=[],hat=qr.browser.firefox&&+qr.browser.version.split(".")[0]<39;function uV(e,t,n,r){return n=n||{},r?FZ(e,t,n):hat&&t.layerX!=null&&t.layerX!==t.offsetX?(n.zrX=t.layerX,n.zrY=t.layerY):t.offsetX!=null?(n.zrX=t.offsetX,n.zrY=t.offsetY):FZ(e,t,n),n}function FZ(e,t,n){if(qr.domSupported&&e.getBoundingClientRect){var r=t.clientX,i=t.clientY;if(Kye(e)){var a=e.getBoundingClientRect();n.zrX=r-a.left,n.zrY=i-a.top;return}else if(lV(yN,e,r,i)){n.zrX=yN[0],n.zrY=yN[1];return}}n.zrX=n.zrY=0}function nW(e){return e||window.event}function vc(e,t,n){if(t=nW(t),t.zrX!=null)return t;var r=t.type,i=r&&r.indexOf("touch")>=0;if(i){var o=r!=="touchend"?t.targetTouches[0]:t.changedTouches[0];o&&uV(e,o,t,n)}else{uV(e,t,t,n);var a=pat(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var s=t.button;return t.which==null&&s!==void 0&&dat.test(t.type)&&(t.which=s&1?1:s&2?3:s&4?2:0),t}function pat(e){var t=e.wheelDelta;if(t)return t;var n=e.deltaX,r=e.deltaY;if(n==null||r==null)return t;var i=Math.abs(r!==0?r:n),a=r>0?-1:r<0?1:n>0?-1:1;return 3*i*a}function cV(e,t,n,r){e.addEventListener(t,n,r)}function vat(e,t,n,r){e.removeEventListener(t,n,r)}var Rp=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function UZ(e){return e.which===2||e.which===3}var gat=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,n,r){return this._doTrack(t,n,r),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,n,r){var i=t.touches;if(i){for(var a={points:[],touches:[],target:n,event:t},o=0,s=i.length;o<s;o++){var l=i[o],u=uV(r,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},e.prototype._recognize=function(t){for(var n in _N)if(_N.hasOwnProperty(n)){var r=_N[n](this._track,t);if(r)return r}},e}();function VZ(e){var t=e[1][0]-e[0][0],n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function mat(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var _N={pinch:function(e,t){var n=e.length;if(n){var r=(e[n-1]||{}).points,i=(e[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=VZ(r)/VZ(i);!isFinite(a)&&(a=1),t.pinchScale=a;var o=mat(r);return t.pinchX=o[0],t.pinchY=o[1],{type:"pinch",target:e[0].target,event:t}}}}};function $u(){return[1,0,0,1,0,0]}function lP(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function rW(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function mp(e,t,n){var r=t[0]*n[0]+t[2]*n[1],i=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],s=t[0]*n[4]+t[2]*n[5]+t[4],l=t[1]*n[4]+t[3]*n[5]+t[5];return e[0]=r,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e}function rh(e,t,n){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+n[0],e[5]=t[5]+n[1],e}function Uy(e,t,n,r){r===void 0&&(r=[0,0]);var i=t[0],a=t[2],o=t[4],s=t[1],l=t[3],u=t[5],c=Math.sin(n),f=Math.cos(n);return e[0]=i*f+s*c,e[1]=-i*c+s*f,e[2]=a*f+l*c,e[3]=-a*c+f*l,e[4]=f*(o-r[0])+c*(u-r[1])+r[0],e[5]=f*(u-r[1])-c*(o-r[0])+r[1],e}function iW(e,t,n){var r=n[0],i=n[1];return e[0]=t[0]*r,e[1]=t[1]*i,e[2]=t[2]*r,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*i,e}function Ox(e,t){var n=t[0],r=t[2],i=t[4],a=t[1],o=t[3],s=t[5],l=n*o-a*r;return l?(l=1/l,e[0]=o*l,e[1]=-a*l,e[2]=-r*l,e[3]=n*l,e[4]=(r*s-o*i)*l,e[5]=(a*i-n*s)*l,e):null}function yat(e){var t=$u();return rW(t,e),t}var Rr=function(){function e(t,n){this.x=t||0,this.y=n||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,n){return this.x=t,this.y=n,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)},e.prototype.distanceSquare=function(t){var n=this.x-t.x,r=this.y-t.y;return n*n+r*r},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var n=this.x,r=this.y;return this.x=t[0]*n+t[2]*r+t[4],this.y=t[1]*n+t[3]*r+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,n,r){t.x=n,t.y=r},e.copy=function(t,n){t.x=n.x,t.y=n.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,n){return t.x*n.x+t.y*n.y},e.add=function(t,n,r){t.x=n.x+r.x,t.y=n.y+r.y},e.sub=function(t,n,r){t.x=n.x-r.x,t.y=n.y-r.y},e.scale=function(t,n,r){t.x=n.x*r,t.y=n.y*r},e.scaleAndAdd=function(t,n,r,i){t.x=n.x+r.x*i,t.y=n.y+r.y*i},e.lerp=function(t,n,r,i){var a=1-i;t.x=a*n.x+i*r.x,t.y=a*n.y+i*r.y},e}(),mR=Math.min,yR=Math.max,Um=new Rr,Vm=new Rr,zm=new Rr,$m=new Rr,eA=new Rr,tA=new Rr,Mr=function(){function e(t,n,r,i){r<0&&(t=t+r,r=-r),i<0&&(n=n+i,i=-i),this.x=t,this.y=n,this.width=r,this.height=i}return e.prototype.union=function(t){var n=mR(t.x,this.x),r=mR(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=yR(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=yR(t.y+t.height,this.y+this.height)-r:this.height=t.height,this.x=n,this.y=r},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var n=this,r=t.width/n.width,i=t.height/n.height,a=$u();return rh(a,a,[-n.x,-n.y]),iW(a,a,[r,i]),rh(a,a,[t.x,t.y]),a},e.prototype.intersect=function(t,n){if(!t)return!1;t instanceof e||(t=e.create(t));var r=this,i=r.x,a=r.x+r.width,o=r.y,s=r.y+r.height,l=t.x,u=t.x+t.width,c=t.y,f=t.y+t.height,d=!(a<l||u<i||s<c||f<o);if(n){var h=1/0,p=0,v=Math.abs(a-l),g=Math.abs(u-i),m=Math.abs(s-c),b=Math.abs(f-o),_=Math.min(v,g),x=Math.min(m,b);a<l||u<i?_>p&&(p=_,v<g?Rr.set(tA,-v,0):Rr.set(tA,g,0)):_<h&&(h=_,v<g?Rr.set(eA,v,0):Rr.set(eA,-g,0)),s<c||f<o?x>p&&(p=x,m<b?Rr.set(tA,0,-m):Rr.set(tA,0,b)):_<h&&(h=_,m<b?Rr.set(eA,0,m):Rr.set(eA,0,-b))}return n&&Rr.copy(n,d?eA:tA),d},e.prototype.contain=function(t,n){var r=this;return t>=r.x&&t<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},e.applyTransform=function(t,n,r){if(!r){t!==n&&e.copy(t,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],o=r[4],s=r[5];t.x=n.x*i+o,t.y=n.y*a+s,t.width=n.width*i,t.height=n.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}Um.x=zm.x=n.x,Um.y=$m.y=n.y,Vm.x=$m.x=n.x+n.width,Vm.y=zm.y=n.y+n.height,Um.transform(r),$m.transform(r),Vm.transform(r),zm.transform(r),t.x=mR(Um.x,Vm.x,zm.x,$m.x),t.y=mR(Um.y,Vm.y,zm.y,$m.y);var l=yR(Um.x,Vm.x,zm.x,$m.x),u=yR(Um.y,Vm.y,zm.y,$m.y);t.width=l-t.x,t.height=u-t.y},e}(),qye="silent";function _at(e,t,n){return{type:e,event:n,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:bat}}function bat(){Rp(this.event)}var xat=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.handler=null,n}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}($c),nA=function(){function e(t,n){this.x=t,this.y=n}return e}(),Sat=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],bN=new Mr(0,0,0,0),Zye=function(e){et(t,e);function t(n,r,i,a,o){var s=e.call(this)||this;return s._hovered=new nA(0,0),s.storage=n,s.painter=r,s.painterRoot=a,s._pointerSize=o,i=i||new xat,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new aat(s),s}return t.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(te(Sat,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},t.prototype.mousemove=function(n){var r=n.zrX,i=n.zrY,a=Qye(this,r,i),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var l=this._hovered=a?new nA(r,i):this.findHover(r,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),s&&u!==s&&this.dispatchToElement(o,"mouseout",n),this.dispatchToElement(l,"mousemove",n),u&&u!==s&&this.dispatchToElement(l,"mouseover",n)},t.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},t.prototype.resize=function(){this._hovered=new nA(0,0)},t.prototype.dispatch=function(n,r){var i=this[n];i&&i.call(this,r)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},t.prototype.dispatchToElement=function(n,r,i){n=n||{};var a=n.target;if(!(a&&a.silent)){for(var o="on"+r,s=_at(r,n,i);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(r,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[o]=="function"&&l[o].call(l,s),l.trigger&&l.trigger(r,s)}))}},t.prototype.findHover=function(n,r,i){var a=this.storage.getDisplayList(),o=new nA(n,r);if(zZ(a,o,n,r,i),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,u=l/2,c=new Mr(n-u,r-u,l,l),f=a.length-1;f>=0;f--){var d=a[f];d!==i&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(bN.copy(d.getBoundingRect()),d.transform&&bN.applyTransform(d.transform),bN.intersect(c)&&s.push(d))}if(s.length)for(var h=4,p=Math.PI/12,v=Math.PI*2,g=0;g<u;g+=h)for(var m=0;m<v;m+=p){var b=n+g*Math.cos(m),_=r+g*Math.sin(m);if(zZ(s,o,b,_,i),o.target)return o}}return o},t.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new gat);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var o=a.type;n.gestureEvent=o;var s=new nA;s.target=a.target,this.dispatchToElement(s,o,a.event)}},t}($c);te(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Zye.prototype[e]=function(t){var n=t.zrX,r=t.zrY,i=Qye(this,n,r),a,o;if((e!=="mouseup"||!i)&&(a=this.findHover(n,r),o=a.target),e==="mousedown")this._downEl=o,this._downPoint=[t.zrX,t.zrY],this._upEl=o;else if(e==="mouseup")this._upEl=o;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||ag(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,e,t)}});function Aat(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){for(var r=e,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var o=r.getClipPath();if(o&&!o.contain(t,n))return!1}r.silent&&(i=!0);var s=r.__hostTarget;r=s||r.parent}return i?qye:!0}return!1}function zZ(e,t,n,r,i){for(var a=e.length-1;a>=0;a--){var o=e[a],s=void 0;if(o!==i&&!o.ignore&&(s=Aat(o,n,r))&&(!t.topTarget&&(t.topTarget=o),s!==qye)){t.target=o;break}}}function Qye(e,t,n){var r=e.painter;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var Jye=32,rA=7;function Eat(e){for(var t=0;e>=Jye;)t|=e&1,e>>=1;return e+t}function $Z(e,t,n,r){var i=t+1;if(i===n)return 1;if(r(e[i++],e[t])<0){for(;i<n&&r(e[i],e[i-1])<0;)i++;Tat(e,t,i)}else for(;i<n&&r(e[i],e[i-1])>=0;)i++;return i-t}function Tat(e,t,n){for(n--;t<n;){var r=e[t];e[t++]=e[n],e[n--]=r}}function HZ(e,t,n,r,i){for(r===t&&r++;r<n;r++){for(var a=e[r],o=t,s=r,l;o<s;)l=o+s>>>1,i(a,e[l])<0?s=l:o=l+1;var u=r-o;switch(u){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;u>0;)e[o+u]=e[o+u-1],u--}e[o]=a}}function xN(e,t,n,r,i,a){var o=0,s=0,l=1;if(a(e,t[n+i])>0){for(s=r-i;l<s&&a(e,t[n+i+l])>0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;l<s&&a(e,t[n+i-l])<=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}for(o++;o<l;){var c=o+(l-o>>>1);a(e,t[n+c])>0?o=c+1:l=c}return l}function SN(e,t,n,r,i,a){var o=0,s=0,l=1;if(a(e,t[n+i])<0){for(s=i+1;l<s&&a(e,t[n+i-l])<0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}else{for(s=r-i;l<s&&a(e,t[n+i+l])>=0;)o=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;o<l;){var c=o+(l-o>>>1);a(e,t[n+c])<0?l=c:o=c+1}return l}function wat(e,t){var n=rA,r,i,a=0,o=[];r=[],i=[];function s(h,p){r[a]=h,i[a]=p,a+=1}function l(){for(;a>1;){var h=a-2;if(h>=1&&i[h-1]<=i[h]+i[h+1]||h>=2&&i[h-2]<=i[h]+i[h-1])i[h-1]<i[h+1]&&h--;else if(i[h]>i[h+1])break;c(h)}}function u(){for(;a>1;){var h=a-2;h>0&&i[h-1]<i[h+1]&&h--,c(h)}}function c(h){var p=r[h],v=i[h],g=r[h+1],m=i[h+1];i[h]=v+m,h===a-3&&(r[h+1]=r[h+2],i[h+1]=i[h+2]),a--;var b=SN(e[g],e,p,v,0,t);p+=b,v-=b,v!==0&&(m=xN(e[p+v-1],e,g,m,m-1,t),m!==0&&(v<=m?f(p,v,g,m):d(p,v,g,m)))}function f(h,p,v,g){var m=0;for(m=0;m<p;m++)o[m]=e[h+m];var b=0,_=v,x=h;if(e[x++]=e[_++],--g===0){for(m=0;m<p;m++)e[x+m]=o[b+m];return}if(p===1){for(m=0;m<g;m++)e[x+m]=e[_+m];e[x+g]=o[b];return}for(var E=n,A,T,R;;){A=0,T=0,R=!1;do if(t(e[_],o[b])<0){if(e[x++]=e[_++],T++,A=0,--g===0){R=!0;break}}else if(e[x++]=o[b++],A++,T=0,--p===1){R=!0;break}while((A|T)<E);if(R)break;do{if(A=SN(e[_],o,b,p,0,t),A!==0){for(m=0;m<A;m++)e[x+m]=o[b+m];if(x+=A,b+=A,p-=A,p<=1){R=!0;break}}if(e[x++]=e[_++],--g===0){R=!0;break}if(T=xN(o[b],e,_,g,0,t),T!==0){for(m=0;m<T;m++)e[x+m]=e[_+m];if(x+=T,_+=T,g-=T,g===0){R=!0;break}}if(e[x++]=o[b++],--p===1){R=!0;break}E--}while(A>=rA||T>=rA);if(R)break;E<0&&(E=0),E+=2}if(n=E,n<1&&(n=1),p===1){for(m=0;m<g;m++)e[x+m]=e[_+m];e[x+g]=o[b]}else{if(p===0)throw new Error;for(m=0;m<p;m++)e[x+m]=o[b+m]}}function d(h,p,v,g){var m=0;for(m=0;m<g;m++)o[m]=e[v+m];var b=h+p-1,_=g-1,x=v+g-1,E=0,A=0;if(e[x--]=e[b--],--p===0){for(E=x-(g-1),m=0;m<g;m++)e[E+m]=o[m];return}if(g===1){for(x-=p,b-=p,A=x+1,E=b+1,m=p-1;m>=0;m--)e[A+m]=e[E+m];e[x]=o[_];return}for(var T=n;;){var R=0,M=0,O=!1;do if(t(o[_],e[b])<0){if(e[x--]=e[b--],R++,M=0,--p===0){O=!0;break}}else if(e[x--]=o[_--],M++,R=0,--g===1){O=!0;break}while((R|M)<T);if(O)break;do{if(R=p-SN(o[_],e,h,p,p-1,t),R!==0){for(x-=R,b-=R,p-=R,A=x+1,E=b+1,m=R-1;m>=0;m--)e[A+m]=e[E+m];if(p===0){O=!0;break}}if(e[x--]=o[_--],--g===1){O=!0;break}if(M=g-xN(e[b],o,0,g,g-1,t),M!==0){for(x-=M,_-=M,g-=M,A=x+1,E=_+1,m=0;m<M;m++)e[A+m]=o[E+m];if(g<=1){O=!0;break}}if(e[x--]=e[b--],--p===0){O=!0;break}T--}while(R>=rA||M>=rA);if(O)break;T<0&&(T=0),T+=2}if(n=T,n<1&&(n=1),g===1){for(x-=p,b-=p,A=x+1,E=b+1,m=p-1;m>=0;m--)e[A+m]=e[E+m];e[x]=o[_]}else{if(g===0)throw new Error;for(E=x-(g-1),m=0;m<g;m++)e[E+m]=o[m]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:s}}function S3(e,t,n,r){n||(n=0),r||(r=e.length);var i=r-n;if(!(i<2)){var a=0;if(i<Jye){a=$Z(e,n,r,t),HZ(e,n,r,n+a,t);return}var o=wat(e,t),s=Eat(i);do{if(a=$Z(e,n,r,t),a<s){var l=i;l>s&&(l=s),HZ(e,n,n+l,n+a,t),a=l}o.pushRun(n,a),o.mergeRuns(),i-=a,n+=a}while(i!==0);o.forceMergeRuns()}}var Pu=1,aE=2,w1=4,WZ=!1;function AN(){WZ||(WZ=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function GZ(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Cat=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=GZ}return e.prototype.traverse=function(t,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,n)},e.prototype.getDisplayList=function(t,n){n=n||!1;var r=this._displayList;return(t||!r.length)&&this.updateDisplayList(n),r},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,r=this._displayList,i=0,a=n.length;i<a;i++)this._updateAndAddDisplayable(n[i],null,t);r.length=this._displayListLen,S3(r,GZ)},e.prototype._updateAndAddDisplayable=function(t,n,r){if(!(t.ignore&&!r)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)n=null;else if(i){n?n=n.slice():n=[];for(var a=i,o=t;a;)a.parent=o,a.updateTransform(),n.push(a),o=a,a=a.getClipPath()}if(t.childrenRef){for(var s=t.childrenRef(),l=0;l<s.length;l++){var u=s[l];t.__dirty&&(u.__dirty|=Pu),this._updateAndAddDisplayable(u,n,r)}t.__dirty=0}else{var c=t;n&&n.length?c.__clipPaths=n:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(AN(),c.z=0),isNaN(c.z2)&&(AN(),c.z2=0),isNaN(c.zlevel)&&(AN(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var f=t.getDecalElement&&t.getDecalElement();f&&this._updateAndAddDisplayable(f,n,r);var d=t.getTextGuideLine();d&&this._updateAndAddDisplayable(d,n,r);var h=t.getTextContent();h&&this._updateAndAddDisplayable(h,n,r)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);return}var i=Ur(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),LM;LM=qr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var XE={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)))},elasticOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/r)+1)},elasticInOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/r)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-XE.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?XE.bounceIn(e*2)*.5:XE.bounceOut(e*2-1)*.5+.5}},_R=Math.pow,xg=Math.sqrt,NM=1e-8,e_e=1e-4,jZ=xg(3),bR=1/3,Fd=Fy(),Sc=Fy(),ab=Fy();function lg(e){return e>-NM&&e<NM}function t_e(e){return e>NM||e<-NM}function Yo(e,t,n,r,i){var a=1-i;return a*a*(a*e+3*i*t)+i*i*(i*r+3*a*n)}function YZ(e,t,n,r,i){var a=1-i;return 3*(((t-e)*a+2*(n-t)*i)*a+(r-n)*i*i)}function BM(e,t,n,r,i,a){var o=r+3*(t-n)-e,s=3*(n-t*2+e),l=3*(t-e),u=e-i,c=s*s-3*o*l,f=s*l-9*o*u,d=l*l-3*s*u,h=0;if(lg(c)&&lg(f))if(lg(s))a[0]=0;else{var p=-l/s;p>=0&&p<=1&&(a[h++]=p)}else{var v=f*f-4*c*d;if(lg(v)){var g=f/c,p=-s/o+g,m=-g/2;p>=0&&p<=1&&(a[h++]=p),m>=0&&m<=1&&(a[h++]=m)}else if(v>0){var b=xg(v),_=c*s+1.5*o*(-f+b),x=c*s+1.5*o*(-f-b);_<0?_=-_R(-_,bR):_=_R(_,bR),x<0?x=-_R(-x,bR):x=_R(x,bR);var p=(-s-(_+x))/(3*o);p>=0&&p<=1&&(a[h++]=p)}else{var E=(2*c*s-3*o*f)/(2*xg(c*c*c)),A=Math.acos(E)/3,T=xg(c),R=Math.cos(A),p=(-s-2*T*R)/(3*o),m=(-s+T*(R+jZ*Math.sin(A)))/(3*o),M=(-s+T*(R-jZ*Math.sin(A)))/(3*o);p>=0&&p<=1&&(a[h++]=p),m>=0&&m<=1&&(a[h++]=m),M>=0&&M<=1&&(a[h++]=M)}}return h}function n_e(e,t,n,r,i){var a=6*n-12*t+6*e,o=9*t+3*r-3*e-9*n,s=3*t-3*e,l=0;if(lg(o)){if(t_e(a)){var u=-s/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*o*s;if(lg(c))i[0]=-a/(2*o);else if(c>0){var f=xg(c),u=(-a+f)/(2*o),d=(-a-f)/(2*o);u>=0&&u<=1&&(i[l++]=u),d>=0&&d<=1&&(i[l++]=d)}}return l}function Vg(e,t,n,r,i,a){var o=(t-e)*i+e,s=(n-t)*i+t,l=(r-n)*i+n,u=(s-o)*i+o,c=(l-s)*i+s,f=(c-u)*i+u;a[0]=e,a[1]=o,a[2]=u,a[3]=f,a[4]=f,a[5]=c,a[6]=l,a[7]=r}function r_e(e,t,n,r,i,a,o,s,l,u,c){var f,d=.005,h=1/0,p,v,g,m;Fd[0]=l,Fd[1]=u;for(var b=0;b<1;b+=.05)Sc[0]=Yo(e,n,i,o,b),Sc[1]=Yo(t,r,a,s,b),g=K0(Fd,Sc),g<h&&(f=b,h=g);h=1/0;for(var _=0;_<32&&!(d<e_e);_++)p=f-d,v=f+d,Sc[0]=Yo(e,n,i,o,p),Sc[1]=Yo(t,r,a,s,p),g=K0(Sc,Fd),p>=0&&g<h?(f=p,h=g):(ab[0]=Yo(e,n,i,o,v),ab[1]=Yo(t,r,a,s,v),m=K0(ab,Fd),v<=1&&m<h?(f=v,h=m):d*=.5);return c&&(c[0]=Yo(e,n,i,o,f),c[1]=Yo(t,r,a,s,f)),xg(h)}function Rat(e,t,n,r,i,a,o,s,l){for(var u=e,c=t,f=0,d=1/l,h=1;h<=l;h++){var p=h*d,v=Yo(e,n,i,o,p),g=Yo(t,r,a,s,p),m=v-u,b=g-c;f+=Math.sqrt(m*m+b*b),u=v,c=g}return f}function fs(e,t,n,r){var i=1-r;return i*(i*e+2*r*t)+r*r*n}function fV(e,t,n,r){return 2*((1-r)*(t-e)+r*(n-t))}function Iat(e,t,n,r,i){var a=e-2*t+n,o=2*(t-e),s=e-r,l=0;if(lg(a)){if(t_e(o)){var u=-s/o;u>=0&&u<=1&&(i[l++]=u)}}else{var c=o*o-4*a*s;if(lg(c)){var u=-o/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var f=xg(c),u=(-o+f)/(2*a),d=(-o-f)/(2*a);u>=0&&u<=1&&(i[l++]=u),d>=0&&d<=1&&(i[l++]=d)}}return l}function i_e(e,t,n){var r=e+n-2*t;return r===0?.5:(e-t)/r}function X2(e,t,n,r,i){var a=(t-e)*r+e,o=(n-t)*r+t,s=(o-a)*r+a;i[0]=e,i[1]=a,i[2]=s,i[3]=s,i[4]=o,i[5]=n}function a_e(e,t,n,r,i,a,o,s,l){var u,c=.005,f=1/0;Fd[0]=o,Fd[1]=s;for(var d=0;d<1;d+=.05){Sc[0]=fs(e,n,i,d),Sc[1]=fs(t,r,a,d);var h=K0(Fd,Sc);h<f&&(u=d,f=h)}f=1/0;for(var p=0;p<32&&!(c<e_e);p++){var v=u-c,g=u+c;Sc[0]=fs(e,n,i,v),Sc[1]=fs(t,r,a,v);var h=K0(Sc,Fd);if(v>=0&&h<f)u=v,f=h;else{ab[0]=fs(e,n,i,g),ab[1]=fs(t,r,a,g);var m=K0(ab,Fd);g<=1&&m<f?(u=g,f=m):c*=.5}}return l&&(l[0]=fs(e,n,i,u),l[1]=fs(t,r,a,u)),xg(f)}function Mat(e,t,n,r,i,a,o){for(var s=e,l=t,u=0,c=1/o,f=1;f<=o;f++){var d=f*c,h=fs(e,n,i,d),p=fs(t,r,a,d),v=h-s,g=p-l;u+=Math.sqrt(v*v+g*g),s=h,l=p}return u}var Oat=/cubic-bezier\(([0-9,\.e ]+)\)/;function aW(e){var t=e&&Oat.exec(e);if(t){var n=t[1].split(","),r=+Lf(n[0]),i=+Lf(n[1]),a=+Lf(n[2]),o=+Lf(n[3]);if(isNaN(r+i+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:BM(0,r,a,1,l,s)&&Yo(0,i,o,1,s[0])}}}var Dat=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||mo,this.ondestroy=t.ondestroy||mo,this.onrestart=t.onrestart||mo,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,n){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,i=t-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),a===1)if(this.loop){var l=i%r;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=er(t)?t:XE[t]||aW(t)},e}(),o_e=function(){function e(t){this.value=t}return e}(),Pat=function(){function e(){this._len=0}return e.prototype.insert=function(t){var n=new o_e(t);return this.insertEntry(n),n},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var n=t.prev,r=t.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),iw=function(){function e(t){this._list=new Pat,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,n){var r=this._list,i=this._map,a=null;if(i[t]==null){var o=r.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=n:s=new o_e(n),s.key=t,r.insertEntry(s),i[t]=s}return a},e.prototype.get=function(t){var n=this._map[t],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),XZ={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function zf(e){return e=Math.round(e),e<0?0:e>255?255:e}function Lat(e){return e=Math.round(e),e<0?0:e>360?360:e}function K2(e){return e<0?0:e>1?1:e}function EN(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?zf(parseFloat(t)/100*255):zf(parseInt(t,10))}function q0(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?K2(parseFloat(t)/100):K2(parseFloat(t))}function TN(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function ug(e,t,n){return e+(t-e)*n}function fc(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}function dV(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var s_e=new iw(20),xR=null;function j_(e,t){xR&&dV(xR,t),xR=s_e.put(e,xR||t.slice())}function Hu(e,t){if(e){t=t||[];var n=s_e.get(e);if(n)return dV(t,n);e=e+"";var r=e.replace(/ /g,"").toLowerCase();if(r in XZ)return dV(t,XZ[r]),j_(e,t),t;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(r.slice(1,4),16);if(!(a>=0&&a<=4095)){fc(t,0,0,0,1);return}return fc(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),j_(e,t),t}else if(i===7||i===9){var a=parseInt(r.slice(1,7),16);if(!(a>=0&&a<=16777215)){fc(t,0,0,0,1);return}return fc(t,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(r.slice(7),16)/255:1),j_(e,t),t}return}var o=r.indexOf("("),s=r.indexOf(")");if(o!==-1&&s+1===i){var l=r.substr(0,o),u=r.substr(o+1,s-(o+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?fc(t,+u[0],+u[1],+u[2],1):fc(t,0,0,0,1);c=q0(u.pop());case"rgb":if(u.length>=3)return fc(t,EN(u[0]),EN(u[1]),EN(u[2]),u.length===3?c:q0(u[3])),j_(e,t),t;fc(t,0,0,0,1);return;case"hsla":if(u.length!==4){fc(t,0,0,0,1);return}return u[3]=q0(u[3]),hV(u,t),j_(e,t),t;case"hsl":if(u.length!==3){fc(t,0,0,0,1);return}return hV(u,t),j_(e,t),t;default:return}}fc(t,0,0,0,1)}}function hV(e,t){var n=(parseFloat(e[0])%360+360)%360/360,r=q0(e[1]),i=q0(e[2]),a=i<=.5?i*(r+1):i+r-i*r,o=i*2-a;return t=t||[],fc(t,zf(TN(o,a,n+1/3)*255),zf(TN(o,a,n)*255),zf(TN(o,a,n-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function Nat(e){if(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=a-i,s=(a+i)/2,l,u;if(o===0)l=0,u=0;else{s<.5?u=o/(a+i):u=o/(2-a-i);var c=((a-t)/6+o/2)/o,f=((a-n)/6+o/2)/o,d=((a-r)/6+o/2)/o;t===a?l=d-f:n===a?l=1/3+c-d:r===a&&(l=2/3+f-c),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,u,s];return e[3]!=null&&h.push(e[3]),h}}function pV(e,t){var n=Hu(e);if(n){for(var r=0;r<3;r++)t<0?n[r]=n[r]*(1-t)|0:n[r]=(255-n[r])*t+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return yp(n,n.length===4?"rgba":"rgb")}}function wN(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){n=n||[];var r=e*(t.length-1),i=Math.floor(r),a=Math.ceil(r),o=t[i],s=t[a],l=r-i;return n[0]=zf(ug(o[0],s[0],l)),n[1]=zf(ug(o[1],s[1],l)),n[2]=zf(ug(o[2],s[2],l)),n[3]=K2(ug(o[3],s[3],l)),n}}function Bat(e,t,n){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var r=e*(t.length-1),i=Math.floor(r),a=Math.ceil(r),o=Hu(t[i]),s=Hu(t[a]),l=r-i,u=yp([zf(ug(o[0],s[0],l)),zf(ug(o[1],s[1],l)),zf(ug(o[2],s[2],l)),K2(ug(o[3],s[3],l))],"rgba");return n?{color:u,leftIndex:i,rightIndex:a,value:r}:u}}function KE(e,t,n,r){var i=Hu(e);if(e)return i=Nat(i),t!=null&&(i[0]=Lat(t)),n!=null&&(i[1]=q0(n)),r!=null&&(i[2]=q0(r)),yp(hV(i),"rgba")}function kM(e,t){var n=Hu(e);if(n&&t!=null)return n[3]=K2(t),yp(n,"rgba")}function yp(e,t){if(!(!e||!e.length)){var n=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(n+=","+e[3]),t+"("+n+")"}}function FM(e,t){var n=Hu(e);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*t:0}var KZ=new iw(100);function vV(e){if(An(e)){var t=KZ.get(e);return t||(t=pV(e,-.1),KZ.put(e,t)),t}else if(oP(e)){var n=Ct({},e);return n.colorStops=Vt(e.colorStops,function(r){return{offset:r.offset,color:pV(r.color,-.1)}}),n}return e}var UM=Math.round;function q2(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var n=Hu(e);n&&(e="rgb("+n[0]+","+n[1]+","+n[2]+")",t=n[3])}return{color:e,opacity:t??1}}var qZ=1e-4;function cg(e){return e<qZ&&e>-qZ}function SR(e){return UM(e*1e3)/1e3}function gV(e){return UM(e*1e4)/1e4}function kat(e){return"matrix("+SR(e[0])+","+SR(e[1])+","+SR(e[2])+","+SR(e[3])+","+gV(e[4])+","+gV(e[5])+")"}var Fat={left:"start",right:"end",center:"middle",middle:"middle"};function Uat(e,t,n){return n==="top"?e+=t/2:n==="bottom"&&(e-=t/2),e}function Vat(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function zat(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function l_e(e){return e&&!!e.image}function $at(e){return e&&!!e.svgElement}function oW(e){return l_e(e)||$at(e)}function u_e(e){return e.type==="linear"}function c_e(e){return e.type==="radial"}function f_e(e){return e&&(e.type==="linear"||e.type==="radial")}function uP(e){return"url(#"+e+")"}function d_e(e){var t=e.getGlobalScale(),n=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function h_e(e){var t=e.x||0,n=e.y||0,r=(e.rotation||0)*_3,i=Sr(e.scaleX,1),a=Sr(e.scaleY,1),o=e.skewX||0,s=e.skewY||0,l=[];return(t||n)&&l.push("translate("+t+"px,"+n+"px)"),r&&l.push("rotate("+r+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(o||s)&&l.push("skew("+UM(o*_3)+"deg, "+UM(s*_3)+"deg)"),l.join(" ")}var Hat=function(){return qr.hasGlobalWindow&&er(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}}(),mV=Array.prototype.slice;function np(e,t,n){return(t-e)*n+e}function CN(e,t,n,r){for(var i=t.length,a=0;a<i;a++)e[a]=np(t[a],n[a],r);return e}function Wat(e,t,n,r){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=np(t[o][s],n[o][s],r)}return e}function AR(e,t,n,r){for(var i=t.length,a=0;a<i;a++)e[a]=t[a]+n[a]*r;return e}function ZZ(e,t,n,r){for(var i=t.length,a=i&&t[0].length,o=0;o<i;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=t[o][s]+n[o][s]*r}return e}function Gat(e,t){for(var n=e.length,r=t.length,i=n>r?t:e,a=Math.min(n,r),o=i[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(n,r);s++)i.push({offset:o.offset,color:o.color.slice()})}function jat(e,t,n){var r=e,i=t;if(!(!r.push||!i.push)){var a=r.length,o=i.length;if(a!==o){var s=a>o;if(s)r.length=o;else for(var l=a;l<o;l++)r.push(n===1?i[l]:mV.call(i[l]))}for(var u=r[0]&&r[0].length,l=0;l<r.length;l++)if(n===1)isNaN(r[l])&&(r[l]=i[l]);else for(var c=0;c<u;c++)isNaN(r[l][c])&&(r[l][c]=i[l][c])}}function qE(e){if(nl(e)){var t=e.length;if(nl(e[0])){for(var n=[],r=0;r<t;r++)n.push(mV.call(e[r]));return n}return mV.call(e)}return e}function A3(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function Yat(e){return nl(e&&e[0])?2:1}var ER=0,E3=1,p_e=2,oE=3,yV=4,_V=5,QZ=6;function JZ(e){return e===yV||e===_V}function TR(e){return e===E3||e===p_e}var iA=[0,0,0,0],Xat=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,n,r){this._needsSort=!0;var i=this.keyframes,a=i.length,o=!1,s=QZ,l=n;if(nl(n)){var u=Yat(n);s=u,(u===1&&!yi(n[0])||u===2&&!yi(n[0][0]))&&(o=!0)}else if(yi(n)&&!Y2(n))s=ER;else if(An(n))if(!isNaN(+n))s=ER;else{var c=Hu(n);c&&(l=c,s=oE)}else if(oP(n)){var f=Ct({},l);f.colorStops=Vt(n.colorStops,function(h){return{offset:h.offset,color:Hu(h.color)}}),u_e(n)?s=yV:c_e(n)&&(s=_V),l=f}a===0?this.valType=s:(s!==this.valType||s===QZ)&&(o=!0),this.discrete=this.discrete||o;var d={time:t,value:l,rawValue:n,percent:0};return r&&(d.easing=r,d.easingFunc=er(r)?r:XE[r]||aW(r)),i.push(d),d},e.prototype.prepare=function(t,n){var r=this.keyframes;this._needsSort&&r.sort(function(v,g){return v.time-g.time});for(var i=this.valType,a=r.length,o=r[a-1],s=this.discrete,l=TR(i),u=JZ(i),c=0;c<a;c++){var f=r[c],d=f.value,h=o.value;f.percent=f.time/t,s||(l&&c!==a-1?jat(d,h,i):u&&Gat(d.colorStops,h.colorStops))}if(!s&&i!==_V&&n&&this.needsAnimate()&&n.needsAnimate()&&i===n.valType&&!n._finished){this._additiveTrack=n;for(var p=r[0].value,c=0;c<a;c++)i===ER?r[c].additiveValue=r[c].value-p:i===oE?r[c].additiveValue=AR([],r[c].value,p,-1):TR(i)&&(r[c].additiveValue=i===E3?AR([],r[c].value,p,-1):ZZ([],r[c].value,p,-1))}},e.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,u=a===oE,c,f=this._lastFr,d=Math.min,h,p;if(s===1)h=p=o[0];else{if(n<0)c=0;else if(n<this._lastFrP){var v=d(f+1,s-1);for(c=v;c>=0&&!(o[c].percent<=n);c--);c=d(c,s-2)}else{for(c=f;c<s&&!(o[c].percent>n);c++);c=d(c-1,s-2)}p=o[c+1],h=o[c]}if(h&&p){this._lastFr=c,this._lastFrP=n;var g=p.percent-h.percent,m=g===0?1:d((n-h.percent)/g,1);p.easingFunc&&(m=p.easingFunc(m));var b=r?this._additiveValue:u?iA:t[l];if((TR(a)||u)&&!b&&(b=this._additiveValue=[]),this.discrete)t[l]=m<1?h.rawValue:p.rawValue;else if(TR(a))a===E3?CN(b,h[i],p[i],m):Wat(b,h[i],p[i],m);else if(JZ(a)){var _=h[i],x=p[i],E=a===yV;t[l]={type:E?"linear":"radial",x:np(_.x,x.x,m),y:np(_.y,x.y,m),colorStops:Vt(_.colorStops,function(T,R){var M=x.colorStops[R];return{offset:np(T.offset,M.offset,m),color:A3(CN([],T.color,M.color,m))}}),global:x.global},E?(t[l].x2=np(_.x2,x.x2,m),t[l].y2=np(_.y2,x.y2,m)):t[l].r=np(_.r,x.r,m)}else if(u)CN(b,h[i],p[i],m),r||(t[l]=A3(b));else{var A=np(h[i],p[i],m);r?this._additiveValue=A:t[l]=A}r&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var n=this.valType,r=this.propName,i=this._additiveValue;n===ER?t[r]=t[r]+i:n===oE?(Hu(t[r],iA),AR(iA,iA,i,1),t[r]=A3(iA)):n===E3?AR(t[r],t[r],i,1):n===p_e&&ZZ(t[r],t[r],i,1)},e}(),sW=function(){function e(t,n,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&i){QH("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,n,r){return this.whenWithKeys(t,n,Jr(n),r)},e.prototype.whenWithKeys=function(t,n,r,i){for(var a=this._tracks,o=0;o<r.length;o++){var s=r[o],l=a[s];if(!l){l=a[s]=new Xat(s);var u=void 0,c=this._getAdditiveTrack(s);if(c){var f=c.keyframes,d=f[f.length-1];u=d&&d.value,c.valType===oE&&u&&(u=A3(u))}else u=this._target[s];if(u==null)continue;t>0&&l.addKeyframe(0,qE(u),i),this._trackKeys.push(s)}l.addKeyframe(t,qE(n[s]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,r=0;r<n;r++)t[r].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)t[n[r]].setFinished()},e.prototype._getAdditiveTrack=function(t){var n,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(t);a&&(n=a)}return n},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),u=s.keyframes,c=u.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=u[c-1];f&&(n._target[s.propName]=f.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var d=new Dat({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){n._started=2;var p=n._additiveAnimators;if(p){for(var v=!1,g=0;g<p.length;g++)if(p[g]._clip){v=!0;break}v||(n._additiveAnimators=null)}for(var g=0;g<r.length;g++)r[g].step(n._target,h);var m=n._onframeCbs;if(m)for(var g=0;g<m.length;g++)m[g](n._target,h)},ondestroy:function(){n._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),t&&d.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return Vt(this._trackKeys,function(n){return t._tracks[n]})},e.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var o=r[t[a]];o&&!o.isFinished()&&(n?o.step(this._target,1):this._started===1&&o.step(this._target,0),o.setFinished())}for(var s=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(t,n,r){if(t){n=n||this._trackKeys;for(var i=0;i<n.length;i++){var a=n[i],o=this._tracks[a];if(!(!o||o.isFinished())){var s=o.keyframes,l=s[r?0:s.length-1];l&&(t[a]=qE(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,n){n=n||Jr(t);for(var r=0;r<n.length;r++){var i=n[r],a=this._tracks[i];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},e}();function k1(){return new Date().getTime()}var Kat=function(e){et(t,e);function t(n){var r=e.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return t.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},t.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},t.prototype.removeClip=function(n){if(n.animation){var r=n.prev,i=n.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},t.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},t.prototype.update=function(n){for(var r=k1()-this._pausedTime,i=r-this._time,a=this._head;a;){var o=a.next,s=a.step(r,i);s&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=r,n||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(LM(r),!n._paused&&n.update())}LM(r)},t.prototype.start=function(){this._running||(this._time=k1(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=k1(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=k1()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(n,r){r=r||{},this.start();var i=new sW(n,r.loop);return this.addAnimator(i),i},t}($c),qat=300,RN=qr.domSupported,IN=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=Vt(e,function(i){var a=i.replace("mouse","pointer");return n.hasOwnProperty(a)?a:i});return{mouse:e,touch:t,pointer:r}}(),eQ={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},tQ=!1;function bV(e){var t=e.pointerType;return t==="pen"||t==="touch"}function Zat(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function MN(e){e&&(e.zrByTouch=!0)}function Qat(e,t){return vc(e.dom,new Jat(e,t),!0)}function v_e(e,t){for(var n=t,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==t&&n===e.painterRoot);)n=n.parentNode;return r}var Jat=function(){function e(t,n){this.stopPropagation=mo,this.stopImmediatePropagation=mo,this.preventDefault=mo,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return e}(),Ef={mousedown:function(e){e=vc(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=vc(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=vc(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=vc(this.dom,e);var t=e.toElement||e.relatedTarget;v_e(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){tQ=!0,e=vc(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){tQ||(e=vc(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=vc(this.dom,e),MN(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Ef.mousemove.call(this,e),Ef.mousedown.call(this,e)},touchmove:function(e){e=vc(this.dom,e),MN(e),this.handler.processGesture(e,"change"),Ef.mousemove.call(this,e)},touchend:function(e){e=vc(this.dom,e),MN(e),this.handler.processGesture(e,"end"),Ef.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<qat&&Ef.click.call(this,e)},pointerdown:function(e){Ef.mousedown.call(this,e)},pointermove:function(e){bV(e)||Ef.mousemove.call(this,e)},pointerup:function(e){Ef.mouseup.call(this,e)},pointerout:function(e){bV(e)||Ef.mouseout.call(this,e)}};te(["click","dblclick","contextmenu"],function(e){Ef[e]=function(t){t=vc(this.dom,t),this.trigger(e,t)}});var xV={pointermove:function(e){bV(e)||xV.mousemove.call(this,e)},pointerup:function(e){xV.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function eot(e,t){var n=t.domHandlers;qr.pointerEventsSupported?te(IN.pointer,function(r){T3(t,r,function(i){n[r].call(e,i)})}):(qr.touchEventsSupported&&te(IN.touch,function(r){T3(t,r,function(i){n[r].call(e,i),Zat(t)})}),te(IN.mouse,function(r){T3(t,r,function(i){i=nW(i),t.touching||n[r].call(e,i)})}))}function tot(e,t){qr.pointerEventsSupported?te(eQ.pointer,n):qr.touchEventsSupported||te(eQ.mouse,n);function n(r){function i(a){a=nW(a),v_e(e,a.target)||(a=Qat(e,a),t.domHandlers[r].call(e,a))}T3(t,r,i,{capture:!0})}}function T3(e,t,n,r){e.mounted[t]=n,e.listenerOpts[t]=r,cV(e.domTarget,t,n,r)}function ON(e){var t=e.mounted;for(var n in t)t.hasOwnProperty(n)&&vat(e.domTarget,n,t[n],e.listenerOpts[n]);e.mounted={}}var nQ=function(){function e(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return e}(),not=function(e){et(t,e);function t(n,r){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=n,i.painterRoot=r,i._localHandlerScope=new nQ(n,Ef),RN&&(i._globalHandlerScope=new nQ(document,xV)),eot(i,i._localHandlerScope),i}return t.prototype.dispose=function(){ON(this._localHandlerScope),RN&&ON(this._globalHandlerScope)},t.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},t.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,RN&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?tot(this,r):ON(r)}},t}($c),g_e=1;qr.hasGlobalWindow&&(g_e=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var VM=g_e,SV=.4,AV="#333",EV="#ccc",rot="#eee",rQ=lP,iQ=5e-5;function Hm(e){return e>iQ||e<-iQ}var Wm=[],Y_=[],DN=$u(),PN=Math.abs,dp=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Hm(this.rotation)||Hm(this.x)||Hm(this.y)||Hm(this.scaleX-1)||Hm(this.scaleY-1)||Hm(this.skewX)||Hm(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||t)){r&&(rQ(r),this.invTransform=null);return}r=r||$u(),n?this.getLocalTransform(r):rQ(r),t&&(n?mp(r,t,r):rW(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)},e.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(Wm);var r=Wm[0]<0?-1:1,i=Wm[1]<0?-1:1,a=((Wm[0]-r)*n+r)/Wm[0]||0,o=((Wm[1]-i)*n+i)/Wm[1]||0;t[0]*=a,t[1]*=a,t[2]*=o,t[3]*=o}this.invTransform=this.invTransform||$u(),Ox(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(a),n=Math.sqrt(n),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||$u(),mp(Y_,t.invTransform,n),n=Y_);var r=this.originX,i=this.originY;(r||i)&&(DN[4]=r,DN[5]=i,mp(Y_,n,DN),Y_[4]-=r,Y_[5]-=i,n=Y_),this.setLocalTransform(n)}},e.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,n){var r=[t,n],i=this.invTransform;return i&&Ds(r,r,i),r},e.prototype.transformCoordToGlobal=function(t,n){var r=[t,n],i=this.transform;return i&&Ds(r,r,i),r},e.prototype.getLineScale=function(){var t=this.transform;return t&&PN(t[0]-1)>1e-10&&PN(t[3]-1)>1e-10?Math.sqrt(PN(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){m_e(this,t)},e.getLocalTransform=function(t,n){n=n||[];var r=t.originX||0,i=t.originY||0,a=t.scaleX,o=t.scaleY,s=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,f=t.y,d=t.skewX?Math.tan(t.skewX):0,h=t.skewY?Math.tan(-t.skewY):0;if(r||i||s||l){var p=r+s,v=i+l;n[4]=-p*a-d*v*o,n[5]=-v*o-h*p*a}else n[4]=n[5]=0;return n[0]=a,n[3]=o,n[1]=h*a,n[2]=d*o,u&&Uy(n,n,u),n[4]+=r+c,n[5]+=i+f,n},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),ih=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function m_e(e,t){for(var n=0;n<ih.length;n++){var r=ih[n];e[r]=t[r]}}var aQ={};function Wu(e,t){t=t||Fg;var n=aQ[t];n||(n=aQ[t]=new iw(500));var r=n.get(e);return r==null&&(r=Ug.measureText(e,t).width,n.put(e,r)),r}function oQ(e,t,n,r){var i=Wu(e,t),a=cP(t),o=sE(0,i,n),s=C1(0,a,r),l=new Mr(o,s,i,a);return l}function aw(e,t,n,r){var i=((e||"")+"").split(`
`),a=i.length;if(a===1)return oQ(i[0],t,n,r);for(var o=new Mr(0,0,0,0),s=0;s<i.length;s++){var l=oQ(i[s],t,n,r);s===0?o.copy(l):o.union(l)}return o}function sE(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function C1(e,t,n){return n==="middle"?e-=t/2:n==="bottom"&&(e-=t),e}function cP(e){return Wu("国",e)}function Qf(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function zM(e,t,n){var r=t.position||"inside",i=t.distance!=null?t.distance:5,a=n.height,o=n.width,s=a/2,l=n.x,u=n.y,c="left",f="top";if(r instanceof Array)l+=Qf(r[0],n.width),u+=Qf(r[1],n.height),c=null,f=null;else switch(r){case"left":l-=i,u+=s,c="right",f="middle";break;case"right":l+=i+o,u+=s,f="middle";break;case"top":l+=o/2,u-=i,c="center",f="bottom";break;case"bottom":l+=o/2,u+=a+i,c="center";break;case"inside":l+=o/2,u+=s,c="center",f="middle";break;case"insideLeft":l+=i,u+=s,f="middle";break;case"insideRight":l+=o-i,u+=s,c="right",f="middle";break;case"insideTop":l+=o/2,u+=i,c="center";break;case"insideBottom":l+=o/2,u+=a-i,c="center",f="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=o-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,f="bottom";break;case"insideBottomRight":l+=o-i,u+=a-i,c="right",f="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=c,e.verticalAlign=f,e}var LN="__zr_normal__",NN=ih.concat(["ignore"]),iot=nh(ih,function(e,t){return e[t]=!0,e},{ignore:!1}),X_={},aot=new Mr(0,0,0,0),fP=function(){function e(t){this.id=Gye(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=n,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=n.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=i?this:null;var u=!1;if(a.copyTransform(n),r.position!=null){var c=aot;r.layoutRect?c.copy(r.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(X_,r,c):zM(X_,r,c),a.x=X_.x,a.y=X_.y,o=X_.align,s=X_.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var d=void 0,h=void 0;f==="center"?(d=c.width*.5,h=c.height*.5):(d=Qf(f[0],c.width),h=Qf(f[1],c.height)),u=!0,a.originX=-a.x+d+(i?0:c.x),a.originY=-a.y+h+(i?0:c.y)}}r.rotation!=null&&(a.rotation=r.rotation);var p=r.offset;p&&(a.x+=p[0],a.y+=p[1],u||(a.originX=-p[0],a.originY=-p[1]));var v=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,b=void 0,_=void 0;v&&this.canBeInsideText()?(m=r.insideFill,b=r.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(b==null||b==="auto")&&(b=this.getInsideTextStroke(m),_=!0)):(m=r.outsideFill,b=r.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(b==null||b==="auto")&&(b=this.getOutsideStroke(m),_=!0)),m=m||"#000",(m!==g.fill||b!==g.stroke||_!==g.autoStroke||o!==g.align||s!==g.verticalAlign)&&(l=!0,g.fill=m,g.stroke=b,g.autoStroke=_,g.align=o,g.verticalAlign=s,n.setDefaultTextStyle(g)),n.__dirty|=Pu,l&&n.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?EV:AV},e.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&Hu(n);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)r[o]=r[o]*i+(a?0:255)*(1-i);return r[3]=1,yp(r,"rgba")},e.prototype.traverse=function(t,n){},e.prototype.attrKV=function(t,n){t==="textConfig"?this.setTextConfig(n):t==="textContent"?this.setTextContent(n):t==="clipPath"?this.setClipPath(n):t==="extra"?(this.extra=this.extra||{},Ct(this.extra,n)):this[t]=n},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,n){if(typeof t=="string")this.attrKV(t,n);else if(ar(t))for(var r=t,i=Jr(r),a=0;a<i.length;a++){var o=i[a];this.attrKV(o,t[o])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==LN)){var o=i.targetName,s=o?n[o]:n;i.saveTo(s)}}},e.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||(n=this._normalState={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,NN)},e.prototype._savePrimaryToNormal=function(t,n,r){for(var i=0;i<r.length;i++){var a=r[i];t[a]!=null&&!(a in n)&&(n[a]=this[a])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},e.prototype.clearStates=function(t){this.useState(LN,!1,t)},e.prototype.useState=function(t,n,r,i){var a=t===LN,o=this.hasState();if(!(!o&&a)){var s=this.currentStates,l=this.stateTransition;if(!(Ur(s,t)>=0&&(n||s.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!a){QH("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,n,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(t,n,r,c),d&&d.useState(t,n,r,c),a?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Pu),u}}},e.prototype.useStates=function(t,n,r){if(!t.length)this.clearStates();else{var i=[],a=this.currentStates,o=t.length,s=o===a.length;if(s){for(var l=0;l<o;l++)if(t[l]!==a[l]){s=!1;break}}if(s)return;for(var l=0;l<o;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&i.push(c)}var f=i[o-1],d=!!(f&&f.hoverLayer||r);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(t.join(","),h,this._normalState,!1,!n&&!this.__inHover&&p&&p.duration>0,p);var v=this._textContent,g=this._textGuide;v&&v.useStates(t,n,d),g&&g.useStates(t,n,d),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Pu)}},e.prototype.isSilent=function(){for(var t=this.silent,n=this.parent;!t&&n;){if(n.silent){t=!0;break}n=n.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},e.prototype.removeState=function(t){var n=Ur(this.currentStates,t);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},e.prototype.replaceState=function(t,n,r){var i=this.currentStates.slice(),a=Ur(i,t),o=Ur(i,n)>=0;a>=0?o?i.splice(a,1):i[a]=n:r&&!o&&i.push(n),this.useStates(i)},e.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var n={},r,i=0;i<t.length;i++){var a=t[i];Ct(n,a),a.textConfig&&(r=r||{},Ct(r,a.textConfig))}return r&&(n.textConfig=r),n},e.prototype._applyStateObj=function(t,n,r,i,a,o){var s=!(n&&i);n&&n.textConfig?(this.textConfig=Ct({},i?this.textConfig:r.textConfig),Ct(this.textConfig,n.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,c=0;c<NN.length;c++){var f=NN[c],d=a&&iot[f];n&&n[f]!=null?d?(u=!0,l[f]=n[f]):this[f]=n[f]:s&&r[f]!=null&&(d?(u=!0,l[f]=r[f]):this[f]=r[f])}if(!a)for(var c=0;c<this.animators.length;c++){var h=this.animators[c],p=h.targetName;h.getLoop()||h.__changeFinalValue(p?(n||r)[p]:n||r)}u&&this._transitionState(t,l,o)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new dp,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Ct(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=Pu;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=t),r&&(r.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,n,r){var i=t?this[t]:this,a=new sW(i,n,r);return t&&(a.targetName=t),this.addAnimator(a,t),a},e.prototype.addAnimator=function(t,n){var r=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(n)}).done(function(){var a=i.animators,o=Ur(a,t);o>=0&&a.splice(o,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,n){for(var r=this.animators,i=r.length,a=[],o=0;o<i;o++){var s=r[o];!t||t===s.scope?s.stop(n):a.push(s)}return this.animators=a,this},e.prototype.animateTo=function(t,n,r){BN(this,t,n,r)},e.prototype.animateFrom=function(t,n,r){BN(this,t,n,r,!0)},e.prototype._transitionState=function(t,n,r,i){for(var a=BN(this,n,r,i),o=0;o<a.length;o++)a[o].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Pu;function n(r,i,a,o){Object.defineProperty(t,r,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[a]=l[0],this[o]=l[1],this[i]=l,s(this,l)}});function s(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[o]},set:function(c){l[o]=c}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),e}();Mo(fP,$c);Mo(fP,dp);function BN(e,t,n,r,i){n=n||{};var a=[];y_e(e,"",e,t,n,r,a,i);var o=a.length,s=!1,l=n.done,u=n.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},f=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),a.length>0&&n.during&&a[0].during(function(p,v){n.during(v)});for(var d=0;d<a.length;d++){var h=a[d];c&&h.done(c),f&&h.aborted(f),n.force&&h.duration(n.duration),h.start(n.easing)}return a}function kN(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function oot(e){return nl(e[0])}function sot(e,t,n){if(nl(t[n]))if(nl(e[n])||(e[n]=[]),_u(t[n])){var r=t[n].length;e[n].length!==r&&(e[n]=new t[n].constructor(r),kN(e[n],t[n],r))}else{var i=t[n],a=e[n],o=i.length;if(oot(i))for(var s=i[0].length,l=0;l<o;l++)a[l]?kN(a[l],i[l],s):a[l]=Array.prototype.slice.call(i[l]);else kN(a,i,o);a.length=i.length}else e[n]=t[n]}function lot(e,t){return e===t||nl(e)&&nl(t)&&uot(e,t)}function uot(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function y_e(e,t,n,r,i,a,o,s){for(var l=Jr(r),u=i.duration,c=i.delay,f=i.additive,d=i.setToFinal,h=!ar(a),p=e.animators,v=[],g=0;g<l.length;g++){var m=l[g],b=r[m];if(b!=null&&n[m]!=null&&(h||a[m]))if(ar(b)&&!nl(b)&&!oP(b)){if(t){s||(n[m]=b,e.updateDuringAnimation(t));continue}y_e(e,m,n[m],b,i,a&&a[m],o,s)}else v.push(m);else s||(n[m]=b,e.updateDuringAnimation(t),v.push(m))}var _=v.length;if(!f&&_)for(var x=0;x<p.length;x++){var E=p[x];if(E.targetName===t){var A=E.stopTracks(v);if(A){var T=Ur(p,E);p.splice(T,1)}}}if(i.force||(v=Xi(v,function(D){return!lot(r[D],n[D])}),_=v.length),_>0||i.force&&!o.length){var R=void 0,M=void 0,O=void 0;if(s){M={},d&&(R={});for(var x=0;x<_;x++){var m=v[x];M[m]=n[m],d?R[m]=r[m]:n[m]=r[m]}}else if(d){O={};for(var x=0;x<_;x++){var m=v[x];O[m]=qE(n[m]),sot(n,r,m)}}var E=new sW(n,!1,!1,f?Xi(p,function(C){return C.targetName===t}):null);E.targetName=t,i.scope&&(E.scope=i.scope),d&&R&&E.whenWithKeys(0,R,v),O&&E.whenWithKeys(0,O,v),E.whenWithKeys(u??500,s?M:r,v).delay(c||0),e.addAnimator(E,t),o.push(E)}}var hr=function(e){et(t,e);function t(n){var r=e.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(n){return this._children[n]},t.prototype.childOfName=function(n){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===n)return r[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},t.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,n),this._doAdd(n))}return this},t.prototype.replace=function(n,r){var i=Ur(this._children,n);return i>=0&&this.replaceAt(r,i),this},t.prototype.replaceAt=function(n,r){var i=this._children,a=i[r];if(n&&n!==this&&n.parent!==this&&n!==a){i[r]=n,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(n)}return this},t.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},t.prototype.remove=function(n){var r=this.__zr,i=this._children,a=Ur(i,n);return a<0?this:(i.splice(a,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},t.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,i=0;i<n.length;i++){var a=n[i];r&&a.removeSelfFromZr(r),a.parent=null}return n.length=0,this},t.prototype.eachChild=function(n,r){for(var i=this._children,a=0;a<i.length;a++){var o=i[a];n.call(r,o,a)}return this},t.prototype.traverse=function(n,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],o=n.call(r,a);a.isGroup&&!o&&a.traverse(n,r)}return this},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(n)}},t.prototype.getBoundingRect=function(n){for(var r=new Mr(0,0,0,0),i=n||this._children,a=[],o=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(Mr.applyTransform(r,u,c),o=o||r.clone(),o.union(r)):(o=o||u.clone(),o.union(u))}}return o||r},t}(fP);hr.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var w3={},__e={};function cot(e){delete __e[e]}function fot(e){if(!e)return!1;if(typeof e=="string")return FM(e,1)<SV;if(e.colorStops){for(var t=e.colorStops,n=0,r=t.length,i=0;i<r;i++)n+=FM(t[i].color,1);return n/=r,n<SV}return!1}var dot=function(){function e(t,n,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=t;var a=new Cat,o=r.renderer||"canvas";w3[o]||(o=Jr(w3)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new w3[o](n,a,r,t),l=r.ssr||s.ssrOnly;this.storage=a,this.painter=s;var u=!qr.node&&!qr.worker&&!l?new not(s.getViewportRoot(),s.root):null,c=r.useCoarsePointer,f=c==null||c==="auto"?qr.touchEventsSupported:!!c,d=44,h;f&&(h=Sr(r.pointerSize,d)),this.handler=new Zye(a,s,u,s.root,h),this.animation=new Kat({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=fot(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var n,r=k1();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var i=k1();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,n){if(!this._disposed)return this.handler.findHover(t,n)},e.prototype.on=function(t,n,r){return this._disposed||this.handler.on(t,n,r),this},e.prototype.off=function(t,n){this._disposed||this.handler.off(t,n)},e.prototype.trigger=function(t,n){this._disposed||this.handler.trigger(t,n)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof hr&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,cot(this.id))},e}();function sQ(e,t){var n=new dot(Gye(),e,t);return __e[n.id]=n,n}function hot(e,t){w3[e]=t}var TV;function pot(e){if(typeof TV=="function")return TV(e)}function vot(e){TV=e}var lQ=1e-4,b_e=20;function got(e){return e.replace(/^\s+|\s+$/g,"")}function Wi(e,t,n,r){var i=t[0],a=t[1],o=n[0],s=n[1],l=a-i,u=s-o;if(l===0)return u===0?o:(o+s)/2;if(r)if(l>0){if(e<=i)return o;if(e>=a)return s}else{if(e>=i)return o;if(e<=a)return s}else{if(e===i)return o;if(e===a)return s}return(e-i)/l*u+o}function vn(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return An(e)?got(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function ao(e,t,n){return t==null&&(t=10),t=Math.min(Math.max(0,t),b_e),e=(+e).toFixed(t),n?e:+e}function Mc(e){return e.sort(function(t,n){return t-n}),e}function $d(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,n=0;n<15;n++,t*=10)if(Math.round(e*t)/t===e)return n}return mot(e)}function mot(e){var t=e.toString().toLowerCase(),n=t.indexOf("e"),r=n>0?+t.slice(n+1):0,i=n>0?n:t.length,a=t.indexOf("."),o=a<0?0:i-1-a;return Math.max(0,o-r)}function x_e(e,t){var n=Math.log,r=Math.LN10,i=Math.floor(n(e[1]-e[0])/r),a=Math.round(n(Math.abs(t[1]-t[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function yot(e,t){var n=nh(e,function(h,p){return h+(isNaN(p)?0:p)},0);if(n===0)return[];for(var r=Math.pow(10,t),i=Vt(e,function(h){return(isNaN(h)?0:h)/n*r*100}),a=r*100,o=Vt(i,function(h){return Math.floor(h)}),s=nh(o,function(h,p){return h+p},0),l=Vt(i,function(h,p){return h-o[p]});s<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,f=0,d=l.length;f<d;++f)l[f]>u&&(u=l[f],c=f);++o[c],l[c]=0,++s}return Vt(o,function(h){return h/r})}function _ot(e,t){var n=Math.max($d(e),$d(t)),r=e+t;return n>b_e?r:ao(r,n)}var uQ=9007199254740991;function S_e(e){var t=Math.PI*2;return(e%t+t)%t}function Z2(e){return e>-lQ&&e<lQ}var bot=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ah(e){if(e instanceof Date)return e;if(An(e)){var t=bot.exec(e);if(!t)return new Date(NaN);if(t[8]){var n=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(n-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,n,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function xot(e){return Math.pow(10,lW(e))}function lW(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function A_e(e,t){var n=lW(e),r=Math.pow(10,n),i=e/r,a;return i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10,e=a*r,n>=-20?+e.toFixed(n<0?-n:0):e}function FN(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i}function cQ(e){e.sort(function(l,u){return s(l,u,0)?-1:1});for(var t=-1/0,n=1,r=0;r<e.length;){for(var i=e[r].interval,a=e[r].close,o=0;o<2;o++)i[o]<=t&&(i[o]=t,a[o]=o?1:1-n),t=i[o],n=a[o];i[0]===i[1]&&a[0]*a[1]!==1?e.splice(r,1):r++}return e;function s(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&s(l,u,1))}}function Ip(e){var t=parseFloat(e);return t==e&&(t!==0||!An(e)||e.indexOf("x")<=0)?t:NaN}function E_e(e){return!isNaN(Ip(e))}function T_e(){return Math.round(Math.random()*9)}function w_e(e,t){return t===0?e:w_e(t,e%t)}function fQ(e,t){return e==null?t:t==null?e:e*t/w_e(e,t)}function Li(e){throw new Error(e)}function dQ(e,t,n){return(t-e)*n+e}var C_e="series\0",R_e="\0_ec_\0";function Zi(e){return e instanceof Array?e:e==null?[]:[e]}function gy(e,t,n){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var r=0,i=n.length;r<i;r++){var a=n[r];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}var hQ=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Dx(e){return ar(e)&&!Lt(e)&&!(e instanceof Date)?e.value:e}function Sot(e){return ar(e)&&!(e instanceof Array)}function I_e(e,t,n){var r=n==="normalMerge",i=n==="replaceMerge",a=n==="replaceAll";e=e||[],t=(t||[]).slice();var o=Fn();te(t,function(l,u){if(!ar(l)){t[u]=null;return}});var s=Aot(e,o,n);return(r||i)&&Eot(s,e,o,t),r&&Tot(s,t),r||i?wot(s,t,i):a&&Cot(s,t),Rot(s),s}function Aot(e,t,n){var r=[];if(n==="replaceAll")return r;for(var i=0;i<e.length;i++){var a=e[i];a&&a.id!=null&&t.set(a.id,i),r.push({existing:n==="replaceMerge"||Q2(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function Eot(e,t,n,r){te(r,function(i,a){if(!(!i||i.id==null)){var o=ZE(i.id),s=n.get(o);if(s!=null){var l=e[s];Pl(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=i,l.existing=t[s],r[a]=null}}})}function Tot(e,t){te(t,function(n,r){if(!(!n||n.name==null))for(var i=0;i<e.length;i++){var a=e[i].existing;if(!e[i].newOption&&a&&(a.id==null||n.id==null)&&!Q2(n)&&!Q2(a)&&M_e("name",a,n)){e[i].newOption=n,t[r]=null;return}}})}function wot(e,t,n){te(t,function(r){if(r){for(var i,a=0;(i=e[a])&&(i.newOption||Q2(i.existing)||i.existing&&r.id!=null&&!M_e("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=n):e.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),a++}})}function Cot(e,t){te(t,function(n){e.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function Rot(e){var t=Fn();te(e,function(n){var r=n.existing;r&&t.set(r.id,n)}),te(e,function(n){var r=n.newOption;Pl(!r||r.id==null||!t.get(r.id)||t.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&t.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),te(e,function(n,r){var i=n.existing,a=n.newOption,o=n.keyInfo;if(ar(a)){if(o.name=a.name!=null?ZE(a.name):i?i.name:C_e+r,i)o.id=ZE(i.id);else if(a.id!=null)o.id=ZE(a.id);else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(t.get(o.id))}t.set(o.id,n)}})}function M_e(e,t,n){var r=Uo(t[e],null),i=Uo(n[e],null);return r!=null&&i!=null&&r===i}function ZE(e){return Uo(e,"")}function Uo(e,t){return e==null?t:An(e)?e:yi(e)||rV(e)?e+"":t}function uW(e){var t=e.name;return!!(t&&t.indexOf(C_e))}function Q2(e){return e&&e.id!=null&&ZE(e.id).indexOf(R_e)===0}function Iot(e){return R_e+e}function Mot(e,t,n){te(e,function(r){var i=r.newOption;ar(i)&&(r.keyInfo.mainType=t,r.keyInfo.subType=Oot(t,i,r.existing,n))})}function Oot(e,t,n,r){var i=t.type?t.type:n?n.subType:r.determineSubType(e,t);return i}function Dot(e,t){var n={},r={};return i(e||[],n),i(t||[],r,n),[a(n),a(r)];function i(o,s,l){for(var u=0,c=o.length;u<c;u++){var f=Uo(o[u].seriesId,null);if(f==null)return;for(var d=Zi(o[u].dataIndex),h=l&&l[f],p=0,v=d.length;p<v;p++){var g=d[p];h&&h[g]?h[g]=null:(s[f]||(s[f]={}))[g]=1}}}function a(o,s){var l=[];for(var u in o)if(o.hasOwnProperty(u)&&o[u]!=null)if(s)l.push(+u);else{var c=a(o[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function yy(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Lt(t.dataIndex)?Vt(t.dataIndex,function(n){return e.indexOfRawIndex(n)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Lt(t.name)?Vt(t.name,function(n){return e.indexOfName(n)}):e.indexOfName(t.name)}function ui(){var e="__ec_inner_"+Pot++;return function(t){return t[e]||(t[e]={})}}var Pot=T_e();function QE(e,t,n){var r=cW(t,n),i=r.mainTypeSpecified,a=r.queryOptionMap,o=r.others,s=o,l=n?n.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var f=ow(e,c,u,{useDefault:l===c,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});s[c+"Models"]=f.models,s[c+"Model"]=f.models[0]}),s}function cW(e,t){var n;if(An(e)){var r={};r[e+"Index"]=0,n=r}else n=e;var i=Fn(),a={},o=!1;return te(n,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=s;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],f=(u[2]||"").toLowerCase();if(!(!c||!f||t&&t.includeMainTypes&&Ur(t.includeMainTypes,c)<0)){o=o||!!c;var d=i.get(c)||i.set(c,{});d[f]=s}}),{mainTypeSpecified:o,queryOptionMap:i,others:a}}var wo={useDefault:!0,enableAll:!1,enableNone:!1},Lot={useDefault:!1,enableAll:!0,enableNone:!0};function ow(e,t,n,r){r=r||wo;var i=n.index,a=n.id,o=n.name,s={models:null,specified:i!=null||a!=null||o!=null};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=e.getComponent(t))?[l]:[],s}return i==="none"||i===!1?(Pl(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(Pl(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=o=null),s.models=e.queryComponents({mainType:t,index:i,id:a,name:o}),s)}function O_e(e,t,n){e.setAttribute?e.setAttribute(t,n):e[t]=n}function Not(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function Bot(e){return e==="auto"?qr.domSupported?"html":"richText":e||"html"}function wV(e,t){var n=Fn(),r=[];return te(e,function(i){var a=t(i);(n.get(a)||(r.push(a),n.set(a,[]))).push(i)}),{keys:r,buckets:n}}function D_e(e,t,n,r,i){var a=t==null||t==="auto";if(r==null)return r;if(yi(r)){var o=dQ(n||0,r,i);return ao(o,a?Math.max($d(n||0),$d(r)):t)}else{if(An(r))return i<1?n:r;for(var s=[],l=n,u=r,c=Math.max(l?l.length:0,u.length),f=0;f<c;++f){var d=e.getDimensionInfo(f);if(d&&d.type==="ordinal")s[f]=(i<1&&l?l:u)[f];else{var h=l&&l[f]?l[f]:0,p=u[f],o=dQ(h,p,i);s[f]=ao(o,a?Math.max($d(h),$d(p)):t)}}return s}}var kot=".",Gm="___EC__COMPONENT__CONTAINER___",P_e="___EC__EXTENDED_CLASS___";function Hd(e){var t={main:"",sub:""};if(e){var n=e.split(kot);t.main=n[0]||"",t.sub=n[1]||""}return t}function Fot(e){Pl(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function Uot(e){return!!(e&&e[P_e])}function fW(e,t){e.$constructor=e,e.extend=function(n){var r=this,i;return Vot(r)?i=function(a){et(o,a);function o(){return a.apply(this,arguments)||this}return o}(r):(i=function(){(n.$constructor||r).apply(this,arguments)},Xit(i,this)),Ct(i.prototype,n),i[P_e]=!0,i.extend=this.extend,i.superCall=Hot,i.superApply=Wot,i.superClass=r,i}}function Vot(e){return er(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function L_e(e,t){e.extend=t.extend}var zot=Math.round(Math.random()*10);function $ot(e){var t=["__\0is_clz",zot++].join("_");e.prototype[t]=!0,e.isInstance=function(n){return!!(n&&n[t])}}function Hot(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[t].apply(e,n)}function Wot(e,t,n){return this.superClass.prototype[t].apply(e,n)}function dP(e){var t={};e.registerClass=function(r){var i=r.type||r.prototype.type;if(i){Fot(i),r.prototype.type=i;var a=Hd(i);if(!a.sub)t[a.main]=r;else if(a.sub!==Gm){var o=n(a);o[a.sub]=r}}return r},e.getClass=function(r,i,a){var o=t[r];if(o&&o[Gm]&&(o=i?o[i]:null),a&&!o)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return o},e.getClassesByMainType=function(r){var i=Hd(r),a=[],o=t[i.main];return o&&o[Gm]?te(o,function(s,l){l!==Gm&&a.push(s)}):a.push(o),a},e.hasClass=function(r){var i=Hd(r);return!!t[i.main]},e.getAllClassMainTypes=function(){var r=[];return te(t,function(i,a){r.push(a)}),r},e.hasSubTypes=function(r){var i=Hd(r),a=t[i.main];return a&&a[Gm]};function n(r){var i=t[r.main];return(!i||!i[Gm])&&(i=t[r.main]={},i[Gm]=!0),i}}function _y(e,t){for(var n=0;n<e.length;n++)e[n][1]||(e[n][1]=e[n][0]);return t=t||!1,function(r,i,a){for(var o={},s=0;s<e.length;s++){var l=e[s][1];if(!(i&&Ur(i,l)>=0||a&&Ur(a,l)<0)){var u=r.getShallow(l,t);u!=null&&(o[e[s][0]]=u)}}return o}}var Got=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],jot=_y(Got),Yot=function(){function e(){}return e.prototype.getAreaStyle=function(t,n){return jot(this,t,n)},e}(),CV=new iw(50);function Xot(e){if(typeof e=="string"){var t=CV.get(e);return t&&t.image}else return e}function dW(e,t,n,r,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!n)return t;var a=CV.get(e),o={hostEl:n,cb:r,cbPayload:i};return a?(t=a.image,!hP(t)&&a.pending.push(o)):(t=Ug.loadImage(e,pQ,pQ),t.__zrImageSrc=e,CV.put(e,t.__cachedImgObj={image:t,pending:[o]})),t}else return e;else return t}function pQ(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var n=e.pending[t],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}e.pending.length=0}function hP(e){return e&&e.width&&e.height}var UN=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Kot(e,t,n,r,i){if(!t)return"";var a=(e+"").split(`
`);i=N_e(t,n,r,i);for(var o=0,s=a.length;o<s;o++)a[o]=B_e(a[o],i);return a.join(`
`)}function N_e(e,t,n,r){r=r||{};var i=Ct({},r);i.font=t,n=Sr(n,"..."),i.maxIterations=Sr(r.maxIterations,2);var a=i.minChar=Sr(r.minChar,0);i.cnCharWidth=Wu("国",t);var o=i.ascCharWidth=Wu("a",t);i.placeholder=Sr(r.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<a&&s>=o;l++)s-=o;var u=Wu(n,t);return u>s&&(n="",u=0),s=e-u,i.ellipsis=n,i.ellipsisWidth=u,i.contentWidth=s,i.containerWidth=e,i}function B_e(e,t){var n=t.containerWidth,r=t.font,i=t.contentWidth;if(!n)return"";var a=Wu(e,r);if(a<=n)return e;for(var o=0;;o++){if(a<=i||o>=t.maxIterations){e+=t.ellipsis;break}var s=o===0?qot(e,i,t.ascCharWidth,t.cnCharWidth):a>0?Math.floor(e.length*i/a):0;e=e.substr(0,s),a=Wu(e,r)}return e===""&&(e=t.placeholder),e}function qot(e,t,n,r){for(var i=0,a=0,o=e.length;a<o&&i<t;a++){var s=e.charCodeAt(a);i+=0<=s&&s<=127?n:r}return a}function Zot(e,t){e!=null&&(e+="");var n=t.overflow,r=t.padding,i=t.font,a=n==="truncate",o=cP(i),s=Sr(t.lineHeight,o),l=!!t.backgroundColor,u=t.lineOverflow==="truncate",c=t.width,f;c!=null&&(n==="break"||n==="breakAll")?f=e?k_e(e,t.font,c,n==="breakAll",0).lines:[]:f=e?e.split(`
`):[];var d=f.length*s,h=Sr(t.height,d);if(d>h&&u){var p=Math.floor(h/s);f=f.slice(0,p)}if(e&&a&&c!=null)for(var v=N_e(c,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),g=0;g<f.length;g++)f[g]=B_e(f[g],v);for(var m=h,b=0,g=0;g<f.length;g++)b=Math.max(Wu(f[g],i),b);c==null&&(c=b);var _=b;return r&&(m+=r[0]+r[2],_+=r[1]+r[3],c+=r[1]+r[3]),l&&(_=c),{lines:f,height:h,outerWidth:_,outerHeight:m,lineHeight:s,calculatedLineHeight:o,contentWidth:b,contentHeight:d,width:c}}var Qot=function(){function e(){}return e}(),vQ=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),Jot=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return e}();function est(e,t){var n=new Jot;if(e!=null&&(e+=""),!e)return n;for(var r=t.width,i=t.height,a=t.overflow,o=(a==="break"||a==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:a==="breakAll"}:null,s=UN.lastIndex=0,l;(l=UN.exec(e))!=null;){var u=l.index;u>s&&VN(n,e.substring(s,u),t,o),VN(n,l[2],t,o,l[1]),s=UN.lastIndex}s<e.length&&VN(n,e.substring(s,e.length),t,o);var c=[],f=0,d=0,h=t.padding,p=a==="truncate",v=t.lineOverflow==="truncate";function g(N,V,W){N.width=V,N.lineHeight=W,f+=W,d=Math.max(d,V)}e:for(var m=0;m<n.lines.length;m++){for(var b=n.lines[m],_=0,x=0,E=0;E<b.tokens.length;E++){var A=b.tokens[E],T=A.styleName&&t.rich[A.styleName]||{},R=A.textPadding=T.padding,M=R?R[1]+R[3]:0,O=A.font=T.font||t.font;A.contentHeight=cP(O);var D=Sr(T.height,A.contentHeight);if(A.innerHeight=D,R&&(D+=R[0]+R[2]),A.height=D,A.lineHeight=Xd(T.lineHeight,t.lineHeight,D),A.align=T&&T.align||t.align,A.verticalAlign=T&&T.verticalAlign||"middle",v&&i!=null&&f+A.lineHeight>i){E>0?(b.tokens=b.tokens.slice(0,E),g(b,x,_),n.lines=n.lines.slice(0,m+1)):n.lines=n.lines.slice(0,m);break e}var C=T.width,P=C==null||C==="auto";if(typeof C=="string"&&C.charAt(C.length-1)==="%")A.percentWidth=C,c.push(A),A.contentWidth=Wu(A.text,O);else{if(P){var B=T.backgroundColor,U=B&&B.image;U&&(U=Xot(U),hP(U)&&(A.width=Math.max(A.width,U.width*D/U.height)))}var L=p&&r!=null?r-x:null;L!=null&&L<A.width?!P||L<M?(A.text="",A.width=A.contentWidth=0):(A.text=Kot(A.text,L-M,O,t.ellipsis,{minChar:t.truncateMinChar}),A.width=A.contentWidth=Wu(A.text,O)):A.contentWidth=Wu(A.text,O)}A.width+=M,x+=A.width,T&&(_=Math.max(_,A.lineHeight))}g(b,x,_)}n.outerWidth=n.width=Sr(r,d),n.outerHeight=n.height=Sr(i,f),n.contentHeight=f,n.contentWidth=d,h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(var m=0;m<c.length;m++){var A=c[m],F=A.percentWidth;A.width=parseInt(F,10)/100*n.width}return n}function VN(e,t,n,r,i){var a=t==="",o=i&&n.rich[i]||{},s=e.lines,l=o.font||n.font,u=!1,c,f;if(r){var d=o.padding,h=d?d[1]+d[3]:0;if(o.width!=null&&o.width!=="auto"){var p=Qf(o.width,r.width)+h;s.length>0&&p+r.accumWidth>r.width&&(c=t.split(`
`),u=!0),r.accumWidth=p}else{var v=k_e(t,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=v.accumWidth+h,f=v.linesWidths,c=v.lines}}else c=t.split(`
`);for(var g=0;g<c.length;g++){var m=c[g],b=new Qot;if(b.styleName=i,b.text=m,b.isLineHolder=!m&&!a,typeof o.width=="number"?b.width=o.width:b.width=f?f[g]:Wu(m,l),!g&&!u){var _=(s[s.length-1]||(s[0]=new vQ)).tokens,x=_.length;x===1&&_[0].isLineHolder?_[0]=b:(m||!x||a)&&_.push(b)}else s.push(new vQ([b]))}}function tst(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var nst=nh(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function rst(e){return tst(e)?!!nst[e]:!0}function k_e(e,t,n,r,i){for(var a=[],o=[],s="",l="",u=0,c=0,f=0;f<e.length;f++){var d=e.charAt(f);if(d===`
`){l&&(s+=l,c+=u),a.push(s),o.push(c),s="",l="",u=0,c=0;continue}var h=Wu(d,t),p=r?!1:!rst(d);if(a.length?c+h>n:i+c+h>n){c?(s||l)&&(p?(s||(s=l,l="",u=0,c=u),a.push(s),o.push(c-u),l+=d,u+=h,s="",c=u):(l&&(s+=l,l="",u=0),a.push(s),o.push(c),s=d,c=h)):p?(a.push(l),o.push(u),l=d,u=h):(a.push(d),o.push(h));continue}c+=h,p?(l+=d,u+=h):(l&&(s+=l,l="",u=0),s+=d)}return!a.length&&!s&&(s=e,l="",u=0),l&&(s+=l),s&&(a.push(s),o.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:o}}var RV="__zr_style_"+Math.round(Math.random()*10),Z0={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},pP={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Z0[RV]=!0;var gQ=["z","z2","invisible"],ist=["invisible"],Uc=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype._init=function(n){for(var r=Jr(n),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(n[a]):e.prototype.attrKV.call(this,a,n[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(n,r,i,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&ast(this,n,r)||o&&!o[0]&&!o[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(n,r){return this.rectContain(n,r)},t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.rectContain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new Mr(0,0,0,0)),r?Mr.applyTransform(n,i,r):n.copy(i),(o||s||l)&&(n.width+=o*2+Math.abs(s),n.height+=o*2+Math.abs(l),n.x=Math.min(n.x,n.x+s-o),n.y=Math.min(n.y,n.y+l-o));var u=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-u),n.y=Math.floor(n.y-u),n.width=Math.ceil(n.width+1+u*2),n.height=Math.ceil(n.height+1+u*2))}return n},t.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new Mr(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(n){return this.animate("style",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(n,r){n!=="style"?e.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:Ct(this.style,n),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=aE,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&aE)},t.prototype.styleUpdated=function(){this.__dirty&=~aE},t.prototype.createStyle=function(n){return sP(Z0,n)},t.prototype.useStyle=function(n){n[RV]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},t.prototype.isStyleObject=function(n){return n[RV]},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,gQ)},t.prototype._applyStateObj=function(n,r,i,a,o,s){e.prototype._applyStateObj.call(this,n,r,i,a,o,s);var l=!(r&&a),u;if(r&&r.style?o?a?u=r.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,r.style)):l&&(u=i.style),u)if(o){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var f=Jr(c),d=0;d<f.length;d++){var h=f[d];h in u&&(u[h]=u[h],this.style[h]=c[h])}for(var p=Jr(u),d=0;d<p.length;d++){var h=p[d];this.style[h]=this.style[h]}this._transitionState(n,{style:u},s,this.getAnimationStyleProps())}else this.useStyle(u);for(var v=this.__inHover?ist:gQ,d=0;d<v.length;d++){var h=v[d];r&&r[h]!=null?this[h]=r[h]:l&&i[h]!=null&&(this[h]=i[h])}},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),i,a=0;a<n.length;a++){var o=n[a];o.style&&(i=i||{},this._mergeStyle(i,o.style))}return i&&(r.style=i),r},t.prototype._mergeStyle=function(n,r){return Ct(n,r),n},t.prototype.getAnimationStyleProps=function(){return pP},t.initDefaultProps=function(){var n=t.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=Pu|aE}(),t}(fP),zN=new Mr(0,0,0,0),$N=new Mr(0,0,0,0);function ast(e,t,n){return zN.copy(e.getBoundingRect()),e.transform&&zN.applyTransform(e.transform),$N.width=t,$N.height=n,!zN.intersect($N)}var cu=Math.min,fu=Math.max,HN=Math.sin,WN=Math.cos,jm=Math.PI*2,wR=Fy(),CR=Fy(),RR=Fy();function vP(e,t,n){if(e.length!==0){for(var r=e[0],i=r[0],a=r[0],o=r[1],s=r[1],l=1;l<e.length;l++)r=e[l],i=cu(i,r[0]),a=fu(a,r[0]),o=cu(o,r[1]),s=fu(s,r[1]);t[0]=i,t[1]=o,n[0]=a,n[1]=s}}function mQ(e,t,n,r,i,a){i[0]=cu(e,n),i[1]=cu(t,r),a[0]=fu(e,n),a[1]=fu(t,r)}var yQ=[],_Q=[];function ost(e,t,n,r,i,a,o,s,l,u){var c=n_e,f=Yo,d=c(e,n,i,o,yQ);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var h=0;h<d;h++){var p=f(e,n,i,o,yQ[h]);l[0]=cu(p,l[0]),u[0]=fu(p,u[0])}d=c(t,r,a,s,_Q);for(var h=0;h<d;h++){var v=f(t,r,a,s,_Q[h]);l[1]=cu(v,l[1]),u[1]=fu(v,u[1])}l[0]=cu(e,l[0]),u[0]=fu(e,u[0]),l[0]=cu(o,l[0]),u[0]=fu(o,u[0]),l[1]=cu(t,l[1]),u[1]=fu(t,u[1]),l[1]=cu(s,l[1]),u[1]=fu(s,u[1])}function sst(e,t,n,r,i,a,o,s){var l=i_e,u=fs,c=fu(cu(l(e,n,i),1),0),f=fu(cu(l(t,r,a),1),0),d=u(e,n,i,c),h=u(t,r,a,f);o[0]=cu(e,i,d),o[1]=cu(t,a,h),s[0]=fu(e,i,d),s[1]=fu(t,a,h)}function lst(e,t,n,r,i,a,o,s,l){var u=og,c=sg,f=Math.abs(i-a);if(f%jm<1e-4&&f>1e-4){s[0]=e-n,s[1]=t-r,l[0]=e+n,l[1]=t+r;return}if(wR[0]=WN(i)*n+e,wR[1]=HN(i)*r+t,CR[0]=WN(a)*n+e,CR[1]=HN(a)*r+t,u(s,wR,CR),c(l,wR,CR),i=i%jm,i<0&&(i=i+jm),a=a%jm,a<0&&(a=a+jm),i>a&&!o?a+=jm:i<a&&o&&(i+=jm),o){var d=a;a=i,i=d}for(var h=0;h<a;h+=Math.PI/2)h>i&&(RR[0]=WN(h)*n+e,RR[1]=HN(h)*r+t,u(s,RR,s),c(l,RR,l))}var ia={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ym=[],Xm=[],Td=[],Ev=[],wd=[],Cd=[],GN=Math.min,jN=Math.max,Km=Math.cos,qm=Math.sin,Zh=Math.abs,IV=Math.PI,Hv=IV*2,YN=typeof Float32Array<"u",aA=[];function XN(e){var t=Math.round(e/IV*1e8)/1e8;return t%2*IV}function hW(e,t){var n=XN(e[0]);n<0&&(n+=Hv);var r=n-e[0],i=e[1];i+=r,!t&&i-n>=Hv?i=n+Hv:t&&n-i>=Hv?i=n-Hv:!t&&n>i?i=n+(Hv-XN(n-i)):t&&n<i&&(i=n-(Hv-XN(i-n))),e[0]=n,e[1]=i}var oh=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,n,r){r=r||0,r>0&&(this._ux=Zh(r/VM/t)||0,this._uy=Zh(r/VM/n)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(ia.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},e.prototype.lineTo=function(t,n){var r=Zh(t-this._xi),i=Zh(n-this._yi),a=r>this._ux||i>this._uy;if(this.addData(ia.L,t,n),this._ctx&&a&&this._ctx.lineTo(t,n),a)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var o=r*r+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(t,n,r,i,a,o){return this._drawPendingPt(),this.addData(ia.C,t,n,r,i,a,o),this._ctx&&this._ctx.bezierCurveTo(t,n,r,i,a,o),this._xi=a,this._yi=o,this},e.prototype.quadraticCurveTo=function(t,n,r,i){return this._drawPendingPt(),this.addData(ia.Q,t,n,r,i),this._ctx&&this._ctx.quadraticCurveTo(t,n,r,i),this._xi=r,this._yi=i,this},e.prototype.arc=function(t,n,r,i,a,o){this._drawPendingPt(),aA[0]=i,aA[1]=a,hW(aA,o),i=aA[0],a=aA[1];var s=a-i;return this.addData(ia.A,t,n,r,r,i,s,0,o?0:1),this._ctx&&this._ctx.arc(t,n,r,i,a,o),this._xi=Km(a)*r+t,this._yi=qm(a)*r+n,this},e.prototype.arcTo=function(t,n,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,r,i,a),this},e.prototype.rect=function(t,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,r,i),this.addData(ia.R,t,n,r,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(ia.Z);var t=this._ctx,n=this._x0,r=this._y0;return t&&t.closePath(),this._xi=n,this._yi=r,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&YN&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=t[r];this._len=n},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,r=0,i=this._len,a=0;a<n;a++)r+=t[a].len();YN&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var a=0;a<n;a++)for(var o=t[a].data,s=0;s<o.length;s++)this.data[i++]=o[s];this._len=i},e.prototype.addData=function(t,n,r,i,a,o,s,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var f=0;f<arguments.length;f++)c[this._len++]=arguments[f]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,YN&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){Td[0]=Td[1]=wd[0]=wd[1]=Number.MAX_VALUE,Ev[0]=Ev[1]=Cd[0]=Cd[1]=-Number.MAX_VALUE;var t=this.data,n=0,r=0,i=0,a=0,o;for(o=0;o<this._len;){var s=t[o++],l=o===1;switch(l&&(n=t[o],r=t[o+1],i=n,a=r),s){case ia.M:n=i=t[o++],r=a=t[o++],wd[0]=i,wd[1]=a,Cd[0]=i,Cd[1]=a;break;case ia.L:mQ(n,r,t[o],t[o+1],wd,Cd),n=t[o++],r=t[o++];break;case ia.C:ost(n,r,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],wd,Cd),n=t[o++],r=t[o++];break;case ia.Q:sst(n,r,t[o++],t[o++],t[o],t[o+1],wd,Cd),n=t[o++],r=t[o++];break;case ia.A:var u=t[o++],c=t[o++],f=t[o++],d=t[o++],h=t[o++],p=t[o++]+h;o+=1;var v=!t[o++];l&&(i=Km(h)*f+u,a=qm(h)*d+c),lst(u,c,f,d,h,p,v,wd,Cd),n=Km(p)*f+u,r=qm(p)*d+c;break;case ia.R:i=n=t[o++],a=r=t[o++];var g=t[o++],m=t[o++];mQ(i,a,i+g,a+m,wd,Cd);break;case ia.Z:n=i,r=a;break}og(Td,Td,wd),sg(Ev,Ev,Cd)}return o===0&&(Td[0]=Td[1]=Ev[0]=Ev[1]=0),new Mr(Td[0],Td[1],Ev[0]-Td[0],Ev[1]-Td[1])},e.prototype._calculateLength=function(){var t=this.data,n=this._len,r=this._ux,i=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,f=0,d=0;d<n;){var h=t[d++],p=d===1;p&&(a=t[d],o=t[d+1],s=a,l=o);var v=-1;switch(h){case ia.M:a=s=t[d++],o=l=t[d++];break;case ia.L:{var g=t[d++],m=t[d++],b=g-a,_=m-o;(Zh(b)>r||Zh(_)>i||d===n-1)&&(v=Math.sqrt(b*b+_*_),a=g,o=m);break}case ia.C:{var x=t[d++],E=t[d++],g=t[d++],m=t[d++],A=t[d++],T=t[d++];v=Rat(a,o,x,E,g,m,A,T,10),a=A,o=T;break}case ia.Q:{var x=t[d++],E=t[d++],g=t[d++],m=t[d++];v=Mat(a,o,x,E,g,m,10),a=g,o=m;break}case ia.A:var R=t[d++],M=t[d++],O=t[d++],D=t[d++],C=t[d++],P=t[d++],B=P+C;d+=1,p&&(s=Km(C)*O+R,l=qm(C)*D+M),v=jN(O,D)*GN(Hv,Math.abs(P)),a=Km(B)*O+R,o=qm(B)*D+M;break;case ia.R:{s=a=t[d++],l=o=t[d++];var U=t[d++],L=t[d++];v=U*2+L*2;break}case ia.Z:{var b=s-a,_=l-o;v=Math.sqrt(b*b+_*_),a=s,o=l;break}}v>=0&&(u[f++]=v,c+=v)}return this._pathLen=c,c},e.prototype.rebuildPath=function(t,n){var r=this.data,i=this._ux,a=this._uy,o=this._len,s,l,u,c,f,d,h=n<1,p,v,g=0,m=0,b,_=0,x,E;if(!(h&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,v=this._pathLen,b=n*v,!b)))e:for(var A=0;A<o;){var T=r[A++],R=A===1;switch(R&&(u=r[A],c=r[A+1],s=u,l=c),T!==ia.L&&_>0&&(t.lineTo(x,E),_=0),T){case ia.M:s=u=r[A++],l=c=r[A++],t.moveTo(u,c);break;case ia.L:{f=r[A++],d=r[A++];var M=Zh(f-u),O=Zh(d-c);if(M>i||O>a){if(h){var D=p[m++];if(g+D>b){var C=(b-g)/D;t.lineTo(u*(1-C)+f*C,c*(1-C)+d*C);break e}g+=D}t.lineTo(f,d),u=f,c=d,_=0}else{var P=M*M+O*O;P>_&&(x=f,E=d,_=P)}break}case ia.C:{var B=r[A++],U=r[A++],L=r[A++],F=r[A++],N=r[A++],V=r[A++];if(h){var D=p[m++];if(g+D>b){var C=(b-g)/D;Vg(u,B,L,N,C,Ym),Vg(c,U,F,V,C,Xm),t.bezierCurveTo(Ym[1],Xm[1],Ym[2],Xm[2],Ym[3],Xm[3]);break e}g+=D}t.bezierCurveTo(B,U,L,F,N,V),u=N,c=V;break}case ia.Q:{var B=r[A++],U=r[A++],L=r[A++],F=r[A++];if(h){var D=p[m++];if(g+D>b){var C=(b-g)/D;X2(u,B,L,C,Ym),X2(c,U,F,C,Xm),t.quadraticCurveTo(Ym[1],Xm[1],Ym[2],Xm[2]);break e}g+=D}t.quadraticCurveTo(B,U,L,F),u=L,c=F;break}case ia.A:var W=r[A++],G=r[A++],K=r[A++],q=r[A++],ue=r[A++],he=r[A++],Ce=r[A++],ee=!r[A++],de=K>q?K:q,oe=Zh(K-q)>.001,pe=ue+he,me=!1;if(h){var D=p[m++];g+D>b&&(pe=ue+he*(b-g)/D,me=!0),g+=D}if(oe&&t.ellipse?t.ellipse(W,G,K,q,Ce,ue,pe,ee):t.arc(W,G,de,ue,pe,ee),me)break e;R&&(s=Km(ue)*K+W,l=qm(ue)*q+G),u=Km(pe)*K+W,c=qm(pe)*q+G;break;case ia.R:s=u=r[A],l=c=r[A+1],f=r[A++],d=r[A++];var re=r[A++],ne=r[A++];if(h){var D=p[m++];if(g+D>b){var se=b-g;t.moveTo(f,d),t.lineTo(f+GN(se,re),d),se-=re,se>0&&t.lineTo(f+re,d+GN(se,ne)),se-=ne,se>0&&t.lineTo(f+jN(re-se,0),d+ne),se-=re,se>0&&t.lineTo(f,d+jN(ne-se,0));break e}g+=D}t.rect(f,d,re,ne);break;case ia.Z:if(h){var D=p[m++];if(g+D>b){var C=(b-g)/D;t.lineTo(u*(1-C)+s*C,c*(1-C)+l*C);break e}g+=D}t.closePath(),u=s,c=l}}},e.prototype.clone=function(){var t=new e,n=this.data;return t.data=n.slice?n.slice():Array.prototype.slice.call(n),t._len=this._len,t},e.CMD=ia,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function Kv(e,t,n,r,i,a,o){if(i===0)return!1;var s=i,l=0,u=e;if(o>t+s&&o>r+s||o<t-s&&o<r-s||a>e+s&&a>n+s||a<e-s&&a<n-s)return!1;if(e!==n)l=(t-r)/(e-n),u=(e*r-n*t)/(e-n);else return Math.abs(a-e)<=s/2;var c=l*a-o+u,f=c*c/(l*l+1);return f<=s/2*s/2}function ust(e,t,n,r,i,a,o,s,l,u,c){if(l===0)return!1;var f=l;if(c>t+f&&c>r+f&&c>a+f&&c>s+f||c<t-f&&c<r-f&&c<a-f&&c<s-f||u>e+f&&u>n+f&&u>i+f&&u>o+f||u<e-f&&u<n-f&&u<i-f&&u<o-f)return!1;var d=r_e(e,t,n,r,i,a,o,s,u,c,null);return d<=f/2}function F_e(e,t,n,r,i,a,o,s,l){if(o===0)return!1;var u=o;if(l>t+u&&l>r+u&&l>a+u||l<t-u&&l<r-u&&l<a-u||s>e+u&&s>n+u&&s>i+u||s<e-u&&s<n-u&&s<i-u)return!1;var c=a_e(e,t,n,r,i,a,s,l,null);return c<=u/2}var bQ=Math.PI*2;function Bu(e){return e%=bQ,e<0&&(e+=bQ),e}var oA=Math.PI*2;function cst(e,t,n,r,i,a,o,s,l){if(o===0)return!1;var u=o;s-=e,l-=t;var c=Math.sqrt(s*s+l*l);if(c-u>n||c+u<n)return!1;if(Math.abs(r-i)%oA<1e-4)return!0;if(a){var f=r;r=Bu(i),i=Bu(f)}else r=Bu(r),i=Bu(i);r>i&&(i+=oA);var d=Math.atan2(l,s);return d<0&&(d+=oA),d>=r&&d<=i||d+oA>=r&&d+oA<=i}function rp(e,t,n,r,i,a){if(a>t&&a>r||a<t&&a<r||r===t)return 0;var o=(a-t)/(r-t),s=r<t?1:-1;(o===1||o===0)&&(s=r<t?.5:-.5);var l=o*(n-e)+e;return l===i?1/0:l>i?s:0}var Tv=oh.CMD,Zm=Math.PI*2,fst=1e-4;function dst(e,t){return Math.abs(e-t)<fst}var bl=[-1,-1,-1],yc=[-1,-1];function hst(){var e=yc[0];yc[0]=yc[1],yc[1]=e}function pst(e,t,n,r,i,a,o,s,l,u){if(u>t&&u>r&&u>a&&u>s||u<t&&u<r&&u<a&&u<s)return 0;var c=BM(t,r,a,s,u,bl);if(c===0)return 0;for(var f=0,d=-1,h=void 0,p=void 0,v=0;v<c;v++){var g=bl[v],m=g===0||g===1?.5:1,b=Yo(e,n,i,o,g);b<l||(d<0&&(d=n_e(t,r,a,s,yc),yc[1]<yc[0]&&d>1&&hst(),h=Yo(t,r,a,s,yc[0]),d>1&&(p=Yo(t,r,a,s,yc[1]))),d===2?g<yc[0]?f+=h<t?m:-m:g<yc[1]?f+=p<h?m:-m:f+=s<p?m:-m:g<yc[0]?f+=h<t?m:-m:f+=s<h?m:-m)}return f}function vst(e,t,n,r,i,a,o,s){if(s>t&&s>r&&s>a||s<t&&s<r&&s<a)return 0;var l=Iat(t,r,a,s,bl);if(l===0)return 0;var u=i_e(t,r,a);if(u>=0&&u<=1){for(var c=0,f=fs(t,r,a,u),d=0;d<l;d++){var h=bl[d]===0||bl[d]===1?.5:1,p=fs(e,n,i,bl[d]);p<o||(bl[d]<u?c+=f<t?h:-h:c+=a<f?h:-h)}return c}else{var h=bl[0]===0||bl[0]===1?.5:1,p=fs(e,n,i,bl[0]);return p<o?0:a<t?h:-h}}function gst(e,t,n,r,i,a,o,s){if(s-=t,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);bl[0]=-l,bl[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u>=Zm-1e-4){r=0,i=Zm;var c=a?1:-1;return o>=bl[0]+e&&o<=bl[1]+e?c:0}if(r>i){var f=r;r=i,i=f}r<0&&(r+=Zm,i+=Zm);for(var d=0,h=0;h<2;h++){var p=bl[h];if(p+e>o){var v=Math.atan2(s,p),c=a?1:-1;v<0&&(v=Zm+v),(v>=r&&v<=i||v+Zm>=r&&v+Zm<=i)&&(v>Math.PI/2&&v<Math.PI*1.5&&(c=-c),d+=c)}}return d}function U_e(e,t,n,r,i){for(var a=e.data,o=e.len(),s=0,l=0,u=0,c=0,f=0,d,h,p=0;p<o;){var v=a[p++],g=p===1;switch(v===Tv.M&&p>1&&(n||(s+=rp(l,u,c,f,r,i))),g&&(l=a[p],u=a[p+1],c=l,f=u),v){case Tv.M:c=a[p++],f=a[p++],l=c,u=f;break;case Tv.L:if(n){if(Kv(l,u,a[p],a[p+1],t,r,i))return!0}else s+=rp(l,u,a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case Tv.C:if(n){if(ust(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],t,r,i))return!0}else s+=pst(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case Tv.Q:if(n){if(F_e(l,u,a[p++],a[p++],a[p],a[p+1],t,r,i))return!0}else s+=vst(l,u,a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],u=a[p++];break;case Tv.A:var m=a[p++],b=a[p++],_=a[p++],x=a[p++],E=a[p++],A=a[p++];p+=1;var T=!!(1-a[p++]);d=Math.cos(E)*_+m,h=Math.sin(E)*x+b,g?(c=d,f=h):s+=rp(l,u,d,h,r,i);var R=(r-m)*x/_+m;if(n){if(cst(m,b,x,E,E+A,T,t,R,i))return!0}else s+=gst(m,b,x,E,E+A,T,R,i);l=Math.cos(E+A)*_+m,u=Math.sin(E+A)*x+b;break;case Tv.R:c=l=a[p++],f=u=a[p++];var M=a[p++],O=a[p++];if(d=c+M,h=f+O,n){if(Kv(c,f,d,f,t,r,i)||Kv(d,f,d,h,t,r,i)||Kv(d,h,c,h,t,r,i)||Kv(c,h,c,f,t,r,i))return!0}else s+=rp(d,f,d,h,r,i),s+=rp(c,h,c,f,r,i);break;case Tv.Z:if(n){if(Kv(l,u,c,f,t,r,i))return!0}else s+=rp(l,u,c,f,r,i);l=c,u=f;break}}return!n&&!dst(u,f)&&(s+=rp(l,u,c,f,r,i)||0),s!==0}function mst(e,t,n){return U_e(e,0,!1,t,n)}function yst(e,t,n,r){return U_e(e,t,!0,n,r)}var $M=tr({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Z0),_st={style:tr({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},pP.style)},KN=ih.concat(["invisible","culling","z","z2","zlevel","parent"]),Wr=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.update=function(){var n=this;e.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(l){n.buildPath(l,n.shape)}),i.silent=!0;var a=i.style;for(var o in r)a[o]!==r[o]&&(a[o]=r[o]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var s=0;s<KN.length;++s)i[KN[s]]=this[KN[s]];i.__dirty|=Pu}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(n){var r=Jr(n);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var o=r[a],s=n[o];o==="style"?this.style?Ct(this.style,s):this.useStyle(s):o==="shape"?Ct(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(An(n)){var r=FM(n,0);return r>.5?AV:r>.2?rot:EV}else if(n)return EV}return AV},t.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(An(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),o=FM(n,0)<SV;if(a===o)return r}},t.prototype.buildPath=function(n,r,i){},t.prototype.pathUpdated=function(){this.__dirty&=~w1},t.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},t.prototype.createPathProxy=function(){this.path=new oh(!1)},t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,i=!n;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&w1)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),n=o.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||i){s.copy(n);var l=r.strokeNoScale?this.getLineScale():1,u=r.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(s.width+=u/l,s.height+=u/l,s.x-=u/l/2,s.y-=u/l/2)}return s}return n},t.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect(),o=this.style;if(n=i[0],r=i[1],a.contain(n,r)){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,u=o.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),yst(s,l/u,n,r)))return!0}if(this.hasFill())return mst(s,n,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=w1,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(n){return this.animate("shape",n)},t.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):e.prototype.attrKV.call(this,n,r)},t.prototype.setShape=function(n,r){var i=this.shape;return i||(i=this.shape={}),typeof n=="string"?i[n]=r:Ct(i,n),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&w1)},t.prototype.createStyle=function(n){return sP($M,n)},t.prototype._innerSaveToNormal=function(n){e.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=Ct({},this.shape))},t.prototype._applyStateObj=function(n,r,i,a,o,s){e.prototype._applyStateObj.call(this,n,r,i,a,o,s);var l=!(r&&a),u;if(r&&r.shape?o?a?u=r.shape:(u=Ct({},i.shape),Ct(u,r.shape)):(u=Ct({},a?this.shape:i.shape),Ct(u,r.shape)):l&&(u=i.shape),u)if(o){this.shape=Ct({},this.shape);for(var c={},f=Jr(u),d=0;d<f.length;d++){var h=f[d];typeof u[h]=="object"?this.shape[h]=u[h]:c[h]=u[h]}this._transitionState(n,{shape:c},s)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(n){for(var r=e.prototype._mergeStates.call(this,n),i,a=0;a<n.length;a++){var o=n[a];o.shape&&(i=i||{},this._mergeStyle(i,o.shape))}return i&&(r.shape=i),r},t.prototype.getAnimationStyleProps=function(){return _st},t.prototype.isZeroArea=function(){return!1},t.extend=function(n){var r=function(a){et(o,a);function o(s){var l=a.call(this,s)||this;return n.init&&n.init.call(l,s),l}return o.prototype.getDefaultStyle=function(){return sr(n.style)},o.prototype.getDefaultShape=function(){return sr(n.shape)},o}(t);for(var i in n)typeof n[i]=="function"&&(r.prototype[i]=n[i]);return r},t.initDefaultProps=function(){var n=t.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=Pu|aE|w1}(),t}(Uc),bst=tr({strokeFirst:!0,font:Fg,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},$M),Wb=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},t.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},t.prototype.createStyle=function(n){return sP(bst,n)},t.prototype.setBoundingRect=function(n){this._rect=n},t.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var i=aw(r,n.font,n.textAlign,n.textBaseline);if(i.x+=n.x||0,i.y+=n.y||0,this.hasStroke()){var a=n.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},t.initDefaultProps=function(){var n=t.prototype;n.dirtyRectTolerance=10}(),t}(Uc);Wb.prototype.type="tspan";var xst=tr({x:0,y:0},Z0),Sst={style:tr({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},pP.style)};function Ast(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var ms=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(n){return sP(xst,n)},t.prototype._getSize=function(n){var r=this.style,i=r[n];if(i!=null)return i;var a=Ast(r.image)?r.image:this.__image;if(!a)return 0;var o=n==="width"?"height":"width",s=r[o];return s==null?a[n]:a[n]/a[o]*s},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Sst},t.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new Mr(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},t}(Uc);ms.prototype.type="image";function Est(e,t){var n=t.x,r=t.y,i=t.width,a=t.height,o=t.r,s,l,u,c;i<0&&(n=n+i,i=-i),a<0&&(r=r+a,a=-a),typeof o=="number"?s=l=u=c=o:o instanceof Array?o.length===1?s=l=u=c=o[0]:o.length===2?(s=u=o[0],l=c=o[1]):o.length===3?(s=o[0],l=c=o[1],u=o[2]):(s=o[0],l=o[1],u=o[2],c=o[3]):s=l=u=c=0;var f;s+l>i&&(f=s+l,s*=i/f,l*=i/f),u+c>i&&(f=u+c,u*=i/f,c*=i/f),l+u>a&&(f=l+u,l*=a/f,u*=a/f),s+c>a&&(f=s+c,s*=a/f,c*=a/f),e.moveTo(n+s,r),e.lineTo(n+i-l,r),l!==0&&e.arc(n+i-l,r+l,l,-Math.PI/2,0),e.lineTo(n+i,r+a-u),u!==0&&e.arc(n+i-u,r+a-u,u,0,Math.PI/2),e.lineTo(n+c,r+a),c!==0&&e.arc(n+c,r+a-c,c,Math.PI/2,Math.PI),e.lineTo(n,r+s),s!==0&&e.arc(n+s,r+s,s,Math.PI,Math.PI*1.5)}var F1=Math.round;function V_e(e,t,n){if(t){var r=t.x1,i=t.x2,a=t.y1,o=t.y2;e.x1=r,e.x2=i,e.y1=a,e.y2=o;var s=n&&n.lineWidth;return s&&(F1(r*2)===F1(i*2)&&(e.x1=e.x2=N0(r,s,!0)),F1(a*2)===F1(o*2)&&(e.y1=e.y2=N0(a,s,!0))),e}}function z_e(e,t,n){if(t){var r=t.x,i=t.y,a=t.width,o=t.height;e.x=r,e.y=i,e.width=a,e.height=o;var s=n&&n.lineWidth;return s&&(e.x=N0(r,s,!0),e.y=N0(i,s,!0),e.width=Math.max(N0(r+a,s,!1)-e.x,a===0?0:1),e.height=Math.max(N0(i+o,s,!1)-e.y,o===0?0:1)),e}}function N0(e,t,n){if(!t)return e;var r=F1(e*2);return(r+F1(t))%2===0?r/2:(r+(n?1:-1))/2}var Tst=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),wst={},si=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new Tst},t.prototype.buildPath=function(n,r){var i,a,o,s;if(this.subPixelOptimize){var l=z_e(wst,r,this.style);i=l.x,a=l.y,o=l.width,s=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,o=r.width,s=r.height;r.r?Est(n,r):n.rect(i,a,o,s)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Wr);si.prototype.type="rect";var xQ={fill:"#000"},SQ=2,Cst={style:tr({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},pP.style)},pi=function(e){et(t,e);function t(n){var r=e.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=xQ,r.attr(n),r}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},t.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):e.prototype.getLocalTransform.call(this,n)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,Mst(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(n){e.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},t.prototype.removeSelfFromZr=function(n){e.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new Mr(0,0,0,0),r=this._children,i=[],a=null,o=0;o<r.length;o++){var s=r[o],l=s.getBoundingRect(),u=s.getLocalTransform(i);u?(n.copy(l),n.applyTransform(u),a=a||n.clone(),a.union(n)):(a=a||l.clone(),a.union(l))}this._rect=a||n}return this._rect},t.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||xQ},t.prototype.setTextContent=function(n){},t.prototype._mergeStyle=function(n,r){if(!r)return n;var i=r.rich,a=n.rich||i&&{};return Ct(n,r),i&&a?(this._mergeRich(a,i),n.rich=a):a&&(n.rich=a),n},t.prototype._mergeRich=function(n,r){for(var i=Jr(r),a=0;a<i.length;a++){var o=i[a];n[o]=n[o]||{},Ct(n[o],r[o])}},t.prototype.getAnimationStyleProps=function(){return Cst},t.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},t.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||Fg,i=n.padding,a=IQ(n),o=Zot(a,n),s=qN(n),l=!!n.backgroundColor,u=o.outerHeight,c=o.outerWidth,f=o.contentWidth,d=o.lines,h=o.lineHeight,p=this._defaultStyle,v=n.x||0,g=n.y||0,m=n.align||p.align||"left",b=n.verticalAlign||p.verticalAlign||"top",_=v,x=C1(g,o.contentHeight,b);if(s||i){var E=sE(v,c,m),A=C1(g,u,b);s&&this._renderBackground(n,n,E,A,c,u)}x+=h/2,i&&(_=RQ(v,m,i),b==="top"?x+=i[0]:b==="bottom"&&(x-=i[2]));for(var T=0,R=!1,M=CQ("fill"in n?n.fill:(R=!0,p.fill)),O=wQ("stroke"in n?n.stroke:!l&&(!p.autoStroke||R)?(T=SQ,p.stroke):null),D=n.textShadowBlur>0,C=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),P=o.calculatedLineHeight,B=0;B<d.length;B++){var U=this._getOrCreateChild(Wb),L=U.createStyle();U.useStyle(L),L.text=d[B],L.x=_,L.y=x,m&&(L.textAlign=m),L.textBaseline="middle",L.opacity=n.opacity,L.strokeFirst=!0,D&&(L.shadowBlur=n.textShadowBlur||0,L.shadowColor=n.textShadowColor||"transparent",L.shadowOffsetX=n.textShadowOffsetX||0,L.shadowOffsetY=n.textShadowOffsetY||0),L.stroke=O,L.fill=M,O&&(L.lineWidth=n.lineWidth||T,L.lineDash=n.lineDash,L.lineDashOffset=n.lineDashOffset||0),L.font=r,EQ(L,n),x+=h,C&&U.setBoundingRect(new Mr(sE(L.x,n.width,L.textAlign),C1(L.y,P,L.textBaseline),f,P))}},t.prototype._updateRichTexts=function(){var n=this.style,r=IQ(n),i=est(r,n),a=i.width,o=i.outerWidth,s=i.outerHeight,l=n.padding,u=n.x||0,c=n.y||0,f=this._defaultStyle,d=n.align||f.align,h=n.verticalAlign||f.verticalAlign,p=sE(u,o,d),v=C1(c,s,h),g=p,m=v;l&&(g+=l[3],m+=l[0]);var b=g+a;qN(n)&&this._renderBackground(n,n,p,v,o,s);for(var _=!!n.backgroundColor,x=0;x<i.lines.length;x++){for(var E=i.lines[x],A=E.tokens,T=A.length,R=E.lineHeight,M=E.width,O=0,D=g,C=b,P=T-1,B=void 0;O<T&&(B=A[O],!B.align||B.align==="left");)this._placeToken(B,n,R,m,D,"left",_),M-=B.width,D+=B.width,O++;for(;P>=0&&(B=A[P],B.align==="right");)this._placeToken(B,n,R,m,C,"right",_),M-=B.width,C-=B.width,P--;for(D+=(a-(D-g)-(b-C)-M)/2;O<=P;)B=A[O],this._placeToken(B,n,R,m,D+B.width/2,"center",_),D+=B.width,O++;m+=R}},t.prototype._placeToken=function(n,r,i,a,o,s,l){var u=r.rich[n.styleName]||{};u.text=n.text;var c=n.verticalAlign,f=a+i/2;c==="top"?f=a+n.height/2:c==="bottom"&&(f=a+i-n.height/2);var d=!n.isLineHolder&&qN(u);d&&this._renderBackground(u,r,s==="right"?o-n.width:s==="center"?o-n.width/2:o,f-n.height/2,n.width,n.height);var h=!!u.backgroundColor,p=n.textPadding;p&&(o=RQ(o,s,p),f-=n.height/2-p[0]-n.innerHeight/2);var v=this._getOrCreateChild(Wb),g=v.createStyle();v.useStyle(g);var m=this._defaultStyle,b=!1,_=0,x=CQ("fill"in u?u.fill:"fill"in r?r.fill:(b=!0,m.fill)),E=wQ("stroke"in u?u.stroke:"stroke"in r?r.stroke:!h&&!l&&(!m.autoStroke||b)?(_=SQ,m.stroke):null),A=u.textShadowBlur>0||r.textShadowBlur>0;g.text=n.text,g.x=o,g.y=f,A&&(g.shadowBlur=u.textShadowBlur||r.textShadowBlur||0,g.shadowColor=u.textShadowColor||r.textShadowColor||"transparent",g.shadowOffsetX=u.textShadowOffsetX||r.textShadowOffsetX||0,g.shadowOffsetY=u.textShadowOffsetY||r.textShadowOffsetY||0),g.textAlign=s,g.textBaseline="middle",g.font=n.font||Fg,g.opacity=Xd(u.opacity,r.opacity,1),EQ(g,u),E&&(g.lineWidth=Xd(u.lineWidth,r.lineWidth,_),g.lineDash=Sr(u.lineDash,r.lineDash),g.lineDashOffset=r.lineDashOffset||0,g.stroke=E),x&&(g.fill=x);var T=n.contentWidth,R=n.contentHeight;v.setBoundingRect(new Mr(sE(g.x,T,g.textAlign),C1(g.y,R,g.textBaseline),T,R))},t.prototype._renderBackground=function(n,r,i,a,o,s){var l=n.backgroundColor,u=n.borderWidth,c=n.borderColor,f=l&&l.image,d=l&&!f,h=n.borderRadius,p=this,v,g;if(d||n.lineHeight||u&&c){v=this._getOrCreateChild(si),v.useStyle(v.createStyle()),v.style.fill=null;var m=v.shape;m.x=i,m.y=a,m.width=o,m.height=s,m.r=h,v.dirtyShape()}if(d){var b=v.style;b.fill=l||null,b.fillOpacity=Sr(n.fillOpacity,1)}else if(f){g=this._getOrCreateChild(ms),g.onload=function(){p.dirtyStyle()};var _=g.style;_.image=l.image,_.x=i,_.y=a,_.width=o,_.height=s}if(u&&c){var b=v.style;b.lineWidth=u,b.stroke=c,b.strokeOpacity=Sr(n.strokeOpacity,1),b.lineDash=n.borderDash,b.lineDashOffset=n.borderDashOffset||0,v.strokeContainThreshold=0,v.hasFill()&&v.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var x=(v||g).style;x.shadowBlur=n.shadowBlur||0,x.shadowColor=n.shadowColor||"transparent",x.shadowOffsetX=n.shadowOffsetX||0,x.shadowOffsetY=n.shadowOffsetY||0,x.opacity=Xd(n.opacity,r.opacity,1)},t.makeFont=function(n){var r="";return H_e(n)&&(r=[n.fontStyle,n.fontWeight,$_e(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&Lf(r)||n.textFont||n.font},t}(Uc),Rst={left:!0,right:1,center:1},Ist={top:1,bottom:1,middle:1},AQ=["fontStyle","fontWeight","fontSize","fontFamily"];function $_e(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?KH+"px":e+"px"}function EQ(e,t){for(var n=0;n<AQ.length;n++){var r=AQ[n],i=t[r];i!=null&&(e[r]=i)}}function H_e(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function Mst(e){return TQ(e),te(e.rich,TQ),e}function TQ(e){if(e){e.font=pi.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||Rst[t]?t:"left";var n=e.verticalAlign;n==="center"&&(n="middle"),e.verticalAlign=n==null||Ist[n]?n:"top";var r=e.padding;r&&(e.padding=tW(e.padding))}}function wQ(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function CQ(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function RQ(e,t,n){return t==="right"?e-n[1]:t==="center"?e+n[3]/2-n[1]/2:e+n[3]}function IQ(e){var t=e.text;return t!=null&&(t+=""),t}function qN(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var gr=ui(),MV=function(e,t,n,r){if(r){var i=gr(r);i.dataIndex=n,i.dataType=t,i.seriesIndex=e,i.ssrType="chart",r.type==="group"&&r.traverse(function(a){var o=gr(a);o.seriesIndex=e,o.dataIndex=n,o.dataType=t,o.ssrType="chart"})}},MQ=1,OQ={},W_e=ui(),pW=ui(),vW=0,sw=1,gP=2,Ll=["emphasis","blur","select"],J2=["normal","emphasis","blur","select"],Px=10,Ost=9,Q0="highlight",C3="downplay",JE="select",R3="unselect",e2="toggleSelect";function K_(e){return e!=null&&e!=="none"}function mP(e,t,n){e.onHoverStateChange&&(e.hoverState||0)!==n&&e.onHoverStateChange(t),e.hoverState=n}function G_e(e){mP(e,"emphasis",gP)}function j_e(e){e.hoverState===gP&&mP(e,"normal",vW)}function gW(e){mP(e,"blur",sw)}function Y_e(e){e.hoverState===sw&&mP(e,"normal",vW)}function Dst(e){e.selected=!0}function Pst(e){e.selected=!1}function DQ(e,t,n){t(e,n)}function Hp(e,t,n){DQ(e,t,n),e.isGroup&&e.traverse(function(r){DQ(r,t,n)})}function HM(e,t){switch(t){case"emphasis":e.hoverState=gP;break;case"normal":e.hoverState=vW;break;case"blur":e.hoverState=sw;break;case"select":e.selected=!0}}function Lst(e,t,n,r){for(var i=e.style,a={},o=0;o<t.length;o++){var s=t[o],l=i[s];a[s]=l??(r&&r[s])}for(var o=0;o<e.animators.length;o++){var u=e.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(n)<0&&u.targetName==="style"&&u.saveTo(a,t)}return a}function Nst(e,t,n,r){var i=n&&Ur(n,"select")>=0,a=!1;if(e instanceof Wr){var o=W_e(e),s=i&&o.selectFill||o.normalFill,l=i&&o.selectStroke||o.normalStroke;if(K_(s)||K_(l)){r=r||{};var u=r.style||{};u.fill==="inherit"?(a=!0,r=Ct({},r),u=Ct({},u),u.fill=s):!K_(u.fill)&&K_(s)?(a=!0,r=Ct({},r),u=Ct({},u),u.fill=vV(s)):!K_(u.stroke)&&K_(l)&&(a||(r=Ct({},r),u=Ct({},u)),u.stroke=vV(l)),r.style=u}}if(r&&r.z2==null){a||(r=Ct({},r));var c=e.z2EmphasisLift;r.z2=e.z2+(c??Px)}return r}function Bst(e,t,n){if(n&&n.z2==null){n=Ct({},n);var r=e.z2SelectLift;n.z2=e.z2+(r??Ost)}return n}function kst(e,t,n){var r=Ur(e.currentStates,t)>=0,i=e.style.opacity,a=r?null:Lst(e,["opacity"],t,{opacity:1});n=n||{};var o=n.style||{};return o.opacity==null&&(n=Ct({},n),o=Ct({opacity:r?i:a.opacity*.1},o),n.style=o),n}function ZN(e,t){var n=this.states[e];if(this.style){if(e==="emphasis")return Nst(this,e,t,n);if(e==="blur")return kst(this,e,n);if(e==="select")return Bst(this,e,n)}return n}function by(e){e.stateProxy=ZN;var t=e.getTextContent(),n=e.getTextGuideLine();t&&(t.stateProxy=ZN),n&&(n.stateProxy=ZN)}function PQ(e,t){!Z_e(e,t)&&!e.__highByOuter&&Hp(e,G_e)}function LQ(e,t){!Z_e(e,t)&&!e.__highByOuter&&Hp(e,j_e)}function Mp(e,t){e.__highByOuter|=1<<(t||0),Hp(e,G_e)}function Op(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Hp(e,j_e)}function X_e(e){Hp(e,gW)}function mW(e){Hp(e,Y_e)}function K_e(e){Hp(e,Dst)}function q_e(e){Hp(e,Pst)}function Z_e(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Q_e(e){var t=e.getModel(),n=[],r=[];t.eachComponent(function(i,a){var o=pW(a),s=i==="series",l=s?e.getViewOfSeriesModel(a):e.getViewOfComponentModel(a);!s&&r.push(l),o.isBlured&&(l.group.traverse(function(u){Y_e(u)}),s&&n.push(a)),o.isBlured=!1}),te(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(n,!1,t)})}function OV(e,t,n,r){var i=r.getModel();n=n||"coordinateSystem";function a(u,c){for(var f=0;f<c.length;f++){var d=u.getItemGraphicEl(c[f]);d&&mW(d)}}if(e!=null&&!(!t||t==="none")){var o=i.getSeriesByIndex(e),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(u){var c=o===u,f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&s?f===s:c;if(!(n==="series"&&!c||n==="coordinateSystem"&&!d||t==="series"&&c)){var h=r.getViewOfSeriesModel(u);if(h.group.traverse(function(g){g.__highByOuter&&c&&t==="self"||gW(g)}),nl(t))a(u.getData(),t);else if(ar(t))for(var p=Jr(t),v=0;v<p.length;v++)a(u.getData(p[v]),t[p[v]]);l.push(u),pW(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var f=r.getViewOfComponentModel(c);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function DV(e,t,n){if(!(e==null||t==null)){var r=n.getModel().getComponent(e,t);if(r){pW(r).isBlured=!0;var i=n.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){gW(a)})}}}function Fst(e,t,n){var r=e.seriesIndex,i=e.getData(t.dataType);if(i){var a=yy(i,t);a=(Lt(a)?a[0]:a)||0;var o=i.getItemGraphicEl(a);if(!o)for(var s=i.count(),l=0;!o&&l<s;)o=i.getItemGraphicEl(l++);if(o){var u=gr(o);OV(r,u.focus,u.blurScope,n)}else{var c=e.get(["emphasis","focus"]),f=e.get(["emphasis","blurScope"]);c!=null&&OV(r,c,f,n)}}}function yW(e,t,n,r){var i={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||n==null)return i;var a=r.getModel().getComponent(e,t);if(!a)return i;var o=r.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return i;for(var s=o.findHighDownDispatchers(n),l,u=0;u<s.length;u++)if(gr(s[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function Ust(e,t,n){var r=gr(e),i=yW(r.componentMainType,r.componentIndex,r.componentHighDownName,n),a=i.dispatchers,o=i.focusSelf;a?(o&&DV(r.componentMainType,r.componentIndex,n),te(a,function(s){return PQ(s,t)})):(OV(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&DV(r.componentMainType,r.componentIndex,n),PQ(e,t))}function Vst(e,t,n){Q_e(n);var r=gr(e),i=yW(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?te(i,function(a){return LQ(a,t)}):LQ(e,t)}function zst(e,t,n){if(LV(t)){var r=t.dataType,i=e.getData(r),a=yy(i,t);Lt(a)||(a=[a]),e[t.type===e2?"toggleSelect":t.type===JE?"select":"unselect"](a,r)}}function NQ(e){var t=e.getAllData();te(t,function(n){var r=n.data,i=n.type;r.eachItemGraphicEl(function(a,o){e.isSelected(o,i)?K_e(a):q_e(a)})})}function $st(e){var t=[];return e.eachSeries(function(n){var r=n.getAllData();te(r,function(i){i.data;var a=i.type,o=n.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:n.seriesIndex};a!=null&&(s.dataType=a),t.push(s)}})}),t}function J0(e,t,n){B0(e,!0),Hp(e,by),PV(e,t,n)}function Hst(e){B0(e,!1)}function to(e,t,n,r){r?Hst(e):J0(e,t,n)}function PV(e,t,n){var r=gr(e);t!=null?(r.focus=t,r.blurScope=n):r.focus&&(r.focus=null)}var BQ=["emphasis","blur","select"],Wst={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Ls(e,t,n,r){n=n||"itemStyle";for(var i=0;i<BQ.length;i++){var a=BQ[i],o=t.getModel([a,n]),s=e.ensureState(a);s.style=r?r(o):o[Wst[n]]()}}function B0(e,t){var n=t===!1,r=e;e.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function eT(e){return!!(e&&e.__highDownDispatcher)}function Gst(e,t,n){var r=gr(e);r.componentMainType=t.mainType,r.componentIndex=t.componentIndex,r.componentHighDownName=n}function jst(e){var t=OQ[e];return t==null&&MQ<=32&&(t=OQ[e]=MQ++),t}function LV(e){var t=e.type;return t===JE||t===R3||t===e2}function kQ(e){var t=e.type;return t===Q0||t===C3}function Yst(e){var t=W_e(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var n=e.states.select||{};t.selectFill=n.style&&n.style.fill||null,t.selectStroke=n.style&&n.style.stroke||null}var q_=oh.CMD,Xst=[[],[],[]],FQ=Math.sqrt,Kst=Math.atan2;function J_e(e,t){if(t){var n=e.data,r=e.len(),i,a,o,s,l,u,c=q_.M,f=q_.C,d=q_.L,h=q_.R,p=q_.A,v=q_.Q;for(o=0,s=0;o<r;){switch(i=n[o++],s=o,a=0,i){case c:a=1;break;case d:a=1;break;case f:a=3;break;case v:a=2;break;case p:var g=t[4],m=t[5],b=FQ(t[0]*t[0]+t[1]*t[1]),_=FQ(t[2]*t[2]+t[3]*t[3]),x=Kst(-t[1]/_,t[0]/b);n[o]*=b,n[o++]+=g,n[o]*=_,n[o++]+=m,n[o++]*=b,n[o++]*=_,n[o++]+=x,n[o++]+=x,o+=2,s=o;break;case h:u[0]=n[o++],u[1]=n[o++],Ds(u,u,t),n[s++]=u[0],n[s++]=u[1],u[0]+=n[o++],u[1]+=n[o++],Ds(u,u,t),n[s++]=u[0],n[s++]=u[1]}for(l=0;l<a;l++){var E=Xst[l];E[0]=n[o++],E[1]=n[o++],Ds(E,E,t),n[s++]=E[0],n[s++]=E[1]}}e.increaseVersion()}}var QN=Math.sqrt,IR=Math.sin,MR=Math.cos,sA=Math.PI;function UQ(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function NV(e,t){return(e[0]*t[0]+e[1]*t[1])/(UQ(e)*UQ(t))}function VQ(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(NV(e,t))}function zQ(e,t,n,r,i,a,o,s,l,u,c){var f=l*(sA/180),d=MR(f)*(e-n)/2+IR(f)*(t-r)/2,h=-1*IR(f)*(e-n)/2+MR(f)*(t-r)/2,p=d*d/(o*o)+h*h/(s*s);p>1&&(o*=QN(p),s*=QN(p));var v=(i===a?-1:1)*QN((o*o*(s*s)-o*o*(h*h)-s*s*(d*d))/(o*o*(h*h)+s*s*(d*d)))||0,g=v*o*h/s,m=v*-s*d/o,b=(e+n)/2+MR(f)*g-IR(f)*m,_=(t+r)/2+IR(f)*g+MR(f)*m,x=VQ([1,0],[(d-g)/o,(h-m)/s]),E=[(d-g)/o,(h-m)/s],A=[(-1*d-g)/o,(-1*h-m)/s],T=VQ(E,A);if(NV(E,A)<=-1&&(T=sA),NV(E,A)>=1&&(T=0),T<0){var R=Math.round(T/sA*1e6)/1e6;T=sA*2+R%2*sA}c.addData(u,b,_,o,s,x,T,f,a)}var qst=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,Zst=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Qst(e){var t=new oh;if(!e)return t;var n=0,r=0,i=n,a=r,o,s=oh.CMD,l=e.match(qst);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],f=c.charAt(0),d=void 0,h=c.match(Zst)||[],p=h.length,v=0;v<p;v++)h[v]=parseFloat(h[v]);for(var g=0;g<p;){var m=void 0,b=void 0,_=void 0,x=void 0,E=void 0,A=void 0,T=void 0,R=n,M=r,O=void 0,D=void 0;switch(f){case"l":n+=h[g++],r+=h[g++],d=s.L,t.addData(d,n,r);break;case"L":n=h[g++],r=h[g++],d=s.L,t.addData(d,n,r);break;case"m":n+=h[g++],r+=h[g++],d=s.M,t.addData(d,n,r),i=n,a=r,f="l";break;case"M":n=h[g++],r=h[g++],d=s.M,t.addData(d,n,r),i=n,a=r,f="L";break;case"h":n+=h[g++],d=s.L,t.addData(d,n,r);break;case"H":n=h[g++],d=s.L,t.addData(d,n,r);break;case"v":r+=h[g++],d=s.L,t.addData(d,n,r);break;case"V":r=h[g++],d=s.L,t.addData(d,n,r);break;case"C":d=s.C,t.addData(d,h[g++],h[g++],h[g++],h[g++],h[g++],h[g++]),n=h[g-2],r=h[g-1];break;case"c":d=s.C,t.addData(d,h[g++]+n,h[g++]+r,h[g++]+n,h[g++]+r,h[g++]+n,h[g++]+r),n+=h[g-2],r+=h[g-1];break;case"S":m=n,b=r,O=t.len(),D=t.data,o===s.C&&(m+=n-D[O-4],b+=r-D[O-3]),d=s.C,R=h[g++],M=h[g++],n=h[g++],r=h[g++],t.addData(d,m,b,R,M,n,r);break;case"s":m=n,b=r,O=t.len(),D=t.data,o===s.C&&(m+=n-D[O-4],b+=r-D[O-3]),d=s.C,R=n+h[g++],M=r+h[g++],n+=h[g++],r+=h[g++],t.addData(d,m,b,R,M,n,r);break;case"Q":R=h[g++],M=h[g++],n=h[g++],r=h[g++],d=s.Q,t.addData(d,R,M,n,r);break;case"q":R=h[g++]+n,M=h[g++]+r,n+=h[g++],r+=h[g++],d=s.Q,t.addData(d,R,M,n,r);break;case"T":m=n,b=r,O=t.len(),D=t.data,o===s.Q&&(m+=n-D[O-4],b+=r-D[O-3]),n=h[g++],r=h[g++],d=s.Q,t.addData(d,m,b,n,r);break;case"t":m=n,b=r,O=t.len(),D=t.data,o===s.Q&&(m+=n-D[O-4],b+=r-D[O-3]),n+=h[g++],r+=h[g++],d=s.Q,t.addData(d,m,b,n,r);break;case"A":_=h[g++],x=h[g++],E=h[g++],A=h[g++],T=h[g++],R=n,M=r,n=h[g++],r=h[g++],d=s.A,zQ(R,M,n,r,A,T,_,x,E,d,t);break;case"a":_=h[g++],x=h[g++],E=h[g++],A=h[g++],T=h[g++],R=n,M=r,n+=h[g++],r+=h[g++],d=s.A,zQ(R,M,n,r,A,T,_,x,E,d,t);break}}(f==="z"||f==="Z")&&(d=s.Z,t.addData(d),n=i,r=a),o=d}return t.toStatic(),t}var e1e=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(n){},t}(Wr);function t1e(e){return e.setData!=null}function n1e(e,t){var n=Qst(e),r=Ct({},t);return r.buildPath=function(i){if(t1e(i)){i.setData(n.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;n.rebuildPath(a,1)}},r.applyTransform=function(i){J_e(n,i),this.dirtyShape()},r}function r1e(e,t){return new e1e(n1e(e,t))}function Jst(e,t){var n=n1e(e,t),r=function(i){et(a,i);function a(o){var s=i.call(this,o)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return a}(e1e);return r}function elt(e,t){for(var n=[],r=e.length,i=0;i<r;i++){var a=e[i];n.push(a.getUpdatedPathProxy(!0))}var o=new Wr(t);return o.createPathProxy(),o.buildPath=function(s){if(t1e(s)){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l,1)}},o}function _W(e,t){t=t||{};var n=new Wr;return e.shape&&n.setShape(e.shape),n.setStyle(e.style),t.bakeTransform?J_e(n.path,e.getComputedTransform()):t.toLocal?n.setLocalTransform(e.getComputedTransform()):n.copyTransform(e),n.buildPath=e.buildPath,n.applyTransform=n.applyTransform,n.z=e.z,n.z2=e.z2,n.zlevel=e.zlevel,n}var tlt=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),Wp=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new tlt},t.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},t}(Wr);Wp.prototype.type="circle";var nlt=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),yP=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new nlt},t.prototype.buildPath=function(n,r){var i=.5522848,a=r.cx,o=r.cy,s=r.rx,l=r.ry,u=s*i,c=l*i;n.moveTo(a-s,o),n.bezierCurveTo(a-s,o-c,a-u,o-l,a,o-l),n.bezierCurveTo(a+u,o-l,a+s,o-c,a+s,o),n.bezierCurveTo(a+s,o+c,a+u,o+l,a,o+l),n.bezierCurveTo(a-u,o+l,a-s,o+c,a-s,o),n.closePath()},t}(Wr);yP.prototype.type="ellipse";var i1e=Math.PI,JN=i1e*2,Qm=Math.sin,Z_=Math.cos,rlt=Math.acos,zs=Math.atan2,$Q=Math.abs,t2=Math.sqrt,lE=Math.max,Rd=Math.min,Af=1e-4;function ilt(e,t,n,r,i,a,o,s){var l=n-e,u=r-t,c=o-i,f=s-a,d=f*l-c*u;if(!(d*d<Af))return d=(c*(t-a)-f*(e-i))/d,[e+d*l,t+d*u]}function OR(e,t,n,r,i,a,o){var s=e-n,l=t-r,u=(o?a:-a)/t2(s*s+l*l),c=u*l,f=-u*s,d=e+c,h=t+f,p=n+c,v=r+f,g=(d+p)/2,m=(h+v)/2,b=p-d,_=v-h,x=b*b+_*_,E=i-a,A=d*v-p*h,T=(_<0?-1:1)*t2(lE(0,E*E*x-A*A)),R=(A*_-b*T)/x,M=(-A*b-_*T)/x,O=(A*_+b*T)/x,D=(-A*b+_*T)/x,C=R-g,P=M-m,B=O-g,U=D-m;return C*C+P*P>B*B+U*U&&(R=O,M=D),{cx:R,cy:M,x0:-c,y0:-f,x1:R*(i/E-1),y1:M*(i/E-1)}}function alt(e){var t;if(Lt(e)){var n=e.length;if(!n)return e;n===1?t=[e[0],e[0],0,0]:n===2?t=[e[0],e[0],e[1],e[1]]:n===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function olt(e,t){var n,r=lE(t.r,0),i=lE(t.r0||0,0),a=r>0,o=i>0;if(!(!a&&!o)){if(a||(r=i,i=0),i>r){var s=r;r=i,i=s}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,f=t.cy,d=!!t.clockwise,h=$Q(u-l),p=h>JN&&h%JN;if(p>Af&&(h=p),!(r>Af))e.moveTo(c,f);else if(h>JN-Af)e.moveTo(c+r*Z_(l),f+r*Qm(l)),e.arc(c,f,r,l,u,!d),i>Af&&(e.moveTo(c+i*Z_(u),f+i*Qm(u)),e.arc(c,f,i,u,l,d));else{var v=void 0,g=void 0,m=void 0,b=void 0,_=void 0,x=void 0,E=void 0,A=void 0,T=void 0,R=void 0,M=void 0,O=void 0,D=void 0,C=void 0,P=void 0,B=void 0,U=r*Z_(l),L=r*Qm(l),F=i*Z_(u),N=i*Qm(u),V=h>Af;if(V){var W=t.cornerRadius;W&&(n=alt(W),v=n[0],g=n[1],m=n[2],b=n[3]);var G=$Q(r-i)/2;if(_=Rd(G,m),x=Rd(G,b),E=Rd(G,v),A=Rd(G,g),M=T=lE(_,x),O=R=lE(E,A),(T>Af||R>Af)&&(D=r*Z_(u),C=r*Qm(u),P=i*Z_(l),B=i*Qm(l),h<i1e)){var K=ilt(U,L,P,B,D,C,F,N);if(K){var q=U-K[0],ue=L-K[1],he=D-K[0],Ce=C-K[1],ee=1/Qm(rlt((q*he+ue*Ce)/(t2(q*q+ue*ue)*t2(he*he+Ce*Ce)))/2),de=t2(K[0]*K[0]+K[1]*K[1]);M=Rd(T,(r-de)/(ee+1)),O=Rd(R,(i-de)/(ee-1))}}}if(!V)e.moveTo(c+U,f+L);else if(M>Af){var oe=Rd(m,M),pe=Rd(b,M),me=OR(P,B,U,L,r,oe,d),re=OR(D,C,F,N,r,pe,d);e.moveTo(c+me.cx+me.x0,f+me.cy+me.y0),M<T&&oe===pe?e.arc(c+me.cx,f+me.cy,M,zs(me.y0,me.x0),zs(re.y0,re.x0),!d):(oe>0&&e.arc(c+me.cx,f+me.cy,oe,zs(me.y0,me.x0),zs(me.y1,me.x1),!d),e.arc(c,f,r,zs(me.cy+me.y1,me.cx+me.x1),zs(re.cy+re.y1,re.cx+re.x1),!d),pe>0&&e.arc(c+re.cx,f+re.cy,pe,zs(re.y1,re.x1),zs(re.y0,re.x0),!d))}else e.moveTo(c+U,f+L),e.arc(c,f,r,l,u,!d);if(!(i>Af)||!V)e.lineTo(c+F,f+N);else if(O>Af){var oe=Rd(v,O),pe=Rd(g,O),me=OR(F,N,D,C,i,-pe,d),re=OR(U,L,P,B,i,-oe,d);e.lineTo(c+me.cx+me.x0,f+me.cy+me.y0),O<R&&oe===pe?e.arc(c+me.cx,f+me.cy,O,zs(me.y0,me.x0),zs(re.y0,re.x0),!d):(pe>0&&e.arc(c+me.cx,f+me.cy,pe,zs(me.y0,me.x0),zs(me.y1,me.x1),!d),e.arc(c,f,i,zs(me.cy+me.y1,me.cx+me.x1),zs(re.cy+re.y1,re.cx+re.x1),d),oe>0&&e.arc(c+re.cx,f+re.cy,oe,zs(re.y1,re.x1),zs(re.y0,re.x0),!d))}else e.lineTo(c+F,f+N),e.arc(c,f,i,u,l,d)}e.closePath()}}}var slt=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),Nl=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new slt},t.prototype.buildPath=function(n,r){olt(n,r)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Wr);Nl.prototype.type="sector";var llt=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),lw=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new llt},t.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,o=Math.PI*2;n.moveTo(i+r.r,a),n.arc(i,a,r.r,0,o,!1),n.moveTo(i+r.r0,a),n.arc(i,a,r.r0,0,o,!0)},t}(Wr);lw.prototype.type="ring";function ult(e,t,n,r){var i=[],a=[],o=[],s=[],l,u,c,f;if(r){c=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=e.length;d<h;d++)og(c,c,e[d]),sg(f,f,e[d]);og(c,c,r[0]),sg(f,f,r[1])}for(var d=0,h=e.length;d<h;d++){var p=e[d];if(n)l=e[d?d-1:h-1],u=e[(d+1)%h];else if(d===0||d===h-1){i.push(gp(e[d]));continue}else l=e[d-1],u=e[d+1];L0(a,u,l),b3(a,a,t);var v=oV(p,l),g=oV(p,u),m=v+g;m!==0&&(v/=m,g/=m),b3(o,a,-v),b3(s,a,g);var b=NZ([],p,o),_=NZ([],p,s);r&&(sg(b,b,c),og(b,b,f),sg(_,_,c),og(_,_,f)),i.push(b),i.push(_)}return n&&i.push(i.shift()),i}function a1e(e,t,n){var r=t.smooth,i=t.points;if(i&&i.length>=2){if(r){var a=ult(i,r,n,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var o=i.length,s=0;s<(n?o:o-1);s++){var l=a[s*2],u=a[s*2+1],c=i[(s+1)%o];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++)e.lineTo(i[s][0],i[s][1])}n&&e.closePath()}}var clt=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),Bl=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new clt},t.prototype.buildPath=function(n,r){a1e(n,r,!0)},t}(Wr);Bl.prototype.type="polygon";var flt=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),kl=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new flt},t.prototype.buildPath=function(n,r){a1e(n,r,!1)},t}(Wr);kl.prototype.type="polyline";var dlt={},hlt=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),qo=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new hlt},t.prototype.buildPath=function(n,r){var i,a,o,s;if(this.subPixelOptimize){var l=V_e(dlt,r,this.style);i=l.x1,a=l.y1,o=l.x2,s=l.y2}else i=r.x1,a=r.y1,o=r.x2,s=r.y2;var u=r.percent;u!==0&&(n.moveTo(i,a),u<1&&(o=i*(1-u)+o*u,s=a*(1-u)+s*u),n.lineTo(o,s))},t.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},t}(Wr);qo.prototype.type="line";var eu=[],plt=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function HQ(e,t,n){var r=e.cpx2,i=e.cpy2;return r!=null||i!=null?[(n?YZ:Yo)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?YZ:Yo)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(n?fV:fs)(e.x1,e.cpx1,e.x2,t),(n?fV:fs)(e.y1,e.cpy1,e.y2,t)]}var uw=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new plt},t.prototype.buildPath=function(n,r){var i=r.x1,a=r.y1,o=r.x2,s=r.y2,l=r.cpx1,u=r.cpy1,c=r.cpx2,f=r.cpy2,d=r.percent;d!==0&&(n.moveTo(i,a),c==null||f==null?(d<1&&(X2(i,l,o,d,eu),l=eu[1],o=eu[2],X2(a,u,s,d,eu),u=eu[1],s=eu[2]),n.quadraticCurveTo(l,u,o,s)):(d<1&&(Vg(i,l,c,o,d,eu),l=eu[1],c=eu[2],o=eu[3],Vg(a,u,f,s,d,eu),u=eu[1],f=eu[2],s=eu[3]),n.bezierCurveTo(l,u,c,f,o,s)))},t.prototype.pointAt=function(n){return HQ(this.shape,n,!1)},t.prototype.tangentAt=function(n){var r=HQ(this.shape,n,!0);return Mx(r,r)},t}(Wr);uw.prototype.type="bezier-curve";var vlt=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),_P=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new vlt},t.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,o=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,u=r.clockwise,c=Math.cos(s),f=Math.sin(s);n.moveTo(c*o+i,f*o+a),n.arc(i,a,o,s,l,!u)},t}(Wr);_P.prototype.type="arc";var bW=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="compound",n}return t.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),i=0;i<n.length;i++)r=r||n[i].shapeChanged();r&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<n.length;i++)n[i].path||n[i].createPathProxy(),n[i].path.setScale(r[0],r[1],n[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(n,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(n,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Wr.prototype.getBoundingRect.call(this)},t}(Wr),o1e=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},e}(),Zo=function(e){et(t,e);function t(n,r,i,a,o,s){var l=e.call(this,o)||this;return l.x=n??0,l.y=r??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return t}(o1e),s1e=function(e){et(t,e);function t(n,r,i,a,o){var s=e.call(this,a)||this;return s.x=n??.5,s.y=r??.5,s.r=i??.5,s.type="radial",s.global=o||!1,s}return t}(o1e),Jm=[0,0],e0=[0,0],DR=new Rr,PR=new Rr,WM=function(){function e(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new Rr;for(var r=0;r<2;r++)this._axes[r]=new Rr;t&&this.fromBoundingRect(t,n)}return e.prototype.fromBoundingRect=function(t,n){var r=this._corners,i=this._axes,a=t.x,o=t.y,s=a+t.width,l=o+t.height;if(r[0].set(a,o),r[1].set(s,o),r[2].set(s,l),r[3].set(a,l),n)for(var u=0;u<4;u++)r[u].transform(n);Rr.sub(i[0],r[1],r[0]),Rr.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(r[0])},e.prototype.intersect=function(t,n){var r=!0,i=!n;return DR.set(1/0,1/0),PR.set(0,0),!this._intersectCheckOneSide(this,t,DR,PR,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(t,this,DR,PR,i,-1)&&(r=!1,i)||i||Rr.copy(n,r?DR:PR),r},e.prototype._intersectCheckOneSide=function(t,n,r,i,a,o){for(var s=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Jm),this._getProjMinMaxOnAxis(l,n._corners,e0),Jm[1]<e0[0]||Jm[0]>e0[1]){if(s=!1,a)return s;var c=Math.abs(e0[0]-Jm[1]),f=Math.abs(Jm[0]-e0[1]);Math.min(c,f)>i.len()&&(c<f?Rr.scale(i,u,-c*o):Rr.scale(i,u,f*o))}else if(r){var c=Math.abs(e0[0]-Jm[1]),f=Math.abs(Jm[0]-e0[1]);Math.min(c,f)<r.len()&&(c<f?Rr.scale(r,u,c*o):Rr.scale(r,u,-f*o))}}return s},e.prototype._getProjMinMaxOnAxis=function(t,n,r){for(var i=this._axes[t],a=this._origin,o=n[0].dot(i)+a[t],s=o,l=o,u=1;u<n.length;u++){var c=n[u].dot(i)+a[t];s=Math.min(c,s),l=Math.max(c,l)}r[0]=s,r[1]=l},e}(),glt=[],mlt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return t.prototype.traverse=function(n,r){n.call(r,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},t.prototype.addDisplayables=function(n,r){r=r||!1;for(var i=0;i<n.length;i++)this.addDisplayable(n[i],r)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},t.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new Mr(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(glt)),n.union(a)}this._rect=n}return this._rect},t.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var o=0;o<this._displayables.length;o++){var s=this._displayables[o];if(s.contain(n,r))return!0}return!1},t}(Uc),l1e=ui();function Lx(e,t,n,r,i){var a;if(t&&t.ecModel){var o=t.ecModel.getUpdatePayload();a=o&&o.animation}var s=t&&t.isAnimationEnabled(),l=e==="update";if(s){var u=void 0,c=void 0,f=void 0;r?(u=Sr(r.duration,200),c=Sr(r.easing,"cubicOut"),f=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),f=t.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(f=a.delay)),er(f)&&(f=f(n,i)),er(u)&&(u=u(n));var d={duration:u||0,delay:f,easing:c};return d}else return null}function xW(e,t,n,r,i,a,o){var s=!1,l;er(i)?(o=a,a=i,i=null):ar(i)&&(a=i.cb,o=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=e==="leave";u||t.stopAnimation("leave");var c=Lx(e,r,i,u?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null);if(c&&c.duration>0){var f=c.duration,d=c.delay,h=c.easing,p={duration:f,delay:d||0,easing:h,done:a,force:!!a||!!o,setToFinal:!u,scope:e,during:o};s?t.animateFrom(n,p):t.animateTo(n,p)}else t.stopAnimation(),!s&&t.attr(n),o&&o(1),a&&a()}function Si(e,t,n,r,i,a){xW("update",e,t,n,r,i,a)}function Ca(e,t,n,r,i,a){xW("enter",e,t,n,r,i,a)}function ob(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var n=e.animators[t];if(n.scope==="leave")return!0}return!1}function zg(e,t,n,r,i,a){ob(e)||xW("leave",e,t,n,r,i,a)}function WQ(e,t,n,r){e.removeTextContent(),e.removeTextGuideLine(),zg(e,{style:{opacity:0}},t,n,r)}function tT(e,t,n){function r(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||WQ(i,t,n,r)}):WQ(e,t,n,r)}function Jf(e){l1e(e).oldStyle=e.style}function ylt(e){return l1e(e).oldStyle}var GM=Math.max,jM=Math.min,BV={};function _lt(e){return Wr.extend(e)}var blt=Jst;function xlt(e,t){return blt(e,t)}function rd(e,t){BV[e]=t}function SW(e){if(BV.hasOwnProperty(e))return BV[e]}function bP(e,t,n,r){var i=r1e(e,t);return n&&(r==="center"&&(n=c1e(n,i.getBoundingRect())),f1e(i,n)),i}function u1e(e,t,n){var r=new ms({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(n==="center"){var a={width:i.width,height:i.height};r.setStyle(c1e(t,a))}}});return r}function c1e(e,t){var n=t.width/t.height,r=e.height*n,i;r<=e.width?i=e.height:(r=e.width,i=r/n);var a=e.x+e.width/2,o=e.y+e.height/2;return{x:a-r/2,y:o-i/2,width:r,height:i}}var Tc=elt;function f1e(e,t){if(e.applyTransform){var n=e.getBoundingRect(),r=n.calculateTransform(t);e.applyTransform(r)}}function Gb(e,t){return V_e(e,e,{lineWidth:t}),e}function Slt(e){return z_e(e.shape,e.shape,e.style),e}var I3=N0;function ey(e,t){for(var n=lP([]);e&&e!==t;)mp(n,e.getLocalTransform(),n),e=e.parent;return n}function $f(e,t,n){return t&&!nl(t)&&(t=dp.getLocalTransform(t)),n&&(t=Ox([],t)),Ds([],e,t)}function xP(e,t,n){var r=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),a=[e==="left"?-r:e==="right"?r:0,e==="top"?-i:e==="bottom"?i:0];return a=$f(a,t,n),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function GQ(e){return!e.isGroup}function Alt(e){return e.shape!=null}function cw(e,t,n){if(!e||!t)return;function r(o){var s={};return o.traverse(function(l){GQ(l)&&l.anid&&(s[l.anid]=l)}),s}function i(o){var s={x:o.x,y:o.y,rotation:o.rotation};return Alt(o)&&(s.shape=Ct({},o.shape)),s}var a=r(e);t.traverse(function(o){if(GQ(o)&&o.anid){var s=a[o.anid];if(s){var l=i(o);o.attr(i(s)),Si(o,l,n,gr(o).dataIndex)}}})}function d1e(e,t){return Vt(e,function(n){var r=n[0];r=GM(r,t.x),r=jM(r,t.x+t.width);var i=n[1];return i=GM(i,t.y),i=jM(i,t.y+t.height),[r,i]})}function Elt(e,t){var n=GM(e.x,t.x),r=jM(e.x+e.width,t.x+t.width),i=GM(e.y,t.y),a=jM(e.y+e.height,t.y+t.height);if(r>=n&&a>=i)return{x:n,y:i,width:r-n,height:a-i}}function fw(e,t,n){var r=Ct({rectHover:!0},t),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),tr(i,n),new ms(r)):bP(e.replace("path://",""),r,n,"center")}function uE(e,t,n,r,i){for(var a=0,o=i[i.length-1];a<i.length;a++){var s=i[a];if(h1e(e,t,n,r,s[0],s[1],o[0],o[1]))return!0;o=s}}function h1e(e,t,n,r,i,a,o,s){var l=n-e,u=r-t,c=o-i,f=s-a,d=eB(c,f,l,u);if(Tlt(d))return!1;var h=e-i,p=t-a,v=eB(h,p,l,u)/d;if(v<0||v>1)return!1;var g=eB(h,p,c,f)/d;return!(g<0||g>1)}function eB(e,t,n,r){return e*r-n*t}function Tlt(e){return e<=1e-6&&e>=-1e-6}function Nx(e){var t=e.itemTooltipOption,n=e.componentModel,r=e.itemName,i=An(t)?{formatter:t}:t,a=n.mainType,o=n.componentIndex,s={componentType:a,name:r,$vars:["name"]};s[a+"Index"]=o;var l=e.formatterParamsExtra;l&&te(Jr(l),function(c){Dn(s,c)||(s[c]=l[c],s.$vars.push(c))});var u=gr(e.el);u.componentMainType=a,u.componentIndex=o,u.tooltipConfig={name:r,option:tr({content:r,encodeHTMLContent:!0,formatterParams:s},i)}}function jQ(e,t){var n;e.isGroup&&(n=t(e)),n||e.traverse(t)}function tm(e,t){if(e)if(Lt(e))for(var n=0;n<e.length;n++)jQ(e[n],t);else jQ(e,t)}rd("circle",Wp);rd("ellipse",yP);rd("sector",Nl);rd("ring",lw);rd("polygon",Bl);rd("polyline",kl);rd("rect",si);rd("line",qo);rd("bezierCurve",uw);rd("arc",_P);const Vy=Object.freeze(Object.defineProperty({__proto__:null,Arc:_P,BezierCurve:uw,BoundingRect:Mr,Circle:Wp,CompoundPath:bW,Ellipse:yP,Group:hr,Image:ms,IncrementalDisplayable:mlt,Line:qo,LinearGradient:Zo,OrientedBoundingRect:WM,Path:Wr,Point:Rr,Polygon:Bl,Polyline:kl,RadialGradient:s1e,Rect:si,Ring:lw,Sector:Nl,Text:pi,applyTransform:$f,clipPointsByRect:d1e,clipRectByRect:Elt,createIcon:fw,extendPath:xlt,extendShape:_lt,getShapeClass:SW,getTransform:ey,groupTransition:cw,initProps:Ca,isElementRemoved:ob,lineLineIntersect:h1e,linePolygonIntersect:uE,makeImage:u1e,makePath:bP,mergePath:Tc,registerShape:rd,removeElement:zg,removeElementWithFadeOut:tT,resizePath:f1e,setTooltipConfig:Nx,subPixelOptimize:I3,subPixelOptimizeLine:Gb,subPixelOptimizeRect:Slt,transformDirection:xP,traverseElements:tm,updateProps:Si},Symbol.toStringTag,{value:"Module"}));var SP={};function p1e(e,t){for(var n=0;n<Ll.length;n++){var r=Ll[n],i=t[r],a=e.ensureState(r);a.style=a.style||{},a.style.text=i}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(o,!0)}function kV(e,t,n){var r=e.labelFetcher,i=e.labelDataIndex,a=e.labelDimIndex,o=t.normal,s;r&&(s=r.getFormattedLabel(i,"normal",null,a,o&&o.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=er(e.defaultText)?e.defaultText(i,e,n):e.defaultText);for(var l={normal:s},u=0;u<Ll.length;u++){var c=Ll[u],f=t[c];l[c]=Sr(r?r.getFormattedLabel(i,c,null,a,f&&f.get("formatter")):null,s)}return l}function Ns(e,t,n,r){n=n||SP;for(var i=e instanceof pi,a=!1,o=0;o<J2.length;o++){var s=t[J2[o]];if(s&&s.getShallow("show")){a=!0;break}}var l=i?e:e.getTextContent();if(a){i||(l||(l=new pi,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=kV(n,t),c=t.normal,f=!!c.getShallow("show"),d=ha(c,r&&r.normal,n,!1,!i);d.text=u.normal,i||e.setTextConfig(YM(c,n,!1));for(var o=0;o<Ll.length;o++){var h=Ll[o],s=t[h];if(s){var p=l.ensureState(h),v=!!Sr(s.getShallow("show"),f);if(v!==f&&(p.ignore=!v),p.style=ha(s,r&&r[h],n,!0,!i),p.style.text=u[h],!i){var g=e.ensureState(h);g.textConfig=YM(s,n,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),n.enableTextSetter&&(Bx(l).setLabelText=function(m){var b=kV(n,t,m);p1e(l,b)})}else l&&(l.ignore=!0);e.dirty()}function is(e,t){t=t||"label";for(var n={normal:e.getModel(t)},r=0;r<Ll.length;r++){var i=Ll[r];n[i]=e.getModel([i,t])}return n}function ha(e,t,n,r,i){var a={};return wlt(a,e,n,r,i),t&&Ct(a,t),a}function YM(e,t,n){t=t||{};var r={},i,a=e.getShallow("rotate"),o=Sr(e.getShallow("distance"),n?null:5),s=e.getShallow("offset");return i=e.getShallow("position")||(n?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(r.position=i),s!=null&&(r.offset=s),a!=null&&(a*=Math.PI/180,r.rotation=a),o!=null&&(r.distance=o),r.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",r}function wlt(e,t,n,r,i){n=n||SP;var a=t.ecModel,o=a&&a.option.textStyle,s=Clt(t),l;if(s){l={};for(var u in s)if(s.hasOwnProperty(u)){var c=t.getModel(["rich",u]);qQ(l[u]={},c,o,n,r,i,!1,!0)}}l&&(e.rich=l);var f=t.get("overflow");f&&(e.overflow=f);var d=t.get("minMargin");d!=null&&(e.margin=d),qQ(e,t,o,n,r,i,!0,!1)}function Clt(e){for(var t;e&&e!==e.ecModel;){var n=(e.option||SP).rich;if(n){t=t||{};for(var r=Jr(n),i=0;i<r.length;i++){var a=r[i];t[a]=1}}e=e.parentModel}return t}var YQ=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],XQ=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],KQ=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function qQ(e,t,n,r,i,a,o,s){n=!i&&n||SP;var l=r&&r.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),f=Sr(t.getShallow("opacity"),n.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),a||(u=u||n.color,c=c||n.textBorderColor),u!=null&&(e.fill=u),c!=null&&(e.stroke=c);var d=Sr(t.getShallow("textBorderWidth"),n.textBorderWidth);d!=null&&(e.lineWidth=d);var h=Sr(t.getShallow("textBorderType"),n.textBorderType);h!=null&&(e.lineDash=h);var p=Sr(t.getShallow("textBorderDashOffset"),n.textBorderDashOffset);p!=null&&(e.lineDashOffset=p),!i&&f==null&&!s&&(f=r&&r.defaultOpacity),f!=null&&(e.opacity=f),!i&&!a&&e.fill==null&&r.inheritColor&&(e.fill=r.inheritColor);for(var v=0;v<YQ.length;v++){var g=YQ[v],m=Sr(t.getShallow(g),n[g]);m!=null&&(e[g]=m)}for(var v=0;v<XQ.length;v++){var g=XQ[v],m=t.getShallow(g);m!=null&&(e[g]=m)}if(e.verticalAlign==null){var b=t.getShallow("baseline");b!=null&&(e.verticalAlign=b)}if(!o||!r.disableBox){for(var v=0;v<KQ.length;v++){var g=KQ[v],m=t.getShallow(g);m!=null&&(e[g]=m)}var _=t.getShallow("borderType");_!=null&&(e.borderDash=_),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor=l)}}function AW(e,t){var n=t&&t.getModel("textStyle");return Lf([e.fontStyle||n&&n.getShallow("fontStyle")||"",e.fontWeight||n&&n.getShallow("fontWeight")||"",(e.fontSize||n&&n.getShallow("fontSize")||12)+"px",e.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var Bx=ui();function v1e(e,t,n,r){if(e){var i=Bx(e);i.prevValue=i.value,i.value=n;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=t)}}function g1e(e,t,n,r,i){var a=Bx(e);if(!a.valueAnimation||a.prevValue===a.value)return;var o=a.defaultInterpolatedText,s=Sr(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var f=D_e(n,a.precision,s,l,c);a.interpolatedValue=c===1?null:f;var d=kV({labelDataIndex:t,labelFetcher:i,defaultText:o?o(f):f+""},a.statesModels,f);p1e(e,d)}e.percent=0,(a.prevValue==null?Ca:Si)(e,{percent:1},r,t,null,u)}var Rlt=["textStyle","color"],tB=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],nB=new pi,Ilt=function(){function e(){}return e.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(Rlt):null)},e.prototype.getFont=function(){return AW({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<tB.length;r++)n[tB[r]]=this.getShallow(tB[r]);return nB.useStyle(n),nB.update(),nB.getBoundingRect()},e}(),m1e=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Mlt=_y(m1e),Olt=function(){function e(){}return e.prototype.getLineStyle=function(t){return Mlt(this,t)},e}(),y1e=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Dlt=_y(y1e),Plt=function(){function e(){}return e.prototype.getItemStyle=function(t,n){return Dlt(this,t,n)},e}(),zi=function(){function e(t,n,r){this.parentModel=n,this.ecModel=r,this.option=t}return e.prototype.init=function(t,n,r){},e.prototype.mergeOption=function(t,n){wr(this.option,t,!0)},e.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},e.prototype.getShallow=function(t,n){var r=this.option,i=r==null?r:r[t];if(i==null&&!n){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},e.prototype.getModel=function(t,n){var r=t!=null,i=r?this.parsePath(t):null,a=r?this._doGet(i):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(a,n,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(sr(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!qr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,n){var r=this.option;if(!t)return r;for(var i=0;i<t.length&&!(t[i]&&(r=r&&typeof r=="object"?r[t[i]]:null,r==null));i++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(t),n.parentModel)),r},e}();fW(zi);$ot(zi);Mo(zi,Olt);Mo(zi,Plt);Mo(zi,Yot);Mo(zi,Ilt);var Llt=Math.round(Math.random()*10);function kx(e){return[e||"",Llt++].join("_")}function Nlt(e){var t={};e.registerSubTypeDefaulter=function(n,r){var i=Hd(n);t[i.main]=r},e.determineSubType=function(n,r){var i=r.type;if(!i){var a=Hd(n).main;e.hasSubTypes(n)&&t[a]&&(i=t[a](r))}return i}}function Blt(e,t){e.topologicalTravel=function(a,o,s,l){if(!a.length)return;var u=n(o),c=u.graph,f=u.noEntryList,d={};for(te(a,function(b){d[b]=!0});f.length;){var h=f.pop(),p=c[h],v=!!d[h];v&&(s.call(l,h,p.originalDeps.slice()),delete d[h]),te(p.successor,v?m:g)}te(d,function(){var b="";throw new Error(b)});function g(b){c[b].entryCount--,c[b].entryCount===0&&f.push(b)}function m(b){d[b]=!0,g(b)}};function n(a){var o={},s=[];return te(a,function(l){var u=r(o,l),c=u.originalDeps=t(l),f=i(c,a);u.entryCount=f.length,u.entryCount===0&&s.push(l),te(f,function(d){Ur(u.predecessor,d)<0&&u.predecessor.push(d);var h=r(o,d);Ur(h.successor,d)<0&&h.successor.push(l)})}),{graph:o,noEntryList:s}}function r(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}function i(a,o){var s=[];return te(a,function(l){Ur(o,l)>=0&&s.push(l)}),s}}function nm(e,t){return wr(wr({},e,!0),t,!0)}const klt={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Flt={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var XM="ZH",EW="EN",sb=EW,M3={},TW={},_1e=qr.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||sb).toUpperCase();return e.indexOf(XM)>-1?XM:sb}():sb;function b1e(e,t){e=e.toUpperCase(),TW[e]=new zi(t),M3[e]=t}function Ult(e){if(An(e)){var t=M3[e.toUpperCase()]||{};return e===XM||e===EW?sr(t):wr(sr(t),sr(M3[sb]),!1)}else return wr(sr(e),sr(M3[sb]),!1)}function FV(e){return TW[e]}function Vlt(){return TW[sb]}b1e(EW,klt);b1e(XM,Flt);var wW=1e3,CW=wW*60,n2=CW*60,wc=n2*24,ZQ=wc*365,cE={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},LR="{yyyy}-{MM}-{dd}",QQ={year:"{yyyy}",month:"{yyyy}-{MM}",day:LR,hour:LR+" "+cE.hour,minute:LR+" "+cE.minute,second:LR+" "+cE.second,millisecond:cE.none},rB=["year","month","day","hour","minute","second","millisecond"],x1e=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function wv(e,t){return e+="","0000".substr(0,t-e.length)+e}function lb(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function zlt(e){return e===lb(e)}function $lt(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function AP(e,t,n,r){var i=ah(e),a=i[RW(n)](),o=i[ub(n)]()+1,s=Math.floor((o-1)/3)+1,l=i[EP(n)](),u=i["get"+(n?"UTC":"")+"Day"](),c=i[nT(n)](),f=(c-1)%12+1,d=i[TP(n)](),h=i[wP(n)](),p=i[CP(n)](),v=c>=12?"pm":"am",g=v.toUpperCase(),m=r instanceof zi?r:FV(r||_1e)||Vlt(),b=m.getModel("time"),_=b.get("month"),x=b.get("monthAbbr"),E=b.get("dayOfWeek"),A=b.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,v+"").replace(/{A}/g,g+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,wv(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,_[o-1]).replace(/{MMM}/g,x[o-1]).replace(/{MM}/g,wv(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,wv(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,E[u]).replace(/{ee}/g,A[u]).replace(/{e}/g,u+"").replace(/{HH}/g,wv(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,wv(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,wv(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,wv(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,wv(p,3)).replace(/{S}/g,p+"")}function Hlt(e,t,n,r,i){var a=null;if(An(n))a=n;else if(er(n))a=n(e.value,t,{level:e.level});else{var o=Ct({},cE);if(e.level>0)for(var s=0;s<rB.length;++s)o[rB[s]]="{primary|"+o[rB[s]]+"}";var l=n?n.inherit===!1?n:tr(n,o):o,u=S1e(e.value,i);if(l[u])a=l[u];else if(l.inherit){for(var c=x1e.indexOf(u),s=c-1;s>=0;--s)if(l[u]){a=l[u];break}a=a||o.none}if(Lt(a)){var f=e.level==null?0:e.level>=0?e.level:a.length+e.level;f=Math.min(f,a.length-1),a=a[f]}}return AP(new Date(e.value),a,i,r)}function S1e(e,t){var n=ah(e),r=n[ub(t)]()+1,i=n[EP(t)](),a=n[nT(t)](),o=n[TP(t)](),s=n[wP(t)](),l=n[CP(t)](),u=l===0,c=u&&s===0,f=c&&o===0,d=f&&a===0,h=d&&i===1,p=h&&r===1;return p?"year":h?"month":d?"day":f?"hour":c?"minute":u?"second":"millisecond"}function JQ(e,t,n){var r=yi(e)?ah(e):e;switch(t=t||S1e(e,n),t){case"year":return r[RW(n)]();case"half-year":return r[ub(n)]()>=6?1:0;case"quarter":return Math.floor((r[ub(n)]()+1)/4);case"month":return r[ub(n)]();case"day":return r[EP(n)]();case"half-day":return r[nT(n)]()/24;case"hour":return r[nT(n)]();case"minute":return r[TP(n)]();case"second":return r[wP(n)]();case"millisecond":return r[CP(n)]()}}function RW(e){return e?"getUTCFullYear":"getFullYear"}function ub(e){return e?"getUTCMonth":"getMonth"}function EP(e){return e?"getUTCDate":"getDate"}function nT(e){return e?"getUTCHours":"getHours"}function TP(e){return e?"getUTCMinutes":"getMinutes"}function wP(e){return e?"getUTCSeconds":"getSeconds"}function CP(e){return e?"getUTCMilliseconds":"getMilliseconds"}function Wlt(e){return e?"setUTCFullYear":"setFullYear"}function A1e(e){return e?"setUTCMonth":"setMonth"}function E1e(e){return e?"setUTCDate":"setDate"}function T1e(e){return e?"setUTCHours":"setHours"}function w1e(e){return e?"setUTCMinutes":"setMinutes"}function C1e(e){return e?"setUTCSeconds":"setSeconds"}function R1e(e){return e?"setUTCMilliseconds":"setMilliseconds"}function I1e(e){if(!E_e(e))return An(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function M1e(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Fx=tW;function UV(e,t,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&Lf(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var o=t==="time",s=e instanceof Date;if(o||s){var l=o?ah(e):e;if(isNaN(+l)){if(s)return"-"}else return AP(l,r,n)}if(t==="ordinal")return rV(e)?i(e):yi(e)&&a(e)?e+"":"-";var u=Ip(e);return a(u)?I1e(u):rV(e)?i(e):typeof e=="boolean"?e+"":"-"}var eJ=["a","b","c","d","e","f","g"],iB=function(e,t){return"{"+e+(t??"")+"}"};function O1e(e,t,n){Lt(t)||(t=[t]);var r=t.length;if(!r)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var o=eJ[a];e=e.replace(iB(o),iB(o,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var u=t[s][i[l]];e=e.replace(iB(eJ[l],s),n?uu(u):u)}return e}function Glt(e,t,n){return te(t,function(r,i){e=e.replace("{"+i+"}",r)}),e}function jlt(e,t){var n=An(e)?{color:e,extraCssText:t}:e||{},r=n.color,i=n.type;t=n.extraCssText;var a=n.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+uu(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+uu(r)+";"+(t||"")+'"></span>';var o=n.markerId||"markerX";return{renderMode:a,content:"{"+o+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function xy(e,t){return t=t||"transparent",An(e)?e:ar(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function KM(e,t){if(t==="_blank"||t==="blank"){var n=window.open();n.opener=null,n.location.href=e}else window.open(e,t)}var O3=te,D1e=["left","right","top","bottom","width","height"],k0=[["width","left","right"],["height","top","bottom"]];function IW(e,t,n,r,i){var a=0,o=0;r==null&&(r=1/0),i==null&&(i=1/0);var s=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),f=t.childAt(u+1),d=f&&f.getBoundingRect(),h,p;if(e==="horizontal"){var v=c.width+(d?-d.x+c.x:0);h=a+v,h>r||l.newline?(a=0,h=v,o+=s+n,s=c.height):s=Math.max(s,c.height)}else{var g=c.height+(d?-d.y+c.y:0);p=o+g,p>i||l.newline?(a+=s+n,o=0,p=g,s=c.width):s=Math.max(s,c.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),e==="horizontal"?a=h+n:o=p+n)})}var ty=IW;Tr(IW,"vertical");Tr(IW,"horizontal");function Ylt(e,t,n){var r=t.width,i=t.height,a=vn(e.left,r),o=vn(e.top,i),s=vn(e.right,r),l=vn(e.bottom,i);return(isNaN(a)||isNaN(parseFloat(e.left)))&&(a=0),(isNaN(s)||isNaN(parseFloat(e.right)))&&(s=r),(isNaN(o)||isNaN(parseFloat(e.top)))&&(o=0),(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=i),n=Fx(n||0),{width:Math.max(s-a-n[1]-n[3],0),height:Math.max(l-o-n[0]-n[2],0)}}function $o(e,t,n){n=Fx(n||0);var r=t.width,i=t.height,a=vn(e.left,r),o=vn(e.top,i),s=vn(e.right,r),l=vn(e.bottom,i),u=vn(e.width,r),c=vn(e.height,i),f=n[2]+n[0],d=n[1]+n[3],h=e.aspect;switch(isNaN(u)&&(u=r-s-d-a),isNaN(c)&&(c=i-l-f-o),h!=null&&(isNaN(u)&&isNaN(c)&&(h>r/i?u=r*.8:c=i*.8),isNaN(u)&&(u=h*c),isNaN(c)&&(c=u/h)),isNaN(a)&&(a=r-s-u-d),isNaN(o)&&(o=i-l-c-f),e.left||e.right){case"center":a=r/2-u/2-n[3];break;case"right":a=r-u-d;break}switch(e.top||e.bottom){case"middle":case"center":o=i/2-c/2-n[0];break;case"bottom":o=i-c-f;break}a=a||0,o=o||0,isNaN(u)&&(u=r-d-a-(s||0)),isNaN(c)&&(c=i-f-o-(l||0));var p=new Mr(a+n[3],o+n[0],u,c);return p.margin=n,p}function RP(e,t,n,r,i,a){var o=!i||!i.hv||i.hv[0],s=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||e,a.x=e.x,a.y=e.y,!o&&!s)return!1;var u;if(l==="raw")u=e.type==="group"?new Mr(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();u=u.clone(),u.applyTransform(c)}var f=$o(tr({width:u.width,height:u.height},t),n,r),d=o?f.x-u.x:0,h=s?f.y-u.y:0;return l==="raw"?(a.x=d,a.y=h):(a.x+=d,a.y+=h),a===e&&e.markRedraw(),!0}function Xlt(e,t){return e[k0[t][0]]!=null||e[k0[t][1]]!=null&&e[k0[t][2]]!=null}function rT(e){var t=e.layoutMode||e.constructor.layoutMode;return ar(t)?t:t?{type:t}:null}function $g(e,t,n){var r=n&&n.ignoreSize;!Lt(r)&&(r=[r,r]);var i=o(k0[0],0),a=o(k0[1],1);u(k0[0],e,i),u(k0[1],e,a);function o(c,f){var d={},h=0,p={},v=0,g=2;if(O3(c,function(_){p[_]=e[_]}),O3(c,function(_){s(t,_)&&(d[_]=p[_]=t[_]),l(d,_)&&h++,l(p,_)&&v++}),r[f])return l(t,c[1])?p[c[2]]=null:l(t,c[2])&&(p[c[1]]=null),p;if(v===g||!h)return p;if(h>=g)return d;for(var m=0;m<c.length;m++){var b=c[m];if(!s(d,b)&&s(e,b)){d[b]=e[b];break}}return d}function s(c,f){return c.hasOwnProperty(f)}function l(c,f){return c[f]!=null&&c[f]!=="auto"}function u(c,f,d){O3(c,function(h){f[h]=d[h]})}}function Ux(e){return P1e({},e)}function P1e(e,t){return t&&e&&O3(D1e,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var Klt=ui(),Qr=function(e){et(t,e);function t(n,r,i){var a=e.call(this,n,r,i)||this;return a.uid=kx("ec_cpt_model"),a}return t.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},t.prototype.mergeDefaultAndTheme=function(n,r){var i=rT(this),a=i?Ux(n):{},o=r.getTheme();wr(n,o.get(this.mainType)),wr(n,this.getDefaultOption()),i&&$g(n,a,i)},t.prototype.mergeOption=function(n,r){wr(this.option,n,!0);var i=rT(this);i&&$g(this.option,n,i)},t.prototype.optionUpdated=function(n,r){},t.prototype.getDefaultOption=function(){var n=this.constructor;if(!Uot(n))return n.defaultOption;var r=Klt(this);if(!r.defaultOption){for(var i=[],a=n;a;){var o=a.prototype.defaultOption;o&&i.push(o),a=a.superClass}for(var s={},l=i.length-1;l>=0;l--)s=wr(s,i[l],!0);r.defaultOption=s}return r.defaultOption},t.prototype.getReferringComponents=function(n,r){var i=n+"Index",a=n+"Id";return ow(this.ecModel,n,{index:this.get(i,!0),id:this.get(a,!0)},r)},t.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(n){this.option.zlevel=n},t.protoInitialize=function(){var n=t.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),t}(zi);L_e(Qr,zi);dP(Qr);Nlt(Qr);Blt(Qr,qlt);function qlt(e){var t=[];return te(Qr.getClassesByMainType(e),function(n){t=t.concat(n.dependencies||n.prototype.dependencies||[])}),t=Vt(t,function(n){return Hd(n).main}),e!=="dataset"&&Ur(t,"dataset")<=0&&t.unshift("dataset"),t}var L1e="";typeof navigator<"u"&&(L1e=navigator.platform||"");var Q_="rgba(0, 0, 0, 0.2)";const Zlt={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Q_,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Q_,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Q_,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Q_,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Q_,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Q_,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:L1e.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var N1e=Fn(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),Hc="original",rl="arrayRows",Wc="objectRows",hh="keyedColumns",Sg="typedArray",B1e="unknown",Kd="column",Vx="row",Es={Must:1,Might:2,Not:3},k1e=ui();function Qlt(e){k1e(e).datasetMap=Fn()}function F1e(e,t,n){var r={},i=OW(t);if(!i||!e)return r;var a=[],o=[],s=t.ecModel,l=k1e(s).datasetMap,u=i.uid+"_"+n.seriesLayoutBy,c,f;e=e.slice(),te(e,function(v,g){var m=ar(v)?v:e[g]={name:v};m.type==="ordinal"&&c==null&&(c=g,f=p(m)),r[m.name]=[]});var d=l.get(u)||l.set(u,{categoryWayDim:f,valueWayDim:0});te(e,function(v,g){var m=v.name,b=p(v);if(c==null){var _=d.valueWayDim;h(r[m],_,b),h(o,_,b),d.valueWayDim+=b}else if(c===g)h(r[m],0,b),h(a,0,b);else{var _=d.categoryWayDim;h(r[m],_,b),h(o,_,b),d.categoryWayDim+=b}});function h(v,g,m){for(var b=0;b<m;b++)v.push(g+b)}function p(v){var g=v.dimsDef;return g?g.length:1}return a.length&&(r.itemName=a),o.length&&(r.seriesName=o),r}function MW(e,t,n){var r={},i=OW(e);if(!i)return r;var a=t.sourceFormat,o=t.dimensionsDefine,s;(a===Wc||a===hh)&&te(o,function(c,f){(ar(c)?c.name:c)==="name"&&(s=f)});var l=function(){for(var c={},f={},d=[],h=0,p=Math.min(5,n);h<p;h++){var v=V1e(t.data,a,t.seriesLayoutBy,o,t.startIndex,h);d.push(v);var g=v===Es.Not;if(g&&c.v==null&&h!==s&&(c.v=h),(c.n==null||c.n===c.v||!g&&d[c.n]===Es.Not)&&(c.n=h),m(c)&&d[c.n]!==Es.Not)return c;g||(v===Es.Might&&f.v==null&&h!==s&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function m(b){return b.v!=null&&b.n!=null}return m(c)?c:m(f)?f:null}();if(l){r.value=[l.v];var u=s??l.n;r.itemName=[u],r.seriesName=[u]}return r}function OW(e){var t=e.get("data",!0);if(!t)return ow(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},wo).models[0]}function Jlt(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:ow(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},wo).models}function U1e(e,t){return V1e(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function V1e(e,t,n,r,i,a){var o,s=5;if(_u(e))return Es.Not;var l,u;if(r){var c=r[a];ar(c)?(l=c.name,u=c.type):An(c)&&(l=c)}if(u!=null)return u==="ordinal"?Es.Must:Es.Not;if(t===rl){var f=e;if(n===Vx){for(var d=f[a],h=0;h<(d||[]).length&&h<s;h++)if((o=x(d[i+h]))!=null)return o}else for(var h=0;h<f.length&&h<s;h++){var p=f[i+h];if(p&&(o=x(p[a]))!=null)return o}}else if(t===Wc){var v=e;if(!l)return Es.Not;for(var h=0;h<v.length&&h<s;h++){var g=v[h];if(g&&(o=x(g[l]))!=null)return o}}else if(t===hh){var m=e;if(!l)return Es.Not;var d=m[l];if(!d||_u(d))return Es.Not;for(var h=0;h<d.length&&h<s;h++)if((o=x(d[h]))!=null)return o}else if(t===Hc)for(var b=e,h=0;h<b.length&&h<s;h++){var g=b[h],_=Dx(g);if(!Lt(_))return Es.Not;if((o=x(_[a]))!=null)return o}function x(E){var A=An(E);if(E!=null&&Number.isFinite(Number(E))&&E!=="")return A?Es.Might:Es.Not;if(A&&E!=="-")return Es.Must}return Es.Not}var VV=Fn();function eut(e,t){Pl(VV.get(e)==null&&t),VV.set(e,t)}function tut(e,t,n){var r=VV.get(t);if(!r)return n;var i=r(e);return i?n.concat(i):n}var tJ=ui(),nut=ui(),DW=function(){function e(){}return e.prototype.getColorFromPalette=function(t,n,r){var i=Zi(this.get("color",!0)),a=this.get("colorLayer",!0);return z1e(this,tJ,i,a,t,n,r)},e.prototype.clearColorPalette=function(){iut(this,tJ)},e}();function zV(e,t,n,r){var i=Zi(e.get(["aria","decal","decals"]));return z1e(e,nut,i,null,t,n,r)}function rut(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r].length>t)return e[r];return e[n-1]}function z1e(e,t,n,r,i,a,o){a=a||e;var s=t(a),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=o==null||!r?n:rut(r,o);if(c=c||n,!(!c||!c.length)){var f=c[l];return i&&(u[i]=f),s.paletteIdx=(l+1)%c.length,f}}function iut(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var NR,lA,nJ,rJ="\0_ec_inner",aut=1,PW=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n,r,i,a,o,s){a=a||{},this.option=null,this._theme=new zi(a),this._locale=new zi(o),this._optionManager=s},t.prototype.setOption=function(n,r,i){var a=oJ(r);this._optionManager.setOption(n,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(n,r){return this._resetOption(n,oJ(r))},t.prototype._resetOption=function(n,r){var i=!1,a=this._optionManager;if(!n||n==="recreate"){var o=a.mountOption(n==="recreate");!this.option||n==="recreate"?nJ(this,o):(this.restoreData(),this._mergeOption(o,r)),i=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var s=a.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,r))}if(!n||n==="recreate"||n==="media"){var l=a.getMediaOption(this);l.length&&te(l,function(u){i=!0,this._mergeOption(u,r)},this)}return i},t.prototype.mergeOption=function(n){this._mergeOption(n,null)},t.prototype._mergeOption=function(n,r){var i=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=Fn(),u=r&&r.replaceMergeMainTypeMap;Qlt(this),te(n,function(f,d){f!=null&&(Qr.hasClass(d)?d&&(s.push(d),l.set(d,!0)):i[d]=i[d]==null?sr(f):wr(i[d],f,!0))}),u&&u.each(function(f,d){Qr.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),Qr.topologicalTravel(s,Qr.getAllClassMainTypes(),c,this);function c(f){var d=tut(this,f,Zi(n[f])),h=a.get(f),p=h?u&&u.get(f)?"replaceMerge":"normalMerge":"replaceAll",v=I_e(h,d,p);Mot(v,f,Qr),i[f]=null,a.set(f,null),o.set(f,0);var g=[],m=[],b=0,_;te(v,function(x,E){var A=x.existing,T=x.newOption;if(!T)A&&(A.mergeOption({},this),A.optionUpdated({},!1));else{var R=f==="series",M=Qr.getClass(f,x.keyInfo.subType,!R);if(!M)return;if(f==="tooltip"){if(_)return;_=!0}if(A&&A.constructor===M)A.name=x.keyInfo.name,A.mergeOption(T,this),A.optionUpdated(T,!1);else{var O=Ct({componentIndex:E},x.keyInfo);A=new M(T,this,this,O),Ct(A,O),x.brandNew&&(A.__requireNewView=!0),A.init(T,this,this),A.optionUpdated(null,!0)}}A?(g.push(A.option),m.push(A),b++):(g.push(void 0),m.push(void 0))},this),i[f]=g,a.set(f,m),o.set(f,b),f==="series"&&NR(this)}this._seriesIndices||NR(this)},t.prototype.getOption=function(){var n=sr(this.option);return te(n,function(r,i){if(Qr.hasClass(i)){for(var a=Zi(r),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!Q2(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,n[i]=a}}),delete n[rJ],n},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(n){this._payload=n},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(n,r){var i=this._componentsMap.get(n);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var o=0;o<i.length;o++)if(i[o])return i[o]}}},t.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var i=n.index,a=n.id,o=n.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var l;return i!=null?(l=[],te(Zi(i),function(u){s[u]&&l.push(s[u])})):a!=null?l=iJ("id",a,s):o!=null?l=iJ("name",o,s):l=Xi(s,function(u){return!!u}),aJ(l,n)},t.prototype.findComponents=function(n){var r=n.query,i=n.mainType,a=s(r),o=a?this.queryComponents(a):Xi(this._componentsMap.get(i),function(u){return!!u});return l(aJ(o,n));function s(u){var c=i+"Index",f=i+"Id",d=i+"Name";return u&&(u[c]!=null||u[f]!=null||u[d]!=null)?{mainType:i,index:u[c],id:u[f],name:u[d]}:null}function l(u){return n.filter?Xi(u,n.filter):u}},t.prototype.eachComponent=function(n,r,i){var a=this._componentsMap;if(er(n)){var o=r,s=n;a.each(function(f,d){for(var h=0;f&&h<f.length;h++){var p=f[h];p&&s.call(o,d,p,p.componentIndex)}})}else for(var l=An(n)?a.get(n):ar(n)?this.findComponents(n):null,u=0;l&&u<l.length;u++){var c=l[u];c&&r.call(i,c,c.componentIndex)}},t.prototype.getSeriesByName=function(n){var r=Uo(n,null);return Xi(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},t.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},t.prototype.getSeriesByType=function(n){return Xi(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},t.prototype.getSeries=function(){return Xi(this._componentsMap.get("series"),function(n){return!!n})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(n,r){lA(this),te(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];n.call(r,a,i)},this)},t.prototype.eachRawSeries=function(n,r){te(this._componentsMap.get("series"),function(i){i&&n.call(r,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(n,r,i){lA(this),te(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===n&&r.call(i,o,a)},this)},t.prototype.eachRawSeriesByType=function(n,r,i){return te(this.getSeriesByType(n),r,i)},t.prototype.isSeriesFiltered=function(n){return lA(this),this._seriesIndicesMap.get(n.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(n,r){lA(this);var i=[];te(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];n.call(r,o,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Fn(i)},t.prototype.restoreData=function(n){NR(this);var r=this._componentsMap,i=[];r.each(function(a,o){Qr.hasClass(o)&&i.push(o)}),Qr.topologicalTravel(i,Qr.getAllClassMainTypes(),function(a){te(r.get(a),function(o){o&&(a!=="series"||!out(o,n))&&o.restoreData()})})},t.internalField=function(){NR=function(n){var r=n._seriesIndices=[];te(n._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),n._seriesIndicesMap=Fn(r)},lA=function(n){},nJ=function(n,r){n.option={},n.option[rJ]=aut,n._componentsMap=Fn({series:[]}),n._componentsCount=Fn();var i=r.aria;ar(i)&&i.enabled==null&&(i.enabled=!0),sut(r,n._theme.option),wr(r,Zlt,!1),n._mergeOption(r,null)}}(),t}(zi);function out(e,t){if(t){var n=t.seriesIndex,r=t.seriesId,i=t.seriesName;return n!=null&&e.componentIndex!==n||r!=null&&e.id!==r||i!=null&&e.name!==i}}function sut(e,t){var n=e.color&&!e.colorLayer;te(t,function(r,i){i==="colorLayer"&&n||Qr.hasClass(i)||(typeof r=="object"?e[i]=e[i]?wr(e[i],r,!1):sr(r):e[i]==null&&(e[i]=r))})}function iJ(e,t,n){if(Lt(t)){var r=Fn();return te(t,function(a){if(a!=null){var o=Uo(a,null);o!=null&&r.set(a,!0)}}),Xi(n,function(a){return a&&r.get(a[e])})}else{var i=Uo(t,null);return Xi(n,function(a){return a&&i!=null&&a[e]===i})}}function aJ(e,t){return t.hasOwnProperty("subType")?Xi(e,function(n){return n&&n.subType===t.subType}):e}function oJ(e){var t=Fn();return e&&te(Zi(e.replaceMerge),function(n){t.set(n,!0)}),{replaceMergeMainTypeMap:t}}Mo(PW,DW);var lut=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],$1e=function(){function e(t){te(lut,function(n){this[n]=Rn(t[n],t)},this)}return e}(),aB={},dw=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,n){var r=[];te(aB,function(i,a){var o=i.create(t,n);r=r.concat(o||[])}),this._coordinateSystems=r},e.prototype.update=function(t,n){te(this._coordinateSystems,function(r){r.update&&r.update(t,n)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,n){aB[t]=n},e.get=function(t){return aB[t]},e}(),uut=/^(min|max)?(.+)$/,cut=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,n,r){t&&(te(Zi(t.series),function(o){o&&o.data&&_u(o.data)&&DM(o.data)}),te(Zi(t.dataset),function(o){o&&o.source&&_u(o.source)&&DM(o.source)})),t=sr(t);var i=this._optionBackup,a=fut(t,n,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},e.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],sr(t?n.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var n,r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");i&&(n=sr(r[i.getCurrentIndex()]))}return n},e.prototype.getMediaOption=function(t){var n=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!i.length&&!a)return s;for(var l=0,u=i.length;l<u;l++)dut(i[l].query,n,r)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!put(o,this._currentMediaIndices)&&(s=Vt(o,function(c){return sr(c===-1?a.option:i[c].option)})),this._currentMediaIndices=o,s},e}();function fut(e,t,n){var r=[],i,a,o=e.baseOption,s=e.timeline,l=e.options,u=e.media,c=!!e.media,f=!!(l||s||o&&o.timeline);o?(a=o,a.timeline||(a.timeline=s)):((f||c)&&(e.options=e.media=null),a=e),c&&Lt(u)&&te(u,function(h){h&&h.option&&(h.query?r.push(h):i||(i=h))}),d(a),te(l,function(h){return d(h)}),te(r,function(h){return d(h.option)});function d(h){te(t,function(p){p(h,n)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function dut(e,t,n){var r={width:t,height:n,aspectratio:t/n},i=!0;return te(e,function(a,o){var s=o.match(uut);if(!(!s||!s[1]||!s[2])){var l=s[1],u=s[2].toLowerCase();hut(r[u],a,l)||(i=!1)}}),i}function hut(e,t,n){return n==="min"?e>=t:n==="max"?e<=t:e===t}function put(e,t){return e.join(",")===t.join(",")}var bf=te,iT=ar,sJ=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function oB(e){var t=e&&e.itemStyle;if(t)for(var n=0,r=sJ.length;n<r;n++){var i=sJ[n],a=t.normal,o=t.emphasis;a&&a[i]&&(e[i]=e[i]||{},e[i].normal?wr(e[i].normal,a[i]):e[i].normal=a[i],a[i]=null),o&&o[i]&&(e[i]=e[i]||{},e[i].emphasis?wr(e[i].emphasis,o[i]):e[i].emphasis=o[i],o[i]=null)}}function Ys(e,t,n){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var r=e[t].normal,i=e[t].emphasis;r&&(n?(e[t].normal=e[t].emphasis=null,tr(e[t],r)):e[t]=r),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function fE(e){Ys(e,"itemStyle"),Ys(e,"lineStyle"),Ys(e,"areaStyle"),Ys(e,"label"),Ys(e,"labelLine"),Ys(e,"upperLabel"),Ys(e,"edgeLabel")}function To(e,t){var n=iT(e)&&e[t],r=iT(n)&&n.textStyle;if(r)for(var i=0,a=hQ.length;i<a;i++){var o=hQ[i];r.hasOwnProperty(o)&&(n[o]=r[o])}}function gc(e){e&&(fE(e),To(e,"label"),e.emphasis&&To(e.emphasis,"label"))}function vut(e){if(iT(e)){oB(e),fE(e),To(e,"label"),To(e,"upperLabel"),To(e,"edgeLabel"),e.emphasis&&(To(e.emphasis,"label"),To(e.emphasis,"upperLabel"),To(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(oB(t),gc(t));var n=e.markLine;n&&(oB(n),gc(n));var r=e.markArea;r&&gc(r);var i=e.data;if(e.type==="graph"){i=i||e.nodes;var a=e.links||e.edges;if(a&&!_u(a))for(var o=0;o<a.length;o++)gc(a[o]);te(e.categories,function(u){fE(u)})}if(i&&!_u(i))for(var o=0;o<i.length;o++)gc(i[o]);if(t=e.markPoint,t&&t.data)for(var s=t.data,o=0;o<s.length;o++)gc(s[o]);if(n=e.markLine,n&&n.data)for(var l=n.data,o=0;o<l.length;o++)Lt(l[o])?(gc(l[o][0]),gc(l[o][1])):gc(l[o]);e.type==="gauge"?(To(e,"axisLabel"),To(e,"title"),To(e,"detail")):e.type==="treemap"?(Ys(e.breadcrumb,"itemStyle"),te(e.levels,function(u){fE(u)})):e.type==="tree"&&fE(e.leaves)}}function Qh(e){return Lt(e)?e:e?[e]:[]}function lJ(e){return(Lt(e)?e[0]:e)||{}}function gut(e,t){bf(Qh(e.series),function(r){iT(r)&&vut(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),bf(n,function(r){bf(Qh(e[r]),function(i){i&&(To(i,"axisLabel"),To(i.axisPointer,"label"))})}),bf(Qh(e.parallel),function(r){var i=r&&r.parallelAxisDefault;To(i,"axisLabel"),To(i&&i.axisPointer,"label")}),bf(Qh(e.calendar),function(r){Ys(r,"itemStyle"),To(r,"dayLabel"),To(r,"monthLabel"),To(r,"yearLabel")}),bf(Qh(e.radar),function(r){To(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),bf(Qh(e.geo),function(r){iT(r)&&(gc(r),bf(Qh(r.regions),function(i){gc(i)}))}),bf(Qh(e.timeline),function(r){gc(r),Ys(r,"label"),Ys(r,"itemStyle"),Ys(r,"controlStyle",!0);var i=r.data;Lt(i)&&te(i,function(a){ar(a)&&(Ys(a,"label"),Ys(a,"itemStyle"))})}),bf(Qh(e.toolbox),function(r){Ys(r,"iconStyle"),bf(r.feature,function(i){Ys(i,"iconStyle")})}),To(lJ(e.axisPointer),"label"),To(lJ(e.tooltip).axisPointer,"label")}function mut(e,t){for(var n=t.split(","),r=e,i=0;i<n.length&&(r=r&&r[n[i]],r!=null);i++);return r}function yut(e,t,n,r){for(var i=t.split(","),a=e,o,s=0;s<i.length-1;s++)o=i[s],a[o]==null&&(a[o]={}),a=a[o];a[i[s]]==null&&(a[i[s]]=n)}function uJ(e){e&&te(_ut,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var _ut=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],but=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],sB=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function uA(e){var t=e&&e.itemStyle;if(t)for(var n=0;n<sB.length;n++){var r=sB[n][1],i=sB[n][0];t[r]!=null&&(t[i]=t[r])}}function cJ(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function fJ(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function xut(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function H1e(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n]),e[n]&&H1e(e[n].children,t)}function W1e(e,t){gut(e,t),e.series=Zi(e.series),te(e.series,function(n){if(ar(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),cJ(n.label);var i=n.data;if(i&&!_u(i))for(var a=0;a<i.length;a++)cJ(i[a]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var o=mut(n,"pointer.color");o!=null&&yut(n,"itemStyle.color",o)}else if(r==="bar"){uA(n),uA(n.backgroundStyle),uA(n.emphasis);var i=n.data;if(i&&!_u(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(uA(i[a]),uA(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var s=n.highlightPolicy;s&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=s)),fJ(n),H1e(n.data,fJ)}else r==="graph"||r==="sankey"?xut(n):r==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&tr(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),uJ(n)}}),e.dataRange&&(e.visualMap=e.dataRange),te(but,function(n){var r=e[n];r&&(Lt(r)||(r=[r]),te(r,function(i){uJ(i)}))})}function Sut(e){var t=Fn();e.eachSeries(function(n){var r=n.get("stack");if(r){var i=t.get(r)||t.set(r,[]),a=n.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:n};if(!o.stackedDimension||!(o.isStackedByIndex||o.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}}),t.each(Aut)}function Aut(e){te(e,function(t,n){var r=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],o=t.data,s=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(u,c,f){var d=o.get(t.stackedDimension,f);if(isNaN(d))return i;var h,p;s?p=o.getRawIndex(f):h=o.get(t.stackedByDimension,f);for(var v=NaN,g=n-1;g>=0;g--){var m=e[g];if(s||(p=m.data.rawIndexOf(m.stackedByDimension,h)),p>=0){var b=m.data.getByRawIndex(m.stackResultDimension,p);if(l==="all"||l==="positive"&&b>0||l==="negative"&&b<0||l==="samesign"&&d>=0&&b>0||l==="samesign"&&d<=0&&b<0){d=_ot(d,b),v=b;break}}}return r[0]=d,r[1]=v,r})})}var IP=function(){function e(t){this.data=t.data||(t.sourceFormat===hh?{}:[]),this.sourceFormat=t.sourceFormat||B1e,this.seriesLayoutBy=t.seriesLayoutBy||Kd,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var i=n[r];i.type==null&&U1e(this,r)===Es.Must&&(i.type="ordinal")}}return e}();function LW(e){return e instanceof IP}function $V(e,t,n){n=n||G1e(e);var r=t.seriesLayoutBy,i=Tut(e,n,r,t.sourceHeader,t.dimensions),a=new IP({data:e,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:sr(t)});return a}function NW(e){return new IP({data:e,sourceFormat:_u(e)?Sg:Hc})}function Eut(e){return new IP({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:sr(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function G1e(e){var t=B1e;if(_u(e))t=Sg;else if(Lt(e)){e.length===0&&(t=rl);for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i!=null){if(Lt(i)||_u(i)){t=rl;break}else if(ar(i)){t=Wc;break}}}}else if(ar(e)){for(var a in e)if(Dn(e,a)&&nl(e[a])){t=hh;break}}return t}function Tut(e,t,n,r,i){var a,o;if(!e)return{dimensionsDefine:dJ(i),startIndex:o,dimensionsDetectedCount:a};if(t===rl){var s=e;r==="auto"||r==null?hJ(function(u){u!=null&&u!=="-"&&(An(u)?o==null&&(o=1):o=0)},n,s,10):o=yi(r)?r:r?1:0,!i&&o===1&&(i=[],hJ(function(u,c){i[c]=u!=null?u+"":""},n,s,1/0)),a=i?i.length:n===Vx?s.length:s[0]?s[0].length:null}else if(t===Wc)i||(i=wut(e));else if(t===hh)i||(i=[],te(e,function(u,c){i.push(c)}));else if(t===Hc){var l=Dx(e[0]);a=Lt(l)&&l.length||1}return{startIndex:o,dimensionsDefine:dJ(i),dimensionsDetectedCount:a}}function wut(e){for(var t=0,n;t<e.length&&!(n=e[t++]););if(n)return Jr(n)}function dJ(e){if(e){var t=Fn();return Vt(e,function(n,r){n=ar(n)?n:{name:n};var i={name:n.name,displayName:n.displayName,type:n.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function hJ(e,t,n,r){if(t===Vx)for(var i=0;i<n.length&&i<r;i++)e(n[i]?n[i][0]:null,i);else for(var a=n[0]||[],i=0;i<a.length&&i<r;i++)e(a[i],i)}function j1e(e){var t=e.sourceFormat;return t===Wc||t===hh}var t0,n0,r0,pJ,vJ,Y1e=function(){function e(t,n){var r=LW(t)?t:NW(t);this._source=r;var i=this._data=r.data;r.sourceFormat===Sg&&(this._offset=0,this._dimSize=n,this._data=i),vJ(this,i,r)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,n){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;vJ=function(o,s,l){var u=l.sourceFormat,c=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=pJ[BW(u,c)];if(Ct(o,h),u===Sg)o.getItem=n,o.count=i,o.fillStorage=r;else{var p=X1e(u,c);o.getItem=Rn(p,null,s,f,d);var v=K1e(u,c);o.count=Rn(v,null,s,f,d)}};var n=function(o,s){o=o-this._offset,s=s||[];for(var l=this._data,u=this._dimSize,c=u*o,f=0;f<u;f++)s[f]=l[c+f];return s},r=function(o,s,l,u){for(var c=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=u[d],p=h[0]==null?1/0:h[0],v=h[1]==null?-1/0:h[1],g=s-o,m=l[d],b=0;b<g;b++){var _=c[b*f+d];m[o+b]=_,_<p&&(p=_),_>v&&(v=_)}h[0]=p,h[1]=v}},i=function(){return this._data?this._data.length/this._dimSize:0};pJ=(t={},t[rl+"_"+Kd]={pure:!0,appendData:a},t[rl+"_"+Vx]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Wc]={pure:!0,appendData:a},t[hh]={pure:!0,appendData:function(o){var s=this._data;te(o,function(l,u){for(var c=s[u]||(s[u]=[]),f=0;f<(l||[]).length;f++)c.push(l[f])})}},t[Hc]={appendData:a},t[Sg]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}}(),e}(),gJ=function(e,t,n,r){return e[r]},Cut=(t0={},t0[rl+"_"+Kd]=function(e,t,n,r){return e[r+t]},t0[rl+"_"+Vx]=function(e,t,n,r,i){r+=t;for(var a=i||[],o=e,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[r]:null}return a},t0[Wc]=gJ,t0[hh]=function(e,t,n,r,i){for(var a=i||[],o=0;o<n.length;o++){var s=n[o].name,l=e[s];a[o]=l?l[r]:null}return a},t0[Hc]=gJ,t0);function X1e(e,t){var n=Cut[BW(e,t)];return n}var mJ=function(e,t,n){return e.length},Rut=(n0={},n0[rl+"_"+Kd]=function(e,t,n){return Math.max(0,e.length-t)},n0[rl+"_"+Vx]=function(e,t,n){var r=e[0];return r?Math.max(0,r.length-t):0},n0[Wc]=mJ,n0[hh]=function(e,t,n){var r=n[0].name,i=e[r];return i?i.length:0},n0[Hc]=mJ,n0);function K1e(e,t){var n=Rut[BW(e,t)];return n}var lB=function(e,t,n){return e[t]},Iut=(r0={},r0[rl]=lB,r0[Wc]=function(e,t,n){return e[n]},r0[hh]=lB,r0[Hc]=function(e,t,n){var r=Dx(e);return r instanceof Array?r[t]:r},r0[Sg]=lB,r0);function q1e(e){var t=Iut[e];return t}function BW(e,t){return e===rl?e+"_"+t:e}function jb(e,t,n){if(e){var r=e.getRawDataItem(t);if(r!=null){var i=e.getStore(),a=i.getSource().sourceFormat;if(n!=null){var o=e.getDimensionIndex(n),s=i.getDimensionProperty(o);return q1e(a)(r,o,s)}else{var l=r;return a===Hc&&(l=Dx(r)),l}}}}var Mut=/\{@(.+?)\}/g,MP=function(){function e(){}return e.prototype.getDataParams=function(t,n){var r=this.getData(n),i=this.getRawValue(t,n),a=r.getRawIndex(t),o=r.getName(t),s=r.getRawDataItem(t),l=r.getItemVisual(t,"style"),u=l&&l[r.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,f=this.mainType,d=f==="series",h=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:o,dataIndex:a,data:s,dataType:n,value:i,color:u,borderColor:c,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,n,r,i,a,o){n=n||"normal";var s=this.getData(r),l=this.getDataParams(t,r);if(o&&(l.value=o.interpolatedValue),i!=null&&Lt(l.value)&&(l.value=l.value[i]),!a){var u=s.getItemModel(t);a=u.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(er(a))return l.status=n,l.dimensionIndex=i,a(l);if(An(a)){var c=O1e(a,l);return c.replace(Mut,function(f,d){var h=d.length,p=d;p.charAt(0)==="["&&p.charAt(h-1)==="]"&&(p=+p.slice(1,h-1));var v=jb(s,t,p);if(o&&Lt(o.interpolatedValue)){var g=s.getDimensionIndex(p);g>=0&&(v=o.interpolatedValue[g])}return v!=null?v+"":""})}},e.prototype.getRawValue=function(t,n){return jb(this.getData(n),t)},e.prototype.formatTooltip=function(t,n,r){},e}();function yJ(e){var t,n;return ar(e)?e.type&&(n=e):t=e,{text:t,frag:n}}function r2(e){return new Out(e)}var Out=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(o!==l||s!==u)&&(a="reset");function c(b){return!(b>=1)&&(b=1),b}var f;(this._dirty||a==="reset")&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=u;var d=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!r&&(f||h<p)){var v=this._progress;if(Lt(v))for(var g=0;g<v.length;g++)this._doProgress(v[g],h,p,l,u);else this._doProgress(v,h,p,l,u)}this._dueIndex=p;var m=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,n,r,i,a){_J.reset(n,r,i,a),this._callingProgress=t,this._callingProgress({start:n,end:r,count:r-n,next:_J.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),Lt(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),_J=function(){var e,t,n,r,i,a={reset:function(l,u,c,f){t=l,e=u,n=c,r=f,i=Math.ceil(r/n),a.next=n>1&&r>0?s:o}};return a;function o(){return t<e?t++:null}function s(){var l=t%i*n+Math.ceil(t/i),u=t>=e?null:l<r?l:t;return t++,u}}();function Ag(e,t){var n=t&&t.type;return n==="ordinal"?e:(n==="time"&&!yi(e)&&e!=null&&e!=="-"&&(e=+ah(e)),e==null||e===""?NaN:Number(e))}var Dut=Fn({number:function(e){return parseFloat(e)},time:function(e){return+ah(e)},trim:function(e){return An(e)?Lf(e):e}});function Z1e(e){return Dut.get(e)}var Q1e={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},Put=function(){function e(t,n){if(!yi(n)){var r="";Li(r)}this._opFn=Q1e[t],this._rvalFloat=Ip(n)}return e.prototype.evaluate=function(t){return yi(t)?this._opFn(t,this._rvalFloat):this._opFn(Ip(t),this._rvalFloat)},e}(),J1e=function(){function e(t,n){var r=t==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,n){var r=yi(t)?t:Ip(t),i=yi(n)?n:Ip(n),a=isNaN(r),o=isNaN(i);if(a&&(r=this._incomparable),o&&(i=this._incomparable),a&&o){var s=An(t),l=An(n);s&&(r=l?t:0),l&&(i=s?n:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},e}(),Lut=function(){function e(t,n){this._rval=n,this._isEQ=t,this._rvalTypeof=typeof n,this._rvalFloat=Ip(n)}return e.prototype.evaluate=function(t){var n=t===this._rval;if(!n){var r=typeof t;r!==this._rvalTypeof&&(r==="number"||this._rvalTypeof==="number")&&(n=Ip(t)===this._rvalFloat)}return this._isEQ?n:!n},e}();function Nut(e,t){return e==="eq"||e==="ne"?new Lut(e==="eq",t):Dn(Q1e,e)?new Put(e,t):null}var But=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,n){},e.prototype.retrieveValueFromItem=function(t,n){},e.prototype.convertValue=function(t,n){return Ag(t,n)},e}();function kut(e,t){var n=new But,r=e.data,i=n.sourceFormat=e.sourceFormat,a=e.startIndex,o="";e.seriesLayoutBy!==Kd&&Li(o);var s=[],l={},u=e.dimensionsDefine;if(u)te(u,function(v,g){var m=v.name,b={index:g,name:m,displayName:v.displayName};if(s.push(b),m!=null){var _="";Dn(l,m)&&Li(_),l[m]=b}});else for(var c=0;c<e.dimensionsDetectedCount;c++)s.push({index:c});var f=X1e(i,Kd);t.__isBuiltIn&&(n.getRawDataItem=function(v){return f(r,a,s,v)},n.getRawData=Rn(Fut,null,e)),n.cloneRawData=Rn(Uut,null,e);var d=K1e(i,Kd);n.count=Rn(d,null,r,a,s);var h=q1e(i);n.retrieveValue=function(v,g){var m=f(r,a,s,v);return p(m,g)};var p=n.retrieveValueFromItem=function(v,g){if(v!=null){var m=s[g];if(m)return h(v,g,m.name)}};return n.getDimensionInfo=Rn(Vut,null,s,l),n.cloneAllDimensionInfo=Rn(zut,null,s),n}function Fut(e){var t=e.sourceFormat;if(!kW(t)){var n="";Li(n)}return e.data}function Uut(e){var t=e.sourceFormat,n=e.data;if(!kW(t)){var r="";Li(r)}if(t===rl){for(var i=[],a=0,o=n.length;a<o;a++)i.push(n[a].slice());return i}else if(t===Wc){for(var i=[],a=0,o=n.length;a<o;a++)i.push(Ct({},n[a]));return i}}function Vut(e,t,n){if(n!=null){if(yi(n)||!isNaN(n)&&!Dn(t,n))return e[n];if(Dn(t,n))return t[n]}}function zut(e){return sr(e)}var ebe=Fn();function $ut(e){e=sr(e);var t=e.type,n="";t||Li(n);var r=t.split(":");r.length!==2&&Li(n);var i=!1;r[0]==="echarts"&&(t=r[1],i=!0),e.__isBuiltIn=i,ebe.set(t,e)}function Hut(e,t,n){var r=Zi(e),i=r.length,a="";i||Li(a);for(var o=0,s=i;o<s;o++){var l=r[o];t=Wut(l,t),o!==s-1&&(t.length=Math.max(t.length,1))}return t}function Wut(e,t,n,r){var i="";t.length||Li(i),ar(e)||Li(i);var a=e.type,o=ebe.get(a);o||Li(i);var s=Vt(t,function(u){return kut(u,o)}),l=Zi(o.transform({upstream:s[0],upstreamList:s,config:sr(e.config)}));return Vt(l,function(u,c){var f="";ar(u)||Li(f),u.data||Li(f);var d=G1e(u.data);kW(d)||Li(f);var h,p=t[0];if(p&&c===0&&!u.dimensions){var v=p.startIndex;v&&(u.data=p.data.slice(0,v).concat(u.data)),h={seriesLayoutBy:Kd,sourceHeader:v,dimensions:p.metaRawOption.dimensions}}else h={seriesLayoutBy:Kd,sourceHeader:0,dimensions:u.dimensions};return $V(u.data,h,null)})}function kW(e){return e===rl||e===Wc}var OP="undefined",Gut=typeof Uint32Array===OP?Array:Uint32Array,jut=typeof Uint16Array===OP?Array:Uint16Array,tbe=typeof Int32Array===OP?Array:Int32Array,bJ=typeof Float64Array===OP?Array:Float64Array,nbe={float:bJ,int:tbe,ordinal:Array,number:Array,time:bJ},uB;function cA(e){return e>65535?Gut:jut}function J_(){return[1/0,-1/0]}function Yut(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function xJ(e,t,n,r,i){var a=nbe[n||"float"];if(i){var o=e[t],s=o&&o.length;if(s!==r){for(var l=new a(r),u=0;u<s;u++)l[u]=o[u];e[t]=l}}else e[t]=new a(r)}var HV=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Fn()}return e.prototype.initData=function(t,n,r){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=uB[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],j1e(i),this._dimensions=Vt(n,function(o){return{type:o.type,property:o.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,n){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(t);if(a!=null){if(i[a].type===n)return a}else a=i.length;return i[a]={type:n},r.set(t,a),this._chunks[a]=new nbe[n||"float"](this._rawCount),this._rawExtent[a]=J_(),a},e.prototype.collectOrdinalMeta=function(t,n){var r=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,o=i.ordinalOffset||0,s=r.length;o===0&&(a[t]=J_());for(var l=a[t],u=o;u<s;u++){var c=r[u]=n.parseAndCollect(r[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=n,i.ordinalOffset=s,i.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var n=this._dimensions[t],r=n.ordinalMeta;return r},e.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},e.prototype.appendData=function(t){var n=this._provider,r=this.count();n.appendData(t);var i=n.count();return n.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},e.prototype.appendValues=function(t,n){for(var r=this._chunks,i=this._dimensions,a=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,n||0),u=0;u<a;u++){var c=i[u];xJ(r,u,c.type,l,!0)}for(var f=[],d=s;d<l;d++)for(var h=d-s,p=0;p<a;p++){var c=i[p],v=uB.arrayRows.call(this,t[h]||f,c.property,h,p);r[p][d]=v;var g=o[p];v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}return this._rawCount=this._count=l,{start:s,end:l}},e.prototype._initDataFromProvider=function(t,n,r){for(var i=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,u=Vt(o,function(b){return b.property}),c=0;c<s;c++){var f=o[c];l[c]||(l[c]=J_()),xJ(a,c,f.type,n,r)}if(i.fillStorage)i.fillStorage(t,n,a,l);else for(var d=[],h=t;h<n;h++){d=i.getItem(h,d);for(var p=0;p<s;p++){var v=a[p],g=this._dimValueGetter(d,u[p],h,p);v[h]=g;var m=l[p];g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=n,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(n)]:NaN},e.prototype.getValues=function(t,n){var r=[],i=[];if(n==null){n=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;for(var a=0,o=i.length;a<o;a++)r.push(this.get(i[a],n));return r},e.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[t];return r?r[n]:NaN},e.prototype.getSum=function(t){var n=this._chunks[t],r=0;if(n)for(var i=0,a=this.count();i<a;i++){var o=this.get(t,i);isNaN(o)||(r+=o)}return r},e.prototype.getMedian=function(t){var n=[];this.each([t],function(a){isNaN(a)||n.push(a)});var r=n.sort(function(a,o){return a-o}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,r=n[t];if(r!=null&&r<this._count&&r===t)return t;for(var i=0,a=this._count-1;i<=a;){var o=(i+a)/2|0;if(n[o]<t)i=o+1;else if(n[o]>t)a=o-1;else return o}return-1},e.prototype.indicesOfNearest=function(t,n,r){var i=this._chunks,a=i[t],o=[];if(!a)return o;r==null&&(r=1/0);for(var s=1/0,l=-1,u=0,c=0,f=this.count();c<f;c++){var d=this.getRawIndex(c),h=n-a[d],p=Math.abs(h);p<=r&&((p<s||p===s&&h>=0&&l<0)&&(s=p,l=h,u=0),h===l&&(o[u++]=c))}return o.length=u,o},e.prototype.getIndices=function(){var t,n=this._indices;if(n){var r=n.constructor,i=this._count;if(r===Array){t=new r(i);for(var a=0;a<i;a++)t[a]=n[a]}else t=new r(n.buffer,0,i)}else{var r=cA(this._rawCount);t=new r(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},e.prototype.filter=function(t,n){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=cA(r._rawCount),o=new a(i),s=[],l=t.length,u=0,c=t[0],f=r._chunks,d=0;d<i;d++){var h=void 0,p=r.getRawIndex(d);if(l===0)h=n(d);else if(l===1){var v=f[c][p];h=n(v,d)}else{for(var g=0;g<l;g++)s[g]=f[t[g]][p];s[g]=d,h=n.apply(null,s)}h&&(o[u++]=p)}return u<i&&(r._indices=o),r._count=u,r._extent=[],r._updateGetRawIdx(),r},e.prototype.selectRange=function(t){var n=this.clone(),r=n._count;if(!r)return this;var i=Jr(t),a=i.length;if(!a)return this;var o=n.count(),s=cA(n._rawCount),l=new s(o),u=0,c=i[0],f=t[c][0],d=t[c][1],h=n._chunks,p=!1;if(!n._indices){var v=0;if(a===1){for(var g=h[i[0]],m=0;m<r;m++){var b=g[m];(b>=f&&b<=d||isNaN(b))&&(l[u++]=v),v++}p=!0}else if(a===2){for(var g=h[i[0]],_=h[i[1]],x=t[i[1]][0],E=t[i[1]][1],m=0;m<r;m++){var b=g[m],A=_[m];(b>=f&&b<=d||isNaN(b))&&(A>=x&&A<=E||isNaN(A))&&(l[u++]=v),v++}p=!0}}if(!p)if(a===1)for(var m=0;m<o;m++){var T=n.getRawIndex(m),b=h[i[0]][T];(b>=f&&b<=d||isNaN(b))&&(l[u++]=T)}else for(var m=0;m<o;m++){for(var R=!0,T=n.getRawIndex(m),M=0;M<a;M++){var O=i[M],b=h[O][T];(b<t[O][0]||b>t[O][1])&&(R=!1)}R&&(l[u++]=n.getRawIndex(m))}return u<o&&(n._indices=l),n._count=u,n._extent=[],n._updateGetRawIdx(),n},e.prototype.map=function(t,n){var r=this.clone(t);return this._updateDims(r,t,n),r},e.prototype.modify=function(t,n){this._updateDims(this,t,n)},e.prototype._updateDims=function(t,n,r){for(var i=t._chunks,a=[],o=n.length,s=t.count(),l=[],u=t._rawExtent,c=0;c<n.length;c++)u[n[c]]=J_();for(var f=0;f<s;f++){for(var d=t.getRawIndex(f),h=0;h<o;h++)l[h]=i[n[h]][d];l[o]=f;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var c=0;c<p.length;c++){var v=n[c],g=p[c],m=u[v],b=i[v];b&&(b[d]=g),g<m[0]&&(m[0]=g),g>m[1]&&(m[1]=g)}}}},e.prototype.lttbDownSample=function(t,n){var r=this.clone([t],!0),i=r._chunks,a=i[t],o=this.count(),s=0,l=Math.floor(1/n),u=this.getRawIndex(0),c,f,d,h=new(cA(this._rawCount))(Math.min((Math.ceil(o/l)+2)*2,o));h[s++]=u;for(var p=1;p<o-1;p+=l){for(var v=Math.min(p+l,o-1),g=Math.min(p+l*2,o),m=(g+v)/2,b=0,_=v;_<g;_++){var x=this.getRawIndex(_),E=a[x];isNaN(E)||(b+=E)}b/=g-v;var A=p,T=Math.min(p+l,o),R=p-1,M=a[u];c=-1,d=A;for(var O=-1,D=0,_=A;_<T;_++){var x=this.getRawIndex(_),E=a[x];if(isNaN(E)){D++,O<0&&(O=x);continue}f=Math.abs((R-m)*(E-M)-(R-_)*(b-M)),f>c&&(c=f,d=x)}D>0&&D<T-A&&(h[s++]=Math.min(O,d),d=Math.max(O,d)),h[s++]=d,u=d}return h[s++]=this.getRawIndex(o-1),r._count=s,r._indices=h,r.getRawIndex=this._getRawIdx,r},e.prototype.downSample=function(t,n,r,i){for(var a=this.clone([t],!0),o=a._chunks,s=[],l=Math.floor(1/n),u=o[t],c=this.count(),f=a._rawExtent[t]=J_(),d=new(cA(this._rawCount))(Math.ceil(c/l)),h=0,p=0;p<c;p+=l){l>c-p&&(l=c-p,s.length=l);for(var v=0;v<l;v++){var g=this.getRawIndex(p+v);s[v]=u[g]}var m=r(s),b=this.getRawIndex(Math.min(p+i(s,m)||0,c-1));u[b]=m,m<f[0]&&(f[0]=m),m>f[1]&&(f[1]=m),d[h++]=b}return a._count=h,a._indices=d,a._updateGetRawIdx(),a},e.prototype.each=function(t,n){if(this._count)for(var r=t.length,i=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(r){case 0:n(a);break;case 1:n(i[t[0]][s],a);break;case 2:n(i[t[0]][s],i[t[1]][s],a);break;default:for(var l=0,u=[];l<r;l++)u[l]=i[t[l]][s];u[l]=a,n.apply(null,u)}}},e.prototype.getDataExtent=function(t){var n=this._chunks[t],r=J_();if(!n)return r;var i=this.count(),a=!this._indices,o;if(a)return this._rawExtent[t].slice();if(o=this._extent[t],o)return o.slice();o=r;for(var s=o[0],l=o[1],u=0;u<i;u++){var c=this.getRawIndex(u),f=n[c];f<s&&(s=f),f>l&&(l=f)}return o=[s,l],this._extent[t]=o,o},e.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][n]);return r},e.prototype.clone=function(t,n){var r=new e,i=this._chunks,a=t&&nh(t,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<i.length;o++)r._chunks[o]=a[o]?Yut(i[o]):i[o];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=sr(this._extent),t._rawExtent=sr(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var r=this._indices.length;n=new t(r);for(var i=0;i<r;i++)n[i]=this._indices[i]}else n=new t(this._indices);return n}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(n,r,i,a){return Ag(n[a],this._dimensions[a])}uB={arrayRows:t,objectRows:function(n,r,i,a){return Ag(n[r],this._dimensions[a])},keyedColumns:t,original:function(n,r,i,a){var o=n&&(n.value==null?n:n.value);return Ag(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(n,r,i,a){return n[a]}}}(),e}(),rbe=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,i,a;if(BR(t)){var o=t,s=void 0,l=void 0,u=void 0;if(r){var c=n[0];c.prepareSource(),u=c.getSource(),s=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else s=o.get("data",!0),l=_u(s)?Sg:Hc,a=[];var f=this._getSourceMetaRawOption()||{},d=u&&u.metaRawOption||{},h=Sr(f.seriesLayoutBy,d.seriesLayoutBy)||null,p=Sr(f.sourceHeader,d.sourceHeader),v=Sr(f.dimensions,d.dimensions),g=h!==d.seriesLayoutBy||!!p!=!!d.sourceHeader||v;i=g?[$V(s,{seriesLayoutBy:h,sourceHeader:p,dimensions:v},l)]:[]}else{var m=t;if(r){var b=this._applyTransform(n);i=b.sourceList,a=b.upstreamSignList}else{var _=m.get("source",!0);i=[$V(_,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},e.prototype._applyTransform=function(t){var n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(i!=null){var a="";t.length!==1&&AJ(a)}var o,s=[],l=[];return te(t,function(u){u.prepareSource();var c=u.getSource(i||0),f="";i!=null&&!c&&AJ(f),s.push(c),l.push(u._getVersionSign())}),r?o=Hut(r,s,{datasetIndex:n.componentIndex}):i!=null&&(o=[Eut(s[0])]),{sourceList:o,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var r=t[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var n=this._sourceList[t];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return n},e.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},e.prototype._innerGetDataStore=function(t,n,r){var i=0,a=this._storeList,o=a[i];o||(o=a[i]={});var s=o[r];if(!s){var l=this._getUpstreamSourceManagers()[0];BR(this._sourceHost)&&l?s=l._innerGetDataStore(t,n,r):(s=new HV,s.initData(new Y1e(n,t.length),t)),o[r]=s}return s},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(BR(t)){var n=OW(t);return n?[n.getSourceManager()]:[]}else return Vt(Jlt(t),function(r){return r.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,r,i;if(BR(t))n=t.get("seriesLayoutBy",!0),r=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;n=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:i}},e}();function SJ(e){var t=e.option.transform;t&&DM(e.option.transform)}function BR(e){return e.mainType==="series"}function AJ(e){throw new Error(e)}var ibe="line-height:1";function abe(e,t){var n=e.color||"#6e7079",r=e.fontSize||12,i=e.fontWeight||"400",a=e.color||"#464646",o=e.fontSize||14,s=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+uu(r+"")+"px;color:"+uu(n)+";font-weight:"+uu(i+""),valueStyle:"font-size:"+uu(o+"")+"px;color:"+uu(a)+";font-weight:"+uu(s+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var Xut=[0,10,20,30],Kut=["",`
`,`

`,`


`];function as(e,t){return t.type=e,t}function WV(e){return e.type==="section"}function obe(e){return WV(e)?qut:Zut}function sbe(e){if(WV(e)){var t=0,n=e.blocks.length,r=n>1||n>0&&!e.noHeader;return te(e.blocks,function(i){var a=sbe(i);a>=t&&(t=a+ +(r&&(!a||WV(i)&&!i.noHeader)))}),t}return 0}function qut(e,t,n,r){var i=t.noHeader,a=Qut(sbe(t)),o=[],s=t.blocks||[];Pl(!s||Lt(s)),s=s||[];var l=e.orderMode;if(t.sortBlocks&&l){s=s.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(Dn(u,l)){var c=new J1e(u[l],null);s.sort(function(p,v){return c.evaluate(p.sortParam,v.sortParam)})}else l==="seriesDesc"&&s.reverse()}te(s,function(p,v){var g=t.valueFormatter,m=obe(p)(g?Ct(Ct({},e),{valueFormatter:g}):e,p,v>0?a.html:0,r);m!=null&&o.push(m)});var f=e.renderMode==="richText"?o.join(a.richText):GV(o.join(""),i?n:a.html);if(i)return f;var d=UV(t.header,"ordinal",e.useUTC),h=abe(r,e.renderMode).nameStyle;return e.renderMode==="richText"?lbe(e,d,h)+a.richText+f:GV('<div style="'+h+";"+ibe+';">'+uu(d)+"</div>"+f,n)}function Zut(e,t,n,r){var i=e.renderMode,a=t.noName,o=t.noValue,s=!t.markerType,l=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(x){return x=Lt(x)?x:[x],Vt(x,function(E,A){return UV(E,Lt(h)?h[A]:h,u)})};if(!(a&&o)){var f=s?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),d=a?"":UV(l,"ordinal",u),h=t.valueType,p=o?[]:c(t.value,t.dataIndex),v=!s||!a,g=!s&&a,m=abe(r,i),b=m.nameStyle,_=m.valueStyle;return i==="richText"?(s?"":f)+(a?"":lbe(e,d,b))+(o?"":tct(e,p,v,g,_)):GV((s?"":f)+(a?"":Jut(d,!s,b))+(o?"":ect(p,v,g,_)),n)}}function EJ(e,t,n,r,i,a){if(e){var o=obe(e),s={useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:t,valueFormatter:e.valueFormatter};return o(s,e,0,a)}}function Qut(e){return{html:Xut[e],richText:Kut[e]}}function GV(e,t){var n='<div style="clear:both"></div>',r="margin: "+t+"px 0 0";return'<div style="'+r+";"+ibe+';">'+e+n+"</div>"}function Jut(e,t,n){var r=t?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+uu(e)+"</span>"}function ect(e,t,n,r){var i=n?"10px":"20px",a=t?"float:right;margin-left:"+i:"";return e=Lt(e)?e:[e],'<span style="'+a+";"+r+'">'+Vt(e,function(o){return uu(o)}).join("&nbsp;&nbsp;")+"</span>"}function lbe(e,t,n){return e.markupStyleCreator.wrapRichTextStyle(t,n)}function tct(e,t,n,r,i){var a=[i],o=r?10:20;return n&&a.push({padding:[0,0,0,o],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(Lt(t)?t.join("  "):t,a)}function ube(e,t){var n=e.getData().getItemVisual(t,"style"),r=n[e.visualDrawType];return xy(r)}function cbe(e,t){var n=e.get("padding");return n??(t==="richText"?[8,10]:10)}var cB=function(){function e(){this.richTextStyles={},this._nextStyleNameId=T_e()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,n,r){var i=r==="richText"?this._generateStyleName():null,a=jlt({color:n,type:t,renderMode:r,markerId:i});return An(a)?a:(this.richTextStyles[i]=a.style,a.content)},e.prototype.wrapRichTextStyle=function(t,n){var r={};Lt(n)?te(n,function(a){return Ct(r,a)}):Ct(r,n);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+t+"}"},e}();function fbe(e){var t=e.series,n=e.dataIndex,r=e.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),o=a.length,s=t.getRawValue(n),l=Lt(s),u=ube(t,n),c,f,d,h;if(o>1||l&&!o){var p=nct(s,t,n,a,u);c=p.inlineValues,f=p.inlineValueTypes,d=p.blocks,h=p.inlineValues[0]}else if(o){var v=i.getDimensionInfo(a[0]);h=c=jb(i,n,a[0]),f=v.type}else h=c=l?s[0]:s;var g=uW(t),m=g&&t.name||"",b=i.getName(n),_=r?m:b;return as("section",{header:m,noHeader:r||!g,sortParam:h,blocks:[as("nameValue",{markerType:"item",markerColor:u,name:_,noName:!Lf(_),value:c,valueType:f,dataIndex:n})].concat(d||[])})}function nct(e,t,n,r,i){var a=t.getData(),o=nh(e,function(f,d,h){var p=a.getDimensionInfo(h);return f=f||p&&p.tooltip!==!1&&p.displayName!=null},!1),s=[],l=[],u=[];r.length?te(r,function(f){c(jb(a,n,f),f)}):te(e,c);function c(f,d){var h=a.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(o?u.push(as("nameValue",{markerType:"subItem",markerColor:i,name:h.displayName,value:f,valueType:h.type})):(s.push(f),l.push(h.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:u}}var Cv=ui();function kR(e,t){return e.getName(t)||e.getId(t)}var D3="__universalTransitionEnabled",va=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return t.prototype.init=function(n,r,i){this.seriesIndex=this.componentIndex,this.dataTask=r2({count:ict,reset:act}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,i);var a=Cv(this).sourceManager=new rbe(this);a.prepareSource();var o=this.getInitialData(n,i);wJ(o,this),this.dataTask.context.data=o,Cv(this).dataBeforeProcessed=o,TJ(this),this._initSelectedMapFromData(o)},t.prototype.mergeDefaultAndTheme=function(n,r){var i=rT(this),a=i?Ux(n):{},o=this.subType;Qr.hasClass(o)&&(o+="Series"),wr(n,r.getTheme().get(this.subType)),wr(n,this.getDefaultOption()),gy(n,"label",["show"]),this.fillDataTextStyle(n.data),i&&$g(n,a,i)},t.prototype.mergeOption=function(n,r){n=wr(this.option,n,!0),this.fillDataTextStyle(n.data);var i=rT(this);i&&$g(this.option,n,i);var a=Cv(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(n,r);wJ(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Cv(this).dataBeforeProcessed=o,TJ(this),this._initSelectedMapFromData(o)},t.prototype.fillDataTextStyle=function(n){if(n&&!_u(n))for(var r=["show"],i=0;i<n.length;i++)n[i]&&n[i].label&&gy(n[i],"label",r)},t.prototype.getInitialData=function(n,r){},t.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},t.prototype.getData=function(n){var r=jV(this);if(r){var i=r.context.data;return n==null||!i.getLinkedData?i:i.getLinkedData(n)}else return Cv(this).data},t.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},t.prototype.setData=function(n){var r=jV(this);if(r){var i=r.context;i.outputData=n,r!==this.dataTask&&(i.data=n)}Cv(this).data=n},t.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return Fn(n)},t.prototype.getSourceManager=function(){return Cv(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Cv(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},t.prototype.formatTooltip=function(n,r,i){return fbe({series:this,dataIndex:n,multipleSeries:r})},t.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(qr.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(n,r,i){var a=this.ecModel,o=DW.prototype.getColorFromPalette.call(this,n,r,i);return o||(o=a.getColorFromPalette(n,r,i)),o},t.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},t.prototype.unselect=function(n,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,o=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<n.length;s++){var l=n[s],u=kR(o,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(n,r){for(var i=[],a=0;a<n.length;a++)i[0]=n[a],this.isSelected(n[a],r)?this.unselect(i,r):this.select(i,r)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=Jr(n),i=[],a=0;a<r.length;a++){var o=n[r[a]];o>=0&&i.push(o)}return i},t.prototype.isSelected=function(n,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[kR(a,n)])&&!a.getItemModel(n).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[D3])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},t.prototype._innerSelect=function(n,r){var i,a,o=this.option,s=o.selectedMode,l=r.length;if(!(!s||!l)){if(s==="series")o.selectedMap="all";else if(s==="multiple"){ar(o.selectedMap)||(o.selectedMap={});for(var u=o.selectedMap,c=0;c<l;c++){var f=r[c],d=kR(n,f);u[d]=!0,this._selectedDataIndicesMap[d]=n.getRawIndex(f)}}else if(s==="single"||s===!0){var h=r[l-1],d=kR(n,h);o.selectedMap=(i={},i[d]=!0,i),this._selectedDataIndicesMap=(a={},a[d]=n.getRawIndex(h),a)}}},t.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(i){var a=n.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(n,r)}},t.registerClass=function(n){return Qr.registerClass(n)},t.protoInitialize=function(){var n=t.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),t}(Qr);Mo(va,MP);Mo(va,DW);L_e(va,Qr);function TJ(e){var t=e.name;uW(e)||(e.name=rct(e)||t)}function rct(e){var t=e.getRawData(),n=t.mapDimensionsAll("seriesName"),r=[];return te(n,function(i){var a=t.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function ict(e){return e.model.getRawData().count()}function act(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),oct}function oct(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function wJ(e,t){te(PM(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(n){e.wrapMethod(n,Tr(sct,t))})}function sct(e,t){var n=jV(e);return n&&n.setOutputEnd((t||this).count()),t}function jV(e){var t=(e.ecModel||{}).scheduler,n=t&&t.getPipeline(e.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(e.uid))}return r}}var Ba=function(){function e(){this.group=new hr,this.uid=kx("viewComponent")}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,i){},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,i){},e.prototype.updateLayout=function(t,n,r,i){},e.prototype.updateVisual=function(t,n,r,i){},e.prototype.toggleBlurSeries=function(t,n,r){},e.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},e}();fW(Ba);dP(Ba);function zx(){var e=ui();return function(t){var n=e(t),r=t.pipelineContext,i=!!n.large,a=!!n.progressiveRender,o=n.large=!!(r&&r.large),s=n.progressiveRender=!!(r&&r.progressiveRender);return(i!==o||a!==s)&&"reset"}}var dbe=ui(),lct=zx(),ta=function(){function e(){this.group=new hr,this.uid=kx("viewChart"),this.renderTask=r2({plan:uct,reset:cct}),this.renderTask.context={view:this}}return e.prototype.init=function(t,n){},e.prototype.render=function(t,n,r,i){},e.prototype.highlight=function(t,n,r,i){var a=t.getData(i&&i.dataType);a&&RJ(a,i,"emphasis")},e.prototype.downplay=function(t,n,r,i){var a=t.getData(i&&i.dataType);a&&RJ(a,i,"normal")},e.prototype.remove=function(t,n){this.group.removeAll()},e.prototype.dispose=function(t,n){},e.prototype.updateView=function(t,n,r,i){this.render(t,n,r,i)},e.prototype.updateLayout=function(t,n,r,i){this.render(t,n,r,i)},e.prototype.updateVisual=function(t,n,r,i){this.render(t,n,r,i)},e.prototype.eachRendered=function(t){tm(this.group,t)},e.markUpdateMethod=function(t,n){dbe(t).updateMethod=n},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function CJ(e,t,n){e&&eT(e)&&(t==="emphasis"?Mp:Op)(e,n)}function RJ(e,t,n){var r=yy(e,t),i=t&&t.highlightKey!=null?jst(t.highlightKey):null;r!=null?te(Zi(r),function(a){CJ(e.getItemGraphicEl(a),n,i)}):e.eachItemGraphicEl(function(a){CJ(a,n,i)})}fW(ta);dP(ta);function uct(e){return lct(e.model)}function cct(e){var t=e.model,n=e.ecModel,r=e.api,i=e.payload,a=t.pipelineContext.progressiveRender,o=e.view,s=i&&dbe(i).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return l!=="render"&&o[l](t,n,r,i),fct[l]}var fct={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},qM="\0__throttleOriginMethod",IJ="\0__throttleRate",MJ="\0__throttleType";function FW(e,t,n){var r,i=0,a=0,o=null,s,l,u,c;t=t||0;function f(){a=new Date().getTime(),o=null,e.apply(l,u||[])}var d=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];r=new Date().getTime(),l=this,u=h;var v=c||t,g=c||n;c=null,s=r-(g?i:a)-v,clearTimeout(o),g?o=setTimeout(f,v):s>=0?f():o=setTimeout(f,-s),i=r};return d.clear=function(){o&&(clearTimeout(o),o=null)},d.debounceNextCall=function(h){c=h},d}function $x(e,t,n,r){var i=e[t];if(i){var a=i[qM]||i,o=i[MJ],s=i[IJ];if(s!==n||o!==r){if(n==null||!r)return e[t]=a;i=e[t]=FW(a,n,r==="debounce"),i[qM]=a,i[MJ]=r,i[IJ]=n}return i}}function aT(e,t){var n=e[t];n&&n[qM]&&(n.clear&&n.clear(),e[t]=n[qM])}var OJ=ui(),DJ={itemStyle:_y(y1e,!0),lineStyle:_y(m1e,!0)},dct={lineStyle:"stroke",itemStyle:"fill"};function hbe(e,t){var n=e.visualStyleMapper||DJ[t];return n||(console.warn("Unknown style type '"+t+"'."),DJ.itemStyle)}function pbe(e,t){var n=e.visualDrawType||dct[t];return n||(console.warn("Unknown style type '"+t+"'."),"fill")}var hct={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=e.getModel(r),a=hbe(e,r),o=a(i),s=i.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=pbe(e,r),u=o[l],c=er(u)?u:null,f=o.fill==="auto"||o.stroke==="auto";if(!o[l]||c||f){var d=e.getColorFromPalette(e.name,null,t.getSeriesCount());o[l]||(o[l]=d,n.setVisual("colorFromPalette",!0)),o.fill=o.fill==="auto"||er(o.fill)?d:o.fill,o.stroke=o.stroke==="auto"||er(o.stroke)?d:o.stroke}if(n.setVisual("style",o),n.setVisual("drawType",l),!t.isSeriesFiltered(e)&&c)return n.setVisual("colorFromPalette",!1),{dataEach:function(h,p){var v=e.getDataParams(p),g=Ct({},o);g[l]=c(v),h.setItemVisual(p,"style",g)}}}},fA=new zi,pct={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var n=e.getData(),r=e.visualStyleAccessPath||"itemStyle",i=hbe(e,r),a=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[r]){fA.option=l[r];var u=i(fA),c=o.ensureUniqueItemVisual(s,"style");Ct(c,u),fA.option.decal&&(o.setItemVisual(s,"decal",fA.option.decal),fA.option.decal.dirty=!0),a in u&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},vct={performRawSeries:!0,overallReset:function(e){var t=Fn();e.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var i=n.type+"-"+r,a=t.get(i);a||(a={},t.set(i,a)),OJ(n).scope=a}}),e.eachSeries(function(n){if(!(n.isColorBySeries()||e.isSeriesFiltered(n))){var r=n.getRawData(),i={},a=n.getData(),o=OJ(n).scope,s=n.visualStyleAccessPath||"itemStyle",l=pbe(n,s);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),r.each(function(u){var c=i[u],f=a.getItemVisual(c,"colorFromPalette");if(f){var d=a.ensureUniqueItemVisual(c,"style"),h=r.getName(u)||u+"",p=r.count();d[l]=n.getColorFromPalette(h,o,p)}})}})}},FR=Math.PI;function gct(e,t){t=t||{},tr(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new hr,r=new si({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});n.add(r);var i=new pi({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new si({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});n.add(a);var o;return t.showSpinner&&(o=new _P({shape:{startAngle:-FR/2,endAngle:-FR/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),o.animateShape(!0).when(1e3,{endAngle:FR*3/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:FR*3/2}).delay(300).start("circularInOut"),n.add(o)),n.resize=function(){var s=i.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&s?10:0)-s)/2-(t.showSpinner&&s?0:5+s/2)+(t.showSpinner?0:s/2)+(s?0:l),c=e.getHeight()/2;t.showSpinner&&o.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var vbe=function(){function e(t,n,r,i){this._stageTaskMap=Fn(),this.ecInstance=t,this.api=n,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return e.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),i=r.context,a=!n&&r.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>r.blockIndex,o=a?r.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/o):null;return{step:o,modBy:l,modDataCount:s}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,n){var r=this._pipelineMap.get(t.uid),i=t.getData(),a=i.count(),o=r.progressiveEnabled&&n.incrementalPrepareRender&&a>=r.threshold,s=t.get("large")&&a>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=r.context={progressiveRender:o,modDataCount:l,large:s}},e.prototype.restorePipelines=function(t){var n=this,r=n._pipelineMap=Fn();t.eachSeries(function(i){var a=i.getProgressive(),o=i.uid;r.set(o,{id:o,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),n._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),r=this.api;te(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{}),o="";Pl(!(i.reset&&i.overallReset),o),i.reset&&this._createSeriesStageTask(i,a,n,r),i.overallReset&&this._createOverallStageTask(i,a,n,r)},this)},e.prototype.prepareView=function(t,n,r,i){var a=t.renderTask,o=a.context;o.model=n,o.ecModel=r,o.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(n,a)},e.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},e.prototype.performVisualTasks=function(t,n,r){this._performStageTasks(this._visualHandlers,t,n,r)},e.prototype._performStageTasks=function(t,n,r,i){i=i||{};var a=!1,o=this;te(t,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=o._stageTaskMap.get(l.uid),f=c.seriesTaskMap,d=c.overallTask;if(d){var h,p=d.agentStubMap;p.each(function(g){s(i,g)&&(g.dirty(),h=!0)}),h&&d.dirty(),o.updatePayload(d,r);var v=o.getPerformArgs(d,i.block);p.each(function(g){g.perform(v)}),d.perform(v)&&(a=!0)}else f&&f.each(function(g,m){s(i,g)&&g.dirty();var b=o.getPerformArgs(g,i.block);b.skip=!l.performRawSeries&&n.isSeriesFiltered(g.context.model),o.updatePayload(g,r),g.perform(b)&&(a=!0)})}});function s(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},e.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},e.prototype.updatePayload=function(t,n){n!=="remain"&&(t.context.payload=n)},e.prototype._createSeriesStageTask=function(t,n,r,i){var a=this,o=n.seriesTaskMap,s=n.seriesTaskMap=Fn(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?r.eachRawSeries(c):l?r.eachRawSeriesByType(l,c):u&&u(r,i).each(c);function c(f){var d=f.uid,h=s.set(d,o&&o.get(d)||r2({plan:xct,reset:Sct,count:Ect}));h.context={model:f,ecModel:r,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(f,h)}},e.prototype._createOverallStageTask=function(t,n,r,i){var a=this,o=n.overallTask=n.overallTask||r2({reset:mct});o.context={ecModel:r,api:i,overallReset:t.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=Fn(),u=t.seriesType,c=t.getTargetSeries,f=!0,d=!1,h="";Pl(!t.createOnAllSeries,h),u?r.eachRawSeriesByType(u,p):c?c(r,i).each(p):(f=!1,te(r.getSeries(),p));function p(v){var g=v.uid,m=l.set(g,s&&s.get(g)||(d=!0,r2({reset:yct,onDirty:bct})));m.context={model:v,overallProgress:f},m.agent=o,m.__block=f,a._pipe(v,m)}d&&o.dirty()},e.prototype._pipe=function(t,n){var r=t.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i},e.wrapStageHandler=function(t,n){return er(t)&&(t={overallReset:t,seriesType:Tct(t)}),t.uid=kx("stageHandler"),n&&(t.visualType=n),t},e}();function mct(e){e.overallReset(e.ecModel,e.api,e.payload)}function yct(e){return e.overallProgress&&_ct}function _ct(){this.agent.dirty(),this.getDownstream().dirty()}function bct(){this.agent&&this.agent.dirty()}function xct(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function Sct(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Zi(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?Vt(t,function(n,r){return gbe(r)}):Act}var Act=gbe(0);function gbe(e){return function(t,n){var r=n.data,i=n.resetDefines[e];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(t,r)}}function Ect(e){return e.data.count()}function Tct(e){ZM=null;try{e(oT,mbe)}catch{}return ZM}var oT={},mbe={},ZM;ybe(oT,PW);ybe(mbe,$1e);oT.eachSeriesByType=oT.eachRawSeriesByType=function(e){ZM=e};oT.eachComponent=function(e){e.mainType==="series"&&e.subType&&(ZM=e.subType)};function ybe(e,t){for(var n in t.prototype)e[n]=mo}var PJ=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const wct={color:PJ,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],PJ]};var gl="#B9B8CE",LJ="#100C2A",UR=function(){return{axisLine:{lineStyle:{color:gl}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},NJ=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],_be={darkMode:!0,color:NJ,backgroundColor:LJ,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:gl}},textStyle:{color:gl},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:gl}},dataZoom:{borderColor:"#71708A",textStyle:{color:gl},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:gl}},timeline:{lineStyle:{color:gl},label:{color:gl},controlStyle:{color:gl,borderColor:gl}},calendar:{itemStyle:{color:LJ},dayLabel:{color:gl},monthLabel:{color:gl},yearLabel:{color:gl}},timeAxis:UR(),logAxis:UR(),valueAxis:UR(),categoryAxis:UR(),line:{symbol:"circle"},graph:{color:NJ},gauge:{title:{color:gl},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:gl},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};_be.categoryAxis.splitLine.show=!1;var Cct=function(){function e(){}return e.prototype.normalizeQuery=function(t){var n={},r={},i={};if(An(t)){var a=Hd(t);n.mainType=a.main||null,n.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};te(t,function(l,u){for(var c=!1,f=0;f<o.length;f++){var d=o[f],h=u.lastIndexOf(d);if(h>0&&h===u.length-d.length){var p=u.slice(0,h);p!=="data"&&(n.mainType=p,n[d.toLowerCase()]=l,c=!0)}}s.hasOwnProperty(u)&&(r[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:n,dataQuery:r,otherQuery:i}},e.prototype.filter=function(t,n){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,o=r.model,s=r.view;if(!o||!s)return!0;var l=n.cptQuery,u=n.dataQuery;return c(l,o,"mainType")&&c(l,o,"subType")&&c(l,o,"index","componentIndex")&&c(l,o,"name")&&c(l,o,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,n.otherQuery,i,a));function c(f,d,h,p){return f[h]==null||d[p||h]===f[h]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),YV=["symbol","symbolSize","symbolRotate","symbolOffset"],BJ=YV.concat(["symbolKeepAspect"]),Rct={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData();if(e.legendIcon&&n.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var r={},i={},a=!1,o=0;o<YV.length;o++){var s=YV[o],l=e.get(s);er(l)?(a=!0,i[s]=l):r[s]=l}if(r.symbol=r.symbol||e.defaultSymbol,n.setVisual(Ct({legendIcon:e.legendIcon||r.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},r)),t.isSeriesFiltered(e))return;var u=Jr(i);function c(f,d){for(var h=e.getRawValue(d),p=e.getDataParams(d),v=0;v<u.length;v++){var g=u[v];f.setItemVisual(d,g,i[g](h,p))}}return{dataEach:a?c:null}}},Ict={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var n=e.getData();function r(i,a){for(var o=i.getItemModel(a),s=0;s<BJ.length;s++){var l=BJ[s],u=o.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:n.hasItemOption?r:null}}};function UW(e,t,n){switch(n){case"color":var r=e.getItemVisual(t,"style");return r[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,n)}}function hw(e,t){switch(t){case"color":var n=e.getVisual("style");return n[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function bbe(e,t,n,r){switch(n){case"color":var i=e.ensureUniqueItemVisual(t,"style");i[e.getVisual("drawType")]=r,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,n,r);break}}function xbe(e,t){function n(r,i){var a=[];return r.eachComponent({mainType:"series",subType:e,query:i},function(o){a.push(o.seriesIndex)}),a}te([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(r){t(r[0],function(i,a,o){i=Ct({},i),o.dispatchAction(Ct(i,{type:r[1],seriesIndex:n(a,i)}))})})}function e1(e,t,n,r,i){var a=e+t;n.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===s){var f=o.getData(),d=yy(f,i.fromActionPayload);n.trigger(a,{type:a,seriesId:o.id,name:Lt(d)?f.getName(d[0]):f.getName(d),selected:An(l)?l:Ct({},l)})}})}function Mct(e,t,n){e.on("selectchanged",function(r){var i=n.getModel();r.isFromClick?(e1("map","selectchanged",t,i,r),e1("pie","selectchanged",t,i,r)):r.fromAction==="select"?(e1("map","selected",t,i,r),e1("pie","selected",t,i,r)):r.fromAction==="unselect"&&(e1("map","unselected",t,i,r),e1("pie","unselected",t,i,r))})}function F0(e,t,n){for(var r;e&&!(t(e)&&(r=e,n));)e=e.__hostTarget||e.parent;return r}var Oct=Math.round(Math.random()*9),Dct=typeof Object.defineProperty=="function",Pct=function(){function e(){this._id="__ec_inner_"+Oct++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,n){var r=this._guard(t);return Dct?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}(),Lct=Wr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,a=t.height/2;e.moveTo(n,r-a),e.lineTo(n+i,r+a),e.lineTo(n-i,r+a),e.closePath()}}),Nct=Wr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx,r=t.cy,i=t.width/2,a=t.height/2;e.moveTo(n,r-a),e.lineTo(n+i,r),e.lineTo(n,r+a),e.lineTo(n-i,r),e.closePath()}}),Bct=Wr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x,r=t.y,i=t.width/5*3,a=Math.max(i,t.height),o=i/2,s=o*o/(a-o),l=r-a+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,f=Math.sin(u),d=Math.cos(u),h=o*.6,p=o*.7;e.moveTo(n-c,l+s),e.arc(n,l,o,Math.PI-u,Math.PI*2+u),e.bezierCurveTo(n+c-f*h,l+s+d*h,n,r-p,n,r),e.bezierCurveTo(n,r-p,n-c+f*h,l+s+d*h,n-c,l+s),e.closePath()}}),kct=Wr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height,r=t.width,i=t.x,a=t.y,o=r/3*2;e.moveTo(i,a),e.lineTo(i+o,a+n),e.lineTo(i,a+n/4*3),e.lineTo(i-o,a+n),e.lineTo(i,a),e.closePath()}}),Fct={line:qo,rect:si,roundRect:si,square:si,circle:Wp,diamond:Nct,pin:Bct,arrow:kct,triangle:Lct},Uct={line:function(e,t,n,r,i){i.x1=e,i.y1=t+r/2,i.x2=e+n,i.y2=t+r/2},rect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r},roundRect:function(e,t,n,r,i){i.x=e,i.y=t,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(e,t,n,r,i){var a=Math.min(n,r);i.x=e,i.y=t,i.width=a,i.height=a},circle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.r=Math.min(n,r)/2},diamond:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r},pin:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},arrow:function(e,t,n,r,i){i.x=e+n/2,i.y=t+r/2,i.width=n,i.height=r},triangle:function(e,t,n,r,i){i.cx=e+n/2,i.cy=t+r/2,i.width=n,i.height=r}},QM={};te(Fct,function(e,t){QM[t]=new e});var Vct=Wr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,n){var r=zM(e,t,n),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(e,t,n){var r=t.symbolType;if(r!=="none"){var i=QM[r];i||(r="rect",i=QM[r]),Uct[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,n)}}});function zct(e,t){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=e,n.fill=t||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=e:n.fill=e,this.markRedraw()}}function Io(e,t,n,r,i,a,o){var s=e.indexOf("empty")===0;s&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=u1e(e.slice(8),new Mr(t,n,r,i),o?"center":"cover"):e.indexOf("path://")===0?l=bP(e.slice(7),{},new Mr(t,n,r,i),o?"center":"cover"):l=new Vct({shape:{symbolType:e,x:t,y:n,width:r,height:i}}),l.__isEmptyBrush=s,l.setColor=zct,a&&l.setColor(a),l}function Hx(e){return Lt(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function zy(e,t){if(e!=null)return Lt(e)||(e=[e,e]),[vn(e[0],t[0])||0,vn(Sr(e[1],e[0]),t[1])||0]}function U0(e){return isFinite(e)}function $ct(e,t,n){var r=t.x==null?0:t.x,i=t.x2==null?1:t.x2,a=t.y==null?0:t.y,o=t.y2==null?0:t.y2;t.global||(r=r*n.width+n.x,i=i*n.width+n.x,a=a*n.height+n.y,o=o*n.height+n.y),r=U0(r)?r:0,i=U0(i)?i:1,a=U0(a)?a:0,o=U0(o)?o:0;var s=e.createLinearGradient(r,a,i,o);return s}function Hct(e,t,n){var r=n.width,i=n.height,a=Math.min(r,i),o=t.x==null?.5:t.x,s=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(o=o*r+n.x,s=s*i+n.y,l=l*a),o=U0(o)?o:.5,s=U0(s)?s:.5,l=l>=0&&U0(l)?l:.5;var u=e.createRadialGradient(o,s,0,o,s,l);return u}function XV(e,t,n){for(var r=t.type==="radial"?Hct(e,t,n):$ct(e,t,n),i=t.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function Wct(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}function VR(e){return parseInt(e,10)}function U1(e,t,n){var r=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(e);return(e[i]||VR(s[r])||VR(e.style[r]))-(VR(s[a])||0)-(VR(s[o])||0)|0}function Gct(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:yi(e)?[e]:Lt(e)?e:null}function VW(e){var t=e.style,n=t.lineDash&&t.lineWidth>0&&Gct(t.lineDash,t.lineWidth),r=t.lineDashOffset;if(n){var i=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&i!==1&&(n=Vt(n,function(a){return a/i}),r/=i)}return[n,r]}var jct=new oh(!0);function JM(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function kJ(e){return typeof e=="string"&&e!=="none"}function eO(e){var t=e.fill;return t!=null&&t!=="none"}function FJ(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=n}else e.fill()}function UJ(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var n=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=n}else e.stroke()}function KV(e,t,n){var r=dW(t.image,t.__image,n);if(hP(r)){var i=e.createPattern(r,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*_3),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}function Yct(e,t,n,r){var i,a=JM(n),o=eO(n),s=n.strokePercent,l=s<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||jct,f=t.__dirty;if(!r){var d=n.fill,h=n.stroke,p=o&&!!d.colorStops,v=a&&!!h.colorStops,g=o&&!!d.image,m=a&&!!h.image,b=void 0,_=void 0,x=void 0,E=void 0,A=void 0;(p||v)&&(A=t.getBoundingRect()),p&&(b=f?XV(e,d,A):t.__canvasFillGradient,t.__canvasFillGradient=b),v&&(_=f?XV(e,h,A):t.__canvasStrokeGradient,t.__canvasStrokeGradient=_),g&&(x=f||!t.__canvasFillPattern?KV(e,d,t):t.__canvasFillPattern,t.__canvasFillPattern=x),m&&(E=f||!t.__canvasStrokePattern?KV(e,h,t):t.__canvasStrokePattern,t.__canvasStrokePattern=x),p?e.fillStyle=b:g&&(x?e.fillStyle=x:o=!1),v?e.strokeStyle=_:m&&(E?e.strokeStyle=E:a=!1)}var T=t.getGlobalScale();c.setScale(T[0],T[1],t.segmentIgnoreThreshold);var R,M;e.setLineDash&&n.lineDash&&(i=VW(t),R=i[0],M=i[1]);var O=!0;(u||f&w1)&&(c.setDPR(e.dpr),l?c.setContext(null):(c.setContext(e),O=!1),c.reset(),t.buildPath(c,t.shape,r),c.toStatic(),t.pathUpdated()),O&&c.rebuildPath(e,l?s:1),R&&(e.setLineDash(R),e.lineDashOffset=M),r||(n.strokeFirst?(a&&UJ(e,n),o&&FJ(e,n)):(o&&FJ(e,n),a&&UJ(e,n))),R&&e.setLineDash([])}function Xct(e,t,n){var r=t.__image=dW(n.image,t.__image,t,t.onload);if(!(!r||!hP(r))){var i=n.x||0,a=n.y||0,o=t.getWidth(),s=t.getHeight(),l=r.width/r.height;if(o==null&&s!=null?o=s*l:s==null&&o!=null?s=o/l:o==null&&s==null&&(o=r.width,s=r.height),n.sWidth&&n.sHeight){var u=n.sx||0,c=n.sy||0;e.drawImage(r,u,c,n.sWidth,n.sHeight,i,a,o,s)}else if(n.sx&&n.sy){var u=n.sx,c=n.sy,f=o-u,d=s-c;e.drawImage(r,u,c,f,d,i,a,o,s)}else e.drawImage(r,i,a,o,s)}}function Kct(e,t,n){var r,i=n.text;if(i!=null&&(i+=""),i){e.font=n.font||Fg,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline;var a=void 0,o=void 0;e.setLineDash&&n.lineDash&&(r=VW(t),a=r[0],o=r[1]),a&&(e.setLineDash(a),e.lineDashOffset=o),n.strokeFirst?(JM(n)&&e.strokeText(i,n.x,n.y),eO(n)&&e.fillText(i,n.x,n.y)):(eO(n)&&e.fillText(i,n.x,n.y),JM(n)&&e.strokeText(i,n.x,n.y)),a&&e.setLineDash([])}}var VJ=["shadowBlur","shadowOffsetX","shadowOffsetY"],zJ=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Sbe(e,t,n,r,i){var a=!1;if(!r&&(n=n||{},t===n))return!1;if(r||t.opacity!==n.opacity){du(e,i),a=!0;var o=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(o)?Z0.opacity:o}(r||t.blend!==n.blend)&&(a||(du(e,i),a=!0),e.globalCompositeOperation=t.blend||Z0.blend);for(var s=0;s<VJ.length;s++){var l=VJ[s];(r||t[l]!==n[l])&&(a||(du(e,i),a=!0),e[l]=e.dpr*(t[l]||0))}return(r||t.shadowColor!==n.shadowColor)&&(a||(du(e,i),a=!0),e.shadowColor=t.shadowColor||Z0.shadowColor),a}function $J(e,t,n,r,i){var a=sT(t,i.inHover),o=r?null:n&&sT(n,i.inHover)||{};if(a===o)return!1;var s=Sbe(e,a,o,r,i);if((r||a.fill!==o.fill)&&(s||(du(e,i),s=!0),kJ(a.fill)&&(e.fillStyle=a.fill)),(r||a.stroke!==o.stroke)&&(s||(du(e,i),s=!0),kJ(a.stroke)&&(e.strokeStyle=a.stroke)),(r||a.opacity!==o.opacity)&&(s||(du(e,i),s=!0),e.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(s||(du(e,i),s=!0),e.lineWidth=u)}for(var c=0;c<zJ.length;c++){var f=zJ[c],d=f[0];(r||a[d]!==o[d])&&(s||(du(e,i),s=!0),e[d]=a[d]||f[1])}return s}function qct(e,t,n,r,i){return Sbe(e,sT(t,i.inHover),n&&sT(n,i.inHover),r,i)}function Abe(e,t){var n=t.transform,r=e.dpr||1;n?e.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):e.setTransform(r,0,0,r,0,0)}function Zct(e,t,n){for(var r=!1,i=0;i<e.length;i++){var a=e[i];r=r||a.isZeroArea(),Abe(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}n.allClipped=r}function Qct(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var HJ=1,WJ=2,GJ=3,jJ=4;function Jct(e){var t=eO(e),n=JM(e);return!(e.lineDash||!(+t^+n)||t&&typeof e.fill!="string"||n&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function du(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function sT(e,t){return t&&e.__hoverStyle||e.style}function Ebe(e,t){V0(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function V0(e,t,n,r){var i=t.transform;if(!t.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){t.__dirty&=~Pu,t.__isRendered=!1;return}var a=t.__clipPaths,o=n.prevElClipPaths,s=!1,l=!1;if((!o||Wct(a,o))&&(o&&o.length&&(du(e,n),e.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),a&&a.length&&(du(e,n),e.save(),Zct(a,e,n),s=!0),n.prevElClipPaths=a),n.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=n.prevEl;u||(l=s=!0);var c=t instanceof Wr&&t.autoBatch&&Jct(t.style);s||Qct(i,u.transform)?(du(e,n),Abe(e,t)):c||du(e,n);var f=sT(t,n.inHover);t instanceof Wr?(n.lastDrawType!==HJ&&(l=!0,n.lastDrawType=HJ),$J(e,t,u,l,n),(!c||!n.batchFill&&!n.batchStroke)&&e.beginPath(),Yct(e,t,f,c),c&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):t instanceof Wb?(n.lastDrawType!==GJ&&(l=!0,n.lastDrawType=GJ),$J(e,t,u,l,n),Kct(e,t,f)):t instanceof ms?(n.lastDrawType!==WJ&&(l=!0,n.lastDrawType=WJ),qct(e,t,u,l,n),Xct(e,t,f)):t.getTemporalDisplayables&&(n.lastDrawType!==jJ&&(l=!0,n.lastDrawType=jJ),eft(e,t,n)),c&&r&&du(e,n),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),n.prevEl=t,t.__dirty=0,t.__isRendered=!0}function eft(e,t,n){var r=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},o,s;for(o=t.getCursor(),s=r.length;o<s;o++){var l=r[o];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),V0(e,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),V0(e,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var fB=new Pct,YJ=new iw(100),XJ=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Yb(e,t){if(e==="none")return null;var n=t.getDevicePixelRatio(),r=t.getZr(),i=r.painter.type==="svg";e.dirty&&fB.delete(e);var a=fB.get(e);if(a)return a;var o=tr(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});o.backgroundColor==="none"&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=i?1:1/n,fB.set(e,s),e.dirty=!1,s;function l(u){for(var c=[n],f=!0,d=0;d<XJ.length;++d){var h=o[XJ[d]];if(h!=null&&!Lt(h)&&!An(h)&&!yi(h)&&typeof h!="boolean"){f=!1;break}c.push(h)}var p;if(f){p=c.join(",")+(i?"-svg":"");var v=YJ.get(p);v&&(i?u.svgElement=v:u.image=v)}var g=wbe(o.dashArrayX),m=tft(o.dashArrayY),b=Tbe(o.symbol),_=nft(g),x=Cbe(m),E=!i&&Ug.createCanvas(),A=i&&{tag:"g",attrs:{},key:"dcl",children:[]},T=M(),R;E&&(E.width=T.width*n,E.height=T.height*n,R=E.getContext("2d")),O(),f&&YJ.put(p,E||A),u.image=E,u.svgElement=A,u.svgWidth=T.width,u.svgHeight=T.height;function M(){for(var D=1,C=0,P=_.length;C<P;++C)D=fQ(D,_[C]);for(var B=1,C=0,P=b.length;C<P;++C)B=fQ(B,b[C].length);D*=B;var U=x*_.length*b.length;return{width:Math.max(1,Math.min(D,o.maxTileWidth)),height:Math.max(1,Math.min(U,o.maxTileHeight))}}function O(){R&&(R.clearRect(0,0,E.width,E.height),o.backgroundColor&&(R.fillStyle=o.backgroundColor,R.fillRect(0,0,E.width,E.height)));for(var D=0,C=0;C<m.length;++C)D+=m[C];if(D<=0)return;for(var P=-x,B=0,U=0,L=0;P<T.height;){if(B%2===0){for(var F=U/2%b.length,N=0,V=0,W=0;N<T.width*2;){for(var G=0,C=0;C<g[L].length;++C)G+=g[L][C];if(G<=0)break;if(V%2===0){var K=(1-o.symbolSize)*.5,q=N+g[L][V]*K,ue=P+m[B]*K,he=g[L][V]*o.symbolSize,Ce=m[B]*o.symbolSize,ee=W/2%b[F].length;de(q,ue,he,Ce,b[F][ee])}N+=g[L][V],++W,++V,V===g[L].length&&(V=0)}++L,L===g.length&&(L=0)}P+=m[B],++U,++B,B===m.length&&(B=0)}function de(oe,pe,me,re,ne){var se=i?1:n,be=Io(ne,oe*se,pe*se,me*se,re*se,o.color,o.symbolKeepAspect);if(i){var Pe=r.painter.renderOneToVNode(be);Pe&&A.children.push(Pe)}else Ebe(R,be)}}}}function Tbe(e){if(!e||e.length===0)return[["rect"]];if(An(e))return[[e]];for(var t=!0,n=0;n<e.length;++n)if(!An(e[n])){t=!1;break}if(t)return Tbe([e]);for(var r=[],n=0;n<e.length;++n)An(e[n])?r.push([e[n]]):r.push(e[n]);return r}function wbe(e){if(!e||e.length===0)return[[0,0]];if(yi(e)){var t=Math.ceil(e);return[[t,t]]}for(var n=!0,r=0;r<e.length;++r)if(!yi(e[r])){n=!1;break}if(n)return wbe([e]);for(var i=[],r=0;r<e.length;++r)if(yi(e[r])){var t=Math.ceil(e[r]);i.push([t,t])}else{var t=Vt(e[r],function(s){return Math.ceil(s)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function tft(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(yi(e)){var t=Math.ceil(e);return[t,t]}var n=Vt(e,function(r){return Math.ceil(r)});return e.length%2?n.concat(n):n}function nft(e){return Vt(e,function(t){return Cbe(t)})}function Cbe(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return e.length%2===1?t*2:t}function rft(e,t){e.eachRawSeries(function(n){if(!e.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(o){var s=r.getItemVisual(o,"decal");if(s){var l=r.ensureUniqueItemVisual(o,"style");l.decal=Yb(s,t)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=Yb(i,t)}}})}var Tf=new $c,Rbe={};function ift(e,t){Rbe[e]=t}function aft(e){return Rbe[e]}var oft=1,sft=800,lft=900,uft=1e3,cft=2e3,fft=5e3,Ibe=1e3,dft=1100,zW=2e3,Mbe=3e3,hft=4e3,DP=4500,pft=4600,vft=5e3,gft=6e3,Obe=7e3,mft={PROCESSOR:{FILTER:uft,SERIES_FILTER:sft,STATISTIC:fft},VISUAL:{LAYOUT:Ibe,PROGRESSIVE_LAYOUT:dft,GLOBAL:zW,CHART:Mbe,POST_CHART_LAYOUT:pft,COMPONENT:hft,BRUSH:vft,CHART_ITEM:DP,ARIA:gft,DECAL:Obe}},$s="__flagInMainProcess",tu="__pendingUpdate",dB="__needsUpdateStatus",KJ=/^[a-zA-Z0-9_]+$/,hB="__connectUpdateStatus",qJ=0,yft=1,_ft=2;function Dbe(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.isDisposed()){this.id;return}return Lbe(this,e,t)}}function Pbe(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Lbe(this,e,t)}}function Lbe(e,t,n){return n[0]=n[0]&&n[0].toLowerCase(),$c.prototype[t].apply(e,n)}var Nbe=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}($c),Bbe=Nbe.prototype;Bbe.on=Pbe("on");Bbe.off=Pbe("off");var t1,pB,zR,Rv,vB,gB,mB,dA,hA,ZJ,QJ,yB,JJ,$R,eee,kbe,ac,tee,Fbe=function(e){et(t,e);function t(n,r,i){var a=e.call(this,new Cct)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},An(r)&&(r=Ube[r]),a._dom=n;var o="canvas",s="auto",l=!1;i.ssr&&vot(function(d){var h=gr(d),p=h.dataIndex;if(p!=null){var v=Fn();return v.set("series_index",h.seriesIndex),v.set("data_index",p),h.ssrType&&v.set("ssr_type",h.ssrType),v}});var u=a._zr=sQ(n,{renderer:i.renderer||o,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Sr(i.useDirtyRect,l),useCoarsePointer:Sr(i.useCoarsePointer,s),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=FW(Rn(u.flush,u),17),r=sr(r),r&&W1e(r,!0),a._theme=r,a._locale=Ult(i.locale||_1e),a._coordSysMgr=new dw;var c=a._api=eee(a);function f(d,h){return d.__prio-h.__prio}return S3(nO,f),S3(qV,f),a._scheduler=new vbe(a,c,qV,nO),a._messageCenter=new Nbe,a._initEvents(),a.resize=Rn(a.resize,a),u.animation.on("frame",a._onframe,a),ZJ(u,a),QJ(u,a),DM(a),a}return t.prototype._onframe=function(){if(!this._disposed){tee(this);var n=this._scheduler;if(this[tu]){var r=this[tu].silent;this[$s]=!0;try{t1(this),Rv.update.call(this,null,this[tu].updateParams)}catch(l){throw this[$s]=!1,this[tu]=null,l}this._zr.flush(),this[$s]=!1,this[tu]=null,dA.call(this,r),hA.call(this,r)}else if(n.unfinished){var i=oft,a=this._model,o=this._api;n.unfinished=!1;do{var s=+new Date;n.performSeriesTasks(a),n.performDataProcessorTasks(a),gB(this,a),n.performVisualTasks(a),$R(this,this._model,o,"remain",{}),i-=+new Date-s}while(i>0&&n.unfinished);n.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(n,r,i){if(!this[$s]){if(this._disposed){this.id;return}var a,o,s;if(ar(r)&&(i=r.lazyUpdate,a=r.silent,o=r.replaceMerge,s=r.transition,r=r.notMerge),this[$s]=!0,!this._model||r){var l=new cut(this._api),u=this._theme,c=this._model=new PW;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(n,{replaceMerge:o},ZV);var f={seriesTransition:s,optionChanged:!0};if(i)this[tu]={silent:a,updateParams:f},this[$s]=!1,this.getZr().wakeUp();else{try{t1(this),Rv.update.call(this,null,f)}catch(d){throw this[tu]=null,this[$s]=!1,d}this._ssr||this._zr.flush(),this[tu]=null,this[$s]=!1,dA.call(this,a),hA.call(this,a)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||qr.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},t.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;return r.renderToString({useViewBox:n.useViewBox})},t.prototype.getSvgDataURL=function(){if(qr.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return te(r,function(i){i.stopAnimation(null,!0)}),n.painter.toDataURL()}},t.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var r=n.excludeComponents,i=this._model,a=[],o=this;te(r,function(l){i.eachComponent({mainType:l},function(u){var c=o._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return te(a,function(l){l.group.ignore=!1}),s},t.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var r=n.type==="svg",i=this.group,a=Math.min,o=Math.max,s=1/0;if(nee[i]){var l=s,u=s,c=-s,f=-s,d=[],h=n&&n.pixelRatio||this.getDevicePixelRatio();te(a2,function(_,x){if(_.group===i){var E=r?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(sr(n)),A=_.getDom().getBoundingClientRect();l=a(A.left,l),u=a(A.top,u),c=o(A.right,c),f=o(A.bottom,f),d.push({dom:E,left:A.left,top:A.top})}}),l*=h,u*=h,c*=h,f*=h;var p=c-l,v=f-u,g=Ug.createCanvas(),m=sQ(g,{renderer:r?"svg":"canvas"});if(m.resize({width:p,height:v}),r){var b="";return te(d,function(_){var x=_.left-l,E=_.top-u;b+='<g transform="translate('+x+","+E+')">'+_.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=b,n.connectedBackgroundColor&&m.painter.setBackgroundColor(n.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return n.connectedBackgroundColor&&m.add(new si({shape:{x:0,y:0,width:p,height:v},style:{fill:n.connectedBackgroundColor}})),te(d,function(_){var x=new ms({style:{x:_.left*h-l,y:_.top*h-u,image:_.dom}});m.add(x)}),m.refreshImmediately(),g.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},t.prototype.convertToPixel=function(n,r){return vB(this,"convertToPixel",n,r)},t.prototype.convertFromPixel=function(n,r){return vB(this,"convertFromPixel",n,r)},t.prototype.containPixel=function(n,r){if(this._disposed){this.id;return}var i=this._model,a,o=QE(i,n);return te(o,function(s,l){l.indexOf("Models")>=0&&te(s,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(r);else if(l==="seriesModels"){var f=this._chartsMap[u.__viewId];f&&f.containPoint&&(a=a||f.containPoint(r,u))}},this)},this),!!a},t.prototype.getVisual=function(n,r){var i=this._model,a=QE(i,n,{defaultMainType:"series"}),o=a.seriesModel,s=o.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return l!=null?UW(s,l,r):hw(s,r)},t.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},t.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},t.prototype._initEvents=function(){var n=this;te(bft,function(r){var i=function(a){var o=n.getModel(),s=a.target,l,u=r==="globalout";if(u?l={}:s&&F0(s,function(p){var v=gr(p);if(v&&v.dataIndex!=null){var g=v.dataModel||o.getSeriesByIndex(v.seriesIndex);return l=g&&g.getDataParams(v.dataIndex,v.dataType,s)||{},!0}else if(v.eventData)return l=Ct({},v.eventData),!0},!0),l){var c=l.componentType,f=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",f=l.seriesIndex);var d=c&&f!=null&&o.getComponent(c,f),h=d&&n[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];l.event=a,l.type=r,n._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:d,view:h},n.trigger(r,l)}};i.zrEventfulCallAtLast=!0,n._zr.on(r,i,n)}),te(i2,function(r,i){n._messageCenter.on(i,function(a){this.trigger(i,a)},n)}),te(["selectchanged"],function(r){n._messageCenter.on(r,function(i){this.trigger(r,i)},n)}),Mct(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&O_e(this.getDom(),HW,"");var r=this,i=r._api,a=r._model;te(r._componentsViews,function(o){o.dispose(a,i)}),te(r._chartsViews,function(o){o.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete a2[r.id]},t.prototype.resize=function(n){if(!this[$s]){if(this._disposed){this.id;return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=n&&n.silent;this[tu]&&(a==null&&(a=this[tu].silent),i=!0,this[tu]=null),this[$s]=!0;try{i&&t1(this),Rv.update.call(this,{type:"resize",animation:Ct({duration:0},n&&n.animation)})}catch(o){throw this[$s]=!1,o}this[$s]=!1,dA.call(this,a),hA.call(this,a)}}},t.prototype.showLoading=function(n,r){if(this._disposed){this.id;return}if(ar(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!!QV[n]){var i=QV[n](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(n){var r=Ct({},n);return r.type=i2[n.type],r},t.prototype.dispatchAction=function(n,r){if(this._disposed){this.id;return}if(ar(r)||(r={silent:!!r}),!!tO[n.type]&&this._model){if(this[$s]){this._pendingActions.push(n);return}var i=r.silent;mB.call(this,n,i);var a=r.flush;a?this._zr.flush():a!==!1&&qr.browser.weChat&&this._throttledZrFlush(),dA.call(this,i),hA.call(this,i)}},t.prototype.updateLabelLayout=function(){Tf.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(n){if(this._disposed){this.id;return}var r=n.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){t1=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),pB(f,!0),pB(f,!1),d.plan()},pB=function(f,d){for(var h=f._model,p=f._scheduler,v=d?f._componentsViews:f._chartsViews,g=d?f._componentsMap:f._chartsMap,m=f._zr,b=f._api,_=0;_<v.length;_++)v[_].__alive=!1;d?h.eachComponent(function(A,T){A!=="series"&&x(T)}):h.eachSeries(x);function x(A){var T=A.__requireNewView;A.__requireNewView=!1;var R="_ec_"+A.id+"_"+A.type,M=!T&&g[R];if(!M){var O=Hd(A.type),D=d?Ba.getClass(O.main,O.sub):ta.getClass(O.sub);M=new D,M.init(h,b),g[R]=M,v.push(M),m.add(M.group)}A.__viewId=M.__id=R,M.__alive=!0,M.__model=A,M.group.__ecComponentInfo={mainType:A.mainType,index:A.componentIndex},!d&&p.prepareView(M,A,h,b)}for(var _=0;_<v.length;){var E=v[_];E.__alive?_++:(!d&&E.renderTask.dispose(),m.remove(E.group),E.dispose(h,b),v.splice(_,1),g[E.__id]===E&&delete g[E.__id],E.__id=E.group.__ecComponentInfo=null)}},zR=function(f,d,h,p,v){var g=f._model;if(g.setUpdatePayload(h),!p){te([].concat(f._componentsViews).concat(f._chartsViews),E);return}var m={};m[p+"Id"]=h[p+"Id"],m[p+"Index"]=h[p+"Index"],m[p+"Name"]=h[p+"Name"];var b={mainType:p,query:m};v&&(b.subType=v);var _=h.excludeSeriesId,x;_!=null&&(x=Fn(),te(Zi(_),function(A){var T=Uo(A,null);T!=null&&x.set(T,!0)})),g&&g.eachComponent(b,function(A){var T=x&&x.get(A.id)!=null;if(!T)if(kQ(h))if(A instanceof va)h.type===Q0&&!h.notBlur&&!A.get(["emphasis","disabled"])&&Fst(A,h,f._api);else{var R=yW(A.mainType,A.componentIndex,h.name,f._api),M=R.focusSelf,O=R.dispatchers;h.type===Q0&&M&&!h.notBlur&&DV(A.mainType,A.componentIndex,f._api),O&&te(O,function(D){h.type===Q0?Mp(D):Op(D)})}else LV(h)&&A instanceof va&&(zst(A,h,f._api),NQ(A),ac(f))},f),g&&g.eachComponent(b,function(A){var T=x&&x.get(A.id)!=null;T||E(f[p==="series"?"_chartsMap":"_componentsMap"][A.__viewId])},f);function E(A){A&&A.__alive&&A[d]&&A[d](A.__model,g,f._api,h)}},Rv={prepareAndUpdate:function(f){t1(this),Rv.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,p=this._api,v=this._zr,g=this._coordSysMgr,m=this._scheduler;if(h){h.setUpdatePayload(f),m.restoreData(h,f),m.performSeriesTasks(h),g.create(h,p),m.performDataProcessorTasks(h,f),gB(this,h),g.update(h,p),n(h),m.performVisualTasks(h,f),yB(this,h,p,f,d);var b=h.get("backgroundColor")||"transparent",_=h.get("darkMode");v.setBackgroundColor(b),_!=null&&_!=="auto"&&v.setDarkMode(_),Tf.trigger("afterupdate",h,p)}},updateTransform:function(f){var d=this,h=this._model,p=this._api;if(h){h.setUpdatePayload(f);var v=[];h.eachComponent(function(m,b){if(m!=="series"){var _=d.getViewOfComponentModel(b);if(_&&_.__alive)if(_.updateTransform){var x=_.updateTransform(b,h,p,f);x&&x.update&&v.push(_)}else v.push(_)}});var g=Fn();h.eachSeries(function(m){var b=d._chartsMap[m.__viewId];if(b.updateTransform){var _=b.updateTransform(m,h,p,f);_&&_.update&&g.set(m.uid,1)}else g.set(m.uid,1)}),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:g}),$R(this,h,p,f,{},g),Tf.trigger("afterupdate",h,p)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),ta.markUpdateMethod(f,"updateView"),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),yB(this,d,this._api,f,{}),Tf.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(p){p.getData().clearAllVisual()}),ta.markUpdateMethod(f,"updateVisual"),n(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(p,v){if(p!=="series"){var g=d.getViewOfComponentModel(v);g&&g.__alive&&g.updateVisual(v,h,d._api,f)}}),h.eachSeries(function(p){var v=d._chartsMap[p.__viewId];v.updateVisual(p,h,d._api,f)}),Tf.trigger("afterupdate",h,this._api))},updateLayout:function(f){Rv.update.call(this,f)}},vB=function(f,d,h,p){if(f._disposed){f.id;return}for(var v=f._model,g=f._coordSysMgr.getCoordinateSystems(),m,b=QE(v,h),_=0;_<g.length;_++){var x=g[_];if(x[d]&&(m=x[d](v,b,p))!=null)return m}},gB=function(f,d){var h=f._chartsMap,p=f._scheduler;d.eachSeries(function(v){p.updateStreamModes(v,h[v.__viewId])})},mB=function(f,d){var h=this,p=this.getModel(),v=f.type,g=f.escapeConnect,m=tO[v],b=m.actionInfo,_=(b.update||"update").split(":"),x=_.pop(),E=_[0]!=null&&Hd(_[0]);this[$s]=!0;var A=[f],T=!1;f.batch&&(T=!0,A=Vt(f.batch,function(B){return B=tr(Ct({},B),f),B.batch=null,B}));var R=[],M,O=LV(f),D=kQ(f);if(D&&Q_e(this._api),te(A,function(B){if(M=m.action(B,h._model,h._api),M=M||Ct({},B),M.type=b.event||M.type,R.push(M),D){var U=cW(f),L=U.queryOptionMap,F=U.mainTypeSpecified,N=F?L.keys()[0]:"series";zR(h,x,B,N),ac(h)}else O?(zR(h,x,B,"series"),ac(h)):E&&zR(h,x,B,E.main,E.sub)}),x!=="none"&&!D&&!O&&!E)try{this[tu]?(t1(this),Rv.update.call(this,f),this[tu]=null):Rv[x].call(this,f)}catch(B){throw this[$s]=!1,B}if(T?M={type:b.event||v,escapeConnect:g,batch:R}:M=R[0],this[$s]=!1,!d){var C=this._messageCenter;if(C.trigger(M.type,M),O){var P={type:"selectchanged",escapeConnect:g,selected:$st(p),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};C.trigger(P.type,P)}}},dA=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();mB.call(this,h,f)}},hA=function(f){!f&&this.trigger("updated")},ZJ=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[tu]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},QJ=function(f,d){f.on("mouseover",function(h){var p=h.target,v=F0(p,eT);v&&(Ust(v,h,d._api),ac(d))}).on("mouseout",function(h){var p=h.target,v=F0(p,eT);v&&(Vst(v,h,d._api),ac(d))}).on("click",function(h){var p=h.target,v=F0(p,function(b){return gr(b).dataIndex!=null},!0);if(v){var g=v.selected?"unselect":"select",m=gr(v);d._api.dispatchAction({type:g,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function r(f){var d=[],h=[],p=!1;if(f.eachComponent(function(b,_){var x=_.get("zlevel")||0,E=_.get("z")||0,A=_.getZLevelKey();p=p||!!A,(b==="series"?h:d).push({zlevel:x,z:E,idx:_.componentIndex,type:b,key:A})}),p){var v=d.concat(h),g,m;S3(v,function(b,_){return b.zlevel===_.zlevel?b.z-_.z:b.zlevel-_.zlevel}),te(v,function(b){var _=f.getComponent(b.type,b.idx),x=b.zlevel,E=b.key;g!=null&&(x=Math.max(g,x)),E?(x===g&&E!==m&&x++,m=E):m&&(x===g&&x++,m=""),g=x,_.setZLevel(x)})}}yB=function(f,d,h,p,v){r(d),JJ(f,d,h,p,v),te(f._chartsViews,function(g){g.__alive=!1}),$R(f,d,h,p,v),te(f._chartsViews,function(g){g.__alive||g.remove(d,h)})},JJ=function(f,d,h,p,v,g){te(g||f._componentsViews,function(m){var b=m.__model;u(b,m),m.render(b,d,h,p),s(b,m),c(b,m)})},$R=function(f,d,h,p,v,g){var m=f._scheduler;v=Ct(v||{},{updatedSeries:d.getSeries()}),Tf.trigger("series:beforeupdate",d,h,v);var b=!1;d.eachSeries(function(_){var x=f._chartsMap[_.__viewId];x.__alive=!0;var E=x.renderTask;m.updatePayload(E,p),u(_,x),g&&g.get(_.uid)&&E.dirty(),E.perform(m.getPerformArgs(E))&&(b=!0),x.group.silent=!!_.get("silent"),o(_,x),NQ(_)}),m.unfinished=b||m.unfinished,Tf.trigger("series:layoutlabels",d,h,v),Tf.trigger("series:transition",d,h,v),d.eachSeries(function(_){var x=f._chartsMap[_.__viewId];s(_,x),c(_,x)}),a(f,d),Tf.trigger("series:afterupdate",d,h,v)},ac=function(f){f[dB]=!0,f.getZr().wakeUp()},tee=function(f){f[dB]&&(f.getZr().storage.traverse(function(d){ob(d)||i(d)}),f[dB]=!1)};function i(f){for(var d=[],h=f.currentStates,p=0;p<h.length;p++){var v=h[p];v==="emphasis"||v==="blur"||v==="select"||d.push(v)}f.selected&&f.states.select&&d.push("select"),f.hoverState===gP&&f.states.emphasis?d.push("emphasis"):f.hoverState===sw&&f.states.blur&&d.push("blur"),f.useStates(d)}function a(f,d){var h=f._zr,p=h.storage,v=0;p.traverse(function(g){g.isGroup||v++}),v>d.get("hoverLayerThreshold")&&!qr.node&&!qr.worker&&d.eachSeries(function(g){if(!g.preventUsingHoverLayer){var m=f._chartsMap[g.__viewId];m.__alive&&m.eachRendered(function(b){b.states.emphasis&&(b.states.emphasis.hoverLayer=!0)})}})}function o(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(p){p.isGroup||(p.style.blend=h)})}function s(f,d){if(!f.preventAutoZ){var h=f.get("z")||0,p=f.get("zlevel")||0;d.eachRendered(function(v){return l(v,h,p,-1/0),!0})}}function l(f,d,h,p){var v=f.getTextContent(),g=f.getTextGuideLine(),m=f.isGroup;if(m)for(var b=f.childrenRef(),_=0;_<b.length;_++)p=Math.max(l(b[_],d,h,p),p);else f.z=d,f.zlevel=h,p=Math.max(f.z2,p);if(v&&(v.z=d,v.zlevel=h,isFinite(p)&&(v.z2=p+2)),g){var x=f.textGuideLineConfig;g.z=d,g.zlevel=h,isFinite(p)&&(g.z2=p+(x&&x.showAbove?1:-1))}return p}function u(f,d){d.eachRendered(function(h){if(!ob(h)){var p=h.getTextContent(),v=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function c(f,d){var h=f.getModel("stateAnimation"),p=f.isAnimationEnabled(),v=h.get("duration"),g=v>0?{duration:v,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(m){if(m.states&&m.states.emphasis){if(ob(m))return;if(m instanceof Wr&&Yst(m),m.__dirty){var b=m.prevStates;b&&m.useStates(b)}if(p){m.stateTransition=g;var _=m.getTextContent(),x=m.getTextGuideLine();_&&(_.stateTransition=g),x&&(x.stateTransition=g)}m.__dirty&&i(m)}})}eee=function(f){return new(function(d){et(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(p){for(;p;){var v=p.__ecComponentInfo;if(v!=null)return f._model.getComponent(v.mainType,v.index);p=p.parent}},h.prototype.enterEmphasis=function(p,v){Mp(p,v),ac(f)},h.prototype.leaveEmphasis=function(p,v){Op(p,v),ac(f)},h.prototype.enterBlur=function(p){X_e(p),ac(f)},h.prototype.leaveBlur=function(p){mW(p),ac(f)},h.prototype.enterSelect=function(p){K_e(p),ac(f)},h.prototype.leaveSelect=function(p){q_e(p),ac(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(p){return f.getViewOfComponentModel(p)},h.prototype.getViewOfSeriesModel=function(p){return f.getViewOfSeriesModel(p)},h}($1e))(f)},kbe=function(f){function d(h,p){for(var v=0;v<h.length;v++){var g=h[v];g[hB]=p}}te(i2,function(h,p){f._messageCenter.on(p,function(v){if(nee[f.group]&&f[hB]!==qJ){if(v&&v.escapeConnect)return;var g=f.makeActionFromEvent(v),m=[];te(a2,function(b){b!==f&&b.group===f.group&&m.push(b)}),d(m,qJ),te(m,function(b){b[hB]!==yft&&b.dispatchAction(g)}),d(m,_ft)}})})}}(),t}($c),$W=Fbe.prototype;$W.on=Dbe("on");$W.off=Dbe("off");$W.one=function(e,t,n){var r=this;function i(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];t&&t.apply&&t.apply(this,a),r.off(e,i)}this.on.call(this,e,i,n)};var bft=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],tO={},i2={},qV=[],ZV=[],nO=[],Ube={},QV={},a2={},nee={},xft=+new Date-0,HW="_echarts_instance_";function Sft(e,t,n){{var r=Aft(e);if(r)return r}var i=new Fbe(e,t,n);return i.id="ec_"+xft++,a2[i.id]=i,O_e(e,HW,i.id),kbe(i),Tf.trigger("afterinit",i),i}function Aft(e){return a2[Not(e,HW)]}function Vbe(e,t){Ube[e]=t}function zbe(e){Ur(ZV,e)<0&&ZV.push(e)}function $be(e,t){GW(qV,e,t,cft)}function Eft(e){WW("afterinit",e)}function Tft(e){WW("afterupdate",e)}function WW(e,t){Tf.on(e,t)}function ph(e,t,n){er(t)&&(n=t,t="");var r=ar(e)?e.type:[e,e={event:t}][0];e.event=(e.event||r).toLowerCase(),t=e.event,!i2[t]&&(Pl(KJ.test(r)&&KJ.test(t)),tO[r]||(tO[r]={action:n,actionInfo:e}),i2[t]=r)}function wft(e,t){dw.register(e,t)}function Cft(e,t){GW(nO,e,t,Ibe,"layout")}function $y(e,t){GW(nO,e,t,Mbe,"visual")}var ree=[];function GW(e,t,n,r,i){if((er(t)||ar(t))&&(n=t,t=r),!(Ur(ree,n)>=0)){ree.push(n);var a=vbe.wrapStageHandler(n,i);a.__prio=t,a.__raw=n,e.push(a)}}function Hbe(e,t){QV[e]=t}function Rft(e,t,n){var r=aft("registerMap");r&&r(e,t,n)}var Ift=$ut;$y(zW,hct);$y(DP,pct);$y(DP,vct);$y(zW,Rct);$y(DP,Ict);$y(Obe,rft);zbe(W1e);$be(lft,Sut);Hbe("default",gct);ph({type:Q0,event:Q0,update:Q0},mo);ph({type:C3,event:C3,update:C3},mo);ph({type:JE,event:JE,update:JE},mo);ph({type:R3,event:R3,update:R3},mo);ph({type:e2,event:e2,update:e2},mo);Vbe("light",wct);Vbe("dark",_be);var iee=[],Mft={registerPreprocessor:zbe,registerProcessor:$be,registerPostInit:Eft,registerPostUpdate:Tft,registerUpdateLifecycle:WW,registerAction:ph,registerCoordinateSystem:wft,registerLayout:Cft,registerVisual:$y,registerTransform:Ift,registerLoading:Hbe,registerMap:Rft,registerImpl:ift,PRIORITY:mft,ComponentModel:Qr,ComponentView:Ba,SeriesModel:va,ChartView:ta,registerComponentModel:function(e){Qr.registerClass(e)},registerComponentView:function(e){Ba.registerClass(e)},registerSeriesModel:function(e){va.registerClass(e)},registerChartView:function(e){ta.registerClass(e)},registerSubTypeDefaulter:function(e,t){Qr.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){hot(e,t)}};function Vr(e){if(Lt(e)){te(e,function(t){Vr(t)});return}Ur(iee,e)>=0||(iee.push(e),er(e)&&(e={install:e}),e.install(Mft))}function pA(e){return e==null?0:e.length||1}function aee(e){return e}var Dp=function(){function e(t,n,r,i,a,o){this._old=t,this._new=n,this._oldKeyGetter=r||aee,this._newKeyGetter=i||aee,this.context=a,this._diffModeMultiple=o==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,n=this._new,r={},i=new Array(t.length),a=new Array(n.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(n,r,a,"_newKeyGetter");for(var o=0;o<t.length;o++){var s=i[o],l=r[s],u=pA(l);if(u>1){var c=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(c,o)}else u===1?(r[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,r)},e.prototype._executeMultiple=function(){var t=this._old,n=this._new,r={},i={},a=[],o=[];this._initIndexMap(t,r,a,"_oldKeyGetter"),this._initIndexMap(n,i,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],u=r[l],c=i[l],f=pA(u),d=pA(c);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(f===1&&d===1)this._update&&this._update(c,u),i[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(u[h]);else this._remove&&this._remove(u)}this._performRestAdd(o,i)},e.prototype._performRestAdd=function(t,n){for(var r=0;r<t.length;r++){var i=t[r],a=n[i],o=pA(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else o===1&&this._add&&this._add(a);n[i]=null}},e.prototype._initIndexMap=function(t,n,r,i){for(var a=this._diffModeMultiple,o=0;o<t.length;o++){var s="_ec_"+this[i](t[o],o);if(a||(r[o]=s),!!n){var l=n[s],u=pA(l);u===0?(n[s]=o,a&&r.push(s)):u===1?n[s]=[l,o]:l.push(o)}}},e}(),Oft=function(){function e(t,n){this._encode=t,this._schema=n}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function Dft(e,t){var n={},r=n.encode={},i=Fn(),a=[],o=[],s={};te(e.dimensions,function(d){var h=e.getDimensionInfo(d),p=h.coordDim;if(p){var v=h.coordDimIndex;_B(r,p)[v]=d,h.isExtraCoord||(i.set(p,1),Pft(h.type)&&(a[0]=d),_B(s,p)[v]=e.getDimensionIndex(h.name)),h.defaultTooltip&&o.push(d)}N1e.each(function(g,m){var b=_B(r,m),_=h.otherDims[m];_!=null&&_!==!1&&(b[_]=h.name)})});var l=[],u={};i.each(function(d,h){var p=r[h];u[h]=p[0],l=l.concat(p)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=Vt(l,function(d){return e.getDimensionInfo(d).storeDimIndex}),n.encodeFirstDimNotExtra=u;var c=r.label;c&&c.length&&(a=c.slice());var f=r.tooltip;return f&&f.length?o=f.slice():o.length||(o=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=o,n.userOutput=new Oft(s,t),n}function _B(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function rO(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function Pft(e){return!(e==="ordinal"||e==="time")}var P3=function(){function e(t){this.otherDims={},t!=null&&Ct(this,t)}return e}(),Lft=ui(),Nft={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Wbe=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=Ybe(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return Sr(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=j1e(this.source),r=!Xbe(t),i="",a=[],o=0,s=0;o<t;o++){var l=void 0,u=void 0,c=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===o)l=n?f.name:null,u=f.type,c=f.ordinalMeta,s++;else{var d=this.getSourceDimension(o);d&&(l=n?d.name:null,u=d.type)}a.push({property:l,type:u,ordinalMeta:c}),n&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=Nft[u]||"f",c&&(i+=c.uid),i+="$"}var h=this.source,p=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:a,hash:p}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,r=0;n<this._fullDimCount;n++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===n)a.isCalculationCoord||(i=a.name),r++;else{var o=this.getSourceDimension(n);o&&(i=o.name)}t.push(i)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function Gbe(e){return e instanceof Wbe}function jbe(e){for(var t=Fn(),n=0;n<(e||[]).length;n++){var r=e[n],i=ar(r)?r.name:r;i!=null&&t.get(i)==null&&t.set(i,n)}return t}function Ybe(e){var t=Lft(e);return t.dimNameMap||(t.dimNameMap=jbe(e.dimensionsDefine))}function Xbe(e){return e>30}var vA=ar,Iv=Vt,Bft=typeof Int32Array>"u"?Array:Int32Array,kft="e\0\0",oee=-1,Fft=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Uft=["_approximateExtent"],see,HR,gA,mA,bB,WR,xB,Rl=function(){function e(t,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;Gbe(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,r=t),r=r||["x","y"];for(var a={},o=[],s={},l=!1,u={},c=0;c<r.length;c++){var f=r[c],d=An(f)?new P3({name:f}):f instanceof P3?f:new P3(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var p=d.otherDims=d.otherDims||{};o.push(h),a[h]=d,u[h]!=null&&(l=!0),d.createInvertedIndices&&(s[h]=[]),p.itemName===0&&(this._nameDimIdx=c),p.itemId===0&&(this._idDimIdx=c),i&&(d.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=s,this._dimOmitted){var v=this._dimIdxToName=Fn();te(o,function(g){v.set(a[g].storeDimIndex,g)})}}return e.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var i=this._schema.getSourceDimension(n);if(i)return i.name},e.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(yi(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var n=this.getDimensionIndex(t);return n},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[t];var i=r.encode[t];return i?i[n]:null},e.prototype.mapDimensionsAll=function(t){var n=this._dimSummary,r=n.encode[t];return(r||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,n,r){var i=this,a;if(t instanceof HV&&(a=t),!a){var o=this.dimensions,s=LW(t)||nl(t)?new Y1e(t,o.length):t;a=new HV;var l=Iv(o,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(s,l,r)}this._store=a,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=Dft(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},e.prototype.appendValues=function(t,n){var r=this._store.appendValues(t,n.length),i=r.start,a=r.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var s=i;s<a;s++){var l=s-i;this._nameList[s]=n[l],o&&xB(this,s)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,r=0;r<n.length;r++){var i=this._dimInfos[n[r]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Sg&&!t.fillStorage},e.prototype._doInit=function(t,n){if(!(t>=n)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList,s=i.getSource().sourceFormat,l=s===Hc;if(l&&!i.pure)for(var u=[],c=t;c<n;c++){var f=i.getItem(c,u);if(!this.hasItemOption&&Sot(f)&&(this.hasItemOption=!0),f){var d=f.name;a[c]==null&&d!=null&&(a[c]=Uo(d,null));var h=f.id;o[c]==null&&h!=null&&(o[c]=Uo(h,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<n;c++)xB(this,c);see(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,n){vA(t)?Ct(this._calculationInfo,t):this._calculationInfo[t]=n},e.prototype.getName=function(t){var n=this.getRawIndex(t),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=gA(this,this._nameDimIdx,n)),r==null&&(r=""),r},e.prototype._getCategory=function(t,n){var r=this._store.get(t,n),i=this._store.getOrdinalMeta(t);return i?i.categories[r]:r},e.prototype.getId=function(t){return HR(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,n){var r=this._store,i=this._dimInfos[t];if(i)return r.get(i.storeDimIndex,n)},e.prototype.getByRawIndex=function(t,n){var r=this._store,i=this._dimInfos[t];if(i)return r.getByRawIndex(i.storeDimIndex,n)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,n){var r=this,i=this._store;return Lt(t)?i.getValues(Iv(t,function(a){return r._getStoreDimIndex(a)}),n):i.getValues(t)},e.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,i=n.length;r<i;r++)if(isNaN(this._store.get(n[r],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===t)return n;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,n){var r=t&&this._invertedIndicesMap[t],i=r[n];return i==null||isNaN(i)?oee:i},e.prototype.indicesOfNearest=function(t,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,r)},e.prototype.each=function(t,n,r){er(t)&&(r=n,n=t,t=[]);var i=r||this,a=Iv(mA(t),this._getStoreDimIndex,this);this._store.each(a,i?Rn(n,i):n)},e.prototype.filterSelf=function(t,n,r){er(t)&&(r=n,n=t,t=[]);var i=r||this,a=Iv(mA(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?Rn(n,i):n),this},e.prototype.selectRange=function(t){var n=this,r={},i=Jr(t);return te(i,function(a){var o=n._getStoreDimIndex(a);r[o]=t[a]}),this._store=this._store.selectRange(r),this},e.prototype.mapArray=function(t,n,r){er(t)&&(r=n,n=t,t=[]),r=r||this;var i=[];return this.each(t,function(){i.push(n&&n.apply(this,arguments))},r),i},e.prototype.map=function(t,n,r,i){var a=r||i||this,o=Iv(mA(t),this._getStoreDimIndex,this),s=WR(this);return s._store=this._store.map(o,a?Rn(n,a):n),s},e.prototype.modify=function(t,n,r,i){var a=r||i||this,o=Iv(mA(t),this._getStoreDimIndex,this);this._store.modify(o,a?Rn(n,a):n)},e.prototype.downSample=function(t,n,r,i){var a=WR(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),n,r,i),a},e.prototype.lttbDownSample=function(t,n){var r=WR(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),r},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var n=this.hostModel,r=this.getRawDataItem(t);return new zi(r,n,n&&n.ecModel)},e.prototype.diff=function(t){var n=this;return new Dp(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return HR(t,r)},function(r){return HR(n,r)})},e.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},e.prototype.setVisual=function(t,n){this._visual=this._visual||{},vA(t)?Ct(this._visual,t):this._visual[t]=n},e.prototype.getItemVisual=function(t,n){var r=this._itemVisuals[t],i=r&&r[n];return i??this.getVisual(n)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,n){var r=this._itemVisuals,i=r[t];i||(i=r[t]={});var a=i[n];return a==null&&(a=this.getVisual(n),Lt(a)?a=a.slice():vA(a)&&(a=Ct({},a)),i[n]=a),a},e.prototype.setItemVisual=function(t,n,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,vA(n)?Ct(i,n):i[n]=r},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,n){vA(t)?Ct(this._layout,t):this._layout[t]=n},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,n,r){this._itemLayouts[t]=r?Ct(this._itemLayouts[t]||{},n):n},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,n){var r=this.hostModel&&this.hostModel.seriesIndex;MV(r,this.dataType,t,n),this._graphicEls[t]=n},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,n){te(this._graphicEls,function(r,i){r&&t&&t.call(n,r,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:Iv(this.dimensions,this._getDimInfo,this),this.hostModel)),bB(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,n){var r=this[t];er(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=r.apply(this,arguments);return n.apply(this,[i].concat(eW(arguments)))})},e.internalField=function(){see=function(t){var n=t._invertedIndicesMap;te(n,function(r,i){var a=t._dimInfos[i],o=a.ordinalMeta,s=t._store;if(o){r=n[i]=new Bft(o.categories.length);for(var l=0;l<r.length;l++)r[l]=oee;for(var l=0;l<s.count();l++)r[s.get(a.storeDimIndex,l)]=l}})},gA=function(t,n,r){return Uo(t._getCategory(n,r),null)},HR=function(t,n){var r=t._idList[n];return r==null&&t._idDimIdx!=null&&(r=gA(t,t._idDimIdx,n)),r==null&&(r=kft+n),r},mA=function(t){return Lt(t)||(t=t!=null?[t]:[]),t},WR=function(t){var n=new e(t._schema?t._schema:Iv(t.dimensions,t._getDimInfo,t),t.hostModel);return bB(n,t),n},bB=function(t,n){te(Fft.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(t[r]=n[r])}),t.__wrappedMethods=n.__wrappedMethods,te(Uft,function(r){t[r]=sr(n[r])}),t._calculationInfo=Ct({},n._calculationInfo)},xB=function(t,n){var r=t._nameList,i=t._idList,a=t._nameDimIdx,o=t._idDimIdx,s=r[n],l=i[n];if(s==null&&a!=null&&(r[n]=s=gA(t,a,n)),l==null&&o!=null&&(i[n]=l=gA(t,o,n)),l==null&&s!=null){var u=t._nameRepeatCount,c=u[s]=(u[s]||0)+1;l=s,c>1&&(l+="__ec__"+c),i[n]=l}}}(),e}();function pw(e,t){LW(e)||(e=NW(e)),t=t||{};var n=t.coordDimensions||[],r=t.dimensionsDefine||e.dimensionsDefine||[],i=Fn(),a=[],o=zft(e,n,r,t.dimensionsCount),s=t.canOmitUnusedDimensions&&Xbe(o),l=r===e.dimensionsDefine,u=l?Ybe(e):jbe(r),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,o));for(var f=Fn(c),d=new tbe(o),h=0;h<d.length;h++)d[h]=-1;function p(M){var O=d[M];if(O<0){var D=r[M],C=ar(D)?D:{name:D},P=new P3,B=C.name;B!=null&&u.get(B)!=null&&(P.name=P.displayName=B),C.type!=null&&(P.type=C.type),C.displayName!=null&&(P.displayName=C.displayName);var U=a.length;return d[M]=U,P.storeDimIndex=M,a.push(P),P}return a[O]}if(!s)for(var h=0;h<o;h++)p(h);f.each(function(M,O){var D=Zi(M).slice();if(D.length===1&&!An(D[0])&&D[0]<0){f.set(O,!1);return}var C=f.set(O,[]);te(D,function(P,B){var U=An(P)?u.get(P):P;U!=null&&U<o&&(C[B]=U,g(p(U),O,B))})});var v=0;te(n,function(M){var O,D,C,P;if(An(M))O=M,P={};else{P=M,O=P.name;var B=P.ordinalMeta;P.ordinalMeta=null,P=Ct({},P),P.ordinalMeta=B,D=P.dimsDef,C=P.otherDims,P.name=P.coordDim=P.coordDimIndex=P.dimsDef=P.otherDims=null}var U=f.get(O);if(U!==!1){if(U=Zi(U),!U.length)for(var L=0;L<(D&&D.length||1);L++){for(;v<o&&p(v).coordDim!=null;)v++;v<o&&U.push(v++)}te(U,function(F,N){var V=p(F);if(l&&P.type!=null&&(V.type=P.type),g(tr(V,P),O,N),V.name==null&&D){var W=D[N];!ar(W)&&(W={name:W}),V.name=V.displayName=W.name,V.defaultTooltip=W.defaultTooltip}C&&tr(V.otherDims,C)})}});function g(M,O,D){N1e.get(O)!=null?M.otherDims[O]=D:(M.coordDim=O,M.coordDimIndex=D,i.set(O,!0))}var m=t.generateCoord,b=t.generateCoordCount,_=b!=null;b=m?b||1:0;var x=m||"value";function E(M){M.name==null&&(M.name=M.coordDim)}if(s)te(a,function(M){E(M)}),a.sort(function(M,O){return M.storeDimIndex-O.storeDimIndex});else for(var A=0;A<o;A++){var T=p(A),R=T.coordDim;R==null&&(T.coordDim=$ft(x,i,_),T.coordDimIndex=0,(!m||b<=0)&&(T.isExtraCoord=!0),b--),E(T),T.type==null&&(U1e(e,A)===Es.Must||T.isExtraCoord&&(T.otherDims.itemName!=null||T.otherDims.seriesName!=null))&&(T.type="ordinal")}return Vft(a),new Wbe({source:e,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function Vft(e){for(var t=Fn(),n=0;n<e.length;n++){var r=e[n],i=r.name,a=t.get(i)||0;a>0&&(r.name=i+(a-1)),a++,t.set(i,a)}}function zft(e,t,n,r){var i=Math.max(e.dimensionsDetectedCount||1,t.length,n.length,r||0);return te(t,function(a){var o;ar(a)&&(o=a.dimsDef)&&(i=Math.max(i,o.length))}),i}function $ft(e,t,n){if(n||t.hasKey(e)){for(var r=0;t.hasKey(e+r);)r++;e+=r}return t.set(e,!0),e}var Hft=function(){function e(t){this.coordSysDims=[],this.axisMap=Fn(),this.categoryAxisMap=Fn(),this.coordSysName=t}return e}();function Wft(e){var t=e.get("coordinateSystem"),n=new Hft(t),r=Gft[t];if(r)return r(e,n,n.axisMap,n.categoryAxisMap),n}var Gft={cartesian2d:function(e,t,n,r){var i=e.getReferringComponents("xAxis",wo).models[0],a=e.getReferringComponents("yAxis",wo).models[0];t.coordSysDims=["x","y"],n.set("x",i),n.set("y",a),n1(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),n1(a)&&(r.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,n,r){var i=e.getReferringComponents("singleAxis",wo).models[0];t.coordSysDims=["single"],n.set("single",i),n1(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,n,r){var i=e.getReferringComponents("polar",wo).models[0],a=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",o),n1(a)&&(r.set("radius",a),t.firstCategoryDimIndex=0),n1(o)&&(r.set("angle",o),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,n,r){t.coordSysDims=["lng","lat"]},parallel:function(e,t,n,r){var i=e.ecModel,a=i.getComponent("parallel",e.get("parallelIndex")),o=t.coordSysDims=a.dimensions.slice();te(a.parallelAxisIndex,function(s,l){var u=i.getComponent("parallelAxis",s),c=o[l];n.set(c,u),n1(u)&&(r.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function n1(e){return e.get("type")==="category"}function jft(e,t,n){n=n||{};var r=n.byIndex,i=n.stackedCoordDimension,a,o,s;Yft(t)?a=t:(o=t.schema,a=o.dimensions,s=t.store);var l=!!(e&&e.get("stack")),u,c,f,d;if(te(a,function(b,_){An(b)&&(a[_]=b={name:b}),l&&!b.isExtraCoord&&(!r&&!u&&b.ordinalMeta&&(u=b),!c&&b.type!=="ordinal"&&b.type!=="time"&&(!i||i===b.coordDim)&&(c=b))}),c&&!r&&!u&&(r=!0),c){f="__\0ecstackresult_"+e.id,d="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var h=c.coordDim,p=c.type,v=0;te(a,function(b){b.coordDim===h&&v++});var g={name:f,coordDim:h,coordDimIndex:v,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},m={name:d,coordDim:d,coordDimIndex:v+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(g.storeDimIndex=s.ensureCalculationDimension(d,p),m.storeDimIndex=s.ensureCalculationDimension(f,p)),o.appendCalculationDimension(g),o.appendCalculationDimension(m)):(a.push(g),a.push(m))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:r,stackedOverDimension:d,stackResultDimension:f}}function Yft(e){return!Gbe(e.schema)}function Hg(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function Kbe(e,t){return Hg(e,t)?e.getCalculationInfo("stackResultDimension"):t}function Xft(e,t){var n=e.get("coordinateSystem"),r=dw.get(n),i;return t&&t.coordSysDims&&(i=Vt(t.coordSysDims,function(a){var o={name:a},s=t.axisMap.get(a);if(s){var l=s.get("type");o.type=rO(l)}return o})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function Kft(e,t,n){var r,i;return n&&te(e,function(a,o){var s=a.coordDim,l=n.categoryAxisMap.get(s);l&&(r==null&&(r=o),a.ordinalMeta=l.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(e[r].otherDims.itemName=0),r}function Gp(e,t,n){n=n||{};var r=t.getSourceManager(),i,a=!1;e?(a=!0,i=NW(e)):(i=r.getSource(),a=i.sourceFormat===Hc);var o=Wft(t),s=Xft(t,o),l=n.useEncodeDefaulter,u=er(l)?l:l?Tr(F1e,s,t):null,c={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},f=pw(i,c),d=Kft(f.dimensions,n.createInvertedIndices,o),h=a?null:r.getSharedDataStore(f),p=jft(t,{schema:f,store:h}),v=new Rl(f,t);v.setCalculationInfo(p);var g=d!=null&&qft(i)?function(m,b,_,x){return x===d?_:this.defaultDimValueGetter(m,b,_,x)}:null;return v.hasItemOption=!1,v.initData(a?i:h,null,g),v}function qft(e){if(e.sourceFormat===Hc){var t=Zft(e.data||[]);return!Lt(Dx(t))}}function Zft(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var vh=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},e.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,n){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(n)||(r[1]=n)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();dP(vh);var Qft=0,JV=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++Qft}return e.createByAxisModel=function(t){var n=t.option,r=n.data,i=r&&Vt(r,Jft);return new e({categories:i,needCollect:!i,deduplication:n.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var n,r=this._needCollect;if(!An(t)&&!r)return t;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var i=this._getOrCreateMap();return n=i.get(t),n==null&&(r?(n=this.categories.length,this.categories[n]=t,i.set(t,n)):n=NaN),n},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Fn(this.categories))},e}();function Jft(e){return ar(e)&&e.value!=null?e.value:e+""}function e9(e){return e.type==="interval"||e.type==="log"}function edt(e,t,n,r){var i={},a=e[1]-e[0],o=i.interval=A_e(a/t);n!=null&&o<n&&(o=i.interval=n),r!=null&&o>r&&(o=i.interval=r);var s=i.intervalPrecision=qbe(o),l=i.niceTickExtent=[ao(Math.ceil(e[0]/o)*o,s),ao(Math.floor(e[1]/o)*o,s)];return tdt(l,e),i}function SB(e){var t=Math.pow(10,lW(e)),n=e/t;return n?n===2?n=3:n===3?n=5:n*=2:n=1,ao(n*t)}function qbe(e){return $d(e)+2}function lee(e,t,n){e[t]=Math.max(Math.min(e[t],n[1]),n[0])}function tdt(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),lee(e,0,t),lee(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function PP(e,t){return e>=t[0]&&e<=t[1]}function LP(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function NP(e,t){return e*(t[1]-t[0])+t[0]}var BP=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new JV({})),Lt(i)&&(i=new JV({categories:Vt(i,function(a){return ar(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return t.prototype.parse=function(n){return n==null?NaN:An(n)?this._ordinalMeta.getOrdinal(n):Math.round(n)},t.prototype.contain=function(n){return n=this.parse(n),PP(n,this._extent)&&this._ordinalMeta.categories[n]!=null},t.prototype.normalize=function(n){return n=this._getTickNumber(this.parse(n)),LP(n,this._extent)},t.prototype.scale=function(n){return n=Math.round(NP(n,this._extent)),this.getRawOrdinalNumber(n)},t.prototype.getTicks=function(){for(var n=[],r=this._extent,i=r[0];i<=r[1];)n.push({value:i}),i++;return n},t.prototype.getMinorTicks=function(n){},t.prototype.setSortInfo=function(n){if(n==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=n.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,r.length);o<l;++o){var u=r[o];i[o]=u,a[u]=o}for(var c=0;o<s;++o){for(;a[c]!=null;)c++;i.push(c),a[c]=o}},t.prototype._getTickNumber=function(n){var r=this._ticksByOrdinalNumber;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getRawOrdinalNumber=function(n){var r=this._ordinalNumbersByTick;return r&&n>=0&&n<r.length?r[n]:n},t.prototype.getLabel=function(n){if(!this.isBlank()){var r=this.getRawOrdinalNumber(n.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.isInExtentRange=function(n){return n=this._getTickNumber(n),this._extent[0]<=n&&this._extent[1]>=n},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(vh);vh.registerClass(BP);var i0=ao,Pp=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="interval",n._interval=0,n._intervalPrecision=2,n}return t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return PP(n,this._extent)},t.prototype.normalize=function(n){return LP(n,this._extent)},t.prototype.scale=function(n){return NP(n,this._extent)},t.prototype.setExtent=function(n,r){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n)),isNaN(r)||(i[1]=parseFloat(r))},t.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1]),this.setExtent(r[0],r[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(n){this._interval=n,this._niceExtent=this._extent.slice(),this._intervalPrecision=qbe(n)},t.prototype.getTicks=function(n){var r=this._interval,i=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!r)return s;var l=1e4;i[0]<a[0]&&(n?s.push({value:i0(a[0]-r,o)}):s.push({value:i[0]}));for(var u=a[0];u<=a[1]&&(s.push({value:u}),u=i0(u+r,o),u!==s[s.length-1].value);)if(s.length>l)return[];var c=s.length?s[s.length-1].value:a[1];return i[1]>c&&(n?s.push({value:i0(c+r,o)}):s.push({value:i[1]})),s},t.prototype.getMinorTicks=function(n){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),o=1;o<r.length;o++){for(var s=r[o],l=r[o-1],u=0,c=[],f=s.value-l.value,d=f/n;u<n-1;){var h=i0(l.value+(u+1)*d);h>a[0]&&h<a[1]&&c.push(h),u++}i.push(c)}return i},t.prototype.getLabel=function(n,r){if(n==null)return"";var i=r&&r.precision;i==null?i=$d(n.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=i0(n.value,i,!0);return I1e(a)},t.prototype.calcNiceTicks=function(n,r,i){n=n||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=edt(a,n,r,i);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);n.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval);var o=this._interval;n.fixMin||(r[0]=i0(Math.floor(r[0]/o)*o)),n.fixMax||(r[1]=i0(Math.ceil(r[1]/o)*o))},t.prototype.setNiceExtent=function(n,r){this._niceExtent=[n,r]},t.type="interval",t}(vh);vh.registerClass(Pp);var Zbe=typeof Float32Array<"u",ndt=Zbe?Float32Array:Array;function Wd(e){return Lt(e)?Zbe?new Float32Array(e):e:new ndt(e)}var t9="__ec_stack_";function jW(e){return e.get("stack")||t9+e.seriesIndex}function YW(e){return e.dim+e.index}function rdt(e){var t=[],n=e.axis,r="axis0";if(n.type==="category"){for(var i=n.getBandWidth(),a=0;a<e.count;a++)t.push(tr({bandWidth:i,axisKey:r,stackId:t9+a},e));for(var o=exe(t),s=[],a=0;a<e.count;a++){var l=o[r][t9+a];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function Qbe(e,t){var n=[];return t.eachSeriesByType(e,function(r){rxe(r)&&n.push(r)}),n}function idt(e){var t={};te(e,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var f=l.getData(),d=c.dim+"_"+c.index,h=f.getDimensionIndex(f.mapDimension(c.dim)),p=f.getStore(),v=0,g=p.count();v<g;++v){var m=p.get(h,v);t[d]?t[d].push(m):t[d]=[m]}});var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i){i.sort(function(l,u){return l-u});for(var a=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(a=a===null?s:Math.min(a,s))}n[r]=a}}return n}function Jbe(e){var t=idt(e),n=[];return te(e,function(r){var i=r.coordinateSystem,a=i.getBaseAxis(),o=a.getExtent(),s;if(a.type==="category")s=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=t[l],c=Math.abs(o[1]-o[0]),f=a.scale.getExtent(),d=Math.abs(f[1]-f[0]);s=u?c/d*u:c}else{var h=r.getData();s=Math.abs(o[1]-o[0])/h.count()}var p=vn(r.get("barWidth"),s),v=vn(r.get("barMaxWidth"),s),g=vn(r.get("barMinWidth")||(ixe(r)?.5:1),s),m=r.get("barGap"),b=r.get("barCategoryGap");n.push({bandWidth:s,barWidth:p,barMaxWidth:v,barMinWidth:g,barGap:m,barCategoryGap:b,axisKey:YW(a),stackId:jW(r)})}),exe(n)}function exe(e){var t={};te(e,function(r,i){var a=r.axisKey,o=r.bandWidth,s=t[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;t[a]=s;var u=r.stackId;l[u]||s.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=r.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(s.remainedWidth,c),s.remainedWidth-=c);var f=r.barMaxWidth;f&&(l[u].maxWidth=f);var d=r.barMinWidth;d&&(l[u].minWidth=d);var h=r.barGap;h!=null&&(s.gap=h);var p=r.barCategoryGap;p!=null&&(s.categoryGap=p)});var n={};return te(t,function(r,i){n[i]={};var a=r.stacks,o=r.bandWidth,s=r.categoryGap;if(s==null){var l=Jr(a).length;s=Math.max(35-l*4,15)+"%"}var u=vn(s,o),c=vn(r.gap,1),f=r.remainedWidth,d=r.autoWidthCount,h=(f-u)/(d+(d-1)*c);h=Math.max(h,0),te(a,function(m){var b=m.maxWidth,_=m.minWidth;if(m.width){var x=m.width;b&&(x=Math.min(x,b)),_&&(x=Math.max(x,_)),m.width=x,f-=x+c*x,d--}else{var x=h;b&&b<x&&(x=Math.min(b,f)),_&&_>x&&(x=_),x!==h&&(m.width=x,f-=x+c*x,d--)}}),h=(f-u)/(d+(d-1)*c),h=Math.max(h,0);var p=0,v;te(a,function(m,b){m.width||(m.width=h),v=m,p+=m.width*(1+c)}),v&&(p-=v.width*c);var g=-p/2;te(a,function(m,b){n[i][b]=n[i][b]||{bandWidth:o,offset:g,width:m.width},g+=m.width*(1+c)})}),n}function adt(e,t,n){if(e&&t){var r=e[YW(t)];return r!=null&&n!=null?r[jW(n)]:r}}function txe(e,t){var n=Qbe(e,t),r=Jbe(n);te(n,function(i){var a=i.getData(),o=i.coordinateSystem,s=o.getBaseAxis(),l=jW(i),u=r[YW(s)][l],c=u.offset,f=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:f})})}function nxe(e){return{seriesType:e,plan:zx(),reset:function(t){if(rxe(t)){var n=t.getData(),r=t.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),o=n.getDimensionIndex(n.mapDimension(a.dim)),s=n.getDimensionIndex(n.mapDimension(i.dim)),l=t.get("showBackground",!0),u=n.mapDimension(a.dim),c=n.getCalculationInfo("stackResultDimension"),f=Hg(n,u)&&!!n.getCalculationInfo("stackedOnSeries"),d=a.isHorizontal(),h=odt(i,a),p=ixe(t),v=t.get("barMinHeight")||0,g=c&&n.getDimensionIndex(c),m=n.getLayout("size"),b=n.getLayout("offset");return{progress:function(_,x){for(var E=_.count,A=p&&Wd(E*3),T=p&&l&&Wd(E*3),R=p&&Wd(E),M=r.master.getRect(),O=d?M.width:M.height,D,C=x.getStore(),P=0;(D=_.next())!=null;){var B=C.get(f?g:o,D),U=C.get(s,D),L=h,F=void 0;f&&(F=+B-C.get(o,D));var N=void 0,V=void 0,W=void 0,G=void 0;if(d){var K=r.dataToPoint([B,U]);if(f){var q=r.dataToPoint([F,U]);L=q[0]}N=L,V=K[1]+b,W=K[0]-L,G=m,Math.abs(W)<v&&(W=(W<0?-1:1)*v)}else{var K=r.dataToPoint([U,B]);if(f){var q=r.dataToPoint([U,F]);L=q[1]}N=K[0]+b,V=L,W=m,G=K[1]-L,Math.abs(G)<v&&(G=(G<=0?-1:1)*v)}p?(A[P]=N,A[P+1]=V,A[P+2]=d?W:G,T&&(T[P]=d?M.x:N,T[P+1]=d?V:M.y,T[P+2]=O),R[D]=D):x.setItemLayout(D,{x:N,y:V,width:W,height:G}),P+=3}p&&x.setLayout({largePoints:A,largeDataIndices:R,largeBackgroundPoints:T,valueAxisHorizontal:d})}}}}}}function rxe(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function ixe(e){return e.pipelineContext&&e.pipelineContext.large}function odt(e,t){var n=t.model.get("startValue");return n||(n=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?n>0?n:1:n))}var sdt=function(e,t,n,r){for(;n<r;){var i=n+r>>>1;e[i][1]<t?n=i+1:r=i}return n},XW=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r.type="time",r}return t.prototype.getLabel=function(n){var r=this.getSetting("useUTC");return AP(n.value,QQ[$lt(lb(this._minLevelUnit))]||QQ.second,r,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(n,r,i){var a=this.getSetting("useUTC"),o=this.getSetting("locale");return Hlt(n,r,i,o,a)},t.prototype.getTicks=function(){var n=this._interval,r=this._extent,i=[];if(!n)return i;i.push({value:r[0],level:0});var a=this.getSetting("useUTC"),o=pdt(this._minLevelUnit,this._approxInterval,a,r);return i=i.concat(o),i.push({value:r[1],level:0}),i},t.prototype.calcNiceExtent=function(n){var r=this._extent;if(r[0]===r[1]&&(r[0]-=wc,r[1]+=wc),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-wc}this.calcNiceTicks(n.splitNumber,n.minInterval,n.maxInterval)},t.prototype.calcNiceTicks=function(n,r,i){n=n||10;var a=this._extent,o=a[1]-a[0];this._approxInterval=o/n,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var s=GR.length,l=Math.min(sdt(GR,this._approxInterval,0,s),s-1);this._interval=GR[l][1],this._minLevelUnit=GR[Math.max(l-1,0)][0]},t.prototype.parse=function(n){return yi(n)?n:+ah(n)},t.prototype.contain=function(n){return PP(this.parse(n),this._extent)},t.prototype.normalize=function(n){return LP(this.parse(n),this._extent)},t.prototype.scale=function(n){return NP(n,this._extent)},t.type="time",t}(Pp),GR=[["second",wW],["minute",CW],["hour",n2],["quarter-day",n2*6],["half-day",n2*12],["day",wc*1.2],["half-week",wc*3.5],["week",wc*7],["month",wc*31],["quarter",wc*95],["half-year",ZQ/2],["year",ZQ]];function ldt(e,t,n,r){var i=ah(t),a=ah(n),o=function(p){return JQ(i,p,r)===JQ(a,p,r)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},f=function(){return c()&&o("minute")},d=function(){return f()&&o("second")},h=function(){return d()&&o("millisecond")};switch(e){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return f();case"second":return d();case"millisecond":return h()}}function udt(e,t){return e/=wc,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function cdt(e){var t=30*wc;return e/=t,e>6?6:e>3?3:e>2?2:1}function fdt(e){return e/=n2,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function uee(e,t){return e/=t?CW:wW,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function ddt(e){return A_e(e)}function hdt(e,t,n){var r=new Date(e);switch(lb(t)){case"year":case"month":r[A1e(n)](0);case"day":r[E1e(n)](1);case"hour":r[T1e(n)](0);case"minute":r[w1e(n)](0);case"second":r[C1e(n)](0),r[R1e(n)](0)}return r.getTime()}function pdt(e,t,n,r){var i=1e4,a=x1e,o=0;function s(O,D,C,P,B,U,L){for(var F=new Date(D),N=D,V=F[P]();N<C&&N<=r[1];)L.push({value:N}),V+=O,F[B](V),N=F.getTime();L.push({value:N,notAdd:!0})}function l(O,D,C){var P=[],B=!D.length;if(!ldt(lb(O),r[0],r[1],n)){B&&(D=[{value:hdt(new Date(r[0]),O,n)},{value:r[1]}]);for(var U=0;U<D.length-1;U++){var L=D[U].value,F=D[U+1].value;if(L!==F){var N=void 0,V=void 0,W=void 0,G=!1;switch(O){case"year":N=Math.max(1,Math.round(t/wc/365)),V=RW(n),W=Wlt(n);break;case"half-year":case"quarter":case"month":N=cdt(t),V=ub(n),W=A1e(n);break;case"week":case"half-week":case"day":N=udt(t),V=EP(n),W=E1e(n),G=!0;break;case"half-day":case"quarter-day":case"hour":N=fdt(t),V=nT(n),W=T1e(n);break;case"minute":N=uee(t,!0),V=TP(n),W=w1e(n);break;case"second":N=uee(t,!1),V=wP(n),W=C1e(n);break;case"millisecond":N=ddt(t),V=CP(n),W=R1e(n);break}s(N,L,F,V,W,G,P),O==="year"&&C.length>1&&U===0&&C.unshift({value:C[0].value-N})}}for(var U=0;U<P.length;U++)C.push(P[U]);return P}}for(var u=[],c=[],f=0,d=0,h=0;h<a.length&&o++<i;++h){var p=lb(a[h]);if(zlt(a[h])){l(a[h],u[u.length-1]||[],c);var v=a[h+1]?lb(a[h+1]):null;if(p!==v){if(c.length){d=f,c.sort(function(O,D){return O.value-D.value});for(var g=[],m=0;m<c.length;++m){var b=c[m].value;(m===0||c[m-1].value!==b)&&(g.push(c[m]),b>=r[0]&&b<=r[1]&&f++)}var _=(r[1]-r[0])/t;if(f>_*1.5&&d>_/1.5||(u.push(g),f>_||e===a[h]))break}c=[]}}}for(var x=Xi(Vt(u,function(O){return Xi(O,function(D){return D.value>=r[0]&&D.value<=r[1]&&!D.notAdd})}),function(O){return O.length>0}),E=[],A=x.length-1,h=0;h<x.length;++h)for(var T=x[h],R=0;R<T.length;++R)E.push({value:T[R].value,level:A-h});E.sort(function(O,D){return O.value-D.value});for(var M=[],h=0;h<E.length;++h)(h===0||E[h].value!==E[h-1].value)&&M.push(E[h]);return M}vh.registerClass(XW);var cee=vh.prototype,o2=Pp.prototype,vdt=ao,gdt=Math.floor,mdt=Math.ceil,jR=Math.pow,xf=Math.log,KW=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="log",n.base=10,n._originalScale=new Pp,n._interval=0,n}return t.prototype.getTicks=function(n){var r=this._originalScale,i=this._extent,a=r.getExtent(),o=o2.getTicks.call(this,n);return Vt(o,function(s){var l=s.value,u=ao(jR(this.base,l));return u=l===i[0]&&this._fixMin?YR(u,a[0]):u,u=l===i[1]&&this._fixMax?YR(u,a[1]):u,{value:u}},this)},t.prototype.setExtent=function(n,r){var i=xf(this.base);n=xf(Math.max(0,n))/i,r=xf(Math.max(0,r))/i,o2.setExtent.call(this,n,r)},t.prototype.getExtent=function(){var n=this.base,r=cee.getExtent.call(this);r[0]=jR(n,r[0]),r[1]=jR(n,r[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(r[0]=YR(r[0],a[0])),this._fixMax&&(r[1]=YR(r[1],a[1])),r},t.prototype.unionExtent=function(n){this._originalScale.unionExtent(n);var r=this.base;n[0]=xf(n[0])/xf(r),n[1]=xf(n[1])/xf(r),cee.unionExtent.call(this,n)},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.calcNiceTicks=function(n){n=n||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var a=xot(i),o=n/i*a;for(o<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[ao(mdt(r[0]/a)*a),ao(gdt(r[1]/a)*a)];this._interval=a,this._niceExtent=s}},t.prototype.calcNiceExtent=function(n){o2.calcNiceExtent.call(this,n),this._fixMin=n.fixMin,this._fixMax=n.fixMax},t.prototype.parse=function(n){return n},t.prototype.contain=function(n){return n=xf(n)/xf(this.base),PP(n,this._extent)},t.prototype.normalize=function(n){return n=xf(n)/xf(this.base),LP(n,this._extent)},t.prototype.scale=function(n){return n=NP(n,this._extent),jR(this.base,n)},t.type="log",t}(vh),axe=KW.prototype;axe.getMinorTicks=o2.getMinorTicks;axe.getLabel=o2.getLabel;function YR(e,t){return vdt(e,$d(t))}vh.registerClass(KW);var ydt=function(){function e(t,n,r){this._prepareParams(t,n,r)}return e.prototype._prepareParams=function(t,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&n.getNeedCrossZero&&n.getNeedCrossZero();var a=n.get("min",!0);a==null&&(a=n.get("startValue",!0));var o=this._modelMinRaw=a;er(o)?this._modelMinNum=XR(t,o({min:r[0],max:r[1]})):o!=="dataMin"&&(this._modelMinNum=XR(t,o));var s=this._modelMaxRaw=n.get("max",!0);if(er(s)?this._modelMaxNum=XR(t,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=XR(t,s)),i)this._axisDataLen=n.getCategories().length;else{var l=n.get("boundaryGap"),u=Lt(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Qf(u[0],1),Qf(u[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,o=t?null:r-n||Math.abs(n),s=this._modelMinRaw==="dataMin"?n:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,u=s!=null,c=l!=null;s==null&&(s=t?i?0:NaN:n-a[0]*o),l==null&&(l=t?i?i-1:NaN:r+a[1]*o),(s==null||!isFinite(s))&&(s=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=Y2(s)||Y2(l)||t&&!i;this._needCrossZero&&(s>0&&l>0&&!u&&(s=0),s<0&&l<0&&!c&&(l=0));var d=this._determinedMin,h=this._determinedMax;return d!=null&&(s=d,u=!0),h!=null&&(l=h,c=!0),{min:s,max:l,minFixed:u,maxFixed:c,isBlank:f}},e.prototype.modifyDataMinMax=function(t,n){this[bdt[t]]=n},e.prototype.setDeterminedMinMax=function(t,n){var r=_dt[t];this[r]=n},e.prototype.freeze=function(){this.frozen=!0},e}(),_dt={min:"_determinedMin",max:"_determinedMax"},bdt={min:"_dataMin",max:"_dataMax"};function oxe(e,t,n){var r=e.rawExtentInfo;return r||(r=new ydt(e,t,n),e.rawExtentInfo=r,r)}function XR(e,t){return t==null?null:Y2(t)?NaN:e.parse(t)}function sxe(e,t){var n=e.type,r=oxe(e,t,e.getExtent()).calculate();e.setBlank(r.isBlank);var i=r.min,a=r.max,o=t.ecModel;if(o&&n==="time"){var s=Qbe("bar",o),l=!1;if(te(s,function(f){l=l||f.getBaseAxis()===t.axis}),l){var u=Jbe(s),c=xdt(i,a,t,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function xdt(e,t,n,r){var i=n.axis.getExtent(),a=i[1]-i[0],o=adt(r,n.axis);if(o===void 0)return{min:e,max:t};var s=1/0;te(o,function(h){s=Math.min(h.offset,s)});var l=-1/0;te(o,function(h){l=Math.max(h.offset+h.width,l)}),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=t-e,f=1-(s+l)/a,d=c/f-c;return t+=d*(l/u),e-=d*(s/u),{min:e,max:t}}function Xb(e,t){var n=t,r=sxe(e,n),i=r.extent,a=n.get("splitNumber");e instanceof KW&&(e.base=n.get("logBase"));var o=e.type,s=n.get("interval"),l=o==="interval"||o==="time";e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),s!=null&&e.setInterval&&e.setInterval(s)}function kP(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new BP({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new XW({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(vh.getClass(t)||Pp)}}function Sdt(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}function Wx(e){var t=e.getLabelModel().get("formatter"),n=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(r){return function(i,a){return e.scale.getFormattedLabel(i,a,r)}}(t):An(t)?function(r){return function(i){var a=e.scale.getLabel(i),o=r.replace("{value}",a??"");return o}}(t):er(t)?function(r){return function(i,a){return n!=null&&(a=i.value-n),r(qW(e,i),a,i.level!=null?{level:i.level}:null)}}(t):function(r){return e.scale.getLabel(r)}}function qW(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function Adt(e){var t=e.model,n=e.scale;if(!(!t.get(["axisLabel","show"])||n.isBlank())){var r,i,a=n.getExtent();n instanceof BP?i=n.count():(r=n.getTicks(),i=r.length);var o=e.getLabelModel(),s=Wx(e),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var f=r?r[c]:{value:a[0]+c},d=s(f,c),h=o.getTextRect(d),p=Edt(h,o.get("rotate")||0);l?l.union(p):l=p}return l}}function Edt(e,t){var n=t*Math.PI/180,r=e.width,i=e.height,a=r*Math.abs(Math.cos(n))+Math.abs(i*Math.sin(n)),o=r*Math.abs(Math.sin(n))+Math.abs(i*Math.cos(n)),s=new Mr(e.x,e.y,a,o);return s}function ZW(e){var t=e.get("interval");return t??"auto"}function lxe(e){return e.type==="category"&&ZW(e.getLabelModel())===0}function iO(e,t){var n={};return te(e.mapDimensionsAll(t),function(r){n[Kbe(e,r)]=!0}),Jr(n)}function Tdt(e,t,n){t&&te(iO(t,n),function(r){var i=t.getApproximateExtent(r);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])})}var vw=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}(),wdt=1e-8;function fee(e,t){return Math.abs(e-t)<wdt}function A0(e,t,n){var r=0,i=e[0];if(!i)return!1;for(var a=1;a<e.length;a++){var o=e[a];r+=rp(i[0],i[1],o[0],o[1],t,n),i=o}var s=e[0];return(!fee(i[0],s[0])||!fee(i[1],s[1]))&&(r+=rp(i[0],i[1],s[0],s[1],t,n)),r!==0}var Cdt=[];function AB(e,t){for(var n=0;n<e.length;n++)Ds(e[n],e[n],t)}function dee(e,t,n,r){for(var i=0;i<e.length;i++){var a=e[i];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(og(t,t,a),sg(n,n,a))}}function Rdt(e){for(var t=0,n=0,r=0,i=e.length,a=e[i-1][0],o=e[i-1][1],s=0;s<i;s++){var l=e[s][0],u=e[s][1],c=a*u-l*o;t+=c,n+=(a+l)*c,r+=(o+u)*c,a=l,o=u}return t?[n/t/3,r/t/3,t]:[e[0][0]||0,e[0][1]||0]}var uxe=function(){function e(t){this.name=t}return e.prototype.setCenter=function(t){this._center=t},e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},e}(),hee=function(){function e(t,n){this.type="polygon",this.exterior=t,this.interiors=n}return e}(),pee=function(){function e(t){this.type="linestring",this.points=t}return e}(),cxe=function(e){et(t,e);function t(n,r,i){var a=e.call(this,n)||this;return a.type="geoJSON",a.geometries=r,a._center=i&&[i[0],i[1]],a}return t.prototype.calcCenter=function(){for(var n=this.geometries,r,i=0,a=0;a<n.length;a++){var o=n[a],s=o.exterior,l=s&&s.length;l>i&&(r=o,i=l)}if(r)return Rdt(r.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(n){var r=this._rect;if(r&&!n)return r;var i=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return te(o,function(s){s.type==="polygon"?dee(s.exterior,i,a,n):te(s.points,function(l){dee(l,i,a,n)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),r=new Mr(i[0],i[1],a[0]-i[0],a[1]-i[1]),n||(this._rect=r),r},t.prototype.contain=function(n){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(n[0],n[1]))return!1;e:for(var a=0,o=i.length;a<o;a++){var s=i[a];if(s.type==="polygon"){var l=s.exterior,u=s.interiors;if(A0(l,n[0],n[1])){for(var c=0;c<(u?u.length:0);c++)if(A0(u[c],n[0],n[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(n,r,i,a){var o=this.getBoundingRect(),s=o.width/o.height;i?a||(a=i/s):i=s*a;for(var l=new Mr(n,r,i,a),u=o.calculateTransform(l),c=this.geometries,f=0;f<c.length;f++){var d=c[f];d.type==="polygon"?(AB(d.exterior,u),te(d.interiors,function(h){AB(h,u)})):te(d.points,function(h){AB(h,u)})}o=this._rect,o.copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},t.prototype.cloneShallow=function(n){n==null&&(n=this.name);var r=new t(n,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t}(uxe),Idt=function(e){et(t,e);function t(n,r){var i=e.call(this,n)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return t.prototype.calcCenter=function(){for(var n=this._elOnlyForCalculate,r=n.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],a=lP(Cdt),o=n;o&&!o.isGeoSVGGraphicRoot;)mp(a,o.getLocalTransform(),a),o=o.parent;return Ox(a,a),Ds(i,i,a),i},t}(uxe);function Mdt(e){if(!e.UTF8Encoding)return e;var t=e,n=t.UTF8Scale;n==null&&(n=1024);var r=t.features;return te(r,function(i){var a=i.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=fxe(s,o,n);break;case"Polygon":EB(s,o,n);break;case"MultiLineString":EB(s,o,n);break;case"MultiPolygon":te(s,function(l,u){return EB(l,o[u],n)})}}),t.UTF8Encoding=!1,t}function EB(e,t,n){for(var r=0;r<e.length;r++)e[r]=fxe(e[r],t[r],n)}function fxe(e,t,n){for(var r=[],i=t[0],a=t[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=i,l+=a,i=s,a=l,r.push([s/n,l/n])}return r}function Odt(e,t){return e=Mdt(e),Vt(Xi(e.features,function(n){return n.geometry&&n.properties&&n.geometry.coordinates.length>0}),function(n){var r=n.properties,i=n.geometry,a=[];switch(i.type){case"Polygon":var o=i.coordinates;a.push(new hee(o[0],o.slice(1)));break;case"MultiPolygon":te(i.coordinates,function(l){l[0]&&a.push(new hee(l[0],l.slice(1)))});break;case"LineString":a.push(new pee([i.coordinates]));break;case"MultiLineString":a.push(new pee(i.coordinates))}var s=new cxe(r[t||"name"],a,r.cp);return s.properties=r,s})}var lT=ui();function dxe(e,t){var n=Vt(t,function(r){return e.scale.parse(r)});return e.type==="time"&&n.length>0&&(n.sort(),n.unshift(n[0]),n.push(n[n.length-1])),n}function Ddt(e){var t=e.getLabelModel().get("customValues");if(t){var n=Wx(e);return{labels:dxe(e,t).map(function(r){var i={value:r};return{formattedLabel:n(i),rawLabel:e.scale.getLabel(i),tickValue:r}})}}return e.type==="category"?Ldt(e):Bdt(e)}function Pdt(e,t){var n=e.getTickModel().get("customValues");return n?{ticks:dxe(e,n)}:e.type==="category"?Ndt(e,t):{ticks:Vt(e.scale.getTicks(),function(r){return r.value})}}function Ldt(e){var t=e.getLabelModel(),n=hxe(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function hxe(e,t){var n=pxe(e,"labels"),r=ZW(t),i=vxe(n,r);if(i)return i;var a,o;return er(r)?a=yxe(e,r):(o=r==="auto"?kdt(e):r,a=mxe(e,o)),gxe(n,r,{labels:a,labelCategoryInterval:o})}function Ndt(e,t){var n=pxe(e,"ticks"),r=ZW(t),i=vxe(n,r);if(i)return i;var a,o;if((!t.get("show")||e.scale.isBlank())&&(a=[]),er(r))a=yxe(e,r,!0);else if(r==="auto"){var s=hxe(e,e.getLabelModel());o=s.labelCategoryInterval,a=Vt(s.labels,function(l){return l.tickValue})}else o=r,a=mxe(e,o,!0);return gxe(n,r,{ticks:a,tickCategoryInterval:o})}function Bdt(e){var t=e.scale.getTicks(),n=Wx(e);return{labels:Vt(t,function(r,i){return{level:r.level,formattedLabel:n(r,i),rawLabel:e.scale.getLabel(r),tickValue:r.value}})}}function pxe(e,t){return lT(e)[t]||(lT(e)[t]=[])}function vxe(e,t){for(var n=0;n<e.length;n++)if(e[n].key===t)return e[n].value}function gxe(e,t,n){return e.push({key:t,value:n}),n}function kdt(e){var t=lT(e).autoInterval;return t??(lT(e).autoInterval=e.calculateCategoryInterval())}function Fdt(e){var t=Udt(e),n=Wx(e),r=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(r)),f=Math.abs(u*Math.sin(r)),d=0,h=0;l<=a[1];l+=s){var p=0,v=0,g=aw(n({value:l}),t.font,"center","top");p=g.width*1.3,v=g.height*1.3,d=Math.max(d,p,7),h=Math.max(h,v,7)}var m=d/c,b=h/f;isNaN(m)&&(m=1/0),isNaN(b)&&(b=1/0);var _=Math.max(0,Math.floor(Math.min(m,b))),x=lT(e.model),E=e.getExtent(),A=x.lastAutoInterval,T=x.lastTickCount;return A!=null&&T!=null&&Math.abs(A-_)<=1&&Math.abs(T-o)<=1&&A>_&&x.axisExtent0===E[0]&&x.axisExtent1===E[1]?_=A:(x.lastTickCount=o,x.lastAutoInterval=_,x.axisExtent0=E[0],x.axisExtent1=E[1]),_}function Udt(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function mxe(e,t,n){var r=Wx(e),i=e.scale,a=i.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((t||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var f=lxe(e),d=o.get("showMinLabel")||f,h=o.get("showMaxLabel")||f;d&&u!==a[0]&&v(a[0]);for(var p=u;p<=a[1];p+=l)v(p);h&&p-l!==a[1]&&v(a[1]);function v(g){var m={value:g};s.push(n?g:{formattedLabel:r(m),rawLabel:i.getLabel(m),tickValue:g})}return s}function yxe(e,t,n){var r=e.scale,i=Wx(e),a=[];return te(r.getTicks(),function(o){var s=r.getLabel(o),l=o.value;t(o.value,s)&&a.push(n?l:{formattedLabel:i(o),rawLabel:s,tickValue:l})}),a}var vee=[0,1],id=function(){function e(t,n,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=r||[0,0]}return e.prototype.contain=function(t){var n=this._extent,r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return t>=r&&t<=i},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return x_e(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,n){var r=this._extent;r[0]=t,r[1]=n},e.prototype.dataToCoord=function(t,n){var r=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(r=r.slice(),gee(r,i.count())),Wi(t,vee,r,n)},e.prototype.coordToData=function(t,n){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),gee(r,i.count()));var a=Wi(t,r,vee,n);return this.scale.scale(a)},e.prototype.pointToData=function(t,n){},e.prototype.getTicksCoords=function(t){t=t||{};var n=t.tickModel||this.getTickModel(),r=Pdt(this,n),i=r.ticks,a=Vt(i,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=n.get("alignWithLabel");return Vdt(this,a,o,t.clamp),a},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),n=t.get("splitNumber");n>0&&n<100||(n=5);var r=this.scale.getMinorTicks(n),i=Vt(r,function(a){return Vt(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return i},e.prototype.getViewLabels=function(){return Ddt(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r},e.prototype.calculateCategoryInterval=function(){return Fdt(this)},e}();function gee(e,t){var n=e[1]-e[0],r=t,i=n/r/2;e[0]+=i,e[1]-=i}function Vdt(e,t,n,r){var i=t.length;if(!e.onBand||n||!i)return;var a=e.getExtent(),o,s;if(i===1)t[0].coord=a[0],o=t[1]={coord:a[1]};else{var l=t[i-1].tickValue-t[0].tickValue,u=(t[i-1].coord-t[0].coord)/l;te(t,function(h){h.coord-=u/2});var c=e.scale.getExtent();s=1+c[1]-t[i-1].tickValue,o={coord:t[i-1].coord+u*s},t.push(o)}var f=a[0]>a[1];d(t[0].coord,a[0])&&(r?t[0].coord=a[0]:t.shift()),r&&d(a[0],t[0].coord)&&t.unshift({coord:a[0]}),d(a[1],o.coord)&&(r?o.coord=a[1]:t.pop()),r&&d(o.coord,a[1])&&t.push({coord:a[1]});function d(h,p){return h=ao(h),p=ao(p),f?h>p:h<p}}var yA=Math.PI*2,a0=oh.CMD,zdt=["top","right","bottom","left"];function $dt(e,t,n,r,i){var a=n.width,o=n.height;switch(e){case"top":r.set(n.x+a/2,n.y-t),i.set(0,-1);break;case"bottom":r.set(n.x+a/2,n.y+o+t),i.set(0,1);break;case"left":r.set(n.x-t,n.y+o/2),i.set(-1,0);break;case"right":r.set(n.x+a+t,n.y+o/2),i.set(1,0);break}}function Hdt(e,t,n,r,i,a,o,s,l){o-=e,s-=t;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*n+e,f=s*n+t;if(Math.abs(r-i)%yA<1e-4)return l[0]=c,l[1]=f,u-n;if(a){var d=r;r=Bu(i),i=Bu(d)}else r=Bu(r),i=Bu(i);r>i&&(i+=yA);var h=Math.atan2(s,o);if(h<0&&(h+=yA),h>=r&&h<=i||h+yA>=r&&h+yA<=i)return l[0]=c,l[1]=f,u-n;var p=n*Math.cos(r)+e,v=n*Math.sin(r)+t,g=n*Math.cos(i)+e,m=n*Math.sin(i)+t,b=(p-o)*(p-o)+(v-s)*(v-s),_=(g-o)*(g-o)+(m-s)*(m-s);return b<_?(l[0]=p,l[1]=v,Math.sqrt(b)):(l[0]=g,l[1]=m,Math.sqrt(_))}function aO(e,t,n,r,i,a,o,s){var l=i-e,u=a-t,c=n-e,f=r-t,d=Math.sqrt(c*c+f*f);c/=d,f/=d;var h=l*c+u*f,p=h/d;s&&(p=Math.min(Math.max(p,0),1)),p*=d;var v=o[0]=e+p*c,g=o[1]=t+p*f;return Math.sqrt((v-i)*(v-i)+(g-a)*(g-a))}function _xe(e,t,n,r,i,a,o){n<0&&(e=e+n,n=-n),r<0&&(t=t+r,r=-r);var s=e+n,l=t+r,u=o[0]=Math.min(Math.max(i,e),s),c=o[1]=Math.min(Math.max(a,t),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var Cf=[];function Wdt(e,t,n){var r=_xe(t.x,t.y,t.width,t.height,e.x,e.y,Cf);return n.set(Cf[0],Cf[1]),r}function Gdt(e,t,n){for(var r=0,i=0,a=0,o=0,s,l,u=1/0,c=t.data,f=e.x,d=e.y,h=0;h<c.length;){var p=c[h++];h===1&&(r=c[h],i=c[h+1],a=r,o=i);var v=u;switch(p){case a0.M:a=c[h++],o=c[h++],r=a,i=o;break;case a0.L:v=aO(r,i,c[h],c[h+1],f,d,Cf,!0),r=c[h++],i=c[h++];break;case a0.C:v=r_e(r,i,c[h++],c[h++],c[h++],c[h++],c[h],c[h+1],f,d,Cf),r=c[h++],i=c[h++];break;case a0.Q:v=a_e(r,i,c[h++],c[h++],c[h],c[h+1],f,d,Cf),r=c[h++],i=c[h++];break;case a0.A:var g=c[h++],m=c[h++],b=c[h++],_=c[h++],x=c[h++],E=c[h++];h+=1;var A=!!(1-c[h++]);s=Math.cos(x)*b+g,l=Math.sin(x)*_+m,h<=1&&(a=s,o=l);var T=(f-g)*_/b+g;v=Hdt(g,m,_,x,x+E,A,T,d,Cf),r=Math.cos(x+E)*b+g,i=Math.sin(x+E)*_+m;break;case a0.R:a=r=c[h++],o=i=c[h++];var R=c[h++],M=c[h++];v=_xe(a,o,R,M,f,d,Cf);break;case a0.Z:v=aO(r,i,a,o,f,d,Cf,!0),r=a,i=o;break}v<u&&(u=v,n.set(Cf[0],Cf[1]))}return u}var Nf=new Rr,fa=new Rr,vo=new Rr,Gd=new Rr,Ud=new Rr;function mee(e,t){if(e){var n=e.getTextGuideLine(),r=e.getTextContent();if(r&&n){var i=e.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=i.candidates||zdt,s=r.getBoundingRect().clone();s.applyTransform(r.getComputedTransform());var l=1/0,u=i.anchor,c=e.getComputedTransform(),f=c&&Ox([],c),d=t.get("length2")||0;u&&vo.copy(u);for(var h=0;h<o.length;h++){var p=o[h];$dt(p,0,s,Nf,Gd),Rr.scaleAndAdd(fa,Nf,Gd,d),fa.transform(f);var v=e.getBoundingRect(),g=u?u.distance(fa):e instanceof Wr?Gdt(fa,e.path,vo):Wdt(fa,v,vo);g<l&&(l=g,fa.transform(c),vo.transform(c),vo.toArray(a[0]),fa.toArray(a[1]),Nf.toArray(a[2]))}bxe(a,t.get("minTurnAngle")),n.setShape({points:a})}}}var oO=[],xl=new Rr;function bxe(e,t){if(t<=180&&t>0){t=t/180*Math.PI,Nf.fromArray(e[0]),fa.fromArray(e[1]),vo.fromArray(e[2]),Rr.sub(Gd,Nf,fa),Rr.sub(Ud,vo,fa);var n=Gd.len(),r=Ud.len();if(!(n<.001||r<.001)){Gd.scale(1/n),Ud.scale(1/r);var i=Gd.dot(Ud),a=Math.cos(t);if(a<i){var o=aO(fa.x,fa.y,vo.x,vo.y,Nf.x,Nf.y,oO,!1);xl.fromArray(oO),xl.scaleAndAdd(Ud,o/Math.tan(Math.PI-t));var s=vo.x!==fa.x?(xl.x-fa.x)/(vo.x-fa.x):(xl.y-fa.y)/(vo.y-fa.y);if(isNaN(s))return;s<0?Rr.copy(xl,fa):s>1&&Rr.copy(xl,vo),xl.toArray(e[1])}}}}function jdt(e,t,n){if(n<=180&&n>0){n=n/180*Math.PI,Nf.fromArray(e[0]),fa.fromArray(e[1]),vo.fromArray(e[2]),Rr.sub(Gd,fa,Nf),Rr.sub(Ud,vo,fa);var r=Gd.len(),i=Ud.len();if(!(r<.001||i<.001)){Gd.scale(1/r),Ud.scale(1/i);var a=Gd.dot(t),o=Math.cos(n);if(a<o){var s=aO(fa.x,fa.y,vo.x,vo.y,Nf.x,Nf.y,oO,!1);xl.fromArray(oO);var l=Math.PI/2,u=Math.acos(Ud.dot(t)),c=l+u-n;if(c>=l)Rr.copy(xl,vo);else{xl.scaleAndAdd(Ud,s/Math.tan(Math.PI/2-c));var f=vo.x!==fa.x?(xl.x-fa.x)/(vo.x-fa.x):(xl.y-fa.y)/(vo.y-fa.y);if(isNaN(f))return;f<0?Rr.copy(xl,fa):f>1&&Rr.copy(xl,vo)}xl.toArray(e[1])}}}}function TB(e,t,n,r){var i=n==="normal",a=i?e:e.ensureState(n);a.ignore=t;var o=r.get("smooth");o&&o===!0&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=r.getModel("lineStyle").getLineStyle();i?e.useStyle(s):a.style=s}function Ydt(e,t){var n=t.smooth,r=t.points;if(r)if(e.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=ag(r[0],r[1]),a=ag(r[1],r[2]);if(!i||!a){e.lineTo(r[1][0],r[1][1]),e.lineTo(r[2][0],r[2][1]);return}var o=Math.min(i,a)*n,s=x3([],r[1],r[0],o/i),l=x3([],r[1],r[2],o/a),u=x3([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var c=1;c<r.length;c++)e.lineTo(r[c][0],r[c][1])}function QW(e,t,n){var r=e.getTextGuideLine(),i=e.getTextContent();if(!i){r&&e.removeTextGuideLine();return}for(var a=t.normal,o=a.get("show"),s=i.ignore,l=0;l<J2.length;l++){var u=J2[l],c=t[u],f=u==="normal";if(c){var d=c.get("show"),h=f?s:Sr(i.states[u]&&i.states[u].ignore,s);if(h||!Sr(d,o)){var p=f?r:r&&r.states[u];p&&(p.ignore=!0),r&&TB(r,!0,u,c);continue}r||(r=new kl,e.setTextGuideLine(r),!f&&(s||!o)&&TB(r,!0,"normal",t.normal),e.stateProxy&&(r.stateProxy=e.stateProxy)),TB(r,!1,u,c)}}if(r){tr(r.style,n),r.style.fill=null;var v=a.get("showAbove"),g=e.textGuideLineConfig=e.textGuideLineConfig||{};g.showAbove=v||!1,r.buildPath=Ydt}}function JW(e,t){t=t||"labelLine";for(var n={normal:e.getModel(t)},r=0;r<Ll.length;r++){var i=Ll[r];n[i]=e.getModel([i,t])}return n}function xxe(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),o=i.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,u=o.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new WM(o,a):null;t.push({label:i,labelLine:r.labelLine,rect:u,localRect:o,obb:c,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:a})}}return t}function Sxe(e,t,n,r,i,a){var o=e.length;if(o<2)return;e.sort(function(R,M){return R.rect[t]-M.rect[t]});for(var s=0,l,u=!1,c=0,f=0;f<o;f++){var d=e[f],h=d.rect;l=h[t]-s,l<0&&(h[t]-=l,d.label[t]-=l,u=!0);var p=Math.max(-l,0);c+=p,s=h[t]+h[n]}c>0&&a&&E(-c/o,0,o);var v=e[0],g=e[o-1],m,b;_(),m<0&&A(-m,.8),b<0&&A(b,.8),_(),x(m,b,1),x(b,m,-1),_(),m<0&&T(-m),b<0&&T(b);function _(){m=v.rect[t]-r,b=i-g.rect[t]-g.rect[n]}function x(R,M,O){if(R<0){var D=Math.min(M,-R);if(D>0){E(D*O,0,o);var C=D+R;C<0&&A(-C*O,1)}else A(-R*O,1)}}function E(R,M,O){R!==0&&(u=!0);for(var D=M;D<O;D++){var C=e[D],P=C.rect;P[t]+=R,C.label[t]+=R}}function A(R,M){for(var O=[],D=0,C=1;C<o;C++){var P=e[C-1].rect,B=Math.max(e[C].rect[t]-P[t]-P[n],0);O.push(B),D+=B}if(D){var U=Math.min(Math.abs(R)/D,M);if(R>0)for(var C=0;C<o-1;C++){var L=O[C]*U;E(L,0,C+1)}else for(var C=o-1;C>0;C--){var L=O[C-1]*U;E(-L,C,o)}}}function T(R){var M=R<0?-1:1;R=Math.abs(R);for(var O=Math.ceil(R/(o-1)),D=0;D<o-1;D++)if(M>0?E(O,0,D+1):E(-O,o-D-1,o),R-=O,R<=0)return}return u}function Xdt(e,t,n,r){return Sxe(e,"x","width",t,n,r)}function Axe(e,t,n,r){return Sxe(e,"y","height",t,n,r)}function Exe(e){var t=[];e.sort(function(v,g){return g.priority-v.priority});var n=new Mr(0,0,0,0);function r(v){if(!v.ignore){var g=v.ensureState("emphasis");g.ignore==null&&(g.ignore=!1)}v.ignore=!0}for(var i=0;i<e.length;i++){var a=e[i],o=a.axisAligned,s=a.localRect,l=a.transform,u=a.label,c=a.labelLine;n.copy(a.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=a.obb,d=!1,h=0;h<t.length;h++){var p=t[h];if(n.intersect(p.rect)){if(o&&p.axisAligned){d=!0;break}if(p.obb||(p.obb=new WM(p.localRect,p.transform)),f||(f=new WM(s,l)),f.intersect(p.obb)){d=!0;break}}}d?(r(u),c&&r(c)):(u.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}function Kdt(e){if(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].slice());return t}}function qdt(e,t){var n=e.label,r=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:Kdt(r&&r.shape.points)}}var yee=["align","verticalAlign","width","height","fontSize"],dl=new dp,wB=ui(),Zdt=ui();function KR(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];t[i]!=null&&(e[i]=t[i])}}var qR=["x","y","rotation"],Qdt=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(t,n,r,i,a){var o=i.style,s=i.__hostTarget,l=s.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();Mr.applyTransform(c,c,u),u?dl.setLocalTransform(u):(dl.x=dl.y=dl.rotation=dl.originX=dl.originY=0,dl.scaleX=dl.scaleY=1),dl.rotation=Bu(dl.rotation);var f=i.__hostTarget,d;if(f){d=f.getBoundingRect().plain();var h=f.getComputedTransform();Mr.applyTransform(d,d,h)}var p=d&&f.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:r,dataIndex:t,dataType:n,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:d,priority:d?d.width*d.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:dl.x,y:dl.y,scaleX:dl.scaleX,scaleY:dl.scaleY,rotation:dl.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(t){var n=this;this._chartViewList.push(t);var r=t.__model,i=r.get("labelLayout");(er(i)||Jr(i).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=gr(a);o&&!o.disableLabelLayout&&n._addLabel(s.dataIndex,s.dataType,r,o,i)})},e.prototype.updateLayoutConfig=function(t){var n=t.getWidth(),r=t.getHeight();function i(_,x){return function(){mee(_,x)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,l=s.__hostTarget,u=o.defaultAttr,c=void 0;er(o.layoutOption)?c=o.layoutOption(qdt(o,l)):c=o.layoutOption,c=c||{},o.computedLayoutOption=c;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*f:u.attachedRot,offset:[c.dx||0,c.dy||0]});var d=!1;if(c.x!=null?(s.x=vn(c.x,n),s.setStyle("x",0),d=!0):(s.x=u.x,s.setStyle("x",u.style.x)),c.y!=null?(s.y=vn(c.y,r),s.setStyle("y",0),d=!0):(s.y=u.y,s.setStyle("y",u.style.y)),c.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:c.labelLinePoints}),d=!1)}var p=wB(s);p.needsUpdateLabelLine=d,s.rotation=c.rotate!=null?c.rotate*f:u.rotation,s.scaleX=u.scaleX,s.scaleY=u.scaleY;for(var v=0;v<yee.length;v++){var g=yee[v];s.setStyle(g,c[g]!=null?c[g]:u.style[g])}if(c.draggable){if(s.draggable=!0,s.cursor="move",l){var m=o.seriesModel;if(o.dataIndex!=null){var b=o.seriesModel.getData(o.dataType);m=b.getItemModel(o.dataIndex)}s.on("drag",i(l,m.getModel("labelLine")))}}else s.off("drag"),s.cursor=u.cursor}},e.prototype.layout=function(t){var n=t.getWidth(),r=t.getHeight(),i=xxe(this._labelList),a=Xi(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),o=Xi(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});Xdt(a,0,n),Axe(o,0,r);var s=Xi(i,function(l){return l.layoutOption.hideOverlap});Exe(s)},e.prototype.processLabelsOverall=function(){var t=this;te(this._chartViewList,function(n){var r=n.__model,i=n.ignoreLabelLineUpdate,a=r.isAnimationEnabled();n.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!i,l=o.getTextContent();!s&&l&&(s=wB(l).needsUpdateLabelLine),s&&t._updateLabelLine(o,r),a&&t._animateLabels(o,r)})})},e.prototype._updateLabelLine=function(t,n){var r=t.getTextContent(),i=gr(t),a=i.dataIndex;if(r&&a!=null){var o=n.getData(i.dataType),s=o.getItemModel(a),l={},u=o.getItemVisual(a,"style");if(u){var c=o.getVisual("drawType");l.stroke=u[c]}var f=s.getModel("labelLine");QW(t,JW(s),l),mee(t,f)}},e.prototype._animateLabels=function(t,n){var r=t.getTextContent(),i=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!ob(t))){var a=wB(r),o=a.oldLayout,s=gr(t),l=s.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},c=n.getData(s.dataType);if(o){r.attr(o);var d=t.prevStates;d&&(Ur(d,"select")>=0&&r.attr(a.oldLayoutSelect),Ur(d,"emphasis")>=0&&r.attr(a.oldLayoutEmphasis)),Si(r,u,n,l)}else if(r.attr(u),!Bx(r).valueAnimation){var f=Sr(r.style.opacity,1);r.style.opacity=0,Ca(r,{style:{opacity:f}},n,l)}if(a.oldLayout=u,r.states.select){var h=a.oldLayoutSelect={};KR(h,u,qR),KR(h,r.states.select,qR)}if(r.states.emphasis){var p=a.oldLayoutEmphasis={};KR(p,u,qR),KR(p,r.states.emphasis,qR)}g1e(r,l,c,n,n)}if(i&&!i.ignore&&!i.invisible){var a=Zdt(i),o=a.oldLayout,v={points:i.shape.points};o?(i.attr({shape:o}),Si(i,{shape:v},n)):(i.setShape(v),i.style.strokePercent=0,Ca(i,{style:{strokePercent:1}},n)),a.oldLayout=v}},e}(),CB=ui();function Jdt(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,n,r){var i=CB(n).labelManager;i||(i=CB(n).labelManager=new Qdt),i.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(t,n,r){var i=CB(n).labelManager;r.updatedSeries.forEach(function(a){i.addLabelsOfSeries(n.getViewOfSeriesModel(a))}),i.updateLayoutConfig(n),i.layout(n),i.processLabelsOverall()})}var RB=Math.sin,IB=Math.cos,Txe=Math.PI,o0=Math.PI*2,eht=180/Txe,wxe=function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,n){this._add("M",t,n)},e.prototype.lineTo=function(t,n){this._add("L",t,n)},e.prototype.bezierCurveTo=function(t,n,r,i,a,o){this._add("C",t,n,r,i,a,o)},e.prototype.quadraticCurveTo=function(t,n,r,i){this._add("Q",t,n,r,i)},e.prototype.arc=function(t,n,r,i,a,o){this.ellipse(t,n,r,r,0,i,a,o)},e.prototype.ellipse=function(t,n,r,i,a,o,s,l){var u=s-o,c=!l,f=Math.abs(u),d=cg(f-o0)||(c?u>=o0:-u>=o0),h=u>0?u%o0:u%o0+o0,p=!1;d?p=!0:cg(f)?p=!1:p=h>=Txe==!!c;var v=t+r*IB(o),g=n+i*RB(o);this._start&&this._add("M",v,g);var m=Math.round(a*eht);if(d){var b=1/this._p,_=(c?1:-1)*(o0-b);this._add("A",r,i,m,1,+c,t+r*IB(o+_),n+i*RB(o+_)),b>.01&&this._add("A",r,i,m,0,+c,v,g)}else{var x=t+r*IB(s),E=n+i*RB(s);this._add("A",r,i,m,+p,+c,x,E)}},e.prototype.rect=function(t,n,r,i){this._add("M",t,n),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,n,r,i,a,o,s,l,u){for(var c=[],f=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h)){this._invalid=!0;return}c.push(Math.round(h*f)/f)}this._d.push(t+c.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),eG="none",tht=Math.round;function nht(e){var t=e.fill;return t!=null&&t!==eG}function rht(e){var t=e.stroke;return t!=null&&t!==eG}var n9=["lineCap","miterLimit","lineJoin"],iht=Vt(n9,function(e){return"stroke-"+e.toLowerCase()});function aht(e,t,n,r){var i=t.opacity==null?1:t.opacity;if(n instanceof ms){e("opacity",i);return}if(nht(t)){var a=q2(t.fill);e("fill",a.color);var o=t.fillOpacity!=null?t.fillOpacity*a.opacity*i:a.opacity*i;o<1&&e("fill-opacity",o)}else e("fill",eG);if(rht(t)){var s=q2(t.stroke);e("stroke",s.color);var l=t.strokeNoScale?n.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=t.strokeOpacity!=null?t.strokeOpacity*s.opacity*i:s.opacity*i,f=t.strokeFirst;if(u!==1&&e("stroke-width",u),f&&e("paint-order",f?"stroke":"fill"),c<1&&e("stroke-opacity",c),t.lineDash){var d=VW(n),h=d[0],p=d[1];h&&(p=tht(p||0),e("stroke-dasharray",h.join(",")),(p||r)&&e("stroke-dashoffset",p))}for(var v=0;v<n9.length;v++){var g=n9[v];if(t[g]!==$M[g]){var m=t[g]||$M[g];m&&e(iht[v],m)}}}}var Cxe="http://www.w3.org/2000/svg",Rxe="http://www.w3.org/1999/xlink",oht="http://www.w3.org/2000/xmlns/",sht="http://www.w3.org/XML/1998/namespace",_ee="ecmeta_";function Ixe(e){return document.createElementNS(Cxe,e)}function Qo(e,t,n,r,i){return{tag:e,attrs:n||{},children:r,text:i,key:t}}function lht(e,t){var n=[];if(t)for(var r in t){var i=t[r],a=r;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),n.push(a))}return"<"+e+" "+n.join(" ")+">"}function uht(e){return"</"+e+">"}function tG(e,t){t=t||{};var n=t.newline?`
`:"";function r(i){var a=i.children,o=i.tag,s=i.attrs,l=i.text;return lht(o,s)+(o!=="style"?uu(l):l||"")+(a?""+n+Vt(a,function(u){return r(u)}).join(n)+n:"")+uht(o)}return r(e)}function cht(e,t,n){n=n||{};var r=n.newline?`
`:"",i=" {"+r,a=r+"}",o=Vt(Jr(e),function(l){return l+i+Vt(Jr(e[l]),function(u){return u+":"+e[l][u]+";"}).join(r)+a}).join(r),s=Vt(Jr(t),function(l){return"@keyframes "+l+i+Vt(Jr(t[l]),function(u){return u+i+Vt(Jr(t[l][u]),function(c){var f=t[l][u][c];return c==="d"&&(f='path("'+f+'")'),c+":"+f+";"}).join(r)+a}).join(r)+a}).join(r);return!o&&!s?"":["<![CDATA[",o,s,"]]>"].join(r)}function r9(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function bee(e,t,n,r){return Qo("svg","root",{width:e,height:t,xmlns:Cxe,"xmlns:xlink":Rxe,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+e+" "+t:!1},n)}var fht=0;function Mxe(){return fht++}var xee={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},p0="transform-origin";function dht(e,t,n){var r=Ct({},e.shape);Ct(r,t),e.buildPath(n,r);var i=new wxe;return i.reset(d_e(e)),n.rebuildPath(i,1),i.generateStr(),i.getStr()}function hht(e,t){var n=t.originX,r=t.originY;(n||r)&&(e[p0]=n+"px "+r+"px")}var pht={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Oxe(e,t){var n=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[n]=e,n}function vht(e,t,n){var r=e.shape.paths,i={},a,o;if(te(r,function(l){var u=r9(n.zrId);u.animation=!0,FP(l,{},u,!0);var c=u.cssAnims,f=u.cssNodes,d=Jr(c),h=d.length;if(h){o=d[h-1];var p=c[o];for(var v in p){var g=p[v];i[v]=i[v]||{d:""},i[v].d+=g.d||""}for(var m in f){var b=f[m].animation;b.indexOf(o)>=0&&(a=b)}}}),!!a){t.d=!1;var s=Oxe(i,n);return a.replace(o,s)}}function See(e){return An(e)?xee[e]?"cubic-bezier("+xee[e]+")":aW(e)?e:"":""}function FP(e,t,n,r){var i=e.animators,a=i.length,o=[];if(e instanceof bW){var s=vht(e,t,n);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],f=[c.getMaxTime()/1e3+"s"],d=See(c.getClip().easing),h=c.getDelay();d?f.push(d):f.push("linear"),h&&f.push(h/1e3+"s"),c.getLoop()&&f.push("infinite");var p=f.join(" ");l[p]=l[p]||[p,[]],l[p][1].push(c)}function v(b){var _=b[1],x=_.length,E={},A={},T={},R="animation-timing-function";function M(de,oe,pe){for(var me=de.getTracks(),re=de.getMaxTime(),ne=0;ne<me.length;ne++){var se=me[ne];if(se.needsAnimate()){var be=se.keyframes,Pe=se.propName;if(pe&&(Pe=pe(Pe)),Pe)for(var Ee=0;Ee<be.length;Ee++){var Le=be[Ee],He=Math.round(Le.time/re*100)+"%",rt=See(Le.easing),Je=Le.rawValue;(An(Je)||yi(Je))&&(oe[He]=oe[He]||{},oe[He][Pe]=Le.rawValue,rt&&(oe[He][R]=rt))}}}}for(var O=0;O<x;O++){var D=_[O],C=D.targetName;C?C==="shape"&&M(D,A):!r&&M(D,E)}for(var P in E){var B={};m_e(B,e),Ct(B,E[P]);var U=h_e(B),L=E[P][R];T[P]=U?{transform:U}:{},hht(T[P],B),L&&(T[P][R]=L)}var F,N=!0;for(var P in A){T[P]=T[P]||{};var V=!F,L=A[P][R];V&&(F=new oh);var W=F.len();F.reset(),T[P].d=dht(e,A[P],F);var G=F.len();if(!V&&W!==G){N=!1;break}L&&(T[P][R]=L)}if(!N)for(var P in T)delete T[P].d;if(!r)for(var O=0;O<x;O++){var D=_[O],C=D.targetName;C==="style"&&M(D,T,function(me){return pht[me]})}for(var K=Jr(T),q=!0,ue,O=1;O<K.length;O++){var he=K[O-1],Ce=K[O];if(T[he][p0]!==T[Ce][p0]){q=!1;break}ue=T[he][p0]}if(q&&ue){for(var P in T)T[P][p0]&&delete T[P][p0];t[p0]=ue}if(Xi(K,function(de){return Jr(T[de]).length>0}).length){var ee=Oxe(T,n);return ee+" "+b[0]+" both"}}for(var g in l){var s=v(l[g]);s&&o.push(s)}if(o.length){var m=n.zrId+"-cls-"+Mxe();n.cssNodes["."+m]={animation:o.join(",")},t.class=m}}function ght(e,t,n){if(!e.ignore)if(e.isSilent()){var r={"pointer-events":"none"};Aee(r,t,n)}else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},a=i.fill;if(!a){var o=e.style&&e.style.fill,s=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&s||o;l&&(a=vV(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&e.transform?e.transform[0]:1;u=u/c}var r={cursor:"pointer"};a&&(r.fill=a),i.stroke&&(r.stroke=i.stroke),u&&(r["stroke-width"]=u),Aee(r,t,n)}}function Aee(e,t,n,r){var i=JSON.stringify(e),a=n.cssStyleCache[i];a||(a=n.zrId+"-cls-"+Mxe(),n.cssStyleCache[i]=a,n.cssNodes["."+a+":hover"]=e),t.class=t.class?t.class+" "+a:a}var uT=Math.round;function Dxe(e){return e&&An(e.src)}function Pxe(e){return e&&er(e.toDataURL)}function nG(e,t,n,r){aht(function(i,a){var o=i==="fill"||i==="stroke";o&&f_e(a)?Nxe(t,e,i,r):o&&oW(a)?Bxe(n,e,i,r):o&&a==="none"?e[i]="transparent":e[i]=a},t,n,!1),Aht(n,e,r)}function rG(e,t){var n=pot(t);n&&(n.each(function(r,i){r!=null&&(e[(_ee+i).toLowerCase()]=r+"")}),t.isSilent()&&(e[_ee+"silent"]="true"))}function Eee(e){return cg(e[0]-1)&&cg(e[1])&&cg(e[2])&&cg(e[3]-1)}function mht(e){return cg(e[4])&&cg(e[5])}function iG(e,t,n){if(t&&!(mht(t)&&Eee(t))){var r=1e4;e.transform=Eee(t)?"translate("+uT(t[4]*r)/r+" "+uT(t[5]*r)/r+")":kat(t)}}function Tee(e,t,n){for(var r=e.points,i=[],a=0;a<r.length;a++)i.push(uT(r[a][0]*n)/n),i.push(uT(r[a][1]*n)/n);t.points=i.join(" ")}function wee(e){return!e.smooth}function yht(e){var t=Vt(e,function(n){return typeof n=="string"?[n,n]:n});return function(n,r,i){for(var a=0;a<t.length;a++){var o=t[a],s=n[o[0]];s!=null&&(r[o[1]]=uT(s*i)/i)}}}var _ht={circle:[yht(["cx","cy","r"])],polyline:[Tee,wee],polygon:[Tee,wee]};function bht(e){for(var t=e.animators,n=0;n<t.length;n++)if(t[n].targetName==="shape")return!0;return!1}function Lxe(e,t){var n=e.style,r=e.shape,i=_ht[e.type],a={},o=t.animation,s="path",l=e.style.strokePercent,u=t.compress&&d_e(e)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](r))&&!(o&&bht(e))&&!(l<1)){s=e.type;var c=Math.pow(10,u);i[0](r,a,c)}else{var f=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;f&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var h=d.getVersion(),p=e,v=p.__svgPathBuilder;(p.__svgPathVersion!==h||!v||l!==p.__svgPathStrokePercent)&&(v||(v=p.__svgPathBuilder=new wxe),v.reset(u),d.rebuildPath(v,l),v.generateStr(),p.__svgPathVersion=h,p.__svgPathStrokePercent=l),a.d=v.getStr()}return iG(a,e.transform),nG(a,n,e,t),rG(a,e),t.animation&&FP(e,a,t),t.emphasis&&ght(e,a,t),Qo(s,e.id+"",a)}function xht(e,t){var n=e.style,r=n.image;if(r&&!An(r)&&(Dxe(r)?r=r.src:Pxe(r)&&(r=r.toDataURL())),!!r){var i=n.x||0,a=n.y||0,o=n.width,s=n.height,l={href:r,width:o,height:s};return i&&(l.x=i),a&&(l.y=a),iG(l,e.transform),nG(l,n,e,t),rG(l,e),t.animation&&FP(e,l,t),Qo("image",e.id+"",l)}}function Sht(e,t){var n=e.style,r=n.text;if(r!=null&&(r+=""),!(!r||isNaN(n.x)||isNaN(n.y))){var i=n.font||Fg,a=n.x||0,o=Uat(n.y||0,cP(i),n.textBaseline),s=Fat[n.textAlign]||n.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(H_e(n)){var u="",c=n.fontStyle,f=$_e(n.fontSize);if(!parseFloat(f))return;var d=n.fontFamily||$ye,h=n.fontWeight;u+="font-size:"+f+";font-family:"+d+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),h&&h!=="normal"&&(u+="font-weight:"+h+";"),l.style=u}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),iG(l,e.transform),nG(l,n,e,t),rG(l,e),t.animation&&FP(e,l,t),Qo("text",e.id+"",l,void 0,r)}}function Cee(e,t){if(e instanceof Wr)return Lxe(e,t);if(e instanceof ms)return xht(e,t);if(e instanceof Wb)return Sht(e,t)}function Aht(e,t,n){var r=e.style;if(Vat(r)){var i=zat(e),a=n.shadowCache,o=a[i];if(!o){var s=e.getGlobalScale(),l=s[0],u=s[1];if(!l||!u)return;var c=r.shadowOffsetX||0,f=r.shadowOffsetY||0,d=r.shadowBlur,h=q2(r.shadowColor),p=h.opacity,v=h.color,g=d/2/l,m=d/2/u,b=g+" "+m;o=n.zrId+"-s"+n.shadowIdx++,n.defs[o]=Qo("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Qo("feDropShadow","",{dx:c/l,dy:f/u,stdDeviation:b,"flood-color":v,"flood-opacity":p})]),a[i]=o}t.filter=uP(o)}}function Nxe(e,t,n,r){var i=e[n],a,o={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(u_e(i))a="linearGradient",o.x1=i.x,o.y1=i.y,o.x2=i.x2,o.y2=i.y2;else if(c_e(i))a="radialGradient",o.cx=Sr(i.x,.5),o.cy=Sr(i.y,.5),o.r=Sr(i.r,.5);else return;for(var s=i.colorStops,l=[],u=0,c=s.length;u<c;++u){var f=gV(s[u].offset)*100+"%",d=s[u].color,h=q2(d),p=h.color,v=h.opacity,g={offset:f};g["stop-color"]=p,v<1&&(g["stop-opacity"]=v),l.push(Qo("stop",u+"",g))}var m=Qo(a,"",o,l),b=tG(m),_=r.gradientCache,x=_[b];x||(x=r.zrId+"-g"+r.gradientIdx++,_[b]=x,o.id=x,r.defs[x]=Qo(a,x,o,l)),t[n]=uP(x)}function Bxe(e,t,n,r){var i=e.style[n],a=e.getBoundingRect(),o={},s=i.repeat,l=s==="no-repeat",u=s==="repeat-x",c=s==="repeat-y",f;if(l_e(i)){var d=i.imageWidth,h=i.imageHeight,p=void 0,v=i.image;if(An(v)?p=v:Dxe(v)?p=v.src:Pxe(v)&&(p=v.toDataURL()),typeof Image>"u"){var g="Image width/height must been given explictly in svg-ssr renderer.";Pl(d,g),Pl(h,g)}else if(d==null||h==null){var m=function(O,D){if(O){var C=O.elm,P=d||D.width,B=h||D.height;O.tag==="pattern"&&(u?(B=1,P/=a.width):c&&(P=1,B/=a.height)),O.attrs.width=P,O.attrs.height=B,C&&(C.setAttribute("width",P),C.setAttribute("height",B))}},b=dW(p,null,e,function(O){l||m(A,O),m(f,O)});b&&b.width&&b.height&&(d=d||b.width,h=h||b.height)}f=Qo("image","img",{href:p,width:d,height:h}),o.width=d,o.height=h}else i.svgElement&&(f=sr(i.svgElement),o.width=i.svgWidth,o.height=i.svgHeight);if(f){var _,x;l?_=x=1:u?(x=1,_=o.width/a.width):c?(_=1,x=o.height/a.height):o.patternUnits="userSpaceOnUse",_!=null&&!isNaN(_)&&(o.width=_),x!=null&&!isNaN(x)&&(o.height=x);var E=h_e(i);E&&(o.patternTransform=E);var A=Qo("pattern","",o,[f]),T=tG(A),R=r.patternCache,M=R[T];M||(M=r.zrId+"-p"+r.patternIdx++,R[T]=M,o.id=M,A=r.defs[M]=Qo("pattern",M,o,[f])),t[n]=uP(M)}}function Eht(e,t,n){var r=n.clipPathCache,i=n.defs,a=r[e.id];if(!a){a=n.zrId+"-c"+n.clipPathIdx++;var o={id:a};r[e.id]=a,i[a]=Qo("clipPath",a,o,[Lxe(e,n)])}t["clip-path"]=uP(a)}function Ree(e){return document.createTextNode(e)}function E0(e,t,n){e.insertBefore(t,n)}function Iee(e,t){e.removeChild(t)}function Mee(e,t){e.appendChild(t)}function kxe(e){return e.parentNode}function Fxe(e){return e.nextSibling}function MB(e,t){e.textContent=t}var Oee=58,Tht=120,wht=Qo("","");function i9(e){return e===void 0}function Nd(e){return e!==void 0}function Cht(e,t,n){for(var r={},i=t;i<=n;++i){var a=e[i].key;a!==void 0&&(r[a]=i)}return r}function dE(e,t){var n=e.key===t.key,r=e.tag===t.tag;return r&&n}function cT(e){var t,n=e.children,r=e.tag;if(Nd(r)){var i=e.elm=Ixe(r);if(aG(wht,e),Lt(n))for(t=0;t<n.length;++t){var a=n[t];a!=null&&Mee(i,cT(a))}else Nd(e.text)&&!ar(e.text)&&Mee(i,Ree(e.text))}else e.elm=Ree(e.text);return e.elm}function Uxe(e,t,n,r,i){for(;r<=i;++r){var a=n[r];a!=null&&E0(e,cT(a),t)}}function sO(e,t,n,r){for(;n<=r;++n){var i=t[n];if(i!=null)if(Nd(i.tag)){var a=kxe(i.elm);Iee(a,i.elm)}else Iee(e,i.elm)}}function aG(e,t){var n,r=t.elm,i=e&&e.attrs||{},a=t.attrs||{};if(i!==a){for(n in a){var o=a[n],s=i[n];s!==o&&(o===!0?r.setAttribute(n,""):o===!1?r.removeAttribute(n):n==="style"?r.style.cssText=o:n.charCodeAt(0)!==Tht?r.setAttribute(n,o):n==="xmlns:xlink"||n==="xmlns"?r.setAttributeNS(oht,n,o):n.charCodeAt(3)===Oee?r.setAttributeNS(sht,n,o):n.charCodeAt(5)===Oee?r.setAttributeNS(Rxe,n,o):r.setAttribute(n,o))}for(n in i)n in a||r.removeAttribute(n)}}function Rht(e,t,n){for(var r=0,i=0,a=t.length-1,o=t[0],s=t[a],l=n.length-1,u=n[0],c=n[l],f,d,h,p;r<=a&&i<=l;)o==null?o=t[++r]:s==null?s=t[--a]:u==null?u=n[++i]:c==null?c=n[--l]:dE(o,u)?(R1(o,u),o=t[++r],u=n[++i]):dE(s,c)?(R1(s,c),s=t[--a],c=n[--l]):dE(o,c)?(R1(o,c),E0(e,o.elm,Fxe(s.elm)),o=t[++r],c=n[--l]):dE(s,u)?(R1(s,u),E0(e,s.elm,o.elm),s=t[--a],u=n[++i]):(i9(f)&&(f=Cht(t,r,a)),d=f[u.key],i9(d)?E0(e,cT(u),o.elm):(h=t[d],h.tag!==u.tag?E0(e,cT(u),o.elm):(R1(h,u),t[d]=void 0,E0(e,h.elm,o.elm))),u=n[++i]);(r<=a||i<=l)&&(r>a?(p=n[l+1]==null?null:n[l+1].elm,Uxe(e,p,n,i,l)):sO(e,t,r,a))}function R1(e,t){var n=t.elm=e.elm,r=e.children,i=t.children;e!==t&&(aG(e,t),i9(t.text)?Nd(r)&&Nd(i)?r!==i&&Rht(n,r,i):Nd(i)?(Nd(e.text)&&MB(n,""),Uxe(n,null,i,0,i.length-1)):Nd(r)?sO(n,r,0,r.length-1):Nd(e.text)&&MB(n,""):e.text!==t.text&&(Nd(r)&&sO(n,r,0,r.length-1),MB(n,t.text)))}function Iht(e,t){if(dE(e,t))R1(e,t);else{var n=e.elm,r=kxe(n);cT(t),r!==null&&(E0(r,t.elm,Fxe(n)),sO(r,[e],0,0))}return t}var Mht=0,Oht=function(){function e(t,n,r){if(this.type="svg",this.refreshHover=Dee(),this.configLayer=Dee(),this.storage=n,this._opts=r=Ct({},r),this.root=t,this._id="zr"+Mht++,this._oldVNode=bee(r.width,r.height),t&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=Ixe("svg");aG(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(r.width,r.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",Iht(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return Cee(t,r9(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var n=this.storage.getDisplayList(!0),r=this._width,i=this._height,a=r9(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis;var o=[],s=this._bgVNode=Dht(r,i,this._backgroundColor,a);s&&o.push(s);var l=t.compress?null:this._mainVNode=Qo("g","main",{},[]);this._paintList(n,a,l?l.children:o),l&&o.push(l);var u=Vt(Jr(a.defs),function(d){return a.defs[d]});if(u.length&&o.push(Qo("defs","defs",{},u)),t.animation){var c=cht(a.cssNodes,a.cssAnims,{newline:!0});if(c){var f=Qo("style","stl",{},[],c);o.push(f)}}return bee(r,i,o,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},tG(this.renderToVNode({animation:Sr(t.cssAnimation,!0),emphasis:Sr(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Sr(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,n,r){for(var i=t.length,a=[],o=0,s,l,u=0,c=0;c<i;c++){var f=t[c];if(!f.invisible){var d=f.__clipPaths,h=d&&d.length||0,p=l&&l.length||0,v=void 0;for(v=Math.max(h-1,p-1);v>=0&&!(d&&l&&d[v]===l[v]);v--);for(var g=p-1;g>v;g--)o--,s=a[o-1];for(var m=v+1;m<h;m++){var b={};Eht(d[m],b,n);var _=Qo("g","clip-g-"+u++,b,[]);(s?s.children:r).push(_),a[o++]=_,s=_}l=d;var x=Cee(f,n);x&&(s?s.children:r).push(x)}}},e.prototype.resize=function(t,n){var r=this._opts,i=this.root,a=this._viewport;if(t!=null&&(r.width=t),n!=null&&(r.height=n),i&&a&&(a.style.display="none",t=U1(i,0,r),n=U1(i,1,r),a.style.display=""),this._width!==t||this._height!==n){if(this._width=t,this._height=n,a){var o=a.style;o.width=t+"px",o.height=n+"px"}if(oW(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",t),s.setAttribute("height",n));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",n))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var n=this.renderToString(),r="data:image/svg+xml;";return t?(n=Hat(n),n&&r+"base64,"+n):r+"charset=UTF-8,"+encodeURIComponent(n)},e}();function Dee(e){return function(){}}function Dht(e,t,n,r){var i;if(n&&n!=="none")if(i=Qo("rect","bg",{width:e,height:t,x:"0",y:"0"}),f_e(n))Nxe({fill:n},i.attrs,"fill",r);else if(oW(n))Bxe({style:{fill:n},dirty:mo,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,"fill",r);else{var a=q2(n),o=a.color,s=a.opacity;i.attrs.fill=o,s<1&&(i.attrs["fill-opacity"]=s)}return i}function Pht(e){e.registerPainter("svg",Oht)}function Pee(e,t,n){var r=Ug.createCanvas(),i=t.getWidth(),a=t.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=i+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",e)),r.width=i*n,r.height=a*n,r}var OB=function(e){et(t,e);function t(n,r,i){var a=e.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var o;i=i||VM,typeof n=="string"?o=Pee(n,r,i):ar(n)&&(o=n,n=o.id),a.id=n,a.dom=o;var s=o.style;return s&&(Xye(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=r,a.dpr=i,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=Pee("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},t.prototype.createRepaintRects=function(n,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,l=!1,u=new Mr(0,0,0,0);function c(b){if(!(!b.isFinite()||b.isZero()))if(o.length===0){var _=new Mr(0,0,0,0);_.copy(b),o.push(_)}else{for(var x=!1,E=1/0,A=0,T=0;T<o.length;++T){var R=o[T];if(R.intersect(b)){var M=new Mr(0,0,0,0);M.copy(R),M.union(b),o[T]=M,x=!0;break}else if(l){u.copy(b),u.union(R);var O=b.width*b.height,D=R.width*R.height,C=u.width*u.height,P=C-O-D;P<E&&(E=P,A=T)}}if(l&&(o[A].union(b),x=!0),!x){var _=new Mr(0,0,0,0);_.copy(b),o.push(_)}l||(l=o.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=n[f];if(d){var h=d.shouldBePainted(i,a,!0,!0),p=d.__isRendered&&(d.__dirty&Pu||!h)?d.getPrevPaintRect():null;p&&c(p);var v=h&&(d.__dirty&Pu||!d.__isRendered)?d.getPaintRect():null;v&&c(v)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=r[f],h=d&&d.shouldBePainted(i,a,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var p=d.getPrevPaintRect();p&&c(p)}}var g;do{g=!1;for(var f=0;f<o.length;){if(o[f].isZero()){o.splice(f,1);continue}for(var m=f+1;m<o.length;)o[f].intersect(o[m])?(g=!0,o[f].union(o[m]),o.splice(m,1)):m++;f++}}while(g);return this._paintRects=o,o},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(n,r){var i=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=n+"px",o.height=r+"px"),a.width=n*i,a.height=r*i,s&&(s.width=n*i,s.height=r*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(n,r,i){var a=this.dom,o=this.ctx,s=a.width,l=a.height;r=r||this.clearColor;var u=this.motionBlur&&!n,c=this.lastFrameAlpha,f=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/f,l/f));var h=this.domBack;function p(v,g,m,b){if(o.clearRect(v,g,m,b),r&&r!=="transparent"){var _=void 0;if(oP(r)){var x=r.global||r.__width===m&&r.__height===b;_=x&&r.__canvasGradient||XV(o,r,{x:0,y:0,width:m,height:b}),r.__canvasGradient=_,r.__width=m,r.__height=b}else Zit(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,_=KV(o,r,{dirty:function(){d.setUnpainted(),d.painter.refresh()}}));o.save(),o.fillStyle=_||r,o.fillRect(v,g,m,b),o.restore()}u&&(o.save(),o.globalAlpha=c,o.drawImage(h,v,g,m,b),o.restore())}!i||u?p(0,0,s,l):i.length&&te(i,function(v){p(v.x*f,v.y*f,v.width*f,v.height*f)})},t}($c),Lee=1e5,s0=314159,ZR=.01,Lht=.001;function Nht(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function Bht(e,t){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var kht=function(){function e(t,n,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=r=Ct({},r||{}),this.dpr=r.devicePixelRatio||VM,this._singleCanvas=a,this.root=t;var o=t.style;o&&(Xye(t),t.innerHTML=""),this.storage=n;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=t,f=c.width,d=c.height;r.width!=null&&(f=r.width),r.height!=null&&(d=r.height),this.dpr=r.devicePixelRatio||1,c.width=f*this.dpr,c.height=d*this.dpr,this._width=f,this._height=d;var h=new OB(c,this,this.dpr);h.__builtin__=!0,h.initContext(),l[s0]=h,h.zlevel=s0,s.push(s0),this._domRoot=t}else{this._width=U1(t,0,r),this._height=U1(t,1,r);var u=this._domRoot=Bht(this._width,this._height);t.appendChild(u)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,t,this._redrawId);for(var a=0;a<i.length;a++){var o=i[a],s=this._layers[o];if(!s.__builtin__&&s.refresh){var l=a===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var n=t.length,r=this._hoverlayer;if(r&&r.clear(),!!n){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,o=0;o<n;o++){var s=t[o];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(Lee)),a||(a=r.ctx,a.save()),V0(a,s,i,o===n-1))}a&&a.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(Lee)},e.prototype.paintOne=function(t,n){Ebe(t,n)},e.prototype._paintList=function(t,n,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,n,r),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(t),o)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;LM(function(){l._paintList(t,n,r,i)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(s0).ctx,n=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,n,r),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,n,r)})},e.prototype._doPaintList=function(t,n,r){for(var i=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&a.push(u)}for(var c=!0,f=!1,d=function(v){var g=a[v],m=g.ctx,b=o&&g.createRepaintRects(t,n,h._width,h._height),_=r?g.__startIndex:g.__drawIndex,x=!r&&g.incremental&&Date.now,E=x&&Date.now(),A=g.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(g.__startIndex===g.__endIndex)g.clear(!1,A,b);else if(_===g.__startIndex){var T=t[_];(!T.incremental||!T.notClear||r)&&g.clear(!1,A,b)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=g.__startIndex);var R,M=function(P){var B={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(R=_;R<g.__endIndex;R++){var U=t[R];if(U.__inHover&&(f=!0),i._doPaintEl(U,g,o,P,B,R===g.__endIndex-1),x){var L=Date.now()-E;if(L>15)break}}B.prevElClipPaths&&m.restore()};if(b)if(b.length===0)R=g.__endIndex;else for(var O=h.dpr,D=0;D<b.length;++D){var C=b[D];m.save(),m.beginPath(),m.rect(C.x*O,C.y*O,C.width*O,C.height*O),m.clip(),M(C),m.restore()}else m.save(),M(),m.restore();g.__drawIndex=R,g.__drawIndex<g.__endIndex&&(c=!1)},h=this,p=0;p<a.length;p++)d(p);return qr.wxa&&te(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:c,needsRefreshHover:f}},e.prototype._doPaintEl=function(t,n,r,i,a,o){var s=n.ctx;if(r){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(V0(s,t,a,o),t.setPrevPaintRect(l))}else V0(s,t,a,o)},e.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=s0);var r=this._layers[t];return r||(r=new OB("zr_"+t,this,this.dpr),r.zlevel=t,r.__builtin__=!0,this._layerConfig[t]?wr(r,this._layerConfig[t],!0):this._layerConfig[t-ZR]&&wr(r,this._layerConfig[t-ZR],!0),n&&(r.virtual=n),this.insertLayer(t,r),r.initContext()),r},e.prototype.insertLayer=function(t,n){var r=this._layers,i=this._zlevelList,a=i.length,o=this._domRoot,s=null,l=-1;if(!r[t]&&Nht(n)){if(a>0&&t>i[0]){for(l=0;l<a-1&&!(i[l]<t&&i[l+1]>t);l++);s=r[i[l]]}if(i.splice(l+1,0,t),r[t]=n,!n.virtual)if(s){var u=s.dom;u.nextSibling?o.insertBefore(n.dom,u.nextSibling):o.appendChild(n.dom)}else o.firstChild?o.insertBefore(n.dom,o.firstChild):o.appendChild(n.dom);n.painter||(n.painter=this)}},e.prototype.eachLayer=function(t,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];t.call(n,this._layers[a],a)}},e.prototype.eachBuiltinLayer=function(t,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__&&t.call(n,o,a)}},e.prototype.eachOtherLayer=function(t,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],o=this._layers[a];o.__builtin__||t.call(n,o,a)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function n(f){a&&(a.__endIndex!==f&&(a.__dirty=!0),a.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<t.length;r++){var i=t[r];if(i.zlevel!==t[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,o=0,s,l;for(l=0;l<t.length;l++){var i=t[l],u=i.zlevel,c=void 0;s!==u&&(s=u,o=0),i.incremental?(c=this.getLayer(u+Lht,this._needsManuallyCompositing),c.incremental=!0,o=1):c=this.getLayer(u+(o>0?ZR:0),this._needsManuallyCompositing),c.__builtin__||QH("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,n(l),a=c),i.__dirty&Pu&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}n(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,te(this._layers,function(n){n.setUnpainted()})},e.prototype.configLayer=function(t,n){if(n){var r=this._layerConfig;r[t]?wr(r[t],n,!0):r[t]=n;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+ZR){var o=this._layers[a];wr(o,r[t],!0)}}}},e.prototype.delLayer=function(t){var n=this._layers,r=this._zlevelList,i=n[t];i&&(i.dom.parentNode.removeChild(i.dom),delete n[t],r.splice(Ur(r,t),1))},e.prototype.resize=function(t,n){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(t!=null&&(i.width=t),n!=null&&(i.height=n),t=U1(a,0,i),n=U1(a,1,i),r.style.display="",this._width!==t||n!==this._height){r.style.width=t+"px",r.style.height=n+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(s0).resize(t,n)}return this},e.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[s0].dom;var n=new OB("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var r=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=n.dom.width,a=n.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,i,a):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,u=s.length;l<u;l++){var c=s[l];V0(r,c,o,l===u-1)}return n.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function Fht(e){e.registerPainter("canvas",kht)}var Uht=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n){return Gp(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(n){var r=new hr,i=Io("line",0,n.itemHeight/2,n.itemWidth,0,n.lineStyle.stroke,!1);r.add(i),i.setStyle(n.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s=a==="none"?"circle":a,l=n.itemHeight*.8,u=Io(s,(n.itemWidth-l)/2,(n.itemHeight-l)/2,l,l,n.itemStyle.fill);r.add(u),u.setStyle(n.itemStyle);var c=n.iconRotate==="inherit"?o:n.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([n.itemWidth/2,n.itemHeight/2]),s.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(va);function Kb(e,t){var n=e.mapDimensionsAll("defaultedLabel"),r=n.length;if(r===1){var i=jb(e,t,n[0]);return i!=null?i+"":null}else if(r){for(var a=[],o=0;o<n.length;o++)a.push(jb(e,t,n[o]));return a.join(" ")}}function Vxe(e,t){var n=e.mapDimensionsAll("defaultedLabel");if(!Lt(t))return t+"";for(var r=[],i=0;i<n.length;i++){var a=e.getDimensionIndex(n[i]);a>=0&&r.push(t[a])}return r.join(" ")}var gw=function(e){et(t,e);function t(n,r,i,a){var o=e.call(this)||this;return o.updateData(n,r,i,a),o}return t.prototype._createSymbol=function(n,r,i,a,o){this.removeAll();var s=Io(n,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=Vht,this._symbolType=n,this.add(s)},t.prototype.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(null,n)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Mp(this.childAt(0))},t.prototype.downplay=function(){Op(this.childAt(0))},t.prototype.setZ=function(n,r){var i=this.childAt(0);i.zlevel=n,i.z=r},t.prototype.setDraggable=function(n,r){var i=this.childAt(0);i.draggable=n,i.cursor=!r&&n?"move":i.cursor},t.prototype.updateData=function(n,r,i,a){this.silent=!1;var o=n.getItemVisual(r,"symbol")||"circle",s=n.hostModel,l=t.getSymbolSize(n,r),u=o!==this._symbolType,c=a&&a.disableAnimation;if(u){var f=n.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,n,r,l,f)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};c?d.attr(h):Si(d,h,s,r),Jf(d)}if(this._updateCommon(n,r,l,i,a),u){var d=this.childAt(0);if(!c){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Ca(d,h,s,r)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(n,r,i,a,o){var s=this.childAt(0),l=n.hostModel,u,c,f,d,h,p,v,g,m;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,f=a.selectItemStyle,d=a.focus,h=a.blurScope,v=a.labelStatesModels,g=a.hoverScale,m=a.cursorStyle,p=a.emphasisDisabled),!a||n.hasItemOption){var b=a&&a.itemModel?a.itemModel:n.getItemModel(r),_=b.getModel("emphasis");u=_.getModel("itemStyle").getItemStyle(),f=b.getModel(["select","itemStyle"]).getItemStyle(),c=b.getModel(["blur","itemStyle"]).getItemStyle(),d=_.get("focus"),h=_.get("blurScope"),p=_.get("disabled"),v=is(b),g=_.getShallow("scale"),m=b.getShallow("cursor")}var x=n.getItemVisual(r,"symbolRotate");s.attr("rotation",(x||0)*Math.PI/180||0);var E=zy(n.getItemVisual(r,"symbolOffset"),i);E&&(s.x=E[0],s.y=E[1]),m&&s.attr("cursor",m);var A=n.getItemVisual(r,"style"),T=A.fill;if(s instanceof ms){var R=s.style;s.useStyle(Ct({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},A))}else s.__isEmptyBrush?s.useStyle(Ct({},A)):s.useStyle(A),s.style.decal=null,s.setColor(T,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var M=n.getItemVisual(r,"liftZ"),O=this._z2;M!=null?O==null&&(this._z2=s.z2,s.z2+=M):O!=null&&(s.z2=O,this._z2=null);var D=o&&o.useNameLabel;Ns(s,v,{labelFetcher:l,labelDataIndex:r,defaultText:C,inheritColor:T,defaultOpacity:A.opacity});function C(U){return D?n.getName(U):Kb(n,U)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var P=s.ensureState("emphasis");P.style=u,s.ensureState("select").style=f,s.ensureState("blur").style=c;var B=g==null||g===!0?Math.max(1.1,3/this._sizeY):isFinite(g)&&g>0?+g:1;P.scaleX=this._sizeX*B,P.scaleY=this._sizeY*B,this.setSymbolScale(1),to(this,d,h,p)},t.prototype.setSymbolScale=function(n){this.scaleX=this.scaleY=n},t.prototype.fadeOut=function(n,r,i){var a=this.childAt(0),o=gr(this).dataIndex,s=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&zg(l,{style:{opacity:0}},r,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();zg(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:n,removeOpt:s})},t.getSymbolSize=function(n,r){return Hx(n.getItemVisual(r,"symbolSize"))},t}(hr);function Vht(e,t){this.parent.drift(e,t)}function DB(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&e.getItemVisual(n,"symbol")!=="none"}function Nee(e){return e!=null&&!ar(e)&&(e={isIgnore:e}),e||{}}function Bee(e){var t=e.hostModel,n=t.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),emphasisDisabled:n.get("disabled"),hoverScale:n.get("scale"),labelStatesModels:is(t),cursorStyle:t.get("cursor")}}var mw=function(){function e(t){this.group=new hr,this._SymbolCtor=t||gw}return e.prototype.updateData=function(t,n){this._progressiveEls=null,n=Nee(n);var r=this.group,i=t.hostModel,a=this._data,o=this._SymbolCtor,s=n.disableAnimation,l=Bee(t),u={disableAnimation:s},c=n.getSymbolPoint||function(f){return t.getItemLayout(f)};a||r.removeAll(),t.diff(a).add(function(f){var d=c(f);if(DB(t,d,f,n)){var h=new o(t,f,l,u);h.setPosition(d),t.setItemGraphicEl(f,h),r.add(h)}}).update(function(f,d){var h=a.getItemGraphicEl(d),p=c(f);if(!DB(t,p,f,n)){r.remove(h);return}var v=t.getItemVisual(f,"symbol")||"circle",g=h&&h.getSymbolType&&h.getSymbolType();if(!h||g&&g!==v)r.remove(h),h=new o(t,f,l,u),h.setPosition(p);else{h.updateData(t,f,l,u);var m={x:p[0],y:p[1]};s?h.attr(m):Si(h,m,i)}r.add(h),t.setItemGraphicEl(f,h)}).remove(function(f){var d=a.getItemGraphicEl(f);d&&d.fadeOut(function(){r.remove(d)},i)}).execute(),this._getSymbolPoint=c,this._data=t},e.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(r,i){var a=t._getSymbolPoint(i);r.setPosition(a),r.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Bee(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n,r){this._progressiveEls=[],r=Nee(r);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var o=n.getItemLayout(a);if(DB(n,o,a,r)){var s=new this._SymbolCtor(n,a,this._seriesScope);s.traverse(i),s.setPosition(o),this.group.add(s),n.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(t){tm(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var n=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(i){i.fadeOut(function(){n.remove(i)},r.hostModel)}):n.removeAll()},e}();function zxe(e,t,n){var r=e.getBaseAxis(),i=e.getOtherAxis(r),a=zht(i,n),o=r.dim,s=i.dim,l=t.mapDimension(s),u=t.mapDimension(o),c=s==="x"||s==="radius"?1:0,f=Vt(e.dimensions,function(p){return t.mapDimension(p)}),d=!1,h=t.getCalculationInfo("stackResultDimension");return Hg(t,f[0])&&(d=!0,f[0]=h),Hg(t,f[1])&&(d=!0,f[1]=h),{dataDimsForPoint:f,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!d,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function zht(e,t){var n=0,r=e.scale.getExtent();return t==="start"?n=r[0]:t==="end"?n=r[1]:yi(t)&&!isNaN(t)?n=t:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}function $xe(e,t,n,r){var i=NaN;e.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=e.valueStart);var a=e.baseDataOffset,o=[];return o[a]=n.get(e.baseDim,r),o[1-a]=i,t.dataToPoint(o)}function $ht(e,t){var n=[];return t.diff(e).add(function(r){n.push({cmd:"+",idx:r})}).update(function(r,i){n.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){n.push({cmd:"-",idx:r})}).execute(),n}function Hht(e,t,n,r,i,a,o,s){for(var l=$ht(e,t),u=[],c=[],f=[],d=[],h=[],p=[],v=[],g=zxe(i,t,o),m=e.getLayout("points")||[],b=t.getLayout("points")||[],_=0;_<l.length;_++){var x=l[_],E=!0,A=void 0,T=void 0;switch(x.cmd){case"=":A=x.idx*2,T=x.idx1*2;var R=m[A],M=m[A+1],O=b[T],D=b[T+1];(isNaN(R)||isNaN(M))&&(R=O,M=D),u.push(R,M),c.push(O,D),f.push(n[A],n[A+1]),d.push(r[T],r[T+1]),v.push(t.getRawIndex(x.idx1));break;case"+":var C=x.idx,P=g.dataDimsForPoint,B=i.dataToPoint([t.get(P[0],C),t.get(P[1],C)]);T=C*2,u.push(B[0],B[1]),c.push(b[T],b[T+1]);var U=$xe(g,i,t,C);f.push(U[0],U[1]),d.push(r[T],r[T+1]),v.push(t.getRawIndex(C));break;case"-":E=!1}E&&(h.push(x),p.push(p.length))}p.sort(function(he,Ce){return v[he]-v[Ce]});for(var L=u.length,F=Wd(L),N=Wd(L),V=Wd(L),W=Wd(L),G=[],_=0;_<p.length;_++){var K=p[_],q=_*2,ue=K*2;F[q]=u[ue],F[q+1]=u[ue+1],N[q]=c[ue],N[q+1]=c[ue+1],V[q]=f[ue],V[q+1]=f[ue+1],W[q]=d[ue],W[q+1]=d[ue+1],G[_]=h[K]}return{current:F,next:N,stackedOnCurrent:V,stackedOnNext:W,status:G}}var Mv=Math.min,Ov=Math.max;function ny(e,t){return isNaN(e)||isNaN(t)}function a9(e,t,n,r,i,a,o,s,l){for(var u,c,f,d,h,p,v=n,g=0;g<r;g++){var m=t[v*2],b=t[v*2+1];if(v>=i||v<0)break;if(ny(m,b)){if(l){v+=a;continue}break}if(v===n)e[a>0?"moveTo":"lineTo"](m,b),f=m,d=b;else{var _=m-u,x=b-c;if(_*_+x*x<.5){v+=a;continue}if(o>0){for(var E=v+a,A=t[E*2],T=t[E*2+1];A===m&&T===b&&g<r;)g++,E+=a,v+=a,A=t[E*2],T=t[E*2+1],m=t[v*2],b=t[v*2+1],_=m-u,x=b-c;var R=g+1;if(l)for(;ny(A,T)&&R<r;)R++,E+=a,A=t[E*2],T=t[E*2+1];var M=.5,O=0,D=0,C=void 0,P=void 0;if(R>=r||ny(A,T))h=m,p=b;else{O=A-u,D=T-c;var B=m-u,U=A-m,L=b-c,F=T-b,N=void 0,V=void 0;if(s==="x"){N=Math.abs(B),V=Math.abs(U);var W=O>0?1:-1;h=m-W*N*o,p=b,C=m+W*V*o,P=b}else if(s==="y"){N=Math.abs(L),V=Math.abs(F);var G=D>0?1:-1;h=m,p=b-G*N*o,C=m,P=b+G*V*o}else N=Math.sqrt(B*B+L*L),V=Math.sqrt(U*U+F*F),M=V/(V+N),h=m-O*o*(1-M),p=b-D*o*(1-M),C=m+O*o*M,P=b+D*o*M,C=Mv(C,Ov(A,m)),P=Mv(P,Ov(T,b)),C=Ov(C,Mv(A,m)),P=Ov(P,Mv(T,b)),O=C-m,D=P-b,h=m-O*N/V,p=b-D*N/V,h=Mv(h,Ov(u,m)),p=Mv(p,Ov(c,b)),h=Ov(h,Mv(u,m)),p=Ov(p,Mv(c,b)),O=m-h,D=b-p,C=m+O*V/N,P=b+D*V/N}e.bezierCurveTo(f,d,h,p,m,b),f=C,d=P}else e.lineTo(m,b)}u=m,c=b,v+=a}return g}var Hxe=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),Wht=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polyline",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Hxe},t.prototype.buildPath=function(n,r){var i=r.points,a=0,o=i.length/2;if(r.connectNulls){for(;o>0&&ny(i[o*2-2],i[o*2-1]);o--);for(;a<o&&ny(i[a*2],i[a*2+1]);a++);}for(;a<o;)a+=a9(n,i,a,o,o,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(n,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,o=oh.CMD,s,l,u=r==="x",c=[],f=0;f<a.length;){var d=a[f++],h=void 0,p=void 0,v=void 0,g=void 0,m=void 0,b=void 0,_=void 0;switch(d){case o.M:s=a[f++],l=a[f++];break;case o.L:if(h=a[f++],p=a[f++],_=u?(n-s)/(h-s):(n-l)/(p-l),_<=1&&_>=0){var x=u?(p-l)*_+l:(h-s)*_+s;return u?[n,x]:[x,n]}s=h,l=p;break;case o.C:h=a[f++],p=a[f++],v=a[f++],g=a[f++],m=a[f++],b=a[f++];var E=u?BM(s,h,v,m,n,c):BM(l,p,g,b,n,c);if(E>0)for(var A=0;A<E;A++){var T=c[A];if(T<=1&&T>=0){var x=u?Yo(l,p,g,b,T):Yo(s,h,v,m,T);return u?[n,x]:[x,n]}}s=m,l=b;break}}},t}(Wr),Ght=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Hxe),Wxe=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-polygon",r}return t.prototype.getDefaultShape=function(){return new Ght},t.prototype.buildPath=function(n,r){var i=r.points,a=r.stackedOnPoints,o=0,s=i.length/2,l=r.smoothMonotone;if(r.connectNulls){for(;s>0&&ny(i[s*2-2],i[s*2-1]);s--);for(;o<s&&ny(i[o*2],i[o*2+1]);o++);}for(;o<s;){var u=a9(n,i,o,s,s,1,r.smooth,l,r.connectNulls);a9(n,a,o+u-1,u,s,-1,r.stackedOnSmooth,l,r.connectNulls),o+=u+1,n.closePath()}},t}(Wr);function Gxe(e,t,n,r,i){var a=e.getArea(),o=a.x,s=a.y,l=a.width,u=a.height,c=n.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,l+=c,u+=c,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var f=new si({shape:{x:o,y:s,width:l,height:u}});if(t){var d=e.getBaseAxis(),h=d.isHorizontal(),p=d.inverse;h?(p&&(f.shape.x+=l),f.shape.width=0):(p||(f.shape.y+=u),f.shape.height=0);var v=er(i)?function(g){i(g,f)}:null;Ca(f,{shape:{width:l,height:u,x:o,y:s}},n,null,r,v)}return f}function jxe(e,t,n){var r=e.getArea(),i=ao(r.r0,1),a=ao(r.r,1),o=new Nl({shape:{cx:ao(e.cx,1),cy:ao(e.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(t){var s=e.getBaseAxis().dim==="angle";s?o.shape.endAngle=r.startAngle:o.shape.r=i,Ca(o,{shape:{endAngle:r.endAngle,r:a}},n)}return o}function yw(e,t,n,r,i){if(e){if(e.type==="polar")return jxe(e,t,n);if(e.type==="cartesian2d")return Gxe(e,t,n,r,i)}else return null;return null}function Hy(e,t){return e.type===t}function kee(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function Fee(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,a=0;a<e.length;){var o=e[a++],s=e[a++];isNaN(o)||(t=Math.min(o,t),r=Math.max(o,r)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[t,n],[r,i]]}function Uee(e,t){var n=Fee(e),r=n[0],i=n[1],a=Fee(t),o=a[0],s=a[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function Vee(e){return yi(e)?e:e?.5:0}function jht(e,t,n){if(!n.valueDim)return[];for(var r=t.count(),i=Wd(r*2),a=0;a<r;a++){var o=$xe(n,e,t,a);i[a*2]=o[0],i[a*2+1]=o[1]}return i}function Dv(e,t,n,r){var i=t.getBaseAxis(),a=i.dim==="x"||i.dim==="radius"?0:1,o=[],s=0,l=[],u=[],c=[],f=[];if(r){for(s=0;s<e.length;s+=2)!isNaN(e[s])&&!isNaN(e[s+1])&&f.push(e[s],e[s+1]);e=f}for(s=0;s<e.length-2;s+=2)switch(c[0]=e[s+2],c[1]=e[s+3],u[0]=e[s],u[1]=e[s+1],o.push(u[0],u[1]),n){case"end":l[a]=c[a],l[1-a]=u[1-a],o.push(l[0],l[1]);break;case"middle":var d=(u[a]+c[a])/2,h=[];l[a]=h[a]=d,l[1-a]=u[1-a],h[1-a]=c[1-a],o.push(l[0],l[1]),o.push(h[0],h[1]);break;default:l[a]=u[a],l[1-a]=c[1-a],o.push(l[0],l[1])}return o.push(e[s++],e[s++]),o}function Yht(e,t){var n=[],r=e.length,i,a;function o(c,f,d){var h=c.coord,p=(d-h)/(f.coord-h),v=Bat(p,[c.color,f.color]);return{coord:d,color:v}}for(var s=0;s<r;s++){var l=e[s],u=l.coord;if(u<0)i=l;else if(u>t){a?n.push(o(a,l,t)):i&&n.push(o(i,l,0),o(i,l,t));break}else i&&(n.push(o(i,l,0)),i=null),n.push(l),a=l}return n}function Xht(e,t,n){var r=e.getVisual("visualMeta");if(!(!r||!r.length||!e.count())&&t.type==="cartesian2d"){for(var i,a,o=r.length-1;o>=0;o--){var s=e.getDimensionInfo(r[o].dimension);if(i=s&&s.coordDim,i==="x"||i==="y"){a=r[o];break}}if(a){var l=t.getAxis(i),u=Vt(a.stops,function(_){return{coord:l.toGlobalCoord(l.dataToCoord(_.value)),color:_.color}}),c=u.length,f=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),f.reverse());var d=Yht(u,i==="x"?n.getWidth():n.getHeight()),h=d.length;if(!h&&c)return u[0].coord<0?f[1]?f[1]:u[c-1].color:f[0]?f[0]:u[0].color;var p=10,v=d[0].coord-p,g=d[h-1].coord+p,m=g-v;if(m<.001)return"transparent";te(d,function(_){_.offset=(_.coord-v)/m}),d.push({offset:h?d[h-1].offset:.5,color:f[1]||"transparent"}),d.unshift({offset:h?d[0].offset:.5,color:f[0]||"transparent"});var b=new Zo(0,0,0,0,d,!0);return b[i]=v,b[i+"2"]=g,b}}}function Kht(e,t,n){var r=e.get("showAllSymbol"),i=r==="auto";if(!(r&&!i)){var a=n.getAxesByScale("ordinal")[0];if(a&&!(i&&qht(a,t))){var o=t.mapDimension(a.dim),s={};return te(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);s[u]=1}),function(l){return!s.hasOwnProperty(t.get(o,l))}}}}function qht(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),o=0;o<i;o+=a)if(gw.getSymbolSize(t,o)[e.isHorizontal()?1:0]*1.5>r)return!1;return!0}function Zht(e,t){return isNaN(e)||isNaN(t)}function Qht(e){for(var t=e.length/2;t>0&&Zht(e[t*2-2],e[t*2-1]);t--);return t-1}function zee(e,t){return[e[t*2],e[t*2+1]]}function Jht(e,t,n){for(var r=e.length/2,i=n==="x"?0:1,a,o,s=0,l=-1,u=0;u<r;u++)if(o=e[u*2+i],!(isNaN(o)||isNaN(e[u*2+1-i]))){if(u===0){a=o;continue}if(a<=t&&o>=t||a>=t&&o<=t){l=u;break}s=u,a=o}return{range:[s,l],t:(t-a)/(o-a)}}function Yxe(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<Ll.length;t++)if(e.get([Ll[t],"endLabel","show"]))return!0;return!1}function PB(e,t,n,r){if(Hy(t,"cartesian2d")){var i=r.getModel("endLabel"),a=i.get("valueAnimation"),o=r.getData(),s={lastFrameIndex:0},l=Yxe(r)?function(h,p){e._endLabelOnDuring(h,p,o,s,a,i,t)}:null,u=t.getBaseAxis().isHorizontal(),c=Gxe(t,n,r,function(){var h=e._endLabel;h&&n&&s.originalX!=null&&h.attr({x:s.originalX,y:s.originalY})},l);if(!r.get("clip",!0)){var f=c.shape,d=Math.max(f.width,f.height);u?(f.y-=d,f.height+=d*2):(f.x-=d,f.width+=d*2)}return l&&l(1,c),c}else return jxe(t,n,r)}function ept(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,a=r?i?"right":"left":"center",o=r?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||a,verticalAlign:e.get("verticalAlign")||o}}}var tpt=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var n=new hr,r=new mw;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=n},t.prototype.render=function(n,r,i){var a=this,o=n.coordinateSystem,s=this.group,l=n.getData(),u=n.getModel("lineStyle"),c=n.getModel("areaStyle"),f=l.getLayout("points")||[],d=o.type==="polar",h=this._coordSys,p=this._symbolDraw,v=this._polyline,g=this._polygon,m=this._lineGroup,b=!r.ssr&&n.get("animation"),_=!c.isEmpty(),x=c.get("origin"),E=zxe(o,l,x),A=_&&jht(o,l,E),T=n.get("showSymbol"),R=n.get("connectNulls"),M=T&&!d&&Kht(n,l,o),O=this._data;O&&O.eachItemGraphicEl(function(Ce,ee){Ce.__temp&&(s.remove(Ce),O.setItemGraphicEl(ee,null))}),T||p.remove(),s.add(m);var D=d?!1:n.get("step"),C;o&&o.getArea&&n.get("clip",!0)&&(C=o.getArea(),C.width!=null?(C.x-=.1,C.y-=.1,C.width+=.2,C.height+=.2):C.r0&&(C.r0-=.5,C.r+=.5)),this._clipShapeForSymbol=C;var P=Xht(l,o,i)||l.getVisual("style")[l.getVisual("drawType")];if(!(v&&h.type===o.type&&D===this._step))T&&p.updateData(l,{isIgnore:M,clipShape:C,disableAnimation:!0,getSymbolPoint:function(Ce){return[f[Ce*2],f[Ce*2+1]]}}),b&&this._initSymbolLabelAnimation(l,o,C),D&&(f=Dv(f,o,D,R),A&&(A=Dv(A,o,D,R))),v=this._newPolyline(f),_?g=this._newPolygon(f,A):g&&(m.remove(g),g=this._polygon=null),d||this._initOrUpdateEndLabel(n,o,xy(P)),m.setClipPath(PB(this,o,!0,n));else{_&&!g?g=this._newPolygon(f,A):g&&!_&&(m.remove(g),g=this._polygon=null),d||this._initOrUpdateEndLabel(n,o,xy(P));var B=m.getClipPath();if(B){var U=PB(this,o,!1,n);Ca(B,{shape:U.shape},n)}else m.setClipPath(PB(this,o,!0,n));T&&p.updateData(l,{isIgnore:M,clipShape:C,disableAnimation:!0,getSymbolPoint:function(Ce){return[f[Ce*2],f[Ce*2+1]]}}),(!kee(this._stackedOnPoints,A)||!kee(this._points,f))&&(b?this._doUpdateAnimation(l,A,o,i,D,x,R):(D&&(f=Dv(f,o,D,R),A&&(A=Dv(A,o,D,R))),v.setShape({points:f}),g&&g.setShape({points:f,stackedOnPoints:A})))}var L=n.getModel("emphasis"),F=L.get("focus"),N=L.get("blurScope"),V=L.get("disabled");if(v.useStyle(tr(u.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"})),Ls(v,n,"lineStyle"),v.style.lineWidth>0&&n.get(["emphasis","lineStyle","width"])==="bolder"){var W=v.getState("emphasis").style;W.lineWidth=+v.style.lineWidth+1}gr(v).seriesIndex=n.seriesIndex,to(v,F,N,V);var G=Vee(n.get("smooth")),K=n.get("smoothMonotone");if(v.setShape({smooth:G,smoothMonotone:K,connectNulls:R}),g){var q=l.getCalculationInfo("stackedOnSeries"),ue=0;g.useStyle(tr(c.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),q&&(ue=Vee(q.get("smooth"))),g.setShape({smooth:G,stackedOnSmooth:ue,smoothMonotone:K,connectNulls:R}),Ls(g,n,"areaStyle"),gr(g).seriesIndex=n.seriesIndex,to(g,F,N,V)}var he=function(Ce){a._changePolyState(Ce)};l.eachItemGraphicEl(function(Ce){Ce&&(Ce.onHoverStateChange=he)}),this._polyline.onHoverStateChange=he,this._data=l,this._coordSys=o,this._stackedOnPoints=A,this._points=f,this._step=D,this._valueOrigin=x,n.get("triggerLineEvent")&&(this.packEventData(n,v),g&&this.packEventData(n,g))},t.prototype.packEventData=function(n,r){gr(r).eventData={componentType:"series",componentSubType:"line",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"line"}},t.prototype.highlight=function(n,r,i,a){var o=n.getData(),s=yy(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&s!=null&&s>=0){var l=o.getLayout("points"),u=o.getItemGraphicEl(s);if(!u){var c=l[s*2],f=l[s*2+1];if(isNaN(c)||isNaN(f)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,f))return;var d=n.get("zlevel")||0,h=n.get("z")||0;u=new gw(o,s),u.x=c,u.y=f,u.setZ(d,h);var p=u.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=h,p.z2=this._polyline.z2+1),u.__temp=!0,o.setItemGraphicEl(s,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else ta.prototype.highlight.call(this,n,r,i,a)},t.prototype.downplay=function(n,r,i,a){var o=n.getData(),s=yy(o,a);if(this._changePolyState("normal"),s!=null&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else ta.prototype.downplay.call(this,n,r,i,a)},t.prototype._changePolyState=function(n){var r=this._polygon;HM(this._polyline,n),r&&HM(r,n)},t.prototype._newPolyline=function(n){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new Wht({shape:{points:n},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(n,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Wxe({shape:{points:n,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(n,r,i){var a,o,s=r.getBaseAxis(),l=s.inverse;r.type==="cartesian2d"?(a=s.isHorizontal(),o=!1):r.type==="polar"&&(a=s.dim==="angle",o=!0);var u=n.hostModel,c=u.get("animationDuration");er(c)&&(c=c(null));var f=u.get("animationDelay")||0,d=er(f)?f(null):f;n.eachItemGraphicEl(function(h,p){var v=h;if(v){var g=[h.x,h.y],m=void 0,b=void 0,_=void 0;if(i)if(o){var x=i,E=r.pointToCoord(g);a?(m=x.startAngle,b=x.endAngle,_=-E[1]/180*Math.PI):(m=x.r0,b=x.r,_=E[0])}else{var A=i;a?(m=A.x,b=A.x+A.width,_=h.x):(m=A.y+A.height,b=A.y,_=h.y)}var T=b===m?0:(_-m)/(b-m);l&&(T=1-T);var R=er(f)?f(p):c*T+d,M=v.getSymbolPath(),O=M.getTextContent();v.attr({scaleX:0,scaleY:0}),v.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:R}),O&&O.animateFrom({style:{opacity:0}},{duration:300,delay:R}),M.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(n,r,i){var a=n.getModel("endLabel");if(Yxe(n)){var o=n.getData(),s=this._polyline,l=o.getLayout("points");if(!l){s.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new pi({z2:200}),u.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var c=Qht(l);c>=0&&(Ns(s,is(n,"endLabel"),{inheritColor:i,labelFetcher:n,labelDataIndex:c,defaultText:function(f,d,h){return h!=null?Vxe(o,h):Kb(o,f)},enableTextSetter:!0},ept(a,r)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(n,r,i,a,o,s,l){var u=this._endLabel,c=this._polyline;if(u){n<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var f=i.getLayout("points"),d=i.hostModel,h=d.get("connectNulls"),p=s.get("precision"),v=s.get("distance")||0,g=l.getBaseAxis(),m=g.isHorizontal(),b=g.inverse,_=r.shape,x=b?m?_.x:_.y+_.height:m?_.x+_.width:_.y,E=(m?v:0)*(b?-1:1),A=(m?0:-v)*(b?-1:1),T=m?"x":"y",R=Jht(f,x,T),M=R.range,O=M[1]-M[0],D=void 0;if(O>=1){if(O>1&&!h){var C=zee(f,M[0]);u.attr({x:C[0]+E,y:C[1]+A}),o&&(D=d.getRawValue(M[0]))}else{var C=c.getPointOn(x,T);C&&u.attr({x:C[0]+E,y:C[1]+A});var P=d.getRawValue(M[0]),B=d.getRawValue(M[1]);o&&(D=D_e(i,p,P,B,R.t))}a.lastFrameIndex=M[0]}else{var U=n===1||a.lastFrameIndex>0?M[0]:0,C=zee(f,U);o&&(D=d.getRawValue(U)),u.attr({x:C[0]+E,y:C[1]+A})}if(o){var L=Bx(u);typeof L.setLabelText=="function"&&L.setLabelText(D)}}},t.prototype._doUpdateAnimation=function(n,r,i,a,o,s,l){var u=this._polyline,c=this._polygon,f=n.hostModel,d=Hht(this._data,n,this._stackedOnPoints,r,this._coordSys,i,this._valueOrigin),h=d.current,p=d.stackedOnCurrent,v=d.next,g=d.stackedOnNext;if(o&&(h=Dv(d.current,i,o,l),p=Dv(d.stackedOnCurrent,i,o,l),v=Dv(d.next,i,o,l),g=Dv(d.stackedOnNext,i,o,l)),Uee(h,v)>3e3||c&&Uee(p,g)>3e3){u.stopAnimation(),u.setShape({points:v}),c&&(c.stopAnimation(),c.setShape({points:v,stackedOnPoints:g}));return}u.shape.__points=d.current,u.shape.points=h;var m={shape:{points:v}};d.current!==h&&(m.shape.__points=d.next),u.stopAnimation(),Si(u,m,f),c&&(c.setShape({points:h,stackedOnPoints:p}),c.stopAnimation(),Si(c,{shape:{stackedOnPoints:g}},f),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var b=[],_=d.status,x=0;x<_.length;x++){var E=_[x].cmd;if(E==="="){var A=n.getItemGraphicEl(_[x].idx1);A&&b.push({el:A,ptIdx:x})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var T=u.shape.__points,R=0;R<b.length;R++){var M=b[R].el,O=b[R].ptIdx*2;M.x=T[O],M.y=T[O+1],M.markRedraw()}})},t.prototype.remove=function(n){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,o){a.__temp&&(r.remove(a),i.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(ta);function _w(e,t){return{seriesType:e,plan:zx(),reset:function(n){var r=n.getData(),i=n.coordinateSystem,a=n.pipelineContext,o=t||a.large;if(i){var s=Vt(i.dimensions,function(h){return r.mapDimension(h)}).slice(0,2),l=s.length,u=r.getCalculationInfo("stackResultDimension");Hg(r,s[0])&&(s[0]=u),Hg(r,s[1])&&(s[1]=u);var c=r.getStore(),f=r.getDimensionIndex(s[0]),d=r.getDimensionIndex(s[1]);return l&&{progress:function(h,p){for(var v=h.end-h.start,g=o&&Wd(v*l),m=[],b=[],_=h.start,x=0;_<h.end;_++){var E=void 0;if(l===1){var A=c.get(f,_);E=i.dataToPoint(A,null,b)}else m[0]=c.get(f,_),m[1]=c.get(d,_),E=i.dataToPoint(m,null,b);o?(g[x++]=E[0],g[x++]=E[1]):p.setItemLayout(_,E.slice())}o&&p.setLayout("points",g)}}}}}}var npt={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return n===0?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},minmax:function(e){for(var t=-1/0,n=-1/0,r=0;r<e.length;r++){var i=e[r],a=Math.abs(i);a>t&&(t=a,n=i)}return isFinite(n)?n:NaN},nearest:function(e){return e[0]}},rpt=function(e){return Math.round(e.length/2)};function Xxe(e){return{seriesType:e,reset:function(t,n,r){var i=t.getData(),a=t.get("sampling"),o=t.coordinateSystem,s=i.count();if(s>10&&o.type==="cartesian2d"&&a){var l=o.getBaseAxis(),u=o.getOtherAxis(l),c=l.getExtent(),f=r.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(f||1),h=Math.round(s/d);if(isFinite(h)&&h>1){a==="lttb"&&t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/h));var p=void 0;An(a)?p=npt[a]:er(a)&&(p=a),p&&t.setData(i.downSample(i.mapDimension(u.dim),1/h,p,rpt))}}}}}function ipt(e){e.registerChartView(tpt),e.registerSeriesModel(Uht),e.registerLayout(_w("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",r)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Xxe("line"))}var fT=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,r){return Gp(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(n,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(n),s=a.dataToPoint(o);if(i)te(a.getAxes(),function(d,h){if(d.type==="category"&&r!=null){var p=d.getTicksCoords(),v=d.getTickModel().get("alignWithLabel"),g=o[h],m=r[h]==="x1"||r[h]==="y1";if(m&&!v&&(g+=1),p.length<2)return;if(p.length===2){s[h]=d.toGlobalCoord(d.getExtent()[m?1:0]);return}for(var b=void 0,_=void 0,x=1,E=0;E<p.length;E++){var A=p[E].coord,T=E===p.length-1?p[E-1].tickValue+x:p[E].tickValue;if(T===g){_=A;break}else if(T<g)b=A;else if(b!=null&&T>g){_=(A+b)/2;break}E===1&&(x=T-p[0].tickValue)}_==null&&(b?b&&(_=p[p.length-1].coord):_=p[0].coord),s[h]=d.toGlobalCoord(_)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),f=a.getBaseAxis().isHorizontal()?0:1;s[f]+=u+c/2}return s}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(va);va.registerClass(fT);var apt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(){return Gp(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var n=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>n&&(n=r),n},t.prototype.brushSelector=function(n,r,i){return i.rect(r.getItemLayout(n))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=nm(fT.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(fT),opt=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),lO=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r.type="sausage",r}return t.prototype.getDefaultShape=function(){return new opt},t.prototype.buildPath=function(n,r){var i=r.cx,a=r.cy,o=Math.max(r.r0||0,0),s=Math.max(r.r,0),l=(s-o)*.5,u=o+l,c=r.startAngle,f=r.endAngle,d=r.clockwise,h=Math.PI*2,p=d?f-c<h:c-f<h;p||(c=f-(d?h:-h));var v=Math.cos(c),g=Math.sin(c),m=Math.cos(f),b=Math.sin(f);p?(n.moveTo(v*o+i,g*o+a),n.arc(v*u+i,g*u+a,l,-Math.PI+c,c,!d)):n.moveTo(v*s+i,g*s+a),n.arc(i,a,s,c,f,!d),n.arc(m*u+i,b*u+a,l,f-Math.PI*2,f-Math.PI,!d),o!==0&&n.arc(i,a,o,f,c,d)},t}(Wr);function spt(e,t){t=t||{};var n=t.isRoundCap;return function(r,i,a){var o=i.position;if(!o||o instanceof Array)return zM(r,i,a);var s=e(o),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,f=u.cy,d=u.r,h=u.r0,p=(d+h)/2,v=u.startAngle,g=u.endAngle,m=(v+g)/2,b=n?Math.abs(d-h)/2:0,_=Math.cos,x=Math.sin,E=c+d*_(v),A=f+d*x(v),T="left",R="top";switch(s){case"startArc":E=c+(h-l)*_(m),A=f+(h-l)*x(m),T="center",R="top";break;case"insideStartArc":E=c+(h+l)*_(m),A=f+(h+l)*x(m),T="center",R="bottom";break;case"startAngle":E=c+p*_(v)+QR(v,l+b,!1),A=f+p*x(v)+JR(v,l+b,!1),T="right",R="middle";break;case"insideStartAngle":E=c+p*_(v)+QR(v,-l+b,!1),A=f+p*x(v)+JR(v,-l+b,!1),T="left",R="middle";break;case"middle":E=c+p*_(m),A=f+p*x(m),T="center",R="middle";break;case"endArc":E=c+(d+l)*_(m),A=f+(d+l)*x(m),T="center",R="bottom";break;case"insideEndArc":E=c+(d-l)*_(m),A=f+(d-l)*x(m),T="center",R="top";break;case"endAngle":E=c+p*_(g)+QR(g,l+b,!0),A=f+p*x(g)+JR(g,l+b,!0),T="left",R="middle";break;case"insideEndAngle":E=c+p*_(g)+QR(g,-l+b,!0),A=f+p*x(g)+JR(g,-l+b,!0),T="right",R="middle";break;default:return zM(r,i,a)}return r=r||{},r.x=E,r.y=A,r.align=T,r.verticalAlign=R,r}}function lpt(e,t,n,r){if(yi(r)){e.setTextConfig({rotation:r});return}else if(Lt(t)){e.setTextConfig({rotation:0});return}var i=e.shape,a=i.clockwise?i.startAngle:i.endAngle,o=i.clockwise?i.endAngle:i.startAngle,s=(a+o)/2,l,u=n(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function QR(e,t,n){return t*Math.sin(e)*(n?-1:1)}function JR(e,t,n){return t*Math.cos(e)*(n?1:-1)}function z0(e,t,n){var r=e.get("borderRadius");if(r==null)return n?{cornerRadius:0}:null;Lt(r)||(r=[r,r,r,r]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Vt(r,function(a){return Qf(a,i)})}}var LB=Math.max,NB=Math.min;function upt(e,t){var n=e.getArea&&e.getArea();if(Hy(e,"cartesian2d")){var r=e.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=t.getLayout("bandWidth");r.isHorizontal()?(n.x-=i,n.width+=i*2):(n.y-=i,n.height+=i*2)}}return n}var cpt=function(e){et(t,e);function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return t.prototype.render=function(n,r,i,a){this._model=n,this._removeOnRenderedListener(i),this._updateDrawMode(n);var o=n.get("coordinateSystem");(o==="cartesian2d"||o==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(n,r,i):this._renderNormal(n,r,i,a))},t.prototype.incrementalPrepareRender=function(n){this._clear(),this._updateDrawMode(n),this._updateLargeClip(n)},t.prototype.incrementalRender=function(n,r){this._progressiveEls=[],this._incrementalRenderLarge(n,r)},t.prototype.eachRendered=function(n){tm(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(n,r,i,a){var o=this.group,s=n.getData(),l=this._data,u=n.coordinateSystem,c=u.getBaseAxis(),f;u.type==="cartesian2d"?f=c.isHorizontal():u.type==="polar"&&(f=c.dim==="angle");var d=n.isAnimationEnabled()?n:null,h=fpt(n,u);h&&this._enableRealtimeSort(h,s,i);var p=n.get("clip",!0)||h,v=upt(u,s);o.removeClipPath();var g=n.get("roundCap",!0),m=n.get("showBackground",!0),b=n.getModel("backgroundStyle"),_=b.get("borderRadius")||0,x=[],E=this._backgroundEls,A=a&&a.isInitSort,T=a&&a.type==="changeAxisOrder";function R(D){var C=eI[u.type](s,D),P=ypt(u,f,C);return P.useStyle(b.getItemStyle()),u.type==="cartesian2d"?P.setShape("r",_):P.setShape("cornerRadius",_),x[D]=P,P}s.diff(l).add(function(D){var C=s.getItemModel(D),P=eI[u.type](s,D,C);if(m&&R(D),!(!s.hasValue(D)||!jee[u.type](P))){var B=!1;p&&(B=$ee[u.type](v,P));var U=Hee[u.type](n,s,D,P,f,d,c.model,!1,g);h&&(U.forceLabelAnimation=!0),Yee(U,s,D,C,P,n,f,u.type==="polar"),A?U.attr({shape:P}):h?Wee(h,d,U,P,D,f,!1,!1):Ca(U,{shape:P},n,D),s.setItemGraphicEl(D,U),o.add(U),U.ignore=B}}).update(function(D,C){var P=s.getItemModel(D),B=eI[u.type](s,D,P);if(m){var U=void 0;E.length===0?U=R(C):(U=E[C],U.useStyle(b.getItemStyle()),u.type==="cartesian2d"?U.setShape("r",_):U.setShape("cornerRadius",_),x[D]=U);var L=eI[u.type](s,D),F=qxe(f,L,u);Si(U,{shape:F},d,D)}var N=l.getItemGraphicEl(C);if(!s.hasValue(D)||!jee[u.type](B)){o.remove(N);return}var V=!1;if(p&&(V=$ee[u.type](v,B),V&&o.remove(N)),N?Jf(N):N=Hee[u.type](n,s,D,B,f,d,c.model,!!N,g),h&&(N.forceLabelAnimation=!0),T){var W=N.getTextContent();if(W){var G=Bx(W);G.prevValue!=null&&(G.prevValue=G.value)}}else Yee(N,s,D,P,B,n,f,u.type==="polar");A?N.attr({shape:B}):h?Wee(h,d,N,B,D,f,!0,T):Si(N,{shape:B},n,D,null),s.setItemGraphicEl(D,N),N.ignore=V,o.add(N)}).remove(function(D){var C=l.getItemGraphicEl(D);C&&tT(C,n,D)}).execute();var M=this._backgroundGroup||(this._backgroundGroup=new hr);M.removeAll();for(var O=0;O<x.length;++O)M.add(x[O]);o.add(M),this._backgroundEls=x,this._data=s},t.prototype._renderLarge=function(n,r,i){this._clear(),Kee(n,this.group),this._updateLargeClip(n)},t.prototype._incrementalRenderLarge=function(n,r){this._removeBackground(),Kee(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(n){var r=n.get("clip",!0)&&yw(n.coordinateSystem,!1,n),i=this.group;r?i.setClipPath(r):i.removeClipPath()},t.prototype._enableRealtimeSort=function(n,r,i){var a=this;if(r.count()){var o=n.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,n,i),this._isFirstFrame=!1;else{var s=function(l){var u=r.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(o.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,s,o,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(n,r,i){var a=[];return n.each(n.mapDimension(r.dim),function(o,s){var l=i(s);l=l??NaN,a.push({dataIndex:s,mappedValue:l,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:Vt(a,function(o){return o.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(n,r,i){for(var a=i.scale,o=n.mapDimension(i.dim),s=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=n.rawIndexOf(o,a.getRawOrdinalNumber(l)),f=c<0?Number.MIN_VALUE:r(n.indexOfRawIndex(c));if(f>s)return!0;s=f}return!1},t.prototype._isOrderDifferentInView=function(n,r){for(var i=r.scale,a=i.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],i.getOrdinalMeta().categories.length-1);o<=s;++o)if(n.ordinalNumbers[o]!==i.getRawOrdinalNumber(o))return!0},t.prototype._updateSortWithinSameData=function(n,r,i,a){if(this._isOrderChangedWithinSameData(n,r,i)){var o=this._dataSort(n,i,r);this._isOrderDifferentInView(o,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:o}))}},t.prototype._dispatchInitSort=function(n,r,i){var a=r.baseAxis,o=this._dataSort(n,a,function(s){return n.get(n.mapDimension(r.otherAxis.dim),s)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},t.prototype.remove=function(n,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(n,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(n){this._onRendered&&(n.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(n){var r=this.group,i=this._data;n&&n.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){tT(a,n,gr(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(ta),$ee={cartesian2d:function(e,t){var n=t.width<0?-1:1,r=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,a=e.y+e.height,o=LB(t.x,e.x),s=NB(t.x+t.width,i),l=LB(t.y,e.y),u=NB(t.y+t.height,a),c=s<o,f=u<l;return t.x=c&&o>i?s:o,t.y=f&&l>a?u:l,t.width=c?0:s-o,t.height=f?0:u-l,n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),c||f},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}var i=NB(t.r,e.r),a=LB(t.r0,e.r0);t.r=i,t.r0=a;var o=i-a<0;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}return o}},Hee={cartesian2d:function(e,t,n,r,i,a,o,s,l){var u=new si({shape:Ct({},r),z2:1});if(u.__dataIndex=n,u.name="item",a){var c=u.shape,f=i?"height":"width";c[f]=0}return u},polar:function(e,t,n,r,i,a,o,s,l){var u=!i&&l?lO:Nl,c=new u({shape:r,z2:1});c.name="item";var f=Kxe(i);if(c.calculateTextPosition=spt(f,{isRoundCap:u===lO}),a){var d=c.shape,h=i?"r":"endAngle",p={};d[h]=i?r.r0:r.startAngle,p[h]=r[h],(s?Si:Ca)(c,{shape:p},a)}return c}};function fpt(e,t){var n=e.get("realtimeSort",!0),r=t.getBaseAxis();if(n&&r.type==="category"&&t.type==="cartesian2d")return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}function Wee(e,t,n,r,i,a,o,s){var l,u;a?(u={x:r.x,width:r.width},l={y:r.y,height:r.height}):(u={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(o?Si:Ca)(n,{shape:l},t,i,null);var c=t?e.baseAxis.model:null;(o?Si:Ca)(n,{shape:u},c,i)}function Gee(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var dpt=["x","y","width","height"],hpt=["cx","cy","r","startAngle","endAngle"],jee={cartesian2d:function(e){return!Gee(e,dpt)},polar:function(e){return!Gee(e,hpt)}},eI={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),i=n?vpt(n,r):0,a=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+o*i/2,width:r.width-a*i,height:r.height-o*i}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function ppt(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function Kxe(e){return function(t){var n=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+n;default:return r}}}(e)}function Yee(e,t,n,r,i,a,o,s){var l=t.getItemVisual(n,"style");if(s){if(!a.get("roundCap")){var c=e.shape,f=z0(r.getModel("itemStyle"),c,!0);Ct(c,f),e.setShape(c)}}else{var u=r.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var d=r.getShallow("cursor");d&&e.attr("cursor",d);var h=s?o?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":o?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=is(r);Ns(e,p,{labelFetcher:a,labelDataIndex:n,defaultText:Kb(a.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var v=e.getTextContent();if(s&&v){var g=r.get(["label","position"]);e.textConfig.inside=g==="middle"?!0:null,lpt(e,g==="outside"?h:g,Kxe(o),r.get(["label","rotate"]))}v1e(v,p,a.getRawValue(n),function(b){return Vxe(t,b)});var m=r.getModel(["emphasis"]);to(e,m.get("focus"),m.get("blurScope"),m.get("disabled")),Ls(e,r),ppt(i)&&(e.style.fill="none",e.style.stroke="none",te(e.states,function(b){b.style&&(b.style.fill=b.style.stroke="none")}))}function vpt(e,t){var n=e.get(["itemStyle","borderColor"]);if(!n||n==="none")return 0;var r=e.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,i,a)}var gpt=function(){function e(){}return e}(),Xee=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r.type="largeBar",r}return t.prototype.getDefaultShape=function(){return new gpt},t.prototype.buildPath=function(n,r){for(var i=r.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[o]=i[c+2],s[a]=i[c+a],s[o]=i[c+o],n.rect(s[0],s[1],l[0],l[1])},t}(Wr);function Kee(e,t,n,r){var i=e.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,o=i.getLayout("largeDataIndices"),s=i.getLayout("size"),l=e.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new Xee({shape:{points:u},incremental:!!r,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=o,c.barWidth=s,c.useStyle(l.getItemStyle()),t.add(c),n&&n.push(c)}var f=new Xee({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=s,t.add(f),f.useStyle(i.getVisual("style")),gr(f).seriesIndex=e.seriesIndex,e.get("silent")||(f.on("mousedown",qee),f.on("mousemove",qee)),n&&n.push(f)}var qee=FW(function(e){var t=this,n=mpt(t,e.offsetX,e.offsetY);gr(t).dataIndex=n>=0?n:null},30,!1);function mpt(e,t,n){for(var r=e.baseDimIdx,i=1-r,a=e.shape.points,o=e.largeDataIndices,s=[],l=[],u=e.barWidth,c=0,f=a.length/3;c<f;c++){var d=c*3;if(l[r]=u,l[i]=a[d+2],s[r]=a[d+r],s[i]=a[d+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return o[c]}return-1}function qxe(e,t,n){if(Hy(n,"cartesian2d")){var r=t,i=n.getArea();return{x:e?r.x:i.x,y:e?i.y:r.y,width:e?r.width:i.width,height:e?i.height:r.height}}else{var i=n.getArea(),a=t;return{cx:i.cx,cy:i.cy,r0:e?i.r0:a.r0,r:e?i.r:a.r,startAngle:e?a.startAngle:0,endAngle:e?a.endAngle:Math.PI*2}}}function ypt(e,t,n){var r=e.type==="polar"?Nl:si;return new r({shape:qxe(t,n,e),silent:!0,z2:0})}function _pt(e){e.registerChartView(cpt),e.registerSeriesModel(apt),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,Tr(txe,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,nxe("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Xxe("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,n){var r=t.componentType||"series";n.eachComponent({mainType:r,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var Zee=Math.PI*2,tI=Math.PI/180;function Zxe(e,t){return $o(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Qxe(e,t){var n=Zxe(e,t),r=e.get("center"),i=e.get("radius");Lt(i)||(i=[0,i]);var a=vn(n.width,t.getWidth()),o=vn(n.height,t.getHeight()),s=Math.min(a,o),l=vn(i[0],s/2),u=vn(i[1],s/2),c,f,d=e.coordinateSystem;if(d){var h=d.dataToPoint(r);c=h[0]||0,f=h[1]||0}else Lt(r)||(r=[r,r]),c=vn(r[0],a)+n.x,f=vn(r[1],o)+n.y;return{cx:c,cy:f,r0:l,r:u}}function bpt(e,t,n){t.eachSeriesByType(e,function(r){var i=r.getData(),a=i.mapDimension("value"),o=Zxe(r,n),s=Qxe(r,n),l=s.cx,u=s.cy,c=s.r,f=s.r0,d=-r.get("startAngle")*tI,h=r.get("endAngle"),p=r.get("padAngle")*tI;h=h==="auto"?d-Zee:-h*tI;var v=r.get("minAngle")*tI,g=v+p,m=0;i.each(a,function(F){!isNaN(F)&&m++});var b=i.getSum(a),_=Math.PI/(b||m)*2,x=r.get("clockwise"),E=r.get("roseType"),A=r.get("stillShowZeroSum"),T=i.getDataExtent(a);T[0]=0;var R=x?1:-1,M=[d,h],O=R*p/2;hW(M,!x),d=M[0],h=M[1];var D=Jxe(r);D.startAngle=d,D.endAngle=h,D.clockwise=x;var C=Math.abs(h-d),P=C,B=0,U=d;if(i.setLayout({viewRect:o,r:c}),i.each(a,function(F,N){var V;if(isNaN(F)){i.setItemLayout(N,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:l,cy:u,r0:f,r:E?NaN:c});return}E!=="area"?V=b===0&&A?_:F*_:V=C/m,V<g?(V=g,P-=g):B+=F;var W=U+R*V,G=0,K=0;p>V?(G=U+R*V/2,K=G):(G=U+O,K=W-O),i.setItemLayout(N,{angle:V,startAngle:G,endAngle:K,clockwise:x,cx:l,cy:u,r0:f,r:E?Wi(F,T,[f,c]):c}),U=W}),P<Zee&&m)if(P<=.001){var L=C/m;i.each(a,function(F,N){if(!isNaN(F)){var V=i.getItemLayout(N);V.angle=L;var W=0,G=0;L<p?(W=d+R*(N+1/2)*L,G=W):(W=d+R*N*L+O,G=d+R*(N+1)*L-O),V.startAngle=W,V.endAngle=G}})}else _=P/B,U=d,i.each(a,function(F,N){if(!isNaN(F)){var V=i.getItemLayout(N),W=V.angle===g?g:F*_,G=0,K=0;W<p?(G=U+R*W/2,K=G):(G=U+O,K=U+R*W-O),V.startAngle=G,V.endAngle=K,U+=R*W}})})}var Jxe=ui();function bw(e){return{seriesType:e,reset:function(t,n){var r=n.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=t.getData();i.filterSelf(function(a){for(var o=i.getName(a),s=0;s<r.length;s++)if(!r[s].isSelected(o))return!1;return!0})}}}}var xpt=Math.PI/180;function Qee(e,t,n,r,i,a,o,s,l,u){if(e.length<2)return;function c(v){for(var g=v.rB,m=g*g,b=0;b<v.list.length;b++){var _=v.list[b],x=Math.abs(_.label.y-n),E=r+_.len,A=E*E,T=Math.sqrt((1-Math.abs(x*x/m))*A),R=t+(T+_.len2)*i,M=R-_.label.x,O=_.targetTextWidth-M*i;eSe(_,O,!0),_.label.x=R}}function f(v){for(var g={list:[],maxY:0},m={list:[],maxY:0},b=0;b<v.length;b++)if(v[b].labelAlignTo==="none"){var _=v[b],x=_.label.y>n?m:g,E=Math.abs(_.label.y-n);if(E>=x.maxY){var A=_.label.x-t-_.len2*i,T=r+_.len,R=Math.abs(A)<T?Math.sqrt(E*E/(1-A*A/T/T)):T;x.rB=R,x.maxY=E}x.list.push(_)}c(g),c(m)}for(var d=e.length,h=0;h<d;h++)if(e[h].position==="outer"&&e[h].labelAlignTo==="labelLine"){var p=e[h].label.x-u;e[h].linePoints[1][0]+=p,e[h].label.x=u}Axe(e,l,l+o)&&f(e)}function Spt(e,t,n,r,i,a,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<e.length;d++){var h=e[d].label;BB(e[d])||(h.x<t?(c=Math.min(c,h.x),l.push(e[d])):(f=Math.max(f,h.x),u.push(e[d])))}for(var d=0;d<e.length;d++){var p=e[d];if(!BB(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var h=p.label,v=p.linePoints,g=void 0;p.labelAlignTo==="edge"?h.x<t?g=v[2][0]-p.labelDistance-o-p.edgeDistance:g=o+i-p.edgeDistance-v[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?h.x<t?g=c-o-p.bleedMargin:g=o+i-f-p.bleedMargin:h.x<t?g=h.x-o-p.bleedMargin:g=o+i-h.x-p.bleedMargin,p.targetTextWidth=g,eSe(p,g)}}Qee(u,t,n,r,1,i,a,o,s,f),Qee(l,t,n,r,-1,i,a,o,s,c);for(var d=0;d<e.length;d++){var p=e[d];if(!BB(p)&&p.linePoints){var h=p.label,v=p.linePoints,m=p.labelAlignTo==="edge",b=h.style.padding,_=b?b[1]+b[3]:0,x=h.style.backgroundColor?0:_,E=p.rect.width+x,A=v[1][0]-v[2][0];m?h.x<t?v[2][0]=o+p.edgeDistance+E+p.labelDistance:v[2][0]=o+i-p.edgeDistance-E-p.labelDistance:(h.x<t?v[2][0]=h.x+p.labelDistance:v[2][0]=h.x-p.labelDistance,v[1][0]=v[2][0]+A),v[1][1]=v[2][1]=h.y}}}function eSe(e,t,n){if(n===void 0&&(n=!1),e.labelStyleWidth==null){var r=e.label,i=r.style,a=e.rect,o=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,u=i.overflow,c=a.width+(o?0:l);if(t<c||n){var f=a.height;if(u&&u.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-l);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",o)}else{var h=t-l,p=t<c?h:n?h>e.unconstrainedWidth?null:h:null;r.setStyle("width",p)}var v=r.getBoundingRect();a.width=v.width;var g=(r.style.margin||0)+2.1;a.height=v.height+g,a.y-=(a.height-f)/2}}}function BB(e){return e.position==="center"}function Apt(e){var t=e.getData(),n=[],r,i,a=!1,o=(e.get("minShowLabelAngle")||0)*xpt,s=t.getLayout("viewRect"),l=t.getLayout("r"),u=s.width,c=s.x,f=s.y,d=s.height;function h(A){A.ignore=!0}function p(A){if(!A.ignore)return!0;for(var T in A.states)if(A.states[T].ignore===!1)return!0;return!1}t.each(function(A){var T=t.getItemGraphicEl(A),R=T.shape,M=T.getTextContent(),O=T.getTextGuideLine(),D=t.getItemModel(A),C=D.getModel("label"),P=C.get("position")||D.get(["emphasis","label","position"]),B=C.get("distanceToLabelLine"),U=C.get("alignTo"),L=vn(C.get("edgeDistance"),u),F=C.get("bleedMargin"),N=D.getModel("labelLine"),V=N.get("length");V=vn(V,u);var W=N.get("length2");if(W=vn(W,u),Math.abs(R.endAngle-R.startAngle)<o){te(M.states,h),M.ignore=!0,O&&(te(O.states,h),O.ignore=!0);return}if(p(M)){var G=(R.startAngle+R.endAngle)/2,K=Math.cos(G),q=Math.sin(G),ue,he,Ce,ee;r=R.cx,i=R.cy;var de=P==="inside"||P==="inner";if(P==="center")ue=R.cx,he=R.cy,ee="center";else{var oe=(de?(R.r+R.r0)/2*K:R.r*K)+r,pe=(de?(R.r+R.r0)/2*q:R.r*q)+i;if(ue=oe+K*3,he=pe+q*3,!de){var me=oe+K*(V+l-R.r),re=pe+q*(V+l-R.r),ne=me+(K<0?-1:1)*W,se=re;U==="edge"?ue=K<0?c+L:c+u-L:ue=ne+(K<0?-B:B),he=se,Ce=[[oe,pe],[me,re],[ne,se]]}ee=de?"center":U==="edge"?K>0?"right":"left":K>0?"left":"right"}var be=Math.PI,Pe=0,Ee=C.get("rotate");if(yi(Ee))Pe=Ee*(be/180);else if(P==="center")Pe=0;else if(Ee==="radial"||Ee===!0){var Le=K<0?-G+be:-G;Pe=Le}else if(Ee==="tangential"&&P!=="outside"&&P!=="outer"){var He=Math.atan2(K,q);He<0&&(He=be*2+He);var rt=q>0;rt&&(He=be+He),Pe=He-be}if(a=!!Pe,M.x=ue,M.y=he,M.rotation=Pe,M.setStyle({verticalAlign:"middle"}),de){M.setStyle({align:ee});var ae=M.states.select;ae&&(ae.x+=M.x,ae.y+=M.y)}else{var Je=M.getBoundingRect().clone();Je.applyTransform(M.getComputedTransform());var ot=(M.style.margin||0)+2.1;Je.y-=ot/2,Je.height+=ot,n.push({label:M,labelLine:O,position:P,len:V,len2:W,minTurnAngle:N.get("minTurnAngle"),maxSurfaceAngle:N.get("maxSurfaceAngle"),surfaceNormal:new Rr(K,q),linePoints:Ce,textAlign:ee,labelDistance:B,labelAlignTo:U,edgeDistance:L,bleedMargin:F,rect:Je,unconstrainedWidth:Je.width,labelStyleWidth:M.style.width})}T.setTextConfig({inside:de})}}),!a&&e.get("avoidLabelOverlap")&&Spt(n,r,i,l,u,d,c,f);for(var v=0;v<n.length;v++){var g=n[v],m=g.label,b=g.labelLine,_=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:g.textAlign}),_&&(te(m.states,h),m.ignore=!0);var x=m.states.select;x&&(x.x+=m.x,x.y+=m.y)}if(b){var E=g.linePoints;_||!E?(te(b.states,h),b.ignore=!0):(bxe(E,g.minTurnAngle),jdt(E,g.surfaceNormal,g.maxSurfaceAngle),b.setShape({points:E}),m.__hostTarget.textGuideLineConfig={anchor:new Rr(E[0][0],E[0][1])})}}}var Ept=function(e){et(t,e);function t(n,r,i){var a=e.call(this)||this;a.z2=2;var o=new pi;return a.setTextContent(o),a.updateData(n,r,i,!0),a}return t.prototype.updateData=function(n,r,i,a){var o=this,s=n.hostModel,l=n.getItemModel(r),u=l.getModel("emphasis"),c=n.getItemLayout(r),f=Ct(z0(l.getModel("itemStyle"),c,!0),c);if(isNaN(f.startAngle)){o.setShape(f);return}if(a){o.setShape(f);var d=s.getShallow("animationType");s.ecModel.ssr?(Ca(o,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),o.originX=f.cx,o.originY=f.cy):d==="scale"?(o.shape.r=c.r0,Ca(o,{shape:{r:c.r}},s,r)):i!=null?(o.setShape({startAngle:i,endAngle:i}),Ca(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,r)):(o.shape.endAngle=c.startAngle,Si(o,{shape:{endAngle:c.endAngle}},s,r))}else Jf(o),Si(o,{shape:f},s,r);o.useStyle(n.getItemVisual(r,"style")),Ls(o,l);var h=(c.startAngle+c.endAngle)/2,p=s.get("selectedOffset"),v=Math.cos(h)*p,g=Math.sin(h)*p,m=l.getShallow("cursor");m&&o.attr("cursor",m),this._updateLabel(s,n,r),o.ensureState("emphasis").shape=Ct({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},z0(u.getModel("itemStyle"),c)),Ct(o.ensureState("select"),{x:v,y:g,shape:z0(l.getModel(["select","itemStyle"]),c)}),Ct(o.ensureState("blur"),{shape:z0(l.getModel(["blur","itemStyle"]),c)});var b=o.getTextGuideLine(),_=o.getTextContent();b&&Ct(b.ensureState("select"),{x:v,y:g}),Ct(_.ensureState("select"),{x:v,y:g}),to(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(n,r,i){var a=this,o=r.getItemModel(i),s=o.getModel("labelLine"),l=r.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;Ns(a,is(o),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:n.getFormattedLabel(i,"normal")||r.getName(i)});var f=a.getTextContent();a.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=n.get(["label","position"]);if(d!=="outside"&&d!=="outer")a.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new kl,this.setTextGuideLine(h)),QW(this,JW(o),{stroke:u,opacity:Xd(s.get(["lineStyle","opacity"]),c,1)})}},t}(Nl),Tpt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,r,i,a){var o=n.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),f=1;isNaN(c&&c.startAngle)&&f<o.count();++f)c=o.getItemLayout(f);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&n.get("showEmptyCircle")){var d=Jxe(n),h=new Nl({shape:Ct(Qxe(n,i),d)});h.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=h,l.add(h)}o.diff(s).add(function(p){var v=new Ept(o,p,u);o.setItemGraphicEl(p,v),l.add(v)}).update(function(p,v){var g=s.getItemGraphicEl(v);g.updateData(o,p,u),g.off("click"),l.add(g),o.setItemGraphicEl(p,g)}).remove(function(p){var v=s.getItemGraphicEl(p);tT(v,n,p)}).execute(),Apt(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(n,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var o=n[0]-a.cx,s=n[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},t.type="pie",t}(ta);function Gx(e,t,n){t=Lt(t)&&{coordDimensions:t}||Ct({encodeDefine:e.getEncode()},t);var r=e.getSource(),i=pw(r,t).dimensions,a=new Rl(i,e);return a.initData(r,n),a}var xw=function(){function e(t,n){this._getDataWithEncodedVisual=t,this._getRawData=n}return e.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},e.prototype.containName=function(t){var n=this._getRawData();return n.indexOfName(t)>=0},e.prototype.indexOfName=function(t){var n=this._getDataWithEncodedVisual();return n.indexOfName(t)},e.prototype.getItemVisual=function(t,n){var r=this._getDataWithEncodedVisual();return r.getItemVisual(t,n)},e}(),wpt=ui(),Cpt=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new xw(Rn(this.getData,this),Rn(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Gx(this,{coordDimensions:["value"],encodeDefaulter:Tr(MW,this)})},t.prototype.getDataParams=function(n){var r=this.getData(),i=wpt(r),a=i.seats;if(!a){var o=[];r.each(r.mapDimension("value"),function(l){o.push(l)}),a=i.seats=yot(o,r.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,n);return s.percent=a[n]||0,s.$vars.push("percent"),s},t.prototype._defaultLabelLine=function(n){gy(n,"labelLine",["show"]);var r=n.labelLine,i=n.emphasis.labelLine;r.show=r.show&&n.label.show,i.show=i.show&&n.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(va);function Rpt(e){return{seriesType:e,reset:function(t,n){var r=t.getData();r.filterSelf(function(i){var a=r.mapDimension("value"),o=r.get(a,i);return!(yi(o)&&!isNaN(o)&&o<0)})}}}function Ipt(e){e.registerChartView(Tpt),e.registerSeriesModel(Cpt),xbe("pie",e.registerAction),e.registerLayout(Tr(bpt,"pie")),e.registerProcessor(bw("pie")),e.registerProcessor(Rpt("pie"))}var Mpt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,r){return Gp(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(n,r,i){return i.point(r.getItemLayout(n))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(va),tSe=4,Opt=function(){function e(){}return e}(),Dpt=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.getDefaultShape=function(){return new Opt},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(n,r){var i=r.points,a=r.size,o=this.symbolProxy,s=o.shape,l=n.getContext?n.getContext():n,u=l&&a[0]<tSe,c=this.softClipShape,f;if(u){this._ctx=l;return}for(this._ctx=null,f=this._off;f<i.length;){var d=i[f++],h=i[f++];isNaN(d)||isNaN(h)||c&&!c.contain(d,h)||(s.x=d-a[0]/2,s.y=h-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(n,s,!0))}this.incremental&&(this._off=f,this.notClear=!0)},t.prototype.afterBrush=function(){var n=this.shape,r=n.points,i=n.size,a=this._ctx,o=this.softClipShape,s;if(a){for(s=this._off;s<r.length;){var l=r[s++],u=r[s++];isNaN(l)||isNaN(u)||o&&!o.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=s,this.notClear=!0)}},t.prototype.findDataIndex=function(n,r){for(var i=this.shape,a=i.points,o=i.size,s=Math.max(o[0],4),l=Math.max(o[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,f=a[c]-s/2,d=a[c+1]-l/2;if(n>=f&&r>=d&&n<=f+s&&r<=d+l)return u}return-1},t.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();if(n=i[0],r=i[1],a.contain(n,r)){var o=this.hoverDataIdx=this.findDataIndex(n,r);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,i=r.points,a=r.size,o=a[0],s=a[1],l=1/0,u=1/0,c=-1/0,f=-1/0,d=0;d<i.length;){var h=i[d++],p=i[d++];l=Math.min(h,l),c=Math.max(h,c),u=Math.min(p,u),f=Math.max(p,f)}n=this._rect=new Mr(l-o/2,u-s/2,c-l+o,f-u+s)}return n},t}(Wr),Ppt=function(){function e(){this.group=new hr}return e.prototype.updateData=function(t,n){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,n)},e.prototype.updateLayout=function(t){var n=t.getLayout("points");this.group.eachChild(function(r){if(r.startIndex!=null){var i=(r.endIndex-r.startIndex)*2,a=r.startIndex*4*2;n=new Float32Array(n.buffer,a,i)}r.setShape("points",n),r.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,n,r){var i=this._newAdded[0],a=n.getLayout("points"),o=i&&i.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+a.length);l.set(o),l.set(a,s),i.endIndex=t.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,n,r)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new Dpt({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,n,r){var i=n.hostModel;r=r||{};var a=n.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=r.clipShape||null,t.symbolProxy=Io(n.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var o=t.shape.size[0]<tSe;t.useStyle(i.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=n.getVisual("style"),l=s&&s.fill;l&&t.setColor(l);var u=gr(t);u.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var f=t.hoverDataIdx;f>=0&&(u.dataIndex=f+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),Lpt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var a=n.getData(),o=this._updateSymbolDraw(a,n);o.updateData(a,{clipShape:this._getClipShape(n)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(n,r,i){var a=n.getData(),o=this._updateSymbolDraw(a,n);o.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(n,r,i){this._symbolDraw.incrementalUpdate(n,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=n.end===r.getData().count()},t.prototype.updateTransform=function(n,r,i){var a=n.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=_w("").reset(n,r,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(n){this._symbolDraw&&this._symbolDraw.eachRendered(n)},t.prototype._getClipShape=function(n){if(n.get("clip",!0)){var r=n.coordinateSystem;return r&&r.getArea&&r.getArea(.1)}},t.prototype._updateSymbolDraw=function(n,r){var i=this._symbolDraw,a=r.pipelineContext,o=a.large;return(!i||o!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=o?new Ppt:new mw,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(ta),Npt=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Qr),o9=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",wo).models[0]},t.type="cartesian2dAxis",t}(Qr);Mo(o9,vw);var nSe={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Bpt=wr({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},nSe),oG=wr({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},nSe),kpt=wr({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},oG),Fpt=tr({logBase:10},oG);const rSe={category:Bpt,value:oG,time:kpt,log:Fpt};var Upt={value:1,category:1,time:1,log:1};function qb(e,t,n,r){te(Upt,function(i,a){var o=wr(wr({},rSe[a],!0),r,!0),s=function(l){et(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,f){var d=rT(this),h=d?Ux(c):{},p=f.getTheme();wr(c,p.get(a+"Axis")),wr(c,this.getDefaultOption()),c.type=Jee(c),d&&$g(c,h,d)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=JV.createByAxisModel(this))},u.prototype.getCategories=function(c){var f=this.option;if(f.type==="category")return c?f.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+a,u.defaultOption=o,u}(n);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(t+"Axis",Jee)}function Jee(e){return e.type||(e.data?"category":"value")}var Vpt=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return Vt(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),Xi(this.getAxes(),function(n){return n.scale.type===t})},e.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},e}(),s9=["x","y"];function ete(e){return e.type==="interval"||e.type==="time"}var zpt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=s9,n}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var n=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!ete(n)||!ete(r))){var i=n.getExtent(),a=r.getExtent(),o=this.dataToPoint([i[0],a[0]]),s=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,f=(s[1]-o[1])/u,d=o[0]-i[0]*c,h=o[1]-a[0]*f,p=this._transform=[c,0,0,f,d,h];this._invTransform=Ox([],p)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(n){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},t.prototype.containData=function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},t.prototype.containZone=function(n,r){var i=this.dataToPoint(n),a=this.dataToPoint(r),o=this.getArea(),s=new Mr(i[0],i[1],a[0]-i[0],a[1]-i[1]);return o.intersect(s)},t.prototype.dataToPoint=function(n,r,i){i=i||[];var a=n[0],o=n[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return Ds(i,n,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return i[0]=s.toGlobalCoord(s.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(o,r)),i},t.prototype.clampData=function(n,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,o=i.getExtent(),s=a.getExtent(),l=i.parse(n[0]),u=a.parse(n[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),r[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),r},t.prototype.pointToData=function(n,r){var i=[];if(this._invTransform)return Ds(i,n,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(n[0]),r),i[1]=o.coordToData(o.toLocalCoord(n[1]),r),i},t.prototype.getOtherAxis=function(n){return this.getAxis(n.dim==="x"?"y":"x")},t.prototype.getArea=function(n){n=n||0;var r=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(r[0],r[1])-n,o=Math.min(i[0],i[1])-n,s=Math.max(r[0],r[1])-a+n,l=Math.max(i[0],i[1])-o+n;return new Mr(a,o,s,l)},t}(Vpt),$pt=function(e){et(t,e);function t(n,r,i,a,o){var s=e.call(this,n,r,i)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.getGlobalExtent=function(n){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),n&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(n,r){return this.coordToData(this.toLocalCoord(n[this.dim==="x"?0:1]),r)},t.prototype.setCategorySortInfo=function(n){if(this.type!=="category")return!1;this.model.option.categorySortInfo=n,this.scale.setSortInfo(n)},t}(id);function l9(e,t,n){n=n||{};var r=e.coordinateSystem,i=t.axis,a={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,u=i.dim,c=r.getRect(),f=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},h=t.get("offset")||0,p=u==="x"?[f[2]-h,f[3]+h]:[f[0]-h,f[1]+h];if(o){var v=o.toGlobalCoord(o.dataToCoord(0));p[d.onZero]=Math.max(Math.min(v,p[1]),p[0])}a.position=[u==="y"?p[d[l]]:f[0],u==="x"?p[d[l]]:f[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var g={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=g[s],a.labelOffset=o?p[d[s]]-p[d.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),hs(n.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var m=t.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-m:m,a.z2=1,a}function tte(e){return e.get("coordinateSystem")==="cartesian2d"}function nte(e){var t={xAxisModel:null,yAxisModel:null};return te(t,function(n,r){var i=r.replace(/Model$/,""),a=e.getReferringComponents(i,wo).models[0];t[r]=a}),t}var kB=Math.log;function iSe(e,t,n){var r=Pp.prototype,i=r.getTicks.call(n),a=r.getTicks.call(n,!0),o=i.length-1,s=r.getInterval.call(n),l=sxe(e,t),u=l.extent,c=l.fixMin,f=l.fixMax;if(e.type==="log"){var d=kB(e.base);u=[kB(u[0])/d,kB(u[1])/d]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:f});var h=r.getExtent.call(e);c&&(u[0]=h[0]),f&&(u[1]=h[1]);var p=r.getInterval.call(e),v=u[0],g=u[1];if(c&&f)p=(g-v)/o;else if(c)for(g=u[0]+p*o;g<u[1]&&isFinite(g)&&isFinite(u[1]);)p=SB(p),g=u[0]+p*o;else if(f)for(v=u[1]-p*o;v>u[0]&&isFinite(v)&&isFinite(u[0]);)p=SB(p),v=u[1]-p*o;else{var m=e.getTicks().length-1;m>o&&(p=SB(p));var b=p*o;g=Math.ceil(u[1]/p)*p,v=ao(g-b),v<0&&u[0]>=0?(v=0,g=ao(b)):g>0&&u[1]<=0&&(g=0,v=-ao(b))}var _=(i[0].value-a[0].value)/s,x=(i[o].value-a[o].value)/s;r.setExtent.call(e,v+p*_,g+p*x),r.setInterval.call(e,p),(_||x)&&r.setNiceExtent.call(e,v+p,g-p)}var Hpt=function(){function e(t,n,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=s9,this._initCartesian(t,n,r),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,n){var r=this._axesMap;this._updateScale(t,this.model);function i(o){var s,l=Jr(o),u=l.length;if(u){for(var c=[],f=u-1;f>=0;f--){var d=+l[f],h=o[d],p=h.model,v=h.scale;e9(v)&&p.get("alignTicks")&&p.get("interval")==null?c.push(h):(Xb(v,p),e9(v)&&(s=h))}c.length&&(s||(s=c.pop(),Xb(s.scale,s.model)),te(c,function(g){iSe(g.scale,g.model,s.scale)}))}}i(r.x),i(r.y);var a={};te(r.x,function(o){rte(r,"y",o,a)}),te(r.y,function(o){rte(r,"x",o,a)}),this.resize(this.model,n)},e.prototype.resize=function(t,n,r){var i=t.getBoxLayoutParams(),a=!r&&t.get("containLabel"),o=$o(i,{width:n.getWidth(),height:n.getHeight()});this._rect=o;var s=this._axesList;l(),a&&(te(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=Adt(u);if(c){var f=u.isHorizontal()?"height":"width",d=u.model.get(["axisLabel","margin"]);o[f]-=c[f]+d,u.position==="top"?o.y+=c.height+d:u.position==="left"&&(o.x+=c.width+d)}}}),l()),te(this._coordsList,function(u){u.calcAffineTransform()});function l(){te(s,function(u){var c=u.isHorizontal(),f=c?[0,o.width]:[0,o.height],d=u.inverse?1:0;u.setExtent(f[d],f[1-d]),Wpt(u,c?o.x:o.y)})}},e.prototype.getAxis=function(t,n){var r=this._axesMap[t];if(r!=null)return r[n||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var r="x"+t+"y"+n;return this._coordsMap[r]}ar(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===n)return a[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},e.prototype.convertFromPixel=function(t,n,r){var i=this._findConvertTarget(n);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},e.prototype._findConvertTarget=function(t){var n=t.seriesModel,r=t.xAxisModel||n&&n.getReferringComponents("xAxis",wo).models[0],i=t.yAxisModel||n&&n.getReferringComponents("yAxis",wo).models[0],a=t.gridModel,o=this._coordsList,s,l;if(n)s=n.coordinateSystem,Ur(o,s)<0&&(s=null);else if(r&&i)s=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},e.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},e.prototype._initCartesian=function(t,n,r){var i=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(n.eachComponent("xAxis",u("x"),this),n.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,te(s.x,function(c,f){te(s.y,function(d,h){var p="x"+f+"y"+h,v=new zpt(p);v.master=i,v.model=t,i._coordsMap[p]=v,i._coordsList.push(v),v.addAxis(c),v.addAxis(d)})});function u(c){return function(f,d){if(FB(f,t)){var h=f.get("position");c==="x"?h!=="top"&&h!=="bottom"&&(h=o.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=o.left?"right":"left"),o[h]=!0;var p=new $pt(c,kP(f),[0,0],f.get("type"),h),v=p.type==="category";p.onBand=v&&f.get("boundaryGap"),p.inverse=f.get("inverse"),f.axis=p,p.model=f,p.grid=a,p.index=d,a._axesList.push(p),s[c][d]=p,l[c]++}}}},e.prototype._updateScale=function(t,n){te(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(tte(i)){var a=nte(i),o=a.xAxisModel,s=a.yAxisModel;if(!FB(o,n)||!FB(s,n))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=i.getData(),c=l.getAxis("x"),f=l.getAxis("y");r(u,c),r(u,f)}},this);function r(i,a){te(iO(i,a.dim),function(o){a.scale.unionExtentFromData(i,o)})}},e.prototype.getTooltipAxes=function(t){var n=[],r=[];return te(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(a);Ur(n,a)<0&&n.push(a),Ur(r,o)<0&&r.push(o)}),{baseAxes:n,otherAxes:r}},e.create=function(t,n){var r=[];return t.eachComponent("grid",function(i,a){var o=new e(i,t,n);o.name="grid_"+a,o.resize(i,n,!0),i.coordinateSystem=o,r.push(o)}),t.eachSeries(function(i){if(tte(i)){var a=nte(i),o=a.xAxisModel,s=a.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),r},e.dimensions=s9,e}();function FB(e,t){return e.getCoordSysModel()===t}function rte(e,t,n,r){n.getAxesOnZeroOf=function(){return a?[a]:[]};var i=e[t],a,o=n.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)ite(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&ite(i[u])&&!r[c(i[u])]){a=i[u];break}a&&(r[c(a)]=!0);function c(f){return f.dim+"_"+f.index}}function ite(e){return e&&e.type!=="category"&&e.type!=="time"&&Sdt(e)}function Wpt(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return r-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return r-i+t}}var fg=Math.PI,Il=function(){function e(t,n){this.group=new hr,this.opt=n,this.axisModel=t,tr(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new hr({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return e.prototype.hasBuilder=function(t){return!!ate[t]},e.prototype.add=function(t){ate[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,n,r){var i=S_e(n-t),a,o;return Z2(i)?(o=r>0?"top":"bottom",a="center"):Z2(i-fg)?(o=r>0?"bottom":"top",a="center"):(o="middle",i>0&&i<fg?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:o}},e.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},e.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},e}(),ate={axisLine:function(e,t,n,r){var i=t.get(["axisLine","show"]);if(i==="auto"&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),!!i){var a=t.axis.getExtent(),o=r.transform,s=[a[0],0],l=[a[1],0],u=s[0]>l[0];o&&(Ds(s,s,o),Ds(l,l,o));var c=Ct({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new qo({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Gb(f.shape,f.style.lineWidth),f.anid="line",n.add(f);var d=t.get(["axisLine","symbol"]);if(d!=null){var h=t.get(["axisLine","symbolSize"]);An(d)&&(d=[d,d]),(An(h)||yi(h))&&(h=[h,h]);var p=zy(t.get(["axisLine","symbolOffset"])||0,h),v=h[0],g=h[1];te([{rotate:e.rotation+Math.PI/2,offset:p[0],r:0},{rotate:e.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(m,b){if(d[b]!=="none"&&d[b]!=null){var _=Io(d[b],-v/2,-g/2,v,g,c.stroke,!0),x=m.r+m.offset,E=u?l:s;_.attr({rotation:m.rotate,x:E[0]+x*Math.cos(e.rotation),y:E[1]-x*Math.sin(e.rotation),silent:!0,z2:11}),n.add(_)}})}}},axisTickLabel:function(e,t,n,r){var i=Ypt(n,r,t,e),a=Kpt(n,r,t,e);if(jpt(t,a,i),Xpt(n,r,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var o=xxe(Vt(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));Exe(o)}},axisName:function(e,t,n,r){var i=hs(e.axisName,t.get("name"));if(i){var a=t.get("nameLocation"),o=e.nameDirection,s=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),c=u[0]>u[1]?-1:1,f=[a==="start"?u[0]-c*l:a==="end"?u[1]+c*l:(u[0]+u[1])/2,ste(a)?e.labelOffset+o*l:0],d,h=t.get("nameRotate");h!=null&&(h=h*fg/180);var p;ste(a)?d=Il.innerTextLayout(e.rotation,h??e.rotation,o):(d=Gpt(e.rotation,a,h||0,u),p=e.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(d.rotation)),!isFinite(p)&&(p=null)));var v=s.getFont(),g=t.get("nameTruncate",!0)||{},m=g.ellipsis,b=hs(e.nameTruncateMaxWidth,g.maxWidth,p),_=new pi({x:f[0],y:f[1],rotation:d.rotation,silent:Il.isLabelSilent(t),style:ha(s,{text:i,font:v,overflow:"truncate",width:b,ellipsis:m,fill:s.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:s.get("align")||d.textAlign,verticalAlign:s.get("verticalAlign")||d.textVerticalAlign}),z2:1});if(Nx({el:_,componentModel:t,itemName:i}),_.__fullText=i,_.anid="name",t.get("triggerEvent")){var x=Il.makeAxisEventDataBase(t);x.targetType="axisName",x.name=i,gr(_).eventData=x}r.add(_),_.updateTransform(),n.add(_),_.decomposeTransform()}}};function Gpt(e,t,n,r){var i=S_e(n-e),a,o,s=r[0]>r[1],l=t==="start"&&!s||t!=="start"&&s;return Z2(i-fg/2)?(o=l?"bottom":"top",a="center"):Z2(i-fg*1.5)?(o=l?"top":"bottom",a="center"):(o="middle",i<fg*1.5&&i>fg/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:o}}function jpt(e,t,n){if(!lxe(e.axis)){var r=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);t=t||[],n=n||[];var a=t[0],o=t[1],s=t[t.length-1],l=t[t.length-2],u=n[0],c=n[1],f=n[n.length-1],d=n[n.length-2];r===!1?(oc(a),oc(u)):ote(a,o)&&(r?(oc(o),oc(c)):(oc(a),oc(u))),i===!1?(oc(s),oc(f)):ote(l,s)&&(i?(oc(l),oc(d)):(oc(s),oc(f)))}}function oc(e){e&&(e.ignore=!0)}function ote(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(!(!n||!r)){var i=lP([]);return Uy(i,i,-e.rotation),n.applyTransform(mp([],i,e.getLocalTransform())),r.applyTransform(mp([],i,t.getLocalTransform())),n.intersect(r)}}function ste(e){return e==="middle"||e==="center"}function aSe(e,t,n,r,i){for(var a=[],o=[],s=[],l=0;l<e.length;l++){var u=e[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=n,t&&(Ds(o,o,t),Ds(s,s,t));var c=new qo({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});Gb(c.shape,c.style.lineWidth),c.anid=i+"_"+e[l].tickValue,a.push(c)}return a}function Ypt(e,t,n,r){var i=n.axis,a=n.getModel("axisTick"),o=a.get("show");if(o==="auto"&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick")),!(!o||i.scale.isBlank())){for(var s=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),u=i.getTicksCoords(),c=aSe(u,t.transform,l,tr(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<c.length;f++)e.add(c[f]);return c}}function Xpt(e,t,n,r){var i=n.axis,a=n.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var o=i.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),l=r*a.get("length"),u=tr(s.getLineStyle(),tr(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var f=aSe(o[c],t.transform,l,u,"minorticks_"+c),d=0;d<f.length;d++)e.add(f[d])}}function Kpt(e,t,n,r){var i=n.axis,a=hs(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var o=n.getModel("axisLabel"),s=o.get("margin"),l=i.getViewLabels(),u=(hs(r.labelRotate,o.get("rotate"))||0)*fg/180,c=Il.innerTextLayout(r.rotation,u,r.labelDirection),f=n.getCategories&&n.getCategories(!0),d=[],h=Il.isLabelSilent(n),p=n.get("triggerEvent");return te(l,function(v,g){var m=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(v.tickValue):v.tickValue,b=v.formattedLabel,_=v.rawLabel,x=o;if(f&&f[m]){var E=f[m];ar(E)&&E.textStyle&&(x=new zi(E.textStyle,o,n.ecModel))}var A=x.getTextColor()||n.get(["axisLine","lineStyle","color"]),T=i.dataToCoord(m),R=x.getShallow("align",!0)||c.textAlign,M=Sr(x.getShallow("alignMinLabel",!0),R),O=Sr(x.getShallow("alignMaxLabel",!0),R),D=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,C=Sr(x.getShallow("verticalAlignMinLabel",!0),D),P=Sr(x.getShallow("verticalAlignMaxLabel",!0),D),B=new pi({x:T,y:r.labelOffset+r.labelDirection*s,rotation:c.rotation,silent:h,z2:10+(v.level||0),style:ha(x,{text:b,align:g===0?M:g===l.length-1?O:R,verticalAlign:g===0?C:g===l.length-1?P:D,fill:er(A)?A(i.type==="category"?_:i.type==="value"?m+"":m,g):A})});if(B.anid="label_"+m,p){var U=Il.makeAxisEventDataBase(n);U.targetType="axisLabel",U.value=_,U.tickIndex=g,i.type==="category"&&(U.dataIndex=m),gr(B).eventData=U}t.add(B),B.updateTransform(),d.push(B),e.add(B),B.decomposeTransform()}),d}}function qpt(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Zpt(n,e,t),n.seriesInvolved&&Jpt(n,e),n}function Zpt(e,t,n){var r=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],o=[];te(n.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=dT(s.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var c=s.model,f=c.getModel("tooltip",r);if(te(s.getAxes(),Tr(v,!1,null)),s.getTooltipAxes&&r&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",p=s.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&te(p.baseAxes,Tr(v,h?"cross":!0,d)),h&&te(p.otherAxes,Tr(v,"cross",!1))}function v(g,m,b){var _=b.model.getModel("axisPointer",i),x=_.get("show");if(!(!x||x==="auto"&&!g&&!u9(_))){m==null&&(m=_.get("triggerTooltip")),_=g?Qpt(b,f,i,t,g,m):_;var E=_.get("snap"),A=_.get("triggerEmphasis"),T=dT(b.model),R=m||E||b.type==="category",M=e.axesInfo[T]={key:T,axis:b,coordSys:s,axisPointerModel:_,triggerTooltip:m,triggerEmphasis:A,involveSeries:R,snap:E,useHandle:u9(_),seriesModels:[],linkGroup:null};u[T]=M,e.seriesInvolved=e.seriesInvolved||R;var O=evt(a,b);if(O!=null){var D=o[O]||(o[O]={axesInfo:{}});D.axesInfo[T]=M,D.mapper=a[O].mapper,M.linkGroup=D}}}})}function Qpt(e,t,n,r,i,a){var o=t.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};te(s,function(d){l[d]=sr(o.get(d))}),l.snap=e.type!=="category"&&!!a,o.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=o.get(["label","show"]);if(u.show=c??!0,!a){var f=l.lineStyle=o.get("crossStyle");f&&tr(u,f.textStyle)}}return e.model.getModel("axisPointer",new zi(l,n,r))}function Jpt(e,t){t.eachSeries(function(n){var r=n.coordinateSystem,i=n.get(["tooltip","trigger"],!0),a=n.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||a===!1||n.get(["axisPointer","show"],!0)===!1||te(e.coordSysAxesInfo[dT(r.model)],function(o){var s=o.axis;r.getAxis(s.dim)===s&&(o.seriesModels.push(n),o.seriesDataCount==null&&(o.seriesDataCount=0),o.seriesDataCount+=n.getData().count())})})}function evt(e,t){for(var n=t.model,r=t.dim,i=0;i<e.length;i++){var a=e[i]||{};if(UB(a[r+"AxisId"],n.id)||UB(a[r+"AxisIndex"],n.componentIndex)||UB(a[r+"AxisName"],n.name))return i}}function UB(e,t){return e==="all"||Lt(e)&&Ur(e,t)>=0||e===t}function tvt(e){var t=sG(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,i=n.option,a=n.get("status"),o=n.get("value");o!=null&&(o=r.parse(o));var s=u9(n);a==null&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(o==null||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function sG(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[dT(e)]}function nvt(e){var t=sG(e);return t&&t.axisPointerModel}function u9(e){return!!e.get(["handle","show"])}function dT(e){return e.type+"||"+e.id}var lte={},Wy=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i,a){this.axisPointerClass&&tvt(n),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,i,!0)},t.prototype.updateAxisPointer=function(n,r,i,a){this._doUpdateAxisPointerClass(n,i,!1)},t.prototype.remove=function(n,r){var i=this._axisPointer;i&&i.remove(r)},t.prototype.dispose=function(n,r){this._disposeAxisPointer(r),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(n,r,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var o=nvt(n);o?(this._axisPointer||(this._axisPointer=new a)).render(n,o,r,i):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},t.registerAxisPointerClass=function(n,r){lte[n]=r},t.getAxisPointerClass=function(n){return n&&lte[n]},t.type="axis",t}(Ba),c9=ui();function oSe(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=r.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var c=s.length,f=c9(e).splitAreaColors,d=Fn(),h=0;if(f)for(var p=0;p<u.length;p++){var v=f.get(u[p].tickValue);if(v!=null){h=(v+(c-1)*p)%c;break}}var g=i.toGlobalCoord(u[0].coord),m=o.getAreaStyle();s=Lt(s)?s:[s];for(var p=1;p<u.length;p++){var b=i.toGlobalCoord(u[p].coord),_=void 0,x=void 0,E=void 0,A=void 0;i.isHorizontal()?(_=g,x=l.y,E=b-_,A=l.height,g=_+E):(_=l.x,x=g,E=l.width,A=b-x,g=x+A);var T=u[p-1].tickValue;T!=null&&d.set(T,h),t.add(new si({anid:T!=null?"area_"+T:null,shape:{x:_,y:x,width:E,height:A},style:tr({fill:s[h]},m),autoBatch:!0,silent:!0})),h=(h+1)%c}c9(e).splitAreaColors=d}}}function sSe(e){c9(e).splitAreaColors=null}var rvt=["axisLine","axisTickLabel","axisName"],ivt=["splitArea","splitLine","minorSplitLine"],lSe=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="CartesianAxisPointer",n}return t.prototype.render=function(n,r,i,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new hr,this.group.add(this._axisGroup),!!n.get("show")){var s=n.getCoordSysModel(),l=l9(s,n),u=new Il(n,Ct({handleAutoShown:function(f){for(var d=s.coordinateSystem.getCartesians(),h=0;h<d.length;h++)if(e9(d[h].getOtherAxis(n.axis).scale))return!0;return!1}},l));te(rvt,u.add,u),this._axisGroup.add(u.getGroup()),te(ivt,function(f){n.get([f,"show"])&&avt[f](this,this._axisGroup,n,s)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||cw(o,this._axisGroup,n),e.prototype.render.call(this,n,r,i,a)}},t.prototype.remove=function(){sSe(this)},t.type="cartesianAxis",t}(Wy),avt={splitLine:function(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=Lt(s)?s:[s];for(var l=r.coordinateSystem.getRect(),u=i.isHorizontal(),c=0,f=i.getTicksCoords({tickModel:a}),d=[],h=[],p=o.getLineStyle(),v=0;v<f.length;v++){var g=i.toGlobalCoord(f[v].coord);u?(d[0]=g,d[1]=l.y,h[0]=g,h[1]=l.y+l.height):(d[0]=l.x,d[1]=g,h[0]=l.x+l.width,h[1]=g);var m=c++%s.length,b=f[v].tickValue,_=new qo({anid:b!=null?"line_"+f[v].tickValue:null,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:tr({stroke:s[m]},p),silent:!0});Gb(_.shape,p.lineWidth),t.add(_)}}},minorSplitLine:function(e,t,n,r){var i=n.axis,a=n.getModel("minorSplitLine"),o=a.getModel("lineStyle"),s=r.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var c=[],f=[],d=o.getLineStyle(),h=0;h<u.length;h++)for(var p=0;p<u[h].length;p++){var v=i.toGlobalCoord(u[h][p].coord);l?(c[0]=v,c[1]=s.y,f[0]=v,f[1]=s.y+s.height):(c[0]=s.x,c[1]=v,f[0]=s.x+s.width,f[1]=v);var g=new qo({anid:"minor_line_"+u[h][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:d,silent:!0});Gb(g.shape,d.lineWidth),t.add(g)}},splitArea:function(e,t,n,r){oSe(e,t,n,r)}},uSe=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="xAxis",t}(lSe),ovt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=uSe.type,n}return t.type="yAxis",t}(lSe),svt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="grid",n}return t.prototype.render=function(n,r){this.group.removeAll(),n.get("show")&&this.group.add(new si({shape:n.coordinateSystem.getRect(),style:tr({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Ba),ute={offset:0};function cSe(e){e.registerComponentView(svt),e.registerComponentModel(Npt),e.registerCoordinateSystem("cartesian2d",Hpt),qb(e,"x",o9,ute),qb(e,"y",o9,ute),e.registerComponentView(uSe),e.registerComponentView(ovt),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function lvt(e){Vr(cSe),e.registerSeriesModel(Mpt),e.registerChartView(Lpt),e.registerLayout(_w("scatter"))}function uvt(e){e.eachSeriesByType("radar",function(t){var n=t.getData(),r=[],i=t.coordinateSystem;if(i){var a=i.getIndicatorAxes();te(a,function(o,s){n.each(n.mapDimension(a[s].dim),function(l,u){r[u]=r[u]||[];var c=i.dataToPoint(l,s);r[u][s]=cte(c)?c:fte(i)})}),n.each(function(o){var s=Kit(r[o],function(l){return cte(l)})||fte(i);r[o].push(s.slice()),n.setItemLayout(o,r[o])})}})}function cte(e){return!isNaN(e[0])&&!isNaN(e[1])}function fte(e){return[e.cx,e.cy]}function cvt(e){var t=e.polar;if(t){Lt(t)||(t=[t]);var n=[];te(t,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),e.radar=e.radar||[],Lt(e.radar)||(e.radar=[e.radar]),e.radar.push(r)):n.push(r)}),e.polar=n}te(e.series,function(r){r&&r.type==="radar"&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var fvt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var a=n.coordinateSystem,o=this.group,s=n.getData(),l=this._data;function u(d,h){var p=d.getItemVisual(h,"symbol")||"circle";if(p!=="none"){var v=Hx(d.getItemVisual(h,"symbolSize")),g=Io(p,-1,-1,2,2),m=d.getItemVisual(h,"symbolRotate")||0;return g.attr({style:{strokeNoScale:!0},z2:100,scaleX:v[0]/2,scaleY:v[1]/2,rotation:m*Math.PI/180||0}),g}}function c(d,h,p,v,g,m){p.removeAll();for(var b=0;b<h.length-1;b++){var _=u(v,g);_&&(_.__dimIdx=b,d[b]?(_.setPosition(d[b]),Vy[m?"initProps":"updateProps"](_,{x:h[b][0],y:h[b][1]},n,g)):_.setPosition(h[b]),p.add(_))}}function f(d){return Vt(d,function(h){return[a.cx,a.cy]})}s.diff(l).add(function(d){var h=s.getItemLayout(d);if(h){var p=new Bl,v=new kl,g={shape:{points:h}};p.shape.points=f(h),v.shape.points=f(h),Ca(p,g,n,d),Ca(v,g,n,d);var m=new hr,b=new hr;m.add(v),m.add(p),m.add(b),c(v.shape.points,h,b,s,d,!0),s.setItemGraphicEl(d,m)}}).update(function(d,h){var p=l.getItemGraphicEl(h),v=p.childAt(0),g=p.childAt(1),m=p.childAt(2),b={shape:{points:s.getItemLayout(d)}};b.shape.points&&(c(v.shape.points,b.shape.points,m,s,d,!1),Jf(g),Jf(v),Si(v,b,n),Si(g,b,n),s.setItemGraphicEl(d,p))}).remove(function(d){o.remove(l.getItemGraphicEl(d))}).execute(),s.eachItemGraphicEl(function(d,h){var p=s.getItemModel(h),v=d.childAt(0),g=d.childAt(1),m=d.childAt(2),b=s.getItemVisual(h,"style"),_=b.fill;o.add(d),v.useStyle(tr(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:_})),Ls(v,p,"lineStyle"),Ls(g,p,"areaStyle");var x=p.getModel("areaStyle"),E=x.isEmpty()&&x.parentModel.isEmpty();g.ignore=E,te(["emphasis","select","blur"],function(R){var M=p.getModel([R,"areaStyle"]),O=M.isEmpty()&&M.parentModel.isEmpty();g.ensureState(R).ignore=O&&E}),g.useStyle(tr(x.getAreaStyle(),{fill:_,opacity:.7,decal:b.decal}));var A=p.getModel("emphasis"),T=A.getModel("itemStyle").getItemStyle();m.eachChild(function(R){if(R instanceof ms){var M=R.style;R.useStyle(Ct({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},b))}else R.useStyle(b),R.setColor(_),R.style.strokeNoScale=!0;var O=R.ensureState("emphasis");O.style=sr(T);var D=s.getStore().get(s.getDimensionIndex(R.__dimIdx),h);(D==null||isNaN(D))&&(D=""),Ns(R,is(p),{labelFetcher:s.hostModel,labelDataIndex:h,labelDimIndex:R.__dimIdx,defaultText:D,inheritColor:_,defaultOpacity:b.opacity})}),to(d,A.get("focus"),A.get("blurScope"),A.get("disabled"))}),this._data=s},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(ta),dvt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new xw(Rn(this.getData,this),Rn(this.getRawData,this))},t.prototype.getInitialData=function(n,r){return Gx(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(n,r,i){var a=this.getData(),o=this.coordinateSystem,s=o.getIndicatorAxes(),l=this.getData().getName(n),u=l===""?this.name:l,c=ube(this,n);return as("section",{header:u,sortBlocks:!0,blocks:Vt(s,function(f){var d=a.get(a.mapDimension(f.dim),n);return as("nameValue",{markerType:"subItem",markerColor:c,name:f.name,value:d,sortParam:d})})})},t.prototype.getTooltipPosition=function(n){if(n!=null){for(var r=this.getData(),i=this.coordinateSystem,a=r.getValues(Vt(i.dimensions,function(u){return r.mapDimension(u)}),n),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var l=i.getIndicatorAxes();return i.coordToPoint(l[o].dataToCoord(a[o]),o)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(va),_A=rSe.value;function nI(e,t){return tr({show:t},e)}var hvt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){var n=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),f=this.get("axisNameGap"),d=this.get("triggerEvent"),h=Vt(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var v=l;p.color!=null&&(v=tr({color:p.color},l));var g=wr(sr(p),{boundaryGap:n,splitNumber:r,scale:i,axisLine:a,axisTick:o,axisLabel:s,name:p.text,showName:u,nameLocation:"end",nameGap:f,nameTextStyle:v,triggerEvent:d},!1);if(An(c)){var m=g.name;g.name=c.replace("{value}",m??"")}else er(c)&&(g.name=c(g.name,g));var b=new zi(g,null,this.ecModel);return Mo(b,vw.prototype),b.mainType="radar",b.componentIndex=this.componentIndex,b},this);this._indicatorModels=h},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:wr({lineStyle:{color:"#bbb"}},_A.axisLine),axisLabel:nI(_A.axisLabel,!1),axisTick:nI(_A.axisTick,!1),splitLine:nI(_A.splitLine,!0),splitArea:nI(_A.splitArea,!0),indicator:[]},t}(Qr),pvt=["axisLine","axisTickLabel","axisName"],vvt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var a=this.group;a.removeAll(),this._buildAxes(n),this._buildSplitLineAndArea(n)},t.prototype._buildAxes=function(n){var r=n.coordinateSystem,i=r.getIndicatorAxes(),a=Vt(i,function(o){var s=o.model.get("showName")?o.name:"",l=new Il(o.model,{axisName:s,position:[r.cx,r.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});te(a,function(o){te(pvt,o.add,o),this.group.add(o.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(n){var r=n.coordinateSystem,i=r.getIndicatorAxes();if(!i.length)return;var a=n.get("shape"),o=n.getModel("splitLine"),s=n.getModel("splitArea"),l=o.getModel("lineStyle"),u=s.getModel("areaStyle"),c=o.get("show"),f=s.get("show"),d=l.get("color"),h=u.get("color"),p=Lt(d)?d:[d],v=Lt(h)?h:[h],g=[],m=[];function b(U,L,F){var N=F%L.length;return U[N]=U[N]||[],N}if(a==="circle")for(var _=i[0].getTicksCoords(),x=r.cx,E=r.cy,A=0;A<_.length;A++){if(c){var T=b(g,p,A);g[T].push(new Wp({shape:{cx:x,cy:E,r:_[A].coord}}))}if(f&&A<_.length-1){var T=b(m,v,A);m[T].push(new lw({shape:{cx:x,cy:E,r0:_[A].coord,r:_[A+1].coord}}))}}else for(var R,M=Vt(i,function(U,L){var F=U.getTicksCoords();return R=R==null?F.length-1:Math.min(F.length-1,R),Vt(F,function(N){return r.coordToPoint(N.coord,L)})}),O=[],A=0;A<=R;A++){for(var D=[],C=0;C<i.length;C++)D.push(M[C][A]);if(D[0]&&D.push(D[0].slice()),c){var T=b(g,p,A);g[T].push(new kl({shape:{points:D}}))}if(f&&O){var T=b(m,v,A-1);m[T].push(new Bl({shape:{points:D.concat(O)}}))}O=D.slice().reverse()}var P=l.getLineStyle(),B=u.getAreaStyle();te(m,function(U,L){this.group.add(Tc(U,{style:tr({stroke:"none",fill:v[L%v.length]},B),silent:!0}))},this),te(g,function(U,L){this.group.add(Tc(U,{style:tr({fill:"none",stroke:p[L%p.length]},P),silent:!0}))},this)},t.type="radar",t}(Ba),gvt=function(e){et(t,e);function t(n,r,i){var a=e.call(this,n,r,i)||this;return a.type="value",a.angle=0,a.name="",a}return t}(id),mvt=function(){function e(t,n,r){this.dimensions=[],this._model=t,this._indicatorAxes=Vt(t.getIndicatorModels(),function(i,a){var o="indicator_"+a,s=new gvt(o,new Pp);return s.name=i.get("name"),s.model=i,i.axis=s,this.dimensions.push(o),s},this),this.resize(t,r)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(t,n){var r=this._indicatorAxes[n];return this.coordToPoint(r.dataToCoord(t),n)},e.prototype.coordToPoint=function(t,n){var r=this._indicatorAxes[n],i=r.angle,a=this.cx+t*Math.cos(i),o=this.cy-t*Math.sin(i);return[a,o]},e.prototype.pointToData=function(t){var n=t[0]-this.cx,r=t[1]-this.cy,i=Math.sqrt(n*n+r*r);n/=i,r/=i;for(var a=Math.atan2(-r,n),o=1/0,s,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],f=Math.abs(a-c.angle);f<o&&(s=c,l=u,o=f)}return[l,+(s&&s.coordToData(i))]},e.prototype.resize=function(t,n){var r=t.get("center"),i=n.getWidth(),a=n.getHeight(),o=Math.min(i,a)/2;this.cx=vn(r[0],i),this.cy=vn(r[1],a),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");(An(s)||yi(s))&&(s=[0,s]),this.r0=vn(s[0],o),this.r=vn(s[1],o),te(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},e.prototype.update=function(t,n){var r=this._indicatorAxes,i=this._model;te(r,function(s){s.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(s,l){if(!(s.get("coordinateSystem")!=="radar"||t.getComponent("radar",s.get("radarIndex"))!==i)){var u=s.getData();te(r,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),o=new Pp;o.setExtent(0,a),o.setInterval(1),te(r,function(s,l){iSe(s.scale,s.model,o)})},e.prototype.convertToPixel=function(t,n,r){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(t,n,r){return console.warn("Not implemented."),null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.create=function(t,n){var r=[];return t.eachComponent("radar",function(i){var a=new e(i,t,n);r.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},e.dimensions=[],e}();function yvt(e){e.registerCoordinateSystem("radar",mvt),e.registerComponentModel(hvt),e.registerComponentView(vvt),e.registerVisual({seriesType:"radar",reset:function(t){var n=t.getData();n.each(function(r){n.setItemVisual(r,"legendIcon","roundRect")}),n.setVisual("legendIcon","roundRect")}})}function _vt(e){Vr(yvt),e.registerChartView(fvt),e.registerSeriesModel(dvt),e.registerLayout(uvt),e.registerProcessor(bw("radar")),e.registerPreprocessor(cvt)}var dte="\0_ec_interaction_mutex";function bvt(e,t,n){var r=lG(e);r[t]=n}function xvt(e,t,n){var r=lG(e),i=r[t];i===n&&(r[t]=null)}function hte(e,t){return!!lG(e)[t]}function lG(e){return e[dte]||(e[dte]={})}ph({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},mo);var Sw=function(e){et(t,e);function t(n){var r=e.call(this)||this;r._zr=n;var i=Rn(r._mousedownHandler,r),a=Rn(r._mousemoveHandler,r),o=Rn(r._mouseupHandler,r),s=Rn(r._mousewheelHandler,r),l=Rn(r._pinchHandler,r);return r.enable=function(u,c){this.disable(),this._opt=tr(sr(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(n.on("mousedown",i),n.on("mousemove",a),n.on("mouseup",o)),(u===!0||u==="scale"||u==="zoom")&&(n.on("mousewheel",s),n.on("pinch",l))},r.disable=function(){n.off("mousedown",i),n.off("mousemove",a),n.off("mouseup",o),n.off("mousewheel",s),n.off("pinch",l)},r}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(n){this.pointerChecker=n},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(n){if(!UZ(n)){for(var r=n.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=n.offsetX,a=n.offsetY;this.pointerChecker&&this.pointerChecker(n,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(n){if(!(!this._dragging||!L3("moveOnMouseMove",n,this._opt)||n.gestureEvent==="pinch"||hte(this._zr,"globalPan"))){var r=n.offsetX,i=n.offsetY,a=this._x,o=this._y,s=r-a,l=i-o;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&Rp(n.event),fSe(this,"pan","moveOnMouseMove",n,{dx:s,dy:l,oldX:a,oldY:o,newX:r,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(n){UZ(n)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(n){var r=L3("zoomOnMouseWheel",n,this._opt),i=L3("moveOnMouseWheel",n,this._opt),a=n.wheelDelta,o=Math.abs(a),s=n.offsetX,l=n.offsetY;if(!(a===0||!r&&!i)){if(r){var u=o>3?1.4:o>1?1.2:1.1,c=a>0?u:1/u;VB(this,"zoom","zoomOnMouseWheel",n,{scale:c,originX:s,originY:l,isAvailableBehavior:null})}if(i){var f=Math.abs(a),d=(a>0?1:-1)*(f>3?.4:f>1?.15:.05);VB(this,"scrollMove","moveOnMouseWheel",n,{scrollDelta:d,originX:s,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(n){if(!hte(this._zr,"globalPan")){var r=n.pinchScale>1?1.1:1/1.1;VB(this,"zoom",null,n,{scale:r,originX:n.pinchX,originY:n.pinchY,isAvailableBehavior:null})}},t}($c);function VB(e,t,n,r,i){e.pointerChecker&&e.pointerChecker(r,i.originX,i.originY)&&(Rp(r.event),fSe(e,t,n,r,i))}function fSe(e,t,n,r,i){i.isAvailableBehavior=Rn(L3,null,n,r),e.trigger(t,i)}function L3(e,t,n){var r=n[e];return!e||r&&(!An(r)||t.event[r+"Key"])}function uG(e,t,n){var r=e.target;r.x+=t,r.y+=n,r.dirty()}function cG(e,t,n,r){var i=e.target,a=e.zoomLimit,o=e.zoom=e.zoom||1;if(o*=t,a){var s=a.min||0,l=a.max||1/0;o=Math.max(Math.min(l,o),s)}var u=o/e.zoom;e.zoom=o,i.x-=(n-i.x)*(u-1),i.y-=(r-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var Svt={axisPointer:1,tooltip:1,brush:1};function UP(e,t,n){var r=t.getComponentByElement(e.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!Svt.hasOwnProperty(r.mainType)&&i&&i.model!==n}function dSe(e){if(An(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var n=e;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!=="svg"||n.nodeType!==1;)n=n.nextSibling;return n}var zB,uO={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},pte=Jr(uO),cO={"alignment-baseline":"textBaseline","stop-color":"stopColor"},vte=Jr(cO),Avt=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(t,n){n=n||{};var r=dSe(t);this._defsUsePending=[];var i=new hr;this._root=i;var a=[],o=r.getAttribute("viewBox")||"",s=parseFloat(r.getAttribute("width")||n.width),l=parseFloat(r.getAttribute("height")||n.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),Iu(r,i,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;wvt(this._defs,this._defsUsePending),this._defsUsePending=[];var c,f;if(o){var d=VP(o);d.length>=4&&(c={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(c&&s!=null&&l!=null&&(f=pSe(c,{x:0,y:0,width:s,height:l}),!n.ignoreViewBox)){var h=i;i=new hr,i.add(h),h.scaleX=h.scaleY=f.scale,h.x=f.x,h.y=f.y}return!n.ignoreRootClip&&s!=null&&l!=null&&i.setClipPath(new si({shape:{x:0,y:0,width:s,height:l}})),{root:i,width:s,height:l,viewBoxRect:c,viewBoxTransform:f,named:a}},e.prototype._parseNode=function(t,n,r,i,a,o){var s=t.nodeName.toLowerCase(),l,u=i;if(s==="defs"&&(a=!0),s==="text"&&(o=!0),s==="defs"||s==="switch")l=n;else{if(!a){var c=zB[s];if(c&&Dn(zB,s)){l=c.call(this,t,n);var f=t.getAttribute("name");if(f){var d={name:f,namedFrom:null,svgNodeTagLower:s,el:l};r.push(d),s==="g"&&(u=d)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:s,el:l});n.add(l)}}var h=gte[s];if(h&&Dn(gte,s)){var p=h.call(this,t),v=t.getAttribute("id");v&&(this._defs[v]=p)}}if(l&&l.isGroup)for(var g=t.firstChild;g;)g.nodeType===1?this._parseNode(g,l,r,u,a,o):g.nodeType===3&&o&&this._parseText(g,l),g=g.nextSibling},e.prototype._parseText=function(t,n){var r=new Wb({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});sc(n,r),Iu(t,r,this._defsUsePending,!1,!1),Evt(r,n);var i=r.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,r.scaleX*=a/9,r.scaleY*=a/9);var o=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=o;var s=r.getBoundingRect();return this._textX+=s.width,n.add(r),r},e.internalField=function(){zB={g:function(t,n){var r=new hr;return sc(n,r),Iu(t,r,this._defsUsePending,!1,!1),r},rect:function(t,n){var r=new si;return sc(n,r),Iu(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(t,n){var r=new Wp;return sc(n,r),Iu(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),r.silent=!0,r},line:function(t,n){var r=new qo;return sc(n,r),Iu(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(t,n){var r=new yP;return sc(n,r),Iu(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(t,n){var r=t.getAttribute("points"),i;r&&(i=_te(r));var a=new Bl({shape:{points:i||[]},silent:!0});return sc(n,a),Iu(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,n){var r=t.getAttribute("points"),i;r&&(i=_te(r));var a=new kl({shape:{points:i||[]},silent:!0});return sc(n,a),Iu(t,a,this._defsUsePending,!1,!1),a},image:function(t,n){var r=new ms;return sc(n,r),Iu(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),r.silent=!0,r},text:function(t,n){var r=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(o);var s=new hr;return sc(n,s),Iu(t,s,this._defsUsePending,!1,!0),s},tspan:function(t,n){var r=t.getAttribute("x"),i=t.getAttribute("y");r!=null&&(this._textX=parseFloat(r)),i!=null&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",o=t.getAttribute("dy")||"0",s=new hr;return sc(n,s),Iu(t,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(t,n){var r=t.getAttribute("d")||"",i=r1e(r);return sc(n,i),Iu(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),e}(),gte={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),n=parseInt(e.getAttribute("y1")||"0",10),r=parseInt(e.getAttribute("x2")||"10",10),i=parseInt(e.getAttribute("y2")||"0",10),a=new Zo(t,n,r,i);return mte(e,a),yte(e,a),a},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),n=parseInt(e.getAttribute("cy")||"0",10),r=parseInt(e.getAttribute("r")||"0",10),i=new s1e(t,n,r);return mte(e,i),yte(e,i),i}};function mte(e,t){var n=e.getAttribute("gradientUnits");n==="userSpaceOnUse"&&(t.global=!0)}function yte(e,t){for(var n=e.firstChild;n;){if(n.nodeType===1&&n.nodeName.toLocaleLowerCase()==="stop"){var r=n.getAttribute("offset"),i=void 0;r&&r.indexOf("%")>0?i=parseInt(r,10)/100:r?i=parseFloat(r):i=0;var a={};hSe(n,a,a);var o=a.stopColor||n.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:o})}n=n.nextSibling}}function sc(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),tr(t.__inheritedStyle,e.__inheritedStyle))}function _te(e){for(var t=VP(e),n=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),a=parseFloat(t[r+1]);n.push([i,a])}return n}function Iu(e,t,n,r,i){var a=t,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};e.nodeType===1&&(Ivt(e,t),hSe(e,o,s),r||Mvt(e,o,s)),a.style=a.style||{},o.fill!=null&&(a.style.fill=bte(a,"fill",o.fill,n)),o.stroke!=null&&(a.style.stroke=bte(a,"stroke",o.stroke,n)),te(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){o[l]!=null&&(a.style[l]=parseFloat(o[l]))}),te(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){o[l]!=null&&(a.style[l]=o[l])}),i&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=Vt(VP(o.lineDash),function(l){return parseFloat(l)})),(o.visibility==="hidden"||o.visibility==="collapse")&&(a.invisible=!0),o.display==="none"&&(a.ignore=!0)}function Evt(e,t){var n=t.__selfStyle;if(n){var r=n.textBaseline,i=r;!r||r==="auto"||r==="baseline"?i="alphabetic":r==="before-edge"||r==="text-before-edge"?i="top":r==="after-edge"||r==="text-after-edge"?i="bottom":(r==="central"||r==="mathematical")&&(i="middle"),e.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&(o==="middle"&&(s="center"),e.style.textAlign=s)}}var Tvt=/^url\(\s*#(.*?)\)/;function bte(e,t,n,r){var i=n&&n.match(Tvt);if(i){var a=Lf(i[1]);r.push([e,t,a]);return}return n==="none"&&(n=null),n}function wvt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r[0].style[r[1]]=e[r[2]]}}var Cvt=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function VP(e){return e.match(Cvt)||[]}var Rvt=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,$B=Math.PI/180;function Ivt(e,t){var n=e.getAttribute("transform");if(n){n=n.replace(/,/g," ");var r=[],i=null;n.replace(Rvt,function(f,d,h){return r.push(d,h),""});for(var a=r.length-1;a>0;a-=2){var o=r[a],s=r[a-1],l=VP(o);switch(i=i||$u(),s){case"translate":rh(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":iW(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Uy(i,i,-parseFloat(l[0])*$B,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*$B);mp(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*$B);mp(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var xte=/([^\s:;]+)\s*:\s*([^:;]+)/g;function hSe(e,t,n){var r=e.getAttribute("style");if(r){xte.lastIndex=0;for(var i;(i=xte.exec(r))!=null;){var a=i[1],o=Dn(uO,a)?uO[a]:null;o&&(t[o]=i[2]);var s=Dn(cO,a)?cO[a]:null;s&&(n[s]=i[2])}}}function Mvt(e,t,n){for(var r=0;r<pte.length;r++){var i=pte[r],a=e.getAttribute(i);a!=null&&(t[uO[i]]=a)}for(var r=0;r<vte.length;r++){var i=vte[r],a=e.getAttribute(i);a!=null&&(n[cO[i]]=a)}}function pSe(e,t){var n=t.width/e.width,r=t.height/e.height,i=Math.min(n,r);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}function Ovt(e,t){var n=new Avt;return n.parse(e,t)}var Dvt=Fn(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Pvt=function(){function e(t,n){this.type="geoSVG",this._usedGraphicMap=Fn(),this._freedGraphics=[],this._mapName=t,this._parsedXML=dSe(n)}return e.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var n=Nvt(t.named),r=n.regions,i=n.regionsMap;this._regions=r,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(t){var n,r;try{n=t&&Ovt(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=n.root,Pl(r!=null)}catch(g){throw new Error(`Invalid svg format
`+g.message)}var i=new hr;i.add(r),i.isGeoSVGGraphicRoot=!0;var a=n.width,o=n.height,s=n.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,f=void 0,d=void 0;if(a!=null?(u=0,f=a):s&&(u=s.x,f=s.width),o!=null?(c=0,d=o):s&&(c=s.y,d=s.height),u==null||c==null){var h=r.getBoundingRect();u==null&&(u=h.x,f=h.width),c==null&&(c=h.y,d=h.height)}l=this._boundingRect=new Mr(u,c,f,d)}if(s){var p=pSe(s,l);r.scaleX=r.scaleY=p.scale,r.x=p.x,r.y=p.y}i.setClipPath(new si({shape:l.plain()}));var v=[];return te(n.named,function(g){Dvt.get(g.svgNodeTagLower)!=null&&(v.push(g),Lvt(g.el))}),{root:i,boundingRect:l,named:v}},e.prototype.useGraphic=function(t){var n=this._usedGraphicMap,r=n.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),n.set(t,r),r)},e.prototype.freeGraphic=function(t){var n=this._usedGraphicMap,r=n.get(t);r&&(n.removeKey(t),this._freedGraphics.push(r))},e}();function Lvt(e){e.silent=!1,e.isGroup&&e.traverse(function(t){t.silent=!1})}function Nvt(e){var t=[],n=Fn();return te(e,function(r){if(r.namedFrom==null){var i=new Idt(r.name,r.el);t.push(i),n.set(r.name,i)}}),{regions:t,regionsMap:n}}var f9=[126,25],Ste="南海诸岛",v0=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var l0=0;l0<v0.length;l0++)for(var r1=0;r1<v0[l0].length;r1++)v0[l0][r1][0]/=10.5,v0[l0][r1][1]/=-10.5/.75,v0[l0][r1][0]+=f9[0],v0[l0][r1][1]+=f9[1];function Bvt(e,t){if(e==="china"){for(var n=0;n<t.length;n++)if(t[n].name===Ste)return;t.push(new cxe(Ste,Vt(v0,function(r){return{type:"polygon",exterior:r}}),f9))}}var kvt={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function Fvt(e,t){if(e==="china"){var n=kvt[t.name];if(n){var r=t.getCenter();r[0]+=n[0]/10.5,r[1]+=-n[1]/(10.5/.75),t.setCenter(r)}}}var Uvt=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Vvt(e,t){e==="china"&&t.name==="台湾"&&t.geometries.push({type:"polygon",exterior:Uvt[0]})}var zvt="name",$vt=function(){function e(t,n,r){this.type="geoJSON",this._parsedMap=Fn(),this._mapName=t,this._specialAreas=r,this._geoJSON=Wvt(n)}return e.prototype.load=function(t,n){n=n||zvt;var r=this._parsedMap.get(n);if(!r){var i=this._parseToRegions(n);r=this._parsedMap.set(n,{regions:i,boundingRect:Hvt(i)})}var a=Fn(),o=[];return te(r.regions,function(s){var l=s.name;t&&Dn(t,l)&&(s=s.cloneShallow(l=t[l])),o.push(s),a.set(l,s)}),{regions:o,boundingRect:r.boundingRect||new Mr(0,0,0,0),regionsMap:a}},e.prototype._parseToRegions=function(t){var n=this._mapName,r=this._geoJSON,i;try{i=r?Odt(r,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return Bvt(n,i),te(i,function(a){var o=a.name;Fvt(n,a),Vvt(n,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),i},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function Hvt(e){for(var t,n=0;n<e.length;n++){var r=e[n].getBoundingRect();t=t||r.clone(),t.union(r)}return t}function Wvt(e){return An(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var bA=Fn();const Lp={registerMap:function(e,t,n){if(t.svg){var r=new Pvt(e,t.svg);bA.set(e,r)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?n=t.specialAreas:i=t;var r=new $vt(e,i,n);bA.set(e,r)}},getGeoResource:function(e){return bA.get(e)},getMapForUser:function(e){var t=bA.get(e);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(e,t,n){var r=bA.get(e);if(r)return r.load(t,n)}};var fG=["rect","circle","line","ellipse","polygon","polyline","path"],Gvt=Fn(fG),jvt=Fn(fG.concat(["g"])),Yvt=Fn(fG.concat(["g"])),vSe=ui();function rI(e){var t=e.getItemStyle(),n=e.get("areaColor");return n!=null&&(t.fill=n),t}function Ate(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var gSe=function(){function e(t){var n=new hr;this.uid=kx("ec_map_draw"),this._controller=new Sw(t.getZr()),this._controllerHost={target:n},this.group=n,n.add(this._regionsGroup=new hr),n.add(this._svgGroup=new hr)}return e.prototype.draw=function(t,n,r,i,a){var o=t.mainType==="geo",s=t.getData&&t.getData();o&&n.eachComponent({mainType:"series",subType:"map"},function(m){!s&&m.getHostGeoModel()===t&&(s=m.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this.group,f=l.getTransformInfo(),d=f.raw,h=f.roam,p=!u.childAt(0)||a;p?(c.x=h.x,c.y=h.y,c.scaleX=h.scaleX,c.scaleY=h.scaleY,c.dirty()):Si(c,h,t);var v=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,g={api:r,geo:l,mapOrGeoModel:t,data:s,isVisualEncodedByVisualMap:v,isGeo:o,transformInfoRaw:d};l.resourceType==="geoJSON"?this._buildGeoJSON(g):l.resourceType==="geoSVG"&&this._buildSVG(g),this._updateController(t,n,r),this._updateMapSelectHandler(t,u,r,i)},e.prototype._buildGeoJSON=function(t){var n=this._regionsGroupByName=Fn(),r=Fn(),i=this._regionsGroup,a=t.transformInfoRaw,o=t.mapOrGeoModel,s=t.data,l=t.geo.projection,u=l&&l.stream;function c(h,p){return p&&(h=p(h)),h&&[h[0]*a.scaleX+a.x,h[1]*a.scaleY+a.y]}function f(h){for(var p=[],v=!u&&l&&l.project,g=0;g<h.length;++g){var m=c(h[g],v);m&&p.push(m)}return p}function d(h){return{shape:{points:f(h)}}}i.removeAll(),te(t.geo.regions,function(h){var p=h.name,v=n.get(p),g=r.get(p)||{},m=g.dataIdx,b=g.regionModel;v||(v=n.set(p,new hr),i.add(v),m=s?s.indexOfName(p):null,b=t.isGeo?o.getRegionModel(p):s?s.getItemModel(m):null,r.set(p,{dataIdx:m,regionModel:b}));var _=[],x=[];te(h.geometries,function(T){if(T.type==="polygon"){var R=[T.exterior].concat(T.interiors||[]);u&&(R=Ite(R,u)),te(R,function(O){_.push(new Bl(d(O)))})}else{var M=T.points;u&&(M=Ite(M,u,!0)),te(M,function(O){x.push(new kl(d(O)))})}});var E=c(h.getCenter(),l&&l.project);function A(T,R){if(T.length){var M=new bW({culling:!0,segmentIgnoreThreshold:1,shape:{paths:T}});v.add(M),Ete(t,M,m,b),Tte(t,M,p,b,o,m,E),R&&(Ate(M),te(M.states,Ate))}}A(_),A(x,!0)}),n.each(function(h,p){var v=r.get(p),g=v.dataIdx,m=v.regionModel;wte(t,h,p,m,o,g),Cte(t,h,p,m,o),Rte(t,h,p,m,o)},this)},e.prototype._buildSVG=function(t){var n=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(n)&&(this._freeSVG(),this._useSVG(n));var i=this._svgDispatcherMap=Fn(),a=!1;te(this._svgGraphicRecord.named,function(o){var s=o.name,l=t.mapOrGeoModel,u=t.data,c=o.svgNodeTagLower,f=o.el,d=u?u.indexOfName(s):null,h=l.getRegionModel(s);if(Gvt.get(c)!=null&&f instanceof Uc&&Ete(t,f,d,h),f instanceof Uc&&(f.culling=!0),f.z2EmphasisLift=0,!o.namedFrom&&(Yvt.get(c)!=null&&Tte(t,f,s,h,l,d,null),wte(t,f,s,h,l,d),Cte(t,f,s,h,l),jvt.get(c)!=null)){var p=Rte(t,f,s,h,l);p==="self"&&(a=!0);var v=i.get(s)||i.set(s,[]);v.push(f)}},this),this._enableBlurEntireSVG(a,t)},e.prototype._enableBlurEntireSVG=function(t,n){if(t&&n.isGeo){var r=n.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=r.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){by(a);var o=a.ensureState("blur").style||{};o.opacity==null&&i!=null&&(o.opacity=i),a.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(t,n){if(t==null)return[];var r=n.coordinateSystem;if(r.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(r.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},e.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},e.prototype._useSVG=function(t){var n=Lp.getGeoResource(t);if(n&&n.type==="geoSVG"){var r=n.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},e.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var n=Lp.getGeoResource(t);n&&n.type==="geoSVG"&&n.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(t,n,r){var i=t.coordinateSystem,a=this._controller,o=this._controllerHost;o.zoomLimit=t.get("scaleLimit"),o.zoom=i.getZoom(),a.enable(t.get("roam")||!1);var s=t.mainType;function l(){var u={type:"geoRoam",componentType:s};return u[s+"Id"]=t.id,u}a.off("pan").on("pan",function(u){this._mouseDownFlag=!1,uG(o,u.dx,u.dy),r.dispatchAction(Ct(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,cG(o,u.scale,u.originX,u.originY),r.dispatchAction(Ct(l(),{totalZoom:o.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(u,c,f){return i.containPoint([c,f])&&!UP(u,r,t)})},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var n=t.getTextContent();n&&(n.ignore=vSe(n).ignore)})},e.prototype._updateMapSelectHandler=function(t,n,r,i){var a=this;n.off("mousedown"),n.off("click"),t.get("selectedMode")&&(n.on("mousedown",function(){a._mouseDownFlag=!0}),n.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},e}();function Ete(e,t,n,r){var i=r.getModel("itemStyle"),a=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),s=r.getModel(["select","itemStyle"]),l=rI(i),u=rI(a),c=rI(s),f=rI(o),d=e.data;if(d){var h=d.getItemVisual(n,"style"),p=d.getItemVisual(n,"decal");e.isVisualEncodedByVisualMap&&h.fill&&(l.fill=h.fill),p&&(l.decal=Yb(p,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=f,by(t)}function Tte(e,t,n,r,i,a,o){var s=e.data,l=e.isGeo,u=s&&isNaN(s.get(s.mapDimension("value"),a)),c=s&&s.getItemLayout(a);if(l||u||c&&c.showLabel){var f=l?n:a,d=void 0;(!s||a>=0)&&(d=i);var h=o?{normal:{align:"center",verticalAlign:"middle"}}:null;Ns(t,is(r),{labelFetcher:d,labelDataIndex:f,defaultText:n},h);var p=t.getTextContent();if(p&&(vSe(p).ignore=p.ignore,t.textConfig&&o)){var v=t.getBoundingRect().clone();t.textConfig.layoutRect=v,t.textConfig.position=[(o[0]-v.x)/v.width*100+"%",(o[1]-v.y)/v.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function wte(e,t,n,r,i,a){e.data?e.data.setItemGraphicEl(a,t):gr(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:n,region:r&&r.option||{}}}function Cte(e,t,n,r,i){e.data||Nx({el:t,componentModel:i,itemName:n,itemTooltipOption:r.get("tooltip")})}function Rte(e,t,n,r,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=r.getModel("emphasis"),o=a.get("focus");return to(t,o,a.get("blurScope"),a.get("disabled")),e.isGeo&&Gst(t,i,n),o}function Ite(e,t,n){var r=[],i;function a(){i=[]}function o(){i.length&&(r.push(i),i=[])}var s=t({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!n&&s.polygonStart(),te(e,function(l){s.lineStart();for(var u=0;u<l.length;u++)s.point(l[u][0],l[u][1]);s.lineEnd()}),!n&&s.polygonEnd(),r}var Xvt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!n.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===n.id){var s=this._mapDraw;s&&o.add(s.group)}else if(n.needsDrawMap){var s=this._mapDraw||new gSe(i);o.add(s.group),s.draw(n,r,i,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;n.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(n,r,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(n,r,i){var a=n.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,l){if(!isNaN(s)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,f=u.offset,d=new Wp({style:{fill:n.getData().getVisual("style").fill},shape:{cx:c[0]+f*9,cy:c[1],r:3},silent:!0,z2:8+(f?0:Px+1)});if(!f){var h=n.mainSeries.getData(),p=a.getName(l),v=h.indexOfName(p),g=a.getItemModel(l),m=g.getModel("label"),b=h.getItemGraphicEl(v);Ns(d,is(g),{labelFetcher:{getFormattedLabel:function(_,x){return n.getFormattedLabel(v,x)}},defaultText:p}),d.disableLabelAnimation=!0,m.get("position")||d.setTextConfig({position:"bottom"}),b.onHoverStateChange=function(_){HM(d,_)}}o.add(d)}}})},t.type="map",t}(ta),Kvt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(r){if(r!=null){var i=this.getData().getName(r),a=this.coordinateSystem,o=a.getRegion(i);return o&&a.dataToPoint(o.getCenter())}},n}return t.prototype.getInitialData=function(n){for(var r=Gx(this,{coordDimensions:["value"],encodeDefaulter:Tr(MW,this)}),i=Fn(),a=[],o=0,s=r.count();o<s;o++){var l=r.getName(o);i.set(l,!0)}var u=Lp.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return te(u.regions,function(c){var f=c.name;i.get(f)||a.push(f)}),r.appendValues([],a),r},t.prototype.getHostGeoModel=function(){var n=this.option.geoIndex;return n!=null?this.ecModel.getComponent("geo",n):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(n){var r=this.getData();return r.get(r.mapDimension("value"),n)},t.prototype.getRegionModel=function(n){var r=this.getData();return r.getItemModel(r.indexOfName(n))},t.prototype.formatTooltip=function(n,r,i){for(var a=this.getData(),o=this.getRawValue(n),s=a.getName(n),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var f=l[c].originalData.indexOfName(s),d=a.mapDimension("value");isNaN(l[c].originalData.get(d,f))||u.push(l[c].name)}return as("section",{header:u.join(", "),noHeader:!u.length,blocks:[as("nameValue",{name:s,value:o})]})},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.getLegendIcon=function(n){var r=n.icon||"roundRect",i=Io(r,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill);return i.setStyle(n.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(va);function qvt(e,t){var n={};return te(e,function(r){r.each(r.mapDimension("value"),function(i,a){var o="ec-"+r.getName(a);n[o]=n[o]||[],isNaN(i)||n[o].push(i)})}),e[0].map(e[0].mapDimension("value"),function(r,i){for(var a="ec-"+e[0].getName(i),o=0,s=1/0,l=-1/0,u=n[a].length,c=0;c<u;c++)s=Math.min(s,n[a][c]),l=Math.max(l,n[a][c]),o+=n[a][c];var f;return t==="min"?f=s:t==="max"?f=l:t==="average"?f=o/u:f=o,u===0?NaN:f})}function Zvt(e){var t={};e.eachSeriesByType("map",function(n){var r=n.getHostGeoModel(),i=r?"o"+r.id:"i"+n.getMapType();(t[i]=t[i]||[]).push(n)}),te(t,function(n,r){for(var i=qvt(Vt(n,function(o){return o.getData()}),n[0].get("mapValueCalculation")),a=0;a<n.length;a++)n[a].originalData=n[a].getData();for(var a=0;a<n.length;a++)n[a].seriesGroup=n,n[a].needsDrawMap=a===0&&!n[a].getHostGeoModel(),n[a].setData(i.cloneShallow()),n[a].mainSeries=n[0]})}function Qvt(e){var t={};e.eachSeriesByType("map",function(n){var r=n.getMapType();if(!(n.getHostGeoModel()||t[r])){var i={};te(n.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&e.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var f=l.getName(c),d=s.getRegion(f);if(!(!d||isNaN(u))){var h=i[f]||0,p=s.dataToPoint(d.getCenter());i[f]=h+1,l.setItemLayout(c,{point:p,offset:h})}})});var a=n.getData();a.each(function(o){var s=a.getName(o),l=a.getItemLayout(o)||{};l.showLabel=!i[s],a.setItemLayout(o,l)}),t[r]=!0}})}var Mte=Ds,Aw=function(e){et(t,e);function t(n){var r=e.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new dp,r._rawTransformable=new dp,r.name=n,r}return t.prototype.setBoundingRect=function(n,r,i,a){return this._rect=new Mr(n,r,i,a),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(n,r,i,a){this._transformTo(n,r,i,a),this._viewRect=new Mr(n,r,i,a)},t.prototype._transformTo=function(n,r,i,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new Mr(n,r,i,a));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},t.prototype.setCenter=function(n,r){n&&(this._center=[vn(n[0],r.getWidth()),vn(n[1],r.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(n){n=n||1;var r=this.zoomLimit;r&&(r.max!=null&&(n=Math.min(r.max,n)),r.min!=null&&(n=Math.max(r.min,n))),this._zoom=n,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var n=this.getBoundingRect(),r=n.x+n.width/2,i=n.y+n.height/2;return[r,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var n=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),o=this.getZoom();a=Ds([],a,n),i=Ds([],i,n),r.originX=a[0],r.originY=a[1],r.x=i[0]-a[0],r.y=i[1]-a[1],r.scaleX=r.scaleY=o,this._updateTransform()},t.prototype._updateTransform=function(){var n=this._roamTransformable,r=this._rawTransformable;r.parent=n,n.updateTransform(),r.updateTransform(),rW(this.transform||(this.transform=[]),r.transform||$u()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],Ox(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var n=this._rawTransformable,r=this._roamTransformable,i=new dp;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var n=this.getBoundingRect().clone();return n.applyTransform(this.transform),n},t.prototype.dataToPoint=function(n,r,i){var a=r?this._rawTransform:this.transform;return i=i||[],a?Mte(i,n,a):yl(i,n)},t.prototype.pointToData=function(n){var r=this.invTransform;return r?Mte([],n,r):[n[0],n[1]]},t.prototype.convertToPixel=function(n,r,i){var a=Ote(r);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(n,r,i){var a=Ote(r);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(n){return this.getViewRectAfterRoam().contain(n[0],n[1])},t.dimensions=["x","y"],t}(dp);function Ote(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var Jvt={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},mSe=["lng","lat"],d9=function(e){et(t,e);function t(n,r,i){var a=e.call(this,n)||this;a.dimensions=mSe,a.type="geo",a._nameCoordMap=Fn(),a.map=r;var o=i.projection,s=Lp.load(r,i.nameMap,i.nameProperty),l=Lp.getGeoResource(r);a.resourceType=l?l.type:null;var u=a.regions=s.regions,c=Jvt[l.type];a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o;var f;if(o)for(var d=0;d<u.length;d++){var h=u[d].getBoundingRect(o);f=f||h.clone(),f.union(h)}else f=s.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=o?1:Sr(i.aspectScale,c.aspectScale),a._invertLongitute=o?!1:c.invertLongitute,a}return t.prototype._transformTo=function(n,r,i,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new Mr(n,r,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,s&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(n){return this._regionsMap.get(n)},t.prototype.getRegionByCoord=function(n){for(var r=this.regions,i=0;i<r.length;i++){var a=r[i];if(a.type==="geoJSON"&&a.contain(n))return r[i]}},t.prototype.addGeoCoord=function(n,r){this._nameCoordMap.set(n,r)},t.prototype.getGeoCoord=function(n){var r=this._regionsMap.get(n);return this._nameCoordMap.get(n)||r&&r.getCenter()},t.prototype.dataToPoint=function(n,r,i){if(An(n)&&(n=this.getGeoCoord(n)),n){var a=this.projection;return a&&(n=a.project(n)),n&&this.projectedToPoint(n,r,i)}},t.prototype.pointToData=function(n){var r=this.projection;return r&&(n=r.unproject(n)),n&&this.pointToProjected(n)},t.prototype.pointToProjected=function(n){return e.prototype.pointToData.call(this,n)},t.prototype.projectedToPoint=function(n,r,i){return e.prototype.dataToPoint.call(this,n,r,i)},t.prototype.convertToPixel=function(n,r,i){var a=Dte(r);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(n,r,i){var a=Dte(r);return a===this?a.pointToData(i):null},t}(Aw);Mo(d9,Aw);function Dte(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo",wo).models[0]||{}).coordinateSystem:null}function Pte(e,t){var n=e.get("boundingCoords");if(n!=null){var r=n[0],i=n[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var o=r[0],s=r[1],l=i[0],u=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var c=function(A,T,R,M){for(var O=R-A,D=M-T,C=0;C<=100;C++){var P=C/100,B=a.project([A+O*P,T+D*P]);og(r,r,B),sg(i,i,B)}};c(o,s,l,s),c(l,s,l,u),c(l,u,o,u),c(o,u,l,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var f=this.getBoundingRect(),d=e.get("layoutCenter"),h=e.get("layoutSize"),p=t.getWidth(),v=t.getHeight(),g=f.width/f.height*this.aspectScale,m=!1,b,_;d&&h&&(b=[vn(d[0],p),vn(d[1],v)],_=vn(h,Math.min(p,v)),!isNaN(b[0])&&!isNaN(b[1])&&!isNaN(_)&&(m=!0));var x;if(m)x={},g>1?(x.width=_,x.height=_/g):(x.height=_,x.width=_*g),x.y=b[1]-x.height/2,x.x=b[0]-x.width/2;else{var E=e.getBoxLayoutParams();E.aspect=g,x=$o(E,{width:p,height:v})}this.setViewRect(x.x,x.y,x.width,x.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function egt(e,t){te(t.get("geoCoord"),function(n,r){e.addGeoCoord(r,n)})}var tgt=function(){function e(){this.dimensions=mSe}return e.prototype.create=function(t,n){var r=[];function i(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}t.eachComponent("geo",function(o,s){var l=o.get("map"),u=new d9(l+s,l,Ct({nameMap:o.get("nameMap")},i(o)));u.zoomLimit=o.get("scaleLimit"),r.push(u),o.coordinateSystem=u,u.model=o,u.resize=Pte,u.resize(o,n)}),t.eachSeries(function(o){var s=o.get("coordinateSystem");if(s==="geo"){var l=o.get("geoIndex")||0;o.coordinateSystem=r[l]}});var a={};return t.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),te(a,function(o,s){var l=Vt(o,function(c){return c.get("nameMap")}),u=new d9(s,s,Ct({nameMap:JH(l)},i(o[0])));u.zoomLimit=hs.apply(null,Vt(o,function(c){return c.get("scaleLimit")})),r.push(u),u.resize=Pte,u.resize(o[0],n),te(o,function(c){c.coordinateSystem=u,egt(u,c)})}),r},e.prototype.getFilledRegions=function(t,n,r,i){for(var a=(t||[]).slice(),o=Fn(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);var l=Lp.load(n,r,i);return te(l.regions,function(u){var c=u.name;!o.get(c)&&a.push({name:c})}),a},e}(),ySe=new tgt,ngt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r,i){var a=Lp.getGeoResource(n.map);if(a&&a.type==="geoJSON"){var o=n.itemStyle=n.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(n,i),gy(n,"label",["show"])},t.prototype.optionUpdated=function(){var n=this,r=this.option;r.regions=ySe.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=nh(r.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new zi(o,n,n.ecModel)),o.selected&&(i[s]=!0)),a},Fn()),r.selectedMap||(r.selectedMap=i)},t.prototype.getRegionModel=function(n){return this._optionModelMap.get(n)||new zi(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(n,r){var i=this.getRegionModel(n),a=r==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),o={name:n};if(er(a))return o.status=r,a(o);if(An(a))return a.replace("{a}",n??"")},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.select=function(n){var r=this.option,i=r.selectedMode;if(i){i!=="multiple"&&(r.selectedMap=null);var a=r.selectedMap||(r.selectedMap={});a[n]=!0}},t.prototype.unSelect=function(n){var r=this.option.selectedMap;r&&(r[n]=!1)},t.prototype.toggleSelected=function(n){this[this.isSelected(n)?"unSelect":"select"](n)},t.prototype.isSelected=function(n){var r=this.option.selectedMap;return!!(r&&r[n])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Qr);function Lte(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function dG(e,t,n,r){var i=e.getZoom(),a=e.getCenter(),o=t.zoom,s=e.projectedToPoint?e.projectedToPoint(a):e.dataToPoint(a);if(t.dx!=null&&t.dy!=null&&(s[0]-=t.dx,s[1]-=t.dy,e.setCenter(Lte(e,s),r)),o!=null){if(n){var l=n.min||0,u=n.max||1/0;o=Math.max(Math.min(i*o,u),l)/i}e.scaleX*=o,e.scaleY*=o;var c=(t.originX-e.x)*(o-1),f=(t.originY-e.y)*(o-1);e.x-=c,e.y-=f,e.updateTransform(),e.setCenter(Lte(e,s),r),e.setZoom(o*i)}return{center:e.getCenter(),zoom:e.getZoom()}}var rgt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return t.prototype.init=function(n,r){this._api=r},t.prototype.render=function(n,r,i,a){if(this._model=n,!n.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new gSe(i));var o=this._mapDraw;o.draw(n,r,i,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=n.get("silent"),this.group.add(o.group),this.updateSelectStatus(n,r,i)},t.prototype._handleRegionClick=function(n){var r;F0(n.target,function(i){return(r=gr(i).eventData)!=null},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},t.prototype.updateSelectStatus=function(n,r,i){var a=this;this._mapDraw.group.traverse(function(o){var s=gr(o).eventData;if(s)return a._model.isSelected(s.name)?i.enterSelect(o):i.leaveSelect(o),!0})},t.prototype.findHighDownDispatchers=function(n){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(n,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Ba);function igt(e,t,n){Lp.registerMap(e,t,n)}function _Se(e){e.registerCoordinateSystem("geo",ySe),e.registerComponentModel(ngt),e.registerComponentView(rgt),e.registerImpl("registerMap",igt),e.registerImpl("getMap",function(n){return Lp.getMapForUser(n)});function t(n,r){r.update="geo:updateSelectStatus",e.registerAction(r,function(i,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[n](i.name);var u=l.coordinateSystem;te(u.regions,function(f){o[f.name]=l.isSelected(f.name)||!1});var c=[];te(o,function(f,d){o[d]&&c.push(d)}),s.push({geoIndex:l.componentIndex,name:c})}),{selected:o,allSelected:s,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(n,r,i){var a=n.componentType||"series";r.eachComponent({mainType:a,query:n},function(o){var s=o.coordinateSystem;if(s.type==="geo"){var l=dG(s,n,o.get("scaleLimit"),i);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),a==="series"&&te(o.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function agt(e){Vr(_Se),e.registerChartView(Xvt),e.registerSeriesModel(Kvt),e.registerLayout(Qvt),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Zvt),xbe("map",e.registerAction)}function ogt(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n=[t],r,i;r=n.pop();)if(i=r.children,r.isExpand&&i.length)for(var a=i.length,o=a-1;o>=0;o--){var s=i[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},n.push(s)}}function sgt(e,t){var n=e.isExpand?e.children:[],r=e.parentNode.children,i=e.hierNode.i?r[e.hierNode.i-1]:null;if(n.length){cgt(e);var a=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=fgt(e,i,e.parentNode.hierNode.defaultAncestor||r[0],t)}function lgt(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function Nte(e){return arguments.length?e:pgt}function hE(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function ugt(e,t){return $o(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function cgt(e){for(var t=e.children,n=t.length,r=0,i=0;--n>=0;){var a=t[n];a.hierNode.prelim+=r,a.hierNode.modifier+=r,i+=a.hierNode.change,r+=a.hierNode.shift+i}}function fgt(e,t,n,r){if(t){for(var i=e,a=e,o=a.parentNode.children[0],s=t,l=i.hierNode.modifier,u=a.hierNode.modifier,c=o.hierNode.modifier,f=s.hierNode.modifier;s=HB(s),a=WB(a),s&&a;){i=HB(i),o=WB(o),i.hierNode.ancestor=e;var d=s.hierNode.prelim+f-a.hierNode.prelim-u+r(s,a);d>0&&(hgt(dgt(s,e,n),e,d),u+=d,l+=d),f+=s.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=o.hierNode.modifier}s&&!HB(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=f-l),a&&!WB(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=u-c,n=e)}return n}function HB(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function WB(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function dgt(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function hgt(e,t,n){var r=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=r}function pgt(e,t){return e.parentNode===t.parentNode?1:2}var vgt=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),ggt=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new vgt},t.prototype.buildPath=function(n,r){var i=r.childPoints,a=i.length,o=r.parentPoint,s=i[0],l=i[a-1];if(a===1){n.moveTo(o[0],o[1]),n.lineTo(s[0],s[1]);return}var u=r.orient,c=u==="TB"||u==="BT"?0:1,f=1-c,d=vn(r.forkPosition,1),h=[];h[c]=o[c],h[f]=o[f]+(l[f]-o[f])*d,n.moveTo(o[0],o[1]),n.lineTo(h[0],h[1]),n.moveTo(s[0],s[1]),h[c]=s[c],n.lineTo(h[0],h[1]),h[c]=l[c],n.lineTo(h[0],h[1]),n.lineTo(l[0],l[1]);for(var p=1;p<a-1;p++){var v=i[p];n.moveTo(v[0],v[1]),h[c]=v[c],n.lineTo(h[0],h[1])}},t}(Wr),mgt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new hr,n}return t.prototype.init=function(n,r){this._controller=new Sw(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(n,r,i){var a=n.getData(),o=n.layoutInfo,s=this._mainGroup,l=n.get("layout");l==="radial"?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(n,i),this._updateController(n,r,i);var u=this._data;a.diff(u).add(function(c){Bte(a,c)&&kte(a,c,null,s,n)}).update(function(c,f){var d=u.getItemGraphicEl(f);if(!Bte(a,c)){d&&Ute(u,f,d,s,n);return}kte(a,c,d,s,n)}).remove(function(c){var f=u.getItemGraphicEl(c);f&&Ute(u,c,f,s,n)}).execute(),this._nodeScaleRatio=n.get("nodeScaleRatio"),this._updateNodeAndLinkScale(n),n.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,f){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:n.id,dataIndex:f})})}),this._data=a},t.prototype._updateViewCoordSys=function(n,r){var i=n.getData(),a=[];i.each(function(f){var d=i.getItemLayout(f);d&&!isNaN(d.x)&&!isNaN(d.y)&&a.push([+d.x,+d.y])});var o=[],s=[];vP(a,o,s);var l=this._min,u=this._max;s[0]-o[0]===0&&(o[0]=l?l[0]:o[0]-1,s[0]=u?u[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=l?l[1]:o[1]-1,s[1]=u?u[1]:s[1]+1);var c=n.coordinateSystem=new Aw;c.zoomLimit=n.get("scaleLimit"),c.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),c.setCenter(n.get("center"),r),c.setZoom(n.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=o,this._max=s},t.prototype._updateController=function(n,r,i){var a=this,o=this._controller,s=this._controllerHost,l=this.group;o.setPointerChecker(function(u,c,f){var d=l.getBoundingRect();return d.applyTransform(l.transform),d.contain(c,f)&&!UP(u,i,n)}),o.enable(n.get("roam")),s.zoomLimit=n.get("scaleLimit"),s.zoom=n.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){uG(s,u.dx,u.dy),i.dispatchAction({seriesId:n.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){cG(s,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:n.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(n),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(n){var r=n.getData(),i=this._getNodeGlobalScale(n);r.eachItemGraphicEl(function(a,o){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(n){var r=n.coordinateSystem;if(r.type!=="view")return 1;var i=this._nodeScaleRatio,a=r.scaleX||1,o=r.getZoom(),s=(o-1)*i+1;return s/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(ta);function Bte(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function kte(e,t,n,r,i){var a=!n,o=e.tree.getNodeByDataIndex(t),s=o.getModel(),l=o.getVisual("style").fill,u=o.isExpand===!1&&o.children.length!==0?l:"#fff",c=e.tree.root,f=o.parentNode===c?o:o.parentNode||o,d=e.getItemGraphicEl(f.dataIndex),h=f.getLayout(),p=d?{x:d.__oldX,y:d.__oldY,rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:h,v=o.getLayout();a?(n=new gw(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),n.x=p.x,n.y=p.y):n.updateData(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=v.rawX,n.__radialRawY=v.rawY,r.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,Si(n,{x:v.x,y:v.y},i);var g=n.getSymbolPath();if(i.get("layout")==="radial"){var m=c.children[0],b=m.getLayout(),_=m.children.length,x=void 0,E=void 0;if(v.x===b.x&&o.isExpand===!0&&m.children.length){var A={x:(m.children[0].getLayout().x+m.children[_-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[_-1].getLayout().y)/2};x=Math.atan2(A.y-b.y,A.x-b.x),x<0&&(x=Math.PI*2+x),E=A.x<b.x,E&&(x=x-Math.PI)}else x=Math.atan2(v.y-b.y,v.x-b.x),x<0&&(x=Math.PI*2+x),o.children.length===0||o.children.length!==0&&o.isExpand===!1?(E=v.x<b.x,E&&(x=x-Math.PI)):(E=v.x>b.x,E||(x=x-Math.PI));var T=E?"left":"right",R=s.getModel("label"),M=R.get("rotate"),O=M*(Math.PI/180),D=g.getTextContent();D&&(g.setTextConfig({position:R.get("position")||T,rotation:M==null?-x:O,origin:"center"}),D.setStyle("verticalAlign","middle"))}var C=s.get(["emphasis","focus"]),P=C==="relative"?PM(o.getAncestorsIndices(),o.getDescendantIndices()):C==="ancestor"?o.getAncestorsIndices():C==="descendant"?o.getDescendantIndices():null;P&&(gr(n).focus=P),ygt(i,o,c,n,p,h,v,r),n.__edge&&(n.onHoverStateChange=function(B){if(B!=="blur"){var U=o.parentNode&&e.getItemGraphicEl(o.parentNode.dataIndex);U&&U.hoverState===sw||HM(n.__edge,B)}})}function ygt(e,t,n,r,i,a,o,s){var l=t.getModel(),u=e.get("edgeShape"),c=e.get("layout"),f=e.getOrient(),d=e.get(["lineStyle","curveness"]),h=e.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),v=r.__edge;if(u==="curve")t.parentNode&&t.parentNode!==n&&(v||(v=r.__edge=new uw({shape:h9(c,f,d,i,i)})),Si(v,{shape:h9(c,f,d,a,o)},e));else if(u==="polyline"&&c==="orthogonal"&&t!==n&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var g=t.children,m=[],b=0;b<g.length;b++){var _=g[b].getLayout();m.push([_.x,_.y])}v||(v=r.__edge=new ggt({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:f,forkPosition:h}})),Si(v,{shape:{parentPoint:[o.x,o.y],childPoints:m}},e)}v&&!(u==="polyline"&&!t.isExpand)&&(v.useStyle(tr({strokeNoScale:!0,fill:null},p)),Ls(v,l,"lineStyle"),by(v),s.add(v))}function Fte(e,t,n,r,i){var a=t.tree.root,o=bSe(a,e),s=o.source,l=o.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var c=t.getItemGraphicEl(s.dataIndex),f=c.__edge,d=u.__edge||(s.isExpand===!1||s.children.length===1?f:void 0),h=r.get("edgeShape"),p=r.get("layout"),v=r.get("orient"),g=r.get(["lineStyle","curveness"]);d&&(h==="curve"?zg(d,{shape:h9(p,v,g,l,l),style:{opacity:0}},r,{cb:function(){n.remove(d)},removeOpt:i}):h==="polyline"&&r.get("layout")==="orthogonal"&&zg(d,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){n.remove(d)},removeOpt:i}))}}function bSe(e,t){for(var n=t.parentNode===e?t:t.parentNode||t,r;r=n.getLayout(),r==null;)n=n.parentNode===e?n:n.parentNode||n;return{source:n,sourceLayout:r}}function Ute(e,t,n,r,i){var a=e.tree.getNodeByDataIndex(t),o=e.tree.root,s=bSe(o,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};zg(n,{x:s.x+1,y:s.y+1},i,{cb:function(){r.remove(n),e.setItemGraphicEl(t,null)},removeOpt:l}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){Fte(u,e,r,i,l)}),Fte(a,e,r,i,l)}function h9(e,t,n,r,i){var a,o,s,l,u,c,f,d;if(e==="radial"){u=r.rawX,f=r.rawY,c=i.rawX,d=i.rawY;var h=hE(u,f),p=hE(u,f+(d-f)*n),v=hE(c,d+(f-d)*n),g=hE(c,d);return{x1:h.x||0,y1:h.y||0,x2:g.x||0,y2:g.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:v.x||0,cpy2:v.y||0}}else u=r.x,f=r.y,c=i.x,d=i.y,(t==="LR"||t==="RL")&&(a=u+(c-u)*n,o=f,s=c+(u-c)*n,l=d),(t==="TB"||t==="BT")&&(a=u,o=f+(d-f)*n,s=c,l=d+(f-d)*n);return{x1:u,y1:f,x2:c,y2:d,cpx1:a,cpy1:o,cpx2:s,cpy2:l}}var Lc=ui();function xSe(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,SSe(t,n,e),te(n,function(r){te(t.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,Tr(_gt,e))})}),t.wrapMethod("cloneShallow",Tr(xgt,e)),te(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,Tr(bgt,e))}),Pl(n[t.dataType]===t)}function _gt(e,t){if(Egt(this)){var n=Ct({},Lc(this).datas);n[this.dataType]=t,SSe(t,n,e)}else hG(t,this.dataType,Lc(this).mainData,e);return t}function bgt(e,t){return e.struct&&e.struct.update(),t}function xgt(e,t){return te(Lc(t).datas,function(n,r){n!==t&&hG(n.cloneShallow(),r,t,e)}),t}function Sgt(e){var t=Lc(this).mainData;return e==null||t==null?t:Lc(t).datas[e]}function Agt(){var e=Lc(this).mainData;return e==null?[{data:e}]:Vt(Jr(Lc(e).datas),function(t){return{type:t,data:Lc(e).datas[t]}})}function Egt(e){return Lc(e).mainData===e}function SSe(e,t,n){Lc(e).datas={},te(t,function(r,i){hG(r,i,e,n)})}function hG(e,t,n,r){Lc(n).datas[t]=e,Lc(e).mainData=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=Sgt,e.getLinkedDataAll=Agt}var Tgt=function(){function e(t,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=n}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(t,n,r){er(t)&&(r=n,n=t,t=null),t=t||{},An(t)&&(t={order:t});var i=t.order||"preorder",a=this[t.attr||"children"],o;i==="preorder"&&(o=n.call(r,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(t,n,r);i==="postorder"&&n.call(r,this)},e.prototype.updateDepthAndHeight=function(t){var n=0;this.depth=t;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(t+1),i.height>n&&(n=i.height)}this.height=n+1},e.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var n=0,r=this.children,i=r.length;n<i;n++){var a=r[n].getNodeById(t);if(a)return a}},e.prototype.contains=function(t){if(t===this)return!0;for(var n=0,r=this.children,i=r.length;n<i;n++){var a=r[n].contains(t);if(a)return a}},e.prototype.getAncestors=function(t){for(var n=[],r=t?this:this.parentNode;r;)n.push(r),r=r.parentNode;return n.reverse(),n},e.prototype.getAncestorsIndices=function(){for(var t=[],n=this;n;)t.push(n.dataIndex),n=n.parentNode;return t.reverse(),t},e.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(n){t.push(n.dataIndex)}),t},e.prototype.getValue=function(t){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},e.prototype.setLayout=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,n)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostTree,r=n.data.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,n)},e.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,n=0;n<t.length;++n)if(t[n]===this)return n;return-1}return-1},e.prototype.isAncestorOf=function(t){for(var n=t.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},e.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},e}(),pG=function(){function e(t){this.type="tree",this._nodes=[],this.hostModel=t}return e.prototype.eachNode=function(t,n,r){this.root.eachNode(t,n,r)},e.prototype.getNodeByDataIndex=function(t){var n=this.data.getRawIndex(t);return this._nodes[n]},e.prototype.getNodeById=function(t){return this.root.getNodeById(t)},e.prototype.update=function(){for(var t=this.data,n=this._nodes,r=0,i=n.length;r<i;r++)n[r].dataIndex=-1;for(var r=0,i=t.count();r<i;r++)n[t.getRawIndex(r)].dataIndex=r},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,r){var i=new e(n),a=[],o=1;s(t);function s(c,f){var d=c.value;o=Math.max(o,Lt(d)?d.length:1),a.push(c);var h=new Tgt(Uo(c.name,""),i);f?wgt(h,f):i.root=h,i._nodes.push(h);var p=c.children;if(p)for(var v=0;v<p.length;v++)s(p[v],h)}i.root.updateDepthAndHeight(0);var l=pw(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,u=new Rl(l,n);return u.initData(a),r&&r(u),xSe({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},e}();function wgt(e,t){var n=t.children;e.parentNode!==t&&(n.push(e),e.parentNode=t)}function hT(e,t,n){if(e&&Ur(t,e.type)>=0){var r=n.getData().tree.root,i=e.targetNode;if(An(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var a=e.targetNodeId;if(a!=null&&(i=r.getNodeById(a)))return{node:i}}}function ASe(e){for(var t=[];e;)e=e.parentNode,e&&t.push(e);return t.reverse()}function vG(e,t){var n=ASe(e);return Ur(n,t)>=0}function zP(e,t){for(var n=[];e;){var r=e.dataIndex;n.push({name:e.name,dataIndex:r,value:t.getRawValue(r)}),e=e.parentNode}return n.reverse(),n}var Cgt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.hasSymbolVisual=!0,n.ignoreStyleOnData=!0,n}return t.prototype.getInitialData=function(n){var r={name:n.name,children:n.data},i=n.leaves||{},a=new zi(i,this,this.ecModel),o=pG.createTree(r,this,s);function s(f){f.wrapMethod("getItemModel",function(d,h){var p=o.getNodeByDataIndex(h);return p&&p.children.length&&p.isExpand||(d.parentModel=a),d})}var l=0;o.eachNode("preorder",function(f){f.depth>l&&(l=f.depth)});var u=n.expandAndCollapse,c=u&&n.initialTreeDepth>=0?n.initialTreeDepth:l;return o.root.eachNode("preorder",function(f){var d=f.hostTree.data.getRawDataItem(f.dataIndex);f.isExpand=d&&d.collapsed!=null?!d.collapsed:f.depth<=c}),o.data},t.prototype.getOrient=function(){var n=this.get("orient");return n==="horizontal"?n="LR":n==="vertical"&&(n="TB"),n},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.formatTooltip=function(n,r,i){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(n),l=s.getValue(),u=s.name;s&&s!==o;)u=s.parentNode.name+"."+u,s=s.parentNode;return as("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(n){var r=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=zP(i,this),r.collapsed=!i.isExpand,r},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(va);function Rgt(e,t,n){for(var r=[e],i=[],a;a=r.pop();)if(i.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)r.push(o[s])}for(;a=i.pop();)t(a,n)}function xA(e,t){for(var n=[e],r;r=n.pop();)if(t(r),r.isExpand){var i=r.children;if(i.length)for(var a=i.length-1;a>=0;a--)n.push(i[a])}}function Igt(e,t){e.eachSeriesByType("tree",function(n){Mgt(n,t)})}function Mgt(e,t){var n=ugt(e,t);e.layoutInfo=n;var r=e.get("layout"),i=0,a=0,o=null;r==="radial"?(i=2*Math.PI,a=Math.min(n.height,n.width)/2,o=Nte(function(_,x){return(_.parentNode===x.parentNode?1:2)/_.depth})):(i=n.width,a=n.height,o=Nte());var s=e.getData().tree.root,l=s.children[0];if(l){ogt(s),Rgt(l,sgt,o),s.hierNode.modifier=-l.hierNode.prelim,xA(l,lgt);var u=l,c=l,f=l;xA(l,function(_){var x=_.getLayout().x;x<u.getLayout().x&&(u=_),x>c.getLayout().x&&(c=_),_.depth>f.depth&&(f=_)});var d=u===c?1:o(u,c)/2,h=d-u.getLayout().x,p=0,v=0,g=0,m=0;if(r==="radial")p=i/(c.getLayout().x+d+h),v=a/(f.depth-1||1),xA(l,function(_){g=(_.getLayout().x+h)*p,m=(_.depth-1)*v;var x=hE(g,m);_.setLayout({x:x.x,y:x.y,rawX:g,rawY:m},!0)});else{var b=e.getOrient();b==="RL"||b==="LR"?(v=a/(c.getLayout().x+d+h),p=i/(f.depth-1||1),xA(l,function(_){m=(_.getLayout().x+h)*v,g=b==="LR"?(_.depth-1)*p:i-(_.depth-1)*p,_.setLayout({x:g,y:m},!0)})):(b==="TB"||b==="BT")&&(p=i/(c.getLayout().x+d+h),v=a/(f.depth-1||1),xA(l,function(_){g=(_.getLayout().x+h)*p,m=b==="TB"?(_.depth-1)*v:a-(_.depth-1)*v,_.setLayout({x:g,y:m},!0)}))}}}function Ogt(e){e.eachSeriesByType("tree",function(t){var n=t.getData(),r=n.tree;r.eachNode(function(i){var a=i.getModel(),o=a.getModel("itemStyle").getItemStyle(),s=n.ensureUniqueItemVisual(i.dataIndex,"style");Ct(s,o)})})}function Dgt(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var i=t.dataIndex,a=r.getData().tree,o=a.getNodeByDataIndex(i);o.isExpand=!o.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,n,r){n.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var a=i.coordinateSystem,o=dG(a,t,void 0,r);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}function Pgt(e){e.registerChartView(mgt),e.registerSeriesModel(Cgt),e.registerLayout(Igt),e.registerVisual(Ogt),Dgt(e)}var Vte=["treemapZoomToNode","treemapRender","treemapMove"];function Lgt(e){for(var t=0;t<Vte.length;t++)e.registerAction({type:Vte[t],update:"updateView"},mo);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"treemap",query:n},i);function i(a,o){var s=["treemapZoomToNode","treemapRootToNode"],l=hT(n,s,a);if(l){var u=a.getViewRoot();u&&(n.direction=vG(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function ESe(e){var t=e.getData(),n=t.tree,r={};n.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var o=zV(e.ecModel,a.name||a.dataIndex+"",r);i.setVisual("decal",o)})}var Ngt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return t.prototype.getInitialData=function(n,r){var i={name:n.name,children:n.data};TSe(i);var a=n.levels||[],o=this.designatedVisualItemStyle={},s=new zi({itemStyle:o},this,r);a=n.levels=Bgt(a,r);var l=Vt(a||[],function(f){return new zi(f,s,r)},this),u=pG.createTree(i,this,c);function c(f){f.wrapMethod("getItemModel",function(d,h){var p=u.getNodeByDataIndex(h),v=p?l[p.depth]:null;return d.parentModel=v||s,d})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(n,r,i){var a=this.getData(),o=this.getRawValue(n),s=a.getName(n);return as("nameValue",{name:s,value:o})},t.prototype.getDataParams=function(n){var r=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=zP(i,this),r.treePathInfo=r.treeAncestors,r},t.prototype.setLayoutInfo=function(n){this.layoutInfo=this.layoutInfo||{},Ct(this.layoutInfo,n)},t.prototype.mapIdToIndex=function(n){var r=this._idIndexMap;r||(r=this._idIndexMap=Fn(),this._idIndexMapCount=0);var i=r.get(n);return i==null&&r.set(n,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){ESe(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(va);function TSe(e){var t=0;te(e.children,function(r){TSe(r);var i=r.value;Lt(i)&&(i=i[0]),t+=i});var n=e.value;Lt(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),Lt(e.value)?e.value[0]=n:e.value=n}function Bgt(e,t){var n=Zi(t.get("color")),r=Zi(t.get(["aria","decal","decals"]));if(n){e=e||[];var i,a;te(e,function(s){var l=new zi(s),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var o=e[0]||(e[0]={});return i||(o.color=n.slice()),!a&&r&&(o.decal=r.slice()),e}}var kgt=8,zte=8,GB=5,Fgt=function(){function e(t){this.group=new hr,t.add(this.group)}return e.prototype.render=function(t,n,r,i){var a=t.getModel("breadcrumb"),o=this.group;if(o.removeAll(),!(!a.get("show")||!r)){var s=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=s.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),f={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:n.getWidth(),height:n.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,f,u),this._renderContent(t,f,s,l,u,c,i),RP(o,f.pos,f.box)}},e.prototype._prepare=function(t,n,r){for(var i=t;i;i=i.parentNode){var a=Uo(i.getModel().get("name"),""),o=r.getTextRect(a),s=Math.max(o.width+kgt*2,n.emptyItemWidth);n.totalWidth+=s+zte,n.renderList.push({node:i,text:a,width:s})}},e.prototype._renderContent=function(t,n,r,i,a,o,s){for(var l=0,u=n.emptyItemWidth,c=t.get(["breadcrumb","height"]),f=Ylt(n.pos,n.box),d=n.totalWidth,h=n.renderList,p=i.getModel("itemStyle").getItemStyle(),v=h.length-1;v>=0;v--){var g=h[v],m=g.node,b=g.width,_=g.text;d>f.width&&(d-=b-u,b=u,_=null);var x=new Bl({shape:{points:Ugt(l,0,b,c,v===h.length-1,v===0)},style:tr(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new pi({style:ha(a,{text:_})}),textConfig:{position:"inside"},z2:Px*1e4,onclick:Tr(s,m)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=ha(o,{text:_}),x.ensureState("emphasis").style=p,to(x,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(x),Vgt(x,t,m),l+=b+zte}},e.prototype.remove=function(){this.group.removeAll()},e}();function Ugt(e,t,n,r,i,a){var o=[[i?e:e-GB,t],[e+n,t],[e+n,t+r],[i?e:e-GB,t+r]];return!a&&o.splice(2,0,[e+n+GB,t+r/2]),!i&&o.push([e,t+r/2]),o}function Vgt(e,t,n){gr(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&zP(n,t)}}var zgt=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(t,n,r,i,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:n,duration:r,delay:i,easing:a}),!0)},e.prototype.finished=function(t){return this._finishedCallback=t,this},e.prototype.start=function(){for(var t=this,n=this._storage.length,r=function(){n--,n<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var o=this._storage[i];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:r,aborted:r})}return this},e}();function $gt(){return new zgt}var p9=hr,$te=si,Hte=3,Wte="label",Gte="upperLabel",Hgt=Px*10,Wgt=Px*2,Ggt=Px*3,g0=_y([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),jte=function(e){var t=g0(e);return t.stroke=t.fill=t.lineWidth=null,t},fO=ui(),jgt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._state="ready",n._storage=SA(),n}return t.prototype.render=function(n,r,i,a){var o=r.findComponents({mainType:"series",subType:"treemap",query:a});if(!(Ur(o,n)<0)){this.seriesModel=n,this.api=i,this.ecModel=r;var s=["treemapZoomToNode","treemapRootToNode"],l=hT(a,s,n),u=a&&a.type,c=n.layoutInfo,f=!this._oldTree,d=this._storage,h=u==="treemapRootToNode"&&l&&d?{rootNodeGroup:d.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,p=this._giveContainerGroup(c),v=n.get("animation"),g=this._doRender(p,n,h);v&&!f&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(p,g,n,h):g.renderFinally(),this._resetController(i),this._renderBreadcrumb(n,i,l)}},t.prototype._giveContainerGroup=function(n){var r=this._containerGroup;return r||(r=this._containerGroup=new p9,this._initEvents(r),this.group.add(r)),r.x=n.x,r.y=n.y,r},t.prototype._doRender=function(n,r,i){var a=r.getData().tree,o=this._oldTree,s=SA(),l=SA(),u=this._storage,c=[];function f(b,_,x,E){return Ygt(r,l,u,i,s,c,b,_,x,E)}v(a.root?[a.root]:[],o&&o.root?[o.root]:[],n,a===o||!o,0);var d=g(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var h=this.seriesModel.layoutInfo,p=a.root.getLayout();p.width===h.width&&p.height===h.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:d,renderFinally:m};function v(b,_,x,E,A){E?(_=b,te(b,function(M,O){!M.isRemoved()&&R(O,O)})):new Dp(_,b,T,T).add(R).update(R).remove(Tr(R,null)).execute();function T(M){return M.getId()}function R(M,O){var D=M!=null?b[M]:null,C=O!=null?_[O]:null,P=f(D,C,x,A);P&&v(D&&D.viewChildren||[],C&&C.viewChildren||[],P,E,A+1)}}function g(b){var _=SA();return b&&te(b,function(x,E){var A=_[E];te(x,function(T){T&&(A.push(T),fO(T).willDelete=!0)})}),_}function m(){te(d,function(b){te(b,function(_){_.parent&&_.parent.remove(_)})}),te(c,function(b){b.invisible=!0,b.dirty()})}},t.prototype._doAnimation=function(n,r,i,a){var o=i.get("animationDurationUpdate"),s=i.get("animationEasing"),l=(er(o)?0:o)||0,u=(er(s)?null:s)||"cubicOut",c=$gt();te(r.willDeleteEls,function(f,d){te(f,function(h,p){if(!h.invisible){var v=h.parent,g,m=fO(v);if(a&&a.direction==="drillDown")g=v===a.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var b=0,_=0;m.willDelete||(b=m.nodeWidth/2,_=m.nodeHeight/2),g=d==="nodeGroup"?{x:b,y:_,style:{opacity:0}}:{shape:{x:b,y:_,width:0,height:0},style:{opacity:0}}}g&&c.add(h,g,l,0,u)}})}),te(this._storage,function(f,d){te(f,function(h,p){var v=r.lastsForAnimation[d][p],g={};v&&(h instanceof hr?v.oldX!=null&&(g.x=h.x,g.y=h.y,h.x=v.oldX,h.y=v.oldY):(v.oldShape&&(g.shape=Ct({},h.shape),h.setShape(v.oldShape)),v.fadein?(h.setStyle("opacity",0),g.style={opacity:1}):h.style.opacity!==1&&(g.style={opacity:1})),c.add(h,g,l,0,u))})},this),this._state="animating",c.finished(Rn(function(){this._state="ready",r.renderFinally()},this)).start()},t.prototype._resetController=function(n){var r=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),r||(r=this._controller=new Sw(n.getZr()),r.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),r.on("pan",Rn(this._onPan,this)),r.on("zoom",Rn(this._onZoom,this)));var a=new Mr(0,0,n.getWidth(),n.getHeight());r.setPointerChecker(function(o,s,l){return a.contain(s,l)})},t.prototype._clearController=function(){var n=this._controller;this._controllerHost=null,n&&(n.dispose(),n=null)},t.prototype._onPan=function(n){if(this._state!=="animating"&&(Math.abs(n.dx)>Hte||Math.abs(n.dy)>Hte)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+n.dx,y:i.y+n.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(n){var r=n.originX,i=n.originY,a=n.scale;if(this._state!=="animating"){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var l=new Mr(s.x,s.y,s.width,s.height),u=null,c=this._controllerHost;u=c.zoomLimit;var f=c.zoom=c.zoom||1;if(f*=a,u){var d=u.min||0,h=u.max||1/0;f=Math.max(Math.min(h,f),d)}var p=f/c.zoom;c.zoom=f;var v=this.seriesModel.layoutInfo;r-=v.x,i-=v.y;var g=$u();rh(g,g,[-r,-i]),iW(g,g,[p,p]),rh(g,g,[r,i]),l.applyTransform(g),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(n){var r=this;n.on("click",function(i){if(r._state==="ready"){var a=r.seriesModel.get("nodeClick",!0);if(a){var o=r.findTarget(i.offsetX,i.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)r._rootToNode(o);else if(a==="zoomToNode")r._zoomToNode(o);else if(a==="link"){var l=s.hostTree.data.getItemModel(s.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&KM(u,c)}}}}},this)},t.prototype._renderBreadcrumb=function(n,r,i){var a=this;i||(i=n.get("leafDepth",!0)!=null?{node:n.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2),i||(i={node:n.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Fgt(this.group))).render(n,r,i.node,function(o){a._state!=="animating"&&(vG(n.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=SA(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},t.prototype._rootToNode=function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},t.prototype.findTarget=function(n,r){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(n,r),u=s.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:o,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},t.type="treemap",t}(ta);function SA(){return{nodeGroup:[],background:[],content:[]}}function Ygt(e,t,n,r,i,a,o,s,l,u){if(!o)return;var c=o.getLayout(),f=e.getData(),d=o.getModel();if(f.setItemGraphicEl(o.dataIndex,null),!c||!c.isInView)return;var h=c.width,p=c.height,v=c.borderWidth,g=c.invisible,m=o.getRawIndex(),b=s&&s.getRawIndex(),_=o.viewChildren,x=c.upperHeight,E=_&&_.length,A=d.getModel("itemStyle"),T=d.getModel(["emphasis","itemStyle"]),R=d.getModel(["blur","itemStyle"]),M=d.getModel(["select","itemStyle"]),O=A.get("borderRadius")||0,D=ue("nodeGroup",p9);if(!D)return;if(l.add(D),D.x=c.x||0,D.y=c.y||0,D.markRedraw(),fO(D).nodeWidth=h,fO(D).nodeHeight=p,c.isAboveViewRoot)return D;var C=ue("background",$te,u,Wgt);C&&V(D,C,E&&c.upperLabelHeight);var P=d.getModel("emphasis"),B=P.get("focus"),U=P.get("blurScope"),L=P.get("disabled"),F=B==="ancestor"?o.getAncestorsIndices():B==="descendant"?o.getDescendantIndices():B;if(E)eT(D)&&B0(D,!1),C&&(B0(C,!L),f.setItemGraphicEl(o.dataIndex,C),PV(C,F,U));else{var N=ue("content",$te,u,Ggt);N&&W(D,N),C.disableMorphing=!0,C&&eT(C)&&B0(C,!1),B0(D,!L),f.setItemGraphicEl(o.dataIndex,D),PV(D,F,U)}return D;function V(ee,de,oe){var pe=gr(de);if(pe.dataIndex=o.dataIndex,pe.seriesIndex=e.seriesIndex,de.setShape({x:0,y:0,width:h,height:p,r:O}),g)G(de);else{de.invisible=!1;var me=o.getVisual("style"),re=me.stroke,ne=jte(A);ne.fill=re;var se=g0(T);se.fill=T.get("borderColor");var be=g0(R);be.fill=R.get("borderColor");var Pe=g0(M);if(Pe.fill=M.get("borderColor"),oe){var Ee=h-2*v;K(de,re,me.opacity,{x:v,y:0,width:Ee,height:x})}else de.removeTextContent();de.setStyle(ne),de.ensureState("emphasis").style=se,de.ensureState("blur").style=be,de.ensureState("select").style=Pe,by(de)}ee.add(de)}function W(ee,de){var oe=gr(de);oe.dataIndex=o.dataIndex,oe.seriesIndex=e.seriesIndex;var pe=Math.max(h-2*v,0),me=Math.max(p-2*v,0);if(de.culling=!0,de.setShape({x:v,y:v,width:pe,height:me,r:O}),g)G(de);else{de.invisible=!1;var re=o.getVisual("style"),ne=re.fill,se=jte(A);se.fill=ne,se.decal=re.decal;var be=g0(T),Pe=g0(R),Ee=g0(M);K(de,ne,re.opacity,null),de.setStyle(se),de.ensureState("emphasis").style=be,de.ensureState("blur").style=Pe,de.ensureState("select").style=Ee,by(de)}ee.add(de)}function G(ee){!ee.invisible&&a.push(ee)}function K(ee,de,oe,pe){var me=d.getModel(pe?Gte:Wte),re=Uo(d.get("name"),null),ne=me.getShallow("show");Ns(ee,is(d,pe?Gte:Wte),{defaultText:ne?re:null,inheritColor:de,defaultOpacity:oe,labelFetcher:e,labelDataIndex:o.dataIndex});var se=ee.getTextContent();if(se){var be=se.style,Pe=tW(be.padding||0);pe&&(ee.setTextConfig({layoutRect:pe}),se.disableLabelLayout=!0),se.beforeUpdate=function(){var Le=Math.max((pe?pe.width:ee.shape.width)-Pe[1]-Pe[3],0),He=Math.max((pe?pe.height:ee.shape.height)-Pe[0]-Pe[2],0);(be.width!==Le||be.height!==He)&&se.setStyle({width:Le,height:He})},be.truncateMinChar=2,be.lineOverflow="truncate",q(be,pe,c);var Ee=se.getState("emphasis");q(Ee?Ee.style:null,pe,c)}}function q(ee,de,oe){var pe=ee?ee.text:null;if(!de&&oe.isLeafRoot&&pe!=null){var me=e.get("drillDownIcon",!0);ee.text=me?me+" "+pe:pe}}function ue(ee,de,oe,pe){var me=b!=null&&n[ee][b],re=i[ee];return me?(n[ee][b]=null,he(re,me)):g||(me=new de,me instanceof Uc&&(me.z2=Xgt(oe,pe)),Ce(re,me)),t[ee][m]=me}function he(ee,de){var oe=ee[m]={};de instanceof p9?(oe.oldX=de.x,oe.oldY=de.y):oe.oldShape=Ct({},de.shape)}function Ce(ee,de){var oe=ee[m]={},pe=o.parentNode,me=de instanceof hr;if(pe&&(!r||r.direction==="drillDown")){var re=0,ne=0,se=i.background[pe.getRawIndex()];!r&&se&&se.oldShape&&(re=se.oldShape.width,ne=se.oldShape.height),me?(oe.oldX=0,oe.oldY=ne):oe.oldShape={x:re,y:ne,width:0,height:0}}oe.fadein=!me}}function Xgt(e,t){return e*Hgt+t}var pT=te,Kgt=ar,dO=-1,es=function(){function e(t){var n=t.mappingMethod,r=t.type,i=this.option=sr(t);this.type=r,this.mappingMethod=n,this._normalizeData=Qgt[n];var a=e.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[n],n==="piecewise"?(jB(i),qgt(i)):n==="category"?i.categories?Zgt(i):jB(i,!0):(Pl(n!=="linear"||i.dataExtent),jB(i))}return e.prototype.mapValueToVisual=function(t){var n=this._normalizeData(t);return this._normalizedToVisual(n,t)},e.prototype.getNormalizer=function(){return Rn(this._normalizeData,this)},e.listVisualTypes=function(){return Jr(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(t,n,r){ar(t)?te(t,n,r):n.call(r,t)},e.mapVisual=function(t,n,r){var i,a=Lt(t)?[]:ar(t)?{}:(i=!0,null);return e.eachVisual(t,function(o,s){var l=n.call(r,o,s);i?a=l:a[s]=l}),a},e.retrieveVisuals=function(t){var n={},r;return t&&pT(e.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(n[a]=t[a],r=!0)}),r?n:null},e.prepareVisualTypes=function(t){if(Lt(t))t=t.slice();else if(Kgt(t)){var n=[];pT(t,function(r,i){n.push(i)}),t=n}else return[];return t.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),t},e.dependsOn=function(t,n){return n==="color"?!!(t&&t.indexOf(n)===0):t===n},e.findPieceIndex=function(t,n,r){for(var i,a=1/0,o=0,s=n.length;o<s;o++){var l=n[o].value;if(l!=null){if(l===t||An(l)&&l===t+"")return o;r&&d(l,o)}}for(var o=0,s=n.length;o<s;o++){var u=n[o],c=u.interval,f=u.close;if(c){if(c[0]===-1/0){if(aI(f[1],t,c[1]))return o}else if(c[1]===1/0){if(aI(f[0],c[0],t))return o}else if(aI(f[0],c[0],t)&&aI(f[1],t,c[1]))return o;r&&d(c[0],o),r&&d(c[1],o)}}if(r)return t===1/0?n.length-1:t===-1/0?0:i;function d(h,p){var v=Math.abs(h-t);v<a&&(a=v,i=p)}},e.visualHandlers={color:{applyVisual:AA("color"),getColorMapper:function(){var t=this.option;return Rn(t.mappingMethod==="category"?function(n,r){return!r&&(n=this._normalizeData(n)),pE.call(this,n)}:function(n,r,i){var a=!!i;return!r&&(n=this._normalizeData(n)),i=wN(n,t.parsedVisual,i),a?i:yp(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return yp(wN(t,this.option.parsedVisual),"rgba")},category:pE,piecewise:function(t,n){var r=g9.call(this,n);return r==null&&(r=yp(wN(t,this.option.parsedVisual),"rgba")),r},fixed:m0}},colorHue:iI(function(t,n){return KE(t,n)}),colorSaturation:iI(function(t,n){return KE(t,null,n)}),colorLightness:iI(function(t,n){return KE(t,null,null,n)}),colorAlpha:iI(function(t,n){return kM(t,n)}),decal:{applyVisual:AA("decal"),_normalizedToVisual:{linear:null,category:pE,piecewise:null,fixed:null}},opacity:{applyVisual:AA("opacity"),_normalizedToVisual:v9([0,1])},liftZ:{applyVisual:AA("liftZ"),_normalizedToVisual:{linear:m0,category:m0,piecewise:m0,fixed:m0}},symbol:{applyVisual:function(t,n,r){var i=this.mapValueToVisual(t);r("symbol",i)},_normalizedToVisual:{linear:Yte,category:pE,piecewise:function(t,n){var r=g9.call(this,n);return r==null&&(r=Yte.call(this,t)),r},fixed:m0}},symbolSize:{applyVisual:AA("symbolSize"),_normalizedToVisual:v9([0,1])}},e}();function qgt(e){var t=e.pieceList;e.hasSpecialVisual=!1,te(t,function(n,r){n.originIndex=r,n.visual!=null&&(e.hasSpecialVisual=!0)})}function Zgt(e){var t=e.categories,n=e.categoryMap={},r=e.visual;if(pT(t,function(o,s){n[o]=s}),!Lt(r)){var i=[];ar(r)?pT(r,function(o,s){var l=n[s];i[l??dO]=o}):i[dO]=r,r=wSe(e,i)}for(var a=t.length-1;a>=0;a--)r[a]==null&&(delete n[t[a]],t.pop())}function jB(e,t){var n=e.visual,r=[];ar(n)?pT(n,function(a){r.push(a)}):n!=null&&r.push(n);var i={color:1,symbol:1};!t&&r.length===1&&!i.hasOwnProperty(e.type)&&(r[1]=r[0]),wSe(e,r)}function iI(e){return{applyVisual:function(t,n,r){var i=this.mapValueToVisual(t);r("color",e(n("color"),i))},_normalizedToVisual:v9([0,1])}}function Yte(e){var t=this.option.visual;return t[Math.round(Wi(e,[0,1],[0,t.length-1],!0))]||{}}function AA(e){return function(t,n,r){r(e,this.mapValueToVisual(t))}}function pE(e){var t=this.option.visual;return t[this.option.loop&&e!==dO?e%t.length:e]}function m0(){return this.option.visual[0]}function v9(e){return{linear:function(t){return Wi(t,e,this.option.visual,!0)},category:pE,piecewise:function(t,n){var r=g9.call(this,n);return r==null&&(r=Wi(t,e,this.option.visual,!0)),r},fixed:m0}}function g9(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var r=es.findPieceIndex(e,n),i=n[r];if(i&&i.visual)return i.visual[this.type]}}function wSe(e,t){return e.visual=t,e.type==="color"&&(e.parsedVisual=Vt(t,function(n){var r=Hu(n);return r||[0,0,0,1]})),t}var Qgt={linear:function(e){return Wi(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=es.findPieceIndex(e,t,!0);if(n!=null)return Wi(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t??dO},fixed:mo};function aI(e,t,n){return e?t<=n:t<n}var Jgt="itemStyle",CSe=ui();const emt={seriesType:"treemap",reset:function(e){var t=e.getData().tree,n=t.root;n.isRemoved()||RSe(n,{},e.getViewRoot().getAncestors(),e)}};function RSe(e,t,n,r){var i=e.getModel(),a=e.getLayout(),o=e.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var s=i.getModel(Jgt),l=tmt(s,t,r),u=o.ensureUniqueItemVisual(e.dataIndex,"style"),c=s.get("borderColor"),f=s.get("borderColorSaturation"),d;f!=null&&(d=Xte(l),c=nmt(f,d)),u.stroke=c;var h=e.viewChildren;if(!h||!h.length)d=Xte(l),u.fill=d;else{var p=rmt(e,i,a,s,l,h);te(h,function(v,g){if(v.depth>=n.length||v===n[v.depth]){var m=imt(i,l,v,g,p,r);RSe(v,m,n,r)}})}}}function tmt(e,t,n){var r=Ct({},t),i=n.designatedVisualItemStyle;return te(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var o=e.get(a);i[a]=null,o!=null&&(r[a]=o)}),r}function Xte(e){var t=YB(e,"color");if(t){var n=YB(e,"colorAlpha"),r=YB(e,"colorSaturation");return r&&(t=KE(t,null,null,r)),n&&(t=kM(t,n)),t}}function nmt(e,t){return t!=null?KE(t,null,null,e):null}function YB(e,t){var n=e[t];if(n!=null&&n!=="none")return n}function rmt(e,t,n,r,i,a){if(!(!a||!a.length)){var o=XB(t,"color")||i.color!=null&&i.color!=="none"&&(XB(t,"colorAlpha")||XB(t,"colorSaturation"));if(o){var s=t.get("visualMin"),l=t.get("visualMax"),u=n.dataExtent.slice();s!=null&&s<u[0]&&(u[0]=s),l!=null&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),f={type:o.name,dataExtent:u,visual:o.range};f.type==="color"&&(c==="index"||c==="id")?(f.mappingMethod="category",f.loop=!0):f.mappingMethod="linear";var d=new es(f);return CSe(d).drColorMappingBy=c,d}}}function XB(e,t){var n=e.get(t);return Lt(n)&&n.length?{name:t,range:n}:null}function imt(e,t,n,r,i,a){var o=Ct({},t);if(i){var s=i.type,l=s==="color"&&CSe(i).drColorMappingBy,u=l==="index"?r:l==="id"?a.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));o[s]=i.mapValueToVisual(u)}return o}var vT=Math.max,hO=Math.min,Kte=hs,gG=te,ISe=["itemStyle","borderWidth"],amt=["itemStyle","gapWidth"],omt=["upperLabel","show"],smt=["upperLabel","height"];const lmt={seriesType:"treemap",reset:function(e,t,n,r){var i=n.getWidth(),a=n.getHeight(),o=e.option,s=$o(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=o.size||[],u=vn(Kte(s.width,l[0]),i),c=vn(Kte(s.height,l[1]),a),f=r&&r.type,d=["treemapZoomToNode","treemapRootToNode"],h=hT(r,d,e),p=f==="treemapRender"||f==="treemapMove"?r.rootRect:null,v=e.getViewRoot(),g=ASe(v);if(f!=="treemapMove"){var m=f==="treemapZoomToNode"?pmt(e,h,v,u,c):p?[p.width,p.height]:[u,c],b=o.sort;b&&b!=="asc"&&b!=="desc"&&(b="desc");var _={squareRatio:o.squareRatio,sort:b,leafDepth:o.leafDepth};v.hostTree.clearLayouts();var x={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};v.setLayout(x),MSe(v,_,!1,0),x=v.getLayout(),gG(g,function(A,T){var R=(g[T+1]||v).getValue();A.setLayout(Ct({dataExtent:[R,R],borderWidth:0,upperHeight:0},x))})}var E=e.getData().tree.root;E.setLayout(vmt(s,p,h),!0),e.setLayoutInfo(s),OSe(E,new Mr(-s.x,-s.y,i,a),g,v,0)}};function MSe(e,t,n,r){var i,a;if(!e.isRemoved()){var o=e.getLayout();i=o.width,a=o.height;var s=e.getModel(),l=s.get(ISe),u=s.get(amt)/2,c=DSe(s),f=Math.max(l,c),d=l-u,h=f-u;e.setLayout({borderWidth:l,upperHeight:f,upperLabelHeight:c},!0),i=vT(i-2*d,0),a=vT(a-d-h,0);var p=i*a,v=umt(e,s,p,t,n,r);if(v.length){var g={x:d,y:h,width:i,height:a},m=hO(i,a),b=1/0,_=[];_.area=0;for(var x=0,E=v.length;x<E;){var A=v[x];_.push(A),_.area+=A.getLayout().area;var T=hmt(_,m,t.squareRatio);T<=b?(x++,b=T):(_.area-=_.pop().getLayout().area,qte(_,m,g,u,!1),m=hO(g.width,g.height),_.length=_.area=0,b=1/0)}if(_.length&&qte(_,m,g,u,!0),!n){var R=s.get("childrenVisibleMin");R!=null&&p<R&&(n=!0)}for(var x=0,E=v.length;x<E;x++)MSe(v[x],t,n,r+1)}}}function umt(e,t,n,r,i,a){var o=e.children||[],s=r.sort;s!=="asc"&&s!=="desc"&&(s=null);var l=r.leafDepth!=null&&r.leafDepth<=a;if(i&&!l)return e.viewChildren=[];o=Xi(o,function(h){return!h.isRemoved()}),fmt(o,s);var u=dmt(t,o,s);if(u.sum===0)return e.viewChildren=[];if(u.sum=cmt(t,n,u.sum,s,o),u.sum===0)return e.viewChildren=[];for(var c=0,f=o.length;c<f;c++){var d=o[c].getValue()/u.sum*n;o[c].setLayout({area:d})}return l&&(o.length&&e.setLayout({isLeafRoot:!0},!0),o.length=0),e.viewChildren=o,e.setLayout({dataExtent:u.dataExtent},!0),o}function cmt(e,t,n,r,i){if(!r)return n;for(var a=e.get("visibleMin"),o=i.length,s=o,l=o-1;l>=0;l--){var u=i[r==="asc"?o-l-1:l].getValue();u/n*t<a&&(s=l,n-=u)}return r==="asc"?i.splice(0,o-s):i.splice(s,o-s),n}function fmt(e,t){return t&&e.sort(function(n,r){var i=t==="asc"?n.getValue()-r.getValue():r.getValue()-n.getValue();return i===0?t==="asc"?n.dataIndex-r.dataIndex:r.dataIndex-n.dataIndex:i}),e}function dmt(e,t,n){for(var r=0,i=0,a=t.length;i<a;i++)r+=t[i].getValue();var o=e.get("visualDimension"),s;return!t||!t.length?s=[NaN,NaN]:o==="value"&&n?(s=[t[t.length-1].getValue(),t[0].getValue()],n==="asc"&&s.reverse()):(s=[1/0,-1/0],gG(t,function(l){var u=l.getValue(o);u<s[0]&&(s[0]=u),u>s[1]&&(s[1]=u)})),{sum:r,dataExtent:s}}function hmt(e,t,n){for(var r=0,i=1/0,a=0,o=void 0,s=e.length;a<s;a++)o=e[a].getLayout().area,o&&(o<i&&(i=o),o>r&&(r=o));var l=e.area*e.area,u=t*t*n;return l?vT(u*r/l,l/(u*i)):1/0}function qte(e,t,n,r,i){var a=t===n.width?0:1,o=1-a,s=["x","y"],l=["width","height"],u=n[s[a]],c=t?e.area/t:0;(i||c>n[l[o]])&&(c=n[l[o]]);for(var f=0,d=e.length;f<d;f++){var h=e[f],p={},v=c?h.getLayout().area/c:0,g=p[l[o]]=vT(c-2*r,0),m=n[s[a]]+n[l[a]]-u,b=f===d-1||m<v?m:v,_=p[l[a]]=vT(b-2*r,0);p[s[o]]=n[s[o]]+hO(r,g/2),p[s[a]]=u+hO(r,_/2),u+=b,h.setLayout(p,!0)}n[s[o]]+=c,n[l[o]]-=c}function pmt(e,t,n,r,i){var a=(t||{}).node,o=[r,i];if(!a||a===n)return o;for(var s,l=r*i,u=l*e.option.zoomToNodeRatio;s=a.parentNode;){for(var c=0,f=s.children,d=0,h=f.length;d<h;d++)c+=f[d].getValue();var p=a.getValue();if(p===0)return o;u*=c/p;var v=s.getModel(),g=v.get(ISe),m=Math.max(g,DSe(v));u+=4*g*g+(3*g+m)*Math.pow(u,.5),u>uQ&&(u=uQ),a=s}u<l&&(u=l);var b=Math.pow(u/l,.5);return[r*b,i*b]}function vmt(e,t,n){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!n)return r;var i=n.node,a=i.getLayout();if(!a)return r;for(var o=[a.width/2,a.height/2],s=i;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}function OSe(e,t,n,r,i){var a=e.getLayout(),o=n[i],s=o&&o===e;if(!(o&&!s||i===n.length&&e!==r)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(a),isAboveViewRoot:s},!0);var l=new Mr(t.x-a.x,t.y-a.y,t.width,t.height);gG(e.viewChildren||[],function(u){OSe(u,l,n,r,i+1)})}}function DSe(e){return e.get(omt)?e.get(smt):0}function gmt(e){e.registerSeriesModel(Ngt),e.registerChartView(jgt),e.registerVisual(emt),e.registerLayout(lmt),Lgt(e)}function mmt(e){var t=e.findComponents({mainType:"legend"});!t||!t.length||e.eachSeriesByType("graph",function(n){var r=n.getCategoriesData(),i=n.getGraph(),a=i.data,o=r.mapArray(r.getName);a.filterSelf(function(s){var l=a.getItemModel(s),u=l.getShallow("category");if(u!=null){yi(u)&&(u=o[u]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(u))return!1}return!0})})}function ymt(e){var t={};e.eachSeriesByType("graph",function(n){var r=n.getCategoriesData(),i=n.getData(),a={};r.each(function(o){var s=r.getName(o);a["ec-"+s]=o;var l=r.getItemModel(o),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=n.getColorFromPalette(s,t)),r.setItemVisual(o,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],f=0;f<c.length;f++){var d=l.getShallow(c[f],!0);d!=null&&r.setItemVisual(o,c[f],d)}}),r.count()&&i.each(function(o){var s=i.getItemModel(o),l=s.getShallow("category");if(l!=null){An(l)&&(l=a["ec-"+l]);var u=r.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(o,"style");Ct(c,u);for(var f=["symbol","symbolSize","symbolKeepAspect"],d=0;d<f.length;d++)i.setItemVisual(o,f[d],r.getItemVisual(l,f[d]))}})})}function oI(e){return e instanceof Array||(e=[e,e]),e}function _mt(e){e.eachSeriesByType("graph",function(t){var n=t.getGraph(),r=t.getEdgeData(),i=oI(t.get("edgeSymbol")),a=oI(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",a&&a[0]),r.setVisual("toSymbolSize",a&&a[1]),r.setVisual("style",t.getModel("lineStyle").getLineStyle()),r.each(function(o){var s=r.getItemModel(o),l=n.getEdgeByIndex(o),u=oI(s.getShallow("symbol",!0)),c=oI(s.getShallow("symbolSize",!0)),f=s.getModel("lineStyle").getLineStyle(),d=r.ensureUniqueItemVisual(o,"style");switch(Ct(d,f),d.stroke){case"source":{var h=l.node1.getVisual("style");d.stroke=h&&h.fill;break}case"target":{var h=l.node2.getVisual("style");d.stroke=h&&h.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var m9="-->",$P=function(e){return e.get("autoCurveness")||null},PSe=function(e,t){var n=$P(e),r=20,i=[];if(yi(n))r=n;else if(Lt(n)){e.__curvenessList=n;return}t>r&&(r=t);var a=r%2?r+2:r+3;i=[];for(var o=0;o<a;o++)i.push((o%2?o+1:o)/10*(o%2?-1:1));e.__curvenessList=i},gT=function(e,t,n){var r=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[n.uid,r,i].join(m9)},LSe=function(e){var t=e.split(m9);return[t[0],t[2],t[1]].join(m9)},bmt=function(e,t){var n=gT(e.node1,e.node2,t);return t.__edgeMap[n]},xmt=function(e,t){var n=y9(gT(e.node1,e.node2,t),t),r=y9(gT(e.node2,e.node1,t),t);return n+r},y9=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function Smt(e){$P(e)&&(e.__curvenessList=[],e.__edgeMap={},PSe(e))}function Amt(e,t,n,r){if($P(n)){var i=gT(e,t,n),a=n.__edgeMap,o=a[LSe(i)];a[i]&&!o?a[i].isForward=!0:o&&a[i]&&(o.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(r)}}function mG(e,t,n,r){var i=$P(t),a=Lt(i);if(!i)return null;var o=bmt(e,t);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===n){s=l;break}var u=xmt(e,t);PSe(t,u),e.lineStyle=e.lineStyle||{};var c=gT(e.node1,e.node2,t),f=t.__curvenessList,d=a||u%2?0:1;if(o.isForward)return f[d+s];var h=LSe(c),p=y9(h,t),v=f[s+p+d];return r?a?i&&i[0]===0?(p+d)%2?v:-v:((p%2?0:1)+d)%2?v:-v:(p+d)%2?v:-v:f[s+p+d]}function NSe(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view")){var n=e.getGraph();n.eachNode(function(r){var i=r.getModel();r.setLayout([+i.get("x"),+i.get("y")])}),yG(n,e)}}function yG(e,t){e.eachEdge(function(n,r){var i=Xd(n.getModel().get(["lineStyle","curveness"]),-mG(n,t,r,!0),0),a=gp(n.node1.getLayout()),o=gp(n.node2.getLayout()),s=[a,o];+i&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*i,(a[1]+o[1])/2-(o[0]-a[0])*i]),n.setLayout(s)})}function Emt(e,t){e.eachSeriesByType("graph",function(n){var r=n.get("layout"),i=n.coordinateSystem;if(i&&i.type!=="view"){var a=n.getData(),o=[];te(i.dimensions,function(d){o=o.concat(a.mapDimensionsAll(d))});for(var s=0;s<a.count();s++){for(var l=[],u=!1,c=0;c<o.length;c++){var f=a.get(o[c],s);isNaN(f)||(u=!0),l.push(f)}u?a.setItemLayout(s,i.dataToPoint(l)):a.setItemLayout(s,[NaN,NaN])}yG(a.graph,n)}else(!r||r==="none")&&NSe(n)})}function vE(e){var t=e.coordinateSystem;if(t.type!=="view")return 1;var n=e.option.nodeScaleRatio,r=t.scaleX,i=t.getZoom(),a=(i-1)*n+1;return a/r}function gE(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var Zte=Math.PI,KB=[];function _G(e,t,n,r){var i=e.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),o=e.getData(),s=o.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,f=o.count();if(o.setLayout({cx:l,cy:u}),!!f){if(n){var d=i.pointToData(r),h=d[0],p=d[1],v=[h-l,p-u];Mx(v,v),b3(v,v,c),n.setLayout([l+v[0],u+v[1]],!0);var g=e.get(["circular","rotateLabel"]);BSe(n,g,l,u)}Tmt[t](e,s,o,c,l,u,f),s.eachEdge(function(m,b){var _=Xd(m.getModel().get(["lineStyle","curveness"]),mG(m,e,b),0),x=gp(m.node1.getLayout()),E=gp(m.node2.getLayout()),A,T=(x[0]+E[0])/2,R=(x[1]+E[1])/2;+_&&(_*=3,A=[l*_+T*(1-_),u*_+R*(1-_)]),m.setLayout([x,E,A])})}}}var Tmt={value:function(e,t,n,r,i,a,o){var s=0,l=n.getSum("value"),u=Math.PI*2/(l||o);t.eachNode(function(c){var f=c.getValue("value"),d=u*(l?f:1)/2;s+=d,c.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+a]),s+=d})},symbolSize:function(e,t,n,r,i,a,o){var s=0;KB.length=o;var l=vE(e);t.eachNode(function(f){var d=gE(f);isNaN(d)&&(d=2),d<0&&(d=0),d*=l;var h=Math.asin(d/2/r);isNaN(h)&&(h=Zte/2),KB[f.dataIndex]=h,s+=h*2});var u=(2*Zte-s)/o/2,c=0;t.eachNode(function(f){var d=u+KB[f.dataIndex];c+=d,(!f.getLayout()||!f.getLayout().fixed)&&f.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+a]),c+=d})}};function BSe(e,t,n,r){var i=e.getGraphicEl();if(i){var a=e.getModel(),o=a.get(["label","rotate"])||0,s=i.getSymbolPath();if(t){var l=e.getLayout(),u=Math.atan2(l[1]-r,l[0]-n);u<0&&(u=Math.PI*2+u);var c=l[0]<n;c&&(u=u-Math.PI);var f=c?"left":"right";s.setTextConfig({rotation:-u,position:f,origin:"center"});var d=s.ensureState("emphasis");Ct(d.textConfig||(d.textConfig={}),{position:f})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function wmt(e){e.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&_G(t,"symbolSize")})}var i1=iV;function Cmt(e,t,n){for(var r=e,i=t,a=n.rect,o=a.width,s=a.height,l=[a.x+o/2,a.y+s/2],u=n.gravity==null?.1:n.gravity,c=0;c<r.length;c++){var f=r[c];f.p||(f.p=Fy(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),f.pp=gp(f.p),f.edges=null}var d=n.friction==null?.6:n.friction,h=d,p,v;return{warmUp:function(){h=d*.8},setFixed:function(g){r[g].fixed=!0},setUnfixed:function(g){r[g].fixed=!1},beforeStep:function(g){p=g},afterStep:function(g){v=g},step:function(g){p&&p(r,i);for(var m=[],b=r.length,_=0;_<i.length;_++){var x=i[_];if(!x.ignoreForceLayout){var E=x.n1,A=x.n2;L0(m,A.p,E.p);var T=aV(m)-x.d,R=A.w/(E.w+A.w);isNaN(R)&&(R=0),Mx(m,m),!E.fixed&&i1(E.p,E.p,m,R*T*h),!A.fixed&&i1(A.p,A.p,m,-(1-R)*T*h)}}for(var _=0;_<b;_++){var M=r[_];M.fixed||(L0(m,l,M.p),i1(M.p,M.p,m,u*h))}for(var _=0;_<b;_++)for(var E=r[_],O=_+1;O<b;O++){var A=r[O];L0(m,A.p,E.p);var T=aV(m);T===0&&(nat(m,Math.random()-.5,Math.random()-.5),T=1);var D=(E.rep+A.rep)/T/T;!E.fixed&&i1(E.pp,E.pp,m,D),!A.fixed&&i1(A.pp,A.pp,m,-D)}for(var C=[],_=0;_<b;_++){var M=r[_];M.fixed||(L0(C,M.p,M.pp),i1(M.p,M.p,C,h),yl(M.pp,M.p))}h=h*.992;var P=h<.01;v&&v(r,i,P),g&&g(P)}}}function Rmt(e){e.eachSeriesByType("graph",function(t){var n=t.coordinateSystem;if(!(n&&n.type!=="view"))if(t.get("layout")==="force"){var r=t.preservedPoints||{},i=t.getGraph(),a=i.data,o=i.edgeData,s=t.getModel("force"),l=s.get("initLayout");t.preservedPoints?a.each(function(_){var x=a.getId(_);a.setItemLayout(_,r[x]||[NaN,NaN])}):!l||l==="none"?NSe(t):l==="circular"&&_G(t,"value");var u=a.getDataExtent("value"),c=o.getDataExtent("value"),f=s.get("repulsion"),d=s.get("edgeLength"),h=Lt(f)?f:[f,f],p=Lt(d)?d:[d,d];p=[p[1],p[0]];var v=a.mapArray("value",function(_,x){var E=a.getItemLayout(x),A=Wi(_,u,h);return isNaN(A)&&(A=(h[0]+h[1])/2),{w:A,rep:A,fixed:a.getItemModel(x).get("fixed"),p:!E||isNaN(E[0])||isNaN(E[1])?null:E}}),g=o.mapArray("value",function(_,x){var E=i.getEdgeByIndex(x),A=Wi(_,c,p);isNaN(A)&&(A=(p[0]+p[1])/2);var T=E.getModel(),R=Xd(E.getModel().get(["lineStyle","curveness"]),-mG(E,t,x,!0),0);return{n1:v[E.node1.dataIndex],n2:v[E.node2.dataIndex],d:A,curveness:R,ignoreForceLayout:T.get("ignoreForceLayout")}}),m=n.getBoundingRect(),b=Cmt(v,g,{rect:m,gravity:s.get("gravity"),friction:s.get("friction")});b.beforeStep(function(_,x){for(var E=0,A=_.length;E<A;E++)_[E].fixed&&yl(_[E].p,i.getNodeByIndex(E).getLayout())}),b.afterStep(function(_,x,E){for(var A=0,T=_.length;A<T;A++)_[A].fixed||i.getNodeByIndex(A).setLayout(_[A].p),r[a.getId(A)]=_[A].p;for(var A=0,T=x.length;A<T;A++){var R=x[A],M=i.getEdgeByIndex(A),O=R.n1.p,D=R.n2.p,C=M.getLayout();C=C?C.slice():[],C[0]=C[0]||[],C[1]=C[1]||[],yl(C[0],O),yl(C[1],D),+R.curveness&&(C[2]=[(O[0]+D[0])/2-(O[1]-D[1])*R.curveness,(O[1]+D[1])/2-(D[0]-O[0])*R.curveness]),M.setLayout(C)}}),t.forceLayout=b,t.preservedPoints=r,b.step()}else t.forceLayout=null})}function Imt(e,t,n){var r=Ct(e.getBoxLayoutParams(),{aspect:n});return $o(r,{width:t.getWidth(),height:t.getHeight()})}function Mmt(e,t){var n=[];return e.eachSeriesByType("graph",function(r){var i=r.get("coordinateSystem");if(!i||i==="view"){var a=r.getData(),o=a.mapArray(function(g){var m=a.getItemModel(g);return[+m.get("x"),+m.get("y")]}),s=[],l=[];vP(o,s,l),l[0]-s[0]===0&&(l[0]+=1,s[0]-=1),l[1]-s[1]===0&&(l[1]+=1,s[1]-=1);var u=(l[0]-s[0])/(l[1]-s[1]),c=Imt(r,t,u);isNaN(u)&&(s=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var f=l[0]-s[0],d=l[1]-s[1],h=c.width,p=c.height,v=r.coordinateSystem=new Aw;v.zoomLimit=r.get("scaleLimit"),v.setBoundingRect(s[0],s[1],f,d),v.setViewRect(c.x,c.y,h,p),v.setCenter(r.get("center"),t),v.setZoom(r.get("zoom")),n.push(v)}}),n}var Qte=qo.prototype,qB=uw.prototype,kSe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(kSe);function ZB(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var Omt=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r.type="ec-line",r}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new kSe},t.prototype.buildPath=function(n,r){ZB(r)?Qte.buildPath.call(this,n,r):qB.buildPath.call(this,n,r)},t.prototype.pointAt=function(n){return ZB(this.shape)?Qte.pointAt.call(this,n):qB.pointAt.call(this,n)},t.prototype.tangentAt=function(n){var r=this.shape,i=ZB(r)?[r.x2-r.x1,r.y2-r.y1]:qB.tangentAt.call(this,n);return Mx(i,i)},t}(Wr),QB=["fromSymbol","toSymbol"];function Jte(e){return"_"+e+"Type"}function ene(e,t,n){var r=t.getItemVisual(n,e);if(!r||r==="none")return r;var i=t.getItemVisual(n,e+"Size"),a=t.getItemVisual(n,e+"Rotate"),o=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),l=Hx(i),u=zy(o||0,l);return r+l+u+(a||"")+(s||"")}function tne(e,t,n){var r=t.getItemVisual(n,e);if(!(!r||r==="none")){var i=t.getItemVisual(n,e+"Size"),a=t.getItemVisual(n,e+"Rotate"),o=t.getItemVisual(n,e+"Offset"),s=t.getItemVisual(n,e+"KeepAspect"),l=Hx(i),u=zy(o||0,l),c=Io(r,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,s);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=e,c}}function Dmt(e){var t=new Omt({name:"line",subPixelOptimize:!0});return _9(t.shape,e),t}function _9(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var bG=function(e){et(t,e);function t(n,r,i){var a=e.call(this)||this;return a._createLine(n,r,i),a}return t.prototype._createLine=function(n,r,i){var a=n.hostModel,o=n.getItemLayout(r),s=Dmt(o);s.shape.percent=0,Ca(s,{shape:{percent:1}},a,r),this.add(s),te(QB,function(l){var u=tne(l,n,r);this.add(u),this[Jte(l)]=ene(l,n,r)},this),this._updateCommonStl(n,r,i)},t.prototype.updateData=function(n,r,i){var a=n.hostModel,o=this.childOfName("line"),s=n.getItemLayout(r),l={shape:{}};_9(l.shape,s),Si(o,l,a,r),te(QB,function(u){var c=ene(u,n,r),f=Jte(u);if(this[f]!==c){this.remove(this.childOfName(u));var d=tne(u,n,r);this.add(d)}this[f]=c},this),this._updateCommonStl(n,r,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(n,r,i){var a=n.hostModel,o=this.childOfName("line"),s=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,f=i&&i.emphasisDisabled,d=i&&i.focus,h=i&&i.blurScope;if(!i||n.hasItemOption){var p=n.getItemModel(r),v=p.getModel("emphasis");s=v.getModel("lineStyle").getLineStyle(),l=p.getModel(["blur","lineStyle"]).getLineStyle(),u=p.getModel(["select","lineStyle"]).getLineStyle(),f=v.get("disabled"),d=v.get("focus"),h=v.get("blurScope"),c=is(p)}var g=n.getItemVisual(r,"style"),m=g.stroke;o.useStyle(g),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=u,te(QB,function(A){var T=this.childOfName(A);if(T){T.setColor(m),T.style.opacity=g.opacity;for(var R=0;R<Ll.length;R++){var M=Ll[R],O=o.getState(M);if(O){var D=O.style||{},C=T.ensureState(M),P=C.style||(C.style={});D.stroke!=null&&(P[T.__isEmptyBrush?"stroke":"fill"]=D.stroke),D.opacity!=null&&(P.opacity=D.opacity)}}T.markRedraw()}},this);var b=a.getRawValue(r);Ns(this,c,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(A,T){return a.getFormattedLabel(A,T,n.dataType)}},inheritColor:m||"#000",defaultOpacity:g.opacity,defaultText:(b==null?n.getName(r):isFinite(b)?ao(b):b)+""});var _=this.getTextContent();if(_){var x=c.normal;_.__align=_.style.align,_.__verticalAlign=_.style.verticalAlign,_.__position=x.get("position")||"middle";var E=x.get("distance");Lt(E)||(E=[E,E]),_.__labelDistance=E}this.setTextConfig({position:null,local:!0,inside:!1}),to(this,d,h,f)},t.prototype.highlight=function(){Mp(this)},t.prototype.downplay=function(){Op(this)},t.prototype.updateLayout=function(n,r){this.setLinePoints(n.getItemLayout(r))},t.prototype.setLinePoints=function(n){var r=this.childOfName("line");_9(r.shape,n),r.dirty()},t.prototype.beforeUpdate=function(){var n=this,r=n.childOfName("fromSymbol"),i=n.childOfName("toSymbol"),a=n.getTextContent();if(!r&&!i&&(!a||a.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=n.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),f=l.pointAt(u),d=L0([],f,c);Mx(d,d);function h(O,D){var C=O.__specifiedRotation;if(C==null){var P=l.tangentAt(D);O.attr("rotation",(D===1?-1:1)*Math.PI/2-Math.atan2(P[1],P[0]))}else O.attr("rotation",C)}if(r&&(r.setPosition(c),h(r,0),r.scaleX=r.scaleY=o*u,r.markRedraw()),i&&(i.setPosition(f),h(i,1),i.scaleX=i.scaleY=o*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var p=void 0,v=void 0,g=a.__labelDistance,m=g[0]*o,b=g[1]*o,_=u/2,x=l.tangentAt(_),E=[x[1],-x[0]],A=l.pointAt(_);E[1]>0&&(E[0]=-E[0],E[1]=-E[1]);var T=x[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var R=-Math.atan2(x[1],x[0]);f[0]<c[0]&&(R=Math.PI+R),a.rotation=R}var M=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":M=-b,v="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":M=b,v="top";break;default:M=0,v="middle"}switch(a.__position){case"end":a.x=d[0]*m+f[0],a.y=d[1]*b+f[1],p=d[0]>.8?"left":d[0]<-.8?"right":"center",v=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":a.x=-d[0]*m+c[0],a.y=-d[1]*b+c[1],p=d[0]>.8?"right":d[0]<-.8?"left":"center",v=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=m*T+c[0],a.y=c[1]+M,p=x[0]<0?"right":"left",a.originX=-m*T,a.originY=-M;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=A[0],a.y=A[1]+M,p="center",a.originY=-M;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-m*T+f[0],a.y=f[1]+M,p=x[0]>=0?"right":"left",a.originX=m*T,a.originY=-M;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||v,align:a.__align||p})}},t}(hr),xG=function(){function e(t){this.group=new hr,this._LineCtor=t||bG}return e.prototype.updateData=function(t){var n=this;this._progressiveEls=null;var r=this,i=r.group,a=r._lineData;r._lineData=t,a||i.removeAll();var o=nne(t);t.diff(a).add(function(s){n._doAdd(t,s,o)}).update(function(s,l){n._doUpdate(a,t,l,s,o)}).remove(function(s){i.remove(a.getItemGraphicEl(s))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(n,r){n.updateLayout(t,r)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=nne(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,n){this._progressiveEls=[];function r(s){!s.isGroup&&!Pmt(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var a=n.getItemLayout(i);if(JB(a)){var o=new this._LineCtor(n,i,this._seriesScope);o.traverse(r),this.group.add(o),n.setItemGraphicEl(i,o),this._progressiveEls.push(o)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){tm(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,n,r){var i=t.getItemLayout(n);if(JB(i)){var a=new this._LineCtor(t,n,r);t.setItemGraphicEl(n,a),this.group.add(a)}},e.prototype._doUpdate=function(t,n,r,i,a){var o=t.getItemGraphicEl(r);if(!JB(n.getItemLayout(i))){this.group.remove(o);return}o?o.updateData(n,i,a):o=new this._LineCtor(n,i,a),n.setItemGraphicEl(i,o),this.group.add(o)},e}();function Pmt(e){return e.animators&&e.animators.length>0}function nne(e){var t=e.hostModel,n=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:n.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:n.get("disabled"),blurScope:n.get("blurScope"),focus:n.get("focus"),labelStatesModels:is(t)}}function rne(e){return isNaN(e[0])||isNaN(e[1])}function JB(e){return e&&!rne(e[0])&&!rne(e[1])}var e6=[],t6=[],n6=[],a1=fs,r6=K0,ine=Math.abs;function ane(e,t,n){for(var r=e[0],i=e[1],a=e[2],o=1/0,s,l=n*n,u=.1,c=.1;c<=.9;c+=.1){e6[0]=a1(r[0],i[0],a[0],c),e6[1]=a1(r[1],i[1],a[1],c);var f=ine(r6(e6,t)-l);f<o&&(o=f,s=c)}for(var d=0;d<32;d++){var h=s+u;t6[0]=a1(r[0],i[0],a[0],s),t6[1]=a1(r[1],i[1],a[1],s),n6[0]=a1(r[0],i[0],a[0],h),n6[1]=a1(r[1],i[1],a[1],h);var f=r6(t6,t)-l;if(ine(f)<.01)break;var p=r6(n6,t)-l;u/=2,f<0?p>=0?s=s+u:s=s-u:p>=0?s=s-u:s=s+u}return s}function i6(e,t){var n=[],r=X2,i=[[],[],[]],a=[[],[]],o=[];t/=2,e.eachEdge(function(s,l){var u=s.getLayout(),c=s.getVisual("fromSymbol"),f=s.getVisual("toSymbol");u.__original||(u.__original=[gp(u[0]),gp(u[1])],u[2]&&u.__original.push(gp(u[2])));var d=u.__original;if(u[2]!=null){if(yl(i[0],d[0]),yl(i[1],d[2]),yl(i[2],d[1]),c&&c!=="none"){var h=gE(s.node1),p=ane(i,d[0],h*t);r(i[0][0],i[1][0],i[2][0],p,n),i[0][0]=n[3],i[1][0]=n[4],r(i[0][1],i[1][1],i[2][1],p,n),i[0][1]=n[3],i[1][1]=n[4]}if(f&&f!=="none"){var h=gE(s.node2),p=ane(i,d[1],h*t);r(i[0][0],i[1][0],i[2][0],p,n),i[1][0]=n[1],i[2][0]=n[2],r(i[0][1],i[1][1],i[2][1],p,n),i[1][1]=n[1],i[2][1]=n[2]}yl(u[0],i[0]),yl(u[1],i[2]),yl(u[2],i[1])}else{if(yl(a[0],d[0]),yl(a[1],d[1]),L0(o,a[1],a[0]),Mx(o,o),c&&c!=="none"){var h=gE(s.node1);iV(a[0],a[0],o,h*t)}if(f&&f!=="none"){var h=gE(s.node2);iV(a[1],a[1],o,-h*t)}yl(u[0],a[0]),yl(u[1],a[1])}})}function one(e){return e.type==="view"}var Lmt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){var i=new mw,a=new xG,o=this.group;this._controller=new Sw(r.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(n,r,i){var a=this,o=n.coordinateSystem;this._model=n;var s=this._symbolDraw,l=this._lineDraw,u=this.group;if(one(o)){var c={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?u.attr(c):Si(u,c,n)}i6(n.getGraph(),vE(n));var f=n.getData();s.updateData(f);var d=n.getEdgeData();l.updateData(d),this._updateNodeAndLinkScale(),this._updateController(n,r,i),clearTimeout(this._layoutTimeout);var h=n.forceLayout,p=n.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,p);var v=n.get("layout");f.graph.eachNode(function(_){var x=_.dataIndex,E=_.getGraphicEl(),A=_.getModel();if(E){E.off("drag").off("dragend");var T=A.get("draggable");T&&E.on("drag",function(M){switch(v){case"force":h.warmUp(),!a._layouting&&a._startForceLayoutIteration(h,p),h.setFixed(x),f.setItemLayout(x,[E.x,E.y]);break;case"circular":f.setItemLayout(x,[E.x,E.y]),_.setLayout({fixed:!0},!0),_G(n,"symbolSize",_,[M.offsetX,M.offsetY]),a.updateLayout(n);break;case"none":default:f.setItemLayout(x,[E.x,E.y]),yG(n.getGraph(),n),a.updateLayout(n);break}}).on("dragend",function(){h&&h.setUnfixed(x)}),E.setDraggable(T,!!A.get("cursor"));var R=A.get(["emphasis","focus"]);R==="adjacency"&&(gr(E).focus=_.getAdjacentDataIndices())}}),f.graph.eachEdge(function(_){var x=_.getGraphicEl(),E=_.getModel().get(["emphasis","focus"]);x&&E==="adjacency"&&(gr(x).focus={edge:[_.dataIndex],node:[_.node1.dataIndex,_.node2.dataIndex]})});var g=n.get("layout")==="circular"&&n.get(["circular","rotateLabel"]),m=f.getLayout("cx"),b=f.getLayout("cy");f.graph.eachNode(function(_){BSe(_,g,m,b)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(n,r){var i=this;(function a(){n.step(function(o){i.updateLayout(i._model),(i._layouting=!o)&&(r?i._layoutTimeout=setTimeout(a,16):a())})})()},t.prototype._updateController=function(n,r,i){var a=this,o=this._controller,s=this._controllerHost,l=this.group;if(o.setPointerChecker(function(u,c,f){var d=l.getBoundingRect();return d.applyTransform(l.transform),d.contain(c,f)&&!UP(u,i,n)}),!one(n.coordinateSystem)){o.disable();return}o.enable(n.get("roam")),s.zoomLimit=n.get("scaleLimit"),s.zoom=n.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(u){uG(s,u.dx,u.dy),i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){cG(s,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(),i6(n.getGraph(),vE(n)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var n=this._model,r=n.getData(),i=vE(n);r.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(n){i6(n.getGraph(),vE(n)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(ta);function o1(e){return"_EC_"+e}var Nmt=function(){function e(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(t,n){t=t==null?""+n:""+t;var r=this._nodesMap;if(!r[o1(t)]){var i=new y0(t,n);return i.hostGraph=this,this.nodes.push(i),r[o1(t)]=i,i}},e.prototype.getNodeByIndex=function(t){var n=this.data.getRawIndex(t);return this.nodes[n]},e.prototype.getNodeById=function(t){return this._nodesMap[o1(t)]},e.prototype.addEdge=function(t,n,r){var i=this._nodesMap,a=this._edgesMap;if(yi(t)&&(t=this.nodes[t]),yi(n)&&(n=this.nodes[n]),t instanceof y0||(t=i[o1(t)]),n instanceof y0||(n=i[o1(n)]),!(!t||!n)){var o=t.id+"-"+n.id,s=new FSe(t,n,r);return s.hostGraph=this,this._directed&&(t.outEdges.push(s),n.inEdges.push(s)),t.edges.push(s),t!==n&&n.edges.push(s),this.edges.push(s),a[o]=s,s}},e.prototype.getEdgeByIndex=function(t){var n=this.edgeData.getRawIndex(t);return this.edges[n]},e.prototype.getEdge=function(t,n){t instanceof y0&&(t=t.id),n instanceof y0&&(n=n.id);var r=this._edgesMap;return this._directed?r[t+"-"+n]:r[t+"-"+n]||r[n+"-"+t]},e.prototype.eachNode=function(t,n){for(var r=this.nodes,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&t.call(n,r[a],a)},e.prototype.eachEdge=function(t,n){for(var r=this.edges,i=r.length,a=0;a<i;a++)r[a].dataIndex>=0&&r[a].node1.dataIndex>=0&&r[a].node2.dataIndex>=0&&t.call(n,r[a],a)},e.prototype.breadthFirstTraverse=function(t,n,r,i){if(n instanceof y0||(n=this._nodesMap[o1(n)]),!!n){for(var a=r==="out"?"outEdges":r==="in"?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,n,null))for(var s=[n];s.length;)for(var l=s.shift(),u=l[a],o=0;o<u.length;o++){var c=u[o],f=c.node1===l?c.node2:c.node1;if(!f.__visited){if(t.call(i,f,l))return;s.push(f),f.__visited=!0}}}},e.prototype.update=function(){for(var t=this.data,n=this.edgeData,r=this.nodes,i=this.edges,a=0,o=r.length;a<o;a++)r[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)r[t.getRawIndex(a)].dataIndex=a;n.filterSelf(function(s){var l=i[n.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(var a=0,o=n.count();a<o;a++)i[n.getRawIndex(a)].dataIndex=a},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)t.addNode(n[i].id,n[i].dataIndex);for(var i=0;i<r.length;i++){var a=r[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},e}(),y0=function(){function e(t,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=n??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.data.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},n=0;n<this.edges.length;n++){var r=this.edges[n];r.dataIndex<0||(t.edge.push(r.dataIndex),t.node.push(r.node1.dataIndex,r.node2.dataIndex))}return t},e.prototype.getTrajectoryDataIndices=function(){for(var t=Fn(),n=Fn(),r=0;r<this.edges.length;r++){var i=this.edges[r];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var a=[i.node1],o=[i.node2],s=0;s<a.length;){var l=a[s];s++,n.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),a.push(l.inEdges[u].node1)}for(s=0;s<o.length;){var c=o[s];s++,n.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)t.set(c.outEdges[u].dataIndex,!0),o.push(c.outEdges[u].node2)}}}return{edge:t.keys(),node:n.keys()}},e}(),FSe=function(){function e(t,n,r){this.dataIndex=-1,this.node1=t,this.node2=n,this.dataIndex=r??-1}return e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.edgeData.getItemModel(this.dataIndex);return r.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var t=Fn(),n=Fn();t.set(this.dataIndex,!0);for(var r=[this.node1],i=[this.node2],a=0;a<r.length;){var o=r[a];a++,n.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)t.set(o.inEdges[s].dataIndex,!0),r.push(o.inEdges[s].node1)}for(a=0;a<i.length;){var l=i[a];a++,n.set(l.dataIndex,!0);for(var s=0;s<l.outEdges.length;s++)t.set(l.outEdges[s].dataIndex,!0),i.push(l.outEdges[s].node2)}return{edge:t.keys(),node:n.keys()}},e}();function USe(e,t){return{getValue:function(n){var r=this[e][t];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}Mo(y0,USe("hostGraph","data"));Mo(FSe,USe("hostGraph","edgeData"));function VSe(e,t,n,r,i){for(var a=new Nmt(r),o=0;o<e.length;o++)a.addNode(hs(e[o].id,e[o].name,o),o);for(var s=[],l=[],u=0,o=0;o<t.length;o++){var c=t[o],f=c.source,d=c.target;a.addEdge(f,d,u)&&(l.push(c),s.push(hs(Uo(c.id,null),f+" > "+d)),u++)}var h=n.get("coordinateSystem"),p;if(h==="cartesian2d"||h==="polar")p=Gp(e,n);else{var v=dw.get(h),g=v?v.dimensions||[]:[];Ur(g,"value")<0&&g.concat(["value"]);var m=pw(e,{coordDimensions:g,encodeDefine:n.getEncode()}).dimensions;p=new Rl(m,n),p.initData(e)}var b=new Rl(["value"],n);return b.initData(l,s),i&&i(p,b),xSe({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:b},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var Bmt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new xw(i,i),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},t.prototype.mergeOption=function(n){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(n){e.prototype.mergeDefaultAndTheme.apply(this,arguments),gy(n,"edgeLabel",["show"])},t.prototype.getInitialData=function(n,r){var i=n.edges||n.links||[],a=n.data||n.nodes||[],o=this;if(a&&i){Smt(this);var s=VSe(a,i,this,!0,l);return te(s.edges,function(u){Amt(u.node1,u.node2,this,u.dataIndex)},this),s.data}function l(u,c){u.wrapMethod("getItemModel",function(p){var v=o._categoriesModels,g=p.getShallow("category"),m=v[g];return m&&(m.parentModel=p.parentModel,p.parentModel=m),p});var f=zi.prototype.getModel;function d(p,v){var g=f.call(this,p,v);return g.resolveParentPath=h,g}c.wrapMethod("getItemModel",function(p){return p.resolveParentPath=h,p.getModel=d,p});function h(p){if(p&&(p[0]==="label"||p[1]==="label")){var v=p.slice();return p[0]==="label"?v[0]="edgeLabel":p[1]==="label"&&(v[1]="edgeLabel"),v}return p}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(n,r,i){if(i==="edge"){var a=this.getData(),o=this.getDataParams(n,i),s=a.graph.getEdgeByIndex(n),l=a.getName(s.node1.dataIndex),u=a.getName(s.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),as("nameValue",{name:c.join(" > "),value:o.value,noValue:o.value==null})}var f=fbe({series:this,dataIndex:n,multipleSeries:r});return f},t.prototype._updateCategoriesData=function(){var n=Vt(this.option.categories||[],function(i){return i.value!=null?i:Ct({value:0},i)}),r=new Rl(["value"],this);r.initData(n),this._categoriesData=r,this._categoriesModels=r.mapArray(function(i){return r.getItemModel(i)})},t.prototype.setZoom=function(n){this.option.zoom=n},t.prototype.setCenter=function(n){this.option.center=n},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(va),kmt={type:"graphRoam",event:"graphRoam",update:"none"};function Fmt(e){e.registerChartView(Lmt),e.registerSeriesModel(Bmt),e.registerProcessor(mmt),e.registerVisual(ymt),e.registerVisual(_mt),e.registerLayout(Emt),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,wmt),e.registerLayout(Rmt),e.registerCoordinateSystem("graphView",{dimensions:Aw.dimensions,create:Mmt}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},mo),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},mo),e.registerAction(kmt,function(t,n,r){n.eachComponent({mainType:"series",query:t},function(i){var a=i.coordinateSystem,o=dG(a,t,void 0,r);i.setCenter&&i.setCenter(o.center),i.setZoom&&i.setZoom(o.zoom)})})}var Umt=function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e}(),Vmt=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r.type="pointer",r}return t.prototype.getDefaultShape=function(){return new Umt},t.prototype.buildPath=function(n,r){var i=Math.cos,a=Math.sin,o=r.r,s=r.width,l=r.angle,u=r.x-i(l)*s*(s>=o/3?1:2),c=r.y-a(l)*s*(s>=o/3?1:2);l=r.angle-Math.PI/2,n.moveTo(u,c),n.lineTo(r.x+i(l)*s,r.y+a(l)*s),n.lineTo(r.x+i(r.angle)*o,r.y+a(r.angle)*o),n.lineTo(r.x-i(l)*s,r.y-a(l)*s),n.lineTo(u,c)},t}(Wr);function zmt(e,t){var n=e.get("center"),r=t.getWidth(),i=t.getHeight(),a=Math.min(r,i),o=vn(n[0],t.getWidth()),s=vn(n[1],t.getHeight()),l=vn(e.get("radius"),a/2);return{cx:o,cy:s,r:l}}function sI(e,t){var n=e==null?"":e+"";return t&&(An(t)?n=t.replace("{value}",n):er(t)&&(n=t(e))),n}var $mt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){this.group.removeAll();var a=n.get(["axisLine","lineStyle","color"]),o=zmt(n,i);this._renderMain(n,r,i,a,o),this._data=n.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(n,r,i,a,o){var s=this.group,l=n.get("clockwise"),u=-n.get("startAngle")/180*Math.PI,c=-n.get("endAngle")/180*Math.PI,f=n.getModel("axisLine"),d=f.get("roundCap"),h=d?lO:Nl,p=f.get("show"),v=f.getModel("lineStyle"),g=v.get("width"),m=[u,c];hW(m,!l),u=m[0],c=m[1];for(var b=c-u,_=u,x=[],E=0;p&&E<a.length;E++){var A=Math.min(Math.max(a[E][0],0),1);c=u+b*A;var T=new h({shape:{startAngle:_,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-g,r:o.r},silent:!0});T.setStyle({fill:a[E][1]}),T.setStyle(v.getLineStyle(["color","width"])),x.push(T),_=c}x.reverse(),te(x,function(M){return s.add(M)});var R=function(M){if(M<=0)return a[0][1];var O;for(O=0;O<a.length;O++)if(a[O][0]>=M&&(O===0?0:a[O-1][0])<M)return a[O][1];return a[O-1][1]};this._renderTicks(n,r,i,R,o,u,c,l,g),this._renderTitleAndDetail(n,r,i,R,o),this._renderAnchor(n,o),this._renderPointer(n,r,i,R,o,u,c,l,g)},t.prototype._renderTicks=function(n,r,i,a,o,s,l,u,c){for(var f=this.group,d=o.cx,h=o.cy,p=o.r,v=+n.get("min"),g=+n.get("max"),m=n.getModel("splitLine"),b=n.getModel("axisTick"),_=n.getModel("axisLabel"),x=n.get("splitNumber"),E=b.get("splitNumber"),A=vn(m.get("length"),p),T=vn(b.get("length"),p),R=s,M=(l-s)/x,O=M/E,D=m.getModel("lineStyle").getLineStyle(),C=b.getModel("lineStyle").getLineStyle(),P=m.get("distance"),B,U,L=0;L<=x;L++){if(B=Math.cos(R),U=Math.sin(R),m.get("show")){var F=P?P+c:c,N=new qo({shape:{x1:B*(p-F)+d,y1:U*(p-F)+h,x2:B*(p-A-F)+d,y2:U*(p-A-F)+h},style:D,silent:!0});D.stroke==="auto"&&N.setStyle({stroke:a(L/x)}),f.add(N)}if(_.get("show")){var F=_.get("distance")+P,V=sI(ao(L/x*(g-v)+v),_.get("formatter")),W=a(L/x),G=B*(p-A-F)+d,K=U*(p-A-F)+h,q=_.get("rotate"),ue=0;q==="radial"?(ue=-R+2*Math.PI,ue>Math.PI/2&&(ue+=Math.PI)):q==="tangential"?ue=-R-Math.PI/2:yi(q)&&(ue=q*Math.PI/180),ue===0?f.add(new pi({style:ha(_,{text:V,x:G,y:K,verticalAlign:U<-.8?"top":U>.8?"bottom":"middle",align:B<-.4?"left":B>.4?"right":"center"},{inheritColor:W}),silent:!0})):f.add(new pi({style:ha(_,{text:V,x:G,y:K,verticalAlign:"middle",align:"center"},{inheritColor:W}),silent:!0,originX:G,originY:K,rotation:ue}))}if(b.get("show")&&L!==x){var F=b.get("distance");F=F?F+c:c;for(var he=0;he<=E;he++){B=Math.cos(R),U=Math.sin(R);var Ce=new qo({shape:{x1:B*(p-F)+d,y1:U*(p-F)+h,x2:B*(p-T-F)+d,y2:U*(p-T-F)+h},silent:!0,style:C});C.stroke==="auto"&&Ce.setStyle({stroke:a((L+he/E)/x)}),f.add(Ce),R+=O}R-=O}else R+=M}},t.prototype._renderPointer=function(n,r,i,a,o,s,l,u,c){var f=this.group,d=this._data,h=this._progressEls,p=[],v=n.get(["pointer","show"]),g=n.getModel("progress"),m=g.get("show"),b=n.getData(),_=b.mapDimension("value"),x=+n.get("min"),E=+n.get("max"),A=[x,E],T=[s,l];function R(O,D){var C=b.getItemModel(O),P=C.getModel("pointer"),B=vn(P.get("width"),o.r),U=vn(P.get("length"),o.r),L=n.get(["pointer","icon"]),F=P.get("offsetCenter"),N=vn(F[0],o.r),V=vn(F[1],o.r),W=P.get("keepAspect"),G;return L?G=Io(L,N-B/2,V-U,B,U,null,W):G=new Vmt({shape:{angle:-Math.PI/2,width:B,r:U,x:N,y:V}}),G.rotation=-(D+Math.PI/2),G.x=o.cx,G.y=o.cy,G}function M(O,D){var C=g.get("roundCap"),P=C?lO:Nl,B=g.get("overlap"),U=B?g.get("width"):c/b.count(),L=B?o.r-U:o.r-(O+1)*U,F=B?o.r:o.r-O*U,N=new P({shape:{startAngle:s,endAngle:D,cx:o.cx,cy:o.cy,clockwise:u,r0:L,r:F}});return B&&(N.z2=E-b.get(_,O)%E),N}(m||v)&&(b.diff(d).add(function(O){var D=b.get(_,O);if(v){var C=R(O,s);Ca(C,{rotation:-((isNaN(+D)?T[0]:Wi(D,A,T,!0))+Math.PI/2)},n),f.add(C),b.setItemGraphicEl(O,C)}if(m){var P=M(O,s),B=g.get("clip");Ca(P,{shape:{endAngle:Wi(D,A,T,B)}},n),f.add(P),MV(n.seriesIndex,b.dataType,O,P),p[O]=P}}).update(function(O,D){var C=b.get(_,O);if(v){var P=d.getItemGraphicEl(D),B=P?P.rotation:s,U=R(O,B);U.rotation=B,Si(U,{rotation:-((isNaN(+C)?T[0]:Wi(C,A,T,!0))+Math.PI/2)},n),f.add(U),b.setItemGraphicEl(O,U)}if(m){var L=h[D],F=L?L.shape.endAngle:s,N=M(O,F),V=g.get("clip");Si(N,{shape:{endAngle:Wi(C,A,T,V)}},n),f.add(N),MV(n.seriesIndex,b.dataType,O,N),p[O]=N}}).execute(),b.each(function(O){var D=b.getItemModel(O),C=D.getModel("emphasis"),P=C.get("focus"),B=C.get("blurScope"),U=C.get("disabled");if(v){var L=b.getItemGraphicEl(O),F=b.getItemVisual(O,"style"),N=F.fill;if(L instanceof ms){var V=L.style;L.useStyle(Ct({image:V.image,x:V.x,y:V.y,width:V.width,height:V.height},F))}else L.useStyle(F),L.type!=="pointer"&&L.setColor(N);L.setStyle(D.getModel(["pointer","itemStyle"]).getItemStyle()),L.style.fill==="auto"&&L.setStyle("fill",a(Wi(b.get(_,O),A,[0,1],!0))),L.z2EmphasisLift=0,Ls(L,D),to(L,P,B,U)}if(m){var W=p[O];W.useStyle(b.getItemVisual(O,"style")),W.setStyle(D.getModel(["progress","itemStyle"]).getItemStyle()),W.z2EmphasisLift=0,Ls(W,D),to(W,P,B,U)}}),this._progressEls=p)},t.prototype._renderAnchor=function(n,r){var i=n.getModel("anchor"),a=i.get("show");if(a){var o=i.get("size"),s=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=Io(s,r.cx-o/2+vn(l[0],r.r),r.cy-o/2+vn(l[1],r.r),o,o,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},t.prototype._renderTitleAndDetail=function(n,r,i,a,o){var s=this,l=n.getData(),u=l.mapDimension("value"),c=+n.get("min"),f=+n.get("max"),d=new hr,h=[],p=[],v=n.isAnimationEnabled(),g=n.get(["pointer","showAbove"]);l.diff(this._data).add(function(m){h[m]=new pi({silent:!0}),p[m]=new pi({silent:!0})}).update(function(m,b){h[m]=s._titleEls[b],p[m]=s._detailEls[b]}).execute(),l.each(function(m){var b=l.getItemModel(m),_=l.get(u,m),x=new hr,E=a(Wi(_,[c,f],[0,1],!0)),A=b.getModel("title");if(A.get("show")){var T=A.get("offsetCenter"),R=o.cx+vn(T[0],o.r),M=o.cy+vn(T[1],o.r),O=h[m];O.attr({z2:g?0:2,style:ha(A,{x:R,y:M,text:l.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:E})}),x.add(O)}var D=b.getModel("detail");if(D.get("show")){var C=D.get("offsetCenter"),P=o.cx+vn(C[0],o.r),B=o.cy+vn(C[1],o.r),U=vn(D.get("width"),o.r),L=vn(D.get("height"),o.r),F=n.get(["progress","show"])?l.getItemVisual(m,"style").fill:E,O=p[m],N=D.get("formatter");O.attr({z2:g?0:2,style:ha(D,{x:P,y:B,text:sI(_,N),width:isNaN(U)?null:U,height:isNaN(L)?null:L,align:"center",verticalAlign:"middle"},{inheritColor:F})}),v1e(O,{normal:D},_,function(W){return sI(W,N)}),v&&g1e(O,m,l,n,{getFormattedLabel:function(W,G,K,q,ue,he){return sI(he?he.interpolatedValue:_,N)}}),x.add(O)}d.add(x)}),this.group.add(d),this._titleEls=h,this._detailEls=p},t.type="gauge",t}(ta),Hmt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="itemStyle",n}return t.prototype.getInitialData=function(n,r){return Gx(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(va);function Wmt(e){e.registerChartView($mt),e.registerSeriesModel(Hmt)}var Gmt=["itemStyle","opacity"],jmt=function(e){et(t,e);function t(n,r){var i=e.call(this)||this,a=i,o=new kl,s=new pi;return a.setTextContent(s),i.setTextGuideLine(o),i.updateData(n,r,!0),i}return t.prototype.updateData=function(n,r,i){var a=this,o=n.hostModel,s=n.getItemModel(r),l=n.getItemLayout(r),u=s.getModel("emphasis"),c=s.get(Gmt);c=c??1,i||Jf(a),a.useStyle(n.getItemVisual(r,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Ca(a,{style:{opacity:c}},o,r)):Si(a,{style:{opacity:c},shape:{points:l.points}},o,r),Ls(a,s),this._updateLabel(n,r),to(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(n,r){var i=this,a=this.getTextGuideLine(),o=i.getTextContent(),s=n.hostModel,l=n.getItemModel(r),u=n.getItemLayout(r),c=u.label,f=n.getItemVisual(r,"style"),d=f.fill;Ns(o,is(l),{labelFetcher:n.hostModel,labelDataIndex:r,defaultOpacity:f.opacity,defaultText:n.getName(r)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:d,outsideFill:d});var h=c.linePoints;a.setShape({points:h}),i.textGuideLineConfig={anchor:h?new Rr(h[0][0],h[0][1]):null},Si(o,{style:{x:c.x,y:c.y}},s,r),o.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),QW(i,JW(l),{stroke:d})},t}(Bl),Ymt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return t.prototype.render=function(n,r,i){var a=n.getData(),o=this._data,s=this.group;a.diff(o).add(function(l){var u=new jmt(a,l);a.setItemGraphicEl(l,u),s.add(u)}).update(function(l,u){var c=o.getItemGraphicEl(u);c.updateData(a,l),s.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=o.getItemGraphicEl(l);tT(u,n,l)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(ta),Xmt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new xw(Rn(this.getData,this),Rn(this.getRawData,this)),this._defaultLabelLine(n)},t.prototype.getInitialData=function(n,r){return Gx(this,{coordDimensions:["value"],encodeDefaulter:Tr(MW,this)})},t.prototype._defaultLabelLine=function(n){gy(n,"labelLine",["show"]);var r=n.labelLine,i=n.emphasis.labelLine;r.show=r.show&&n.label.show,i.show=i.show&&n.emphasis.label.show},t.prototype.getDataParams=function(n){var r=this.getData(),i=e.prototype.getDataParams.call(this,n),a=r.mapDimension("value"),o=r.getSum(a);return i.percent=o?+(r.get(a,n)/o*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(va);function Kmt(e,t){return $o(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function qmt(e,t){for(var n=e.mapDimension("value"),r=e.mapArray(n,function(l){return l}),i=[],a=t==="ascending",o=0,s=e.count();o<s;o++)i[o]=o;return er(t)?i.sort(t):t!=="none"&&i.sort(function(l,u){return a?r[l]-r[u]:r[u]-r[l]}),i}function Zmt(e){var t=e.hostModel,n=t.get("orient");e.each(function(r){var i=e.getItemModel(r),a=i.getModel("label"),o=a.get("position"),s=i.getModel("labelLine"),l=e.getItemLayout(r),u=l.points,c=o==="inner"||o==="inside"||o==="center"||o==="insideLeft"||o==="insideRight",f,d,h,p;if(c)o==="insideLeft"?(d=(u[0][0]+u[3][0])/2+5,h=(u[0][1]+u[3][1])/2,f="left"):o==="insideRight"?(d=(u[1][0]+u[2][0])/2-5,h=(u[1][1]+u[2][1])/2,f="right"):(d=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,h=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,f="center"),p=[[d,h],[d,h]];else{var v=void 0,g=void 0,m=void 0,b=void 0,_=s.get("length");o==="left"?(v=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,m=v-_,d=m-5,f="right"):o==="right"?(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,m=v+_,d=m+5,f="left"):o==="top"?(v=(u[3][0]+u[0][0])/2,g=(u[3][1]+u[0][1])/2,b=g-_,h=b-5,f="center"):o==="bottom"?(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,b=g+_,h=b+5,f="center"):o==="rightTop"?(v=n==="horizontal"?u[3][0]:u[1][0],g=n==="horizontal"?u[3][1]:u[1][1],n==="horizontal"?(b=g-_,h=b-5,f="center"):(m=v+_,d=m+5,f="top")):o==="rightBottom"?(v=u[2][0],g=u[2][1],n==="horizontal"?(b=g+_,h=b+5,f="center"):(m=v+_,d=m+5,f="bottom")):o==="leftTop"?(v=u[0][0],g=n==="horizontal"?u[0][1]:u[1][1],n==="horizontal"?(b=g-_,h=b-5,f="center"):(m=v-_,d=m-5,f="right")):o==="leftBottom"?(v=n==="horizontal"?u[1][0]:u[3][0],g=n==="horizontal"?u[1][1]:u[2][1],n==="horizontal"?(b=g+_,h=b+5,f="center"):(m=v-_,d=m-5,f="right")):(v=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,n==="horizontal"?(b=g+_,h=b+5,f="center"):(m=v+_,d=m+5,f="left")),n==="horizontal"?(m=v,d=m):(b=g,h=b),p=[[v,g],[m,b]]}l.label={linePoints:p,x:d,y:h,verticalAlign:"middle",textAlign:f,inside:c}})}function Qmt(e,t){e.eachSeriesByType("funnel",function(n){var r=n.getData(),i=r.mapDimension("value"),a=n.get("sort"),o=Kmt(n,t),s=n.get("orient"),l=o.width,u=o.height,c=qmt(r,a),f=o.x,d=o.y,h=s==="horizontal"?[vn(n.get("minSize"),u),vn(n.get("maxSize"),u)]:[vn(n.get("minSize"),l),vn(n.get("maxSize"),l)],p=r.getDataExtent(i),v=n.get("min"),g=n.get("max");v==null&&(v=Math.min(p[0],0)),g==null&&(g=p[1]);var m=n.get("funnelAlign"),b=n.get("gap"),_=s==="horizontal"?l:u,x=(_-b*(r.count()-1))/r.count(),E=function(B,U){if(s==="horizontal"){var L=r.get(i,B)||0,F=Wi(L,[v,g],h,!0),N=void 0;switch(m){case"top":N=d;break;case"center":N=d+(u-F)/2;break;case"bottom":N=d+(u-F);break}return[[U,N],[U,N+F]]}var V=r.get(i,B)||0,W=Wi(V,[v,g],h,!0),G;switch(m){case"left":G=f;break;case"center":G=f+(l-W)/2;break;case"right":G=f+l-W;break}return[[G,U],[G+W,U]]};a==="ascending"&&(x=-x,b=-b,s==="horizontal"?f+=l:d+=u,c=c.reverse());for(var A=0;A<c.length;A++){var T=c[A],R=c[A+1],M=r.getItemModel(T);if(s==="horizontal"){var O=M.get(["itemStyle","width"]);O==null?O=x:(O=vn(O,l),a==="ascending"&&(O=-O));var D=E(T,f),C=E(R,f+O);f+=O+b,r.setItemLayout(T,{points:D.concat(C.slice().reverse())})}else{var P=M.get(["itemStyle","height"]);P==null?P=x:(P=vn(P,u),a==="ascending"&&(P=-P));var D=E(T,d),C=E(R,d+P);d+=P+b,r.setItemLayout(T,{points:D.concat(C.slice().reverse())})}}Zmt(r)})}function Jmt(e){e.registerChartView(Ymt),e.registerSeriesModel(Xmt),e.registerLayout(Qmt),e.registerProcessor(bw("funnel"))}var e0t=.3,t0t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new hr,n._initialized=!1,n}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(n,r,i,a){this._progressiveEls=null;var o=this._dataGroup,s=n.getData(),l=this._data,u=n.coordinateSystem,c=u.dimensions,f=lne(n);s.diff(l).add(d).update(h).remove(p).execute();function d(g){var m=sne(s,o,g,c,u);a6(m,s,g,f)}function h(g,m){var b=l.getItemGraphicEl(m),_=zSe(s,g,c,u);s.setItemGraphicEl(g,b),Si(b,{shape:{points:_}},n,g),Jf(b),a6(b,s,g,f)}function p(g){var m=l.getItemGraphicEl(g);o.remove(m)}if(!this._initialized){this._initialized=!0;var v=n0t(u,n,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(v)}this._data=s},t.prototype.incrementalPrepareRender=function(n,r,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(n,r,i){for(var a=r.getData(),o=r.coordinateSystem,s=o.dimensions,l=lne(r),u=this._progressiveEls=[],c=n.start;c<n.end;c++){var f=sne(a,this._dataGroup,c,s,o);f.incremental=!0,a6(f,a,c,l),u.push(f)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(ta);function n0t(e,t,n){var r=e.model,i=e.getRect(),a=new si({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),o=r.get("layout")==="horizontal"?"width":"height";return a.setShape(o,0),Ca(a,{shape:{width:i.width,height:i.height}},t,n),a}function zSe(e,t,n,r){for(var i=[],a=0;a<n.length;a++){var o=n[a],s=e.get(e.mapDimension(o),t);r0t(s,r.getAxis(o).type)||i.push(r.dataToPoint(s,o))}return i}function sne(e,t,n,r,i){var a=zSe(e,n,r,i),o=new kl({shape:{points:a},z2:10});return t.add(o),e.setItemGraphicEl(n,o),o}function lne(e){var t=e.get("smooth",!0);return t===!0&&(t=e0t),t=Ip(t),Y2(t)&&(t=0),{smooth:t}}function a6(e,t,n,r){e.useStyle(t.getItemVisual(n,"style")),e.style.fill=null,e.setShape("smooth",r.smooth);var i=t.getItemModel(n),a=i.getModel("emphasis");Ls(e,i,"lineStyle"),to(e,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function r0t(e,t){return t==="category"?e==null:e==null||isNaN(e)}var i0t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.getInitialData=function(n,r){return Gp(null,this,{useEncodeDefaulter:Rn(a0t,null,this)})},t.prototype.getRawIndicesByActiveState=function(n){var r=this.coordinateSystem,i=this.getData(),a=[];return r.eachActiveState(i,function(o,s){n===o&&a.push(i.getRawIndex(s))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(va);function a0t(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var n={};return te(t.dimensions,function(r){var i=o0t(r);n[r]=i}),n}}function o0t(e){return+e.replace("dim","")}var s0t=["lineStyle","opacity"],l0t={seriesType:"parallel",reset:function(e,t){var n=e.coordinateSystem,r={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(i,a){n.eachActiveState(a,function(o,s){var l=r[o];if(o==="normal"&&a.hasItemOption){var u=a.getItemModel(s).get(s0t,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(s,"style");c.opacity=l},i.start,i.end)}}}};function u0t(e){c0t(e),f0t(e)}function c0t(e){if(!e.parallel){var t=!1;te(e.series,function(n){n&&n.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}}function f0t(e){var t=Zi(e.parallelAxis);te(t,function(n){if(ar(n)){var r=n.parallelIndex||0,i=Zi(e.parallel)[r];i&&i.parallelAxisDefault&&wr(n,i.parallelAxisDefault,!1)}})}var d0t=5,h0t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){this._model=n,this._api=i,this._handlers||(this._handlers={},te(p0t,function(a,o){i.getZr().on(o,this._handlers[o]=Rn(a,this))},this)),$x(this,"_throttledDispatchExpand",n.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(n,r){aT(this,"_throttledDispatchExpand"),te(this._handlers,function(i,a){r.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(n){this._dispatchExpand(n)},t.prototype._dispatchExpand=function(n){n&&this._api.dispatchAction(Ct({type:"parallelAxisExpand"},n))},t.type="parallel",t}(Ba),p0t={mousedown:function(e){o6(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(o6(this,"click")&&t){var n=[e.offsetX,e.offsetY],r=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2);if(r>d0t)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!(this._mouseDownPoint||!o6(this,"mousemove"))){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),r=n.behavior;r==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(r==="none"?null:{axisExpandWindow:n.axisExpandWindow,animation:r==="jump"?null:{duration:0}})}}};function o6(e,t){var n=e._model;return n.get("axisExpandable")&&n.get("axisExpandTriggerOn")===t}var v0t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(n){var r=this.option;n&&wr(r,n,!0),this._initDimensions()},t.prototype.contains=function(n,r){var i=n.get("parallelIndex");return i!=null&&r.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(n){te(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){n.hasOwnProperty(r)&&(this.option[r]=n[r])},this)},t.prototype._initDimensions=function(){var n=this.dimensions=[],r=this.parallelAxisIndex=[],i=Xi(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);te(i,function(a){n.push("dim"+a.get("dim")),r.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Qr),g0t=function(e){et(t,e);function t(n,r,i,a,o){var s=e.call(this,n,r,i)||this;return s.type=a||"value",s.axisIndex=o,s}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(id);function Gy(e,t,n,r,i,a){e=e||0;var o=n[1]-n[0];if(i!=null&&(i=s1(i,[0,o])),a!=null&&(a=Math.max(a,i??0)),r==="all"){var s=Math.abs(t[1]-t[0]);s=s1(s,[0,o]),i=a=s1(s,[i,a]),r=0}t[0]=s1(t[0],n),t[1]=s1(t[1],n);var l=s6(t,r);t[r]+=e;var u=i||0,c=n.slice();l.sign<0?c[0]+=u:c[1]-=u,t[r]=s1(t[r],c);var f;return f=s6(t,r),i!=null&&(f.sign!==l.sign||f.span<i)&&(t[1-r]=t[r]+l.sign*i),f=s6(t,r),a!=null&&f.span>a&&(t[1-r]=t[r]+f.sign*a),t}function s6(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function s1(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var l6=te,$Se=Math.min,HSe=Math.max,une=Math.floor,m0t=Math.ceil,cne=ao,y0t=Math.PI,_0t=function(){function e(t,n,r){this.type="parallel",this._axesMap=Fn(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,n,r)}return e.prototype._init=function(t,n,r){var i=t.dimensions,a=t.parallelAxisIndex;l6(i,function(o,s){var l=a[s],u=n.getComponent("parallelAxis",l),c=this._axesMap.set(o,new g0t(o,kP(u),[0,0],u.get("type"),l)),f=c.type==="category";c.onBand=f&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},e.prototype.update=function(t,n){this._updateAxesFromSeries(this._model,t)},e.prototype.containPoint=function(t){var n=this._makeLayoutInfo(),r=n.axisBase,i=n.layoutBase,a=n.pixelDimIndex,o=t[1-a],s=t[a];return o>=r&&o<=r+n.axisLength&&s>=i&&s<=i+n.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(t,n){n.eachSeries(function(r){if(t.contains(r,n)){var i=r.getData();l6(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(i,i.mapDimension(a)),Xb(o.scale,o.model)},this)}},this)},e.prototype.resize=function(t,n){this._rect=$o(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var t=this._model,n=this._rect,r=["x","y"],i=["width","height"],a=t.get("layout"),o=a==="horizontal"?0:1,s=n[i[o]],l=[0,s],u=this.dimensions.length,c=lI(t.get("axisExpandWidth"),l),f=lI(t.get("axisExpandCount")||0,[0,u]),d=t.get("axisExpandable")&&u>3&&u>f&&f>1&&c>0&&s>0,h=t.get("axisExpandWindow"),p;if(h)p=lI(h[1]-h[0],l),h[1]=h[0]+p;else{p=lI(c*(f-1),l);var v=t.get("axisExpandCenter")||une(u/2);h=[c*v-p/2],h[1]=h[0]+p}var g=(s-p)/(u-f);g<3&&(g=0);var m=[une(cne(h[0]/c,1))+1,m0t(cne(h[1]/c,1))-1],b=g/c*h[0];return{layout:a,pixelDimIndex:o,layoutBase:n[r[o]],layoutLength:s,axisBase:n[r[1-o]],axisLength:n[i[1-o]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:g,axisExpandWindow:h,axisCount:u,winInnerIndices:m,axisExpandWindow0Pos:b}},e.prototype._layoutAxes=function(){var t=this._rect,n=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;n.each(function(o){var s=[0,i.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),l6(r,function(o,s){var l=(i.axisExpandable?x0t:b0t)(s,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:y0t/2,vertical:0},f=[u[a].x+t.x,u[a].y+t.y],d=c[a],h=$u();Uy(h,h,d),rh(h,h,f),this._axesLayout[o]={position:f,rotation:d,transform:h,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(t){return this._axesMap.get(t)},e.prototype.dataToPoint=function(t,n){return this.axisCoordToPoint(this._axesMap.get(n).dataToCoord(t),n)},e.prototype.eachActiveState=function(t,n,r,i){r==null&&(r=0),i==null&&(i=t.count());var a=this._axesMap,o=this.dimensions,s=[],l=[];te(o,function(g){s.push(t.mapDimension(g)),l.push(a.get(g).model)});for(var u=this.hasAxisBrushed(),c=r;c<i;c++){var f=void 0;if(!u)f="normal";else{f="active";for(var d=t.getValues(s,c),h=0,p=o.length;h<p;h++){var v=l[h].getActiveState(d[h]);if(v==="inactive"){f="inactive";break}}}n(f,c)}},e.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,n=this._axesMap,r=!1,i=0,a=t.length;i<a;i++)n.get(t[i]).model.getActiveState()!=="normal"&&(r=!0);return r},e.prototype.axisCoordToPoint=function(t,n){var r=this._axesLayout[n];return $f([t,0],r.transform)},e.prototype.getAxisLayout=function(t){return sr(this._axesLayout[t])},e.prototype.getSlidedAxisExpandWindow=function(t){var n=this._makeLayoutInfo(),r=n.pixelDimIndex,i=n.axisExpandWindow.slice(),a=i[1]-i[0],o=[0,n.axisExpandWidth*(n.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var s=t[r]-n.layoutBase-n.axisExpandWindow0Pos,l,u="slide",c=n.axisCollapseWidth,f=this._model.get("axisExpandSlideTriggerArea"),d=f[0]!=null;if(c)d&&c&&s<a*f[0]?(u="jump",l=s-a*f[2]):d&&c&&s>a*(1-f[0])?(u="jump",l=s-a*(1-f[2])):(l=s-a*f[1])>=0&&(l=s-a*(1-f[1]))<=0&&(l=0),l*=n.axisExpandWidth/c,l?Gy(l,i,o,"all"):u="none";else{var h=i[1]-i[0],p=o[1]*s/h;i=[HSe(0,p-h/2)],i[1]=$Se(o[1],i[0]+h),i[0]=i[1]-h}return{axisExpandWindow:i,behavior:u}},e}();function lI(e,t){return $Se(HSe(e,t[0]),t[1])}function b0t(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function x0t(e,t){var n=t.layoutLength,r=t.axisExpandWidth,i=t.axisCount,a=t.axisCollapseWidth,o=t.winInnerIndices,s,l=a,u=!1,c;return e<o[0]?(s=e*a,c=a):e<=o[1]?(s=t.axisExpandWindow0Pos+e*r-t.axisExpandWindow[0],l=r,u=!0):(s=n-(i-1-e)*a,c=a),{position:s,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function S0t(e,t){var n=[];return e.eachComponent("parallel",function(r,i){var a=new _0t(r,e,t);a.name="parallel_"+i,a.resize(r,t),r.coordinateSystem=a,a.model=r,n.push(a)}),e.eachSeries(function(r){if(r.get("coordinateSystem")==="parallel"){var i=r.getReferringComponents("parallel",wo).models[0];r.coordinateSystem=i.coordinateSystem}}),n}var A0t={create:S0t},b9=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return t.prototype.getAreaSelectStyle=function(){return _y([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(n){var r=this.activeIntervals=sr(n);if(r)for(var i=r.length-1;i>=0;i--)Mc(r[i])},t.prototype.getActiveState=function(n){var r=this.activeIntervals;if(!r.length)return"normal";if(n==null||isNaN(+n))return"inactive";if(r.length===1){var i=r[0];if(i[0]<=n&&n<=i[1])return"active"}else for(var a=0,o=r.length;a<o;a++)if(r[a][0]<=n&&n<=r[a][1])return"active";return"inactive"},t}(Qr);Mo(b9,vw);var Sy=!0,mT=Math.min,Zb=Math.max,E0t=Math.pow,T0t=1e4,w0t=6,C0t=6,fne="globalPan",R0t={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},I0t={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},dne={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},M0t=0,SG=function(e){et(t,e);function t(n){var r=e.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=n,r.group=new hr,r._uid="brushController_"+M0t++,te(k0t,function(i,a){this._handlers[a]=Rn(i,this)},r),r}return t.prototype.enableBrush=function(n){return this._brushType&&this._doDisableBrush(),n.brushType&&this._doEnableBrush(n),this},t.prototype._doEnableBrush=function(n){var r=this._zr;this._enableGlobalPan||bvt(r,fne,this._uid),te(this._handlers,function(i,a){r.on(a,i)}),this._brushType=n.brushType,this._brushOption=wr(sr(dne),n,!0)},t.prototype._doDisableBrush=function(){var n=this._zr;xvt(n,fne,this._uid),te(this._handlers,function(r,i){n.off(i,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(n){if(n&&n.length){var r=this._panels={};te(n,function(i){r[i.panelId]=sr(i)})}else this._panels=null;return this},t.prototype.mount=function(n){n=n||{},this._enableGlobalPan=n.enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:n.x||0,y:n.y||0,rotation:n.rotation||0,scaleX:n.scaleX||1,scaleY:n.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(n){n=Vt(n,function(d){return wr(sr(dne),d,!0)});var r="\0-brush-index-",i=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new Dp(i,n,u,l).add(c).update(c).remove(f).execute(),this;function l(d,h){return(d.id!=null?d.id:r+h)+"-"+d.brushType}function u(d,h){return l(d.__brushOption,h)}function c(d,h){var p=n[d];if(h!=null&&i[h]===s)a[d]=i[h];else{var v=a[d]=h!=null?(i[h].__brushOption=p,i[h]):GSe(o,WSe(o,p));AG(o,v)}}function f(d){i[d]!==s&&o.group.remove(i[d])}},t.prototype.unmount=function(){return this.enableBrush(!1),x9(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}($c);function WSe(e,t){var n=HP[t.brushType].createCover(e,t);return n.__brushOption=t,YSe(n,t),e.group.add(n),n}function GSe(e,t){var n=EG(t);return n.endCreating&&(n.endCreating(e,t),YSe(t,t.__brushOption)),t}function jSe(e,t){var n=t.__brushOption;EG(t).updateCoverShape(e,t,n.range,n)}function YSe(e,t){var n=t.z;n==null&&(n=T0t),e.traverse(function(r){r.z=n,r.z2=n})}function AG(e,t){EG(t).updateCommon(e,t),jSe(e,t)}function EG(e){return HP[e.__brushOption.brushType]}function TG(e,t,n){var r=e._panels;if(!r)return Sy;var i,a=e._transform;return te(r,function(o){o.isTargetByCursor(t,n,a)&&(i=o)}),i}function XSe(e,t){var n=e._panels;if(!n)return Sy;var r=t.__brushOption.panelId;return r!=null?n[r]:Sy}function x9(e){var t=e._covers,n=t.length;return te(t,function(r){e.group.remove(r)},e),t.length=0,!!n}function Ay(e,t){var n=Vt(e._covers,function(r){var i=r.__brushOption,a=sr(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});e.trigger("brush",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function O0t(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],r=t[0],i=n[0]-r[0],a=n[1]-r[1],o=E0t(i*i+a*a,.5);return o>w0t}function KSe(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function qSe(e,t,n,r){var i=new hr;return i.add(new si({name:"main",style:wG(n),silent:!0,draggable:!0,cursor:"move",drift:Tr(hne,e,t,i,["n","s","w","e"]),ondragend:Tr(Ay,t,{isEnd:!0})})),te(r,function(a){i.add(new si({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Tr(hne,e,t,i,a),ondragend:Tr(Ay,t,{isEnd:!0})}))}),i}function ZSe(e,t,n,r){var i=r.brushStyle.lineWidth||0,a=Zb(i,C0t),o=n[0][0],s=n[1][0],l=o-i/2,u=s-i/2,c=n[0][1],f=n[1][1],d=c-a+i/2,h=f-a+i/2,p=c-o,v=f-s,g=p+i,m=v+i;Jh(e,t,"main",o,s,p,v),r.transformable&&(Jh(e,t,"w",l,u,a,m),Jh(e,t,"e",d,u,a,m),Jh(e,t,"n",l,u,g,a),Jh(e,t,"s",l,h,g,a),Jh(e,t,"nw",l,u,a,a),Jh(e,t,"ne",d,u,a,a),Jh(e,t,"sw",l,h,a,a),Jh(e,t,"se",d,h,a,a))}function S9(e,t){var n=t.__brushOption,r=n.transformable,i=t.childAt(0);i.useStyle(wG(n)),i.attr({silent:!r,cursor:r?"move":"default"}),te([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=t.childOfName(a.join("")),s=a.length===1?A9(e,a[0]):P0t(e,a);o&&o.attr({silent:!r,invisible:!r,cursor:r?I0t[s]+"-resize":null})})}function Jh(e,t,n,r,i,a,o){var s=t.childOfName(n);s&&s.setShape(N0t(CG(e,t,[[r,i],[r+a,i+o]])))}function wG(e){return tr({strokeNoScale:!0},e.brushStyle)}function QSe(e,t,n,r){var i=[mT(e,n),mT(t,r)],a=[Zb(e,n),Zb(t,r)];return[[i[0],a[0]],[i[1],a[1]]]}function D0t(e){return ey(e.group)}function A9(e,t){var n={w:"left",e:"right",n:"top",s:"bottom"},r={left:"w",right:"e",top:"n",bottom:"s"},i=xP(n[t],D0t(e));return r[i]}function P0t(e,t){var n=[A9(e,t[0]),A9(e,t[1])];return(n[0]==="e"||n[0]==="w")&&n.reverse(),n.join("")}function hne(e,t,n,r,i,a){var o=n.__brushOption,s=e.toRectRange(o.range),l=JSe(t,i,a);te(r,function(u){var c=R0t[u];s[c[0]][c[1]]+=l[c[0]]}),o.range=e.fromRectRange(QSe(s[0][0],s[1][0],s[0][1],s[1][1])),AG(t,n),Ay(t,{isEnd:!1})}function L0t(e,t,n,r){var i=t.__brushOption.range,a=JSe(e,n,r);te(i,function(o){o[0]+=a[0],o[1]+=a[1]}),AG(e,t),Ay(e,{isEnd:!1})}function JSe(e,t,n){var r=e.group,i=r.transformCoordToLocal(t,n),a=r.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function CG(e,t,n){var r=XSe(e,t);return r&&r!==Sy?r.clipPath(n,e._transform):sr(n)}function N0t(e){var t=mT(e[0][0],e[1][0]),n=mT(e[0][1],e[1][1]),r=Zb(e[0][0],e[1][0]),i=Zb(e[0][1],e[1][1]);return{x:t,y:n,width:r-t,height:i-n}}function B0t(e,t,n){if(!(!e._brushType||F0t(e,t.offsetX,t.offsetY))){var r=e._zr,i=e._covers,a=TG(e,t,n);if(!e._dragging)for(var o=0;o<i.length;o++){var s=i[o].__brushOption;if(a&&(a===Sy||s.panelId===a.panelId)&&HP[s.brushType].contain(i[o],n[0],n[1]))return}a&&r.setCursorStyle("crosshair")}}function E9(e){var t=e.event;t.preventDefault&&t.preventDefault()}function T9(e,t,n){return e.childOfName("main").contain(t,n)}function eAe(e,t,n,r){var i=e._creatingCover,a=e._creatingPanel,o=e._brushOption,s;if(e._track.push(n.slice()),O0t(e)||i){if(a&&!i){o.brushMode==="single"&&x9(e);var l=sr(o);l.brushType=pne(l.brushType,a),l.panelId=a===Sy?null:a.panelId,i=e._creatingCover=WSe(e,l),e._covers.push(i)}if(i){var u=HP[pne(e._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(CG(e,i,e._track)),r&&(GSe(e,i),u.updateCommon(e,i)),jSe(e,i),s={isEnd:r}}}else r&&o.brushMode==="single"&&o.removeOnClick&&TG(e,t,n)&&x9(e)&&(s={isEnd:r,removeOnClick:!0});return s}function pne(e,t){return e==="auto"?t.defaultBrushType:e}var k0t={mousedown:function(e){if(this._dragging)vne(this,e);else if(!e.target||!e.target.draggable){E9(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var n=this._creatingPanel=TG(this,e,t);n&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,r=this.group.transformCoordToLocal(t,n);if(B0t(this,e,r),this._dragging){E9(e);var i=eAe(this,e,r,!1);i&&Ay(this,i)}},mouseup:function(e){vne(this,e)}};function vne(e,t){if(e._dragging){E9(t);var n=t.offsetX,r=t.offsetY,i=e.group.transformCoordToLocal(n,r),a=eAe(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,a&&Ay(e,a)}}function F0t(e,t,n){var r=e._zr;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}var HP={lineX:gne(0),lineY:gne(1),rect:{createCover:function(e,t){function n(r){return r}return qSe({toRectRange:n,fromRectRange:n},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=KSe(e);return QSe(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){ZSe(e,t,n,r)},updateCommon:S9,contain:T9},polygon:{createCover:function(e,t){var n=new hr;return n.add(new kl({name:"main",style:wG(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Bl({name:"main",draggable:!0,drift:Tr(L0t,e,t),ondragend:Tr(Ay,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,r){t.childAt(0).setShape({points:CG(e,t,n)})},updateCommon:S9,contain:T9}};function gne(e){return{createCover:function(t,n){return qSe({toRectRange:function(r){var i=[r,[0,100]];return e&&i.reverse(),i},fromRectRange:function(r){return r[e]}},t,n,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var n=KSe(t),r=mT(n[0][e],n[1][e]),i=Zb(n[0][e],n[1][e]);return[r,i]},updateCoverShape:function(t,n,r,i){var a,o=XSe(t,n);if(o!==Sy&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(e);else{var s=t._zr;a=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[r,a];e&&l.reverse(),ZSe(t,n,l,i)},updateCommon:S9,contain:T9}}function tAe(e){return e=RG(e),function(t){return d1e(t,e)}}function nAe(e,t){return e=RG(e),function(n){var r=t??n,i=r?e.width:e.height,a=r?e.x:e.y;return[a,a+(i||0)]}}function rAe(e,t,n){var r=RG(e);return function(i,a){return r.contain(a[0],a[1])&&!UP(i,t,n)}}function RG(e){return Mr.create(e)}var U0t=["axisLine","axisTickLabel","axisName"],V0t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){e.prototype.init.apply(this,arguments),(this._brushController=new SG(r.getZr())).on("brush",Rn(this._onBrush,this))},t.prototype.render=function(n,r,i,a){if(!z0t(n,r,a)){this.axisModel=n,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new hr,this.group.add(this._axisGroup),!!n.get("show")){var s=H0t(n,r),l=s.coordinateSystem,u=n.getAreaSelectStyle(),c=u.width,f=n.axis.dim,d=l.getAxisLayout(f),h=Ct({strokeContainThreshold:c},d),p=new Il(n,h);te(U0t,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(h,u,n,s,c,i),cw(o,this._axisGroup,n)}}},t.prototype._refreshBrushController=function(n,r,i,a,o,s){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),f=Mr.create({x:l[0],y:-o/2,width:u,height:o});f.x-=c,f.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:n.rotation,x:n.position[0],y:n.position[1]}).setPanels([{panelId:"pl",clipPath:tAe(f),isTargetByCursor:rAe(f,s,a),getLinearBrushOtherExtent:nAe(f,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers($0t(i))},t.prototype._onBrush=function(n){var r=n.areas,i=this.axisModel,a=i.axis,o=Vt(r,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!i.option.realtime===n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Ba);function z0t(e,t,n){return n&&n.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}function $0t(e){var t=e.axis;return Vt(e.activeIntervals,function(n){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(n[0],!0),t.dataToCoord(n[1],!0)]}})}function H0t(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var W0t={type:"axisAreaSelect",event:"axisAreaSelected"};function G0t(e){e.registerAction(W0t,function(t,n){n.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,n){n.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}var j0t={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function iAe(e){e.registerComponentView(h0t),e.registerComponentModel(v0t),e.registerCoordinateSystem("parallel",A0t),e.registerPreprocessor(u0t),e.registerComponentModel(b9),e.registerComponentView(V0t),qb(e,"parallel",b9,j0t),G0t(e)}function Y0t(e){Vr(iAe),e.registerChartView(t0t),e.registerSeriesModel(i0t),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,l0t)}var X0t=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e}(),K0t=function(e){et(t,e);function t(n){return e.call(this,n)||this}return t.prototype.getDefaultShape=function(){return new X0t},t.prototype.buildPath=function(n,r){var i=r.extent;n.moveTo(r.x1,r.y1),n.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(n.lineTo(r.x2+i,r.y2),n.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(n.lineTo(r.x2,r.y2+i),n.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),n.closePath()},t.prototype.highlight=function(){Mp(this)},t.prototype.downplay=function(){Op(this)},t}(Wr),q0t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return t.prototype.render=function(n,r,i){var a=this,o=n.getGraph(),s=this.group,l=n.layoutInfo,u=l.width,c=l.height,f=n.getData(),d=n.getData("edge"),h=n.get("orient");this._model=n,s.removeAll(),s.x=l.x,s.y=l.y,o.eachEdge(function(p){var v=new K0t,g=gr(v);g.dataIndex=p.dataIndex,g.seriesIndex=n.seriesIndex,g.dataType="edge";var m=p.getModel(),b=m.getModel("lineStyle"),_=b.get("curveness"),x=p.node1.getLayout(),E=p.node1.getModel(),A=E.get("localX"),T=E.get("localY"),R=p.node2.getLayout(),M=p.node2.getModel(),O=M.get("localX"),D=M.get("localY"),C=p.getLayout(),P,B,U,L,F,N,V,W;v.shape.extent=Math.max(1,C.dy),v.shape.orient=h,h==="vertical"?(P=(A!=null?A*u:x.x)+C.sy,B=(T!=null?T*c:x.y)+x.dy,U=(O!=null?O*u:R.x)+C.ty,L=D!=null?D*c:R.y,F=P,N=B*(1-_)+L*_,V=U,W=B*_+L*(1-_)):(P=(A!=null?A*u:x.x)+x.dx,B=(T!=null?T*c:x.y)+C.sy,U=O!=null?O*u:R.x,L=(D!=null?D*c:R.y)+C.ty,F=P*(1-_)+U*_,N=B,V=P*_+U*(1-_),W=L),v.setShape({x1:P,y1:B,x2:U,y2:L,cpx1:F,cpy1:N,cpx2:V,cpy2:W}),v.useStyle(b.getItemStyle()),mne(v.style,h,p);var G=""+m.get("value"),K=is(m,"edgeLabel");Ns(v,K,{labelFetcher:{getFormattedLabel:function(he,Ce,ee,de,oe,pe){return n.getFormattedLabel(he,Ce,"edge",de,Xd(oe,K.normal&&K.normal.get("formatter"),G),pe)}},labelDataIndex:p.dataIndex,defaultText:G}),v.setTextConfig({position:"inside"});var q=m.getModel("emphasis");Ls(v,m,"lineStyle",function(he){var Ce=he.getItemStyle();return mne(Ce,h,p),Ce}),s.add(v),d.setItemGraphicEl(p.dataIndex,v);var ue=q.get("focus");to(v,ue==="adjacency"?p.getAdjacentDataIndices():ue==="trajectory"?p.getTrajectoryDataIndices():ue,q.get("blurScope"),q.get("disabled"))}),o.eachNode(function(p){var v=p.getLayout(),g=p.getModel(),m=g.get("localX"),b=g.get("localY"),_=g.getModel("emphasis"),x=g.get(["itemStyle","borderRadius"])||0,E=new si({shape:{x:m!=null?m*u:v.x,y:b!=null?b*c:v.y,width:v.dx,height:v.dy,r:x},style:g.getModel("itemStyle").getItemStyle(),z2:10});Ns(E,is(g),{labelFetcher:{getFormattedLabel:function(T,R){return n.getFormattedLabel(T,R,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),E.disableLabelAnimation=!0,E.setStyle("fill",p.getVisual("color")),E.setStyle("decal",p.getVisual("style").decal),Ls(E,g),s.add(E),f.setItemGraphicEl(p.dataIndex,E),gr(E).dataType="node";var A=_.get("focus");to(E,A==="adjacency"?p.getAdjacentDataIndices():A==="trajectory"?p.getTrajectoryDataIndices():A,_.get("blurScope"),_.get("disabled"))}),f.eachItemGraphicEl(function(p,v){var g=f.getItemModel(v);g.get("draggable")&&(p.drift=function(m,b){a._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=b,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:f.getRawIndex(v),localX:this.shape.x/u,localY:this.shape.y/c})},p.ondragend=function(){a._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&n.isAnimationEnabled()&&s.setClipPath(Z0t(s.getBoundingRect(),n,function(){s.removeClipPath()})),this._data=n.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(ta);function mne(e,t,n){switch(e.fill){case"source":e.fill=n.node1.getVisual("color"),e.decal=n.node1.getVisual("style").decal;break;case"target":e.fill=n.node2.getVisual("color"),e.decal=n.node2.getVisual("style").decal;break;case"gradient":var r=n.node1.getVisual("color"),i=n.node2.getVisual("color");An(r)&&An(i)&&(e.fill=new Zo(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:r,offset:0},{color:i,offset:1}]))}}function Z0t(e,t,n){var r=new si({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Ca(r,{shape:{width:e.width+20}},t,n),r}var Q0t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,r){var i=n.edges||n.links,a=n.data||n.nodes,o=n.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)o[l].depth!=null&&o[l].depth>=0&&(s[o[l].depth]=new zi(o[l],this,r));if(a&&i){var u=VSe(a,i,this,!0,c);return u.data}function c(f,d){f.wrapMethod("getItemModel",function(h,p){var v=h.parentModel,g=v.getData().getItemLayout(p);if(g){var m=g.depth,b=v.levelModels[m];b&&(h.parentModel=b)}return h}),d.wrapMethod("getItemModel",function(h,p){var v=h.parentModel,g=v.getGraph().getEdgeByIndex(p),m=g.node1.getLayout();if(m){var b=m.depth,_=v.levelModels[b];_&&(h.parentModel=_)}return h})}},t.prototype.setNodePosition=function(n,r){var i=this.option.data||this.option.nodes,a=i[n];a.localX=r[0],a.localY=r[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(n,r,i){function a(h){return isNaN(h)||h==null}if(i==="edge"){var o=this.getDataParams(n,i),s=o.data,l=o.value,u=s.source+" -- "+s.target;return as("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(n),f=c.getLayout().value,d=this.getDataParams(n,i).data.name;return as("nameValue",{name:d!=null?d+"":null,value:f,noValue:a(f)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(n,r){var i=e.prototype.getDataParams.call(this,n,r);if(i.value==null&&r==="node"){var a=this.getGraph().getNodeByIndex(n),o=a.getLayout().value;i.value=o}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(va);function J0t(e,t){e.eachSeriesByType("sankey",function(n){var r=n.get("nodeWidth"),i=n.get("nodeGap"),a=eyt(n,t);n.layoutInfo=a;var o=a.width,s=a.height,l=n.getGraph(),u=l.nodes,c=l.edges;nyt(u);var f=Xi(u,function(v){return v.getLayout().value===0}),d=f.length!==0?0:n.get("layoutIterations"),h=n.get("orient"),p=n.get("nodeAlign");tyt(u,c,r,i,o,s,d,h,p)})}function eyt(e,t){return $o(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function tyt(e,t,n,r,i,a,o,s,l){ryt(e,t,n,i,a,s,l),syt(e,t,a,i,r,o,s),gyt(e,s)}function nyt(e){te(e,function(t){var n=Eg(t.outEdges,pO),r=Eg(t.inEdges,pO),i=t.getValue()||0,a=Math.max(n,r,i);t.setLayout({value:a},!0)})}function ryt(e,t,n,r,i,a,o){for(var s=[],l=[],u=[],c=[],f=0,d=0;d<t.length;d++)s[d]=1;for(var d=0;d<e.length;d++)l[d]=e[d].inEdges.length,l[d]===0&&u.push(e[d]);for(var h=-1;u.length;){for(var p=0;p<u.length;p++){var v=u[p],g=v.hostGraph.data.getRawDataItem(v.dataIndex),m=g.depth!=null&&g.depth>=0;m&&g.depth>h&&(h=g.depth),v.setLayout({depth:m?g.depth:f},!0),a==="vertical"?v.setLayout({dy:n},!0):v.setLayout({dx:n},!0);for(var b=0;b<v.outEdges.length;b++){var _=v.outEdges[b],x=t.indexOf(_);s[x]=0;var E=_.node2,A=e.indexOf(E);--l[A]===0&&c.indexOf(E)<0&&c.push(E)}}++f,u=c,c=[]}for(var d=0;d<s.length;d++)if(s[d]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var T=h>f-1?h:f-1;o&&o!=="left"&&iyt(e,o,a,T);var R=a==="vertical"?(i-n)/T:(r-n)/T;oyt(e,R,a)}function aAe(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return t.depth!=null&&t.depth>=0}function iyt(e,t,n,r){if(t==="right"){for(var i=[],a=e,o=0;a.length;){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:o},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++o}te(e,function(f){aAe(f)||f.setLayout({depth:Math.max(0,r-f.getLayout().skNodeHeight)},!0)})}else t==="justify"&&ayt(e,r)}function ayt(e,t){te(e,function(n){!aAe(n)&&!n.outEdges.length&&n.setLayout({depth:t},!0)})}function oyt(e,t,n){te(e,function(r){var i=r.getLayout().depth*t;n==="vertical"?r.setLayout({y:i},!0):r.setLayout({x:i},!0)})}function syt(e,t,n,r,i,a,o){var s=lyt(e,o);uyt(s,t,n,r,i,o),u6(s,i,n,r,o);for(var l=1;a>0;a--)l*=.99,cyt(s,l,o),u6(s,i,n,r,o),vyt(s,l,o),u6(s,i,n,r,o)}function lyt(e,t){var n=[],r=t==="vertical"?"y":"x",i=wV(e,function(a){return a.getLayout()[r]});return i.keys.sort(function(a,o){return a-o}),te(i.keys,function(a){n.push(i.buckets.get(a))}),n}function uyt(e,t,n,r,i,a){var o=1/0;te(e,function(s){var l=s.length,u=0;te(s,function(f){u+=f.getLayout().value});var c=a==="vertical"?(r-(l-1)*i)/u:(n-(l-1)*i)/u;c<o&&(o=c)}),te(e,function(s){te(s,function(l,u){var c=l.getLayout().value*o;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),te(t,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})}function u6(e,t,n,r,i){var a=i==="vertical"?"x":"y";te(e,function(o){o.sort(function(v,g){return v.getLayout()[a]-g.getLayout()[a]});for(var s,l,u,c=0,f=o.length,d=i==="vertical"?"dx":"dy",h=0;h<f;h++)l=o[h],u=c-l.getLayout()[a],u>0&&(s=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]+l.getLayout()[d]+t;var p=i==="vertical"?r:n;if(u=c-t-p,u>0){s=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),c=s;for(var h=f-2;h>=0;--h)l=o[h],u=l.getLayout()[a]+l.getLayout()[d]+t-c,u>0&&(s=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),c=l.getLayout()[a]}})}function cyt(e,t,n){te(e.slice().reverse(),function(r){te(r,function(i){if(i.outEdges.length){var a=Eg(i.outEdges,fyt,n)/Eg(i.outEdges,pO);if(isNaN(a)){var o=i.outEdges.length;a=o?Eg(i.outEdges,dyt,n)/o:0}if(n==="vertical"){var s=i.getLayout().x+(a-Wg(i,n))*t;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-Wg(i,n))*t;i.setLayout({y:l},!0)}}})})}function fyt(e,t){return Wg(e.node2,t)*e.getValue()}function dyt(e,t){return Wg(e.node2,t)}function hyt(e,t){return Wg(e.node1,t)*e.getValue()}function pyt(e,t){return Wg(e.node1,t)}function Wg(e,t){return t==="vertical"?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function pO(e){return e.getValue()}function Eg(e,t,n){for(var r=0,i=e.length,a=-1;++a<i;){var o=+t(e[a],n);isNaN(o)||(r+=o)}return r}function vyt(e,t,n){te(e,function(r){te(r,function(i){if(i.inEdges.length){var a=Eg(i.inEdges,hyt,n)/Eg(i.inEdges,pO);if(isNaN(a)){var o=i.inEdges.length;a=o?Eg(i.inEdges,pyt,n)/o:0}if(n==="vertical"){var s=i.getLayout().x+(a-Wg(i,n))*t;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(a-Wg(i,n))*t;i.setLayout({y:l},!0)}}})})}function gyt(e,t){var n=t==="vertical"?"x":"y";te(e,function(r){r.outEdges.sort(function(i,a){return i.node2.getLayout()[n]-a.node2.getLayout()[n]}),r.inEdges.sort(function(i,a){return i.node1.getLayout()[n]-a.node1.getLayout()[n]})}),te(e,function(r){var i=0,a=0;te(r.outEdges,function(o){o.setLayout({sy:i},!0),i+=o.getLayout().dy}),te(r.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}function myt(e){e.eachSeriesByType("sankey",function(t){var n=t.getGraph(),r=n.nodes,i=n.edges;if(r.length){var a=1/0,o=-1/0;te(r,function(s){var l=s.getLayout().value;l<a&&(a=l),l>o&&(o=l)}),te(r,function(s){var l=new es({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:t.get("color")}),u=l.mapValueToVisual(s.getLayout().value),c=s.getModel().get(["itemStyle","color"]);c!=null?(s.setVisual("color",c),s.setVisual("style",{fill:c})):(s.setVisual("color",u),s.setVisual("style",{fill:u}))})}i.length&&te(i,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function yyt(e){e.registerChartView(q0t),e.registerSeriesModel(Q0t),e.registerLayout(J0t),e.registerVisual(myt),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,n){n.eachComponent({mainType:"series",subType:"sankey",query:t},function(r){r.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var oAe=function(){function e(){}return e.prototype.getInitialData=function(t,n){var r,i=n.getComponent("xAxis",this.get("xAxisIndex")),a=n.getComponent("yAxis",this.get("yAxisIndex")),o=i.get("type"),s=a.get("type"),l;o==="category"?(t.layout="horizontal",r=i.getOrdinalMeta(),l=!0):s==="category"?(t.layout="vertical",r=a.getOrdinalMeta(),l=!0):t.layout=t.layout||"horizontal";var u=["x","y"],c=t.layout==="horizontal"?0:1,f=this._baseAxisDim=u[c],d=u[1-c],h=[i,a],p=h[c].get("type"),v=h[1-c].get("type"),g=t.data;if(g&&l){var m=[];te(g,function(x,E){var A;Lt(x)?(A=x.slice(),x.unshift(E)):Lt(x.value)?(A=Ct({},x),A.value=A.value.slice(),x.value.unshift(E)):A=x,m.push(A)}),t.data=m}var b=this.defaultValueDimensions,_=[{name:f,type:rO(p),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:d,type:rO(v),dimsDef:b.slice()}];return Gx(this,{coordDimensions:_,dimensionsCount:b.length+1,encodeDefaulter:Tr(F1e,_,this)})},e.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},e}(),sAe=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],n.visualDrawType="stroke",n}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(va);Mo(sAe,oAe,!0);var _yt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var a=n.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l=n.get("layout")==="horizontal"?1:0;a.diff(s).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),f=yne(c,a,u,l,!0);a.setItemGraphicEl(u,f),o.add(f)}}).update(function(u,c){var f=s.getItemGraphicEl(c);if(!a.hasValue(u)){o.remove(f);return}var d=a.getItemLayout(u);f?(Jf(f),lAe(d,f,a,u)):f=yne(d,a,u,l),o.add(f),a.setItemGraphicEl(u,f)}).remove(function(u){var c=s.getItemGraphicEl(u);c&&o.remove(c)}).execute(),this._data=a},t.prototype.remove=function(n){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&r.remove(a)})},t.type="boxplot",t}(ta),byt=function(){function e(){}return e}(),xyt=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r.type="boxplotBoxPath",r}return t.prototype.getDefaultShape=function(){return new byt},t.prototype.buildPath=function(n,r){var i=r.points,a=0;for(n.moveTo(i[a][0],i[a][1]),a++;a<4;a++)n.lineTo(i[a][0],i[a][1]);for(n.closePath();a<i.length;a++)n.moveTo(i[a][0],i[a][1]),a++,n.lineTo(i[a][0],i[a][1])},t}(Wr);function yne(e,t,n,r,i){var a=e.ends,o=new xyt({shape:{points:i?Syt(a,r,e):a}});return lAe(e,o,t,n,i),o}function lAe(e,t,n,r,i){var a=n.hostModel,o=Vy[i?"initProps":"updateProps"];o(t,{shape:{points:e.ends}},a,r),t.useStyle(n.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var s=n.getItemModel(r),l=s.getModel("emphasis");Ls(t,s),to(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function Syt(e,t,n){return Vt(e,function(r){return r=r.slice(),r[t]=n.initBaseline,r})}var s2=te;function Ayt(e){var t=Eyt(e);s2(t,function(n){var r=n.seriesModels;r.length&&(Tyt(n),s2(r,function(i,a){wyt(i,n.boxOffsetList[a],n.boxWidthList[a])}))})}function Eyt(e){var t=[],n=[];return e.eachSeriesByType("boxplot",function(r){var i=r.getBaseAxis(),a=Ur(n,i);a<0&&(a=n.length,n[a]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(r)}),t}function Tyt(e){var t=e.axis,n=e.seriesModels,r=n.length,i=e.boxWidthList=[],a=e.boxOffsetList=[],o=[],s;if(t.type==="category")s=t.getBandWidth();else{var l=0;s2(n,function(p){l=Math.max(l,p.getData().count())});var u=t.getExtent();s=Math.abs(u[1]-u[0])/l}s2(n,function(p){var v=p.get("boxWidth");Lt(v)||(v=[v,v]),o.push([vn(v[0],s)||0,vn(v[1],s)||0])});var c=s*.8-2,f=c/r*.3,d=(c-f*(r-1))/r,h=d/2-c/2;s2(n,function(p,v){a.push(h),h+=f+d,i.push(Math.min(Math.max(d,o[v][0]),o[v][1]))})}function wyt(e,t,n){var r=e.coordinateSystem,i=e.getData(),a=n/2,o=e.get("layout")==="horizontal"?0:1,s=1-o,l=["x","y"],u=i.mapDimension(l[o]),c=i.mapDimensionsAll(l[s]);if(u==null||c.length<5)return;for(var f=0;f<i.count();f++){var d=i.get(u,f),h=_(d,c[2],f),p=_(d,c[0],f),v=_(d,c[1],f),g=_(d,c[3],f),m=_(d,c[4],f),b=[];x(b,v,!1),x(b,g,!0),b.push(p,v,m,g),E(b,p),E(b,m),E(b,h),i.setItemLayout(f,{initBaseline:h[s],ends:b})}function _(A,T,R){var M=i.get(T,R),O=[];O[o]=A,O[s]=M;var D;return isNaN(A)||isNaN(M)?D=[NaN,NaN]:(D=r.dataToPoint(O),D[o]+=t),D}function x(A,T,R){var M=T.slice(),O=T.slice();M[o]+=a,O[o]-=a,R?A.push(M,O):A.push(O,M)}function E(A,T){var R=T.slice(),M=T.slice();R[o]-=a,M[o]+=a,A.push(R,M)}}function Cyt(e,t){t=t||{};for(var n=[],r=[],i=t.boundIQR,a=i==="none"||i===0,o=0;o<e.length;o++){var s=Mc(e[o].slice()),l=FN(s,.25),u=FN(s,.5),c=FN(s,.75),f=s[0],d=s[s.length-1],h=(i??1.5)*(c-l),p=a?f:Math.max(f,l-h),v=a?d:Math.min(d,c+h),g=t.itemNameFormatter,m=er(g)?g({value:o}):An(g)?g.replace("{value}",o+""):o+"";n.push([m,p,l,u,c,v]);for(var b=0;b<s.length;b++){var _=s[b];if(_<p||_>v){var x=[m,_];r.push(x)}}}return{boxData:n,outliers:r}}var Ryt={type:"echarts:boxplot",transform:function(t){var n=t.upstream;if(n.sourceFormat!==rl){var r="";Li(r)}var i=Cyt(n.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function Iyt(e){e.registerSeriesModel(sAe),e.registerChartView(_yt),e.registerLayout(Ayt),e.registerTransform(Ryt)}var Myt=["color","borderColor"],Oyt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(n),this._isLargeDraw?this._renderLarge(n):this._renderNormal(n)},t.prototype.incrementalPrepareRender=function(n,r,i){this._clear(),this._updateDrawMode(n)},t.prototype.incrementalRender=function(n,r,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(n,r):this._incrementalRenderNormal(n,r)},t.prototype.eachRendered=function(n){tm(this._progressiveEls||this.group,n)},t.prototype._updateDrawMode=function(n){var r=n.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(n){var r=n.getData(),i=this._data,a=this.group,o=r.getLayout("isSimpleBox"),s=n.get("clip",!0),l=n.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),r.diff(i).add(function(c){if(r.hasValue(c)){var f=r.getItemLayout(c);if(s&&_ne(u,f))return;var d=c6(f,c,!0);Ca(d,{shape:{points:f.ends}},n,c),f6(d,r,c,o),a.add(d),r.setItemGraphicEl(c,d)}}).update(function(c,f){var d=i.getItemGraphicEl(f);if(!r.hasValue(c)){a.remove(d);return}var h=r.getItemLayout(c);if(s&&_ne(u,h)){a.remove(d);return}d?(Si(d,{shape:{points:h.ends}},n,c),Jf(d)):d=c6(h),f6(d,r,c,o),a.add(d),r.setItemGraphicEl(c,d)}).remove(function(c){var f=i.getItemGraphicEl(c);f&&a.remove(f)}).execute(),this._data=r},t.prototype._renderLarge=function(n){this._clear(),bne(n,this.group);var r=n.get("clip",!0)?yw(n.coordinateSystem,!1,n):null;r?this.group.setClipPath(r):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(n,r){for(var i=r.getData(),a=i.getLayout("isSimpleBox"),o;(o=n.next())!=null;){var s=i.getItemLayout(o),l=c6(s);f6(l,i,o,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(n,r){bne(r,this.group,this._progressiveEls,!0)},t.prototype.remove=function(n){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(ta),Dyt=function(){function e(){}return e}(),Pyt=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r.type="normalCandlestickBox",r}return t.prototype.getDefaultShape=function(){return new Dyt},t.prototype.buildPath=function(n,r){var i=r.points;this.__simpleBox?(n.moveTo(i[4][0],i[4][1]),n.lineTo(i[6][0],i[6][1])):(n.moveTo(i[0][0],i[0][1]),n.lineTo(i[1][0],i[1][1]),n.lineTo(i[2][0],i[2][1]),n.lineTo(i[3][0],i[3][1]),n.closePath(),n.moveTo(i[4][0],i[4][1]),n.lineTo(i[5][0],i[5][1]),n.moveTo(i[6][0],i[6][1]),n.lineTo(i[7][0],i[7][1]))},t}(Wr);function c6(e,t,n){var r=e.ends;return new Pyt({shape:{points:n?Lyt(r,e):r},z2:100})}function _ne(e,t){for(var n=!0,r=0;r<t.ends.length;r++)if(e.contain(t.ends[r][0],t.ends[r][1])){n=!1;break}return n}function f6(e,t,n,r){var i=t.getItemModel(n);e.useStyle(t.getItemVisual(n,"style")),e.style.strokeNoScale=!0,e.__simpleBox=r,Ls(e,i)}function Lyt(e,t){return Vt(e,function(n){return n=n.slice(),n[1]=t.initBaseline,n})}var Nyt=function(){function e(){}return e}(),d6=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r.type="largeCandlestickBox",r}return t.prototype.getDefaultShape=function(){return new Nyt},t.prototype.buildPath=function(n,r){for(var i=r.points,a=0;a<i.length;)if(this.__sign===i[a++]){var o=i[a++];n.moveTo(o,i[a++]),n.lineTo(o,i[a++])}else a+=3},t}(Wr);function bne(e,t,n,r){var i=e.getData(),a=i.getLayout("largePoints"),o=new d6({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(o);var s=new d6({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new d6({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(l),h6(1,o,e),h6(-1,s,e),h6(0,l,e),r&&(o.incremental=!0,s.incremental=!0),n&&n.push(o,s)}function h6(e,t,n,r){var i=n.get(["itemStyle",e>0?"borderColor":"borderColor0"])||n.get(["itemStyle",e>0?"color":"color0"]);e===0&&(i=n.get(["itemStyle","borderColorDoji"]));var a=n.getModel("itemStyle").getItemStyle(Myt);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var uAe=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],n}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(n,r,i){var a=r.getItemLayout(n);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(va);Mo(uAe,oAe,!0);function Byt(e){!e||!Lt(e.series)||te(e.series,function(t){ar(t)&&t.type==="k"&&(t.type="candlestick")})}var kyt=["itemStyle","borderColor"],Fyt=["itemStyle","borderColor0"],Uyt=["itemStyle","borderColorDoji"],Vyt=["itemStyle","color"],zyt=["itemStyle","color0"],$yt={seriesType:"candlestick",plan:zx(),performRawSeries:!0,reset:function(e,t){function n(a,o){return o.get(a>0?Vyt:zyt)}function r(a,o){return o.get(a===0?Uyt:a>0?kyt:Fyt)}if(!t.isSeriesFiltered(e)){var i=e.pipelineContext.large;return!i&&{progress:function(a,o){for(var s;(s=a.next())!=null;){var l=o.getItemModel(s),u=o.getItemLayout(s).sign,c=l.getItemStyle();c.fill=n(u,l),c.stroke=r(u,l)||c.fill;var f=o.ensureUniqueItemVisual(s,"style");Ct(f,c)}}}}}},Hyt={seriesType:"candlestick",plan:zx(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),r=Wyt(e,n),i=0,a=1,o=["x","y"],s=n.getDimensionIndex(n.mapDimension(o[i])),l=Vt(n.mapDimensionsAll(o[a]),n.getDimensionIndex,n),u=l[0],c=l[1],f=l[2],d=l[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),s<0||l.length<4)return;return{progress:e.pipelineContext.large?p:h};function h(v,g){for(var m,b=g.getStore();(m=v.next())!=null;){var _=b.get(s,m),x=b.get(u,m),E=b.get(c,m),A=b.get(f,m),T=b.get(d,m),R=Math.min(x,E),M=Math.max(x,E),O=F(R,_),D=F(M,_),C=F(A,_),P=F(T,_),B=[];N(B,D,0),N(B,O,1),B.push(W(P),W(D),W(C),W(O));var U=g.getItemModel(m),L=!!U.get(["itemStyle","borderColorDoji"]);g.setItemLayout(m,{sign:xne(b,m,x,E,c,L),initBaseline:x>E?D[a]:O[a],ends:B,brushRect:V(A,T,_)})}function F(G,K){var q=[];return q[i]=K,q[a]=G,isNaN(K)||isNaN(G)?[NaN,NaN]:t.dataToPoint(q)}function N(G,K,q){var ue=K.slice(),he=K.slice();ue[i]=I3(ue[i]+r/2,1,!1),he[i]=I3(he[i]-r/2,1,!0),q?G.push(ue,he):G.push(he,ue)}function V(G,K,q){var ue=F(G,q),he=F(K,q);return ue[i]-=r/2,he[i]-=r/2,{x:ue[0],y:ue[1],width:r,height:he[1]-ue[1]}}function W(G){return G[i]=I3(G[i],1),G}}function p(v,g){for(var m=Wd(v.count*4),b=0,_,x=[],E=[],A,T=g.getStore(),R=!!e.get(["itemStyle","borderColorDoji"]);(A=v.next())!=null;){var M=T.get(s,A),O=T.get(u,A),D=T.get(c,A),C=T.get(f,A),P=T.get(d,A);if(isNaN(M)||isNaN(C)||isNaN(P)){m[b++]=NaN,b+=3;continue}m[b++]=xne(T,A,O,D,c,R),x[i]=M,x[a]=C,_=t.dataToPoint(x,null,E),m[b++]=_?_[0]:NaN,m[b++]=_?_[1]:NaN,x[a]=P,_=t.dataToPoint(x,null,E),m[b++]=_?_[1]:NaN}g.setLayout("largePoints",m)}}};function xne(e,t,n,r,i,a){var o;return n>r?o=-1:n<r?o=1:o=a?0:t>0?e.get(i,t-1)<=r?1:-1:1,o}function Wyt(e,t){var n=e.getBaseAxis(),r,i=n.type==="category"?n.getBandWidth():(r=n.getExtent(),Math.abs(r[1]-r[0])/t.count()),a=vn(Sr(e.get("barMaxWidth"),i),i),o=vn(Sr(e.get("barMinWidth"),1),i),s=e.get("barWidth");return s!=null?vn(s,i):Math.max(Math.min(i/2,a),o)}function Gyt(e){e.registerChartView(Oyt),e.registerSeriesModel(uAe),e.registerPreprocessor(Byt),e.registerVisual($yt),e.registerLayout(Hyt)}function Sne(e,t){var n=t.rippleEffectColor||t.color;e.eachChild(function(r){r.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?n:null,fill:t.brushType==="fill"?n:null}})})}var jyt=function(e){et(t,e);function t(n,r){var i=e.call(this)||this,a=new gw(n,r),o=new hr;return i.add(a),i.add(o),i.updateData(n,r),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(n){for(var r=n.symbolType,i=n.color,a=n.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var l=Io(r,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-s/a*n.period+n.effectOffset;l.animate("",!0).when(n.period,{scaleX:n.rippleScale/2,scaleY:n.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(n.period,{opacity:0}).delay(u).start(),o.add(l)}Sne(o,n)},t.prototype.updateEffectAnimation=function(n){for(var r=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(r[s]!==n[s]){this.stopEffectAnimation(),this.startEffectAnimation(n);return}}Sne(i,n)},t.prototype.highlight=function(){Mp(this)},t.prototype.downplay=function(){Op(this)},t.prototype.getSymbolType=function(){var n=this.childAt(0);return n&&n.getSymbolType()},t.prototype.updateData=function(n,r){var i=this,a=n.hostModel;this.childAt(0).updateData(n,r);var o=this.childAt(1),s=n.getItemModel(r),l=n.getItemVisual(r,"symbol"),u=Hx(n.getItemVisual(r,"symbolSize")),c=n.getItemVisual(r,"style"),f=c&&c.fill,d=s.getModel("emphasis");o.setScale(u),o.traverse(function(g){g.setStyle("fill",f)});var h=zy(n.getItemVisual(r,"symbolOffset"),u);h&&(o.x=h[0],o.y=h[1]);var p=n.getItemVisual(r,"symbolRotate");o.rotation=(p||0)*Math.PI/180||0;var v={};v.showEffectOn=a.get("showEffectOn"),v.rippleScale=s.get(["rippleEffect","scale"]),v.brushType=s.get(["rippleEffect","brushType"]),v.period=s.get(["rippleEffect","period"])*1e3,v.effectOffset=r/n.count(),v.z=a.getShallow("z")||0,v.zlevel=a.getShallow("zlevel")||0,v.symbolType=l,v.color=f,v.rippleEffectColor=s.get(["rippleEffect","color"]),v.rippleNumber=s.get(["rippleEffect","number"]),v.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(v):this.startEffectAnimation(v),this._effectCfg=v):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(g){g==="emphasis"?v.showEffectOn!=="render"&&i.startEffectAnimation(v):g==="normal"&&v.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=v,to(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype.fadeOut=function(n){n&&n()},t}(hr),Yyt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._symbolDraw=new mw(jyt)},t.prototype.render=function(n,r,i){var a=n.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(n)}),this.group.add(o.group)},t.prototype._getClipShape=function(n){var r=n.coordinateSystem,i=r&&r.getArea&&r.getArea();return n.get("clip",!0)?i:null},t.prototype.updateTransform=function(n,r,i){var a=n.getData();this.group.dirty();var o=_w("").reset(n,r,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(n){var r=n.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=yat(r.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(n,r){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(ta),Xyt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return t.prototype.getInitialData=function(n,r){return Gp(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(n,r,i){return i.point(r.getItemLayout(n))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(va);function Kyt(e){e.registerChartView(Yyt),e.registerSeriesModel(Xyt),e.registerLayout(_w("effectScatter"))}var cAe=function(e){et(t,e);function t(n,r,i){var a=e.call(this)||this;return a.add(a.createLine(n,r,i)),a._updateEffectSymbol(n,r),a}return t.prototype.createLine=function(n,r,i){return new bG(n,r,i)},t.prototype._updateEffectSymbol=function(n,r){var i=n.getItemModel(r),a=i.getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");Lt(o)||(o=[o,o]);var l=n.getItemVisual(r,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==s&&(this.remove(c),c=Io(s,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=o[0],c.scaleY=o[1],c.setColor(u),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(n,a,r))},t.prototype._updateEffectAnimation=function(n,r,i){var a=this.childAt(1);if(a){var o=n.getItemLayout(i),s=r.get("period")*1e3,l=r.get("loop"),u=r.get("roundTrip"),c=r.get("constantSpeed"),f=hs(r.get("delay"),function(h){return h/n.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),c>0&&(s=this._getLineLength(a)/c*1e3),s!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var d=void 0;er(f)?d=f(i):d=f,a.__t>0&&(d=-s*a.__t),this._animateSymbol(a,s,d,l,u)}this._period=s,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(n,r,i,a,o){if(r>0){n.__t=0;var s=this,l=n.animate("",a).when(o?r*2:r,{__t:o?2:1}).delay(i).during(function(){s._updateSymbolPosition(n)});a||l.done(function(){s.remove(n)}),l.start()}},t.prototype._getLineLength=function(n){return ag(n.__p1,n.__cp1)+ag(n.__cp1,n.__p2)},t.prototype._updateAnimationPoints=function(n,r){n.__p1=r[0],n.__p2=r[1],n.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},t.prototype.updateData=function(n,r,i){this.childAt(0).updateData(n,r,i),this._updateEffectSymbol(n,r)},t.prototype._updateSymbolPosition=function(n){var r=n.__p1,i=n.__p2,a=n.__cp1,o=n.__t<1?n.__t:2-n.__t,s=[n.x,n.y],l=s.slice(),u=fs,c=fV;s[0]=u(r[0],a[0],i[0],o),s[1]=u(r[1],a[1],i[1],o);var f=n.__t<1?c(r[0],a[0],i[0],o):c(i[0],a[0],r[0],1-o),d=n.__t<1?c(r[1],a[1],i[1],o):c(i[1],a[1],r[1],1-o);n.rotation=-Math.atan2(d,f)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(n.__lastT!==void 0&&n.__lastT<n.__t?(n.scaleY=ag(l,s)*1.05,o===1&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):n.__lastT===1?n.scaleY=2*ag(r,s):n.scaleY=this._symbolScale[1]),n.__lastT=n.__t,n.ignore=!1,n.x=s[0],n.y=s[1]},t.prototype.updateLayout=function(n,r){this.childAt(0).updateLayout(n,r);var i=n.getItemModel(r).getModel("effect");this._updateEffectAnimation(n,i,r)},t}(hr),fAe=function(e){et(t,e);function t(n,r,i){var a=e.call(this)||this;return a._createPolyline(n,r,i),a}return t.prototype._createPolyline=function(n,r,i){var a=n.getItemLayout(r),o=new kl({shape:{points:a}});this.add(o),this._updateCommonStl(n,r,i)},t.prototype.updateData=function(n,r,i){var a=n.hostModel,o=this.childAt(0),s={shape:{points:n.getItemLayout(r)}};Si(o,s,a,r),this._updateCommonStl(n,r,i)},t.prototype._updateCommonStl=function(n,r,i){var a=this.childAt(0),o=n.getItemModel(r),s=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||n.hasItemOption){var f=o.getModel("emphasis");s=f.getModel("lineStyle").getLineStyle(),c=f.get("disabled"),l=f.get("focus"),u=f.get("blurScope")}a.useStyle(n.getItemVisual(r,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var d=a.ensureState("emphasis");d.style=s,to(this,l,u,c)},t.prototype.updateLayout=function(n,r){var i=this.childAt(0);i.setShape("points",n.getItemLayout(r))},t}(hr),qyt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n._lastFrame=0,n._lastFramePercent=0,n}return t.prototype.createLine=function(n,r,i){return new fAe(n,r,i)},t.prototype._updateAnimationPoints=function(n,r){this._points=r;for(var i=[0],a=0,o=1;o<r.length;o++){var s=r[o-1],l=r[o];a+=ag(s,l),i.push(a)}if(a===0){this._length=0;return}for(var o=0;o<i.length;o++)i[o]/=a;this._offsets=i,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(n){var r=n.__t<1?n.__t:2-n.__t,i=this._points,a=this._offsets,o=i.length;if(a){var s=this._lastFrame,l;if(r<this._lastFramePercent){var u=Math.min(s+1,o-1);for(l=u;l>=0&&!(a[l]<=r);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(a[l]>r);l++);l=Math.min(l-1,o-2)}var c=(r-a[l])/(a[l+1]-a[l]),f=i[l],d=i[l+1];n.x=f[0]*(1-c)+c*d[0],n.y=f[1]*(1-c)+c*d[1];var h=n.__t<1?d[0]-f[0]:f[0]-d[0],p=n.__t<1?d[1]-f[1]:f[1]-d[1];n.rotation=-Math.atan2(p,h)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=r,n.ignore=!1}},t}(cAe),Zyt=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),Qyt=function(e){et(t,e);function t(n){var r=e.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Zyt},t.prototype.buildPath=function(n,r){var i=r.segs,a=r.curveness,o;if(r.polyline)for(o=this._off;o<i.length;){var s=i[o++];if(s>0){n.moveTo(i[o++],i[o++]);for(var l=1;l<s;l++)n.lineTo(i[o++],i[o++])}}else for(o=this._off;o<i.length;){var u=i[o++],c=i[o++],f=i[o++],d=i[o++];if(n.moveTo(u,c),a>0){var h=(u+f)/2-(c-d)*a,p=(c+d)/2-(f-u)*a;n.quadraticCurveTo(h,p,f,d)}else n.lineTo(f,d)}this.incremental&&(this._off=o,this.notClear=!0)},t.prototype.findDataIndex=function(n,r){var i=this.shape,a=i.segs,o=i.curveness,s=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var f=a[u++],d=a[u++],h=1;h<c;h++){var p=a[u++],v=a[u++];if(Kv(f,d,p,v,s,n,r))return l}l++}else for(var l=0,u=0;u<a.length;){var f=a[u++],d=a[u++],p=a[u++],v=a[u++];if(o>0){var g=(f+p)/2-(d-v)*o,m=(d+v)/2-(p-f)*o;if(F_e(f,d,g,m,p,v,s,n,r))return l}else if(Kv(f,d,p,v,s,n,r))return l;l++}return-1},t.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),a=this.getBoundingRect();if(n=i[0],r=i[1],a.contain(n,r)){var o=this.hoverDataIdx=this.findDataIndex(n,r);return o>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var n=this._rect;if(!n){for(var r=this.shape,i=r.segs,a=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],f=i[u++];a=Math.min(c,a),s=Math.max(c,s),o=Math.min(f,o),l=Math.max(f,l)}n=this._rect=new Mr(a,o,s,l)}return n},t}(Wr),Jyt=function(){function e(){this.group=new hr}return e.prototype.updateData=function(t){this._clear();var n=this._create();n.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(n,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,n){var r=this._newAdded[0],i=n.getLayout("linesPoints"),a=r&&r.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+i.length);s.set(a),s.set(i,o),r.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,n),l.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new Qyt({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,n,r){var i=n.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=n.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var o=gr(t);o.seriesIndex=i.seriesIndex,t.on("mousemove",function(s){o.dataIndex=null;var l=t.hoverDataIdx;l>0&&(o.dataIndex=l+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),dAe={seriesType:"lines",plan:zx(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get("polyline"),r=e.pipelineContext.large;return{progress:function(i,a){var o=[];if(r){var s=void 0,l=i.end-i.start;if(n){for(var u=0,c=i.start;c<i.end;c++)u+=e.getLineCoordsCount(c);s=new Float32Array(l+u*2)}else s=new Float32Array(l*4);for(var f=0,d=[],c=i.start;c<i.end;c++){var h=e.getLineCoords(c,o);n&&(s[f++]=h);for(var p=0;p<h;p++)d=t.dataToPoint(o[p],!1,d),s[f++]=d[0],s[f++]=d[1]}a.setLayout("linesPoints",s)}else for(var c=i.start;c<i.end;c++){var v=a.getItemModel(c),h=e.getLineCoords(c,o),g=[];if(n)for(var m=0;m<h;m++)g.push(t.dataToPoint(o[m]));else{g[0]=t.dataToPoint(o[0]),g[1]=t.dataToPoint(o[1]);var b=v.get(["lineStyle","curveness"]);+b&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*b,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*b])}a.setItemLayout(c,g)}}}}}},e_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var a=n.getData(),o=this._updateLineDraw(a,n),s=n.get("zlevel"),l=n.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(n)&&l>0&&(c||u.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(a);var f=n.get("clip",!0)&&yw(n.coordinateSystem,!1,n);f?this.group.setClipPath(f):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},t.prototype.incrementalPrepareRender=function(n,r,i){var a=n.getData(),o=this._updateLineDraw(a,n);o.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(n,r,i){this._lineDraw.incrementalUpdate(n,r.getData()),this._finished=n.end===r.getData().count()},t.prototype.eachRendered=function(n){this._lineDraw&&this._lineDraw.eachRendered(n)},t.prototype.updateTransform=function(n,r,i){var a=n.getData(),o=n.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=dAe.reset(n,r,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(n,r){var i=this._lineDraw,a=this._showEffect(r),o=!!r.get("polyline"),s=r.pipelineContext,l=s.large;return(!i||a!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new Jyt:new xG(o?a?qyt:fAe:a?cAe:bG),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=l),this.group.add(i.group),i},t.prototype._showEffect=function(n){return!!n.get(["effect","show"])},t.prototype._clearLayer=function(n){var r=n.getZr(),i=r.painter.getType()==="svg";!i&&this._lastZlevel!=null&&r.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(n,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},t.prototype.dispose=function(n,r){this.remove(n,r)},t.type="lines",t}(ta),t_t=typeof Uint32Array>"u"?Array:Uint32Array,n_t=typeof Float64Array>"u"?Array:Float64Array;function Ane(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=Vt(t,function(n){var r=[n[0].coord,n[1].coord],i={coords:r};return n[0].name&&(i.fromName=n[0].name),n[1].name&&(i.toName=n[1].name),JH([i,n[0],n[1]])}))}var r_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath="lineStyle",n.visualDrawType="stroke",n}return t.prototype.init=function(n){n.data=n.data||[],Ane(n);var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(n){if(Ane(n),n.data){var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(n){var r=this._processFlatCoordsArray(n.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=PM(this._flatCoords,r.flatCoords),this._flatCoordsOffset=PM(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),n.data=new Float32Array(r.count)),this.getRawData().appendData(n.data)},t.prototype._getCoordsFromItemModel=function(n){var r=this.getData().getItemModel(n),i=r.option instanceof Array?r.option:r.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(n){return this._flatCoordsOffset?this._flatCoordsOffset[n*2+1]:this._getCoordsFromItemModel(n).length},t.prototype.getLineCoords=function(n,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[n*2],a=this._flatCoordsOffset[n*2+1],o=0;o<a;o++)r[o]=r[o]||[],r[o][0]=this._flatCoords[i+o*2],r[o][1]=this._flatCoords[i+o*2+1];return a}else{for(var s=this._getCoordsFromItemModel(n),o=0;o<s.length;o++)r[o]=r[o]||[],r[o][0]=s[o][0],r[o][1]=s[o][1];return s.length}},t.prototype._processFlatCoordsArray=function(n){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),yi(n[0])){for(var i=n.length,a=new t_t(i),o=new n_t(i),s=0,l=0,u=0,c=0;c<i;){u++;var f=n[c++];a[l++]=s+r,a[l++]=f;for(var d=0;d<f;d++){var h=n[c++],p=n[c++];o[s++]=h,o[s++]=p}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:o,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:n.length}},t.prototype.getInitialData=function(n,r){var i=new Rl(["value"],this);return i.hasItemOption=!1,i.initData(n.data,[],function(a,o,s,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},t.prototype.formatTooltip=function(n,r,i){var a=this.getData(),o=a.getItemModel(n),s=o.get("name");if(s)return s;var l=o.get("fromName"),u=o.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),as("nameValue",{name:c.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var n=this.option.progressive;return n??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var n=this.option.progressiveThreshold;return n??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var n=this.getModel("effect"),r=n.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:n.get("show")&&r>0?r+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(va);function uI(e){return e instanceof Array||(e=[e,e]),e}var i_t={seriesType:"lines",reset:function(e){var t=uI(e.get("symbol")),n=uI(e.get("symbolSize")),r=e.getData();r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",n&&n[0]),r.setVisual("toSymbolSize",n&&n[1]);function i(a,o){var s=a.getItemModel(o),l=uI(s.getShallow("symbol",!0)),u=uI(s.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(o,"fromSymbol",l[0]),l[1]&&a.setItemVisual(o,"toSymbol",l[1]),u[0]&&a.setItemVisual(o,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(o,"toSymbolSize",u[1])}return{dataEach:r.hasItemOption?i:null}}};function a_t(e){e.registerChartView(e_t),e.registerSeriesModel(r_t),e.registerLayout(dAe),e.registerVisual(i_t)}var o_t=256,s_t=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Ug.createCanvas();this.canvas=t}return e.prototype.update=function(t,n,r,i,a,o){var s=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,f=this.canvas,d=f.getContext("2d"),h=t.length;f.width=n,f.height=r;for(var p=0;p<h;++p){var v=t[p],g=v[0],m=v[1],b=v[2],_=i(b);d.globalAlpha=_,d.drawImage(s,g-c,m-c)}if(!f.width||!f.height)return f;for(var x=d.getImageData(0,0,f.width,f.height),E=x.data,A=0,T=E.length,R=this.minOpacity,M=this.maxOpacity,O=M-R;A<T;){var _=E[A+3]/256,D=Math.floor(_*(o_t-1))*4;if(_>0){var C=o(_)?l:u;_>0&&(_=_*O+R),E[A++]=C[D],E[A++]=C[D+1],E[A++]=C[D+2],E[A++]=C[D+3]*_*256}else A+=4}return d.putImageData(x,0,0),f},e.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Ug.createCanvas()),n=this.pointSize+this.blurSize,r=n*2;t.width=r,t.height=r;var i=t.getContext("2d");return i.clearRect(0,0,r,r),i.shadowOffsetX=r,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-n,n,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},e.prototype._getGradient=function(t,n){for(var r=this._gradientPixels,i=r[n]||(r[n]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],o=0,s=0;s<256;s++)t[n](s/255,!0,a),i[o++]=a[0],i[o++]=a[1],i[o++]=a[2],i[o++]=a[3];return i},e}();function l_t(e,t,n){var r=e[1]-e[0];t=Vt(t,function(o){return{interval:[(o.interval[0]-e[0])/r,(o.interval[1]-e[0])/r]}});var i=t.length,a=0;return function(o){var s;for(s=a;s<i;s++){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}if(s===i)for(s=a-1;s>=0;s--){var l=t[s].interval;if(l[0]<=o&&o<=l[1]){a=s;break}}return s>=0&&s<i&&n[s]}}function u_t(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(r){return r>=t[0]&&r<=t[1]}}function Ene(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}var c_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var a;r.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===n&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=n.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(n,i,0,n.getData().count()):Ene(o)&&this._renderOnGeo(o,n,a,i)},t.prototype.incrementalPrepareRender=function(n,r,i){this.group.removeAll()},t.prototype.incrementalRender=function(n,r,i,a){var o=r.coordinateSystem;o&&(Ene(o)?this.render(r,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,a,n.start,n.end,!0)))},t.prototype.eachRendered=function(n){tm(this._progressiveEls||this.group,n)},t.prototype._renderOnCartesianAndCalendar=function(n,r,i,a,o){var s=n.coordinateSystem,l=Hy(s,"cartesian2d"),u,c,f,d;if(l){var h=s.getAxis("x"),p=s.getAxis("y");u=h.getBandWidth()+.5,c=p.getBandWidth()+.5,f=h.scale.getExtent(),d=p.scale.getExtent()}for(var v=this.group,g=n.getData(),m=n.getModel(["emphasis","itemStyle"]).getItemStyle(),b=n.getModel(["blur","itemStyle"]).getItemStyle(),_=n.getModel(["select","itemStyle"]).getItemStyle(),x=n.get(["itemStyle","borderRadius"]),E=is(n),A=n.getModel("emphasis"),T=A.get("focus"),R=A.get("blurScope"),M=A.get("disabled"),O=l?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],D=i;D<a;D++){var C=void 0,P=g.getItemVisual(D,"style");if(l){var B=g.get(O[0],D),U=g.get(O[1],D);if(isNaN(g.get(O[2],D))||isNaN(B)||isNaN(U)||B<f[0]||B>f[1]||U<d[0]||U>d[1])continue;var L=s.dataToPoint([B,U]);C=new si({shape:{x:L[0]-u/2,y:L[1]-c/2,width:u,height:c},style:P})}else{if(isNaN(g.get(O[1],D)))continue;C=new si({z2:1,shape:s.dataToRect([g.get(O[0],D)]).contentShape,style:P})}if(g.hasItemOption){var F=g.getItemModel(D),N=F.getModel("emphasis");m=N.getModel("itemStyle").getItemStyle(),b=F.getModel(["blur","itemStyle"]).getItemStyle(),_=F.getModel(["select","itemStyle"]).getItemStyle(),x=F.get(["itemStyle","borderRadius"]),T=N.get("focus"),R=N.get("blurScope"),M=N.get("disabled"),E=is(F)}C.shape.r=x;var V=n.getRawValue(D),W="-";V&&V[2]!=null&&(W=V[2]+""),Ns(C,E,{labelFetcher:n,labelDataIndex:D,defaultOpacity:P.opacity,defaultText:W}),C.ensureState("emphasis").style=m,C.ensureState("blur").style=b,C.ensureState("select").style=_,to(C,T,R,M),C.incremental=o,o&&(C.states.emphasis.hoverLayer=!0),v.add(C),g.setItemGraphicEl(D,C),this._progressiveEls&&this._progressiveEls.push(C)}},t.prototype._renderOnGeo=function(n,r,i,a){var o=i.targetVisuals.inRange,s=i.targetVisuals.outOfRange,l=r.getData(),u=this._hmLayer||this._hmLayer||new s_t;u.blurSize=r.get("blurSize"),u.pointSize=r.get("pointSize"),u.minOpacity=r.get("minOpacity"),u.maxOpacity=r.get("maxOpacity");var c=n.getViewRect().clone(),f=n.getRoamTransform();c.applyTransform(f);var d=Math.max(c.x,0),h=Math.max(c.y,0),p=Math.min(c.width+c.x,a.getWidth()),v=Math.min(c.height+c.y,a.getHeight()),g=p-d,m=v-h,b=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],_=l.mapArray(b,function(T,R,M){var O=n.dataToPoint([T,R]);return O[0]-=d,O[1]-=h,O.push(M),O}),x=i.getExtent(),E=i.type==="visualMap.continuous"?u_t(x,i.option.range):l_t(x,i.getPieceList(),i.option.selected);u.update(_,g,m,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},E);var A=new ms({style:{width:g,height:m,x:d,y:h,image:u.canvas},silent:!0});this.group.add(A)},t.type="heatmap",t}(ta),f_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getInitialData=function(n,r){return Gp(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var n=dw.get(this.get("coordinateSystem"));if(n&&n.dimensions)return n.dimensions[0]==="lng"&&n.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(va);function d_t(e){e.registerChartView(c_t),e.registerSeriesModel(f_t)}var h_t=["itemStyle","borderWidth"],Tne=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],p6=new Wp,p_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var a=this.group,o=n.getData(),s=this._data,l=n.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),f=l.master.getRect(),d={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:n,coordSys:l,coordSysExtent:[[f.x,f.x+f.width],[f.y,f.y+f.height]],isHorizontal:c,valueDim:Tne[+c],categoryDim:Tne[1-+c]};o.diff(s).add(function(p){if(o.hasValue(p)){var v=Cne(o,p),g=wne(o,p,v,d),m=Rne(o,d,g);o.setItemGraphicEl(p,m),a.add(m),Mne(m,d,g)}}).update(function(p,v){var g=s.getItemGraphicEl(v);if(!o.hasValue(p)){a.remove(g);return}var m=Cne(o,p),b=wne(o,p,m,d),_=yAe(o,b);g&&_!==g.__pictorialShapeStr&&(a.remove(g),o.setItemGraphicEl(p,null),g=null),g?x_t(g,d,b):g=Rne(o,d,b,!0),o.setItemGraphicEl(p,g),g.__pictorialSymbolMeta=b,a.add(g),Mne(g,d,b)}).remove(function(p){var v=s.getItemGraphicEl(p);v&&Ine(s,p,v.__pictorialSymbolMeta.animationModel,v)}).execute();var h=n.get("clip",!0)?yw(n.coordinateSystem,!1,n):null;return h?a.setClipPath(h):a.removeClipPath(),this._data=o,this.group},t.prototype.remove=function(n,r){var i=this.group,a=this._data;n.get("animation")?a&&a.eachItemGraphicEl(function(o){Ine(a,gr(o).dataIndex,n,o)}):i.removeAll()},t.type="pictorialBar",t}(ta);function wne(e,t,n,r){var i=e.getItemLayout(t),a=n.get("symbolRepeat"),o=n.get("symbolClip"),s=n.get("symbolPosition")||"start",l=n.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=n.get("symbolPatternSize")||2,f=n.isAnimationEnabled(),d={dataIndex:t,layout:i,itemModel:n,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:f?n:null,hoverScale:f&&n.get(["emphasis","scale"]),z2:n.getShallow("z",!0)||0};v_t(n,a,i,r,d),g_t(e,t,i,a,o,d.boundingLength,d.pxSign,c,r,d),m_t(n,d.symbolScale,u,r,d);var h=d.symbolSize,p=zy(n.get("symbolOffset"),h);return y_t(n,h,i,a,o,p,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,r,d),d}function v_t(e,t,n,r,i){var a=r.valueDim,o=e.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-+(n[a.wh]<=0),c;if(Lt(o)){var f=[v6(s,o[0])-l,v6(s,o[1])-l];f[1]<f[0]&&f.reverse(),c=f[u]}else o!=null?c=v6(s,o)-l:t?c=r.coordSysExtent[a.index][u]-l:c=n[a.wh];i.boundingLength=c,t&&(i.repeatCutLength=n[a.wh]),i.pxSign=c>0?1:-1}function v6(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function g_t(e,t,n,r,i,a,o,s,l,u){var c=l.valueDim,f=l.categoryDim,d=Math.abs(n[f.wh]),h=e.getItemVisual(t,"symbolSize"),p;Lt(h)?p=h.slice():h==null?p=["100%","100%"]:p=[h,h],p[f.index]=vn(p[f.index],d),p[c.index]=vn(p[c.index],r?d:Math.abs(a)),u.symbolSize=p;var v=u.symbolScale=[p[0]/s,p[1]/s];v[c.index]*=(l.isHorizontal?-1:1)*o}function m_t(e,t,n,r,i){var a=e.get(h_t)||0;a&&(p6.attr({scaleX:t[0],scaleY:t[1],rotation:n}),p6.updateTransform(),a/=p6.getLineScale(),a*=t[r.valueDim.index]),i.valueLineWidth=a||0}function y_t(e,t,n,r,i,a,o,s,l,u,c,f){var d=c.categoryDim,h=c.valueDim,p=f.pxSign,v=Math.max(t[h.index]+s,0),g=v;if(r){var m=Math.abs(l),b=hs(e.get("symbolMargin"),"15%")+"",_=!1;b.lastIndexOf("!")===b.length-1&&(_=!0,b=b.slice(0,b.length-1));var x=vn(b,t[h.index]),E=Math.max(v+x*2,0),A=_?0:x*2,T=E_e(r),R=T?r:One((m+A)/E),M=m-R*v;x=M/2/(_?R:Math.max(R-1,1)),E=v+x*2,A=_?0:x*2,!T&&r!=="fixed"&&(R=u?One((Math.abs(u)+A)/E):0),g=R*E-A,f.repeatTimes=R,f.symbolMargin=x}var O=p*(g/2),D=f.pathPosition=[];D[d.index]=n[d.wh]/2,D[h.index]=o==="start"?O:o==="end"?l-O:l/2,a&&(D[0]+=a[0],D[1]+=a[1]);var C=f.bundlePosition=[];C[d.index]=n[d.xy],C[h.index]=n[h.xy];var P=f.barRectShape=Ct({},n);P[h.wh]=p*Math.max(Math.abs(n[h.wh]),Math.abs(D[h.index]+O)),P[d.wh]=n[d.wh];var B=f.clipShape={};B[d.xy]=-n[d.xy],B[d.wh]=c.ecSize[d.wh],B[h.xy]=0,B[h.wh]=n[h.wh]}function hAe(e){var t=e.symbolPatternSize,n=Io(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),n.type!=="image"&&n.setStyle({strokeNoScale:!0}),n}function pAe(e,t,n,r){var i=e.__pictorialBundle,a=n.symbolSize,o=n.valueLineWidth,s=n.pathPosition,l=t.valueDim,u=n.repeatTimes||0,c=0,f=a[t.valueDim.index]+o+n.symbolMargin*2;for(IG(e,function(v){v.__pictorialAnimationIndex=c,v.__pictorialRepeatTimes=u,c<u?cb(v,null,p(c),n,r):cb(v,null,{scaleX:0,scaleY:0},n,r,function(){i.remove(v)}),c++});c<u;c++){var d=hAe(n);d.__pictorialAnimationIndex=c,d.__pictorialRepeatTimes=u,i.add(d);var h=p(c);cb(d,{x:h.x,y:h.y,scaleX:0,scaleY:0},{scaleX:h.scaleX,scaleY:h.scaleY,rotation:h.rotation},n,r)}function p(v){var g=s.slice(),m=n.pxSign,b=v;return(n.symbolRepeatDirection==="start"?m>0:m<0)&&(b=u-1-v),g[l.index]=f*(b-u/2+.5)+s[l.index],{x:g[0],y:g[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function vAe(e,t,n,r){var i=e.__pictorialBundle,a=e.__pictorialMainPath;a?cb(a,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(a=e.__pictorialMainPath=hAe(n),i.add(a),cb(a,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function gAe(e,t,n){var r=Ct({},t.barRectShape),i=e.__pictorialBarRect;i?cb(i,null,{shape:r},t,n):(i=e.__pictorialBarRect=new si({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,e.add(i))}function mAe(e,t,n,r){if(n.symbolClip){var i=e.__pictorialClipPath,a=Ct({},n.clipShape),o=t.valueDim,s=n.animationModel,l=n.dataIndex;if(i)Si(i,{shape:a},s,l);else{a[o.wh]=0,i=new si({shape:a}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var u={};u[o.wh]=n.clipShape[o.wh],Vy[r?"updateProps":"initProps"](i,{shape:u},s,l)}}}function Cne(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=__t,n.isAnimationEnabled=b_t,n}function __t(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function b_t(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Rne(e,t,n,r){var i=new hr,a=new hr;return i.add(a),i.__pictorialBundle=a,a.x=n.bundlePosition[0],a.y=n.bundlePosition[1],n.symbolRepeat?pAe(i,t,n):vAe(i,t,n),gAe(i,n,r),mAe(i,t,n,r),i.__pictorialShapeStr=yAe(e,n),i.__pictorialSymbolMeta=n,i}function x_t(e,t,n){var r=n.animationModel,i=n.dataIndex,a=e.__pictorialBundle;Si(a,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,i),n.symbolRepeat?pAe(e,t,n,!0):vAe(e,t,n,!0),gAe(e,n,!0),mAe(e,t,n,!0)}function Ine(e,t,n,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var a=[];IG(r,function(o){a.push(o)}),r.__pictorialMainPath&&a.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),te(a,function(o){zg(o,{scaleX:0,scaleY:0},n,t,function(){r.parent&&r.parent.remove(r)})}),e.setItemGraphicEl(t,null)}function yAe(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function IG(e,t,n){te(e.__pictorialBundle.children(),function(r){r!==e.__pictorialBarRect&&t.call(n,r)})}function cb(e,t,n,r,i,a){t&&e.attr(t),r.symbolClip&&!i?n&&e.attr(n):n&&Vy[i?"updateProps":"initProps"](e,n,r.animationModel,r.dataIndex,a)}function Mne(e,t,n){var r=n.dataIndex,i=n.itemModel,a=i.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),f=a.get("blurScope"),d=a.get("scale");IG(e,function(v){if(v instanceof ms){var g=v.style;v.useStyle(Ct({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},n.style))}else v.useStyle(n.style);var m=v.ensureState("emphasis");m.style=o,d&&(m.scaleX=v.scaleX*1.1,m.scaleY=v.scaleY*1.1),v.ensureState("blur").style=s,v.ensureState("select").style=l,u&&(v.cursor=u),v.z2=n.z2});var h=t.valueDim.posDesc[+(n.boundingLength>0)],p=e.__pictorialBarRect;p.ignoreClip=!0,Ns(p,is(i),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:Kb(t.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:h}),to(e,c,f,a.get("disabled"))}function One(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var S_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol="roundRect",n}return t.prototype.getInitialData=function(n){return n.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=nm(fT.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(fT);function A_t(e){e.registerChartView(p_t),e.registerSeriesModel(S_t),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,Tr(txe,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,nxe("pictorialBar"))}var E_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return t.prototype.render=function(n,r,i){var a=n.getData(),o=this,s=this.group,l=n.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,f=u.boundaryGap;s.x=0,s.y=c.y+f[0];function d(g){return g.name}var h=new Dp(this._layersSeries||[],l,d,d),p=[];h.add(Rn(v,this,"add")).update(Rn(v,this,"update")).remove(Rn(v,this,"remove")).execute();function v(g,m,b){var _=o._layers;if(g==="remove"){s.remove(_[m]);return}for(var x=[],E=[],A,T=l[m].indices,R=0;R<T.length;R++){var M=a.getItemLayout(T[R]),O=M.x,D=M.y0,C=M.y;x.push(O,D),E.push(O,D+C),A=a.getItemVisual(T[R],"style")}var P,B=a.getItemLayout(T[0]),U=n.getModel("label"),L=U.get("margin"),F=n.getModel("emphasis");if(g==="add"){var N=p[m]=new hr;P=new Wxe({shape:{points:x,stackedOnPoints:E,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),N.add(P),s.add(N),n.isAnimationEnabled()&&P.setClipPath(T_t(P.getBoundingRect(),n,function(){P.removeClipPath()}))}else{var N=_[b];P=N.childAt(0),s.add(N),p[m]=N,Si(P,{shape:{points:x,stackedOnPoints:E}},n),Jf(P)}Ns(P,is(n),{labelDataIndex:T[R-1],defaultText:a.getName(T[R-1]),inheritColor:A.fill},{normal:{verticalAlign:"middle"}}),P.setTextConfig({position:null,local:!0});var V=P.getTextContent();V&&(V.x=B.x-L,V.y=B.y0+B.y/2),P.useStyle(A),a.setItemGraphicEl(m,P),Ls(P,n),to(P,F.get("focus"),F.get("blurScope"),F.get("disabled"))}this._layersSeries=l,this._layers=p},t.type="themeRiver",t}(ta);function T_t(e,t,n){var r=new si({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Ca(r,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,n),r}var g6=2,w_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new xw(Rn(this.getData,this),Rn(this.getRawData,this))},t.prototype.fixData=function(n){var r=n.length,i={},a=wV(n,function(d){return i.hasOwnProperty(d[0]+"")||(i[d[0]+""]=-1),d[2]}),o=[];a.buckets.each(function(d,h){o.push({name:h,dataList:d})});for(var s=o.length,l=0;l<s;++l){for(var u=o[l].name,c=0;c<o[l].dataList.length;++c){var f=o[l].dataList[c][0]+"";i[f]=l}for(var f in i)i.hasOwnProperty(f)&&i[f]!==l&&(i[f]=l,n[r]=[f,0,u],r++)}return n},t.prototype.getInitialData=function(n,r){for(var i=this.getReferringComponents("singleAxis",wo).models[0],a=i.get("type"),o=Xi(n.data,function(p){return p[2]!==void 0}),s=this.fixData(o||[]),l=[],u=this.nameMap=Fn(),c=0,f=0;f<s.length;++f)l.push(s[f][g6]),u.get(s[f][g6])||(u.set(s[f][g6],c),c++);var d=pw(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:rO(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,h=new Rl(d,this);return h.initData(s),h},t.prototype.getLayerSeries=function(){for(var n=this.getData(),r=n.count(),i=[],a=0;a<r;++a)i[a]=a;var o=n.mapDimension("single"),s=wV(i,function(u){return n.get("name",u)}),l=[];return s.buckets.each(function(u,c){u.sort(function(f,d){return n.get(o,f)-n.get(o,d)}),l.push({name:c,indices:u})}),l},t.prototype.getAxisTooltipData=function(n,r,i){Lt(n)||(n=n?[n]:[]);for(var a=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u,c=0;c<l;++c){for(var f=Number.MAX_VALUE,d=-1,h=o[c].indices.length,p=0;p<h;++p){var v=a.get(n[0],o[c].indices[p]),g=Math.abs(v-r);g<=f&&(u=v,f=g,d=o[c].indices[p])}s.push(d)}return{dataIndices:s,nestestValue:u}},t.prototype.formatTooltip=function(n,r,i){var a=this.getData(),o=a.getName(n),s=a.get(a.mapDimension("value"),n);return as("nameValue",{name:o,value:s})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(va);function C_t(e,t){e.eachSeriesByType("themeRiver",function(n){var r=n.getData(),i=n.coordinateSystem,a={},o=i.getRect();a.rect=o;var s=n.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=s,l.orient==="horizontal"){s[0]=vn(s[0],o.height),s[1]=vn(s[1],o.height);var u=o.height-s[0]-s[1];Dne(r,n,u)}else{s[0]=vn(s[0],o.width),s[1]=vn(s[1],o.width);var c=o.width-s[0]-s[1];Dne(r,n,c)}r.setLayout("layoutInfo",a)})}function Dne(e,t,n){if(e.count())for(var r=t.coordinateSystem,i=t.getLayerSeries(),a=e.mapDimension("single"),o=e.mapDimension("value"),s=Vt(i,function(g){return Vt(g.indices,function(m){var b=r.dataToPoint(e.get(a,m));return b[1]=e.get(o,m),b})}),l=R_t(s),u=l.y0,c=n/l.max,f=i.length,d=i[0].indices.length,h,p=0;p<d;++p){h=u[p]*c,e.setItemLayout(i[0].indices[p],{layerIndex:0,x:s[0][p][0],y0:h,y:s[0][p][1]*c});for(var v=1;v<f;++v)h+=s[v-1][p][1]*c,e.setItemLayout(i[v].indices[p],{layerIndex:v,x:s[v][p][0],y0:h,y:s[v][p][1]*c})}}function R_t(e){for(var t=e.length,n=e[0].length,r=[],i=[],a=0,o=0;o<n;++o){for(var s=0,l=0;l<t;++l)s+=e[l][o][1];s>a&&(a=s),r.push(s)}for(var u=0;u<n;++u)i[u]=(a-r[u])/2;a=0;for(var c=0;c<n;++c){var f=r[c]+i[c];f>a&&(a=f)}return{y0:i,max:a}}function I_t(e){e.registerChartView(E_t),e.registerSeriesModel(w_t),e.registerLayout(C_t),e.registerProcessor(bw("themeRiver"))}var M_t=2,O_t=4,Pne=function(e){et(t,e);function t(n,r,i,a){var o=e.call(this)||this;o.z2=M_t,o.textConfig={inside:!0},gr(o).seriesIndex=r.seriesIndex;var s=new pi({z2:O_t,silent:n.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,n,r,i,a),o}return t.prototype.updateData=function(n,r,i,a,o){this.node=r,r.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var s=this;gr(s).dataIndex=r.dataIndex;var l=r.getModel(),u=l.getModel("emphasis"),c=r.getLayout(),f=Ct({},c);f.label=null;var d=r.getVisual("style");d.lineJoin="bevel";var h=r.getVisual("decal");h&&(d.decal=Yb(h,o));var p=z0(l.getModel("itemStyle"),f,!0);Ct(f,p),te(Ll,function(b){var _=s.ensureState(b),x=l.getModel([b,"itemStyle"]);_.style=x.getItemStyle();var E=z0(x,f);E&&(_.shape=E)}),n?(s.setShape(f),s.shape.r=c.r0,Ca(s,{shape:{r:c.r}},i,r.dataIndex)):(Si(s,{shape:f},i),Jf(s)),s.useStyle(d),this._updateLabel(i);var v=l.getShallow("cursor");v&&s.attr("cursor",v),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var g=u.get("focus"),m=g==="ancestor"?r.getAncestorsIndices():g==="descendant"?r.getDescendantIndices():g;to(this,m,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(n){var r=this,i=this.node.getModel(),a=i.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,u=Math.cos(l),c=Math.sin(l),f=this,d=f.getTextContent(),h=this.node.dataIndex,p=a.get("minAngle")/180*Math.PI,v=a.get("show")&&!(p!=null&&Math.abs(s)<p);d.ignore=!v,te(J2,function(m){var b=m==="normal"?i.getModel("label"):i.getModel([m,"label"]),_=m==="normal",x=_?d:d.ensureState(m),E=n.getFormattedLabel(h,m);_&&(E=E||r.node.name),x.style=ha(b,{},null,m!=="normal",!0),E&&(x.style.text=E);var A=b.get("show");A!=null&&!_&&(x.ignore=!A);var T=g(b,"position"),R=_?f:f.states[m],M=R.style.fill;R.textConfig={outsideFill:b.get("color")==="inherit"?M:null,inside:T!=="outside"};var O,D=g(b,"distance")||0,C=g(b,"align"),P=g(b,"rotate"),B=Math.PI*.5,U=Math.PI*1.5,L=Bu(P==="tangential"?Math.PI/2-l:l),F=L>B&&!Z2(L-B)&&L<U;T==="outside"?(O=o.r+D,C=F?"right":"left"):!C||C==="center"?(s===2*Math.PI&&o.r0===0?O=0:O=(o.r+o.r0)/2,C="center"):C==="left"?(O=o.r0+D,C=F?"right":"left"):C==="right"&&(O=o.r-D,C=F?"left":"right"),x.style.align=C,x.style.verticalAlign=g(b,"verticalAlign")||"middle",x.x=O*u+o.cx,x.y=O*c+o.cy;var N=0;P==="radial"?N=Bu(-l)+(F?Math.PI:0):P==="tangential"?N=Bu(Math.PI/2-l)+(F?Math.PI:0):yi(P)&&(N=P*Math.PI/180),x.rotation=Bu(N)});function g(m,b){var _=m.get(b);return _??a.get(b)}d.dirtyStyle()},t}(Nl),w9="sunburstRootToNode",Lne="sunburstHighlight",D_t="sunburstUnhighlight";function P_t(e){e.registerAction({type:w9,update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"sunburst",query:t},r);function r(i,a){var o=hT(t,[w9],i);if(o){var s=i.getViewRoot();s&&(t.direction=vG(s,o.node)?"rollUp":"drillDown"),i.resetViewRoot(o.node)}}}),e.registerAction({type:Lne,update:"none"},function(t,n,r){t=Ct({},t),n.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(a){var o=hT(t,[Lne],a);o&&(t.dataIndex=o.node.dataIndex)}r.dispatchAction(Ct(t,{type:"highlight"}))}),e.registerAction({type:D_t,update:"updateView"},function(t,n,r){t=Ct({},t),r.dispatchAction(Ct(t,{type:"downplay"}))})}var L_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i,a){var o=this;this.seriesModel=n,this.api=i,this.ecModel=r;var s=n.getData(),l=s.tree.root,u=n.getViewRoot(),c=this.group,f=n.get("renderLabelForZeroData"),d=[];u.eachNode(function(b){d.push(b)});var h=this._oldChildren||[];p(d,h),m(l,u),this._initEvents(),this._oldChildren=d;function p(b,_){if(b.length===0&&_.length===0)return;new Dp(_,b,x,x).add(E).update(E).remove(Tr(E,null)).execute();function x(A){return A.getId()}function E(A,T){var R=A==null?null:b[A],M=T==null?null:_[T];v(R,M)}}function v(b,_){if(!f&&b&&!b.getValue()&&(b=null),b!==l&&_!==l){if(_&&_.piece)b?(_.piece.updateData(!1,b,n,r,i),s.setItemGraphicEl(b.dataIndex,_.piece)):g(_);else if(b){var x=new Pne(b,n,r,i);c.add(x),s.setItemGraphicEl(b.dataIndex,x)}}}function g(b){b&&b.piece&&(c.remove(b.piece),b.piece=null)}function m(b,_){_.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,b,n,r,i):(o.virtualPiece=new Pne(b,n,r,i),c.add(o.virtualPiece)),_.piece.off("click"),o.virtualPiece.on("click",function(x){o._rootToNode(_.parentNode)})):o.virtualPiece&&(c.remove(o.virtualPiece),o.virtualPiece=null)}},t.prototype._initEvents=function(){var n=this;this.group.off("click"),this.group.on("click",function(r){var i=!1,a=n.seriesModel.getViewRoot();a.eachNode(function(o){if(!i&&o.piece&&o.piece===r.target){var s=o.getModel().get("nodeClick");if(s==="rootToNode")n._rootToNode(o);else if(s==="link"){var l=o.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";KM(u,c)}}i=!0}})})},t.prototype._rootToNode=function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:w9,from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},t.prototype.containPoint=function(n,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var o=n[0]-a.cx,s=n[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},t.type="sunburst",t}(ta),N_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return t.prototype.getInitialData=function(n,r){var i={name:n.name,children:n.data};_Ae(i);var a=this._levelModels=Vt(n.levels||[],function(l){return new zi(l,this,r)},this),o=pG.createTree(i,this,s);function s(l){l.wrapMethod("getItemModel",function(u,c){var f=o.getNodeByDataIndex(c),d=a[f.depth];return d&&(u.parentModel=d),u})}return o.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(n){var r=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return r.treePathInfo=zP(i,this),r},t.prototype.getLevelModel=function(n){return this._levelModels&&this._levelModels[n.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){ESe(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(va);function _Ae(e){var t=0;te(e.children,function(r){_Ae(r);var i=r.value;Lt(i)&&(i=i[0]),t+=i});var n=e.value;Lt(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=t),n<0&&(n=0),Lt(e.value)?e.value[0]=n:e.value=n}var Nne=Math.PI/180;function B_t(e,t,n){t.eachSeriesByType(e,function(r){var i=r.get("center"),a=r.get("radius");Lt(a)||(a=[0,a]),Lt(i)||(i=[i,i]);var o=n.getWidth(),s=n.getHeight(),l=Math.min(o,s),u=vn(i[0],o),c=vn(i[1],s),f=vn(a[0],l/2),d=vn(a[1],l/2),h=-r.get("startAngle")*Nne,p=r.get("minAngle")*Nne,v=r.getData().tree.root,g=r.getViewRoot(),m=g.depth,b=r.get("sort");b!=null&&bAe(g,b);var _=0;te(g.children,function(L){!isNaN(L.getValue())&&_++});var x=g.getValue(),E=Math.PI/(x||_)*2,A=g.depth>0,T=g.height-(A?-1:1),R=(d-f)/(T||1),M=r.get("clockwise"),O=r.get("stillShowZeroSum"),D=M?1:-1,C=function(L,F){if(L){var N=F;if(L!==v){var V=L.getValue(),W=x===0&&O?E:V*E;W<p&&(W=p),N=F+D*W;var G=L.depth-m-(A?-1:1),K=f+R*G,q=f+R*(G+1),ue=r.getLevelModel(L);if(ue){var he=ue.get("r0",!0),Ce=ue.get("r",!0),ee=ue.get("radius",!0);ee!=null&&(he=ee[0],Ce=ee[1]),he!=null&&(K=vn(he,l/2)),Ce!=null&&(q=vn(Ce,l/2))}L.setLayout({angle:W,startAngle:F,endAngle:N,clockwise:M,cx:u,cy:c,r0:K,r:q})}if(L.children&&L.children.length){var de=0;te(L.children,function(oe){de+=C(oe,F+de)})}return N-F}};if(A){var P=f,B=f+R,U=Math.PI*2;v.setLayout({angle:U,startAngle:h,endAngle:h+U,clockwise:M,cx:u,cy:c,r0:P,r:B})}C(g,h)})}function bAe(e,t){var n=e.children||[];e.children=k_t(n,t),n.length&&te(e.children,function(r){bAe(r,t)})}function k_t(e,t){if(er(t)){var n=Vt(e,function(i,a){var o=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return o}},index:a}});return n.sort(function(i,a){return t(i.params,a.params)}),Vt(n,function(i){return e[i.index]})}else{var r=t==="asc";return e.sort(function(i,a){var o=(i.getValue()-a.getValue())*(r?1:-1);return o===0?(i.dataIndex-a.dataIndex)*(r?-1:1):o})}}function F_t(e){var t={};function n(r,i,a){for(var o=r;o&&o.depth>1;)o=o.parentNode;var s=i.getColorFromPalette(o.name||o.dataIndex+"",t);return r.depth>1&&An(s)&&(s=pV(s,(r.depth-1)/(a-1)*.5)),s}e.eachSeriesByType("sunburst",function(r){var i=r.getData(),a=i.tree;a.eachNode(function(o){var s=o.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=n(o,r,a.root.height));var u=i.ensureUniqueItemVisual(o.dataIndex,"style");Ct(u,l)})})}function U_t(e){e.registerChartView(L_t),e.registerSeriesModel(N_t),e.registerLayout(Tr(B_t,"sunburst")),e.registerProcessor(Tr(bw,"sunburst")),e.registerVisual(F_t),P_t(e)}var Bne={color:"fill",borderColor:"stroke"},V_t={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},_p=ui(),z_t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(n,r){return Gp(null,this)},t.prototype.getDataParams=function(n,r,i){var a=e.prototype.getDataParams.call(this,n,r);return i&&(a.info=_p(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(va);function $_t(e,t){return t=t||[0,0],Vt(["x","y"],function(n,r){var i=this.getAxis(n),a=t[r],o=e[r]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-o)-i.dataToCoord(a+o))},this)}function H_t(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:Rn($_t,e)}}}function W_t(e,t){return t=t||[0,0],Vt([0,1],function(n){var r=t[n],i=e[n]/2,a=[],o=[];return a[n]=r-i,o[n]=r+i,a[1-n]=o[1-n]=t[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(o)[n])},this)}function G_t(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(n){return e.dataToPoint(n)},size:Rn(W_t,e)}}}function j_t(e,t){var n=this.getAxis(),r=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))}function Y_t(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(n){return e.dataToPoint(n)},size:Rn(j_t,e)}}}function X_t(e,t){return t=t||[0,0],Vt(["Radius","Angle"],function(n,r){var i="get"+n+"Axis",a=this[i](),o=t[r],s=e[r]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return n==="Angle"&&(l=l*Math.PI/180),l},this)}function K_t(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:r[1],r0:r[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),o=n.dataToAngle(i[1]),s=e.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:Rn(X_t,e)}}}function q_t(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(r,i){return e.dataToPoint(r,i)}}}}function xAe(e,t,n,r){return e&&(e.legacy||e.legacy!==!1&&!n&&!r&&t!=="tspan"&&(t==="text"||Dn(e,"text")))}function SAe(e,t,n){var r=e,i,a,o;if(t==="text")o=r;else{o={},Dn(r,"text")&&(o.text=r.text),Dn(r,"rich")&&(o.rich=r.rich),Dn(r,"textFill")&&(o.fill=r.textFill),Dn(r,"textStroke")&&(o.stroke=r.textStroke),Dn(r,"fontFamily")&&(o.fontFamily=r.fontFamily),Dn(r,"fontSize")&&(o.fontSize=r.fontSize),Dn(r,"fontStyle")&&(o.fontStyle=r.fontStyle),Dn(r,"fontWeight")&&(o.fontWeight=r.fontWeight),a={type:"text",style:o,silent:!0},i={};var s=Dn(r,"textPosition");n?i.position=s?r.textPosition:"inside":s&&(i.position=r.textPosition),Dn(r,"textPosition")&&(i.position=r.textPosition),Dn(r,"textOffset")&&(i.offset=r.textOffset),Dn(r,"textRotation")&&(i.rotation=r.textRotation),Dn(r,"textDistance")&&(i.distance=r.textDistance)}return kne(o,e),te(o.rich,function(l){kne(l,l)}),{textConfig:i,textContent:a}}function kne(e,t){t&&(t.font=t.textFont||t.font,Dn(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),Dn(t,"textAlign")&&(e.align=t.textAlign),Dn(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),Dn(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),Dn(t,"textWidth")&&(e.width=t.textWidth),Dn(t,"textHeight")&&(e.height=t.textHeight),Dn(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),Dn(t,"textPadding")&&(e.padding=t.textPadding),Dn(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),Dn(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),Dn(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),Dn(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),Dn(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),Dn(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),Dn(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function Fne(e,t,n){var r=e;r.textPosition=r.textPosition||n.position||"inside",n.offset!=null&&(r.textOffset=n.offset),n.rotation!=null&&(r.textRotation=n.rotation),n.distance!=null&&(r.textDistance=n.distance);var i=r.textPosition.indexOf("inside")>=0,a=e.fill||"#000";Une(r,t);var o=r.textFill==null;return i?o&&(r.textFill=n.insideFill||"#fff",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=a),r.textStrokeWidth==null&&(r.textStrokeWidth=2)):(o&&(r.textFill=e.fill||n.outsideFill||"#000"),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=t.text,r.rich=t.rich,te(t.rich,function(s){Une(s,s)}),r}function Une(e,t){t&&(Dn(t,"fill")&&(e.textFill=t.fill),Dn(t,"stroke")&&(e.textStroke=t.fill),Dn(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),Dn(t,"font")&&(e.font=t.font),Dn(t,"fontStyle")&&(e.fontStyle=t.fontStyle),Dn(t,"fontWeight")&&(e.fontWeight=t.fontWeight),Dn(t,"fontSize")&&(e.fontSize=t.fontSize),Dn(t,"fontFamily")&&(e.fontFamily=t.fontFamily),Dn(t,"align")&&(e.textAlign=t.align),Dn(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),Dn(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),Dn(t,"width")&&(e.textWidth=t.width),Dn(t,"height")&&(e.textHeight=t.height),Dn(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),Dn(t,"padding")&&(e.textPadding=t.padding),Dn(t,"borderColor")&&(e.textBorderColor=t.borderColor),Dn(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),Dn(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),Dn(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),Dn(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),Dn(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),Dn(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),Dn(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),Dn(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),Dn(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),Dn(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var AAe={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Vne=Jr(AAe);nh(ih,function(e,t){return e[t]=1,e},{});ih.join(", ");var vO=["","style","shape","extra"],Qb=ui();function MG(e,t,n,r,i){var a=e+"Animation",o=Lx(e,r,i)||{},s=Qb(t).userDuring;return o.duration>0&&(o.during=s?Rn(t1t,{el:t,userDuring:s}):null,o.setToFinal=!0,o.scope=e),Ct(o,n[a]),o}function N3(e,t,n,r){r=r||{};var i=r.dataIndex,a=r.isInit,o=r.clearStyle,s=n.isAnimationEnabled(),l=Qb(e),u=t.style;l.userDuring=t.during;var c={},f={};if(r1t(e,t,f),$ne("shape",t,f),$ne("extra",t,f),!a&&s&&(n1t(e,t,c),zne("shape",e,t,c),zne("extra",e,t,c),i1t(e,t,u,c)),f.style=u,Z_t(e,f,o),J_t(e,t),s)if(a){var d={};te(vO,function(p){var v=p?t[p]:t;v&&v.enterFrom&&(p&&(d[p]=d[p]||{}),Ct(p?d[p]:d,v.enterFrom))});var h=MG("enter",e,t,n,i);h.duration>0&&e.animateFrom(d,h)}else Q_t(e,t,i||0,n,c);EAe(e,t),u?e.dirty():e.markRedraw()}function EAe(e,t){for(var n=Qb(e).leaveToProps,r=0;r<vO.length;r++){var i=vO[r],a=i?t[i]:t;a&&a.leaveTo&&(n||(n=Qb(e).leaveToProps={}),i&&(n[i]=n[i]||{}),Ct(i?n[i]:n,a.leaveTo))}}function WP(e,t,n,r){if(e){var i=e.parent,a=Qb(e).leaveToProps;if(a){var o=MG("update",e,t,n,0);o.done=function(){i.remove(e)},e.animateTo(a,o)}else i.remove(e)}}function ry(e){return e==="all"}function Z_t(e,t,n){var r=t.style;if(!e.isGroup&&r){if(n){e.useStyle({});for(var i=e.animators,a=0;a<i.length;a++){var o=i[a];o.targetName==="style"&&o.changeTarget(e.style)}}e.setStyle(r)}t&&(t.style=null,t&&e.attr(t),t.style=r)}function Q_t(e,t,n,r,i){if(i){var a=MG("update",e,t,r,n);a.duration>0&&e.animateFrom(i,a)}}function J_t(e,t){Dn(t,"silent")&&(e.silent=t.silent),Dn(t,"ignore")&&(e.ignore=t.ignore),e instanceof Uc&&Dn(t,"invisible")&&(e.invisible=t.invisible),e instanceof Wr&&Dn(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var Od={},e1t={setTransform:function(e,t){return Od.el[e]=t,this},getTransform:function(e){return Od.el[e]},setShape:function(e,t){var n=Od.el,r=n.shape||(n.shape={});return r[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=Od.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=Od.el,r=n.style;return r&&(r[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=Od.el.style;if(t)return t[e]},setExtra:function(e,t){var n=Od.el.extra||(Od.el.extra={});return n[e]=t,this},getExtra:function(e){var t=Od.el.extra;if(t)return t[e]}};function t1t(){var e=this,t=e.el;if(t){var n=Qb(t).userDuring,r=e.userDuring;if(n!==r){e.el=e.userDuring=null;return}Od.el=t,r(e1t)}}function zne(e,t,n,r){var i=n[e];if(i){var a=t[e],o;if(a){var s=n.transition,l=i.transition;if(l)if(!o&&(o=r[e]={}),ry(l))Ct(o,a);else for(var u=Zi(l),c=0;c<u.length;c++){var f=u[c],d=a[f];o[f]=d}else if(ry(s)||Ur(s,e)>=0){!o&&(o=r[e]={});for(var h=Jr(a),c=0;c<h.length;c++){var f=h[c],d=a[f];a1t(i[f],d)&&(o[f]=d)}}}}}function $ne(e,t,n){var r=t[e];if(r)for(var i=n[e]={},a=Jr(r),o=0;o<a.length;o++){var s=a[o];i[s]=qE(r[s])}}function n1t(e,t,n){for(var r=t.transition,i=ry(r)?ih:Zi(r||[]),a=0;a<i.length;a++){var o=i[a];if(!(o==="style"||o==="shape"||o==="extra")){var s=e[o];n[o]=s}}}function r1t(e,t,n){for(var r=0;r<Vne.length;r++){var i=Vne[r],a=AAe[i],o=t[i];o&&(n[a[0]]=o[0],n[a[1]]=o[1])}for(var r=0;r<ih.length;r++){var s=ih[r];t[s]!=null&&(n[s]=t[s])}}function i1t(e,t,n,r){if(n){var i=e.style,a;if(i){var o=n.transition,s=t.transition;if(o&&!ry(o)){var l=Zi(o);!a&&(a=r.style={});for(var u=0;u<l.length;u++){var c=l[u],f=i[c];a[c]=f}}else if(e.getAnimationStyleProps&&(ry(s)||ry(o)||Ur(s,"style")>=0)){var d=e.getAnimationStyleProps(),h=d?d.style:null;if(h){!a&&(a=r.style={});for(var p=Jr(n),u=0;u<p.length;u++){var c=p[u];if(h[c]){var f=i[c];a[c]=f}}}}}}}function a1t(e,t){return nl(e)?e!==t:e!=null&&isFinite(e)}var TAe=ui(),o1t=["percent","easing","shape","style","extra"];function wAe(e){e.stopAnimation("keyframe"),e.attr(TAe(e))}function gO(e,t,n){if(!(!n.isAnimationEnabled()||!t)){if(Lt(t)){te(t,function(s){gO(e,s,n)});return}var r=t.keyframes,i=t.duration;if(n&&i==null){var a=Lx("enter",n,0);i=a&&a.duration}if(!(!r||!i)){var o=TAe(e);te(vO,function(s){if(!(s&&!e[s])){var l;r.sort(function(u,c){return u.percent-c.percent}),te(r,function(u){var c=e.animators,f=s?u[s]:u;if(f){var d=Jr(f);if(s||(d=Xi(d,function(v){return Ur(o1t,v)<0})),!!d.length){l||(l=e.animate(s,t.loop,!0),l.scope="keyframe");for(var h=0;h<c.length;h++)c[h]!==l&&c[h].targetName===l.targetName&&c[h].stopTracks(d);s&&(o[s]=o[s]||{});var p=s?o[s]:o;te(d,function(v){p[v]=((s?e[s]:e)||{})[v]}),l.whenWithKeys(i*u.percent,f,d,u.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}var bp="emphasis",dg="normal",OG="blur",DG="select",Gg=[dg,bp,OG,DG],m6={normal:["itemStyle"],emphasis:[bp,"itemStyle"],blur:[OG,"itemStyle"],select:[DG,"itemStyle"]},y6={normal:["label"],emphasis:[bp,"label"],blur:[OG,"label"],select:[DG,"label"]},s1t=["x","y"],l1t="e\0\0",lc={normal:{},emphasis:{},blur:{},select:{}},u1t={cartesian2d:H_t,geo:G_t,single:Y_t,polar:K_t,calendar:q_t};function C9(e){return e instanceof Wr}function R9(e){return e instanceof Uc}function c1t(e,t){t.copyTransform(e),R9(t)&&R9(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,C9(t)&&C9(e)&&t.setShape(e.shape))}var f1t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i,a){this._progressiveEls=null;var o=this._data,s=n.getData(),l=this.group,u=Hne(n,s,r,i);o||l.removeAll(),s.diff(o).add(function(f){_6(i,null,f,u(f,a),n,l,s)}).remove(function(f){var d=o.getItemGraphicEl(f);d&&WP(d,_p(d).option,n)}).update(function(f,d){var h=o.getItemGraphicEl(d);_6(i,h,f,u(f,a),n,l,s)}).execute();var c=n.get("clip",!0)?yw(n.coordinateSystem,!1,n):null;c?l.setClipPath(c):l.removeClipPath(),this._data=s},t.prototype.incrementalPrepareRender=function(n,r,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(n,r,i,a,o){var s=r.getData(),l=Hne(r,s,i,a),u=this._progressiveEls=[];function c(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}for(var f=n.start;f<n.end;f++){var d=_6(null,null,f,l(f,o),r,this.group,s);d&&(d.traverse(c),u.push(d))}},t.prototype.eachRendered=function(n){tm(this._progressiveEls||this.group,n)},t.prototype.filterForExposedEvent=function(n,r,i,a){var o=r.element;if(o==null||i.name===o)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1},t.type="custom",t}(ta);function PG(e){var t=e.type,n;if(t==="path"){var r=e.shape,i=r.width!=null&&r.height!=null?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=IAe(r);n=bP(a,null,i,r.layout||"center"),_p(n).customPathData=a}else if(t==="image")n=new ms({}),_p(n).customImagePath=e.style.image;else if(t==="text")n=new pi({});else if(t==="group")n=new hr;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var o=SW(t);if(!o){var s="";Li(s)}n=new o}return _p(n).customGraphicType=t,n.name=e.name,n.z2EmphasisLift=1,n.z2SelectLift=1,n}function LG(e,t,n,r,i,a,o){wAe(t);var s=i&&i.normal.cfg;s&&t.setTextConfig(s),r&&r.transition==null&&(r.transition=s1t);var l=r&&r.style;if(l){if(t.type==="text"){var u=l;Dn(u,"textFill")&&(u.fill=u.textFill),Dn(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,f=C9(t)?l.decal:null;e&&f&&(f.dirty=!0,c=Yb(f,e)),l.__decalPattern=c}if(R9(t)&&l){var c=l.__decalPattern;c&&(l.decal=c)}N3(t,r,a,{dataIndex:n,isInit:o,clearStyle:!0}),gO(t,r.keyframeAnimation,a)}function CAe(e,t,n,r,i){var a=t.isGroup?null:t,o=i&&i[e].cfg;if(a){var s=a.ensureState(e);if(r===!1){var l=a.getState(e);l&&(l.style=null)}else s.style=r||null;o&&(s.textConfig=o),by(a)}}function d1t(e,t,n){if(!e.isGroup){var r=e,i=n.currentZ,a=n.currentZLevel;r.z=i,r.zlevel=a;var o=t.z2;o!=null&&(r.z2=o||0);for(var s=0;s<Gg.length;s++)h1t(r,t,Gg[s])}}function h1t(e,t,n){var r=n===dg,i=r?t:mO(t,n),a=i?i.z2:null,o;a!=null&&(o=r?e:e.ensureState(n),o.z2=a||0)}function Hne(e,t,n,r){var i=e.get("renderItem"),a=e.coordinateSystem,o={};a&&(o=a.prepareCustoms?a.prepareCustoms(a):u1t[a.type](a));for(var s=tr({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:x,style:A,ordinalRawValue:E,styleEmphasis:T,visual:O,barLayout:D,currentSeriesIndices:C,font:P},o.api||{}),l={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:o.coordSys,dataInsideLength:t.count(),encode:p1t(e.getData())},u,c,f={},d={},h={},p={},v=0;v<Gg.length;v++){var g=Gg[v];h[g]=e.getModel(m6[g]),p[g]=e.getModel(y6[g])}function m(B){return B===u?c||(c=t.getItemModel(B)):t.getItemModel(B)}function b(B,U){return t.hasItemOption?B===u?f[U]||(f[U]=m(B).getModel(m6[U])):m(B).getModel(m6[U]):h[U]}function _(B,U){return t.hasItemOption?B===u?d[U]||(d[U]=m(B).getModel(y6[U])):m(B).getModel(y6[U]):p[U]}return function(B,U){return u=B,c=null,f={},d={},i&&i(tr({dataIndexInside:B,dataIndex:t.getRawIndex(B),actionType:U?U.type:null},l),s)};function x(B,U){return U==null&&(U=u),t.getStore().get(t.getDimensionIndex(B||0),U)}function E(B,U){U==null&&(U=u),B=B||0;var L=t.getDimensionInfo(B);if(!L){var F=t.getDimensionIndex(B);return F>=0?t.getStore().get(F,U):void 0}var N=t.get(L.name,U),V=L&&L.ordinalMeta;return V?V.categories[N]:N}function A(B,U){U==null&&(U=u);var L=t.getItemVisual(U,"style"),F=L&&L.fill,N=L&&L.opacity,V=b(U,dg).getItemStyle();F!=null&&(V.fill=F),N!=null&&(V.opacity=N);var W={inheritColor:An(F)?F:"#000"},G=_(U,dg),K=ha(G,null,W,!1,!0);K.text=G.getShallow("show")?Sr(e.getFormattedLabel(U,dg),Kb(t,U)):null;var q=YM(G,W,!1);return M(B,V),V=Fne(V,K,q),B&&R(V,B),V.legacy=!0,V}function T(B,U){U==null&&(U=u);var L=b(U,bp).getItemStyle(),F=_(U,bp),N=ha(F,null,null,!0,!0);N.text=F.getShallow("show")?Xd(e.getFormattedLabel(U,bp),e.getFormattedLabel(U,dg),Kb(t,U)):null;var V=YM(F,null,!0);return M(B,L),L=Fne(L,N,V),B&&R(L,B),L.legacy=!0,L}function R(B,U){for(var L in U)Dn(U,L)&&(B[L]=U[L])}function M(B,U){B&&(B.textFill&&(U.textFill=B.textFill),B.textPosition&&(U.textPosition=B.textPosition))}function O(B,U){if(U==null&&(U=u),Dn(Bne,B)){var L=t.getItemVisual(U,"style");return L?L[Bne[B]]:null}if(Dn(V_t,B))return t.getItemVisual(U,B)}function D(B){if(a.type==="cartesian2d"){var U=a.getBaseAxis();return rdt(tr({axis:U},B))}}function C(){return n.getCurrentSeriesIndices()}function P(B){return AW(B,n)}}function p1t(e){var t={};return te(e.dimensions,function(n){var r=e.getDimensionInfo(n);if(!r.isExtraCoord){var i=r.coordDim,a=t[i]=t[i]||[];a[r.coordDimIndex]=e.getDimensionIndex(n)}}),t}function _6(e,t,n,r,i,a,o){if(!r){a.remove(t);return}var s=NG(e,t,n,r,i,a);return s&&o.setItemGraphicEl(n,s),s&&to(s,r.focus,r.blurScope,r.emphasisDisabled),s}function NG(e,t,n,r,i,a){var o=-1,s=t;t&&RAe(t,r,i)&&(o=Ur(a.childrenRef(),t),t=null);var l=!t,u=t;u?u.clearStates():(u=PG(r),s&&c1t(s,u)),r.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),lc.normal.cfg=lc.normal.conOpt=lc.emphasis.cfg=lc.emphasis.conOpt=lc.blur.cfg=lc.blur.conOpt=lc.select.cfg=lc.select.conOpt=null,lc.isLegacy=!1,g1t(u,n,r,i,l,lc),v1t(u,n,r,i,l),LG(e,u,n,r,lc,i,l),Dn(r,"info")&&(_p(u).info=r.info);for(var c=0;c<Gg.length;c++){var f=Gg[c];if(f!==dg){var d=mO(r,f),h=BG(r,d,f);CAe(f,u,d,h,lc)}}return d1t(u,r,i),r.type==="group"&&m1t(e,u,n,r,i),o>=0?a.replaceAt(u,o):a.add(u),u}function RAe(e,t,n){var r=_p(e),i=t.type,a=t.shape,o=t.style;return n.isUniversalTransitionEnabled()||i!=null&&i!==r.customGraphicType||i==="path"&&x1t(a)&&IAe(a)!==r.customPathData||i==="image"&&Dn(o,"image")&&o.image!==r.customImagePath}function v1t(e,t,n,r,i){var a=n.clipPath;if(a===!1)e&&e.getClipPath()&&e.removeClipPath();else if(a){var o=e.getClipPath();o&&RAe(o,a,r)&&(o=null),o||(o=PG(a),e.setClipPath(o)),LG(null,o,t,a,null,r,i)}}function g1t(e,t,n,r,i,a){if(!e.isGroup){Wne(n,null,a),Wne(n,bp,a);var o=a.normal.conOpt,s=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(o!=null||s!=null||u!=null||l!=null){var c=e.getTextContent();if(o===!1)c&&e.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},c?c.clearStates():(c=PG(o),e.setTextContent(c)),LG(null,c,t,o,null,r,i);for(var f=o&&o.style,d=0;d<Gg.length;d++){var h=Gg[d];if(h!==dg){var p=a[h].conOpt;CAe(h,c,p,BG(o,p,h),null)}}f?c.dirty():c.markRedraw()}}}}function Wne(e,t,n){var r=t?mO(e,t):e,i=t?BG(e,r,bp):e.style,a=e.type,o=r?r.textConfig:null,s=e.textContent,l=s?t?mO(s,t):s:null;if(i&&(n.isLegacy||xAe(i,a,!!o,!!l))){n.isLegacy=!0;var u=SAe(i,a,!t);!o&&u.textConfig&&(o=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var f=t?n[t]:n.normal;f.cfg=o,f.conOpt=l}function mO(e,t){return t?e?e[t]:null:e}function BG(e,t,n){var r=t&&t.style;return r==null&&n===bp&&e&&(r=e.styleEmphasis),r}function m1t(e,t,n,r,i){var a=r.children,o=a?a.length:0,s=r.$mergeChildren,l=s==="byName"||r.diffChildrenByName,u=s===!1;if(!(!o&&!l&&!u)){if(l){_1t({api:e,oldChildren:t.children()||[],newChildren:a||[],dataIndex:n,seriesModel:i,group:t});return}u&&t.removeAll();for(var c=0;c<o;c++){var f=a[c],d=t.childAt(c);f?(f.ignore==null&&(f.ignore=!1),NG(e,d,n,f,i,t)):d.ignore=!0}for(var h=t.childCount()-1;h>=c;h--){var p=t.childAt(h);y1t(t,p,i)}}}function y1t(e,t,n){t&&WP(t,_p(e).option,n)}function _1t(e){new Dp(e.oldChildren,e.newChildren,Gne,Gne,e).add(jne).update(jne).remove(b1t).execute()}function Gne(e,t){var n=e&&e.name;return n??l1t+t}function jne(e,t){var n=this.context,r=e!=null?n.newChildren[e]:null,i=t!=null?n.oldChildren[t]:null;NG(n.api,i,n.dataIndex,r,n.seriesModel,n.group)}function b1t(e){var t=this.context,n=t.oldChildren[e];n&&WP(n,_p(n).option,t.seriesModel)}function IAe(e){return e&&(e.pathData||e.d)}function x1t(e){return e&&(Dn(e,"pathData")||Dn(e,"d"))}function S1t(e){e.registerChartView(f1t),e.registerSeriesModel(z_t)}var T0=ui(),Yne=sr,b6=Rn,kG=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,n,r,i){var a=n.get("value"),o=n.get("status");if(this._axisModel=t,this._axisPointerModel=n,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===o)){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||o==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var u={};this.makeElOption(u,a,t,n,r);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=c;var f=this._moveAnimation=this.determineAnimation(t,n);if(!s)s=this._group=new hr,this.createPointerEl(s,u,t,n),this.createLabelEl(s,u,t,n),r.getZr().add(s);else{var d=Tr(Xne,n,f);this.updatePointerEl(s,u,d),this.updateLabelEl(s,u,d,n)}qne(s,n,!0),this._renderHandle(a)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,n){var r=n.get("animation"),i=t.axis,a=i.type==="category",o=n.get("snap");if(!o&&!a)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(a&&i.getBandWidth()>s)return!0;if(o){var l=sG(t).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>s}return!1}return r===!0},e.prototype.makeElOption=function(t,n,r,i,a){},e.prototype.createPointerEl=function(t,n,r,i){var a=n.pointer;if(a){var o=T0(t).pointerEl=new Vy[a.type](Yne(n.pointer));t.add(o)}},e.prototype.createLabelEl=function(t,n,r,i){if(n.label){var a=T0(t).labelEl=new pi(Yne(n.label));t.add(a),Kne(a,i)}},e.prototype.updatePointerEl=function(t,n,r){var i=T0(t).pointerEl;i&&n.pointer&&(i.setStyle(n.pointer.style),r(i,{shape:n.pointer.shape}))},e.prototype.updateLabelEl=function(t,n,r,i){var a=T0(t).labelEl;a&&(a.setStyle(n.label.style),r(a,{x:n.label.x,y:n.label.y}),Kne(a,i))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=n.getModel("handle"),o=n.get("status");if(!a.get("show")||!o||o==="hide"){i&&r.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=fw(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){Rp(u.event)},onmousedown:b6(this._onHandleDragMove,this,0,0),drift:b6(this._onHandleDragMove,this),ondragend:b6(this._onHandleDragEnd,this)}),r.add(i)),qne(i,n,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");Lt(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,$x(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,s)}},e.prototype._moveHandleToValue=function(t,n){Xne(this._axisPointerModel,!n&&this._moveAnimation,this._handle,x6(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,n){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(x6(r),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(x6(i)),T0(r).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),r=this._group,i=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),i&&n.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),aT(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,n,r){return r=r||0,{x:t[r],y:t[1-r],width:n[r],height:n[1-r]}},e}();function Xne(e,t,n,r){MAe(T0(n).lastProp,r)||(T0(n).lastProp=r,t?Si(n,r,e):(n.stopAnimation(),n.attr(r)))}function MAe(e,t){if(ar(e)&&ar(t)){var n=!0;return te(t,function(r,i){n=n&&MAe(e[i],r)}),!!n}else return e===t}function Kne(e,t){e[t.get(["label","show"])?"show":"hide"]()}function x6(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function qne(e,t,n){var r=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=n)})}function FG(e){var t=e.get("type"),n=e.getModel(t+"Style"),r;return t==="line"?(r=n.getLineStyle(),r.fill=null):t==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function OAe(e,t,n,r,i){var a=n.get("value"),o=DAe(a,t.axis,t.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=Fx(s.get("padding")||0),u=s.getFont(),c=aw(o,u),f=i.position,d=c.width+l[1]+l[3],h=c.height+l[0]+l[2],p=i.align;p==="right"&&(f[0]-=d),p==="center"&&(f[0]-=d/2);var v=i.verticalAlign;v==="bottom"&&(f[1]-=h),v==="middle"&&(f[1]-=h/2),A1t(f,d,h,r);var g=s.get("backgroundColor");(!g||g==="auto")&&(g=t.get(["axisLine","lineStyle","color"])),e.label={x:f[0],y:f[1],style:ha(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:g}),z2:10}}function A1t(e,t,n,r){var i=r.getWidth(),a=r.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,a)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function DAe(e,t,n,r,i){e=t.scale.parse(e);var a=t.scale.getLabel({value:e},{precision:i.precision}),o=i.formatter;if(o){var s={value:qW(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};te(r,function(l){var u=n.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,f=u&&u.getDataParams(c);f&&s.seriesData.push(f)}),An(o)?a=o.replace("{value}",a):er(o)&&(a=o(s))}return a}function UG(e,t,n){var r=$u();return Uy(r,r,n.rotation),rh(r,r,n.position),$f([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function PAe(e,t,n,r,i,a){var o=Il.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),OAe(t,r,i,a,{position:UG(r.axis,e,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function VG(e,t,n){return n=n||0,{x1:e[n],y1:e[1-n],x2:t[n],y2:t[1-n]}}function LAe(e,t,n){return n=n||0,{x:e[n],y:e[1-n],width:t[n],height:t[1-n]}}function Zne(e,t,n,r,i,a){return{cx:e,cy:t,r0:n,r,startAngle:i,endAngle:a,clockwise:!0}}var E1t=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,i,a,o){var s=i.axis,l=s.grid,u=a.get("type"),c=Qne(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(u&&u!=="none"){var d=FG(a),h=T1t[u](s,f,c);h.style=d,n.graphicKey=h.type,n.pointer=h}var p=l9(l.model,i);PAe(r,n,p,i,a,o)},t.prototype.getHandleTransform=function(n,r,i){var a=l9(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=UG(r.axis,n,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,r,i,a){var o=i.axis,s=o.grid,l=o.getGlobalExtent(!0),u=Qne(s,o).getOtherAxis(o).getGlobalExtent(),c=o.dim==="x"?0:1,f=[n.x,n.y];f[c]+=r[c],f[c]=Math.min(l[1],f[c]),f[c]=Math.max(l[0],f[c]);var d=(u[1]+u[0])/2,h=[d,d];h[c]=f[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:n.rotation,cursorPoint:h,tooltipOption:p[c]}},t}(kG);function Qne(e,t){var n={};return n[t.dim+"AxisIndex"]=t.index,e.getCartesian(n)}var T1t={line:function(e,t,n){var r=VG([t,n[0]],[t,n[1]],Jne(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:LAe([t-r/2,n[0]],[r,i],Jne(e))}}};function Jne(e){return e.dim==="x"?0:1}var w1t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Qr),hp=ui(),C1t=te;function NAe(e,t,n){if(!qr.node){var r=t.getZr();hp(r).records||(hp(r).records={}),R1t(r,t);var i=hp(r).records[e]||(hp(r).records[e]={});i.handler=n}}function R1t(e,t){if(hp(e).initialized)return;hp(e).initialized=!0,n("click",Tr(ere,"click")),n("mousemove",Tr(ere,"mousemove")),n("globalout",M1t);function n(r,i){e.on(r,function(a){var o=O1t(t);C1t(hp(e).records,function(s){s&&i(s,a,o.dispatchAction)}),I1t(o.pendings,t)})}}function I1t(e,t){var n=e.showTip.length,r=e.hideTip.length,i;n?i=e.showTip[n-1]:r&&(i=e.hideTip[r-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function M1t(e,t,n){e.handler("leave",null,n)}function ere(e,t,n,r){t.handler(e,n,r)}function O1t(e){var t={showTip:[],hideTip:[]},n=function(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}function I9(e,t){if(!qr.node){var n=t.getZr(),r=(hp(n).records||{})[e];r&&(hp(n).records[e]=null)}}var D1t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var a=r.getComponent("tooltip"),o=n.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";NAe("axisPointer",i,function(s,l,u){o!=="none"&&(s==="leave"||o.indexOf(s)>=0)&&u({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(n,r){I9("axisPointer",r)},t.prototype.dispose=function(n,r){I9("axisPointer",r)},t.type="axisPointer",t}(Ba);function BAe(e,t){var n=[],r=e.seriesIndex,i;if(r==null||!(i=t.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),o=yy(a,e);if(o==null||o<0||Lt(o))return{point:[]};var s=a.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),f=c.dim,d=u.dim,h=f==="x"||f==="radius"?1:0,p=a.mapDimension(d),v=[];v[h]=a.get(p,o),v[1-h]=a.get(a.getCalculationInfo("stackResultDimension"),o),n=l.dataToPoint(v)||[]}else n=l.dataToPoint(a.getValues(Vt(l.dimensions,function(m){return a.mapDimension(m)}),o))||[];else if(s){var g=s.getBoundingRect().clone();g.applyTransform(s.transform),n=[g.x+g.width/2,g.y+g.height/2]}return{point:n,el:s}}var tre=ui();function P1t(e,t,n){var r=e.currTrigger,i=[e.x,e.y],a=e,o=e.dispatchAction||Rn(n.dispatchAction,n),s=t.getComponent("axisPointer").coordSysAxesInfo;if(s){B3(i)&&(i=BAe({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=B3(i),u=a.axesInfo,c=s.axesInfo,f=r==="leave"||B3(i),d={},h={},p={list:[],map:{}},v={showPointer:Tr(N1t,h),showTooltip:Tr(B1t,p)};te(s.coordSysMap,function(m,b){var _=l||m.containPoint(i);te(s.coordSysAxesInfo[b],function(x,E){var A=x.axis,T=V1t(u,x);if(!f&&_&&(!u||T)){var R=T&&T.value;R==null&&!l&&(R=A.pointToData(i)),R!=null&&nre(x,R,v,!1,d)}})});var g={};return te(c,function(m,b){var _=m.linkGroup;_&&!h[b]&&te(_.axesInfo,function(x,E){var A=h[E];if(x!==m&&A){var T=A.value;_.mapper&&(T=m.axis.scale.parse(_.mapper(T,rre(x),rre(m)))),g[m.key]=T}})}),te(g,function(m,b){nre(c[b],m,v,!0,d)}),k1t(h,c,d),F1t(p,i,e,o),U1t(c,o,n),d}}function nre(e,t,n,r,i){var a=e.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!e.involveSeries){n.showPointer(e,t);return}var o=L1t(t,e),s=o.payloadBatch,l=o.snapToValue;s[0]&&i.seriesIndex==null&&Ct(i,s[0]),!r&&e.snap&&a.containData(l)&&l!=null&&(t=l),n.showPointer(e,t,s),n.showTooltip(e,o,l)}}function L1t(e,t){var n=t.axis,r=n.dim,i=e,a=[],o=Number.MAX_VALUE,s=-1;return te(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(r),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(c,e,n);d=h.dataIndices,f=h.nestestValue}else{if(d=l.getData().indicesOfNearest(c[0],e,n.type==="category"?.5:null),!d.length)return;f=l.getData().get(c[0],d[0])}if(!(f==null||!isFinite(f))){var p=e-f,v=Math.abs(p);v<=o&&((v<o||p>=0&&s<0)&&(o=v,s=p,i=f,a.length=0),te(d,function(g){a.push({seriesIndex:l.seriesIndex,dataIndexInside:g,dataIndex:l.getData().getRawIndex(g)})}))}}),{payloadBatch:a,snapToValue:i}}function N1t(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function B1t(e,t,n,r){var i=n.payloadBatch,a=t.axis,o=a.model,s=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var l=t.coordSys.model,u=dT(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function k1t(e,t,n){var r=n.axesInfo=[];te(t,function(i,a){var o=i.axisPointerModel.option,s=e[a];s?(!i.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(o.status="hide"),o.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:o.value})})}function F1t(e,t,n,r){if(B3(t)||!e.list.length){r({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function U1t(e,t,n){var r=n.getZr(),i="axisPointerLastHighlights",a=tre(r)[i]||{},o=tre(r)[i]={};te(e,function(u,c){var f=u.axisPointerModel.option;f.status==="show"&&u.triggerEmphasis&&te(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;o[h]=d})});var s=[],l=[];te(a,function(u,c){!o[c]&&l.push(u)}),te(o,function(u,c){!a[c]&&s.push(u)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function V1t(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}function rre(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=t.componentIndex,n.axisName=n[r+"AxisName"]=t.name,n.axisId=n[r+"AxisId"]=t.id,n}function B3(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function Ew(e){Wy.registerAxisPointerClass("CartesianAxisPointer",E1t),e.registerComponentModel(w1t),e.registerComponentView(D1t),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!Lt(n)&&(t.axisPointer.link=[n])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=qpt(t,n)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},P1t)}function z1t(e){Vr(cSe),Vr(Ew)}var $1t=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,i,a,o){var s=i.axis;s.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s),c=u.getExtent(),f=s.dataToCoord(r),d=a.get("type");if(d&&d!=="none"){var h=FG(a),p=W1t[d](s,l,f,c);p.style=h,n.graphicKey=p.type,n.pointer=p}var v=a.get(["label","margin"]),g=H1t(r,i,a,l,v);OAe(n,i,a,o,g)},t}(kG);function H1t(e,t,n,r,i){var a=t.axis,o=a.dataToCoord(e),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l=r.getRadiusAxis().getExtent(),u,c,f;if(a.dim==="radius"){var d=$u();Uy(d,d,s),rh(d,d,[r.cx,r.cy]),u=$f([o,-i],d);var h=t.getModel("axisLabel").get("rotate")||0,p=Il.innerTextLayout(s,h*Math.PI/180,-1);c=p.textAlign,f=p.textVerticalAlign}else{var v=l[1];u=r.coordToPoint([v+i,o]);var g=r.cx,m=r.cy;c=Math.abs(u[0]-g)/v<.3?"center":u[0]>g?"left":"right",f=Math.abs(u[1]-m)/v<.3?"middle":u[1]>m?"top":"bottom"}return{position:u,align:c,verticalAlign:f}}var W1t={line:function(e,t,n,r){return e.dim==="angle"?{type:"Line",shape:VG(t.coordToPoint([r[0],n]),t.coordToPoint([r[1],n]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,r){var i=Math.max(1,e.getBandWidth()),a=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:Zne(t.cx,t.cy,r[0],r[1],(-n-i/2)*a,(-n+i/2)*a)}:{type:"Sector",shape:Zne(t.cx,t.cy,n-i/2,n+i/2,0,Math.PI*2)}}},G1t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.findAxisModel=function(n){var r,i=this.ecModel;return i.eachComponent(n,function(a){a.getCoordSysModel()===this&&(r=a)},this),r},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(Qr),zG=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",wo).models[0]},t.type="polarAxis",t}(Qr);Mo(zG,vw);var j1t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="angleAxis",t}(zG),Y1t=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="radiusAxis",t}(zG),$G=function(e){et(t,e);function t(n,r){return e.call(this,"radius",n,r)||this}return t.prototype.pointToData=function(n,r){return this.polar.pointToData(n,r)[this.dim==="radius"?0:1]},t}(id);$G.prototype.dataToRadius=id.prototype.dataToCoord;$G.prototype.radiusToData=id.prototype.coordToData;var X1t=ui(),HG=function(e){et(t,e);function t(n,r){return e.call(this,"angle",n,r||[0,360])||this}return t.prototype.pointToData=function(n,r){return this.polar.pointToData(n,r)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var n=this,r=n.getLabelModel(),i=n.scale,a=i.getExtent(),o=i.count();if(a[1]-a[0]<1)return 0;var s=a[0],l=n.dataToCoord(s+1)-n.dataToCoord(s),u=Math.abs(l),c=aw(s==null?"":s+"",r.getFont(),"center","top"),f=Math.max(c.height,7),d=f/u;isNaN(d)&&(d=1/0);var h=Math.max(0,Math.floor(d)),p=X1t(n.model),v=p.lastAutoInterval,g=p.lastTickCount;return v!=null&&g!=null&&Math.abs(v-h)<=1&&Math.abs(g-o)<=1&&v>h?h=v:(p.lastTickCount=o,p.lastAutoInterval=h),h},t}(id);HG.prototype.dataToAngle=id.prototype.dataToCoord;HG.prototype.angleToData=id.prototype.coordToData;var kAe=["radius","angle"],K1t=function(){function e(t){this.dimensions=kAe,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new $G,this._angleAxis=new HG,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(t){var n=this.pointToCoord(t);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},e.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},e.prototype.getAxis=function(t){var n="_"+t+"Axis";return this[n]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(t){var n=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===t&&n.push(r),i.scale.type===t&&n.push(i),n},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(t){var n=this._angleAxis;return t===n?this._radiusAxis:n},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(t){var n=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},e.prototype.dataToPoint=function(t,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],n),this._angleAxis.dataToAngle(t[1],n)])},e.prototype.pointToData=function(t,n){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],n),this._angleAxis.angleToData(r[1],n)]},e.prototype.pointToCoord=function(t){var n=t[0]-this.cx,r=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);i.inverse?o=s-360:s=o+360;var l=Math.sqrt(n*n+r*r);n/=l,r/=l;for(var u=Math.atan2(-r,n)/Math.PI*180,c=u<o?1:-1;u<o||u>s;)u+=c*360;return[l,u]},e.prototype.coordToPoint=function(t){var n=t[0],r=t[1]/180*Math.PI,i=Math.cos(r)*n+this.cx,a=-Math.sin(r)*n+this.cy;return[i,a]},e.prototype.getArea=function(){var t=this.getAngleAxis(),n=this.getRadiusAxis(),r=n.getExtent().slice();r[0]>r[1]&&r.reverse();var i=t.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(o,s){var l=o-this.cx,u=s-this.cy,c=l*l+u*u-1e-4,f=this.r,d=this.r0;return c<=f*f&&c>=d*d}}},e.prototype.convertToPixel=function(t,n,r){var i=ire(n);return i===this?this.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var i=ire(n);return i===this?this.pointToData(r):null},e}();function ire(e){var t=e.seriesModel,n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function q1t(e,t,n){var r=t.get("center"),i=n.getWidth(),a=n.getHeight();e.cx=vn(r[0],i),e.cy=vn(r[1],a);var o=e.getRadiusAxis(),s=Math.min(i,a)/2,l=t.get("radius");l==null?l=[0,"100%"]:Lt(l)||(l=[0,l]);var u=[vn(l[0],s),vn(l[1],s)];o.inverse?o.setExtent(u[1],u[0]):o.setExtent(u[0],u[1])}function Z1t(e,t){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries(function(s){if(s.coordinateSystem===n){var l=s.getData();te(iO(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),te(iO(l,"angle"),function(u){r.scale.unionExtentFromData(l,u)})}}),Xb(r.scale,r.model),Xb(i.scale,i.model),r.type==="category"&&!r.onBand){var a=r.getExtent(),o=360/r.scale.count();r.inverse?a[1]+=o:a[1]-=o,r.setExtent(a[0],a[1])}}function Q1t(e){return e.mainType==="angleAxis"}function are(e,t){var n;if(e.type=t.get("type"),e.scale=kP(t),e.onBand=t.get("boundaryGap")&&e.type==="category",e.inverse=t.get("inverse"),Q1t(t)){e.inverse=e.inverse!==t.get("clockwise");var r=t.get("startAngle"),i=(n=t.get("endAngle"))!==null&&n!==void 0?n:r+(e.inverse?-360:360);e.setExtent(r,i)}t.axis=e,e.model=t}var J1t={dimensions:kAe,create:function(e,t){var n=[];return e.eachComponent("polar",function(r,i){var a=new K1t(i+"");a.update=Z1t;var o=a.getRadiusAxis(),s=a.getAngleAxis(),l=r.findAxisModel("radiusAxis"),u=r.findAxisModel("angleAxis");are(o,l),are(s,u),q1t(a,r,t),n.push(a),r.coordinateSystem=a,a.model=r}),e.eachSeries(function(r){if(r.get("coordinateSystem")==="polar"){var i=r.getReferringComponents("polar",wo).models[0];r.coordinateSystem=i.coordinateSystem}}),n}},ebt=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function cI(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],n]),i=e.coordToPoint([t[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function fI(e){var t=e.getRadiusAxis();return t.inverse?0:1}function ore(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var tbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return t.prototype.render=function(n,r){if(this.group.removeAll(),!!n.get("show")){var i=n.axis,a=i.polar,o=a.getRadiusAxis().getExtent(),s=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=Vt(i.getViewLabels(),function(c){c=sr(c);var f=i.scale,d=f.type==="ordinal"?f.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(d),c});ore(u),ore(s),te(ebt,function(c){n.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&nbt[c](this.group,n,a,s,l,o,u)},this)}},t.type="angleAxis",t}(Wy),nbt={axisLine:function(e,t,n,r,i,a){var o=t.getModel(["axisLine","lineStyle"]),s=n.getAngleAxis(),l=Math.PI/180,u=s.getExtent(),c=fI(n),f=c?0:1,d,h=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[f]===0?d=new Vy[h]({shape:{cx:n.cx,cy:n.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):d=new lw({shape:{cx:n.cx,cy:n.cy,r:a[c],r0:a[f]},style:o.getLineStyle(),z2:1,silent:!0}),d.style.fill=null,e.add(d)},axisTick:function(e,t,n,r,i,a){var o=t.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=a[fI(n)],u=Vt(r,function(c){return new qo({shape:cI(n,[l,l+s],c.coord)})});e.add(Tc(u,{style:tr(o.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,n,r,i,a){if(i.length){for(var o=t.getModel("axisTick"),s=t.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),u=a[fI(n)],c=[],f=0;f<i.length;f++)for(var d=0;d<i[f].length;d++)c.push(new qo({shape:cI(n,[u,u+l],i[f][d].coord)}));e.add(Tc(c,{style:tr(s.getModel("lineStyle").getLineStyle(),tr(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,n,r,i,a,o){var s=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");te(o,function(f,d){var h=l,p=f.tickValue,v=a[fI(n)],g=n.coordToPoint([v+u,f.coord]),m=n.cx,b=n.cy,_=Math.abs(g[0]-m)/v<.3?"center":g[0]>m?"left":"right",x=Math.abs(g[1]-b)/v<.3?"middle":g[1]>b?"top":"bottom";if(s&&s[p]){var E=s[p];ar(E)&&E.textStyle&&(h=new zi(E.textStyle,l,l.ecModel))}var A=new pi({silent:Il.isLabelSilent(t),style:ha(h,{x:g[0],y:g[1],fill:h.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:f.formattedLabel,align:_,verticalAlign:x})});if(e.add(A),c){var T=Il.makeAxisEventDataBase(t);T.targetType="axisLabel",T.value=f.rawLabel,gr(A).eventData=T}},this)},splitLine:function(e,t,n,r,i,a){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=0;f<r.length;f++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new qo({shape:cI(n,a,r[f].coord)}))}for(var f=0;f<c.length;f++)e.add(Tc(c[f],{style:tr({stroke:l[f%l.length]},s.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,n,r,i,a){if(i.length){for(var o=t.getModel("minorSplitLine"),s=o.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new qo({shape:cI(n,a,i[u][c].coord)}));e.add(Tc(l,{style:s.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,n,r,i,a){if(r.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=Math.PI/180,d=-r[0].coord*f,h=Math.min(a[0],a[1]),p=Math.max(a[0],a[1]),v=t.get("clockwise"),g=1,m=r.length;g<=m;g++){var b=g===m?r[0].coord:r[g].coord,_=u++%l.length;c[_]=c[_]||[],c[_].push(new Nl({shape:{cx:n.cx,cy:n.cy,r0:h,r:p,startAngle:d,endAngle:-b*f,clockwise:v},silent:!0})),d=-b*f}for(var g=0;g<c.length;g++)e.add(Tc(c[g],{style:tr({fill:l[g%l.length]},s.getAreaStyle()),silent:!0}))}}},rbt=["axisLine","axisTickLabel","axisName"],ibt=["splitLine","splitArea","minorSplitLine"],abt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="PolarAxisPointer",n}return t.prototype.render=function(n,r){if(this.group.removeAll(),!!n.get("show")){var i=this._axisGroup,a=this._axisGroup=new hr;this.group.add(a);var o=n.axis,s=o.polar,l=s.getAngleAxis(),u=o.getTicksCoords(),c=o.getMinorTicksCoords(),f=l.getExtent()[0],d=o.getExtent(),h=sbt(s,n,f),p=new Il(n,h);te(rbt,p.add,p),a.add(p.getGroup()),cw(i,a,n),te(ibt,function(v){n.get([v,"show"])&&!o.scale.isBlank()&&obt[v](this.group,n,s,f,d,u,c)},this)}},t.type="radiusAxis",t}(Wy),obt={splitLine:function(e,t,n,r,i,a){var o=t.getModel("splitLine"),s=o.getModel("lineStyle"),l=s.get("color"),u=0,c=n.getAngleAxis(),f=Math.PI/180,d=c.getExtent(),h=Math.abs(d[1]-d[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var p=[],v=0;v<a.length;v++){var g=u++%l.length;p[g]=p[g]||[],p[g].push(new Vy[h]({shape:{cx:n.cx,cy:n.cy,r:Math.max(a[v].coord,0),startAngle:-d[0]*f,endAngle:-d[1]*f,clockwise:c.inverse}}))}for(var v=0;v<p.length;v++)e.add(Tc(p[v],{style:tr({stroke:l[v%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,r,i,a,o){if(o.length){for(var s=t.getModel("minorSplitLine"),l=s.getModel("lineStyle"),u=[],c=0;c<o.length;c++)for(var f=0;f<o[c].length;f++)u.push(new Wp({shape:{cx:n.cx,cy:n.cy,r:o[c][f].coord}}));e.add(Tc(u,{style:tr({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,r,i,a){if(a.length){var o=t.getModel("splitArea"),s=o.getModel("areaStyle"),l=s.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],f=a[0].coord,d=1;d<a.length;d++){var h=u++%l.length;c[h]=c[h]||[],c[h].push(new Nl({shape:{cx:n.cx,cy:n.cy,r0:f,r:a[d].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=a[d].coord}for(var d=0;d<c.length;d++)e.add(Tc(c[d],{style:tr({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}};function sbt(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function FAe(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function UAe(e,t){return t.dim+e.model.componentIndex}function lbt(e,t,n){var r={},i=ubt(Xi(t.getSeriesByType(e),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(e,function(a){if(a.coordinateSystem.type==="polar"){var o=a.getData(),s=a.coordinateSystem,l=s.getBaseAxis(),u=UAe(s,l),c=FAe(a),f=i[u][c],d=f.offset,h=f.width,p=s.getOtherAxis(l),v=a.coordinateSystem.cx,g=a.coordinateSystem.cy,m=a.get("barMinHeight")||0,b=a.get("barMinAngle")||0;r[c]=r[c]||[];for(var _=o.mapDimension(p.dim),x=o.mapDimension(l.dim),E=Hg(o,_),A=l.dim!=="radius"||!a.get("roundCap",!0),T=p.model,R=T.get("startValue"),M=p.dataToCoord(R||0),O=0,D=o.count();O<D;O++){var C=o.get(_,O),P=o.get(x,O),B=C>=0?"p":"n",U=M;E&&(r[c][P]||(r[c][P]={p:M,n:M}),U=r[c][P][B]);var L=void 0,F=void 0,N=void 0,V=void 0;if(p.dim==="radius"){var W=p.dataToCoord(C)-M,G=l.dataToCoord(P);Math.abs(W)<m&&(W=(W<0?-1:1)*m),L=U,F=U+W,N=G-d,V=N-h,E&&(r[c][P][B]=F)}else{var K=p.dataToCoord(C,A)-M,q=l.dataToCoord(P);Math.abs(K)<b&&(K=(K<0?-1:1)*b),L=q+d,F=L+h,N=U,V=U+K,E&&(r[c][P][B]=V)}o.setItemLayout(O,{cx:v,cy:g,r0:L,r:F,startAngle:-N*Math.PI/180,endAngle:-V*Math.PI/180,clockwise:N>=V})}}})}function ubt(e){var t={};te(e,function(r,i){var a=r.getData(),o=r.coordinateSystem,s=o.getBaseAxis(),l=UAe(o,s),u=s.getExtent(),c=s.type==="category"?s.getBandWidth():Math.abs(u[1]-u[0])/a.count(),f=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},d=f.stacks;t[l]=f;var h=FAe(r);d[h]||f.autoWidthCount++,d[h]=d[h]||{width:0,maxWidth:0};var p=vn(r.get("barWidth"),c),v=vn(r.get("barMaxWidth"),c),g=r.get("barGap"),m=r.get("barCategoryGap");p&&!d[h].width&&(p=Math.min(f.remainedWidth,p),d[h].width=p,f.remainedWidth-=p),v&&(d[h].maxWidth=v),g!=null&&(f.gap=g),m!=null&&(f.categoryGap=m)});var n={};return te(t,function(r,i){n[i]={};var a=r.stacks,o=r.bandWidth,s=vn(r.categoryGap,o),l=vn(r.gap,1),u=r.remainedWidth,c=r.autoWidthCount,f=(u-s)/(c+(c-1)*l);f=Math.max(f,0),te(a,function(v,g){var m=v.maxWidth;m&&m<f&&(m=Math.min(m,u),v.width&&(m=Math.min(m,v.width)),u-=m,v.width=m,c--)}),f=(u-s)/(c+(c-1)*l),f=Math.max(f,0);var d=0,h;te(a,function(v,g){v.width||(v.width=f),h=v,d+=v.width*(1+l)}),h&&(d-=h.width*l);var p=-d/2;te(a,function(v,g){n[i][g]=n[i][g]||{offset:p,width:v.width},p+=v.width*(1+l)})}),n}var cbt={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},fbt={splitNumber:5},dbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="polar",t}(Ba);function hbt(e){Vr(Ew),Wy.registerAxisPointerClass("PolarAxisPointer",$1t),e.registerCoordinateSystem("polar",J1t),e.registerComponentModel(G1t),e.registerComponentView(dbt),qb(e,"angle",j1t,cbt),qb(e,"radius",Y1t,fbt),e.registerComponentView(tbt),e.registerComponentView(abt),e.registerLayout(Tr(lbt,"bar"))}function M9(e,t){t=t||{};var n=e.coordinateSystem,r=e.axis,i={},a=r.position,o=r.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[o==="vertical"?u.vertical[a]:l[0],o==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[o];var f={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=f[a],e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),hs(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var d=t.rotate;return d==null&&(d=e.get(["axisLabel","rotate"])),i.labelRotation=a==="top"?-d:d,i.z2=1,i}var pbt=["axisLine","axisTickLabel","axisName"],vbt=["splitArea","splitLine"],gbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass="SingleAxisPointer",n}return t.prototype.render=function(n,r,i,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new hr;var l=M9(n),u=new Il(n,l);te(pbt,u.add,u),o.add(this._axisGroup),o.add(u.getGroup()),te(vbt,function(c){n.get([c,"show"])&&mbt[c](this,this.group,this._axisGroup,n)},this),cw(s,this._axisGroup,n),e.prototype.render.call(this,n,r,i,a)},t.prototype.remove=function(){sSe(this)},t.type="singleAxis",t}(Wy),mbt={splitLine:function(e,t,n,r){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var l=o.get("width"),u=r.coordinateSystem.getRect(),c=i.isHorizontal(),f=[],d=0,h=i.getTicksCoords({tickModel:a}),p=[],v=[],g=0;g<h.length;++g){var m=i.toGlobalCoord(h[g].coord);c?(p[0]=m,p[1]=u.y,v[0]=m,v[1]=u.y+u.height):(p[0]=u.x,p[1]=m,v[0]=u.x+u.width,v[1]=m);var b=new qo({shape:{x1:p[0],y1:p[1],x2:v[0],y2:v[1]},silent:!0});Gb(b.shape,l);var _=d++%s.length;f[_]=f[_]||[],f[_].push(b)}for(var x=o.getLineStyle(["color"]),g=0;g<f.length;++g)t.add(Tc(f[g],{style:tr({stroke:s[g%s.length]},x),silent:!0}))}},splitArea:function(e,t,n,r){oSe(e,n,r,r)}},k3=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Qr);Mo(k3,vw.prototype);var ybt=function(e){et(t,e);function t(n,r,i,a,o){var s=e.call(this,n,r,i)||this;return s.type=a||"value",s.position=o||"bottom",s}return t.prototype.isHorizontal=function(){var n=this.position;return n==="top"||n==="bottom"},t.prototype.pointToData=function(n,r){return this.coordinateSystem.pointToData(n)[0]},t}(id),VAe=["single"],_bt=function(){function e(t,n,r){this.type="single",this.dimension="single",this.dimensions=VAe,this.axisPointerEnabled=!0,this.model=t,this._init(t,n,r)}return e.prototype._init=function(t,n,r){var i=this.dimension,a=new ybt(i,kP(t),[0,0],t.get("type"),t.get("position")),o=a.type==="category";a.onBand=o&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},e.prototype.update=function(t,n){t.eachSeries(function(r){if(r.coordinateSystem===this){var i=r.getData();te(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),Xb(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(t,n){this._rect=$o({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:n.getWidth(),height:n.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var t=this._rect,n=this._axis,r=n.isHorizontal(),i=r?[0,t.width]:[0,t.height],a=n.inverse?1:0;n.setExtent(i[a],i[1-a]),this._updateAxisTransform(n,r?t.x:t.y)},e.prototype._updateAxisTransform=function(t,n){var r=t.getExtent(),i=r[0]+r[1],a=t.isHorizontal();t.toGlobalCoord=a?function(o){return o+n}:function(o){return i-o+n},t.toLocalCoord=a?function(o){return o-n}:function(o){return i-o+n}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(t){var n=this.getRect(),r=this.getAxis(),i=r.orient;return i==="horizontal"?r.contain(r.toLocalCoord(t[0]))&&t[1]>=n.y&&t[1]<=n.y+n.height:r.contain(r.toLocalCoord(t[1]))&&t[0]>=n.y&&t[0]<=n.y+n.height},e.prototype.pointToData=function(t){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(t[n.orient==="horizontal"?0:1]))]},e.prototype.dataToPoint=function(t){var n=this.getAxis(),r=this.getRect(),i=[],a=n.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),i[a]=n.toGlobalCoord(n.dataToCoord(+t)),i[1-a]=a===0?r.y+r.height/2:r.x+r.width/2,i},e.prototype.convertToPixel=function(t,n,r){var i=sre(n);return i===this?this.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var i=sre(n);return i===this?this.pointToData(r):null},e}();function sre(e){var t=e.seriesModel,n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}function bbt(e,t){var n=[];return e.eachComponent("singleAxis",function(r,i){var a=new _bt(r,e,t);a.name="single_"+i,a.resize(r,t),r.coordinateSystem=a,n.push(a)}),e.eachSeries(function(r){if(r.get("coordinateSystem")==="singleAxis"){var i=r.getReferringComponents("singleAxis",wo).models[0];r.coordinateSystem=i&&i.coordinateSystem}}),n}var xbt={create:bbt,dimensions:VAe},lre=["x","y"],Sbt=["width","height"],Abt=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(n,r,i,a,o){var s=i.axis,l=s.coordinateSystem,u=S6(l,1-yO(s)),c=l.dataToPoint(r)[0],f=a.get("type");if(f&&f!=="none"){var d=FG(a),h=Ebt[f](s,c,u);h.style=d,n.graphicKey=h.type,n.pointer=h}var p=M9(i);PAe(r,n,p,i,a,o)},t.prototype.getHandleTransform=function(n,r,i){var a=M9(r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var o=UG(r.axis,n,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(n,r,i,a){var o=i.axis,s=o.coordinateSystem,l=yO(o),u=S6(s,l),c=[n.x,n.y];c[l]+=r[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var f=S6(s,1-l),d=(f[1]+f[0])/2,h=[d,d];return h[l]=c[l],{x:c[0],y:c[1],rotation:n.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},t}(kG),Ebt={line:function(e,t,n){var r=VG([t,n[0]],[t,n[1]],yO(e));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(e,t,n){var r=e.getBandWidth(),i=n[1]-n[0];return{type:"Rect",shape:LAe([t-r/2,n[0]],[r,i],yO(e))}}};function yO(e){return e.isHorizontal()?0:1}function S6(e,t){var n=e.getRect();return[n[lre[t]],n[lre[t]]+n[Sbt[t]]]}var Tbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="single",t}(Ba);function wbt(e){Vr(Ew),Wy.registerAxisPointerClass("SingleAxisPointer",Abt),e.registerComponentView(Tbt),e.registerComponentView(gbt),e.registerComponentModel(k3),qb(e,"single",k3,k3.defaultOption),e.registerCoordinateSystem("single",xbt)}var Cbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r,i){var a=Ux(n);e.prototype.init.apply(this,arguments),ure(n,a)},t.prototype.mergeOption=function(n){e.prototype.mergeOption.apply(this,arguments),ure(this.option,n)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Qr);function ure(e,t){var n=e.cellSize,r;Lt(n)?r=n:r=e.cellSize=[n,n],r.length===1&&(r[1]=r[0]);var i=Vt([0,1],function(a){return Xlt(t,a)&&(r[a]="auto"),r[a]!=null&&r[a]!=="auto"});$g(e,t,{type:"box",ignoreSize:i})}var Rbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){var a=this.group;a.removeAll();var o=n.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),u=r.getLocaleModel();this._renderDayRect(n,s,a),this._renderLines(n,s,l,a),this._renderYearText(n,s,l,a),this._renderMonthText(n,u,l,a),this._renderWeekText(n,u,s,l,a)},t.prototype._renderDayRect=function(n,r,i){for(var a=n.coordinateSystem,o=n.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),u=r.start.time;u<=r.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToRect([u],!1).tl,f=new si({shape:{x:c[0],y:c[1],width:s,height:l},cursor:"default",style:o});i.add(f)}},t.prototype._renderLines=function(n,r,i,a){var o=this,s=n.coordinateSystem,l=n.getModel(["splitLine","lineStyle"]).getLineStyle(),u=n.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var f=r.start,d=0;f.time<=r.end.time;d++){p(f.formatedDate),d===0&&(f=s.getDateInfo(r.start.y+"-"+r.start.m));var h=f.date;h.setMonth(h.getMonth()+1),f=s.getDateInfo(h)}p(s.getNextNDay(r.end.time,1).formatedDate);function p(v){o._firstDayOfMonth.push(s.getDateInfo(v)),o._firstDayPoints.push(s.dataToRect([v],!1).tl);var g=o._getLinePointsOfOneWeek(n,v,i);o._tlpoints.push(g[0]),o._blpoints.push(g[g.length-1]),u&&o._drawSplitline(g,l,a)}u&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,c,i),l,a),u&&this._drawSplitline(o._getEdgesPoints(o._blpoints,c,i),l,a)},t.prototype._getEdgesPoints=function(n,r,i){var a=[n[0].slice(),n[n.length-1].slice()],o=i==="horizontal"?0:1;return a[0][o]=a[0][o]-r/2,a[1][o]=a[1][o]+r/2,a},t.prototype._drawSplitline=function(n,r,i){var a=new kl({z2:20,shape:{points:n},style:r});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(n,r,i){for(var a=n.coordinateSystem,o=a.getDateInfo(r),s=[],l=0;l<7;l++){var u=a.getNextNDay(o.time,l),c=a.dataToRect([u.time],!1);s[2*u.day]=c.tl,s[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return s},t.prototype._formatterLabel=function(n,r){return An(n)&&n?Glt(n,r):er(n)?n(r):r.nameMap},t.prototype._yearTextPositionControl=function(n,r,i,a,o){var s=r[0],l=r[1],u=["center","bottom"];a==="bottom"?(l+=o,u=["center","top"]):a==="left"?s-=o:a==="right"?(s+=o,u=["center","top"]):l-=o;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:s,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(n,r,i,a){var o=n.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,f=(u[0][1]+u[1][1])/2,d=i==="horizontal"?0:1,h={top:[c,u[d][1]],bottom:[c,u[1-d][1]],left:[u[1-d][0],f],right:[u[d][0],f]},p=r.start.y;+r.end.y>+r.start.y&&(p=p+"-"+r.end.y);var v=o.get("formatter"),g={start:r.start.y,end:r.end.y,nameMap:p},m=this._formatterLabel(v,g),b=new pi({z2:30,style:ha(o,{text:m})});b.attr(this._yearTextPositionControl(b,h[l],i,l,s)),a.add(b)}},t.prototype._monthTextPositionControl=function(n,r,i,a,o){var s="left",l="top",u=n[0],c=n[1];return i==="horizontal"?(c=c+o,r&&(s="center"),a==="start"&&(l="bottom")):(u=u+o,r&&(l="middle"),a==="start"&&(s="right")),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderMonthText=function(n,r,i,a){var o=n.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),u=o.get("position"),c=o.get("align"),f=[this._tlpoints,this._blpoints];(!s||An(s))&&(s&&(r=FV(s)||r),s=r.get(["time","monthAbbr"])||[]);var d=u==="start"?0:1,h=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var p=c==="center",v=0;v<f[d].length-1;v++){var g=f[d][v].slice(),m=this._firstDayOfMonth[v];if(p){var b=this._firstDayPoints[v];g[h]=(b[h]+f[0][v+1][h])/2}var _=o.get("formatter"),x=s[+m.m-1],E={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:x},A=this._formatterLabel(_,E),T=new pi({z2:30,style:Ct(ha(o,{text:A}),this._monthTextPositionControl(g,p,i,u,l))});a.add(T)}}},t.prototype._weekTextPositionControl=function(n,r,i,a,o){var s="center",l="middle",u=n[0],c=n[1],f=i==="start";return r==="horizontal"?(u=u+a+(f?1:-1)*o[0]/2,s=f?"right":"left"):(c=c+a+(f?1:-1)*o[1]/2,l=f?"bottom":"top"),{x:u,y:c,align:s,verticalAlign:l}},t.prototype._renderWeekText=function(n,r,i,a,o){var s=n.getModel("dayLabel");if(s.get("show")){var l=n.coordinateSystem,u=s.get("position"),c=s.get("nameMap"),f=s.get("margin"),d=l.getFirstDayOfWeek();if(!c||An(c)){c&&(r=FV(c)||r);var h=r.get(["time","dayOfWeekShort"]);c=h||Vt(r.get(["time","dayOfWeekAbbr"]),function(E){return E[0]})}var p=l.getNextNDay(i.end.time,7-i.lweek).time,v=[l.getCellWidth(),l.getCellHeight()];f=vn(f,Math.min(v[1],v[0])),u==="start"&&(p=l.getNextNDay(i.start.time,-(7+i.fweek)).time,f=-f);for(var g=0;g<7;g++){var m=l.getNextNDay(p,g),b=l.dataToRect([m.time],!1).center,_=g;_=Math.abs((g+d)%7);var x=new pi({z2:30,style:Ct(ha(s,{text:c[_]}),this._weekTextPositionControl(b,a,u,f,v))});o.add(x)}}},t.type="calendar",t}(Ba),A6=864e5,Ibt=function(){function e(t,n,r){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(t){t=ah(t);var n=t.getFullYear(),r=t.getMonth()+1,i=r<10?"0"+r:""+r,a=t.getDate(),o=a<10?"0"+a:""+a,s=t.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:n+"",m:i,d:o,day:s,time:t.getTime(),formatedDate:n+"-"+i+"-"+o,date:t}},e.prototype.getNextNDay=function(t,n){return n=n||0,n===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+n),this.getDateInfo(t))},e.prototype.update=function(t,n){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s=this._orient==="horizontal"?[r,7]:[7,r];te([0,1],function(f){c(a,f)&&(o[i[f]]=a[f]*s[f])});var l={width:n.getWidth(),height:n.getHeight()},u=this._rect=$o(o,l);te([0,1],function(f){c(a,f)||(a[f]=u[i[f]]/s[f])});function c(f,d){return f[d]!=null&&f[d]!=="auto"}this._sw=a[0],this._sh=a[1]},e.prototype.dataToPoint=function(t,n){Lt(t)&&(t=t[0]),n==null&&(n=!0);var r=this.getDateInfo(t),i=this._rangeInfo,a=r.formatedDate;if(n&&!(r.time>=i.start.time&&r.time<i.end.time+A6))return[NaN,NaN];var o=r.day,s=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},e.prototype.pointToData=function(t){var n=this.pointToDate(t);return n&&n.time},e.prototype.dataToRect=function(t,n){var r=this.dataToPoint(t,n);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},e.prototype.pointToDate=function(t){var n=Math.floor((t[0]-this._rect.x)/this._sw)+1,r=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(r,n-1,i):this._getDateByWeeksAndDay(n,r-1,i)},e.prototype.convertToPixel=function(t,n,r){var i=cre(n);return i===this?i.dataToPoint(r):null},e.prototype.convertFromPixel=function(t,n,r){var i=cre(n);return i===this?i.pointToData(r):null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var t=this._model.get("range"),n;if(Lt(t)&&t.length===1&&(t=t[0]),Lt(t))n=t;else{var r=t.toString();if(/^\d{4}$/.test(r)&&(n=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),a=i.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);n=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(n=[r,r])}if(!n)return t;var s=this._getRangeInfo(n);return s.start.time>s.end.time&&n.reverse(),n},e.prototype._getRangeInfo=function(t){var n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],r;n[0].time>n[1].time&&(r=!0,n.reverse());var i=Math.floor(n[1].time/A6)-Math.floor(n[0].time/A6)+1,a=new Date(n[0].time),o=a.getDate(),s=n[1].date.getDate();a.setDate(o+i-1);var l=a.getDate();if(l!==s)for(var u=a.getTime()-n[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-n[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+n[0].day+6)/7),f=r?-c+1:c-1;return r&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:i,weeks:c,nthWeek:f,fweek:n[0].day,lweek:n[1].day}},e.prototype._getDateByWeeksAndDay=function(t,n,r){var i=this._getRangeInfo(r);if(t>i.weeks||t===0&&n<i.fweek||t===i.weeks&&n>i.lweek)return null;var a=(t-1)*7-i.fweek+n,o=new Date(i.start.time);return o.setDate(+i.start.d+a),this.getDateInfo(o)},e.create=function(t,n){var r=[];return t.eachComponent("calendar",function(i){var a=new e(i);r.push(a),i.coordinateSystem=a}),t.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},e.dimensions=["time","value"],e}();function cre(e){var t=e.calendarModel,n=e.seriesModel,r=t?t.coordinateSystem:n?n.coordinateSystem:null;return r}function Mbt(e){e.registerComponentModel(Cbt),e.registerComponentView(Rbt),e.registerCoordinateSystem("calendar",Ibt)}function Obt(e,t){var n=e.existing;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),t.parentId==null){var r=t.parentOption;r?t.parentId=r.id:n&&(t.parentId=n.parentId)}t.parentOption=null}function fre(e,t){var n;return te(t,function(r){e[r]!=null&&e[r]!=="auto"&&(n=!0)}),n}function Dbt(e,t,n){var r=Ct({},n),i=e[t],a=n.$action||"merge";a==="merge"?i?(wr(i,r,!0),$g(i,r,{ignoreSize:!0}),P1e(n,i),dI(n,i),dI(n,i,"shape"),dI(n,i,"style"),dI(n,i,"extra"),n.clipPath=i.clipPath):e[t]=r:a==="replace"?e[t]=r:a==="remove"&&i&&(e[t]=null)}var zAe=["transition","enterFrom","leaveTo"],Pbt=zAe.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function dI(e,t,n){if(n&&(!e[n]&&t[n]&&(e[n]={}),e=e[n],t=t[n]),!(!e||!t))for(var r=n?zAe:Pbt,i=0;i<r.length;i++){var a=r[i];e[a]==null&&t[a]!=null&&(e[a]=t[a])}}function Lbt(e,t){if(e&&(e.hv=t.hv=[fre(t,["left","right"]),fre(t,["top","bottom"])],e.type==="group")){var n=e,r=t;n.width==null&&(n.width=r.width=0),n.height==null&&(n.height=r.height=0)}}var Nbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return t.prototype.mergeOption=function(n,r){var i=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,n,r),this.option.elements=i},t.prototype.optionUpdated=function(n,r){var i=this.option,a=(r?i:n).elements,o=i.elements=r?[]:i.elements,s=[];this._flatten(a,s,null);var l=I_e(o,s,"normalMerge"),u=this._elOptionsToUpdate=[];te(l,function(c,f){var d=c.newOption;d&&(u.push(d),Obt(c,d),Dbt(o,f,d),Lbt(o[f],d))},this),i.elements=Xi(o,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(n,r,i){te(n,function(a){if(a){i&&(a.parentOption=i),r.push(a);var o=a.children;o&&o.length&&this._flatten(o,r,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var n=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,n},t.type="graphic",t.defaultOption={elements:[]},t}(Qr),dre={path:null,compoundPath:null,group:hr,image:ms,text:pi},_c=ui(),Bbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this._elMap=Fn()},t.prototype.render=function(n,r,i){n!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=n,this._updateElements(n),this._relocate(n,i)},t.prototype._updateElements=function(n){var r=n.useElOptionsToUpdate();if(r){var i=this._elMap,a=this.group,o=n.get("z"),s=n.get("zlevel");te(r,function(l){var u=Uo(l.id,null),c=u!=null?i.get(u):null,f=Uo(l.parentId,null),d=f!=null?i.get(f):a,h=l.type,p=l.style;h==="text"&&p&&l.hv&&l.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var v=l.textContent,g=l.textConfig;if(p&&xAe(p,h,!!g,!!v)){var m=SAe(p,h,!0);!g&&m.textConfig&&(g=l.textConfig=m.textConfig),!v&&m.textContent&&(v=m.textContent)}var b=kbt(l),_=l.$action||"merge",x=_==="merge",E=_==="replace";if(x){var A=!c,T=c;A?T=hre(u,d,l.type,i):(T&&(_c(T).isNew=!1),wAe(T)),T&&(N3(T,b,n,{isInit:A}),pre(T,l,o,s))}else if(E){F3(c,l,i,n);var R=hre(u,d,l.type,i);R&&(N3(R,b,n,{isInit:!0}),pre(R,l,o,s))}else _==="remove"&&(EAe(c,l),F3(c,l,i,n));var M=i.get(u);if(M&&v)if(x){var O=M.getTextContent();O?O.attr(v):M.setTextContent(new pi(v))}else E&&M.setTextContent(new pi(v));if(M){var D=l.clipPath;if(D){var C=D.type,P=void 0,A=!1;if(x){var B=M.getClipPath();A=!B||_c(B).type!==C,P=A?O9(C):B}else E&&(A=!0,P=O9(C));M.setClipPath(P),N3(P,D,n,{isInit:A}),gO(P,D.keyframeAnimation,n)}var U=_c(M);M.setTextConfig(g),U.option=l,Fbt(M,n,l),Nx({el:M,componentModel:n,itemName:M.name,itemTooltipOption:l.tooltip}),gO(M,l.keyframeAnimation,n)}})}},t.prototype._relocate=function(n,r){for(var i=n.option.elements,a=this.group,o=this._elMap,s=r.getWidth(),l=r.getHeight(),u=["x","y"],c=0;c<i.length;c++){var f=i[c],d=Uo(f.id,null),h=d!=null?o.get(d):null;if(!(!h||!h.isGroup)){var p=h.parent,v=p===a,g=_c(h),m=_c(p);g.width=vn(g.option.width,v?s:m.width)||0,g.height=vn(g.option.height,v?l:m.height)||0}}for(var c=i.length-1;c>=0;c--){var f=i[c],d=Uo(f.id,null),h=d!=null?o.get(d):null;if(h){var p=h.parent,m=_c(p),b=p===a?{width:s,height:l}:{width:m.width,height:m.height},_={},x=RP(h,f,b,null,{hv:f.hv,boundingMode:f.bounding},_);if(!_c(h).isNew&&x){for(var E=f.transition,A={},T=0;T<u.length;T++){var R=u[T],M=_[R];E&&(ry(E)||Ur(E,R)>=0)?A[R]=M:h[R]=M}Si(h,A,n,0)}else h.attr(_)}}},t.prototype._clear=function(){var n=this,r=this._elMap;r.each(function(i){F3(i,_c(i).option,r,n._lastGraphicModel)}),this._elMap=Fn()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Ba);function O9(e){var t=Dn(dre,e)?dre[e]:SW(e),n=new t({});return _c(n).type=e,n}function hre(e,t,n,r){var i=O9(n);return t.add(i),r.set(e,i),_c(i).id=e,_c(i).isNew=!0,i}function F3(e,t,n,r){var i=e&&e.parent;i&&(e.type==="group"&&e.traverse(function(a){F3(a,t,n,r)}),WP(e,t,r),n.removeKey(_c(e).id))}function pre(e,t,n,r){e.isGroup||te([["cursor",Uc.prototype.cursor],["zlevel",r||0],["z",n||0],["z2",0]],function(i){var a=i[0];Dn(t,a)?e[a]=Sr(t[a],i[1]):e[a]==null&&(e[a]=i[1])}),te(Jr(t),function(i){if(i.indexOf("on")===0){var a=t[i];e[i]=er(a)?a:null}}),Dn(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function kbt(e){return e=Ct({},e),te(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(D1e),function(t){delete e[t]}),e}function Fbt(e,t,n){var r=gr(e).eventData;!e.silent&&!e.ignore&&!r&&(r=gr(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),r&&(r.info=n.info)}function Ubt(e){e.registerComponentModel(Nbt),e.registerComponentView(Bbt),e.registerPreprocessor(function(t){var n=t.graphic;Lt(n)?!n[0]||!n[0].elements?t.graphic=[{elements:n}]:t.graphic=[t.graphic[0]]:n&&!n.elements&&(t.graphic=[{elements:[n]}])})}var vre=["x","y","radius","angle","single"],Vbt=["cartesian2d","polar","singleAxis"];function zbt(e){var t=e.get("coordinateSystem");return Ur(Vbt,t)>=0}function hg(e){return e+"Axis"}function $bt(e,t){var n=Fn(),r=[],i=Fn();e.eachComponent({mainType:"dataZoom",query:t},function(c){i.get(c.uid)||s(c)});var a;do a=!1,e.eachComponent("dataZoom",o);while(a);function o(c){!i.get(c.uid)&&l(c)&&(s(c),a=!0)}function s(c){i.set(c.uid,!0),r.push(c),u(c)}function l(c){var f=!1;return c.eachTargetAxis(function(d,h){var p=n.get(d);p&&p[h]&&(f=!0)}),f}function u(c){c.eachTargetAxis(function(f,d){(n.get(f)||n.set(f,[]))[d]=!0})}return r}function $Ae(e){var t=e.ecModel,n={infoList:[],infoMap:Fn()};return e.eachTargetAxis(function(r,i){var a=t.getComponent(hg(r),i);if(a){var o=a.getCoordSysModel();if(o){var s=o.uid,l=n.infoMap.get(s);l||(l={model:o,axisModels:[]},n.infoList.push(l),n.infoMap.set(s,l)),l.axisModels.push(a)}}}),n}var E6=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e}(),yT=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return t.prototype.init=function(n,r,i){var a=gre(n);this.settledOption=a,this.mergeDefaultAndTheme(n,i),this._doInit(a)},t.prototype.mergeOption=function(n){var r=gre(n);wr(this.option,n,!0),wr(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(n){var r=this.option;this._setDefaultThrottle(n),this._updateRangeUse(n);var i=this.settledOption;te([["start","startValue"],["end","endValue"]],function(a,o){this._rangePropMode[o]==="value"&&(r[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var n=this.get("orient",!0),r=this._targetAxisInfoMap=Fn(),i=this._fillSpecifiedTargetAxis(r);i?this._orient=n||this._makeAutoOrientByTargetAxis():(this._orient=n||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(n){var r=!1;return te(vre,function(i){var a=this.getReferringComponents(hg(i),Lot);if(a.specified){r=!0;var o=new E6;te(a.models,function(s){o.add(s.componentIndex)}),n.set(i,o)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(n,r){var i=this.ecModel,a=!0;if(a){var o=r==="vertical"?"y":"x",s=i.findComponents({mainType:o+"Axis"});l(s,o)}if(a){var s=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===r}});l(s,"single")}function l(u,c){var f=u[0];if(f){var d=new E6;if(d.add(f.componentIndex),n.set(c,d),a=!1,c==="x"||c==="y"){var h=f.getReferringComponents("grid",wo).models[0];h&&te(u,function(p){f.componentIndex!==p.componentIndex&&h===p.getReferringComponents("grid",wo).models[0]&&d.add(p.componentIndex)})}}}a&&te(vre,function(u){if(a){var c=i.findComponents({mainType:hg(u),filter:function(d){return d.get("type",!0)==="category"}});if(c[0]){var f=new E6;f.add(c[0].componentIndex),n.set(u,f),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var n;return this.eachTargetAxis(function(r){!n&&(n=r)},this),n==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(n){if(n.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(n){var r=this._rangePropMode,i=this.get("rangeMode");te([["start","startValue"],["end","endValue"]],function(a,o){var s=n[a[0]]!=null,l=n[a[1]]!=null;s&&!l?r[o]="percent":!s&&l?r[o]="value":i?r[o]=i[o]:s&&(r[o]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var n;return this.eachTargetAxis(function(r,i){n==null&&(n=this.ecModel.getComponent(hg(r),i))},this),n},t.prototype.eachTargetAxis=function(n,r){this._targetAxisInfoMap.each(function(i,a){te(i.indexList,function(o){n.call(r,a,o)})})},t.prototype.getAxisProxy=function(n,r){var i=this.getAxisModel(n,r);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(n,r){var i=this._targetAxisInfoMap.get(n);if(i&&i.indexMap[r])return this.ecModel.getComponent(hg(n),r)},t.prototype.setRawRange=function(n){var r=this.option,i=this.settledOption;te([["start","startValue"],["end","endValue"]],function(a){(n[a[0]]!=null||n[a[1]]!=null)&&(r[a[0]]=i[a[0]]=n[a[0]],r[a[1]]=i[a[1]]=n[a[1]])},this),this._updateRangeUse(n)},t.prototype.setCalculatedRange=function(n){var r=this.option;te(["start","startValue","end","endValue"],function(i){r[i]=n[i]})},t.prototype.getPercentRange=function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},t.prototype.getValueRange=function(n,r){if(n==null&&r==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(n,r).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(n){if(n)return n.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var o=i[a],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var u=this.getAxisProxy(o,s.indexList[l]);if(u.hostedBy(this))return u;r||(r=u)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Qr);function gre(e){var t={};return te(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var Hbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(yT),WG=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i,a){this.dataZoomModel=n,this.ecModel=r,this.api=i},t.type="dataZoom",t}(Ba),Wbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.select",t}(WG),I1=te,mre=Mc,Gbt=function(){function e(t,n,r,i){this._dimName=t,this._axisIndex=n,this.ecModel=i,this._dataZoomModel=r}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(n){if(zbt(n)){var r=hg(this._dimName),i=n.getReferringComponents(r,wo).models[0];i&&this._axisIndex===i.componentIndex&&t.push(n)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return sr(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var n=this._dataExtent,r=this.getAxisModel(),i=r.axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[],u;I1(["start","end"],function(d,h){var p=t[d],v=t[d+"Value"];a[h]==="percent"?(p==null&&(p=o[h]),v=i.parse(Wi(p,o,n))):(u=!0,v=v==null?n[h]:i.parse(v),p=Wi(v,n,o)),l[h]=v==null||isNaN(v)?n[h]:v,s[h]=p==null||isNaN(p)?o[h]:p}),mre(l),mre(s);var c=this._minMaxSpan;u?f(l,s,n,o,!1):f(s,l,o,n,!0);function f(d,h,p,v,g){var m=g?"Span":"ValueSpan";Gy(0,d,p,"all",c["min"+m],c["max"+m]);for(var b=0;b<2;b++)h[b]=Wi(d[b],p,v,!0),g&&(h[b]=i.parse(h[b]))}return{valueWindow:l,percentWindow:s}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=jbt(this,this._dimName,n),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,n){if(t!==this._dataZoomModel)return;var r=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),o=this._valueWindow;if(a==="none")return;I1(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(r);if(c.length){if(a==="weakFilter"){var f=u.getStore(),d=Vt(c,function(h){return u.getDimensionIndex(h)},u);u.filterSelf(function(h){for(var p,v,g,m=0;m<c.length;m++){var b=f.get(d[m],h),_=!isNaN(b),x=b<o[0],E=b>o[1];if(_&&!x&&!E)return!0;_&&(g=!0),x&&(p=!0),E&&(v=!0)}return g&&p&&v})}else I1(c,function(h){if(a==="empty")l.setData(u=u.map(h,function(v){return s(v)?v:NaN}));else{var p={};p[h]=o,u.selectRange(p)}});I1(c,function(h){u.setApproximateExtent(o,h)})}});function s(l){return l>=o[0]&&l<=o[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},n=this._dataZoomModel,r=this._dataExtent;I1(["min","max"],function(i){var a=n.get(i+"Span"),o=n.get(i+"ValueSpan");o!=null&&(o=this.getAxisModel().axis.scale.parse(o)),o!=null?a=Wi(r[0]+o,r,[0,100],!0):a!=null&&(o=Wi(a,[0,100],r,!0)-r[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=o},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),n=this._percentWindow,r=this._valueWindow;if(n){var i=x_e(r,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;n[0]!==0&&a.setDeterminedMinMax("min",+r[0].toFixed(i)),n[1]!==100&&a.setDeterminedMinMax("max",+r[1].toFixed(i)),a.freeze()}},e}();function jbt(e,t,n){var r=[1/0,-1/0];I1(n,function(o){Tdt(r,o.getData(),t)});var i=e.getAxisModel(),a=oxe(i.axis.scale,i,r).calculate();return[a.min,a.max]}var Ybt={getTargetSeries:function(e){function t(i){e.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var l=e.getComponent(hg(o),s);i(o,s,l,a)})})}t(function(i,a,o,s){o.__dzAxisProxy=null});var n=[];t(function(i,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new Gbt(i,a,s,e),n.push(o.__dzAxisProxy))});var r=Fn();return te(n,function(i){te(i.getTargetSeriesModels(),function(a){r.set(a.uid,a)})}),r},overallReset:function(e,t){e.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(r,i){n.getAxisProxy(r,i).reset(n)}),n.eachTargetAxis(function(r,i){n.getAxisProxy(r,i).filterData(n,t)})}),e.eachComponent("dataZoom",function(n){var r=n.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),a=r.getDataValueWindow();n.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function Xbt(e){e.registerAction("dataZoom",function(t,n){var r=$bt(n,t);te(r,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var yre=!1;function GG(e){yre||(yre=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,Ybt),Xbt(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Kbt(e){e.registerComponentModel(Hbt),e.registerComponentView(Wbt),GG(e)}var Ac=function(){function e(){}return e}(),HAe={};function M1(e,t){HAe[e]=t}function WAe(e){return HAe[e]}var qbt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;te(this.option.feature,function(r,i){var a=WAe(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(n)),wr(r,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Qr);function Zbt(e,t,n){var r=t.getBoxLayoutParams(),i=t.get("padding"),a={width:n.getWidth(),height:n.getHeight()},o=$o(r,a,i);ty(t.get("orient"),e,t.get("itemGap"),o.width,o.height),RP(e,r,a,i)}function GAe(e,t){var n=Fx(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),e=new si({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1}),e}var Qbt=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r,i,a){var o=this.group;if(o.removeAll(),!n.get("show"))return;var s=+n.get("itemSize"),l=n.get("orient")==="vertical",u=n.get("feature")||{},c=this._features||(this._features={}),f=[];te(u,function(p,v){f.push(v)}),new Dp(this._featureNames||[],f).add(d).update(d).remove(Tr(d,null)).execute(),this._featureNames=f;function d(p,v){var g=f[p],m=f[v],b=u[g],_=new zi(b,n,n.ecModel),x;if(a&&a.newTitle!=null&&a.featureName===g&&(b.title=a.newTitle),g&&!m){if(Jbt(g))x={onclick:_.option.onclick,featureName:g};else{var E=WAe(g);if(!E)return;x=new E}c[g]=x}else if(x=c[m],!x)return;x.uid=kx("toolbox-feature"),x.model=_,x.ecModel=r,x.api=i;var A=x instanceof Ac;if(!g&&m){A&&x.dispose&&x.dispose(r,i);return}if(!_.get("show")||A&&x.unusable){A&&x.remove&&x.remove(r,i);return}h(_,x,g),_.setIconStatus=function(T,R){var M=this.option,O=this.iconPaths;M.iconStatus=M.iconStatus||{},M.iconStatus[T]=R,O[T]&&(R==="emphasis"?Mp:Op)(O[T])},x instanceof Ac&&x.render&&x.render(_,r,i,a)}function h(p,v,g){var m=p.getModel("iconStyle"),b=p.getModel(["emphasis","iconStyle"]),_=v instanceof Ac&&v.getIcons?v.getIcons():p.get("icon"),x=p.get("title")||{},E,A;An(_)?(E={},E[g]=_):E=_,An(x)?(A={},A[g]=x):A=x;var T=p.iconPaths={};te(E,function(R,M){var O=fw(R,{},{x:-s/2,y:-s/2,width:s,height:s});O.setStyle(m.getItemStyle());var D=O.ensureState("emphasis");D.style=b.getItemStyle();var C=new pi({style:{text:A[M],align:b.get("textAlign"),borderRadius:b.get("textBorderRadius"),padding:b.get("textPadding"),fill:null,font:AW({fontStyle:b.get("textFontStyle"),fontFamily:b.get("textFontFamily"),fontSize:b.get("textFontSize"),fontWeight:b.get("textFontWeight")},r)},ignore:!0});O.setTextContent(C),Nx({el:O,componentModel:n,itemName:M,formatterParamsExtra:{title:A[M]}}),O.__title=A[M],O.on("mouseover",function(){var P=b.getItemStyle(),B=l?n.get("right")==null&&n.get("left")!=="right"?"right":"left":n.get("bottom")==null&&n.get("top")!=="bottom"?"bottom":"top";C.setStyle({fill:b.get("textFill")||P.fill||P.stroke||"#000",backgroundColor:b.get("textBackgroundColor")}),O.setTextConfig({position:b.get("textPosition")||B}),C.ignore=!n.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",M])!=="emphasis"&&i.leaveEmphasis(this),C.hide()}),(p.get(["iconStatus",M])==="emphasis"?Mp:Op)(O),o.add(O),O.on("click",Rn(v.onclick,v,r,i,M)),T[M]=O})}Zbt(o,n,i),o.add(GAe(o.getBoundingRect(),n)),l||o.eachChild(function(p){var v=p.__title,g=p.ensureState("emphasis"),m=g.textConfig||(g.textConfig={}),b=p.getTextContent(),_=b&&b.ensureState("emphasis");if(_&&!er(_)&&v){var x=_.style||(_.style={}),E=aw(v,pi.makeFont(x)),A=p.x+o.x,T=p.y+o.y+s,R=!1;T+E.height>i.getHeight()&&(m.position="top",R=!0);var M=R?-5-E.height:s+10;A+E.width/2>i.getWidth()?(m.position=["100%",M],x.align="right"):A-E.width/2<0&&(m.position=[0,M],x.align="left")}})},t.prototype.updateView=function(n,r,i,a){te(this._features,function(o){o instanceof Ac&&o.updateView&&o.updateView(o.model,r,i,a)})},t.prototype.remove=function(n,r){te(this._features,function(i){i instanceof Ac&&i.remove&&i.remove(n,r)}),this.group.removeAll()},t.prototype.dispose=function(n,r){te(this._features,function(i){i instanceof Ac&&i.dispose&&i.dispose(n,r)})},t.type="toolbox",t}(Ba);function Jbt(e){return e.indexOf("my")===0}var ext=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,r){var i=this.model,a=i.get("name")||n.get("title.0.text")||"echarts",o=r.getZr().painter.getType()==="svg",s=o?"svg":i.get("type",!0)||"png",l=r.getConnectedDataURL({type:s,backgroundColor:i.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=qr.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+s,c.target="_blank",c.href=l;var f=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(f)}else if(window.navigator.msSaveOrOpenBlob||o){var d=l.split(","),h=d[0].indexOf("base64")>-1,p=o?decodeURIComponent(d[1]):d[1];h&&(p=window.atob(p));var v=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var g=p.length,m=new Uint8Array(g);g--;)m[g]=p.charCodeAt(g);var b=new Blob([m]);window.navigator.msSaveOrOpenBlob(b,v)}else{var _=document.createElement("iframe");document.body.appendChild(_);var x=_.contentWindow,E=x.document;E.open("image/svg+xml","replace"),E.write(p),E.close(),x.focus(),E.execCommand("SaveAs",!0,v),document.body.removeChild(_)}}else{var A=i.get("lang"),T='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(A&&A[0]||"")+'" /></body>',R=window.open();R.document.write(T),R.document.title=a}},t.getDefaultOption=function(n){var r={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:n.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:n.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return r},t}(Ac),_re="__ec_magicType_stack__",txt=[["line","bar"],["stack"]],nxt=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getIcons=function(){var n=this.model,r=n.get("icon"),i={};return te(n.get("type"),function(a){r[a]&&(i[a]=r[a])}),i},t.getDefaultOption=function(n){var r={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:n.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return r},t.prototype.onclick=function(n,r,i){var a=this.model,o=a.get(["seriesIndex",i]);if(bre[i]){var s={series:[]},l=function(f){var d=f.subType,h=f.id,p=bre[i](d,h,f,a);p&&(tr(p,f.option),s.series.push(p));var v=f.coordinateSystem;if(v&&v.type==="cartesian2d"&&(i==="line"||i==="bar")){var g=v.getAxesByScale("ordinal")[0];if(g){var m=g.dim,b=m+"Axis",_=f.getReferringComponents(b,wo).models[0],x=_.componentIndex;s[b]=s[b]||[];for(var E=0;E<=x;E++)s[b][x]=s[b][x]||{};s[b][x].boundaryGap=i==="bar"}}};te(txt,function(f){Ur(f,i)>=0&&te(f,function(d){a.setIconStatus(d,"normal")})}),a.setIconStatus(i,"emphasis"),n.eachComponent({mainType:"series",query:o==null?null:{seriesIndex:o}},l);var u,c=i;i==="stack"&&(u=wr({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),r.dispatchAction({type:"changeMagicType",currentType:c,newOption:s,newTitle:u,featureName:"magicType"})}},t}(Ac),bre={line:function(e,t,n,r){if(e==="bar")return wr({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(e,t,n,r){if(e==="line")return wr({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(e,t,n,r){var i=n.get("stack")===_re;if(e==="line"||e==="bar")return r.setIconStatus("stack",i?"normal":"emphasis"),wr({id:t,stack:i?"":_re},r.get(["option","stack"])||{},!0)}};ph({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var GP=new Array(60).join("-"),Jb="	";function rxt(e){var t={},n=[],r=[];return e.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var o=a.getBaseAxis();if(o.type==="category"){var s=o.dim+"_"+o.index;t[s]||(t[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),t[s].series.push(i)}else n.push(i)}else n.push(i)}),{seriesGroupByCategoryAxis:t,other:n,meta:r}}function ixt(e){var t=[];return te(e,function(n,r){var i=n.categoryAxis,a=n.valueAxis,o=a.dim,s=[" "].concat(Vt(n.series,function(h){return h.name})),l=[i.model.getCategories()];te(n.series,function(h){var p=h.getRawData();l.push(h.getRawData().mapArray(p.mapDimension(o),function(v){return v}))});for(var u=[s.join(Jb)],c=0;c<l[0].length;c++){for(var f=[],d=0;d<l.length;d++)f.push(l[d][c]);u.push(f.join(Jb))}t.push(u.join(`
`))}),t.join(`

`+GP+`

`)}function axt(e){return Vt(e,function(t){var n=t.getRawData(),r=[t.name],i=[];return n.each(n.dimensions,function(){for(var a=arguments.length,o=arguments[a-1],s=n.getName(o),l=0;l<a-1;l++)i[l]=arguments[l];r.push((s?s+Jb:"")+i.join(Jb))}),r.join(`
`)}).join(`

`+GP+`

`)}function oxt(e){var t=rxt(e);return{value:Xi([ixt(t.seriesGroupByCategoryAxis),axt(t.other)],function(n){return!!n.replace(/[\n\t\s]/g,"")}).join(`

`+GP+`

`),meta:t.meta}}function _O(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function sxt(e){var t=e.slice(0,e.indexOf(`
`));if(t.indexOf(Jb)>=0)return!0}var D9=new RegExp("["+Jb+"]+","g");function lxt(e){for(var t=e.split(/\n+/g),n=_O(t.shift()).split(D9),r=[],i=Vt(n,function(l){return{name:l,data:[]}}),a=0;a<t.length;a++){var o=_O(t[a]).split(D9);r.push(o.shift());for(var s=0;s<o.length;s++)i[s]&&(i[s].data[a]=o[s])}return{series:i,categories:r}}function uxt(e){for(var t=e.split(/\n+/g),n=_O(t.shift()),r=[],i=0;i<t.length;i++){var a=_O(t[i]);if(a){var o=a.split(D9),s="",l=void 0,u=!1;isNaN(o[0])?(u=!0,s=o[0],o=o.slice(1),r[i]={name:s,value:[]},l=r[i].value):l=r[i]=[];for(var c=0;c<o.length;c++)l.push(+o[c]);l.length===1&&(u?r[i].value=l[0]:r[i]=l[0])}}return{name:n,data:r}}function cxt(e,t){var n=e.split(new RegExp(`
*`+GP+`
*`,"g")),r={series:[]};return te(n,function(i,a){if(sxt(i)){var o=lxt(i),s=t[a],l=s.axisDim+"Axis";s&&(r[l]=r[l]||[],r[l][s.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else{var o=uxt(i);r.series.push(o)}}),r}var fxt=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var f=a.get("optionToContent"),d=a.get("contentToOption"),h=oxt(n);if(er(f)){var p=f(r.getOption());An(p)?u.innerHTML=p:Hb(p)&&u.appendChild(p)}else{c.readOnly=a.get("readOnly");var v=c.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=a.get("textColor"),v.borderColor=a.get("textareaBorderColor"),v.backgroundColor=a.get("textareaColor"),c.value=h.value,u.appendChild(c)}var g=h.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var b="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),x=document.createElement("div");b+=";background-color:"+a.get("buttonColor"),b+=";color:"+a.get("buttonTextColor");var E=this;function A(){i.removeChild(o),E._dom=null}cV(_,"click",A),cV(x,"click",function(){if(d==null&&f!=null||d!=null&&f==null){A();return}var T;try{er(d)?T=d(u,r.getOption()):T=cxt(c.value,g)}catch(R){throw A(),new Error("Data view format error "+R)}T&&r.dispatchAction({type:"changeDataView",newOption:T}),A()}),_.innerHTML=l[1],x.innerHTML=l[2],x.style.cssText=_.style.cssText=b,!a.get("readOnly")&&m.appendChild(x),m.appendChild(_),o.appendChild(s),o.appendChild(u),o.appendChild(m),u.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},t.prototype.remove=function(n,r){this._dom&&r.getDom().removeChild(this._dom)},t.prototype.dispose=function(n,r){this.remove(n,r)},t.getDefaultOption=function(n){var r={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:n.getLocaleModel().get(["toolbox","dataView","title"]),lang:n.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return r},t}(Ac);function dxt(e,t){return Vt(e,function(n,r){var i=t&&t[r];if(ar(i)&&!Lt(i)){var a=ar(n)&&!Lt(n);a||(n={value:n});var o=i.name!=null&&n.name==null;return n=tr(n,i),o&&delete n.name,n}else return n})}ph({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];te(e.newOption.series,function(r){var i=t.getSeriesByName(r.name)[0];if(!i)n.push(Ct({type:"scatter"},r));else{var a=i.get("data");n.push({name:r.name,data:dxt(r.data,a)})}}),t.mergeOption(tr({series:n},e.newOption))});var jAe=te,YAe=ui();function hxt(e,t){var n=jG(e);jAe(t,function(r,i){for(var a=n.length-1;a>=0;a--){var o=n[a];if(o[i])break}if(a<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var l=s.getPercentRange();n[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),n.push(t)}function pxt(e){var t=jG(e),n=t[t.length-1];t.length>1&&t.pop();var r={};return jAe(n,function(i,a){for(var o=t.length-1;o>=0;o--)if(i=t[o][a],i){r[a]=i;break}}),r}function vxt(e){YAe(e).snapshots=null}function gxt(e){return jG(e).length}function jG(e){var t=YAe(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var mxt=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(n,r){vxt(n),r.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(n){var r={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:n.getLocaleModel().get(["toolbox","restore","title"])};return r},t}(Ac);ph({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var yxt=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],YG=function(){function e(t,n,r){var i=this;this._targetInfoList=[];var a=xre(n,t);te(_xt,function(o,s){(!r||!r.include||Ur(r.include,s)>=0)&&o(a,i._targetInfoList)})}return e.prototype.setOutputRanges=function(t,n){return this.matchOutputRanges(t,n,function(r,i,a){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var o=T6[r.brushType](0,a,i);r.__rangeOffset={offset:Tre[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},e.prototype.matchOutputRanges=function(t,n,r){te(t,function(i){var a=this.findTargetInfo(i,n);a&&a!==!0&&te(a.coordSyses,function(o){var s=T6[i.brushType](1,o,i.range,!0);r(i,s.values,o,n)})},this)},e.prototype.setInputRanges=function(t,n){te(t,function(r){var i=this.findTargetInfo(r,n);if(r.range=r.range||[],i&&i!==!0){r.panelId=i.panelId;var a=T6[r.brushType](0,i.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?Tre[r.brushType](a.values,o.offset,bxt(a.xyMinMax,o.xyMinMax)):a.values}},this)},e.prototype.makePanelOpts=function(t,n){return Vt(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:n?n(r):null,clipPath:tAe(i),isTargetByCursor:rAe(i,t,r.coordSysModel),getLinearBrushOtherExtent:nAe(i)}})},e.prototype.controlSeries=function(t,n,r){var i=this.findTargetInfo(t,r);return i===!0||i&&Ur(i.coordSyses,n.coordinateSystem)>=0},e.prototype.findTargetInfo=function(t,n){for(var r=this._targetInfoList,i=xre(n,t),a=0;a<r.length;a++){var o=r[a],s=t.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<Sre.length;l++)if(Sre[l](i,o))return o}return!0},e}();function P9(e){return e[0]>e[1]&&e.reverse(),e}function xre(e,t){return QE(e,t,{includeMainTypes:yxt})}var _xt={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,i=e.gridModels,a=Fn(),o={},s={};!n&&!r&&!i||(te(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),te(r,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),te(i,function(l){a.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];te(u.getCartesians(),function(f,d){(Ur(n,f.getAxis("x").model)>=0||Ur(r,f.getAxis("y").model)>=0)&&c.push(f)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:Are.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(e,t){te(e.geoModels,function(n){var r=n.coordinateSystem;t.push({panelId:"geo--"+n.id,geoModel:n,coordSysModel:n,coordSys:r,coordSyses:[r],getPanelRect:Are.geo})})}},Sre=[function(e,t){var n=e.xAxisModel,r=e.yAxisModel,i=e.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],Are={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(ey(e)),t}},T6={lineX:Tr(Ere,0),lineY:Tr(Ere,1),rect:function(e,t,n,r){var i=e?t.pointToData([n[0][0],n[1][0]],r):t.dataToPoint([n[0][0],n[1][0]],r),a=e?t.pointToData([n[0][1],n[1][1]],r):t.dataToPoint([n[0][1],n[1][1]],r),o=[P9([i[0],a[0]]),P9([i[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(e,t,n,r){var i=[[1/0,-1/0],[1/0,-1/0]],a=Vt(n,function(o){var s=e?t.pointToData(o,r):t.dataToPoint(o,r);return i[0][0]=Math.min(i[0][0],s[0]),i[1][0]=Math.min(i[1][0],s[1]),i[0][1]=Math.max(i[0][1],s[0]),i[1][1]=Math.max(i[1][1],s[1]),s});return{values:a,xyMinMax:i}}};function Ere(e,t,n,r){var i=n.getAxis(["x","y"][e]),a=P9(Vt([0,1],function(s){return t?i.coordToData(i.toLocalCoord(r[s]),!0):i.toGlobalCoord(i.dataToCoord(r[s]))})),o=[];return o[e]=a,o[1-e]=[NaN,NaN],{values:a,xyMinMax:o}}var Tre={lineX:Tr(wre,0),lineY:Tr(wre,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return Vt(e,function(r,i){return[r[0]-n[0]*t[i][0],r[1]-n[1]*t[i][1]]})}};function wre(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function bxt(e,t){var n=Cre(e),r=Cre(t),i=[n[0]/r[0],n[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function Cre(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var L9=te,xxt=Iot("toolbox-dataZoom_"),Sxt=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r,i,a){this._brushController||(this._brushController=new SG(i.getZr()),this._brushController.on("brush",Rn(this._onBrush,this)).mount()),Txt(n,r,this,a,i),Ext(n,r)},t.prototype.onclick=function(n,r,i){Axt[i].call(this)},t.prototype.remove=function(n,r){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(n,r){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(n){var r=n.areas;if(!n.isEnd||!r.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var o=new YG(XG(this.model),a,{include:["grid"]});o.matchOutputRanges(r,a,function(u,c,f){if(f.type==="cartesian2d"){var d=u.brushType;d==="rect"?(s("x",f,c[0]),s("y",f,c[1])):s({lineX:"x",lineY:"y"}[d],f,c)}}),hxt(a,i),this._dispatchZoomAction(i);function s(u,c,f){var d=c.getAxis(u),h=d.model,p=l(u,h,a),v=p.findRepresentativeAxisProxy(h).getMinMaxSpan();(v.minValueSpan!=null||v.maxValueSpan!=null)&&(f=Gy(0,f.slice(),d.scale.getExtent(),0,v.minValueSpan,v.maxValueSpan)),p&&(i[p.id]={dataZoomId:p.id,startValue:f[0],endValue:f[1]})}function l(u,c,f){var d;return f.eachComponent({mainType:"dataZoom",subType:"select"},function(h){var p=h.getAxisModel(u,c.componentIndex);p&&(d=h)}),d}},t.prototype._dispatchZoomAction=function(n){var r=[];L9(n,function(i,a){r.push(sr(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},t.getDefaultOption=function(n){var r={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:n.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return r},t}(Ac),Axt={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(pxt(this.ecModel))}};function XG(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function Ext(e,t){e.setIconStatus("back",gxt(t)>1?"emphasis":"normal")}function Txt(e,t,n,r,i){var a=n._isZoomActive;r&&r.type==="takeGlobalCursor"&&(a=r.key==="dataZoomSelect"?r.dataZoomSelectActive:!1),n._isZoomActive=a,e.setIconStatus("zoom",a?"emphasis":"normal");var o=new YG(XG(e),t,{include:["grid"]}),s=o.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(s).enableBrush(a&&s.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:!1)}eut("dataZoom",function(e){var t=e.getComponent("toolbox",0),n=["feature","dataZoom"];if(!t||t.get(n)==null)return;var r=t.getModel(n),i=[],a=XG(r),o=QE(e,a);L9(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),L9(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")});function s(l,u,c){var f=l.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:xxt+u+f};d[c]=f,i.push(d)}return i});function wxt(e){e.registerComponentModel(qbt),e.registerComponentView(Qbt),M1("saveAsImage",ext),M1("magicType",nxt),M1("dataView",fxt),M1("dataZoom",Sxt),M1("restore",mxt),Vr(Kbt)}var Cxt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Qr);function XAe(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function KAe(e){if(qr.domSupported){for(var t=document.documentElement.style,n=0,r=e.length;n<r;n++)if(e[n]in t)return e[n]}}var qAe=KAe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Rxt=KAe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function ZAe(e,t){if(!e)return t;t=M1e(t,!0);var n=e.indexOf(t);return e=n===-1?t:"-"+e.slice(0,n)+"-"+t,e.toLowerCase()}function Ixt(e,t){var n=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return n?n[t]:null}var Mxt=ZAe(Rxt,"transition"),KG=ZAe(qAe,"transform"),Oxt="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(qr.transform3dSupported?"will-change:transform;":"");function Dxt(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function Pxt(e,t,n){if(!An(n)||n==="inside")return"";var r=e.get("backgroundColor"),i=e.get("borderWidth");t=xy(t);var a=Dxt(n),o=Math.max(Math.round(i)*1.5,6),s="",l=KG+":",u;Ur(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,f=o+i,d=f*Math.abs(Math.cos(c))+f*Math.abs(Math.sin(c)),h=Math.round(((d-Math.SQRT2*i)/2+Math.SQRT2*i-(d-f)/2)*100)/100;s+=";"+a+":-"+h+"px";var p=t+" solid "+i+"px;",v=["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",s+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+v.join("")+'"></div>'}function Lxt(e,t){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+e/2+"s "+n,i="opacity"+r+",visibility"+r;return t||(r=" "+e+"s "+n,i+=qr.transformSupported?","+KG+r:",left"+r+",top"+r),Mxt+":"+i}function Rre(e,t,n){var r=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!qr.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=qr.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return n?"top:0;left:0;"+KG+":"+o+";":[["top",0],["left",0],[qAe,o]]}function Nxt(e){var t=[],n=e.get("fontSize"),r=e.getTextColor();r&&t.push("color:"+r),t.push("font:"+e.getFont()),n&&t.push("line-height:"+Math.round(n*3/2)+"px");var i=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return i&&a&&t.push("text-shadow:"+o+"px "+s+"px "+a+"px "+i),te(["decoration","align"],function(l){var u=e.get(l);u&&t.push("text-"+l+":"+u)}),t.join(";")}function Bxt(e,t,n){var r=[],i=e.get("transitionDuration"),a=e.get("backgroundColor"),o=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),f=cbe(e,"html"),d=l+"px "+u+"px "+o+"px "+s;return r.push("box-shadow:"+d),t&&i&&r.push(Lxt(i,n)),a&&r.push("background-color:"+a),te(["width","color","radius"],function(h){var p="border-"+h,v=M1e(p),g=e.get(v);g!=null&&r.push(p+":"+g+(h==="color"?"":"px"))}),r.push(Nxt(c)),f!=null&&r.push("padding:"+Fx(f).join("px ")+"px"),r.join(";")+";"}function Ire(e,t,n,r,i){var a=t&&t.painter;if(n){var o=a&&a.getViewportRoot();o&&sat(e,o,n,r,i)}else{e[0]=r,e[1]=i;var s=a&&a.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var kxt=function(){function e(t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,qr.wxa)return null;var r=document.createElement("div");r.domBelongToZr=!0,this.el=r;var i=this._zr=t.getZr(),a=n.appendTo,o=a&&(An(a)?document.querySelector(a):Hb(a)?a:er(a)&&a(t.getDom()));Ire(this._styleCoord,i,o,t.getWidth()/2,t.getHeight()/2),(o||t.getDom()).appendChild(r),this._api=t,this._container=o;var s=this;r.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},r.onmousemove=function(l){if(l=l||window.event,!s._enterable){var u=i.handler,c=i.painter.getViewportRoot();vc(c,l,!0),u.dispatch("mousemove",l)}},r.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var n=this._api.getDom(),r=Ixt(n,"position"),i=n.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=t.get("className")||""},e.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=Oxt+Bxt(t,!this._firstShow,this._longHide)+Rre(a[0],a[1],!0)+("border-color:"+xy(n)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,n,r,i,a){var o=this.el;if(t==null){o.innerHTML="";return}var s="";if(An(a)&&r.get("trigger")==="item"&&!XAe(r)&&(s=Pxt(r,i,a)),An(t))o.innerHTML=t+s;else if(t){o.innerHTML="",Lt(t)||(t=[t]);for(var l=0;l<t.length;l++)Hb(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(s&&o.childNodes.length){var u=document.createElement("div");u.innerHTML=s,o.appendChild(u)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},e.prototype.moveTo=function(t,n){var r=this._styleCoord;if(Ire(r,this._zr,this._container,t,n),r[0]!=null&&r[1]!=null){var i=this.el.style,a=Rre(r[0],r[1]);te(a,function(o){i[o[0]]=o[1]})}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",qr.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Rn(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e}(),Fxt=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),Ore(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,n,r,i,a){var o=this;ar(t)&&Li(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new pi({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:cbe(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),te(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){o.el.style[u]=r.get(u)}),te(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){o.el.style[u]=s.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),r=Mre(t.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},e.prototype.moveTo=function(t,n){var r=this.el;if(r){var i=this._styleCoord;Ore(i,this._zr,t,n),t=i[0],n=i[1];var a=r.style,o=Wv(a.borderWidth||0),s=Mre(a);r.x=t+o+s.left,r.y=n+o+s.top,r.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Rn(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function Wv(e){return Math.max(0,e)}function Mre(e){var t=Wv(e.shadowBlur||0),n=Wv(e.shadowOffsetX||0),r=Wv(e.shadowOffsetY||0);return{left:Wv(t-n),right:Wv(t+n),top:Wv(t-r),bottom:Wv(t+r)}}function Ore(e,t,n,r){e[0]=n,e[1]=r,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var Uxt=new si({shape:{x:-1,y:-1,width:2,height:2}}),Vxt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){if(!(qr.node||!r.getDom())){var i=n.getComponent("tooltip"),a=this._renderMode=Bot(i.get("renderMode"));this._tooltipContent=a==="richText"?new Fxt(r):new kxt(r,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(n,r,i){if(!(qr.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(n),a.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?$x(this,"_updatePosition",50,"fixRate"):aT(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");NAe("itemTooltip",this._api,Rn(function(i,a,o){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,o):i==="leave"&&this._hide(o))},this))},t.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,i=this._api,a=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&o.manuallyShowTip(n,r,i,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(n,r,i,a){if(!(a.from===this.uid||qr.node||!i.getDom())){var o=Dre(a,i);this._ticket="";var s=a.dataByCoordSys,l=Wxt(a,r,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=Uxt;c.x=a.x,c.y=a.y,c.update(),gr(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,i,a))return;var f=BAe(a,r),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:a.position,positionDefault:"bottom"},o)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},o))}},t.prototype.manuallyHideTip=function(n,r,i,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Dre(a,i))},t.prototype._manuallyAxisShowTip=function(n,r,i,a){var o=a.seriesIndex,s=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(o==null||s==null||l==null)){var u=r.getSeriesByIndex(o);if(u){var c=u.getData(),f=EA([c.getItemModel(s),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}}},t.prototype._tryShow=function(n,r){var i=n.target,a=this._tooltipModel;if(a){this._lastX=n.offsetX,this._lastY=n.offsetY;var o=n.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,n);else if(i){var s=gr(i);if(s.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;F0(i,function(c){if(gr(c).dataIndex!=null)return l=c,!0;if(gr(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(n,l,r):u?this._showComponentItemTooltip(n,u,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(n,r){var i=n.get("showDelay");r=Rn(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},t.prototype._showAxisTooltip=function(n,r){var i=this._ecModel,a=this._tooltipModel,o=[r.offsetX,r.offsetY],s=EA([r.tooltipOption],a),l=this._renderMode,u=[],c=as("section",{blocks:[],noHeader:!0}),f=[],d=new cB;te(n,function(b){te(b.dataByAxis,function(_){var x=i.getComponent(_.axisDim+"Axis",_.axisIndex),E=_.value;if(!(!x||E==null)){var A=DAe(E,x.axis,i,_.seriesDataIndices,_.valueLabelOpt),T=as("section",{header:A,noHeader:!Lf(A),sortBlocks:!0,blocks:[]});c.blocks.push(T),te(_.seriesDataIndices,function(R){var M=i.getSeriesByIndex(R.seriesIndex),O=R.dataIndexInside,D=M.getDataParams(O);if(!(D.dataIndex<0)){D.axisDim=_.axisDim,D.axisIndex=_.axisIndex,D.axisType=_.axisType,D.axisId=_.axisId,D.axisValue=qW(x.axis,{value:E}),D.axisValueLabel=A,D.marker=d.makeTooltipMarker("item",xy(D.color),l);var C=yJ(M.formatTooltip(O,!0,null)),P=C.frag;if(P){var B=EA([M],a).get("valueFormatter");T.blocks.push(B?Ct({valueFormatter:B},P):P)}C.text&&f.push(C.text),u.push(D)}})}})}),c.blocks.reverse(),f.reverse();var h=r.position,p=s.get("order"),v=EJ(c,d,l,p,i.get("useUTC"),s.get("textStyle"));v&&f.unshift(v);var g=l==="richText"?`

`:"<br/>",m=f.join(g);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(n,u)?this._updatePosition(s,h,o[0],o[1],this._tooltipContent,u):this._showTooltipContent(s,m,u,Math.random()+"",o[0],o[1],h,null,d)})},t.prototype._showSeriesItemTooltip=function(n,r,i){var a=this._ecModel,o=gr(r),s=o.seriesIndex,l=a.getSeriesByIndex(s),u=o.dataModel||l,c=o.dataIndex,f=o.dataType,d=u.getData(f),h=this._renderMode,p=n.positionDefault,v=EA([d.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),g=v.get("trigger");if(!(g!=null&&g!=="item")){var m=u.getDataParams(c,f),b=new cB;m.marker=b.makeTooltipMarker("item",xy(m.color),h);var _=yJ(u.formatTooltip(c,!1,f)),x=v.get("order"),E=v.get("valueFormatter"),A=_.frag,T=A?EJ(E?Ct({valueFormatter:E},A):A,b,h,x,a.get("useUTC"),v.get("textStyle")):_.text,R="item_"+u.name+"_"+c;this._showOrMove(v,function(){this._showTooltipContent(v,T,m,R,n.offsetX,n.offsetY,n.position,n.target,b)}),i({type:"showTip",dataIndexInside:c,dataIndex:d.getRawIndex(c),seriesIndex:s,from:this.uid})}},t.prototype._showComponentItemTooltip=function(n,r,i){var a=this._renderMode==="html",o=gr(r),s=o.tooltipConfig,l=s.option||{},u=l.encodeHTMLContent;if(An(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=sr(l),l.content=uu(l.content));var f=[l],d=this._ecModel.getComponent(o.componentMainType,o.componentIndex);d&&f.push(d),f.push({formatter:l.content});var h=n.positionDefault,p=EA(f,this._tooltipModel,h?{position:h}:null),v=p.get("content"),g=Math.random()+"",m=new cB;this._showOrMove(p,function(){var b=sr(p.get("formatterParams")||{});this._showTooltipContent(p,v,b,g,n.offsetX,n.offsetY,n.position,r,m)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(n,r,i,a,o,s,l,u,c){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var f=this._tooltipContent;f.setEnterable(n.get("enterable"));var d=n.get("formatter");l=l||n.get("position");var h=r,p=this._getNearestPoint([o,s],i,n.get("trigger"),n.get("borderColor")),v=p.color;if(d)if(An(d)){var g=n.ecModel.get("useUTC"),m=Lt(i)?i[0]:i,b=m&&m.axisType&&m.axisType.indexOf("time")>=0;h=d,b&&(h=AP(m.axisValue,h,g)),h=O1e(h,i,!0)}else if(er(d)){var _=Rn(function(x,E){x===this._ticket&&(f.setContent(E,c,n,v,l),this._updatePosition(n,l,o,s,f,i,u))},this);this._ticket=a,h=d(i,a,_)}else h=d;f.setContent(h,c,n,v,l),f.show(n,v),this._updatePosition(n,l,o,s,f,i,u)}},t.prototype._getNearestPoint=function(n,r,i,a){if(i==="axis"||Lt(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!Lt(r))return{color:a||r.color||r.borderColor}},t.prototype._updatePosition=function(n,r,i,a,o,s,l){var u=this._api.getWidth(),c=this._api.getHeight();r=r||n.get("position");var f=o.getSize(),d=n.get("align"),h=n.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),er(r)&&(r=r([i,a],s,o.el,p,{viewSize:[u,c],contentSize:f.slice()})),Lt(r))i=vn(r[0],u),a=vn(r[1],c);else if(ar(r)){var v=r;v.width=f[0],v.height=f[1];var g=$o(v,{width:u,height:c});i=g.x,a=g.y,d=null,h=null}else if(An(r)&&l){var m=Hxt(r,p,f,n.get("borderWidth"));i=m[0],a=m[1]}else{var m=zxt(i,a,o,u,c,d?null:20,h?null:20);i=m[0],a=m[1]}if(d&&(i-=Pre(d)?f[0]/2:d==="right"?f[0]:0),h&&(a-=Pre(h)?f[1]/2:h==="bottom"?f[1]:0),XAe(n)){var m=$xt(i,a,o,u,c);i=m[0],a=m[1]}o.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(n,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,o=!!i&&i.length===n.length;return o&&te(i,function(s,l){var u=s.dataByAxis||[],c=n[l]||{},f=c.dataByAxis||[];o=o&&u.length===f.length,o&&te(u,function(d,h){var p=f[h]||{},v=d.seriesDataIndices||[],g=p.seriesDataIndices||[];o=o&&d.value===p.value&&d.axisType===p.axisType&&d.axisId===p.axisId&&v.length===g.length,o&&te(v,function(m,b){var _=g[b];o=o&&m.seriesIndex===_.seriesIndex&&m.dataIndex===_.dataIndex}),a&&te(d.seriesDataIndices,function(m){var b=m.seriesIndex,_=r[b],x=a[b];_&&x&&x.data!==_.data&&(o=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!o},t.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},t.prototype.dispose=function(n,r){qr.node||!r.getDom()||(aT(this,"_updatePosition"),this._tooltipContent.dispose(),I9("itemTooltip",r))},t.type="tooltip",t}(Ba);function EA(e,t,n){var r=t.ecModel,i;n?(i=new zi(n,r,r),i=new zi(t.option,i,r)):i=t;for(var a=e.length-1;a>=0;a--){var o=e[a];o&&(o instanceof zi&&(o=o.get("tooltip",!0)),An(o)&&(o={formatter:o}),o&&(i=new zi(o,i,r)))}return i}function Dre(e,t){return e.dispatchAction||Rn(t.dispatchAction,t)}function zxt(e,t,n,r,i,a,o){var s=n.getSize(),l=s[0],u=s[1];return a!=null&&(e+l+a+2>r?e-=l+a:e+=a),o!=null&&(t+u+o>i?t-=u+o:t+=o),[e,t]}function $xt(e,t,n,r,i){var a=n.getSize(),o=a[0],s=a[1];return e=Math.min(e+o,r)-o,t=Math.min(t+s,i)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function Hxt(e,t,n,r){var i=n[0],a=n[1],o=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,u=t.width,c=t.height;switch(e){case"inside":s=t.x+u/2-i/2,l=t.y+c/2-a/2;break;case"top":s=t.x+u/2-i/2,l=t.y-a-o;break;case"bottom":s=t.x+u/2-i/2,l=t.y+c+o;break;case"left":s=t.x-i-o,l=t.y+c/2-a/2;break;case"right":s=t.x+u+o,l=t.y+c/2-a/2}return[s,l]}function Pre(e){return e==="center"||e==="middle"}function Wxt(e,t,n){var r=cW(e).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=ow(t,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(o){var s=n.getViewOfComponentModel(o),l;if(s.group.traverse(function(u){var c=gr(u).tooltipConfig;if(c&&c.name===e.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:o.componentIndex,el:l}}}}function Gxt(e){Vr(Ew),e.registerComponentModel(Cxt),e.registerComponentView(Vxt),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},mo),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},mo)}var jxt=["rect","polygon","keep","clear"];function Yxt(e,t){var n=Zi(e?e.brush:[]);if(n.length){var r=[];te(n,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(r=r.concat(u))});var i=e&&e.toolbox;Lt(i)&&(i=i[0]),i||(i={feature:{}},e.toolbox=[i]);var a=i.feature||(i.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,r),Xxt(s),t&&!s.length&&s.push.apply(s,jxt)}}function Xxt(e){var t={};te(e,function(n){t[n]=1}),e.length=0,te(t,function(n,r){e.push(r)})}var Lre=te;function Nre(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function N9(e,t,n){var r={};return Lre(t,function(a){var o=r[a]=i();Lre(e[a],function(s,l){if(es.isValidType(l)){var u={type:l,visual:s};n&&n(u,a),o[l]=new es(u),l==="opacity"&&(u=sr(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new es(u))}})}),r;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var o=new a;return o}}function QAe(e,t,n){var r;te(n,function(i){t.hasOwnProperty(i)&&Nre(t[i])&&(r=!0)}),r&&te(n,function(i){t.hasOwnProperty(i)&&Nre(t[i])?e[i]=sr(t[i]):delete e[i]})}function Kxt(e,t,n,r,i,a){var o={};te(e,function(f){var d=es.prepareVisualTypes(t[f]);o[f]=d});var s;function l(f){return UW(n,s,f)}function u(f,d){bbe(n,s,f,d)}n.each(c);function c(f,d){s=f;var h=n.getRawDataItem(s);if(!(h&&h.visualMap===!1))for(var p=r.call(i,f),v=t[p],g=o[p],m=0,b=g.length;m<b;m++){var _=g[m];v[_]&&v[_].applyVisual(f,l,u)}}}function qxt(e,t,n,r){var i={};return te(e,function(a){var o=es.prepareVisualTypes(t[a]);i[a]=o}),{progress:function(o,s){var l;r!=null&&(l=s.getDimensionIndex(r));function u(E){return UW(s,f,E)}function c(E,A){bbe(s,f,E,A)}for(var f,d=s.getStore();(f=o.next())!=null;){var h=s.getRawDataItem(f);if(!(h&&h.visualMap===!1))for(var p=r!=null?d.get(l,f):f,v=n(p),g=t[v],m=i[v],b=0,_=m.length;b<_;b++){var x=m[b];g[x]&&g[x].applyVisual(p,u,c)}}}}}function Zxt(e){var t=e.brushType,n={point:function(r){return Bre[t].point(r,n,e)},rect:function(r){return Bre[t].rect(r,n,e)}};return n}var Bre={lineX:kre(0),lineY:kre(1),rect:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return e&&n.boundingRect.intersect(e)}},polygon:{point:function(e,t,n){return e&&n.boundingRect.contain(e[0],e[1])&&A0(n.range,e[0],e[1])},rect:function(e,t,n){var r=n.range;if(!e||r.length<=1)return!1;var i=e.x,a=e.y,o=e.width,s=e.height,l=r[0];if(A0(r,i,a)||A0(r,i+o,a)||A0(r,i,a+s)||A0(r,i+o,a+s)||Mr.create(e).contain(l[0],l[1])||uE(i,a,i+o,a,r)||uE(i,a,i,a+s,r)||uE(i+o,a,i+o,a+s,r)||uE(i,a+s,i+o,a+s,r))return!0}}};function kre(e){var t=["x","y"],n=["width","height"];return{point:function(r,i,a){if(r){var o=a.range,s=r[e];return TA(s,o)}},rect:function(r,i,a){if(r){var o=a.range,s=[r[t[e]],r[t[e]]+r[n[e]]];return s[1]<s[0]&&s.reverse(),TA(s[0],o)||TA(s[1],o)||TA(o[0],s)||TA(o[1],s)}}}}function TA(e,t){return t[0]<=e&&e<=t[1]}var Fre=["inBrush","outOfBrush"],w6="__ecBrushSelect",B9="__ecInBrushSelectEvent";function JAe(e){e.eachComponent({mainType:"brush"},function(t){var n=t.brushTargetManager=new YG(t.option,e);n.setInputRanges(t.areas,e)})}function Qxt(e,t,n){var r=[],i,a;e.eachComponent({mainType:"brush"},function(o){n&&n.type==="takeGlobalCursor"&&o.setBrushOption(n.key==="brush"?n.brushOption:{brushType:!1})}),JAe(e),e.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:sr(o.areas),selected:[]};r.push(l);var u=o.option,c=u.brushLink,f=[],d=[],h=[],p=!1;s||(i=u.throttleType,a=u.throttleDelay);var v=Vt(o.areas,function(E){var A=nSt[E.brushType],T=tr({boundingRect:A?A(E):void 0},E);return T.selectors=Zxt(T),T}),g=N9(o.option,Fre,function(E){E.mappingMethod="fixed"});Lt(c)&&te(c,function(E){f[E]=1});function m(E){return c==="all"||!!f[E]}function b(E){return!!E.length}e.eachSeries(function(E,A){var T=h[A]=[];E.subType==="parallel"?_(E,A):x(E,A,T)});function _(E,A){var T=E.coordinateSystem;p=p||T.hasAxisBrushed(),m(A)&&T.eachActiveState(E.getData(),function(R,M){R==="active"&&(d[M]=1)})}function x(E,A,T){if(!(!E.brushSelector||tSt(o,A))&&(te(v,function(M){o.brushTargetManager.controlSeries(M,E,e)&&T.push(M),p=p||b(T)}),m(A)&&b(T))){var R=E.getData();R.each(function(M){Ure(E,T,R,M)&&(d[M]=1)})}}e.eachSeries(function(E,A){var T={seriesId:E.id,seriesIndex:A,seriesName:E.name,dataIndex:[]};l.selected.push(T);var R=h[A],M=E.getData(),O=m(A)?function(D){return d[D]?(T.dataIndex.push(M.getRawIndex(D)),"inBrush"):"outOfBrush"}:function(D){return Ure(E,R,M,D)?(T.dataIndex.push(M.getRawIndex(D)),"inBrush"):"outOfBrush"};(m(A)?p:b(R))&&Kxt(Fre,g,M,O)})}),Jxt(t,i,a,r,n)}function Jxt(e,t,n,r,i){if(i){var a=e.getZr();if(!a[B9]){a[w6]||(a[w6]=eSt);var o=$x(a,w6,n,t);o(e,r)}}}function eSt(e,t){if(!e.isDisposed()){var n=e.getZr();n[B9]=!0,e.dispatchAction({type:"brushSelect",batch:t}),n[B9]=!1}}function Ure(e,t,n,r){for(var i=0,a=t.length;i<a;i++){var o=t[i];if(e.brushSelector(r,n,o.selectors,o))return!0}}function tSt(e,t){var n=e.option.seriesIndex;return n!=null&&n!=="all"&&(Lt(n)?Ur(n,t)<0:t!==n)}var nSt={rect:function(e){return Vre(e.range)},polygon:function(e){for(var t,n=e.range,r=0,i=n.length;r<i;r++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=n[r];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&Vre(t)}};function Vre(e){return new Mr(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var rSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){this.ecModel=n,this.api=r,this.model,(this._brushController=new SG(r.getZr())).on("brush",Rn(this._onBrush,this)).mount()},t.prototype.render=function(n,r,i,a){this.model=n,this._updateController(n,r,i,a)},t.prototype.updateTransform=function(n,r,i,a){JAe(r),this._updateController(n,r,i,a)},t.prototype.updateVisual=function(n,r,i,a){this.updateTransform(n,r,i,a)},t.prototype.updateView=function(n,r,i,a){this._updateController(n,r,i,a)},t.prototype._updateController=function(n,r,i,a){(!a||a.$from!==n.id)&&this._brushController.setPanels(n.brushTargetManager.makePanelOpts(i)).enableBrush(n.brushOption).updateCovers(n.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(n){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(n.areas,this.ecModel);(!n.isEnd||n.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:sr(i),$from:r}),n.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:sr(i),$from:r})},t.type="brush",t}(Ba),iSt="#ddd",aSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.areas=[],n.brushOption={},n}return t.prototype.optionUpdated=function(n,r){var i=this.option;!r&&QAe(i,n,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:iSt},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(n){n&&(this.areas=Vt(n,function(r){return zre(this.option,r)},this))},t.prototype.setBrushOption=function(n){this.brushOption=zre(this.option,n),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Qr);function zre(e,t){return wr({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new zi(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var oSt=["rect","polygon","lineX","lineY","keep","clear"],sSt=function(e){et(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(n,r,i){var a,o,s;r.eachComponent({mainType:"brush"},function(l){a=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=a,this._brushMode=o,te(n.get("type",!0),function(l){n.setIconStatus(l,(l==="keep"?o==="multiple":l==="clear"?s:l===a)?"emphasis":"normal")})},t.prototype.updateView=function(n,r,i){this.render(n,r,i)},t.prototype.getIcons=function(){var n=this.model,r=n.get("icon",!0),i={};return te(n.get("type",!0),function(a){r[a]&&(i[a]=r[a])}),i},t.prototype.onclick=function(n,r,i){var a=this._brushType,o=this._brushMode;i==="clear"?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?o==="multiple"?"single":"multiple":o}})},t.getDefaultOption=function(n){var r={show:!0,type:oSt.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n.getLocaleModel().get(["toolbox","brush","title"])};return r},t}(Ac);function lSt(e){e.registerComponentView(rSt),e.registerComponentModel(aSt),e.registerPreprocessor(Yxt),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,Qxt),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,n){n.eachComponent({mainType:"brush",query:t},function(r){r.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},mo),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},mo),M1("brush",sSt)}var uSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Qr),cSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.render=function(n,r,i){if(this.group.removeAll(),!!n.get("show")){var a=this.group,o=n.getModel("textStyle"),s=n.getModel("subtextStyle"),l=n.get("textAlign"),u=Sr(n.get("textBaseline"),n.get("textVerticalAlign")),c=new pi({style:ha(o,{text:n.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),f=c.getBoundingRect(),d=n.get("subtext"),h=new pi({style:ha(s,{text:d,fill:s.getTextColor(),y:f.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=n.get("link"),v=n.get("sublink"),g=n.get("triggerEvent",!0);c.silent=!p&&!g,h.silent=!v&&!g,p&&c.on("click",function(){KM(p,"_"+n.get("target"))}),v&&h.on("click",function(){KM(v,"_"+n.get("subtarget"))}),gr(c).eventData=gr(h).eventData=g?{componentType:"title",componentIndex:n.componentIndex}:null,a.add(c),d&&a.add(h);var m=a.getBoundingRect(),b=n.getBoxLayoutParams();b.width=m.width,b.height=m.height;var _=$o(b,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));l||(l=n.get("left")||n.get("right"),l==="middle"&&(l="center"),l==="right"?_.x+=_.width:l==="center"&&(_.x+=_.width/2)),u||(u=n.get("top")||n.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?_.y+=_.height:u==="middle"&&(_.y+=_.height/2),u=u||"top"),a.x=_.x,a.y=_.y,a.markRedraw();var x={align:l,verticalAlign:u};c.setStyle(x),h.setStyle(x),m=a.getBoundingRect();var E=_.margin,A=n.getItemStyle(["color","opacity"]);A.fill=n.get("backgroundColor");var T=new si({shape:{x:m.x-E[3],y:m.y-E[0],width:m.width+E[1]+E[3],height:m.height+E[0]+E[2],r:n.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});a.add(T)}},t.type="title",t}(Ba);function fSt(e){e.registerComponentModel(uSt),e.registerComponentView(cSt)}var $re=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode="box",n}return t.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),this._initData()},t.prototype.mergeOption=function(n){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(n){n==null&&(n=this.option.currentIndex);var r=this._data.count();this.option.loop?n=(n%r+r)%r:(n>=r&&(n=r-1),n<0&&(n=0)),this.option.currentIndex=n},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(n){this.option.autoPlay=!!n},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var n=this.option,r=n.data||[],i=n.axisType,a=this._names=[],o;i==="category"?(o=[],te(r,function(u,c){var f=Uo(Dx(u),""),d;ar(u)?(d=sr(u),d.value=c):d=c,o.push(d),a.push(f)})):o=r;var s={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new Rl([{name:"value",type:s}],this);l.initData(o,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Qr),eEe=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="timeline.slider",t.defaultOption=nm($re.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}($re);Mo(eEe,MP.prototype);var dSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="timeline",t}(Ba),hSt=function(e){et(t,e);function t(n,r,i,a){var o=e.call(this,n,r,i)||this;return o.type=a||"value",o}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(id),C6=Math.PI,Hre=ui(),pSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(n,r){this.api=r},t.prototype.render=function(n,r,i){if(this.model=n,this.api=i,this.ecModel=r,this.group.removeAll(),n.get("show",!0)){var a=this._layout(n,i),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,n);n.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return as("nameValue",{noName:!0,value:c})},te(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,o,l,n)},this),this._renderAxisLabel(a,s,l,n),this._position(a,n)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(n,r){var i=n.get(["label","position"]),a=n.get("orient"),o=gSt(n,r),s;i==null||i==="auto"?s=a==="horizontal"?o.y+o.height/2<r.getHeight()/2?"-":"+":o.x+o.width/2<r.getWidth()/2?"+":"-":An(i)?s={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:s=i;var l={horizontal:"center",vertical:s>=0||s==="+"?"left":"right"},u={horizontal:s>=0||s==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:C6/2},f=a==="vertical"?o.height:o.width,d=n.getModel("controlStyle"),h=d.get("show",!0),p=h?d.get("itemSize"):0,v=h?d.get("itemGap"):0,g=p+v,m=n.get(["label","rotate"])||0;m=m*C6/180;var b,_,x,E=d.get("position",!0),A=h&&d.get("showPlayBtn",!0),T=h&&d.get("showPrevBtn",!0),R=h&&d.get("showNextBtn",!0),M=0,O=f;E==="left"||E==="bottom"?(A&&(b=[0,0],M+=g),T&&(_=[M,0],M+=g),R&&(x=[O-p,0],O-=g)):(A&&(b=[O-p,0],O-=g),T&&(_=[0,0],M+=g),R&&(x=[O-p,0],O-=g));var D=[M,O];return n.get("inverse")&&D.reverse(),{viewRect:o,mainLength:f,orient:a,rotation:c[a],labelRotation:m,labelPosOpt:s,labelAlign:n.get(["label","align"])||l[a],labelBaseline:n.get(["label","verticalAlign"])||n.get(["label","baseline"])||u[a],playPosition:b,prevBtnPosition:_,nextBtnPosition:x,axisExtent:D,controlSize:p,controlGap:v}},t.prototype._position=function(n,r){var i=this._mainGroup,a=this._labelGroup,o=n.viewRect;if(n.orient==="vertical"){var s=$u(),l=o.x,u=o.y+o.height;rh(s,s,[-l,-u]),Uy(s,s,-C6/2),rh(s,s,[l,u]),o=o.clone(),o.applyTransform(s)}var c=b(o),f=b(i.getBoundingRect()),d=b(a.getBoundingRect()),h=[i.x,i.y],p=[a.x,a.y];p[0]=h[0]=c[0][0];var v=n.labelPosOpt;if(v==null||An(v)){var g=v==="+"?0:1;_(h,f,c,1,g),_(p,d,c,1,1-g)}else{var g=v>=0?0:1;_(h,f,c,1,g),p[1]=h[1]+v}i.setPosition(h),a.setPosition(p),i.rotation=a.rotation=n.rotation,m(i),m(a);function m(x){x.originX=c[0][0]-x.x,x.originY=c[1][0]-x.y}function b(x){return[[x.x,x.x+x.width],[x.y,x.y+x.height]]}function _(x,E,A,T,R){x[T]+=A[T][R]-E[T][R]}},t.prototype._createAxis=function(n,r){var i=r.getData(),a=r.get("axisType"),o=vSt(r,a);o.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var s=i.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new hSt("value",o,n.axisExtent,a);return l.model=r,l},t.prototype._createGroup=function(n){var r=this[n]=new hr;return this.group.add(r),r},t.prototype._renderAxisLine=function(n,r,i,a){var o=i.getExtent();if(a.get(["lineStyle","show"])){var s=new qo({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:Ct({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(s);var l=this._progressLine=new qo({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:tr({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(l)}},t.prototype._renderAxisTick=function(n,r,i,a){var o=this,s=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],te(l,function(u){var c=i.dataToCoord(u.value),f=s.getItemModel(u.value),d=f.getModel("itemStyle"),h=f.getModel(["emphasis","itemStyle"]),p=f.getModel(["progress","itemStyle"]),v={x:c,y:0,onclick:Rn(o._changeTimeline,o,u.value)},g=Wre(f,d,r,v);g.ensureState("emphasis").style=h.getItemStyle(),g.ensureState("progress").style=p.getItemStyle(),J0(g);var m=gr(g);f.get("tooltip")?(m.dataIndex=u.value,m.dataModel=a):m.dataIndex=m.dataModel=null,o._tickSymbols.push(g)})},t.prototype._renderAxisLabel=function(n,r,i,a){var o=this,s=i.getLabelModel();if(s.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],te(u,function(c){var f=c.tickValue,d=l.getItemModel(f),h=d.getModel("label"),p=d.getModel(["emphasis","label"]),v=d.getModel(["progress","label"]),g=i.dataToCoord(c.tickValue),m=new pi({x:g,y:0,rotation:n.labelRotation-n.rotation,onclick:Rn(o._changeTimeline,o,f),silent:!1,style:ha(h,{text:c.formattedLabel,align:n.labelAlign,verticalAlign:n.labelBaseline})});m.ensureState("emphasis").style=ha(p),m.ensureState("progress").style=ha(v),r.add(m),J0(m),Hre(m).dataIndex=f,o._tickLabels.push(m)})}},t.prototype._renderControl=function(n,r,i,a){var o=n.controlSize,s=n.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),f=a.get("inverse",!0);d(n.nextBtnPosition,"next",Rn(this._changeTimeline,this,f?"-":"+")),d(n.prevBtnPosition,"prev",Rn(this._changeTimeline,this,f?"+":"-")),d(n.playPosition,c?"stop":"play",Rn(this._handlePlayClick,this,!c),!0);function d(h,p,v,g){if(h){var m=Qf(Sr(a.get(["controlStyle",p+"BtnSize"]),o),o),b=[0,-m/2,m,m],_=mSt(a,p+"Icon",b,{x:h[0],y:h[1],originX:o/2,originY:0,rotation:g?-s:0,rectHover:!0,style:l,onclick:v});_.ensureState("emphasis").style=u,r.add(_),J0(_)}}},t.prototype._renderCurrentPointer=function(n,r,i,a){var o=a.getData(),s=a.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),u=this,c={onCreate:function(f){f.draggable=!0,f.drift=Rn(u._handlePointerDrag,u),f.ondragend=Rn(u._handlePointerDragend,u),Gre(f,u._progressLine,s,i,a,!0)},onUpdate:function(f){Gre(f,u._progressLine,s,i,a)}};this._currentPointer=Wre(l,l,this._mainGroup,{},this._currentPointer,c)},t.prototype._handlePlayClick=function(n){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},t.prototype._handlePointerDrag=function(n,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},t.prototype._pointerChangeTimeline=function(n,r){var i=this._toAxisCoord(n)[0],a=this._axis,o=Mc(a.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=i,s.dirty());var l=this._findNearestTick(i),u=this.model;(r||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var n=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=n.model;n._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(n){var r=this._mainGroup.getLocalTransform();return $f(n,r,!0)},t.prototype._findNearestTick=function(n){var r=this.model.getData(),i=1/0,a,o=this._axis;return r.each(["value"],function(s,l){var u=o.dataToCoord(s),c=Math.abs(u-n);c<i&&(i=c,a=l)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(n){var r=this.model.getCurrentIndex();n==="+"?n=r+1:n==="-"&&(n=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})},t.prototype._updateTicksStatus=function(){var n=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",a<n);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",Hre(i[a]).dataIndex<=n)},t.type="timeline.slider",t}(dSt);function vSt(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new BP({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new XW({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new Pp}}function gSt(e,t){return $o(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function mSt(e,t,n,r){var i=r.style,a=fw(e.get(["controlStyle",t]),r||{},new Mr(n[0],n[1],n[2],n[3]));return i&&a.setStyle(i),a}function Wre(e,t,n,r,i,a){var o=t.get("color");if(i)i.setColor(o),n.add(i),a&&a.onUpdate(i);else{var s=e.get("symbol");i=Io(s,-1,-1,2,2,o),i.setStyle("strokeNoScale",!0),n.add(i),a&&a.onCreate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l),r=wr({rectHover:!0,z2:100},r,!0);var u=Hx(e.get("symbolSize"));r.scaleX=u[0]/2,r.scaleY=u[1]/2;var c=zy(e.get("symbolOffset"),u);c&&(r.x=(r.x||0)+c[0],r.y=(r.y||0)+c[1]);var f=e.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function Gre(e,t,n,r,i,a){if(!e.dragging){var o=i.getModel("checkpointStyle"),s=r.dataToCoord(i.getData().get("value",n));if(a||!o.get("animation",!0))e.attr({x:s,y:0}),t&&t.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},l),t&&t.animateTo({shape:{x2:s}},l)}}}function ySt(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,n,r){var i=n.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),n.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),tr({currentIndex:i.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,n){var r=n.getComponent("timeline");r&&t.playState!=null&&r.setPlayState(t.playState)})}function _St(e){var t=e&&e.timeline;Lt(t)||(t=t?[t]:[]),te(t,function(n){n&&bSt(n)})}function bSt(e){var t=e.type,n={number:"value",time:"time"};if(n[t]&&(e.axisType=n[t],delete e.type),jre(e),w0(e,"controlPosition")){var r=e.controlStyle||(e.controlStyle={});w0(r,"position")||(r.position=e.controlPosition),r.position==="none"&&!w0(r,"show")&&(r.show=!1,delete r.position),delete e.controlPosition}te(e.data||[],function(i){ar(i)&&!Lt(i)&&(!w0(i,"value")&&w0(i,"name")&&(i.value=i.name),jre(i))})}function jre(e){var t=e.itemStyle||(e.itemStyle={}),n=t.emphasis||(t.emphasis={}),r=e.label||e.label||{},i=r.normal||(r.normal={}),a={normal:1,emphasis:1};te(r,function(o,s){!a[s]&&!w0(i,s)&&(i[s]=o)}),n.label&&!w0(r,"emphasis")&&(r.emphasis=n.label,delete n.label)}function w0(e,t){return e.hasOwnProperty(t)}function xSt(e){e.registerComponentModel(eEe),e.registerComponentView(pSt),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),ySt(e),e.registerPreprocessor(_St)}function qG(e,t){if(!e)return!1;for(var n=Lt(e)?e:[e],r=0;r<n.length;r++)if(n[r]&&n[r][t])return!0;return!1}function hI(e){gy(e,"label",["show"])}var pI=ui(),Np=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.createdBySelf=!1,n}return t.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),this._mergeOption(n,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(qr.node)return!1;var n=this.__hostSeries;return this.getShallow("animation")&&n&&n.isAnimationEnabled()},t.prototype.mergeOption=function(n,r){this._mergeOption(n,r,!1,!1)},t.prototype._mergeOption=function(n,r,i,a){var o=this.mainType;i||r.eachSeries(function(s){var l=s.get(this.mainType,!0),u=pI(s)[o];if(!l||!l.data){pI(s)[o]=null;return}u?u._mergeOption(l,r,!0):(a&&hI(l),te(l.data,function(c){c instanceof Array?(hI(c[0]),hI(c[1])):hI(c)}),u=this.createMarkerModelFromSeries(l,this,r),Ct(u,{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),u.__hostSeries=s),pI(s)[o]=u},this)},t.prototype.formatTooltip=function(n,r,i){var a=this.getData(),o=this.getRawValue(n),s=a.getName(n);return as("section",{header:this.name,blocks:[as("nameValue",{name:s,value:o,noName:!s,noValue:o==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(n){this._data=n},t.prototype.getDataParams=function(n,r){var i=MP.prototype.getDataParams.call(this,n,r),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},t.getMarkerModelFromSeries=function(n,r){return pI(n)[r]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Qr);Mo(Np,MP.prototype);var SSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,r,i){return new t(n,r,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Np);function k9(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function ASt(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function vI(e,t,n,r,i,a){var o=[],s=Hg(t,r),l=s?t.getCalculationInfo("stackResultDimension"):r,u=ZG(t,l,e),c=t.indicesOfNearest(l,u)[0];o[i]=t.get(n,c),o[a]=t.get(l,c);var f=t.get(r,c),d=$d(t.get(r,c));return d=Math.min(d,20),d>=0&&(o[a]=+o[a].toFixed(d)),[o,f]}var R6={min:Tr(vI,"min"),max:Tr(vI,"max"),average:Tr(vI,"average"),median:Tr(vI,"median")};function _T(e,t){if(t){var n=e.getData(),r=e.coordinateSystem,i=r&&r.dimensions;if(!ASt(t)&&!Lt(t.coord)&&Lt(i)){var a=tEe(t,n,r,e);if(t=sr(t),t.type&&R6[t.type]&&a.baseAxis&&a.valueAxis){var o=Ur(i,a.baseAxis.dim),s=Ur(i,a.valueAxis.dim),l=R6[t.type](n,a.baseDataDim,a.valueDataDim,o,s);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!Lt(i))t.coord=[];else for(var u=t.coord,c=0;c<2;c++)R6[u[c]]&&(u[c]=ZG(n,n.mapDimension(i[c]),u[c]));return t}}function tEe(e,t,n,r){var i={};return e.valueIndex!=null||e.valueDim!=null?(i.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=n.getAxis(ESt(r,i.valueDataDim)),i.baseAxis=n.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=n.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function ESt(e,t){var n=e.getData().getDimensionInfo(t);return n&&n.coordDim}function bT(e,t){return e&&e.containData&&t.coord&&!k9(t)?e.containData(t.coord):!0}function TSt(e,t,n){return e&&e.containZone&&t.coord&&n.coord&&!k9(t)&&!k9(n)?e.containZone(t.coord,n.coord):!0}function nEe(e,t){return e?function(n,r,i,a){var o=a<2?n.coord&&n.coord[a]:n.value;return Ag(o,t[a])}:function(n,r,i,a){return Ag(n.value,t[a])}}function ZG(e,t,n){if(n==="average"){var r=0,i=0;return e.each(t,function(a,o){isNaN(a)||(r+=a,i++)}),r/i}else return n==="median"?e.getMedian(t):e.getDataExtent(t)[n==="max"?1:0]}var I6=ui(),QG=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.init=function(){this.markerGroupMap=Fn()},t.prototype.render=function(n,r,i){var a=this,o=this.markerGroupMap;o.each(function(s){I6(s).keep=!1}),r.eachSeries(function(s){var l=Np.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,r,i)}),o.each(function(s){!I6(s).keep&&a.group.remove(s.group)})},t.prototype.markKeep=function(n){I6(n).keep=!0},t.prototype.toggleBlurSeries=function(n,r){var i=this;te(n,function(a){var o=Np.getMarkerModelFromSeries(a,i.type);if(o){var s=o.getData();s.eachItemGraphicEl(function(l){l&&(r?X_e(l):mW(l))})}})},t.type="marker",t}(Ba);function Yre(e,t,n){var r=t.coordinateSystem;e.each(function(i){var a=e.getItemModel(i),o,s=vn(a.get("x"),n.getWidth()),l=vn(a.get("y"),n.getHeight());if(!isNaN(s)&&!isNaN(l))o=[s,l];else if(t.getMarkerPosition)o=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(r){var u=e.get(r.dimensions[0],i),c=e.get(r.dimensions[1],i);o=r.dataToPoint([u,c])}isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),e.setItemLayout(i,o)})}var wSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,r,i){r.eachSeries(function(a){var o=Np.getMarkerModelFromSeries(a,"markPoint");o&&(Yre(o.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(n,r,i,a){var o=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new mw),f=CSt(o,n,r);r.setData(f),Yre(r.getData(),n,a),f.each(function(d){var h=f.getItemModel(d),p=h.getShallow("symbol"),v=h.getShallow("symbolSize"),g=h.getShallow("symbolRotate"),m=h.getShallow("symbolOffset"),b=h.getShallow("symbolKeepAspect");if(er(p)||er(v)||er(g)||er(m)){var _=r.getRawValue(d),x=r.getDataParams(d);er(p)&&(p=p(_,x)),er(v)&&(v=v(_,x)),er(g)&&(g=g(_,x)),er(m)&&(m=m(_,x))}var E=h.getModel("itemStyle").getItemStyle(),A=hw(l,"color");E.fill||(E.fill=A),f.setItemVisual(d,{symbol:p,symbolSize:v,symbolRotate:g,symbolOffset:m,symbolKeepAspect:b,style:E})}),c.updateData(f),this.group.add(c.group),f.eachItemGraphicEl(function(d){d.traverse(function(h){gr(h).dataModel=r})}),this.markKeep(c),c.group.silent=r.get("silent")||n.get("silent")},t.type="markPoint",t}(QG);function CSt(e,t,n){var r;e?r=Vt(e&&e.dimensions,function(s){var l=t.getData().getDimensionInfo(t.getData().mapDimension(s))||{};return Ct(Ct({},l),{name:s,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Rl(r,n),a=Vt(n.get("data"),Tr(_T,t));e&&(a=Xi(a,Tr(bT,e)));var o=nEe(!!e,r);return i.initData(a,null,o),i}function RSt(e){e.registerComponentModel(SSt),e.registerComponentView(wSt),e.registerPreprocessor(function(t){qG(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var ISt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,r,i){return new t(n,r,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Np),gI=ui(),MSt=function(e,t,n,r){var i=e.getData(),a;if(Lt(r))a=r;else{var o=r.type;if(o==="min"||o==="max"||o==="average"||o==="median"||r.xAxis!=null||r.yAxis!=null){var s=void 0,l=void 0;if(r.yAxis!=null||r.xAxis!=null)s=t.getAxis(r.yAxis!=null?"y":"x"),l=hs(r.yAxis,r.xAxis);else{var u=tEe(r,i,t,e);s=u.valueAxis;var c=Kbe(i,u.valueDataDim);l=ZG(i,c,o)}var f=s.dim==="x"?0:1,d=1-f,h=sr(r),p={coord:[]};h.type=null,h.coord=[],h.coord[d]=-1/0,p.coord[d]=1/0;var v=n.get("precision");v>=0&&yi(l)&&(l=+l.toFixed(Math.min(v,20))),h.coord[f]=p.coord[f]=l,a=[h,p,{type:o,valueIndex:r.valueIndex,value:l}]}else a=[]}var g=[_T(e,a[0]),_T(e,a[1]),Ct({},a[2])];return g[2].type=g[2].type||null,wr(g[2],g[0]),wr(g[2],g[1]),g};function bO(e){return!isNaN(e)&&!isFinite(e)}function Xre(e,t,n,r){var i=1-e,a=r.dimensions[e];return bO(t[i])&&bO(n[i])&&t[e]===n[e]&&r.getAxis(a).containData(t[e])}function OSt(e,t){if(e.type==="cartesian2d"){var n=t[0].coord,r=t[1].coord;if(n&&r&&(Xre(1,n,r,e)||Xre(0,n,r,e)))return!0}return bT(e,t[0])&&bT(e,t[1])}function M6(e,t,n,r,i){var a=r.coordinateSystem,o=e.getItemModel(t),s,l=vn(o.get("x"),i.getWidth()),u=vn(o.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition)s=r.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=a.dimensions,f=e.get(c[0],t),d=e.get(c[1],t);s=a.dataToPoint([f,d])}if(Hy(a,"cartesian2d")){var h=a.getAxis("x"),p=a.getAxis("y"),c=a.dimensions;bO(e.get(c[0],t))?s[0]=h.toGlobalCoord(h.getExtent()[n?0:1]):bO(e.get(c[1],t))&&(s[1]=p.toGlobalCoord(p.getExtent()[n?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}e.setItemLayout(t,s)}var DSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,r,i){r.eachSeries(function(a){var o=Np.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),l=gI(o).from,u=gI(o).to;l.each(function(c){M6(l,c,!0,a,i),M6(u,c,!1,a,i)}),s.each(function(c){s.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(n,r,i,a){var o=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,new xG);this.group.add(c.group);var f=PSt(o,n,r),d=f.from,h=f.to,p=f.line;gI(r).from=d,gI(r).to=h,r.setData(p);var v=r.get("symbol"),g=r.get("symbolSize"),m=r.get("symbolRotate"),b=r.get("symbolOffset");Lt(v)||(v=[v,v]),Lt(g)||(g=[g,g]),Lt(m)||(m=[m,m]),Lt(b)||(b=[b,b]),f.from.each(function(x){_(d,x,!0),_(h,x,!1)}),p.each(function(x){var E=p.getItemModel(x).getModel("lineStyle").getLineStyle();p.setItemLayout(x,[d.getItemLayout(x),h.getItemLayout(x)]),E.stroke==null&&(E.stroke=d.getItemVisual(x,"style").fill),p.setItemVisual(x,{fromSymbolKeepAspect:d.getItemVisual(x,"symbolKeepAspect"),fromSymbolOffset:d.getItemVisual(x,"symbolOffset"),fromSymbolRotate:d.getItemVisual(x,"symbolRotate"),fromSymbolSize:d.getItemVisual(x,"symbolSize"),fromSymbol:d.getItemVisual(x,"symbol"),toSymbolKeepAspect:h.getItemVisual(x,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(x,"symbolOffset"),toSymbolRotate:h.getItemVisual(x,"symbolRotate"),toSymbolSize:h.getItemVisual(x,"symbolSize"),toSymbol:h.getItemVisual(x,"symbol"),style:E})}),c.updateData(p),f.line.eachItemGraphicEl(function(x){gr(x).dataModel=r,x.traverse(function(E){gr(E).dataModel=r})});function _(x,E,A){var T=x.getItemModel(E);M6(x,E,A,n,a);var R=T.getModel("itemStyle").getItemStyle();R.fill==null&&(R.fill=hw(l,"color")),x.setItemVisual(E,{symbolKeepAspect:T.get("symbolKeepAspect"),symbolOffset:Sr(T.get("symbolOffset",!0),b[A?0:1]),symbolRotate:Sr(T.get("symbolRotate",!0),m[A?0:1]),symbolSize:Sr(T.get("symbolSize"),g[A?0:1]),symbol:Sr(T.get("symbol",!0),v[A?0:1]),style:R})}this.markKeep(c),c.group.silent=r.get("silent")||n.get("silent")},t.type="markLine",t}(QG);function PSt(e,t,n){var r;e?r=Vt(e&&e.dimensions,function(u){var c=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return Ct(Ct({},c),{name:u,ordinalMeta:null})}):r=[{name:"value",type:"float"}];var i=new Rl(r,n),a=new Rl(r,n),o=new Rl([],n),s=Vt(n.get("data"),Tr(MSt,t,e,n));e&&(s=Xi(s,Tr(OSt,e)));var l=nEe(!!e,r);return i.initData(Vt(s,function(u){return u[0]}),null,l),a.initData(Vt(s,function(u){return u[1]}),null,l),o.initData(Vt(s,function(u){return u[2]})),o.hasItemOption=!0,{from:i,to:a,line:o}}function LSt(e){e.registerComponentModel(ISt),e.registerComponentView(DSt),e.registerPreprocessor(function(t){qG(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var NSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.createMarkerModelFromSeries=function(n,r,i){return new t(n,r,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Np),mI=ui(),BSt=function(e,t,n,r){var i=r[0],a=r[1];if(!(!i||!a)){var o=_T(e,i),s=_T(e,a),l=o.coord,u=s.coord;l[0]=hs(l[0],-1/0),l[1]=hs(l[1],-1/0),u[0]=hs(u[0],1/0),u[1]=hs(u[1],1/0);var c=JH([{},o,s]);return c.coord=[o.coord,s.coord],c.x0=o.x,c.y0=o.y,c.x1=s.x,c.y1=s.y,c}};function xO(e){return!isNaN(e)&&!isFinite(e)}function Kre(e,t,n,r){var i=1-e;return xO(t[i])&&xO(n[i])}function kSt(e,t){var n=t.coord[0],r=t.coord[1],i={coord:n,x:t.x0,y:t.y0},a={coord:r,x:t.x1,y:t.y1};return Hy(e,"cartesian2d")?n&&r&&(Kre(1,n,r)||Kre(0,n,r))?!0:TSt(e,i,a):bT(e,i)||bT(e,a)}function qre(e,t,n,r,i){var a=r.coordinateSystem,o=e.getItemModel(t),s,l=vn(o.get(n[0]),i.getWidth()),u=vn(o.get(n[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))s=[l,u];else{if(r.getMarkerPosition){var c=e.getValues(["x0","y0"],t),f=e.getValues(["x1","y1"],t),d=a.clampData(c),h=a.clampData(f),p=[];n[0]==="x0"?p[0]=d[0]>h[0]?f[0]:c[0]:p[0]=d[0]>h[0]?c[0]:f[0],n[1]==="y0"?p[1]=d[1]>h[1]?f[1]:c[1]:p[1]=d[1]>h[1]?c[1]:f[1],s=r.getMarkerPosition(p,n,!0)}else{var v=e.get(n[0],t),g=e.get(n[1],t),m=[v,g];a.clampData&&a.clampData(m,m),s=a.dataToPoint(m,!0)}if(Hy(a,"cartesian2d")){var b=a.getAxis("x"),_=a.getAxis("y"),v=e.get(n[0],t),g=e.get(n[1],t);xO(v)?s[0]=b.toGlobalCoord(b.getExtent()[n[0]==="x0"?0:1]):xO(g)&&(s[1]=_.toGlobalCoord(_.getExtent()[n[1]==="y0"?0:1]))}isNaN(l)||(s[0]=l),isNaN(u)||(s[1]=u)}return s}var Zre=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],FSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.updateTransform=function(n,r,i){r.eachSeries(function(a){var o=Np.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(l){var u=Vt(Zre,function(f){return qre(s,l,f,a,i)});s.setItemLayout(l,u);var c=s.getItemGraphicEl(l);c.setShape("points",u)})}},this)},t.prototype.renderSeries=function(n,r,i,a){var o=n.coordinateSystem,s=n.id,l=n.getData(),u=this.markerGroupMap,c=u.get(s)||u.set(s,{group:new hr});this.group.add(c.group),this.markKeep(c);var f=USt(o,n,r);r.setData(f),f.each(function(d){var h=Vt(Zre,function(R){return qre(f,d,R,n,a)}),p=o.getAxis("x").scale,v=o.getAxis("y").scale,g=p.getExtent(),m=v.getExtent(),b=[p.parse(f.get("x0",d)),p.parse(f.get("x1",d))],_=[v.parse(f.get("y0",d)),v.parse(f.get("y1",d))];Mc(b),Mc(_);var x=!(g[0]>b[1]||g[1]<b[0]||m[0]>_[1]||m[1]<_[0]),E=!x;f.setItemLayout(d,{points:h,allClipped:E});var A=f.getItemModel(d).getModel("itemStyle").getItemStyle(),T=hw(l,"color");A.fill||(A.fill=T,An(A.fill)&&(A.fill=kM(A.fill,.4))),A.stroke||(A.stroke=T),f.setItemVisual(d,"style",A)}),f.diff(mI(c).data).add(function(d){var h=f.getItemLayout(d);if(!h.allClipped){var p=new Bl({shape:{points:h.points}});f.setItemGraphicEl(d,p),c.group.add(p)}}).update(function(d,h){var p=mI(c).data.getItemGraphicEl(h),v=f.getItemLayout(d);v.allClipped?p&&c.group.remove(p):(p?Si(p,{shape:{points:v.points}},r,d):p=new Bl({shape:{points:v.points}}),f.setItemGraphicEl(d,p),c.group.add(p))}).remove(function(d){var h=mI(c).data.getItemGraphicEl(d);c.group.remove(h)}).execute(),f.eachItemGraphicEl(function(d,h){var p=f.getItemModel(h),v=f.getItemVisual(h,"style");d.useStyle(f.getItemVisual(h,"style")),Ns(d,is(p),{labelFetcher:r,labelDataIndex:h,defaultText:f.getName(h)||"",inheritColor:An(v.fill)?kM(v.fill,1):"#000"}),Ls(d,p),to(d,null,null,p.get(["emphasis","disabled"])),gr(d).dataModel=r}),mI(c).data=f,c.group.silent=r.get("silent")||n.get("silent")},t.type="markArea",t}(QG);function USt(e,t,n){var r,i,a=["x0","y0","x1","y1"];if(e){var o=Vt(e&&e.dimensions,function(u){var c=t.getData(),f=c.getDimensionInfo(c.mapDimension(u))||{};return Ct(Ct({},f),{name:u,ordinalMeta:null})});i=Vt(a,function(u,c){return{name:u,type:o[c%2].type}}),r=new Rl(i,n)}else i=[{name:"value",type:"float"}],r=new Rl(i,n);var s=Vt(n.get("data"),Tr(BSt,t,e,n));e&&(s=Xi(s,Tr(kSt,e)));var l=e?function(u,c,f,d){var h=u.coord[Math.floor(d/2)][d%2];return Ag(h,i[d])}:function(u,c,f,d){return Ag(u.value,i[d])};return r.initData(s,null,l),r.hasItemOption=!0,r}function VSt(e){e.registerComponentModel(NSt),e.registerComponentView(FSt),e.registerPreprocessor(function(t){qG(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var zSt=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},F9=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.layoutMode={type:"box",ignoreSize:!0},n}return t.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),n.selected=n.selected||{},this._updateSelector(n)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},t.prototype._updateSelector=function(n){var r=n.selector,i=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),Lt(r)&&te(r,function(a,o){An(a)&&(a={type:a}),r[o]=wr(a,zSt(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<n.length;i++){var a=n[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(n[0].get("name"))}},t.prototype._updateData=function(n){var r=[],i=[];n.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();n.isSeriesFiltered(l)||(i=i.concat(d)),d.length?r=r.concat(d):c=!0}else c=!0;c&&uW(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,o=Fn(),s=Vt(a,function(l){return(An(l)||yi(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new zi(l,this,this.ecModel))},this);this._data=Xi(s,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(n){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;te(a,function(o){r[o.get("name")]=!1})}r[n]=!0},t.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},t.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},t.prototype.allSelect=function(){var n=this._data,r=this.option.selected;te(n,function(i){r[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;te(n,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},t.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&Ur(this._availableNames,n)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Qr),l1=Tr,U9=te,yI=hr,rEe=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!1,n}return t.prototype.init=function(){this.group.add(this._contentGroup=new yI),this.group.add(this._selectorGroup=new yI),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(n,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var o=n.get("align"),s=n.get("orient");(!o||o==="auto")&&(o=n.get("left")==="right"&&s==="vertical"?"right":"left");var l=n.get("selector",!0),u=n.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,n,r,i,l,s,u);var c=n.getBoxLayoutParams(),f={width:i.getWidth(),height:i.getHeight()},d=n.get("padding"),h=$o(c,f,d),p=this.layoutInner(n,o,h,a,l,u),v=$o(tr({width:p.width,height:p.height},c),f,d);this.group.x=v.x-p.x,this.group.y=v.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=GAe(p,n))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(n,r,i,a,o,s,l){var u=this.getContentGroup(),c=Fn(),f=r.get("selectedMode"),d=[];i.eachRawSeries(function(h){!h.get("legendHoverLink")&&d.push(h.id)}),U9(r.getData(),function(h,p){var v=h.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var g=new yI;g.newline=!0,u.add(g);return}var m=i.getSeriesByName(v)[0];if(!c.get(v))if(m){var b=m.getData(),_=b.getVisual("legendLineStyle")||{},x=b.getVisual("legendIcon"),E=b.getVisual("style"),A=this._createItem(m,v,p,h,r,n,_,E,x,f,a);A.on("click",l1(Qre,v,null,a,d)).on("mouseover",l1(V9,m.name,null,a,d)).on("mouseout",l1(z9,m.name,null,a,d)),i.ssr&&A.eachChild(function(T){var R=gr(T);R.seriesIndex=m.seriesIndex,R.dataIndex=p,R.ssrType="legend"}),c.set(v,!0)}else i.eachRawSeries(function(T){if(!c.get(v)&&T.legendVisualProvider){var R=T.legendVisualProvider;if(!R.containName(v))return;var M=R.indexOfName(v),O=R.getItemVisual(M,"style"),D=R.getItemVisual(M,"legendIcon"),C=Hu(O.fill);C&&C[3]===0&&(C[3]=.2,O=Ct(Ct({},O),{fill:yp(C,"rgba")}));var P=this._createItem(T,v,p,h,r,n,{},O,D,f,a);P.on("click",l1(Qre,null,v,a,d)).on("mouseover",l1(V9,null,v,a,d)).on("mouseout",l1(z9,null,v,a,d)),i.ssr&&P.eachChild(function(B){var U=gr(B);U.seriesIndex=T.seriesIndex,U.dataIndex=p,U.ssrType="legend"}),c.set(v,!0)}},this)},this),o&&this._createSelector(o,r,a,s,l)},t.prototype._createSelector=function(n,r,i,a,o){var s=this.getSelectorGroup();U9(n,function(u){var c=u.type,f=new pi({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(f);var d=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);Ns(f,{normal:d,emphasis:h},{defaultText:u.title}),J0(f)})},t.prototype._createItem=function(n,r,i,a,o,s,l,u,c,f,d){var h=n.visualDrawType,p=o.get("itemWidth"),v=o.get("itemHeight"),g=o.isSelected(r),m=a.get("symbolRotate"),b=a.get("symbolKeepAspect"),_=a.get("icon");c=_||c||"roundRect";var x=$St(c,a,l,u,h,g,d),E=new yI,A=a.getModel("textStyle");if(er(n.getLegendIcon)&&(!_||_==="inherit"))E.add(n.getLegendIcon({itemWidth:p,itemHeight:v,icon:c,iconRotate:m,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:b}));else{var T=_==="inherit"&&n.getData().getVisual("symbol")?m==="inherit"?n.getData().getVisual("symbolRotate"):m:0;E.add(HSt({itemWidth:p,itemHeight:v,icon:c,iconRotate:T,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:b}))}var R=s==="left"?p+5:-5,M=s,O=o.get("formatter"),D=r;An(O)&&O?D=O.replace("{name}",r??""):er(O)&&(D=O(r));var C=g?A.getTextColor():a.get("inactiveColor");E.add(new pi({style:ha(A,{text:D,x:R,y:v/2,fill:C,align:M,verticalAlign:"middle"},{inheritColor:C})}));var P=new si({shape:E.getBoundingRect(),style:{fill:"transparent"}}),B=a.getModel("tooltip");return B.get("show")&&Nx({el:P,componentModel:o,itemName:r,itemTooltipOption:B.option}),E.add(P),E.eachChild(function(U){U.silent=!0}),P.silent=!f,this.getContentGroup().add(E),J0(E),E.__legendDataIndex=i,E},t.prototype.layoutInner=function(n,r,i,a,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();ty(n.get("orient"),l,n.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),f=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){ty("horizontal",u,n.get("selectorItemGap",!0));var d=u.getBoundingRect(),h=[-d.x,-d.y],p=n.get("selectorButtonGap",!0),v=n.getOrient().index,g=v===0?"width":"height",m=v===0?"height":"width",b=v===0?"y":"x";s==="end"?h[v]+=c[g]+p:f[v]+=d[g]+p,h[1-v]+=c[m]/2-d[m]/2,u.x=h[0],u.y=h[1],l.x=f[0],l.y=f[1];var _={x:0,y:0};return _[g]=c[g]+p+d[g],_[m]=Math.max(c[m],d[m]),_[b]=Math.min(0,d[b]+h[1-v]),_}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Ba);function $St(e,t,n,r,i,a,o){function s(g,m){g.lineWidth==="auto"&&(g.lineWidth=m.lineWidth>0?2:0),U9(g,function(b,_){g[_]==="inherit"&&(g[_]=m[_])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=e.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");u.decal=!f||f==="inherit"?r.decal:Yb(f,o),u.fill==="inherit"&&(u.fill=r[i]),u.stroke==="inherit"&&(u.stroke=r[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?r:n).opacity),s(u,r);var d=t.getModel("lineStyle"),h=d.getLineStyle();if(s(h,n),u.fill==="auto"&&(u.fill=r.fill),u.stroke==="auto"&&(u.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!a){var p=t.get("inactiveBorderWidth"),v=u[c];u.lineWidth=p==="auto"?r.lineWidth>0&&v?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:u,lineStyle:h}}function HSt(e){var t=e.icon||"roundRect",n=Io(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return n.setStyle(e.itemStyle),n.rotation=(e.iconRotate||0)*Math.PI/180,n.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function Qre(e,t,n,r){z9(e,t,n,r),n.dispatchAction({type:"legendToggleSelect",name:e??t}),V9(e,t,n,r)}function iEe(e){for(var t=e.getZr().storage.getDisplayList(),n,r=0,i=t.length;r<i&&!(n=t[r].states.emphasis);)r++;return n&&n.hoverLayer}function V9(e,t,n,r){iEe(n)||n.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:r})}function z9(e,t,n,r){iEe(n)||n.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:r})}function WSt(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(n){for(var r=0;r<t.length;r++)if(!t[r].isSelected(n.name))return!1;return!0})}function wA(e,t,n){var r={},i=e==="toggleSelected",a;return n.eachComponent("legend",function(o){i&&a!=null?o[a?"select":"unSelect"](t.name):e==="allSelect"||e==="inverseSelect"?o[e]():(o[e](t.name),a=o.isSelected(t.name));var s=o.getData();te(s,function(l){var u=l.get("name");if(!(u===`
`||u==="")){var c=o.isSelected(u);r.hasOwnProperty(u)?r[u]=r[u]&&c:r[u]=c}})}),e==="allSelect"||e==="inverseSelect"?{selected:r}:{name:t.name,selected:r}}function GSt(e){e.registerAction("legendToggleSelect","legendselectchanged",Tr(wA,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",Tr(wA,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",Tr(wA,"inverseSelect")),e.registerAction("legendSelect","legendselected",Tr(wA,"select")),e.registerAction("legendUnSelect","legendunselected",Tr(wA,"unSelect"))}function aEe(e){e.registerComponentModel(F9),e.registerComponentView(rEe),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,WSt),e.registerSubTypeDefaulter("legend",function(){return"plain"}),GSt(e)}var jSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},t.prototype.init=function(n,r,i){var a=Ux(n);e.prototype.init.call(this,n,r,i),Jre(this,n,a)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),Jre(this,this.option,n)},t.type="legend.scroll",t.defaultOption=nm(F9.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(F9);function Jre(e,t,n){var r=e.getOrient(),i=[1,1];i[r.index]=0,$g(t,n,{type:"box",ignoreSize:!!i})}var eie=hr,O6=["width","height"],D6=["x","y"],YSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.newlineDisabled=!0,n._currentIndex=0,n}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new eie),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new eie)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(n,r,i,a,o,s,l){var u=this;e.prototype.renderInner.call(this,n,r,i,a,o,s,l);var c=this._controllerGroup,f=r.get("pageIconSize",!0),d=Lt(f)?f:[f,f];p("pagePrev",0);var h=r.getModel("pageTextStyle");c.add(new pi({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(v,g){var m=v+"DataIndex",b=fw(r.get("pageIcons",!0)[r.getOrient().name][g],{onclick:Rn(u._pageGo,u,m,r,a)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});b.name=v,c.add(b)}},t.prototype.layoutInner=function(n,r,i,a,o,s){var l=this.getSelectorGroup(),u=n.getOrient().index,c=O6[u],f=D6[u],d=O6[1-u],h=D6[1-u];o&&ty("horizontal",l,n.get("selectorItemGap",!0));var p=n.get("selectorButtonGap",!0),v=l.getBoundingRect(),g=[-v.x,-v.y],m=sr(i);o&&(m[c]=i[c]-v[c]-p);var b=this._layoutContentAndController(n,a,m,u,c,d,h,f);if(o){if(s==="end")g[u]+=b[c]+p;else{var _=v[c]+p;g[u]-=_,b[f]-=_}b[c]+=v[c]+p,g[1-u]+=b[h]+b[d]/2-v[d]/2,b[d]=Math.max(b[d],v[d]),b[h]=Math.min(b[h],v[h]+g[1-u]),l.x=g[0],l.y=g[1],l.markRedraw()}return b},t.prototype._layoutContentAndController=function(n,r,i,a,o,s,l,u){var c=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;ty(n.get("orient"),c,n.get("itemGap"),a?i.width:null,a?null:i.height),ty("horizontal",d,n.get("pageButtonItemGap",!0));var h=c.getBoundingRect(),p=d.getBoundingRect(),v=this._showController=h[o]>i[o],g=[-h.x,-h.y];r||(g[a]=c[u]);var m=[0,0],b=[-p.x,-p.y],_=Sr(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(v){var x=n.get("pageButtonPosition",!0);x==="end"?b[a]+=i[o]-p[o]:m[a]+=p[o]+_}b[1-a]+=h[s]/2-p[s]/2,c.setPosition(g),f.setPosition(m),d.setPosition(b);var E={x:0,y:0};if(E[o]=v?i[o]:h[o],E[s]=Math.max(h[s],p[s]),E[l]=Math.min(0,p[l]+b[1-a]),f.__rectSize=i[o],v){var A={x:0,y:0};A[o]=Math.max(i[o]-p[o]-_,0),A[s]=E[s],f.setClipPath(new si({shape:A})),f.__rectSize=A[o]}else d.eachChild(function(R){R.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(n);return T.pageIndex!=null&&Si(c,{x:T.contentPosition[0],y:T.contentPosition[1]},v?n:null),this._updatePageInfoView(n,T),E},t.prototype._pageGo=function(n,r,i){var a=this._getPageInfo(r)[n];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},t.prototype._updatePageInfoView=function(n,r){var i=this._controllerGroup;te(["pagePrev","pageNext"],function(c){var f=c+"DataIndex",d=r[f]!=null,h=i.childOfName(c);h&&(h.setStyle("fill",d?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var a=i.childOfName("pageText"),o=n.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,u=r.pageCount;a&&o&&a.setStyle("text",An(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},t.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,o=n.getOrient().index,s=O6[o],l=D6[o],u=this._findTargetItemIndex(r),c=i.children(),f=c[u],d=c.length,h=d?1:0,p={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return p;var v=x(f);p.contentPosition[o]=-v.s;for(var g=u+1,m=v,b=v,_=null;g<=d;++g)_=x(c[g]),(!_&&b.e>m.s+a||_&&!E(_,m.s))&&(b.i>m.i?m=b:m=_,m&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=m.i),++p.pageCount)),b=_;for(var g=u-1,m=v,b=v,_=null;g>=-1;--g)_=x(c[g]),(!_||!E(b,_.s))&&m.i<b.i&&(b=m,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=_;return p;function x(A){if(A){var T=A.getBoundingRect(),R=T[l]+A[l];return{s:R,e:R+T[s],i:A.__legendDataIndex}}}function E(A,T){return A.e>=T&&A.s<=T+a}},t.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(o,s){var l=o.__legendDataIndex;a==null&&l!=null&&(a=s),l===n&&(r=s)}),r??a},t.type="legend.scroll",t}(rEe);function XSt(e){e.registerAction("legendScroll","legendscroll",function(t,n){var r=t.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(r)})})}function KSt(e){Vr(aEe),e.registerComponentModel(jSt),e.registerComponentView(YSt),XSt(e)}function qSt(e){Vr(aEe),Vr(KSt)}var ZSt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.inside",t.defaultOption=nm(yT.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(yT),JG=ui();function QSt(e,t,n){JG(e).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(t.uid);i&&(i.getRange=n)})}function JSt(e,t){for(var n=JG(e).coordSysRecordMap,r=n.keys(),i=0;i<r.length;i++){var a=r[i],o=n.get(a),s=o.dataZoomInfoMap;if(s){var l=t.uid,u=s.get(l);u&&(s.removeKey(l),s.keys().length||oEe(n,o))}}}function oEe(e,t){if(t){e.removeKey(t.model.uid);var n=t.controller;n&&n.dispose()}}function eAt(e,t){var n={model:t,containsPoint:Tr(nAt,t),dispatchAction:Tr(tAt,e),dataZoomInfoMap:null,controller:null},r=n.controller=new Sw(e.getZr());return te(["pan","zoom","scrollMove"],function(i){r.on(i,function(a){var o=[];n.dataZoomInfoMap.each(function(s){if(a.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[i],u=l&&l(s.dzReferCoordSysInfo,n.model.mainType,n.controller,a);!s.model.get("disabled",!0)&&u&&o.push({dataZoomId:s.model.id,start:u[0],end:u[1]})}}),o.length&&n.dispatchAction(o)})}),n}function tAt(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function nAt(e,t,n,r){return e.coordinateSystem.containPoint([n,r])}function rAt(e){var t,n="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return e.each(function(a){var o=a.model,s=o.get("disabled",!0)?!1:o.get("zoomLock",!0)?"move":!0;r[n+s]>r[n+t]&&(t=s),i=i&&o.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function iAt(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,n){var r=JG(n),i=r.coordSysRecordMap||(r.coordSysRecordMap=Fn());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var o=$Ae(a);te(o.infoList,function(s){var l=s.model.uid,u=i.get(l)||i.set(l,eAt(n,s.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=Fn());c.set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),i.each(function(a){var o=a.controller,s,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(s=l.get(u))}if(!s){oEe(i,a);return}var c=rAt(l);o.enable(c.controlType,c.opt),o.setPointerChecker(a.containsPoint),$x(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")})})}var aAt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return t.prototype.render=function(n,r,i){if(e.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),QSt(i,n,{pan:Rn(P6.pan,this),zoom:Rn(P6.zoom,this),scrollMove:Rn(P6.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){JSt(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(WG),P6={zoom:function(e,t,n,r){var i=this.range,a=i.slice(),o=e.axisModels[0];if(o){var s=L6[t](null,[r.originX,r.originY],o,n,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/r.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Gy(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:tie(function(e,t,n,r,i,a){var o=L6[r]([a.oldX,a.oldY],[a.newX,a.newY],t,i,n);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength}),scrollMove:tie(function(e,t,n,r,i,a){var o=L6[r]([0,0],[a.scrollDelta,a.scrollDelta],t,i,n);return o.signal*(e[1]-e[0])*a.scrollDelta})};function tie(e){return function(t,n,r,i){var a=this.range,o=a.slice(),s=t.axisModels[0];if(s){var l=e(o,s,t,n,r,i);if(Gy(l,o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1])return o}}}var L6={grid:function(e,t,n,r,i){var a=n.axis,o={},s=i.model.coordinateSystem.getRect();return e=e||[0,0],a.dim==="x"?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(e,t,n,r,i){var a=n.axis,o={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],t=s.pointToCoord(t),n.mainType==="radiusAxis"?(o.pixel=t[0]-e[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=a.inverse?-1:1),o},singleAxis:function(e,t,n,r,i){var a=n.axis,o=i.model.coordinateSystem.getRect(),s={};return e=e||[0,0],a.orient==="horizontal"?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};function sEe(e){GG(e),e.registerComponentModel(ZSt),e.registerComponentView(aAt),iAt(e)}var oAt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=nm(yT.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(yT),CA=si,nie=7,sAt=1,N6=30,lAt=7,RA="horizontal",rie="vertical",uAt=5,cAt=["line","bar","candlestick","scatter"],fAt={easing:"cubicOut",duration:100,delay:0},dAt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._displayables={},n}return t.prototype.init=function(n,r){this.api=r,this._onBrush=Rn(this._onBrush,this),this._onBrushEnd=Rn(this._onBrushEnd,this)},t.prototype.render=function(n,r,i,a){if(e.prototype.render.apply(this,arguments),$x(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this._orient=n.getOrient(),n.get("show")===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){aT(this,"_dispatchZoomAction");var n=this.api.getZr();n.off("mousemove",this._onBrush),n.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var n=this.group;n.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new hr;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),n.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var n=this.dataZoomModel,r=this.api,i=n.get("brushSelect"),a=i?lAt:0,o=this._findCoordRect(),s={width:r.getWidth(),height:r.getHeight()},l=this._orient===RA?{right:s.width-o.x-o.width,top:s.height-N6-nie-a,width:o.width,height:N6}:{right:nie,top:o.y,width:N6,height:o.height},u=Ux(n.option);te(["right","top","width","height"],function(f){u[f]==="ph"&&(u[f]=l[f])});var c=$o(u,s);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===rie&&this._size.reverse()},t.prototype._positionGroup=function(){var n=this.group,r=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(i===RA&&!o?{scaleY:l?1:-1,scaleX:1}:i===RA&&o?{scaleY:l?1:-1,scaleX:-1}:i===rie&&!o?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=n.getBoundingRect([s]);n.x=r.x-u.x,n.y=r.y-u.y,n.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var n=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,a=n.get("brushSelect");i.add(new CA({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:n.get("backgroundColor")},z2:-40}));var o=new CA({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:Rn(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),i.add(o)},t.prototype._renderDataShadow=function(){var n=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!n)return;var r=this._size,i=this._shadowSize||[],a=n.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),l=s&&o.getDimensionInfo(s)?a.getShadowDim():n.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var f=o.getDataExtent(l),d=(f[1]-f[0])*.3;f=[f[0]-d,f[1]+d];var h=[0,r[1]],p=[0,r[0]],v=[[r[0],0],[0,0]],g=[],m=p[1]/(o.count()-1),b=0,_=Math.round(o.count()/r[0]),x;o.each([l],function(M,O){if(_>0&&O%_){b+=m;return}var D=M==null||isNaN(M)||M==="",C=D?0:Wi(M,f,h,!0);D&&!x&&O?(v.push([v[v.length-1][0],0]),g.push([g[g.length-1][0],0])):!D&&x&&(v.push([b,0]),g.push([b,0])),v.push([b,C]),g.push([b,C]),b+=m,x=D}),u=this._shadowPolygonPts=v,c=this._shadowPolylinePts=g}this._shadowData=o,this._shadowDim=l,this._shadowSize=[r[0],r[1]];var E=this.dataZoomModel;function A(M){var O=E.getModel(M?"selectedDataBackground":"dataBackground"),D=new hr,C=new Bl({shape:{points:u},segmentIgnoreThreshold:1,style:O.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),P=new kl({shape:{points:c},segmentIgnoreThreshold:1,style:O.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return D.add(C),D.add(P),D}for(var T=0;T<3;T++){var R=A(T===1);this._displayables.sliderGroup.add(R),this._displayables.dataShadowSegs.push(R)}},t.prototype._prepareDataShadowInfo=function(){var n=this.dataZoomModel,r=n.get("showDataShadow");if(r!==!1){var i,a=this.ecModel;return n.eachTargetAxis(function(o,s){var l=n.getAxisProxy(o,s).getTargetSeriesModels();te(l,function(u){if(!i&&!(r!==!0&&Ur(cAt,u.get("type"))<0)){var c=a.getComponent(hg(o),s).axis,f=hAt(o),d,h=u.coordinateSystem;f!=null&&h.getOtherAxis&&(d=h.getOtherAxis(c).inverse),f=u.getData().mapDimension(f),i={thisAxis:c,series:u,thisDim:o,otherDim:f,otherAxisInverse:d}}},this)},this),i}},t.prototype._renderHandle=function(){var n=this.group,r=this._displayables,i=r.handles=[null,null],a=r.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,f=l.get("brushSelect"),d=r.filler=new CA({silent:f,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(d),o.add(new CA({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:sAt,fill:"rgba(0,0,0,0)"}})),te([0,1],function(_){var x=l.get("handleIcon");!QM[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var E=Io(x,-1,0,2,2,null,!0);E.attr({cursor:iie(this._orient),draggable:!0,drift:Rn(this._onDragMove,this,_),ondragend:Rn(this._onDragEnd,this),onmouseover:Rn(this._showDataInfo,this,!0),onmouseout:Rn(this._showDataInfo,this,!1),z2:5});var A=E.getBoundingRect(),T=l.get("handleSize");this._handleHeight=vn(T,this._size[1]),this._handleWidth=A.width/A.height*this._handleHeight,E.setStyle(l.getModel("handleStyle").getItemStyle()),E.style.strokeNoScale=!0,E.rectHover=!0,E.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),J0(E);var R=l.get("handleColor");R!=null&&(E.style.fill=R),o.add(i[_]=E);var M=l.getModel("textStyle");n.add(a[_]=new pi({silent:!0,invisible:!0,style:ha(M,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:M.getTextColor(),font:M.getFont()}),z2:10}))},this);var h=d;if(f){var p=vn(l.get("moveHandleSize"),s[1]),v=r.moveHandle=new si({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:p}}),g=p*.8,m=r.moveHandleIcon=Io(l.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);m.silent=!0,m.y=s[1]+p/2-.5,v.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var b=Math.min(s[1]/2,Math.max(p,10));h=r.moveZone=new si({invisible:!0,shape:{y:s[1]-b,height:p+b}}),h.on("mouseover",function(){u.enterEmphasis(v)}).on("mouseout",function(){u.leaveEmphasis(v)}),o.add(v),o.add(m),o.add(h)}h.attr({draggable:!0,cursor:iie(this._orient),drift:Rn(this._onDragMove,this,"all"),ondragstart:Rn(this._showDataInfo,this,!0),ondragend:Rn(this._onDragEnd,this),onmouseover:Rn(this._showDataInfo,this,!0),onmouseout:Rn(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var n=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Wi(n[0],[0,100],r,!0),Wi(n[1],[0,100],r,!0)]},t.prototype._updateInterval=function(n,r){var i=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];Gy(r,a,o,i.get("zoomLock")?"all":n,s.minSpan!=null?Wi(s.minSpan,l,o,!0):null,s.maxSpan!=null?Wi(s.maxSpan,l,o,!0):null);var u=this._range,c=this._range=Mc([Wi(a[0],o,l,!0),Wi(a[1],o,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(n){var r=this._displayables,i=this._handleEnds,a=Mc(i.slice()),o=this._size;te([0,1],function(h){var p=r.handles[h],v=this._handleHeight;p.attr({scaleX:v/2,scaleY:v/2,x:i[h]+(h?-1:1),y:o[1]/2-v/2})},this),r.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};r.moveHandle&&(r.moveHandle.setShape(s),r.moveZone.setShape(s),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=r.dataShadowSegs,u=[0,a[0],a[1],o[0]],c=0;c<l.length;c++){var f=l[c],d=f.getClipPath();d||(d=new si,f.setClipPath(d)),d.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:o[1]})}this._updateDataInfo(n)},t.prototype._updateDataInfo=function(n){var r=this.dataZoomModel,i=this._displayables,a=i.handleLabels,o=this._orient,s=["",""];if(r.get("showDetail")){var l=r.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,f=n?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(f[0],u),this._formatLabel(f[1],u)]}}var d=Mc(this._handleEnds.slice());h.call(this,0),h.call(this,1);function h(p){var v=ey(i.handles[p].parent,this.group),g=xP(p===0?"right":"left",v),m=this._handleWidth/2+uAt,b=$f([d[p]+(p===0?-m:m),this._size[1]/2],v);a[p].setStyle({x:b[0],y:b[1],verticalAlign:o===RA?"middle":g,align:o===RA?g:"center",text:s[p]})}},t.prototype._formatLabel=function(n,r){var i=this.dataZoomModel,a=i.get("labelFormatter"),o=i.get("labelPrecision");(o==null||o==="auto")&&(o=r.getPixelPrecision());var s=n==null||isNaN(n)?"":r.type==="category"||r.type==="time"?r.scale.getLabel({value:Math.round(n)}):n.toFixed(Math.min(o,20));return er(a)?a(n,s):An(a)?a.replace("{value}",s):s},t.prototype._showDataInfo=function(n){n=this._dragging||n;var r=this._displayables,i=r.handleLabels;i[0].attr("invisible",!n),i[1].attr("invisible",!n),r.moveHandle&&this.api[n?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},t.prototype._onDragMove=function(n,r,i,a){this._dragging=!0,Rp(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=$f([r,i],o,!0),l=this._updateInterval(n,s[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var n=this.dataZoomModel.get("realtime");!n&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(n){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(n.offsetX,n.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,s=this._updateInterval("all",i[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(n){var r=n.offsetX,i=n.offsetY;this._brushStart=new Rr(r,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(n){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,!!r){r.attr("ignore",!0);var i=r.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=Mc([Wi(i.x,o,s,!0),Wi(i.x+i.width,o,s,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(n){this._brushing&&(Rp(n.event),this._updateBrushRect(n.offsetX,n.offsetY))},t.prototype._updateBrushRect=function(n,r){var i=this._displayables,a=this.dataZoomModel,o=i.brushRect;o||(o=i.brushRect=new CA({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(n,r),c=l.transformCoordToLocal(s.x,s.y),f=this._size;u[0]=Math.max(Math.min(f[0],u[0]),0),o.setShape({x:c[0],y:0,width:u[0]-c[0],height:f[1]})},t.prototype._dispatchZoomAction=function(n){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:n?fAt:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var n,r=$Ae(this.dataZoomModel).infoList;if(!n&&r.length){var i=r[0].model.coordinateSystem;n=i.getRect&&i.getRect()}if(!n){var a=this.api.getWidth(),o=this.api.getHeight();n={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return n},t.type="dataZoom.slider",t}(WG);function hAt(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function iie(e){return e==="vertical"?"ns-resize":"ew-resize"}function lEe(e){e.registerComponentModel(oAt),e.registerComponentView(dAt),GG(e)}function pAt(e){Vr(sEe),Vr(lEe)}var uEe={get:function(e,t,n){var r=sr((vAt[e]||{})[t]);return n&&Lt(r)?r[r.length-1]:r}},vAt={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},aie=es.mapVisual,gAt=es.eachVisual,mAt=Lt,oie=te,yAt=Mc,_At=Wi,SO=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return t.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},t.prototype.optionUpdated=function(n,r){var i=this.option;!r&&QAe(i,n,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(n){var r=this.stateList;n=Rn(n,this),this.controllerVisuals=N9(this.option.controller,r,n),this.targetVisuals=N9(this.option.target,r,n)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var n=this.option.seriesIndex,r=[];return n==null||n==="all"?this.ecModel.eachSeries(function(i,a){r.push(a)}):r=Zi(n),r},t.prototype.eachTargetSeries=function(n,r){te(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&n.call(r,a)},this)},t.prototype.isTargetSeries=function(n){var r=!1;return this.eachTargetSeries(function(i){i===n&&(r=!0)}),r},t.prototype.formatValueText=function(n,r,i){var a=this.option,o=a.precision,s=this.dataBound,l=a.formatter,u;i=i||["<",">"],Lt(n)&&(n=n.slice(),u=!0);var c=r?n:u?[f(n[0]),f(n[1])]:f(n);if(An(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(er(l))return u?l(n[0],n[1]):l(n);if(u)return n[0]===s[0]?i[0]+" "+c[1]:n[1]===s[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function f(d){return d===s[0]?"min":d===s[1]?"max":(+d).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var n=this.option,r=yAt([n.min,n.max]);this._dataExtent=r},t.prototype.getDataDimensionIndex=function(n){var r=this.option.dimension;if(r!=null)return n.getDimensionIndex(r);for(var i=n.dimensions,a=i.length-1;a>=0;a--){var o=i[a],s=n.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var n=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},a=r.target||(r.target={}),o=r.controller||(r.controller={});wr(a,i),wr(o,i);var s=this.isCategory();l.call(this,a),l.call(this,o),u.call(this,a,"inRange","outOfRange"),c.call(this,o);function l(f){mAt(r.color)&&!f.inRange&&(f.inRange={color:r.color.slice().reverse()}),f.inRange=f.inRange||{color:n.get("gradientColor")}}function u(f,d,h){var p=f[d],v=f[h];p&&!v&&(v=f[h]={},oie(p,function(g,m){if(es.isValidType(m)){var b=uEe.get(m,"inactive",s);b!=null&&(v[m]=b,m==="color"&&!v.hasOwnProperty("opacity")&&!v.hasOwnProperty("colorAlpha")&&(v.opacity=[0,0]))}}))}function c(f){var d=(f.inRange||{}).symbol||(f.outOfRange||{}).symbol,h=(f.inRange||{}).symbolSize||(f.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),v=this.getItemSymbol(),g=v||"roundRect";oie(this.stateList,function(m){var b=this.itemSize,_=f[m];_||(_=f[m]={color:s?p:[p]}),_.symbol==null&&(_.symbol=d&&sr(d)||(s?g:[g])),_.symbolSize==null&&(_.symbolSize=h&&sr(h)||(s?b[0]:[b[0],b[0]])),_.symbol=aie(_.symbol,function(A){return A==="none"?g:A});var x=_.symbolSize;if(x!=null){var E=-1/0;gAt(x,function(A){A>E&&(E=A)}),_.symbolSize=aie(x,function(A){return _At(A,[0,E],[0,b[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(n){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(n){return null},t.prototype.getVisualMeta=function(n){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Qr),sie=[20,140],bAt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.optionUpdated=function(n,r){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;(n[0]==null||isNaN(n[0]))&&(n[0]=sie[0]),(n[1]==null||isNaN(n[1]))&&(n[1]=sie[1])},t.prototype._resetRange=function(){var n=this.getExtent(),r=this.option.range;!r||r.auto?(n.auto=1,this.option.range=n):Lt(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],n[0]),r[1]=Math.min(r[1],n[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),te(this.stateList,function(n){var r=this.option.controller[n].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},t.prototype.setSelected=function(n){this.option.range=n.slice(),this._resetRange()},t.prototype.getSelected=function(){var n=this.getExtent(),r=Mc((this.get("range")||[]).slice());return r[0]>n[1]&&(r[0]=n[1]),r[1]>n[1]&&(r[1]=n[1]),r[0]<n[0]&&(r[0]=n[0]),r[1]<n[0]&&(r[1]=n[0]),r},t.prototype.getValueState=function(n){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=n)&&(r[1]>=i[1]||n<=r[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(n){var r=[];return this.eachTargetSeries(function(i){var a=[],o=i.getData();o.each(this.getDataDimensionIndex(o),function(s,l){n[0]<=s&&s<=n[1]&&a.push(l)},this),r.push({seriesId:i.id,dataIndex:a})},this),r},t.prototype.getVisualMeta=function(n){var r=lie(this,"outOfRange",this.getExtent()),i=lie(this,"inRange",this.option.range.slice()),a=[];function o(h,p){a.push({value:h,color:n(h,p)})}for(var s=0,l=0,u=i.length,c=r.length;l<c&&(!i.length||r[l]<=i[0]);l++)r[l]<i[s]&&o(r[l],"outOfRange");for(var f=1;s<u;s++,f=0)f&&a.length&&o(i[s],"outOfRange"),o(i[s],"inRange");for(var f=1;l<c;l++)(!i.length||i[i.length-1]<r[l])&&(f&&(a.length&&o(a[a.length-1].value,"outOfRange"),f=0),o(r[l],"outOfRange"));var d=a.length;return{stops:a,outerColors:[d?a[0].color:"transparent",d?a[d-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=nm(SO.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(SO);function lie(e,t,n){if(n[0]===n[1])return n.slice();for(var r=200,i=(n[1]-n[0])/r,a=n[0],o=[],s=0;s<=r&&a<n[1];s++)o.push(a),a+=i;return o.push(n[1]),o}var cEe=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return t.prototype.init=function(n,r){this.ecModel=n,this.api=r},t.prototype.render=function(n,r,i,a){if(this.visualMapModel=n,n.get("show")===!1){this.group.removeAll();return}this.doRender(n,r,i,a)},t.prototype.renderBackground=function(n){var r=this.visualMapModel,i=Fx(r.get("padding")||0),a=n.getBoundingRect();n.add(new si({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},t.prototype.getControllerVisual=function(n,r,i){i=i||{};var a=i.forceState,o=this.visualMapModel,s={};if(r==="color"){var l=o.get("contentColor");s.color=l}function u(h){return s[h]}function c(h,p){s[h]=p}var f=o.controllerVisuals[a||o.getValueState(n)],d=es.prepareVisualTypes(f);return te(d,function(h){var p=f[h];i.convertOpacityToAlpha&&h==="opacity"&&(h="colorAlpha",p=f.__alphaForOpacity),es.dependsOn(h,r)&&p&&p.applyVisual(n,u,c)}),s[r]},t.prototype.positionGroup=function(n){var r=this.visualMapModel,i=this.api;RP(n,r.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(n,r,i,a){},t.type="visualMap",t}(Ba),uie=[["left","right","width"],["top","bottom","height"]];function fEe(e,t,n){var r=e.option,i=r.align;if(i!=null&&i!=="auto")return i;for(var a={width:t.getWidth(),height:t.getHeight()},o=r.orient==="horizontal"?1:0,s=uie[o],l=[0,null,10],u={},c=0;c<3;c++)u[uie[1-o][c]]=l[c],u[s[c]]=c===2?n[0]:r[s[c]];var f=[["x","width",3],["y","height",0]][o],d=$o(u,a,r.padding);return s[(d.margin[f[2]]||0)+d[f[0]]+d[f[1]]*.5<a[f[1]]*.5?0:1]}function U3(e,t){return te(e||[],function(n){n.dataIndex!=null&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null),n.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var Dd=Wi,xAt=te,cie=Math.min,B6=Math.max,SAt=12,AAt=6,EAt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return t.prototype.init=function(n,r){e.prototype.init.call(this,n,r),this._hoverLinkFromSeriesMouseOver=Rn(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Rn(this._hideIndicator,this)},t.prototype.doRender=function(n,r,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var n=this.visualMapModel,r=this.group;this._orient=n.get("orient"),this._useHandle=n.get("calculable"),this._resetInterval(),this._renderBar(r);var i=n.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},t.prototype._renderEndsText=function(n,r,i){if(r){var a=r[1-i];a=a!=null?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-s:l[1]+s],u),f=this._applyTransform(i===0?"bottom":"top",u),d=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new pi({style:ha(h,{x:c[0],y:c[1],verticalAlign:d==="horizontal"?"middle":f,align:d==="horizontal"?f:"center",text:a})}))}},t.prototype._renderBar=function(n){var r=this.visualMapModel,i=this._shapes,a=r.itemSize,o=this._orient,s=this._useHandle,l=fEe(r,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new hr;u.add(c),c.add(i.outOfRange=fie()),c.add(i.inRange=fie(null,s?hie(this._orient):null,Rn(this._dragHandle,this,"all",!1),Rn(this._dragHandle,this,"all",!0))),c.setClipPath(new si({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var f=r.textStyleModel.getTextRect("国"),d=B6(f.width,f.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,u,0,a,d,o),this._createHandle(r,u,1,a,d,o)),this._createIndicator(r,u,a,d,o),n.add(u)},t.prototype._createHandle=function(n,r,i,a,o,s){var l=Rn(this._dragHandle,this,i,!1),u=Rn(this._dragHandle,this,i,!0),c=Qf(n.get("handleSize"),a[0]),f=Io(n.get("handleIcon"),-c/2,-c/2,c,c,null,!0),d=hie(this._orient);f.attr({cursor:d,draggable:!0,drift:l,ondragend:u,onmousemove:function(m){Rp(m.event)}}),f.x=a[0]/2,f.useStyle(n.getModel("handleStyle").getItemStyle()),f.setStyle({strokeNoScale:!0,strokeFirst:!0}),f.style.lineWidth*=2,f.ensureState("emphasis").style=n.getModel(["emphasis","handleStyle"]).getItemStyle(),B0(f,!0),r.add(f);var h=this.visualMapModel.textStyleModel,p=new pi({cursor:d,draggable:!0,drift:l,onmousemove:function(m){Rp(m.event)},ondragend:u,style:ha(h,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var v=[c,0],g=this._shapes;g.handleThumbs[i]=f,g.handleLabelPoints[i]=v,g.handleLabels[i]=p},t.prototype._createIndicator=function(n,r,i,a,o){var s=Qf(n.get("indicatorSize"),i[0]),l=Io(n.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=n.getModel("indicatorStyle").getItemStyle();if(l instanceof ms){var c=l.style;l.useStyle(Ct({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);r.add(l);var f=this.visualMapModel.textStyleModel,d=new pi({silent:!0,invisible:!0,style:ha(f,{x:0,y:0,text:""})});this.group.add(d);var h=[(o==="horizontal"?a/2:AAt)+i[0]/2,0],p=this._shapes;p.indicator=l,p.indicatorLabel=d,p.indicatorLabelPoint=h,this._firstShowIndicator=!0},t.prototype._dragHandle=function(n,r,i,a){if(this._useHandle){if(this._dragging=!r,!r){var o=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(n,o[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():die(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[n],!1)}},t.prototype._resetInterval=function(){var n=this.visualMapModel,r=this._dataInterval=n.getSelected(),i=n.getExtent(),a=[0,n.itemSize[1]];this._handleEnds=[Dd(r[0],i,a,!0),Dd(r[1],i,a,!0)]},t.prototype._updateInterval=function(n,r){r=r||0;var i=this.visualMapModel,a=this._handleEnds,o=[0,i.itemSize[1]];Gy(r,a,o,n,0);var s=i.getExtent();this._dataInterval=[Dd(a[0],o,s,!0),Dd(a[1],o,s,!0)]},t.prototype._updateView=function(n){var r=this.visualMapModel,i=r.getExtent(),a=this._shapes,o=[0,r.itemSize[1]],s=n?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,s,"inRange"),u=this._createBarVisual(i,i,o,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},t.prototype._createBarVisual=function(n,r,i,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(n,o),l=[this.getControllerVisual(n[0],"symbolSize",o),this.getControllerVisual(n[1],"symbolSize",o)],u=this._createBarPoints(i,l);return{barColor:new Zo(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},t.prototype._makeColorGradient=function(n,r){var i=100,a=[],o=(n[1]-n[0])/i;a.push({color:this.getControllerVisual(n[0],"color",r),offset:0});for(var s=1;s<i;s++){var l=n[0]+o*s;if(l>n[1])break;a.push({color:this.getControllerVisual(l,"color",r),offset:s/i})}return a.push({color:this.getControllerVisual(n[1],"color",r),offset:1}),a},t.prototype._createBarPoints=function(n,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],n[0]],[i[0],n[0]],[i[0],n[1]],[i[0]-r[1],n[1]]]},t.prototype._createBarGroup=function(n){var r=this._orient,i=this.visualMapModel.get("inverse");return new hr(r==="horizontal"&&!i?{scaleX:n==="bottom"?1:-1,rotation:Math.PI/2}:r==="horizontal"&&i?{scaleX:n==="bottom"?-1:1,rotation:-Math.PI/2}:r==="vertical"&&!i?{scaleX:n==="left"?1:-1,scaleY:-1}:{scaleX:n==="left"?1:-1})},t.prototype._updateHandle=function(n,r){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,o=i.handleThumbs,s=i.handleLabels,l=a.itemSize,u=a.getExtent();xAt([0,1],function(c){var f=o[c];f.setStyle("fill",r.handlesColor[c]),f.y=n[c];var d=Dd(n[c],[0,l[1]],u,!0),h=this.getControllerVisual(d,"symbolSize");f.scaleX=f.scaleY=h/l[0],f.x=l[0]-h/2;var p=$f(i.handleLabelPoints[c],ey(f,this.group));s[c].setStyle({x:p[0],y:p[1],text:a.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(n,r,i,a){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,f=c.indicator;if(f){f.attr("invisible",!1);var d={convertOpacityToAlpha:!0},h=this.getControllerVisual(n,"color",d),p=this.getControllerVisual(n,"symbolSize"),v=Dd(n,s,u,!0),g=l[0]-p/2,m={x:f.x,y:f.y};f.y=v,f.x=g;var b=$f(c.indicatorLabelPoint,ey(f,this.group)),_=c.indicatorLabel;_.attr("invisible",!1);var x=this._applyTransform("left",c.mainGroup),E=this._orient,A=E==="horizontal";_.setStyle({text:(i||"")+o.formatValueText(r),verticalAlign:A?x:"middle",align:A?"center":x});var T={x:g,y:v,style:{fill:h}},R={style:{x:b[0],y:b[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var M={duration:100,easing:"cubicInOut",additive:!0};f.x=m.x,f.y=m.y,f.animateTo(T,M),_.animateTo(R,M)}else f.attr(T),_.attr(R);this._firstShowIndicator=!1;var O=this._shapes.handleLabels;if(O)for(var D=0;D<O.length;D++)this.api.enterBlur(O[D])}},t.prototype._enableHoverLinkToSeries=function(){var n=this;this._shapes.mainGroup.on("mousemove",function(r){if(n._hovering=!0,!n._dragging){var i=n.visualMapModel.itemSize,a=n._applyTransform([r.offsetX,r.offsetY],n._shapes.mainGroup,!0,!0);a[1]=cie(B6(0,a[1]),i[1]),n._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){n._hovering=!1,!n._dragging&&n._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var n=this.api.getZr();this.visualMapModel.option.hoverLink?(n.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),n.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(n,r){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var o=[0,a[1]],s=i.getExtent();n=cie(B6(o[0],n),o[1]);var l=TAt(i,s,o),u=[n-l,n+l],c=Dd(n,o,s,!0),f=[Dd(u[0],o,s,!0),Dd(u[1],o,s,!0)];u[0]<o[0]&&(f[0]=-1/0),u[1]>o[1]&&(f[1]=1/0),r&&(f[0]===-1/0?this._showIndicator(c,f[1],"< ",l):f[1]===1/0?this._showIndicator(c,f[0],"> ",l):this._showIndicator(c,c,"≈ ",l));var d=this._hoverLinkDataIndices,h=[];(r||die(i))&&(h=this._hoverLinkDataIndices=i.findTargetDataIndices(f));var p=Dot(d,h);this._dispatchHighDown("downplay",U3(p[0],i)),this._dispatchHighDown("highlight",U3(p[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(n){var r;if(F0(n.target,function(l){var u=gr(l);if(u.dataIndex!=null)return r=u,!0},!0),!!r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var o=i.getData(r.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),r.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},t.prototype._hideIndicator=function(){var n=this._shapes;n.indicator&&n.indicator.attr("invisible",!0),n.indicatorLabel&&n.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this.api.leaveBlur(r[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var n=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",U3(n,this.visualMapModel)),n.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var n=this.api.getZr();n.off("mouseover",this._hoverLinkFromSeriesMouseOver),n.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(n,r,i,a){var o=ey(r,a?null:this.group);return Lt(n)?$f(n,o,i):xP(n,o,i)},t.prototype._dispatchHighDown=function(n,r){r&&r.length&&this.api.dispatchAction({type:n,batch:r})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(cEe);function fie(e,t,n,r){return new Bl({shape:{points:e},draggable:!!n,cursor:t,drift:n,onmousemove:function(i){Rp(i.event)},ondragend:r})}function TAt(e,t,n){var r=SAt/2,i=e.get("hoverLinkDataSize");return i&&(r=Dd(i,t,n,!0)/2),r}function die(e){var t=e.get("hoverLinkOnHandle");return!!(t??e.get("realtime"))}function hie(e){return e==="vertical"?"ns-resize":"ew-resize"}var wAt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},CAt=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(n){n.setSelected(e.selected)})},RAt=[{createOnAllSeries:!0,reset:function(e,t){var n=[];return t.eachComponent("visualMap",function(r){var i=e.pipelineContext;!r.isTargetSeries(e)||i&&i.large||n.push(qxt(r.stateList,r.targetVisuals,Rn(r.getValueState,r),r.getDataDimensionIndex(e.getData())))}),n}},{createOnAllSeries:!0,reset:function(e,t){var n=e.getData(),r=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(e)){var a=i.getVisualMeta(Rn(IAt,null,e,i))||{stops:[],outerColors:[]},o=i.getDataDimensionIndex(n);o>=0&&(a.dimension=o,r.push(a))}}),e.getData().setVisual("visualMeta",r)}}];function IAt(e,t,n,r){for(var i=t.targetVisuals[r],a=es.prepareVisualTypes(i),o={color:hw(e.getData(),"color")},s=0,l=a.length;s<l;s++){var u=a[s],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(n,f,d)}return o.color;function f(h){return o[h]}function d(h,p){o[h]=p}}var pie=te;function MAt(e){var t=e&&e.visualMap;Lt(t)||(t=t?[t]:[]),pie(t,function(n){if(n){u1(n,"splitList")&&!u1(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var r=n.pieces;r&&Lt(r)&&pie(r,function(i){ar(i)&&(u1(i,"start")&&!u1(i,"min")&&(i.min=i.start),u1(i,"end")&&!u1(i,"max")&&(i.max=i.end))})}})}function u1(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var vie=!1;function dEe(e){vie||(vie=!0,e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),e.registerAction(wAt,CAt),te(RAt,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(MAt))}function hEe(e){e.registerComponentModel(bAt),e.registerComponentView(EAt),dEe(e)}var OAt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n._pieceList=[],n}return t.prototype.optionUpdated=function(n,r){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],DAt[this._mode].call(this,this._pieceList),this._resetSelected(n,r);var a=this.option.categories;this.resetVisual(function(o,s){i==="categories"?(o.mappingMethod="category",o.categories=sr(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Vt(this._pieceList,function(l){return l=sr(l),s!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var n=this.option,r={},i=es.listVisualTypes(),a=this.isCategory();te(n.pieces,function(s){te(i,function(l){s.hasOwnProperty(l)&&(r[l]=1)})}),te(r,function(s,l){var u=!1;te(this.stateList,function(c){u=u||o(n,c,l)||o(n.target,c,l)},this),!u&&te(this.stateList,function(c){(n[c]||(n[c]={}))[l]=uEe.get(l,c==="inRange"?"active":"inactive",a)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(n,r){var i=this.option,a=this._pieceList,o=(r?i:n).selected||{};if(i.selected=o,te(a,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),i.selectedMode==="single"){var s=!1;te(a,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(n){return this._mode==="categories"?n.value+"":n.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(n){this.option.selected=sr(n)},t.prototype.getValueState=function(n){var r=es.findPieceIndex(n,this._pieceList);return r!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(n){var r=[],i=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=es.findPieceIndex(l,i);c===n&&o.push(u)},this),r.push({seriesId:a.id,dataIndex:o})},this),r},t.prototype.getRepresentValue=function(n){var r;if(this.isCategory())r=n.value;else if(n.value!=null)r=n.value;else{var i=n.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},t.prototype.getVisualMeta=function(n){if(this.isCategory())return;var r=[],i=["",""],a=this;function o(c,f){var d=a.getRepresentValue({interval:c});f||(f=a.getValueState(d));var h=n(d,f);c[0]===-1/0?i[0]=h:c[1]===1/0?i[1]=h:r.push({value:c[0],color:h},{value:c[1],color:h})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return te(s,function(c){var f=c.interval;f&&(f[0]>u&&o([u,f[0]],"outOfRange"),o(f.slice()),u=f[1])},this),{stops:r,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=nm(SO.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(SO),DAt={splitNumber:function(e){var t=this.option,n=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(r[1]-r[0])/i;+a.toFixed(n)!==a&&n<5;)n++;t.precision=n,a=+a.toFixed(n),t.minOpen&&e.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,s=r[0];o<i;s+=a,o++){var l=o===i-1?r[1]:s+a;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[r[1],1/0],close:[0,0]}),cQ(e),te(e,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(e){var t=this.option;te(t.categories,function(n){e.push({text:this.formatValueText(n,!0),value:n})},this),gie(t,e)},pieces:function(e){var t=this.option;te(t.pieces,function(n,r){ar(n)||(n={value:n});var i={text:"",index:r};if(n.label!=null&&(i.text=n.label),n.hasOwnProperty("value")){var a=i.value=n.value;i.interval=[a,a],i.close=[1,1]}else{for(var o=i.interval=[],s=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],f=0;f<2;f++){for(var d=[["gte","gt","min"],["lte","lt","max"]][f],h=0;h<3&&o[f]==null;h++)o[f]=n[d[h]],s[f]=l[h],c[f]=h===2;o[f]==null&&(o[f]=u[f])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(i.value=o[0])}i.visual=es.retrieveVisuals(n),e.push(i)},this),gie(t,e),cQ(e),te(e,function(n){var r=n.close,i=[["<","≤"][r[1]],[">","≥"][r[0]]];n.text=n.text||this.formatValueText(n.value!=null?n.value:n.interval,!1,i)},this)}};function gie(e,t){var n=e.inverse;(e.orient==="vertical"?!n:n)&&t.reverse()}var PAt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=t.type,n}return t.prototype.doRender=function(){var n=this.group;n.removeAll();var r=this.visualMapModel,i=r.get("textGap"),a=r.textStyleModel,o=a.getFont(),s=a.getTextColor(),l=this._getItemAlign(),u=r.itemSize,c=this._getViewData(),f=c.endsText,d=hs(r.get("showLabel",!0),!f);f&&this._renderEndsText(n,f[0],u,d,l),te(c.viewPieceList,function(h){var p=h.piece,v=new hr;v.onclick=Rn(this._onItemClick,this,p),this._enableHoverLink(v,h.indexInModelPieceList);var g=r.getRepresentValue(p);if(this._createItemSymbol(v,g,[0,0,u[0],u[1]]),d){var m=this.visualMapModel.getValueState(g);v.add(new pi({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:p.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:m==="outOfRange"?.5:1}}))}n.add(v)},this),f&&this._renderEndsText(n,f[1],u,d,l),ty(r.get("orient"),n,r.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},t.prototype._enableHoverLink=function(n,r){var i=this;n.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=i.visualMapModel;s.option.hoverLink&&i.api.dispatchAction({type:o,batch:U3(s.findTargetDataIndices(r),s)})}},t.prototype._getItemAlign=function(){var n=this.visualMapModel,r=n.option;if(r.orient==="vertical")return fEe(n,this.api,n.itemSize);var i=r.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(n,r,i,a,o){if(r){var s=new hr,l=this.visualMapModel.textStyleModel;s.add(new pi({style:ha(l,{x:a?o==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?o:"center",text:r})})),n.add(s)}},t.prototype._getViewData=function(){var n=this.visualMapModel,r=Vt(n.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),i=n.get("text"),a=n.get("orient"),o=n.get("inverse");return(a==="horizontal"?o:!o)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},t.prototype._createItemSymbol=function(n,r,i){n.add(Io(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},t.prototype._onItemClick=function(n){var r=this.visualMapModel,i=r.option,a=i.selectedMode;if(a){var o=sr(i.selected),s=r.getSelectedMapKey(n);a==="single"||a===!0?(o[s]=!0,te(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},t.type="visualMap.piecewise",t}(cEe);function pEe(e){e.registerComponentModel(OAt),e.registerComponentView(PAt),dEe(e)}function LAt(e){Vr(hEe),Vr(pEe)}var NAt={label:{enabled:!0},decal:{show:!1}},mie=ui(),BAt={};function kAt(e,t){var n=e.getModel("aria");if(!n.get("enabled"))return;var r=sr(NAt);wr(r.label,e.getLocaleModel().get("aria"),!1),wr(n.option,r,!1),i(),a();function i(){var u=n.getModel("decal"),c=u.get("show");if(c){var f=Fn();e.eachSeries(function(d){if(!d.isColorBySeries()){var h=f.get(d.type);h||(h={},f.set(d.type,h)),mie(d).scope=h}}),e.eachRawSeries(function(d){if(e.isSeriesFiltered(d))return;if(er(d.enableAriaDecal)){d.enableAriaDecal();return}var h=d.getData();if(d.isColorBySeries()){var b=zV(d.ecModel,d.name,BAt,e.getSeriesCount()),_=h.getVisual("decal");h.setVisual("decal",x(_,b))}else{var p=d.getRawData(),v={},g=mie(d).scope;h.each(function(E){var A=h.getRawIndex(E);v[A]=E});var m=p.count();p.each(function(E){var A=v[E],T=p.getName(E)||E+"",R=zV(d.ecModel,T,g,m),M=h.getItemVisual(A,"decal");h.setItemVisual(A,"decal",x(M,R))})}function x(E,A){var T=E?Ct(Ct({},A),E):A;return T.dirty=!0,T}})}}function a(){var u=t.getZr().dom;if(u){var c=e.getLocaleModel().get("aria"),f=n.getModel("label");if(f.option=tr(f.option,c),!!f.get("enabled")){if(f.get("description")){u.setAttribute("aria-label",f.get("description"));return}var d=e.getSeriesCount(),h=f.get(["data","maxCount"])||10,p=f.get(["series","maxCount"])||10,v=Math.min(d,p),g;if(!(d<1)){var m=s();if(m){var b=f.get(["general","withTitle"]);g=o(b,{title:m})}else g=f.get(["general","withoutTitle"]);var _=[],x=d>1?f.get(["series","multiple","prefix"]):f.get(["series","single","prefix"]);g+=o(x,{seriesCount:d}),e.eachSeries(function(R,M){if(M<v){var O=void 0,D=R.get("name"),C=D?"withName":"withoutName";O=d>1?f.get(["series","multiple",C]):f.get(["series","single",C]),O=o(O,{seriesId:R.seriesIndex,seriesName:R.get("name"),seriesType:l(R.subType)});var P=R.getData();if(P.count()>h){var B=f.get(["data","partialData"]);O+=o(B,{displayCnt:h})}else O+=f.get(["data","allData"]);for(var U=f.get(["data","separator","middle"]),L=f.get(["data","separator","end"]),F=[],N=0;N<P.count();N++)if(N<h){var V=P.getName(N),W=P.getValues(N),G=f.get(["data",V?"withName":"withoutName"]);F.push(o(G,{name:V,value:W.join(U)}))}O+=F.join(U)+L,_.push(O)}});var E=f.getModel(["series","multiple","separator"]),A=E.get("middle"),T=E.get("end");g+=_.join(A)+T,u.setAttribute("aria-label",g)}}}}function o(u,c){if(!An(u))return u;var f=u;return te(c,function(d,h){f=f.replace(new RegExp("\\{\\s*"+h+"\\s*\\}","g"),d)}),f}function s(){var u=e.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=e.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function FAt(e){if(!(!e||!e.aria)){var t=e.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},te(["description","general","series","data"],function(n){t[n]!=null&&(t.label[n]=t[n])})}}function UAt(e){e.registerPreprocessor(FAt),e.registerVisual(e.PRIORITY.VISUAL.ARIA,kAt)}var yie={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},VAt=function(){function e(t){var n=this._condVal=An(t)?new RegExp(t):Qit(t)?t:null;if(n==null){var r="";Li(r)}}return e.prototype.evaluate=function(t){var n=typeof t;return An(n)?this._condVal.test(t):yi(n)?this._condVal.test(t+""):!1},e}(),zAt=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),$At=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(!t[n].evaluate())return!1;return!0},e}(),HAt=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(t[n].evaluate())return!0;return!1},e}(),WAt=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),GAt=function(){function e(){}return e.prototype.evaluate=function(){for(var t=!!this.valueParser,n=this.getValue,r=n(this.valueGetterParam),i=t?this.valueParser(r):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:r))return!1;return!0},e}();function ej(e,t){if(e===!0||e===!1){var n=new zAt;return n.value=e,n}var r="";return vEe(e)||Li(r),e.and?_ie("and",e,t):e.or?_ie("or",e,t):e.not?jAt(e,t):YAt(e,t)}function _ie(e,t,n){var r=t[e],i="";Lt(r)||Li(i),r.length||Li(i);var a=e==="and"?new $At:new HAt;return a.children=Vt(r,function(o){return ej(o,n)}),a.children.length||Li(i),a}function jAt(e,t){var n=e.not,r="";vEe(n)||Li(r);var i=new WAt;return i.child=ej(n,t),i.child||Li(r),i}function YAt(e,t){for(var n="",r=t.prepareGetValue(e),i=[],a=Jr(e),o=e.parser,s=o?Z1e(o):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||t.valueGetterAttrMap.get(u))){var c=Dn(yie,u)?yie[u]:u,f=e[u],d=s?s(f):f,h=Nut(c,d)||c==="reg"&&new VAt(d);h||Li(n),i.push(h)}}i.length||Li(n);var p=new GAt;return p.valueGetterParam=r,p.valueParser=s,p.getValue=t.getValue,p.subCondList=i,p}function vEe(e){return ar(e)&&!nl(e)}var XAt=function(){function e(t,n){this._cond=ej(t,n)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function KAt(e,t){return new XAt(e,t)}var qAt={type:"echarts:filter",transform:function(e){for(var t=e.upstream,n,r=KAt(e.config,{valueGetterAttrMap:Fn({dimension:!0}),prepareGetValue:function(s){var l="",u=s.dimension;Dn(s,"dimension")||Li(l);var c=t.getDimensionInfo(u);return c||Li(l),{dimIdx:c.index}},getValue:function(s){return t.retrieveValueFromItem(n,s.dimIdx)}}),i=[],a=0,o=t.count();a<o;a++)n=t.getRawDataItem(a),r.evaluate()&&i.push(n);return{data:i}}},ZAt={type:"echarts:sort",transform:function(e){var t=e.upstream,n=e.config,r="",i=Zi(n);i.length||Li(r);var a=[];te(i,function(c){var f=c.dimension,d=c.order,h=c.parser,p=c.incomparable;if(f==null&&Li(r),d!=="asc"&&d!=="desc"&&Li(r),p&&p!=="min"&&p!=="max"){var v="";Li(v)}if(d!=="asc"&&d!=="desc"){var g="";Li(g)}var m=t.getDimensionInfo(f);m||Li(r);var b=h?Z1e(h):null;h&&!b&&Li(r),a.push({dimIdx:m.index,parser:b,comparator:new J1e(d,p)})});var o=t.sourceFormat;o!==rl&&o!==Wc&&Li(r);for(var s=[],l=0,u=t.count();l<u;l++)s.push(t.getRawDataItem(l));return s.sort(function(c,f){for(var d=0;d<a.length;d++){var h=a[d],p=t.retrieveValueFromItem(c,h.dimIdx),v=t.retrieveValueFromItem(f,h.dimIdx);h.parser&&(p=h.parser(p),v=h.parser(v));var g=h.comparator.evaluate(p,v);if(g!==0)return g}return 0}),{data:s}}};function QAt(e){e.registerTransform(qAt),e.registerTransform(ZAt)}var JAt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataset",n}return t.prototype.init=function(n,r,i){e.prototype.init.call(this,n,r,i),this._sourceManager=new rbe(this),SJ(this)},t.prototype.mergeOption=function(n,r){e.prototype.mergeOption.call(this,n,r),SJ(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Kd},t}(Qr),eEt=function(e){et(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="dataset",n}return t.type="dataset",t}(Ba);function tEt(e){e.registerComponentModel(JAt),e.registerComponentView(eEt)}var Id=oh.CMD;function V1(e,t){return Math.abs(e-t)<1e-5}function $9(e){var t=e.data,n=e.len(),r=[],i,a=0,o=0,s=0,l=0;function u(P,B){i&&i.length>2&&r.push(i),i=[P,B]}function c(P,B,U,L){V1(P,U)&&V1(B,L)||i.push(P,B,U,L,U,L)}function f(P,B,U,L,F,N){var V=Math.abs(B-P),W=Math.tan(V/4)*4/3,G=B<P?-1:1,K=Math.cos(P),q=Math.sin(P),ue=Math.cos(B),he=Math.sin(B),Ce=K*F+U,ee=q*N+L,de=ue*F+U,oe=he*N+L,pe=F*W*G,me=N*W*G;i.push(Ce-pe*q,ee+me*K,de+pe*he,oe-me*ue,de,oe)}for(var d,h,p,v,g=0;g<n;){var m=t[g++],b=g===1;switch(b&&(a=t[g],o=t[g+1],s=a,l=o,(m===Id.L||m===Id.C||m===Id.Q)&&(i=[s,l])),m){case Id.M:a=s=t[g++],o=l=t[g++],u(s,l);break;case Id.L:d=t[g++],h=t[g++],c(a,o,d,h),a=d,o=h;break;case Id.C:i.push(t[g++],t[g++],t[g++],t[g++],a=t[g++],o=t[g++]);break;case Id.Q:d=t[g++],h=t[g++],p=t[g++],v=t[g++],i.push(a+2/3*(d-a),o+2/3*(h-o),p+2/3*(d-p),v+2/3*(h-v),p,v),a=p,o=v;break;case Id.A:var _=t[g++],x=t[g++],E=t[g++],A=t[g++],T=t[g++],R=t[g++]+T;g+=1;var M=!t[g++];d=Math.cos(T)*E+_,h=Math.sin(T)*A+x,b?(s=d,l=h,u(s,l)):c(a,o,d,h),a=Math.cos(R)*E+_,o=Math.sin(R)*A+x;for(var O=(M?-1:1)*Math.PI/2,D=T;M?D>R:D<R;D+=O){var C=M?Math.max(D+O,R):Math.min(D+O,R);f(D,C,_,x,E,A)}break;case Id.R:s=a=t[g++],l=o=t[g++],d=s+t[g++],h=l+t[g++],u(d,l),c(d,l,d,h),c(d,h,s,h),c(s,h,s,l),c(s,l,d,l);break;case Id.Z:i&&c(a,o,s,l),a=s,o=l;break}}return i&&i.length>2&&r.push(i),r}function H9(e,t,n,r,i,a,o,s,l,u){if(V1(e,n)&&V1(t,r)&&V1(i,o)&&V1(a,s)){l.push(o,s);return}var c=2/u,f=c*c,d=o-e,h=s-t,p=Math.sqrt(d*d+h*h);d/=p,h/=p;var v=n-e,g=r-t,m=i-o,b=a-s,_=v*v+g*g,x=m*m+b*b;if(_<f&&x<f){l.push(o,s);return}var E=d*v+h*g,A=-d*m-h*b,T=_-E*E,R=x-A*A;if(T<f&&E>=0&&R<f&&A>=0){l.push(o,s);return}var M=[],O=[];Vg(e,n,i,o,.5,M),Vg(t,r,a,s,.5,O),H9(M[0],O[0],M[1],O[1],M[2],O[2],M[3],O[3],l,u),H9(M[4],O[4],M[5],O[5],M[6],O[6],M[7],O[7],l,u)}function nEt(e,t){var n=$9(e),r=[];t=t||1;for(var i=0;i<n.length;i++){var a=n[i],o=[],s=a[0],l=a[1];o.push(s,l);for(var u=2;u<a.length;){var c=a[u++],f=a[u++],d=a[u++],h=a[u++],p=a[u++],v=a[u++];H9(s,l,c,f,d,h,p,v,o,t),s=p,l=v}r.push(o)}return r}function gEe(e,t,n){var r=e[t],i=e[1-t],a=Math.abs(r/i),o=Math.ceil(Math.sqrt(a*n)),s=Math.floor(n/o);s===0&&(s=1,o=n);for(var l=[],u=0;u<o;u++)l.push(s);var c=o*s,f=n-c;if(f>0)for(var u=0;u<f;u++)l[u%o]+=1;return l}function bie(e,t,n){for(var r=e.r0,i=e.r,a=e.startAngle,o=e.endAngle,s=Math.abs(o-a),l=s*i,u=i-r,c=l>Math.abs(u),f=gEe([l,u],c?0:1,t),d=(c?s:u)/f.length,h=0;h<f.length;h++)for(var p=(c?u:s)/f[h],v=0;v<f[h];v++){var g={};c?(g.startAngle=a+d*h,g.endAngle=a+d*(h+1),g.r0=r+p*v,g.r=r+p*(v+1)):(g.startAngle=a+p*v,g.endAngle=a+p*(v+1),g.r0=r+d*h,g.r=r+d*(h+1)),g.clockwise=e.clockwise,g.cx=e.cx,g.cy=e.cy,n.push(g)}}function rEt(e,t,n){for(var r=e.width,i=e.height,a=r>i,o=gEe([r,i],a?0:1,t),s=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",f=e[s]/o.length,d=0;d<o.length;d++)for(var h=e[l]/o[d],p=0;p<o[d];p++){var v={};v[u]=d*f,v[c]=p*h,v[s]=f,v[l]=h,v.x+=e.x,v.y+=e.y,n.push(v)}}function xie(e,t,n,r){return e*r-n*t}function iEt(e,t,n,r,i,a,o,s){var l=n-e,u=r-t,c=o-i,f=s-a,d=xie(c,f,l,u);if(Math.abs(d)<1e-6)return null;var h=e-i,p=t-a,v=xie(h,p,c,f)/d;return v<0||v>1?null:new Rr(v*l+e,v*u+t)}function aEt(e,t,n){var r=new Rr;Rr.sub(r,n,t),r.normalize();var i=new Rr;Rr.sub(i,e,t);var a=i.dot(r);return a}function c1(e,t){var n=e[e.length-1];n&&n[0]===t[0]&&n[1]===t[1]||e.push(t)}function oEt(e,t,n){for(var r=e.length,i=[],a=0;a<r;a++){var o=e[a],s=e[(a+1)%r],l=iEt(o[0],o[1],s[0],s[1],t.x,t.y,n.x,n.y);l&&i.push({projPt:aEt(l,t,n),pt:l,idx:a})}if(i.length<2)return[{points:e},{points:e}];i.sort(function(g,m){return g.projPt-m.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var f=u;u=c,c=f}for(var d=[u.pt.x,u.pt.y],h=[c.pt.x,c.pt.y],p=[d],v=[h],a=u.idx+1;a<=c.idx;a++)c1(p,e[a].slice());c1(p,h),c1(p,d);for(var a=c.idx+1;a<=u.idx+r;a++)c1(v,e[a%r].slice());return c1(v,d),c1(v,h),[{points:p},{points:v}]}function Sie(e){var t=e.points,n=[],r=[];vP(t,n,r);var i=new Mr(n[0],n[1],r[0]-n[0],r[1]-n[1]),a=i.width,o=i.height,s=i.x,l=i.y,u=new Rr,c=new Rr;return a>o?(u.x=c.x=s+a/2,u.y=l,c.y=l+o):(u.y=c.y=l+o/2,u.x=s,c.x=s+a),oEt(t,u,c)}function AO(e,t,n,r){if(n===1)r.push(t);else{var i=Math.floor(n/2),a=e(t);AO(e,a[0],i,r),AO(e,a[1],n-i,r)}return r}function sEt(e,t){for(var n=[],r=0;r<t;r++)n.push(_W(e));return n}function lEt(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function uEt(e){for(var t=[],n=0;n<e.length;)t.push([e[n++],e[n++]]);return t}function cEt(e,t){var n=[],r=e.shape,i;switch(e.type){case"rect":rEt(r,t,n),i=si;break;case"sector":bie(r,t,n),i=Nl;break;case"circle":bie({r0:0,r:r.r,startAngle:0,endAngle:Math.PI*2,cx:r.cx,cy:r.cy},t,n),i=Nl;break;default:var a=e.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=Vt(nEt(e.getUpdatedPathProxy(),o),function(m){return uEt(m)}),l=s.length;if(l===0)AO(Sie,{points:s[0]},t,n);else if(l===t)for(var u=0;u<l;u++)n.push({points:s[u]});else{var c=0,f=Vt(s,function(m){var b=[],_=[];vP(m,b,_);var x=(_[1]-b[1])*(_[0]-b[0]);return c+=x,{poly:m,area:x}});f.sort(function(m,b){return b.area-m.area});for(var d=t,u=0;u<l;u++){var h=f[u];if(d<=0)break;var p=u===l-1?d:Math.ceil(h.area/c*t);p<0||(AO(Sie,{points:h.poly},p,n),d-=p)}}i=Bl;break}if(!i)return sEt(e,t);for(var v=[],u=0;u<n.length;u++){var g=new i;g.setShape(n[u]),lEt(e,g),v.push(g)}return v}function fEt(e,t){var n=e.length,r=t.length;if(n===r)return[e,t];for(var i=[],a=[],o=n<r?e:t,s=Math.min(n,r),l=Math.abs(r-n)/6,u=(s-2)/6,c=Math.ceil(l/u)+1,f=[o[0],o[1]],d=l,h=2;h<s;){var p=o[h-2],v=o[h-1],g=o[h++],m=o[h++],b=o[h++],_=o[h++],x=o[h++],E=o[h++];if(d<=0){f.push(g,m,b,_,x,E);continue}for(var A=Math.min(d,c-1)+1,T=1;T<=A;T++){var R=T/A;Vg(p,g,b,x,R,i),Vg(v,m,_,E,R,a),p=i[3],v=a[3],f.push(i[1],a[1],i[2],a[2],p,v),g=i[5],m=a[5],b=i[6],_=a[6]}d-=A-1}return o===e?[f,t]:[e,f]}function Aie(e,t){for(var n=e.length,r=e[n-2],i=e[n-1],a=[],o=0;o<t.length;)a[o++]=r,a[o++]=i;return a}function dEt(e,t){for(var n,r,i,a=[],o=[],s=0;s<Math.max(e.length,t.length);s++){var l=e[s],u=t[s],c=void 0,f=void 0;l?u?(n=fEt(l,u),c=n[0],f=n[1],r=c,i=f):(f=Aie(i||l,l),c=l):(c=Aie(r||u,u),f=u),a.push(c),o.push(f)}return[a,o]}function Eie(e){for(var t=0,n=0,r=0,i=e.length,a=0,o=i-2;a<i;o=a,a+=2){var s=e[o],l=e[o+1],u=e[a],c=e[a+1],f=s*c-u*l;t+=f,n+=(s+u)*f,r+=(l+c)*f}return t===0?[e[0]||0,e[1]||0]:[n/t/3,r/t/3,t]}function hEt(e,t,n,r){for(var i=(e.length-2)/6,a=1/0,o=0,s=e.length,l=s-2,u=0;u<i;u++){for(var c=u*6,f=0,d=0;d<s;d+=2){var h=d===0?c:(c+d-2)%l+2,p=e[h]-n[0],v=e[h+1]-n[1],g=t[d]-r[0],m=t[d+1]-r[1],b=g-p,_=m-v;f+=b*b+_*_}f<a&&(a=f,o=u)}return o}function pEt(e){for(var t=[],n=e.length,r=0;r<n;r+=2)t[r]=e[n-r-2],t[r+1]=e[n-r-1];return t}function vEt(e,t,n,r){for(var i=[],a,o=0;o<e.length;o++){var s=e[o],l=t[o],u=Eie(s),c=Eie(l);a==null&&(a=u[2]<0!=c[2]<0);var f=[],d=[],h=0,p=1/0,v=[],g=s.length;a&&(s=pEt(s));for(var m=hEt(s,l,u,c)*6,b=g-2,_=0;_<b;_+=2){var x=(m+_)%b+2;f[_+2]=s[x]-u[0],f[_+3]=s[x+1]-u[1]}f[0]=s[m]-u[0],f[1]=s[m+1]-u[1];for(var E=r/n,A=-r/2;A<=r/2;A+=E){for(var T=Math.sin(A),R=Math.cos(A),M=0,_=0;_<s.length;_+=2){var O=f[_],D=f[_+1],C=l[_]-c[0],P=l[_+1]-c[1],B=C*R-P*T,U=C*T+P*R;v[_]=B,v[_+1]=U;var L=B-O,F=U-D;M+=L*L+F*F}if(M<p){p=M,h=A;for(var N=0;N<v.length;N++)d[N]=v[N]}}i.push({from:f,to:d,fromCp:u,toCp:c,rotation:-h})}return i}function EO(e){return e.__isCombineMorphing}var mEe="__mOriginal_";function TO(e,t,n){var r=mEe+t,i=e[r]||e[t];e[r]||(e[r]=e[t]);var a=n.replace,o=n.after,s=n.before;e[t]=function(){var l=arguments,u;return s&&s.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),o&&o.apply(this,l),u}}function l2(e,t){var n=mEe+t;e[n]&&(e[t]=e[n],e[n]=null)}function Tie(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;){var a=r[i],o=r[i+1];r[i++]=t[0]*a+t[2]*o+t[4],r[i++]=t[1]*a+t[3]*o+t[5]}}function yEe(e,t){var n=e.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),i=dEt($9(n),$9(r)),a=i[0],o=i[1],s=e.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}s&&Tie(a,s),l&&Tie(o,l),TO(t,"updateTransform",{replace:u}),t.transform=null;var c=vEt(a,o,10,Math.PI),f=[];TO(t,"buildPath",{replace:function(d){for(var h=t.__morphT,p=1-h,v=[],g=0;g<c.length;g++){var m=c[g],b=m.from,_=m.to,x=m.rotation*h,E=m.fromCp,A=m.toCp,T=Math.sin(x),R=Math.cos(x);x3(v,E,A,h);for(var M=0;M<b.length;M+=2){var O=b[M],D=b[M+1],C=_[M],P=_[M+1],B=O*p+C*h,U=D*p+P*h;f[M]=B*R-U*T+v[0],f[M+1]=B*T+U*R+v[1]}var L=f[0],F=f[1];d.moveTo(L,F);for(var M=2;M<b.length;){var C=f[M++],P=f[M++],N=f[M++],V=f[M++],W=f[M++],G=f[M++];L===C&&F===P&&N===W&&V===G?d.lineTo(W,G):d.bezierCurveTo(C,P,N,V,W,G),L=W,F=G}}}})}function tj(e,t,n){if(!e||!t)return t;var r=n.done,i=n.during;yEe(e,t),t.__morphT=0;function a(){l2(t,"buildPath"),l2(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},tr({during:function(o){t.dirtyShape(),i&&i(o)},done:function(){a(),r&&r()}},n)),t}function gEt(e,t,n,r,i,a){var o=16;e=i===n?0:Math.round(32767*(e-n)/(i-n)),t=a===r?0:Math.round(32767*(t-r)/(a-r));for(var s=0,l,u=(1<<o)/2;u>0;u/=2){var c=0,f=0;(e&u)>0&&(c=1),(t&u)>0&&(f=1),s+=u*u*(3*c^f),f===0&&(c===1&&(e=u-1-e,t=u-1-t),l=e,e=t,t=l)}return s}function wO(e){var t=1/0,n=1/0,r=-1/0,i=-1/0,a=Vt(e,function(s){var l=s.getBoundingRect(),u=s.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),f=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),n=Math.min(f,n),r=Math.max(c,r),i=Math.max(f,i),[c,f]}),o=Vt(a,function(s,l){return{cp:s,z:gEt(s[0],s[1],t,n,r,i),path:e[l]}});return o.sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function _Ee(e){return cEt(e.path,e.count)}function W9(){return{fromIndividuals:[],toIndividuals:[],count:0}}function mEt(e,t,n){var r=[];function i(E){for(var A=0;A<E.length;A++){var T=E[A];EO(T)?i(T.childrenRef()):T instanceof Wr&&r.push(T)}}i(e);var a=r.length;if(!a)return W9();var o=n.dividePath||_Ee,s=o({path:t,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),W9();r=wO(r),s=wO(s);for(var l=n.done,u=n.during,c=n.individualDelay,f=new dp,d=0;d<a;d++){var h=r[d],p=s[d];p.parent=t,p.copyTransform(f),c||yEe(h,p)}t.__isCombineMorphing=!0,t.childrenRef=function(){return s};function v(E){for(var A=0;A<s.length;A++)s[A].addSelfToZr(E)}TO(t,"addSelfToZr",{after:function(E){v(E)}}),TO(t,"removeSelfFromZr",{after:function(E){for(var A=0;A<s.length;A++)s[A].removeSelfFromZr(E)}});function g(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,l2(t,"addSelfToZr"),l2(t,"removeSelfFromZr")}var m=s.length;if(c)for(var b=m,_=function(){b--,b===0&&(g(),l&&l())},d=0;d<m;d++){var x=c?tr({delay:(n.delay||0)+c(d,m,r[d],s[d]),done:_},n):n;tj(r[d],s[d],x)}else t.__morphT=0,t.animateTo({__morphT:1},tr({during:function(E){for(var A=0;A<m;A++){var T=s[A];T.__morphT=t.__morphT,T.dirtyShape()}u&&u(E)},done:function(){g();for(var E=0;E<e.length;E++)l2(e[E],"updateTransform");l&&l()}},n));return t.__zr&&v(t.__zr),{fromIndividuals:r,toIndividuals:s,count:m}}function yEt(e,t,n){var r=t.length,i=[],a=n.dividePath||_Ee;function o(h){for(var p=0;p<h.length;p++){var v=h[p];EO(v)?o(v.childrenRef()):v instanceof Wr&&i.push(v)}}if(EO(e)){o(e.childrenRef());var s=i.length;if(s<r)for(var l=0,u=s;u<r;u++)i.push(_W(i[l++%s]));i.length=r}else{i=a({path:e,count:r});for(var c=e.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),W9()}i=wO(i),t=wO(t);for(var f=n.individualDelay,u=0;u<r;u++){var d=f?tr({delay:(n.delay||0)+f(u,r,i[u],t[u])},n):n;tj(i[u],t[u],d)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function wie(e){return Lt(e[0])}function Cie(e,t){for(var n=[],r=e.length,i=0;i<r;i++)n.push({one:e[i],many:[]});for(var i=0;i<t.length;i++){var a=t[i].length,o=void 0;for(o=0;o<a;o++)n[o%r].many.push(t[i][o])}for(var s=0,i=r-1;i>=0;i--)if(!n[i].many.length){var l=n[s].many;if(l.length<=1)if(s)s=0;else return n;var a=l.length,u=Math.ceil(a/2);n[i].many=l.slice(u,a),n[s].many=l.slice(0,u),s++}return n}var _Et={clone:function(e){for(var t=[],n=1-Math.pow(1-e.path.style.opacity,1/e.count),r=0;r<e.count;r++){var i=_W(e.path);i.setStyle("opacity",n),t.push(i)}return t},split:null};function k6(e,t,n,r,i,a){if(!e.length||!t.length)return;var o=Lx("update",r,i);if(!(o&&o.duration>0))return;var s=r.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o),u,c;wie(e)&&(u=e,c=t),wie(t)&&(u=t,c=e);function f(m,b,_,x,E){var A=m.many,T=m.one;if(A.length===1&&!E){var R=b?A[0]:T,M=b?T:A[0];if(EO(R))f({many:[R],one:M},!0,_,x,!0);else{var O=s?tr({delay:s(_,x)},l):l;tj(R,M,O),a(R,M,R,M,O)}}else for(var D=tr({dividePath:_Et[n],individualDelay:s&&function(F,N,V,W){return s(F+_,x)}},l),C=b?mEt(A,T,D):yEt(T,A,D),P=C.fromIndividuals,B=C.toIndividuals,U=P.length,L=0;L<U;L++){var O=s?tr({delay:s(L,U)},l):l;a(P[L],B[L],b?A[L]:m.one,b?m.one:A[L],O)}}for(var d=u?u===e:e.length>t.length,h=u?Cie(c,u):Cie(d?t:e,[d?e:t]),p=0,v=0;v<h.length;v++)p+=h[v].many.length;for(var g=0,v=0;v<h.length;v++)f(h[v],d,g,p),g+=h[v].many.length}function _0(e){if(!e)return[];if(Lt(e)){for(var t=[],n=0;n<e.length;n++)t.push(_0(e[n]));return t}var r=[];return e.traverse(function(i){i instanceof Wr&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var bEe=1e4,bEt=0,Rie=1,Iie=2,xEt=ui();function SEt(e,t){for(var n=e.dimensions,r=0;r<n.length;r++){var i=e.getDimensionInfo(n[r]);if(i&&i.otherDims[t]===0)return n[r]}}function AEt(e,t,n){var r=e.getDimensionInfo(n),i=r&&r.ordinalMeta;if(r){var a=e.get(r.name,t);return i&&i.categories[a]||a+""}}function Mie(e,t,n,r){var i=r?"itemChildGroupId":"itemGroupId",a=SEt(e,i);if(a){var o=AEt(e,t,a);return o}var s=e.getRawDataItem(t),l=r?"childGroupId":"groupId";if(s&&s[l])return s[l]+"";if(!r)return n||e.getId(t)}function Oie(e){var t=[];return te(e,function(n){var r=n.data,i=n.dataGroupId;if(!(r.count()>bEe))for(var a=r.getIndices(),o=0;o<a.length;o++)t.push({data:r,groupId:Mie(r,o,i,!1),childGroupId:Mie(r,o,i,!0),divide:n.divide,dataIndex:o})}),t}function F6(e,t,n){e.traverse(function(r){r instanceof Wr&&Ca(r,{style:{opacity:0}},t,{dataIndex:n,isFrom:!0})})}function U6(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function f1(e){e.stopAnimation(),e.isGroup&&e.traverse(function(t){t.stopAnimation()})}function EEt(e,t,n){var r=Lx("update",n,t);r&&e.traverse(function(i){if(i instanceof Uc){var a=ylt(i);a&&i.animateFrom({style:a},r)}})}function TEt(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++){var i=e[r],a=t[r];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function xEe(e,t,n){var r=Oie(e),i=Oie(t);function a(_,x,E,A,T){(E||_)&&x.animateFrom({style:E&&E!==_?Ct(Ct({},E.style),_.style):_.style},T)}var o=!1,s=bEt,l=Fn(),u=Fn();r.forEach(function(_){_.groupId&&l.set(_.groupId,!0),_.childGroupId&&u.set(_.childGroupId,!0)});for(var c=0;c<i.length;c++){var f=i[c].groupId;if(u.get(f)){s=Rie;break}var d=i[c].childGroupId;if(d&&l.get(d)){s=Iie;break}}function h(_,x){return function(E){var A=E.data,T=E.dataIndex;return x?A.getId(T):_?s===Rie?E.childGroupId:E.groupId:s===Iie?E.childGroupId:E.groupId}}var p=TEt(r,i),v={};if(!p)for(var c=0;c<i.length;c++){var g=i[c],m=g.data.getItemGraphicEl(g.dataIndex);m&&(v[m.id]=!0)}function b(_,x){var E=r[x],A=i[_],T=A.data.hostModel,R=E.data.getItemGraphicEl(E.dataIndex),M=A.data.getItemGraphicEl(A.dataIndex);if(R===M){M&&EEt(M,A.dataIndex,T);return}R&&v[R.id]||M&&(f1(M),R?(f1(R),U6(R),o=!0,k6(_0(R),_0(M),A.divide,T,_,a)):F6(M,T,_))}new Dp(r,i,h(!0,p),h(!1,p),null,"multiple").update(b).updateManyToOne(function(_,x){var E=i[_],A=E.data,T=A.hostModel,R=A.getItemGraphicEl(E.dataIndex),M=Xi(Vt(x,function(O){return r[O].data.getItemGraphicEl(r[O].dataIndex)}),function(O){return O&&O!==R&&!v[O.id]});R&&(f1(R),M.length?(te(M,function(O){f1(O),U6(O)}),o=!0,k6(_0(M),_0(R),E.divide,T,_,a)):F6(R,T,E.dataIndex))}).updateOneToMany(function(_,x){var E=r[x],A=E.data.getItemGraphicEl(E.dataIndex);if(!(A&&v[A.id])){var T=Xi(Vt(_,function(M){return i[M].data.getItemGraphicEl(i[M].dataIndex)}),function(M){return M&&M!==A}),R=i[_[0]].data.hostModel;T.length&&(te(T,function(M){return f1(M)}),A?(f1(A),U6(A),o=!0,k6(_0(A),_0(T),E.divide,R,_[0],a)):te(T,function(M){return F6(M,R,_[0])}))}}).updateManyToMany(function(_,x){new Dp(x,_,function(E){return r[E].data.getId(r[E].dataIndex)},function(E){return i[E].data.getId(i[E].dataIndex)}).update(function(E,A){b(_[E],x[A])}).execute()}).execute(),o&&te(t,function(_){var x=_.data,E=x.hostModel,A=E&&n.getViewOfSeriesModel(E),T=Lx("update",E,0);A&&E.isAnimationEnabled()&&T&&T.duration>0&&A.group.traverse(function(R){R instanceof Wr&&!R.animators.length&&R.animateFrom({style:{opacity:0}},T)})})}function Die(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function Pie(e){return Lt(e)?e.sort().join(","):e}function qv(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function wEt(e,t){var n=Fn(),r=Fn(),i=Fn();return te(e.oldSeries,function(a,o){var s=e.oldDataGroupIds[o],l=e.oldData[o],u=Die(a),c=Pie(u);r.set(c,{dataGroupId:s,data:l}),Lt(u)&&te(u,function(f){i.set(f,{key:c,dataGroupId:s,data:l})})}),te(t.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var o=a.get("dataGroupId"),s=a.getData(),l=Die(a),u=Pie(l),c=r.get(u);if(c)n.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:qv(c.data),data:c.data}],newSeries:[{dataGroupId:o,divide:qv(s),data:s}]});else if(Lt(l)){var f=[];te(l,function(p){var v=r.get(p);v.data&&f.push({dataGroupId:v.dataGroupId,divide:qv(v.data),data:v.data})}),f.length&&n.set(u,{oldSeries:f,newSeries:[{dataGroupId:o,data:s,divide:qv(s)}]})}else{var d=i.get(l);if(d){var h=n.get(d.key);h||(h={oldSeries:[{dataGroupId:d.dataGroupId,data:d.data,divide:qv(d.data)}],newSeries:[]},n.set(d.key,h)),h.newSeries.push({dataGroupId:o,data:s,divide:qv(s)})}}}}),n}function Lie(e,t){for(var n=0;n<e.length;n++){var r=t.seriesIndex!=null&&t.seriesIndex===e[n].seriesIndex||t.seriesId!=null&&t.seriesId===e[n].id;if(r)return n}}function CEt(e,t,n,r){var i=[],a=[];te(Zi(e.from),function(o){var s=Lie(t.oldSeries,o);s>=0&&i.push({dataGroupId:t.oldDataGroupIds[s],data:t.oldData[s],divide:qv(t.oldData[s]),groupIdDim:o.dimension})}),te(Zi(e.to),function(o){var s=Lie(n.updatedSeries,o);if(s>=0){var l=n.updatedSeries[s].getData();a.push({dataGroupId:t.oldDataGroupIds[s],data:l,divide:qv(l),groupIdDim:o.dimension})}}),i.length>0&&a.length>0&&xEe(i,a,r)}function REt(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,n,r){te(Zi(r.seriesTransition),function(i){te(Zi(i.to),function(a){for(var o=r.updatedSeries,s=0;s<o.length;s++)(a.seriesIndex!=null&&a.seriesIndex===o[s].seriesIndex||a.seriesId!=null&&a.seriesId===o[s].id)&&(o[s][D3]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(t,n,r){var i=xEt(n);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var a=r.seriesTransition;if(a)te(Zi(a),function(h){CEt(h,i,r,n)});else{var o=wEt(i,r);te(o.keys(),function(h){var p=o.get(h);xEe(p.oldSeries,p.newSeries,n)})}te(r.updatedSeries,function(h){h[D3]&&(h[D3]=!1)})}for(var s=t.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],f=0;f<s.length;f++){var d=s[f].getData();d.count()<bEe&&(l.push(s[f]),u.push(s[f].get("dataGroupId")),c.push(d))}})}Vr([Fht]);Vr([Pht]);Vr([ipt,_pt,Ipt,lvt,_vt,agt,Pgt,gmt,Fmt,Wmt,Jmt,Y0t,yyt,Iyt,Gyt,Kyt,a_t,d_t,A_t,I_t,U_t,S1t]);Vr(z1t);Vr(hbt);Vr(_Se);Vr(wbt);Vr(iAe);Vr(Mbt);Vr(Ubt);Vr(wxt);Vr(Gxt);Vr(Ew);Vr(lSt);Vr(fSt);Vr(xSt);Vr(RSt);Vr(LSt);Vr(VSt);Vr(qSt);Vr(pAt);Vr(sEe);Vr(lEe);Vr(LAt);Vr(hEe);Vr(pEe);Vr(UAt);Vr(QAt);Vr(tEt);Vr(REt);Vr(Jdt);function IEt(e={}){return wr(e,{xAxis:{show:!1},yAxis:{show:!1},radar:{indicator:[{name:"电力负荷",max:6500},{name:"交流器",max:16e3},{name:"光伏发电站",max:3e4},{name:"风力",max:38e3},{name:"电池",max:52e3}],axisName:{color:"#fff",fontSize:8},nameGap:5},series:[{name:"类型分布",type:"radar",areaStyle:{color:"#209980"},symbol:"none",data:[{value:[5e3,14e3,28e3,26e3,42e3]}]}]})}function Tl(e={}){return wr(e,{tooltip:{trigger:"axis",show:!1,valueFormatter:t=>Number(t).toFixed(2)+"MW"},xAxis:{type:"category",data:[],axisLabel:{interval:0,color:"#909399",fontSize:8}},legend:{left:"right",backgroundColor:"transparent",textStyle:{color:"#fff",fontSize:8}},yAxis:{type:"value",splitLine:{show:!1,lineStyle:{type:"dashed",dashOffset:2}},axisLabel:{color:"#909399",fontSize:10}},grid:{top:28,left:34,right:10,bottom:24},series:[]})}function MEt(e={}){return wr(e,{grid:{top:10,left:10,right:10,bottom:20,containLabel:!0},xAxis:{data:["嘉定区","寨南区","保定区","浦东新区","长宁区","保定区","浦东新区","长宁区"],splitLine:{show:!1},axisLabel:{margin:-4,textStyle:{padding:[14,0,0,0],fontSize:10,color:"rgba(255,255,255,1)"}}},yAxis:{splitLine:{show:!1},axisLabel:{show:!0,textStyle:{color:"rgb(148,159,167)",fontSize:10}}},series:[{barMinHeight:10,type:"pictorialBar",barCategoryGap:"60%",symbol:"path://M0,10 L10,10 L5,0 L0,10 z",itemStyle:{normal:{color:new Zo(0,0,0,1,[{offset:0,color:"#01EAED"},{offset:.5,color:"#02C4DD"},{offset:1,color:"#029ED9"}])}},data:[100,200,240,300,360,370,390,410],z:10},{name:"hill",type:"bar",barWidth:"20%",symbol:"path://M0,10 L10,10 C5.5,10 5.5,5 5,0 C4.5,5 4.5,10 0,10 z",itemStyle:{normal:{color:"rgba(11,47,68,0)"}},data:[450,450,450,450,450,450,450,450],z:9}]})}function OEt(e={}){return wr(e,{grid:{left:"2%",right:"2%",bottom:"-20",top:"2%",containLabel:!0},xAxis:{show:!1,type:"value"},yAxis:[{type:"category",inverse:!0,axisLabel:{show:!0,textStyle:{color:"#fff"}},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},data:["三洋有限公司","桥南有限公司","盐都有限公司","福日有限公司","信安有限公司"]},{type:"category",inverse:!0,axisTick:"none",axisLine:"none",show:!0,axisLabel:{textStyle:{color:"#ffffff",fontSize:"12"}},data:[239,181,154,144,135]}],series:[{name:"值",type:"bar",zlevel:1,itemStyle:{normal:{barBorderRadius:30,color:t=>new Zo(0,0,1,0,[{offset:0,color:t.dataIndex<2?"#A67939":"#22689D"},{offset:1,color:t.dataIndex<2?"#9F5670":"#1596A7"}])}},barWidth:10,data:[239,181,154,144,135]},{name:"背景",type:"bar",barWidth:10,barGap:"-100%",data:[300,300,300,300,300],itemStyle:{normal:{color:"rgba(24,31,68,1)",barBorderRadius:30}}}]})}var mE={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var DEt=mE.exports,Nie;function PEt(){return Nie||(Nie=1,function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,d=2,h=4,p=1,v=2,g=1,m=2,b=4,_=8,x=16,E=32,A=64,T=128,R=256,M=512,O=30,D="...",C=800,P=16,B=1,U=2,L=3,F=1/0,N=9007199254740991,V=17976931348623157e292,W=NaN,G=4294967295,K=G-1,q=G>>>1,ue=[["ary",T],["bind",g],["bindKey",m],["curry",_],["curryRight",x],["flip",M],["partial",E],["partialRight",A],["rearg",R]],he="[object Arguments]",Ce="[object Array]",ee="[object AsyncFunction]",de="[object Boolean]",oe="[object Date]",pe="[object DOMException]",me="[object Error]",re="[object Function]",ne="[object GeneratorFunction]",se="[object Map]",be="[object Number]",Pe="[object Null]",Ee="[object Object]",Le="[object Promise]",He="[object Proxy]",rt="[object RegExp]",Je="[object Set]",ot="[object String]",ae="[object Symbol]",Xe="[object Undefined]",Tt="[object WeakMap]",sn="[object WeakSet]",Mn="[object ArrayBuffer]",Sn="[object DataView]",En="[object Float32Array]",Gn="[object Float64Array]",_r="[object Int8Array]",We="[object Int16Array]",yt="[object Int32Array]",Re="[object Uint8Array]",ut="[object Uint8ClampedArray]",_e="[object Uint16Array]",It="[object Uint32Array]",Pn=/\b__p \+= '';/g,pr=/\b(__p \+=) '' \+/g,_i=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lo=/&(?:amp|lt|gt|quot|#39);/g,Ki=/[&<>"']/g,Di=RegExp(lo.source),br=RegExp(Ki.source),ji=/<%-([\s\S]+?)%>/g,sd=/<%([\s\S]+?)%>/g,Ku=/<%=([\s\S]+?)%>/g,ld=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xc=/^\w*$/,bu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,il=/[\\^$.*+?()[\]{}|]/g,mh=RegExp(il.source),Ul=/^\s+/,qu=/\s/,Zu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,na=/\{\n\/\* \[wrapped with (.+)\] \*/,ud=/,? & /,yh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Rt=/[()=,{}\[\]\/\s]/,wn=/\\(\\)?/g,zr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,la=/\w*$/,Ya=/^[-+]0x[0-9a-f]+$/i,Do=/^0b[01]+$/i,Po=/^\[object .+?Constructor\]$/,os=/^0o[0-7]+$/i,Fs=/^(?:0|[1-9]\d*)$/,xu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,Ln=/['\n\r\u2028\u2029\\]/g,rr="\\ud800-\\udfff",vr="\\u0300-\\u036f",Ia="\\ufe20-\\ufe2f",uo="\\u20d0-\\u20ff",Vl=vr+Ia+uo,cd="\\u2700-\\u27bf",al="a-z\\xdf-\\xf6\\xf8-\\xff",Su="\\xac\\xb1\\xd7\\xf7",qy="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Zy="\\u2000-\\u206f",Kp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Us="A-Z\\xc0-\\xd6\\xd8-\\xde",_h="\\ufe0e\\ufe0f",Kc=Su+qy+Zy+Kp,fd="['’]",am="["+rr+"]",qp="["+Kc+"]",ol="["+Vl+"]",sl="\\d+",Qy="["+cd+"]",bh="["+al+"]",Zp="[^"+rr+Kc+sl+cd+al+Us+"]",Qp="\\ud83c[\\udffb-\\udfff]",qx="(?:"+ol+"|"+Qp+")",Jy="[^"+rr+"]",ge="(?:\\ud83c[\\udde6-\\uddff]){2}",Ae="[\\ud800-\\udbff][\\udc00-\\udfff]",Ge="["+Us+"]",At="\\u200d",dn="(?:"+bh+"|"+Zp+")",qn="(?:"+Ge+"|"+Zp+")",ri="(?:"+fd+"(?:d|ll|m|re|s|t|ve))?",no="(?:"+fd+"(?:D|LL|M|RE|S|T|VE))?",co=qx+"?",fo="["+_h+"]?",zl="(?:"+At+"(?:"+[Jy,ge,Ae].join("|")+")"+fo+co+")*",vL="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gL="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Bw=fo+co+zl,mL="(?:"+[Qy,ge,Ae].join("|")+")"+Bw,yL="(?:"+[Jy+ol+"?",ol,ge,Ae,am].join("|")+")",_L=RegExp(fd,"g"),bL=RegExp(ol,"g"),qc=RegExp(Qp+"(?="+Qp+")|"+yL+Bw,"g"),xL=RegExp([Ge+"?"+bh+"+"+ri+"(?="+[qp,Ge,"$"].join("|")+")",qn+"+"+no+"(?="+[qp,Ge+dn,"$"].join("|")+")",Ge+"?"+dn+"+"+ri,Ge+"+"+no,gL,vL,sl,mL].join("|"),"g"),SL=RegExp("["+At+rr+Vl+_h+"]"),e_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zx=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],kw=-1,ma={};ma[En]=ma[Gn]=ma[_r]=ma[We]=ma[yt]=ma[Re]=ma[ut]=ma[_e]=ma[It]=!0,ma[he]=ma[Ce]=ma[Mn]=ma[de]=ma[Sn]=ma[oe]=ma[me]=ma[re]=ma[se]=ma[be]=ma[Ee]=ma[rt]=ma[Je]=ma[ot]=ma[Tt]=!1;var ya={};ya[he]=ya[Ce]=ya[Mn]=ya[Sn]=ya[de]=ya[oe]=ya[En]=ya[Gn]=ya[_r]=ya[We]=ya[yt]=ya[se]=ya[be]=ya[Ee]=ya[rt]=ya[Je]=ya[ot]=ya[ae]=ya[Re]=ya[ut]=ya[_e]=ya[It]=!0,ya[me]=ya[re]=ya[Tt]=!1;var Qx={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Jx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},dd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},t_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fw=parseFloat,Uw=parseInt,Vw=typeof rg=="object"&&rg&&rg.Object===Object&&rg,AL=typeof self=="object"&&self&&self.Object===Object&&self,Ho=Vw||AL||Function("return this")(),eS=t&&!t.nodeType&&t,xh=eS&&!0&&e&&!e.nodeType&&e,zw=xh&&xh.exports===eS,tS=zw&&Vw.process,Wo=function(){try{var st=xh&&xh.require&&xh.require("util").types;return st||tS&&tS.binding&&tS.binding("util")}catch{}}(),$w=Wo&&Wo.isArrayBuffer,Hw=Wo&&Wo.isDate,Jp=Wo&&Wo.isMap,Ww=Wo&&Wo.isRegExp,Sh=Wo&&Wo.isSet,nS=Wo&&Wo.isTypedArray;function Lo(st,Ht,Mt){switch(Mt.length){case 0:return st.call(Ht);case 1:return st.call(Ht,Mt[0]);case 2:return st.call(Ht,Mt[0],Mt[1]);case 3:return st.call(Ht,Mt[0],Mt[1],Mt[2])}return st.apply(Ht,Mt)}function Gw(st,Ht,Mt,Jn){for(var Kr=-1,Pi=st==null?0:st.length;++Kr<Pi;){var bo=st[Kr];Ht(Jn,bo,Mt(bo),st)}return Jn}function No(st,Ht){for(var Mt=-1,Jn=st==null?0:st.length;++Mt<Jn&&Ht(st[Mt],Mt,st)!==!1;);return st}function rS(st,Ht){for(var Mt=st==null?0:st.length;Mt--&&Ht(st[Mt],Mt,st)!==!1;);return st}function jw(st,Ht){for(var Mt=-1,Jn=st==null?0:st.length;++Mt<Jn;)if(!Ht(st[Mt],Mt,st))return!1;return!0}function hd(st,Ht){for(var Mt=-1,Jn=st==null?0:st.length,Kr=0,Pi=[];++Mt<Jn;){var bo=st[Mt];Ht(bo,Mt,st)&&(Pi[Kr++]=bo)}return Pi}function n_(st,Ht){var Mt=st==null?0:st.length;return!!Mt&&vd(st,Ht,0)>-1}function r_(st,Ht,Mt){for(var Jn=-1,Kr=st==null?0:st.length;++Jn<Kr;)if(Mt(Ht,st[Jn]))return!0;return!1}function Ma(st,Ht){for(var Mt=-1,Jn=st==null?0:st.length,Kr=Array(Jn);++Mt<Jn;)Kr[Mt]=Ht(st[Mt],Mt,st);return Kr}function pd(st,Ht){for(var Mt=-1,Jn=Ht.length,Kr=st.length;++Mt<Jn;)st[Kr+Mt]=Ht[Mt];return st}function i_(st,Ht,Mt,Jn){var Kr=-1,Pi=st==null?0:st.length;for(Jn&&Pi&&(Mt=st[++Kr]);++Kr<Pi;)Mt=Ht(Mt,st[Kr],Kr,st);return Mt}function ka(st,Ht,Mt,Jn){var Kr=st==null?0:st.length;for(Jn&&Kr&&(Mt=st[--Kr]);Kr--;)Mt=Ht(Mt,st[Kr],Kr,st);return Mt}function a_(st,Ht){for(var Mt=-1,Jn=st==null?0:st.length;++Mt<Jn;)if(Ht(st[Mt],Mt,st))return!0;return!1}var EL=s_("length");function Zc(st){return st.split("")}function Yw(st){return st.match(yh)||[]}function om(st,Ht,Mt){var Jn;return Mt(st,function(Kr,Pi,bo){if(Ht(Kr,Pi,bo))return Jn=Pi,!1}),Jn}function Qu(st,Ht,Mt,Jn){for(var Kr=st.length,Pi=Mt+(Jn?1:-1);Jn?Pi--:++Pi<Kr;)if(Ht(st[Pi],Pi,st))return Pi;return-1}function vd(st,Ht,Mt){return Ht===Ht?dS(st,Ht,Mt):Qu(st,ev,Mt)}function o_(st,Ht,Mt,Jn){for(var Kr=Mt-1,Pi=st.length;++Kr<Pi;)if(Jn(st[Kr],Ht))return Kr;return-1}function ev(st){return st!==st}function sm(st,Ht){var Mt=st==null?0:st.length;return Mt?aS(st,Ht)/Mt:W}function s_(st){return function(Ht){return Ht==null?n:Ht[st]}}function lm(st){return function(Ht){return st==null?n:st[Ht]}}function iS(st,Ht,Mt,Jn,Kr){return Kr(st,function(Pi,bo,ua){Mt=Jn?(Jn=!1,Pi):Ht(Mt,Pi,bo,ua)}),Mt}function TL(st,Ht){var Mt=st.length;for(st.sort(Ht);Mt--;)st[Mt]=st[Mt].value;return st}function aS(st,Ht){for(var Mt,Jn=-1,Kr=st.length;++Jn<Kr;){var Pi=Ht(st[Jn]);Pi!==n&&(Mt=Mt===n?Pi:Mt+Pi)}return Mt}function oS(st,Ht){for(var Mt=-1,Jn=Array(st);++Mt<st;)Jn[Mt]=Ht(Mt);return Jn}function wL(st,Ht){return Ma(Ht,function(Mt){return[Mt,st[Mt]]})}function l_(st){return st&&st.slice(0,Qw(st)+1).replace(Ul,"")}function ss(st){return function(Ht){return st(Ht)}}function um(st,Ht){return Ma(Ht,function(Mt){return st[Mt]})}function Ah(st,Ht){return st.has(Ht)}function Eh(st,Ht){for(var Mt=-1,Jn=st.length;++Mt<Jn&&vd(Ht,st[Mt],0)>-1;);return Mt}function u_(st,Ht){for(var Mt=st.length;Mt--&&vd(Ht,st[Mt],0)>-1;);return Mt}function sS(st,Ht){for(var Mt=st.length,Jn=0;Mt--;)st[Mt]===Ht&&++Jn;return Jn}var lS=lm(Qx),uS=lm(Jx);function Xw(st){return"\\"+t_[st]}function Kw(st,Ht){return st==null?n:st[Ht]}function Th(st){return SL.test(st)}function qw(st){return e_.test(st)}function Zw(st){for(var Ht,Mt=[];!(Ht=st.next()).done;)Mt.push(Ht.value);return Mt}function c_(st){var Ht=-1,Mt=Array(st.size);return st.forEach(function(Jn,Kr){Mt[++Ht]=[Kr,Jn]}),Mt}function cS(st,Ht){return function(Mt){return st(Ht(Mt))}}function Qc(st,Ht){for(var Mt=-1,Jn=st.length,Kr=0,Pi=[];++Mt<Jn;){var bo=st[Mt];(bo===Ht||bo===c)&&(st[Mt]=c,Pi[Kr++]=Mt)}return Pi}function Jc(st){var Ht=-1,Mt=Array(st.size);return st.forEach(function(Jn){Mt[++Ht]=Jn}),Mt}function fS(st){var Ht=-1,Mt=Array(st.size);return st.forEach(function(Jn){Mt[++Ht]=[Jn,Jn]}),Mt}function dS(st,Ht,Mt){for(var Jn=Mt-1,Kr=st.length;++Jn<Kr;)if(st[Jn]===Ht)return Jn;return-1}function cm(st,Ht,Mt){for(var Jn=Mt+1;Jn--;)if(st[Jn]===Ht)return Jn;return Jn}function tv(st){return Th(st)?CL(st):EL(st)}function Au(st){return Th(st)?RL(st):Zc(st)}function Qw(st){for(var Ht=st.length;Ht--&&qu.test(st.charAt(Ht)););return Ht}var hS=lm(dd);function CL(st){for(var Ht=qc.lastIndex=0;qc.test(st);)++Ht;return Ht}function RL(st){return st.match(qc)||[]}function IL(st){return st.match(xL)||[]}var pS=function st(Ht){Ht=Ht==null?Ho:nv.defaults(Ho.Object(),Ht,nv.pick(Ho,Zx));var Mt=Ht.Array,Jn=Ht.Date,Kr=Ht.Error,Pi=Ht.Function,bo=Ht.Math,ua=Ht.Object,vS=Ht.RegExp,ML=Ht.String,$l=Ht.TypeError,f_=Mt.prototype,OL=Pi.prototype,wh=ua.prototype,Ch=Ht["__core-js_shared__"],d_=OL.toString,$i=wh.hasOwnProperty,Hl=0,Rh=function(){var S=/[^.]+$/.exec(Ch&&Ch.keys&&Ch.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}(),fm=wh.toString,Jw=d_.call(ua),eC=Ho._,tC=vS("^"+d_.call($i).replace(il,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dm=zw?Ht.Buffer:n,ef=Ht.Symbol,h_=Ht.Uint8Array,Ih=dm?dm.allocUnsafe:n,ro=cS(ua.getPrototypeOf,ua),gS=ua.create,mS=wh.propertyIsEnumerable,Ju=f_.splice,yS=ef?ef.isConcatSpreadable:n,rv=ef?ef.iterator:n,Mh=ef?ef.toStringTag:n,p_=function(){try{var S=Yt(ua,"defineProperty");return S({},"",{}),S}catch{}}(),DL=Ht.clearTimeout!==Ho.clearTimeout&&Ht.clearTimeout,PL=Jn&&Jn.now!==Ho.Date.now&&Jn.now,_S=Ht.setTimeout!==Ho.setTimeout&&Ht.setTimeout,hm=bo.ceil,v_=bo.floor,g_=ua.getOwnPropertySymbols,nC=dm?dm.isBuffer:n,rC=Ht.isFinite,m_=f_.join,LL=cS(ua.keys,ua),_a=bo.max,xo=bo.min,iC=Jn.now,aC=Ht.parseInt,bS=bo.random,oC=f_.reverse,y_=Yt(Ht,"DataView"),iv=Yt(Ht,"Map"),__=Yt(Ht,"Promise"),Oh=Yt(Ht,"Set"),av=Yt(Ht,"WeakMap"),_s=Yt(ua,"create"),pm=av&&new av,ov={},tf=ca(y_),xS=ca(iv),Dh=ca(__),b_=ca(Oh),sC=ca(av),vm=ef?ef.prototype:n,sv=vm?vm.valueOf:n,SS=vm?vm.toString:n;function ye(S){if(po(S)&&!ii(S)&&!(S instanceof Ai)){if(S instanceof Wl)return S;if($i.call(S,"__wrapped__"))return So(S)}return new Wl(S)}var lv=function(){function S(){}return function(w){if(!io(w))return{};if(gS)return gS(w);S.prototype=w;var k=new S;return S.prototype=n,k}}();function x_(){}function Wl(S,w){this.__wrapped__=S,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=n}ye.templateSettings={escape:ji,evaluate:sd,interpolate:Ku,variable:"",imports:{_:ye}},ye.prototype=x_.prototype,ye.prototype.constructor=ye,Wl.prototype=lv(x_.prototype),Wl.prototype.constructor=Wl;function Ai(S){this.__wrapped__=S,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function NL(){var S=new Ai(this.__wrapped__);return S.__actions__=bs(this.__actions__),S.__dir__=this.__dir__,S.__filtered__=this.__filtered__,S.__iteratees__=bs(this.__iteratees__),S.__takeCount__=this.__takeCount__,S.__views__=bs(this.__views__),S}function BL(){if(this.__filtered__){var S=new Ai(this);S.__dir__=-1,S.__filtered__=!0}else S=this.clone(),S.__dir__*=-1;return S}function kL(){var S=this.__wrapped__.value(),w=this.__dir__,k=ii(S),X=w<0,ce=k?S.length:0,Te=jt(0,ce,this.__views__),ze=Te.start,Qe=Te.end,dt=Qe-ze,nn=X?Qe:ze-1,rn=this.__iteratees__,hn=rn.length,Hn=0,yr=xo(dt,this.__takeCount__);if(!k||!X&&ce==dt&&yr==dt)return P_(S,this.__actions__);var kr=[];e:for(;dt--&&Hn<yr;){nn+=w;for(var vi=-1,Fr=S[nn];++vi<hn;){var Ri=rn[vi],Ui=Ri.iteratee,Cu=Ri.type,cl=Ui(Fr);if(Cu==U)Fr=cl;else if(!cl){if(Cu==B)continue e;break e}}kr[Hn++]=Fr}return kr}Ai.prototype=lv(x_.prototype),Ai.prototype.constructor=Ai;function gd(S){var w=-1,k=S==null?0:S.length;for(this.clear();++w<k;){var X=S[w];this.set(X[0],X[1])}}function lC(){this.__data__=_s?_s(null):{},this.size=0}function FL(S){var w=this.has(S)&&delete this.__data__[S];return this.size-=w?1:0,w}function UL(S){var w=this.__data__;if(_s){var k=w[S];return k===l?n:k}return $i.call(w,S)?w[S]:n}function AS(S){var w=this.__data__;return _s?w[S]!==n:$i.call(w,S)}function S_(S,w){var k=this.__data__;return this.size+=this.has(S)?0:1,k[S]=_s&&w===n?l:w,this}gd.prototype.clear=lC,gd.prototype.delete=FL,gd.prototype.get=UL,gd.prototype.has=AS,gd.prototype.set=S_;function nf(S){var w=-1,k=S==null?0:S.length;for(this.clear();++w<k;){var X=S[w];this.set(X[0],X[1])}}function VL(){this.__data__=[],this.size=0}function zL(S){var w=this.__data__,k=af(w,S);if(k<0)return!1;var X=w.length-1;return k==X?w.pop():Ju.call(w,k,1),--this.size,!0}function $L(S){var w=this.__data__,k=af(w,S);return k<0?n:w[k][1]}function HL(S){return af(this.__data__,S)>-1}function uC(S,w){var k=this.__data__,X=af(k,S);return X<0?(++this.size,k.push([S,w])):k[X][1]=w,this}nf.prototype.clear=VL,nf.prototype.delete=zL,nf.prototype.get=$L,nf.prototype.has=HL,nf.prototype.set=uC;function rf(S){var w=-1,k=S==null?0:S.length;for(this.clear();++w<k;){var X=S[w];this.set(X[0],X[1])}}function WL(){this.size=0,this.__data__={hash:new gd,map:new(iv||nf),string:new gd}}function GL(S){var w=xt(this,S).delete(S);return this.size-=w?1:0,w}function jL(S){return xt(this,S).get(S)}function YL(S){return xt(this,S).has(S)}function uv(S,w){var k=xt(this,S),X=k.size;return k.set(S,w),this.size+=k.size==X?0:1,this}rf.prototype.clear=WL,rf.prototype.delete=GL,rf.prototype.get=jL,rf.prototype.has=YL,rf.prototype.set=uv;function Ph(S){var w=-1,k=S==null?0:S.length;for(this.__data__=new rf;++w<k;)this.add(S[w])}function XL(S){return this.__data__.set(S,l),this}function cC(S){return this.__data__.has(S)}Ph.prototype.add=Ph.prototype.push=XL,Ph.prototype.has=cC;function ll(S){var w=this.__data__=new nf(S);this.size=w.size}function KL(){this.__data__=new nf,this.size=0}function fC(S){var w=this.__data__,k=w.delete(S);return this.size=w.size,k}function qL(S){return this.__data__.get(S)}function ZL(S){return this.__data__.has(S)}function QL(S,w){var k=this.__data__;if(k instanceof nf){var X=k.__data__;if(!iv||X.length<i-1)return X.push([S,w]),this.size=++k.size,this;k=this.__data__=new rf(X)}return k.set(S,w),this.size=k.size,this}ll.prototype.clear=KL,ll.prototype.delete=fC,ll.prototype.get=qL,ll.prototype.has=ZL,ll.prototype.set=QL;function dC(S,w){var k=ii(S),X=!k&&Dm(S),ce=!k&&!X&&bv(S),Te=!k&&!X&&!ce&&B_(S),ze=k||X||ce||Te,Qe=ze?oS(S.length,ML):[],dt=Qe.length;for(var nn in S)(w||$i.call(S,nn))&&!(ze&&(nn=="length"||ce&&(nn=="offset"||nn=="parent")||Te&&(nn=="buffer"||nn=="byteLength"||nn=="byteOffset")||Gt(nn,dt)))&&Qe.push(nn);return Qe}function hC(S){var w=S.length;return w?S[PS(0,w-1)]:n}function gm(S,w){return Oa(bs(S),of(w,0,S.length))}function JL(S){return Oa(bs(S))}function cv(S,w,k){(k!==n&&!mf(S[w],k)||k===n&&!(w in S))&&ec(S,w,k)}function mm(S,w,k){var X=S[w];(!($i.call(S,w)&&mf(X,k))||k===n&&!(w in S))&&ec(S,w,k)}function af(S,w){for(var k=S.length;k--;)if(mf(S[k][0],w))return k;return-1}function fv(S,w,k,X){return sf(S,function(ce,Te,ze){w(X,ce,k(ce),ze)}),X}function pC(S,w){return S&&Eu(w,cs(w),S)}function dv(S,w){return S&&Eu(w,Zl(w),S)}function ec(S,w,k){w=="__proto__"&&p_?p_(S,w,{configurable:!0,enumerable:!0,value:k,writable:!0}):S[w]=k}function md(S,w){for(var k=-1,X=w.length,ce=Mt(X),Te=S==null;++k<X;)ce[k]=Te?n:y4(S,w[k]);return ce}function of(S,w,k){return S===S&&(k!==n&&(S=S<=k?S:k),w!==n&&(S=S>=w?S:w)),S}function ul(S,w,k,X,ce,Te){var ze,Qe=w&f,dt=w&d,nn=w&h;if(k&&(ze=ce?k(S,X,ce,Te):k(S)),ze!==n)return ze;if(!io(S))return S;var rn=ii(S);if(rn){if(ze=bt(S),!Qe)return bs(S,ze)}else{var hn=Qt(S),Hn=hn==re||hn==ne;if(bv(S))return LS(S,Qe);if(hn==Ee||hn==he||Hn&&!ce){if(ze=dt||Hn?{}:Jt(S),!Qe)return dt?RC(S,dv(ze,S)):u4(S,pC(ze,S))}else{if(!ya[hn])return ce?S:{};ze=_n(S,hn,Qe)}}Te||(Te=new ll);var yr=Te.get(S);if(yr)return yr;Te.set(S,ze),mY(S)?S.forEach(function(Fr){ze.add(ul(Fr,w,k,Fr,S,Te))}):vY(S)&&S.forEach(function(Fr,Ri){ze.set(Ri,ul(Fr,w,k,Ri,S,Te))});var kr=nn?dt?xe:Z:dt?Zl:cs,vi=rn?n:kr(S);return No(vi||S,function(Fr,Ri){vi&&(Ri=Fr,Fr=S[Ri]),mm(ze,Ri,ul(Fr,w,k,Ri,S,Te))}),ze}function vC(S){var w=cs(S);return function(k){return ES(k,S,w)}}function ES(S,w,k){var X=k.length;if(S==null)return!X;for(S=ua(S);X--;){var ce=k[X],Te=w[ce],ze=S[ce];if(ze===n&&!(ce in S)||!Te(ze))return!1}return!0}function TS(S,w,k){if(typeof S!="function")throw new $l(o);return Ta(function(){S.apply(n,k)},w)}function Lh(S,w,k,X){var ce=-1,Te=n_,ze=!0,Qe=S.length,dt=[],nn=w.length;if(!Qe)return dt;k&&(w=Ma(w,ss(k))),X?(Te=r_,ze=!1):w.length>=i&&(Te=Ah,ze=!1,w=new Ph(w));e:for(;++ce<Qe;){var rn=S[ce],hn=k==null?rn:k(rn);if(rn=X||rn!==0?rn:0,ze&&hn===hn){for(var Hn=nn;Hn--;)if(w[Hn]===hn)continue e;dt.push(rn)}else Te(w,hn,X)||dt.push(rn)}return dt}var sf=kS(Gl),wS=kS(E_,!0);function gC(S,w){var k=!0;return sf(S,function(X,ce,Te){return k=!!w(X,ce,Te),k}),k}function hv(S,w,k){for(var X=-1,ce=S.length;++X<ce;){var Te=S[X],ze=w(Te);if(ze!=null&&(Qe===n?ze===ze&&!wu(ze):k(ze,Qe)))var Qe=ze,dt=Te}return dt}function CS(S,w,k,X){var ce=S.length;for(k=di(k),k<0&&(k=-k>ce?0:ce+k),X=X===n||X>ce?ce:di(X),X<0&&(X+=ce),X=k>X?0:_Y(X);k<X;)S[k++]=w;return S}function RS(S,w){var k=[];return sf(S,function(X,ce,Te){w(X,ce,Te)&&k.push(X)}),k}function Bo(S,w,k,X,ce){var Te=-1,ze=S.length;for(k||(k=In),ce||(ce=[]);++Te<ze;){var Qe=S[Te];w>0&&k(Qe)?w>1?Bo(Qe,w-1,k,X,ce):pd(ce,Qe):X||(ce[ce.length]=Qe)}return ce}var A_=Wh(),IS=Wh(!0);function Gl(S,w){return S&&A_(S,w,cs)}function E_(S,w){return S&&IS(S,w,cs)}function ym(S,w){return hd(w,function(k){return Gh(S[k])})}function lf(S,w){w=Yl(w,S);for(var k=0,X=w.length;S!=null&&k<X;)S=S[ba(w[k++])];return k&&k==X?S:n}function T_(S,w,k){var X=w(S);return ii(S)?X:pd(X,k(S))}function ls(S){return S==null?S===n?Xe:Pe:Mh&&Mh in ua(S)?mn(S):Cr(S)}function _m(S,w){return S>w}function mC(S,w){return S!=null&&$i.call(S,w)}function yC(S,w){return S!=null&&w in ua(S)}function MS(S,w,k){return S>=xo(w,k)&&S<_a(w,k)}function w_(S,w,k){for(var X=k?r_:n_,ce=S[0].length,Te=S.length,ze=Te,Qe=Mt(Te),dt=1/0,nn=[];ze--;){var rn=S[ze];ze&&w&&(rn=Ma(rn,ss(w))),dt=xo(rn.length,dt),Qe[ze]=!k&&(w||ce>=120&&rn.length>=120)?new Ph(ze&&rn):n}rn=S[0];var hn=-1,Hn=Qe[0];e:for(;++hn<ce&&nn.length<dt;){var yr=rn[hn],kr=w?w(yr):yr;if(yr=k||yr!==0?yr:0,!(Hn?Ah(Hn,kr):X(nn,kr,k))){for(ze=Te;--ze;){var vi=Qe[ze];if(!(vi?Ah(vi,kr):X(S[ze],kr,k)))continue e}Hn&&Hn.push(kr),nn.push(yr)}}return nn}function _C(S,w,k,X){return Gl(S,function(ce,Te,ze){w(X,k(ce),Te,ze)}),X}function Nh(S,w,k){w=Yl(w,S),S=fi(S,w);var X=S==null?S:S[ba(ft(w))];return X==null?n:Lo(X,S,k)}function C_(S){return po(S)&&ls(S)==he}function bm(S){return po(S)&&ls(S)==Mn}function bC(S){return po(S)&&ls(S)==oe}function yd(S,w,k,X,ce){return S===w?!0:S==null||w==null||!po(S)&&!po(w)?S!==S&&w!==w:uf(S,w,k,X,yd,ce)}function uf(S,w,k,X,ce,Te){var ze=ii(S),Qe=ii(w),dt=ze?Ce:Qt(S),nn=Qe?Ce:Qt(w);dt=dt==he?Ee:dt,nn=nn==he?Ee:nn;var rn=dt==Ee,hn=nn==Ee,Hn=dt==nn;if(Hn&&bv(S)){if(!bv(w))return!1;ze=!0,rn=!1}if(Hn&&!rn)return Te||(Te=new ll),ze||B_(S)?LC(S,w,k,X,ce,Te):d4(S,w,dt,k,X,ce,Te);if(!(k&p)){var yr=rn&&$i.call(S,"__wrapped__"),kr=hn&&$i.call(w,"__wrapped__");if(yr||kr){var vi=yr?S.value():S,Fr=kr?w.value():w;return Te||(Te=new ll),ce(vi,Fr,k,X,Te)}}return Hn?(Te||(Te=new ll),NC(S,w,k,X,ce,Te)):!1}function xm(S){return po(S)&&Qt(S)==se}function cf(S,w,k,X){var ce=k.length,Te=ce,ze=!X;if(S==null)return!Te;for(S=ua(S);ce--;){var Qe=k[ce];if(ze&&Qe[2]?Qe[1]!==S[Qe[0]]:!(Qe[0]in S))return!1}for(;++ce<Te;){Qe=k[ce];var dt=Qe[0],nn=S[dt],rn=Qe[1];if(ze&&Qe[2]){if(nn===n&&!(dt in S))return!1}else{var hn=new ll;if(X)var Hn=X(nn,rn,dt,S,w,hn);if(!(Hn===n?yd(rn,nn,p|v,X,hn):Hn))return!1}}return!0}function pv(S){if(!io(S)||Ar(S))return!1;var w=Gh(S)?tC:Po;return w.test(ca(S))}function Sm(S){return po(S)&&ls(S)==rt}function Bh(S){return po(S)&&Qt(S)==Je}function kh(S){return po(S)&&HC(S.length)&&!!ma[ls(S)]}function _d(S){return typeof S=="function"?S:S==null?Ql:typeof S=="object"?ii(S)?Uh(S[0],S[1]):M_(S):MY(S)}function vv(S){if(!Kt(S))return LL(S);var w=[];for(var k in ua(S))$i.call(S,k)&&k!="constructor"&&w.push(k);return w}function R_(S){if(!io(S))return $r(S);var w=Kt(S),k=[];for(var X in S)X=="constructor"&&(w||!$i.call(S,X))||k.push(X);return k}function Fh(S,w){return S<w}function I_(S,w){var k=-1,X=ql(S)?Mt(S.length):[];return sf(S,function(ce,Te,ze){X[++k]=w(ce,Te,ze)}),X}function M_(S){var w=qt(S);return w.length==1&&w[0][2]?xr(w[0][0],w[0][1]):function(k){return k===S||cf(k,S,w)}}function Uh(S,w){return Ft(S)&&Dt(w)?xr(ba(S),w):function(k){var X=y4(k,S);return X===n&&X===w?_4(k,S):yd(w,X,p|v)}}function ff(S,w,k,X,ce){S!==w&&A_(w,function(Te,ze){if(ce||(ce=new ll),io(Te))e4(S,w,ze,k,ff,X,ce);else{var Qe=X?X(Ka(S,ze),Te,ze+"",S,w,ce):n;Qe===n&&(Qe=Te),cv(S,ze,Qe)}},Zl)}function e4(S,w,k,X,ce,Te,ze){var Qe=Ka(S,k),dt=Ka(w,k),nn=ze.get(dt);if(nn){cv(S,k,nn);return}var rn=Te?Te(Qe,dt,k+"",S,w,ze):n,hn=rn===n;if(hn){var Hn=ii(dt),yr=!Hn&&bv(dt),kr=!Hn&&!yr&&B_(dt);rn=dt,Hn||yr||kr?ii(Qe)?rn=Qe:Ao(Qe)?rn=bs(Qe):yr?(hn=!1,rn=LS(dt,!0)):kr?(hn=!1,rn=wC(dt,!0)):rn=[]:WS(dt)||Dm(dt)?(rn=Qe,Dm(Qe)?rn=bY(Qe):(!io(Qe)||Gh(Qe))&&(rn=Jt(dt))):hn=!1}hn&&(ze.set(dt,rn),ce(rn,dt,X,Te,ze),ze.delete(dt)),cv(S,k,rn)}function xC(S,w){var k=S.length;if(k)return w+=w<0?k:0,Gt(w,k)?S[w]:n}function OS(S,w,k){w.length?w=Ma(w,function(Te){return ii(Te)?function(ze){return lf(ze,Te.length===1?Te[0]:Te)}:Te}):w=[Ql];var X=-1;w=Ma(w,ss(Ze()));var ce=I_(S,function(Te,ze,Qe){var dt=Ma(w,function(nn){return nn(Te)});return{criteria:dt,index:++X,value:Te}});return TL(ce,function(Te,ze){return l4(Te,ze,k)})}function SC(S,w){return DS(S,w,function(k,X){return _4(S,X)})}function DS(S,w,k){for(var X=-1,ce=w.length,Te={};++X<ce;){var ze=w[X],Qe=lf(S,ze);k(Qe,ze)&&Am(Te,Yl(ze,S),Qe)}return Te}function t4(S){return function(w){return lf(w,S)}}function bd(S,w,k,X){var ce=X?o_:vd,Te=-1,ze=w.length,Qe=S;for(S===w&&(w=bs(w)),k&&(Qe=Ma(S,ss(k)));++Te<ze;)for(var dt=0,nn=w[Te],rn=k?k(nn):nn;(dt=ce(Qe,rn,dt,X))>-1;)Qe!==S&&Ju.call(Qe,dt,1),Ju.call(S,dt,1);return S}function AC(S,w){for(var k=S?w.length:0,X=k-1;k--;){var ce=w[k];if(k==X||ce!==Te){var Te=ce;Gt(ce)?Ju.call(S,ce,1):gv(S,ce)}}return S}function PS(S,w){return S+v_(bS()*(w-S+1))}function n4(S,w,k,X){for(var ce=-1,Te=_a(hm((w-S)/(k||1)),0),ze=Mt(Te);Te--;)ze[X?Te:++ce]=S,S+=k;return ze}function O_(S,w){var k="";if(!S||w<1||w>N)return k;do w%2&&(k+=S),w=v_(w/2),w&&(S+=S);while(w);return k}function ci(S,w){return qi(Nr(S,w,Ql),S+"")}function r4(S){return hC(k_(S))}function i4(S,w){var k=k_(S);return Oa(k,of(w,0,k.length))}function Am(S,w,k,X){if(!io(S))return S;w=Yl(w,S);for(var ce=-1,Te=w.length,ze=Te-1,Qe=S;Qe!=null&&++ce<Te;){var dt=ba(w[ce]),nn=k;if(dt==="__proto__"||dt==="constructor"||dt==="prototype")return S;if(ce!=ze){var rn=Qe[dt];nn=X?X(rn,dt,Qe):n,nn===n&&(nn=io(rn)?rn:Gt(w[ce+1])?[]:{})}mm(Qe,dt,nn),Qe=Qe[dt]}return S}var EC=pm?function(S,w){return pm.set(S,w),S}:Ql,a4=p_?function(S,w){return p_(S,"toString",{configurable:!0,enumerable:!1,value:x4(w),writable:!0})}:Ql;function o4(S){return Oa(k_(S))}function jl(S,w,k){var X=-1,ce=S.length;w<0&&(w=-w>ce?0:ce+w),k=k>ce?ce:k,k<0&&(k+=ce),ce=w>k?0:k-w>>>0,w>>>=0;for(var Te=Mt(ce);++X<ce;)Te[X]=S[X+w];return Te}function s4(S,w){var k;return sf(S,function(X,ce,Te){return k=w(X,ce,Te),!k}),!!k}function D_(S,w,k){var X=0,ce=S==null?X:S.length;if(typeof w=="number"&&w===w&&ce<=q){for(;X<ce;){var Te=X+ce>>>1,ze=S[Te];ze!==null&&!wu(ze)&&(k?ze<=w:ze<w)?X=Te+1:ce=Te}return ce}return Em(S,w,Ql,k)}function Em(S,w,k,X){var ce=0,Te=S==null?0:S.length;if(Te===0)return 0;w=k(w);for(var ze=w!==w,Qe=w===null,dt=wu(w),nn=w===n;ce<Te;){var rn=v_((ce+Te)/2),hn=k(S[rn]),Hn=hn!==n,yr=hn===null,kr=hn===hn,vi=wu(hn);if(ze)var Fr=X||kr;else nn?Fr=kr&&(X||Hn):Qe?Fr=kr&&Hn&&(X||!yr):dt?Fr=kr&&Hn&&!yr&&(X||!vi):yr||vi?Fr=!1:Fr=X?hn<=w:hn<w;Fr?ce=rn+1:Te=rn}return xo(Te,K)}function Tm(S,w){for(var k=-1,X=S.length,ce=0,Te=[];++k<X;){var ze=S[k],Qe=w?w(ze):ze;if(!k||!mf(Qe,dt)){var dt=Qe;Te[ce++]=ze===0?0:ze}}return Te}function wm(S){return typeof S=="number"?S:wu(S)?W:+S}function us(S){if(typeof S=="string")return S;if(ii(S))return Ma(S,us)+"";if(wu(S))return SS?SS.call(S):"";var w=S+"";return w=="0"&&1/S==-F?"-0":w}function tc(S,w,k){var X=-1,ce=n_,Te=S.length,ze=!0,Qe=[],dt=Qe;if(k)ze=!1,ce=r_;else if(Te>=i){var nn=w?null:f4(S);if(nn)return Jc(nn);ze=!1,ce=Ah,dt=new Ph}else dt=w?[]:Qe;e:for(;++X<Te;){var rn=S[X],hn=w?w(rn):rn;if(rn=k||rn!==0?rn:0,ze&&hn===hn){for(var Hn=dt.length;Hn--;)if(dt[Hn]===hn)continue e;w&&dt.push(hn),Qe.push(rn)}else ce(dt,hn,k)||(dt!==Qe&&dt.push(hn),Qe.push(rn))}return Qe}function gv(S,w){return w=Yl(w,S),S=fi(S,w),S==null||delete S[ba(ft(w))]}function Cm(S,w,k,X){return Am(S,w,k(lf(S,w)),X)}function Vh(S,w,k,X){for(var ce=S.length,Te=X?ce:-1;(X?Te--:++Te<ce)&&w(S[Te],Te,S););return k?jl(S,X?0:Te,X?Te+1:ce):jl(S,X?Te+1:0,X?ce:Te)}function P_(S,w){var k=S;return k instanceof Ai&&(k=k.value()),i_(w,function(X,ce){return ce.func.apply(ce.thisArg,pd([X],ce.args))},k)}function mv(S,w,k){var X=S.length;if(X<2)return X?tc(S[0]):[];for(var ce=-1,Te=Mt(X);++ce<X;)for(var ze=S[ce],Qe=-1;++Qe<X;)Qe!=ce&&(Te[ce]=Lh(Te[ce]||ze,S[Qe],w,k));return tc(Bo(Te,1),w,k)}function Rm(S,w,k){for(var X=-1,ce=S.length,Te=w.length,ze={};++X<ce;){var Qe=X<Te?w[X]:n;k(ze,S[X],Qe)}return ze}function yv(S){return Ao(S)?S:[]}function zh(S){return typeof S=="function"?S:Ql}function Yl(S,w){return ii(S)?S:Ft(S,w)?[S]:ho(ra(S))}var Im=ci;function Xl(S,w,k){var X=S.length;return k=k===n?X:k,!w&&k>=X?S:jl(S,w,k)}var _v=DL||function(S){return Ho.clearTimeout(S)};function LS(S,w){if(w)return S.slice();var k=S.length,X=Ih?Ih(k):new S.constructor(k);return S.copy(X),X}function $h(S){var w=new S.constructor(S.byteLength);return new h_(w).set(new h_(S)),w}function Hh(S,w){var k=w?$h(S.buffer):S.buffer;return new S.constructor(k,S.byteOffset,S.byteLength)}function TC(S){var w=new S.constructor(S.source,la.exec(S));return w.lastIndex=S.lastIndex,w}function NS(S){return sv?ua(sv.call(S)):{}}function wC(S,w){var k=w?$h(S.buffer):S.buffer;return new S.constructor(k,S.byteOffset,S.length)}function CC(S,w){if(S!==w){var k=S!==n,X=S===null,ce=S===S,Te=wu(S),ze=w!==n,Qe=w===null,dt=w===w,nn=wu(w);if(!Qe&&!nn&&!Te&&S>w||Te&&ze&&dt&&!Qe&&!nn||X&&ze&&dt||!k&&dt||!ce)return 1;if(!X&&!Te&&!nn&&S<w||nn&&k&&ce&&!X&&!Te||Qe&&k&&ce||!ze&&ce||!dt)return-1}return 0}function l4(S,w,k){for(var X=-1,ce=S.criteria,Te=w.criteria,ze=ce.length,Qe=k.length;++X<ze;){var dt=CC(ce[X],Te[X]);if(dt){if(X>=Qe)return dt;var nn=k[X];return dt*(nn=="desc"?-1:1)}}return S.index-w.index}function df(S,w,k,X){for(var ce=-1,Te=S.length,ze=k.length,Qe=-1,dt=w.length,nn=_a(Te-ze,0),rn=Mt(dt+nn),hn=!X;++Qe<dt;)rn[Qe]=w[Qe];for(;++ce<ze;)(hn||ce<Te)&&(rn[k[ce]]=S[ce]);for(;nn--;)rn[Qe++]=S[ce++];return rn}function BS(S,w,k,X){for(var ce=-1,Te=S.length,ze=-1,Qe=k.length,dt=-1,nn=w.length,rn=_a(Te-Qe,0),hn=Mt(rn+nn),Hn=!X;++ce<rn;)hn[ce]=S[ce];for(var yr=ce;++dt<nn;)hn[yr+dt]=w[dt];for(;++ze<Qe;)(Hn||ce<Te)&&(hn[yr+k[ze]]=S[ce++]);return hn}function bs(S,w){var k=-1,X=S.length;for(w||(w=Mt(X));++k<X;)w[k]=S[k];return w}function Eu(S,w,k,X){var ce=!k;k||(k={});for(var Te=-1,ze=w.length;++Te<ze;){var Qe=w[Te],dt=X?X(k[Qe],S[Qe],Qe,k,S):n;dt===n&&(dt=S[Qe]),ce?ec(k,Qe,dt):mm(k,Qe,dt)}return k}function u4(S,w){return Eu(S,tn(S),w)}function RC(S,w){return Eu(S,ln(S),w)}function L_(S,w){return function(k,X){var ce=ii(k)?Gw:fv,Te=w?w():{};return ce(k,S,Ze(X,2),Te)}}function xs(S){return ci(function(w,k){var X=-1,ce=k.length,Te=ce>1?k[ce-1]:n,ze=ce>2?k[2]:n;for(Te=S.length>3&&typeof Te=="function"?(ce--,Te):n,ze&&cn(k[0],k[1],ze)&&(Te=ce<3?n:Te,ce=1),w=ua(w);++X<ce;){var Qe=k[X];Qe&&S(w,Qe,X,Te)}return w})}function kS(S,w){return function(k,X){if(k==null)return k;if(!ql(k))return S(k,X);for(var ce=k.length,Te=w?ce:-1,ze=ua(k);(w?Te--:++Te<ce)&&X(ze[Te],Te,ze)!==!1;);return k}}function Wh(S){return function(w,k,X){for(var ce=-1,Te=ua(w),ze=X(w),Qe=ze.length;Qe--;){var dt=ze[S?Qe:++ce];if(k(Te[dt],dt,Te)===!1)break}return w}}function xd(S,w,k){var X=w&g,ce=Ad(S);function Te(){var ze=this&&this!==Ho&&this instanceof Te?ce:S;return ze.apply(X?k:this,arguments)}return Te}function FS(S){return function(w){w=ra(w);var k=Th(w)?Au(w):n,X=k?k[0]:w.charAt(0),ce=k?Xl(k,1).join(""):w.slice(1);return X[S]()+ce}}function Sd(S){return function(w){return i_(RY(CY(w).replace(_L,"")),S,"")}}function Ad(S){return function(){var w=arguments;switch(w.length){case 0:return new S;case 1:return new S(w[0]);case 2:return new S(w[0],w[1]);case 3:return new S(w[0],w[1],w[2]);case 4:return new S(w[0],w[1],w[2],w[3]);case 5:return new S(w[0],w[1],w[2],w[3],w[4]);case 6:return new S(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new S(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var k=lv(S.prototype),X=S.apply(k,w);return io(X)?X:k}}function IC(S,w,k){var X=Ad(S);function ce(){for(var Te=arguments.length,ze=Mt(Te),Qe=Te,dt=Ot(ce);Qe--;)ze[Qe]=arguments[Qe];var nn=Te<3&&ze[0]!==dt&&ze[Te-1]!==dt?[]:Qc(ze,dt);if(Te-=nn.length,Te<k)return OC(S,w,Ea,ce.placeholder,n,ze,nn,n,n,k-Te);var rn=this&&this!==Ho&&this instanceof ce?X:S;return Lo(rn,this,ze)}return ce}function Vs(S){return function(w,k,X){var ce=ua(w);if(!ql(w)){var Te=Ze(k,3);w=cs(w),k=function(Qe){return Te(ce[Qe],Qe,ce)}}var ze=S(w,k,X);return ze>-1?ce[Te?w[ze]:ze]:n}}function hf(S){return vf(function(w){var k=w.length,X=k,ce=Wl.prototype.thru;for(S&&w.reverse();X--;){var Te=w[X];if(typeof Te!="function")throw new $l(o);if(ce&&!ze&&vt(Te)=="wrapper")var ze=new Wl([],!0)}for(X=ze?X:k;++X<k;){Te=w[X];var Qe=vt(Te),dt=Qe=="wrapper"?Fe(Te):n;dt&&Zn(dt[0])&&dt[1]==(T|_|E|R)&&!dt[4].length&&dt[9]==1?ze=ze[vt(dt[0])].apply(ze,dt[3]):ze=Te.length==1&&Zn(Te)?ze[Qe]():ze.thru(Te)}return function(){var nn=arguments,rn=nn[0];if(ze&&nn.length==1&&ii(rn))return ze.plant(rn).value();for(var hn=0,Hn=k?w[hn].apply(this,nn):rn;++hn<k;)Hn=w[hn].call(this,Hn);return Hn}})}function Ea(S,w,k,X,ce,Te,ze,Qe,dt,nn){var rn=w&T,hn=w&g,Hn=w&m,yr=w&(_|x),kr=w&M,vi=Hn?n:Ad(S);function Fr(){for(var Ri=arguments.length,Ui=Mt(Ri),Cu=Ri;Cu--;)Ui[Cu]=arguments[Cu];if(yr)var cl=Ot(Fr),Ru=sS(Ui,cl);if(X&&(Ui=df(Ui,X,ce,yr)),Te&&(Ui=BS(Ui,Te,ze,yr)),Ri-=Ru,yr&&Ri<nn){var Eo=Qc(Ui,cl);return OC(S,w,Ea,Fr.placeholder,k,Ui,Eo,Qe,dt,nn-Ri)}var yf=hn?k:this,Yh=Hn?yf[S]:S;return Ri=Ui.length,Qe?Ui=Xa(Ui,Qe):kr&&Ri>1&&Ui.reverse(),rn&&dt<Ri&&(Ui.length=dt),this&&this!==Ho&&this instanceof Fr&&(Yh=vi||Ad(Yh)),Yh.apply(yf,Ui)}return Fr}function Ss(S,w){return function(k,X){return _C(k,S,w(X),{})}}function Mm(S,w){return function(k,X){var ce;if(k===n&&X===n)return w;if(k!==n&&(ce=k),X!==n){if(ce===n)return X;typeof k=="string"||typeof X=="string"?(k=us(k),X=us(X)):(k=wm(k),X=wm(X)),ce=S(k,X)}return ce}}function US(S){return vf(function(w){return w=Ma(w,ss(Ze())),ci(function(k){var X=this;return S(w,function(ce){return Lo(ce,X,k)})})})}function N_(S,w){w=w===n?" ":us(w);var k=w.length;if(k<2)return k?O_(w,S):w;var X=O_(w,hm(S/tv(w)));return Th(w)?Xl(Au(X),0,S).join(""):X.slice(0,S)}function c4(S,w,k,X){var ce=w&g,Te=Ad(S);function ze(){for(var Qe=-1,dt=arguments.length,nn=-1,rn=X.length,hn=Mt(rn+dt),Hn=this&&this!==Ho&&this instanceof ze?Te:S;++nn<rn;)hn[nn]=X[nn];for(;dt--;)hn[nn++]=arguments[++Qe];return Lo(Hn,ce?k:this,hn)}return ze}function MC(S){return function(w,k,X){return X&&typeof X!="number"&&cn(w,k,X)&&(k=X=n),w=jh(w),k===n?(k=w,w=0):k=jh(k),X=X===n?w<k?1:-1:jh(X),n4(w,k,X,S)}}function Om(S){return function(w,k){return typeof w=="string"&&typeof k=="string"||(w=rc(w),k=rc(k)),S(w,k)}}function OC(S,w,k,X,ce,Te,ze,Qe,dt,nn){var rn=w&_,hn=rn?ze:n,Hn=rn?n:ze,yr=rn?Te:n,kr=rn?n:Te;w|=rn?E:A,w&=~(rn?A:E),w&b||(w&=~(g|m));var vi=[S,w,ce,yr,hn,kr,Hn,Qe,dt,nn],Fr=k.apply(n,vi);return Zn(S)&&Gr(Fr,vi),Fr.placeholder=X,Fa(Fr,S,w)}function VS(S){var w=bo[S];return function(k,X){if(k=rc(k),X=X==null?0:xo(di(X),292),X&&rC(k)){var ce=(ra(k)+"e").split("e"),Te=w(ce[0]+"e"+(+ce[1]+X));return ce=(ra(Te)+"e").split("e"),+(ce[0]+"e"+(+ce[1]-X))}return w(k)}}var f4=Oh&&1/Jc(new Oh([,-0]))[1]==F?function(S){return new Oh(S)}:E4;function DC(S){return function(w){var k=Qt(w);return k==se?c_(w):k==Je?fS(w):wL(w,S(w))}}function pf(S,w,k,X,ce,Te,ze,Qe){var dt=w&m;if(!dt&&typeof S!="function")throw new $l(o);var nn=X?X.length:0;if(nn||(w&=~(E|A),X=ce=n),ze=ze===n?ze:_a(di(ze),0),Qe=Qe===n?Qe:di(Qe),nn-=ce?ce.length:0,w&A){var rn=X,hn=ce;X=ce=n}var Hn=dt?n:Fe(S),yr=[S,w,k,X,ce,rn,hn,Te,ze,Qe];if(Hn&&jn(yr,Hn),S=yr[0],w=yr[1],k=yr[2],X=yr[3],ce=yr[4],Qe=yr[9]=yr[9]===n?dt?0:S.length:_a(yr[9]-nn,0),!Qe&&w&(_|x)&&(w&=~(_|x)),!w||w==g)var kr=xd(S,w,k);else w==_||w==x?kr=IC(S,w,Qe):(w==E||w==(g|E))&&!ce.length?kr=c4(S,w,k,X):kr=Ea.apply(n,yr);var vi=Hn?EC:Gr;return Fa(vi(kr,yr),S,w)}function zS(S,w,k,X){return S===n||mf(S,wh[k])&&!$i.call(X,k)?w:S}function $S(S,w,k,X,ce,Te){return io(S)&&io(w)&&(Te.set(w,S),ff(S,w,n,$S,Te),Te.delete(w)),S}function PC(S){return WS(S)?n:S}function LC(S,w,k,X,ce,Te){var ze=k&p,Qe=S.length,dt=w.length;if(Qe!=dt&&!(ze&&dt>Qe))return!1;var nn=Te.get(S),rn=Te.get(w);if(nn&&rn)return nn==w&&rn==S;var hn=-1,Hn=!0,yr=k&v?new Ph:n;for(Te.set(S,w),Te.set(w,S);++hn<Qe;){var kr=S[hn],vi=w[hn];if(X)var Fr=ze?X(vi,kr,hn,w,S,Te):X(kr,vi,hn,S,w,Te);if(Fr!==n){if(Fr)continue;Hn=!1;break}if(yr){if(!a_(w,function(Ri,Ui){if(!Ah(yr,Ui)&&(kr===Ri||ce(kr,Ri,k,X,Te)))return yr.push(Ui)})){Hn=!1;break}}else if(!(kr===vi||ce(kr,vi,k,X,Te))){Hn=!1;break}}return Te.delete(S),Te.delete(w),Hn}function d4(S,w,k,X,ce,Te,ze){switch(k){case Sn:if(S.byteLength!=w.byteLength||S.byteOffset!=w.byteOffset)return!1;S=S.buffer,w=w.buffer;case Mn:return!(S.byteLength!=w.byteLength||!Te(new h_(S),new h_(w)));case de:case oe:case be:return mf(+S,+w);case me:return S.name==w.name&&S.message==w.message;case rt:case ot:return S==w+"";case se:var Qe=c_;case Je:var dt=X&p;if(Qe||(Qe=Jc),S.size!=w.size&&!dt)return!1;var nn=ze.get(S);if(nn)return nn==w;X|=v,ze.set(S,w);var rn=LC(Qe(S),Qe(w),X,ce,Te,ze);return ze.delete(S),rn;case ae:if(sv)return sv.call(S)==sv.call(w)}return!1}function NC(S,w,k,X,ce,Te){var ze=k&p,Qe=Z(S),dt=Qe.length,nn=Z(w),rn=nn.length;if(dt!=rn&&!ze)return!1;for(var hn=dt;hn--;){var Hn=Qe[hn];if(!(ze?Hn in w:$i.call(w,Hn)))return!1}var yr=Te.get(S),kr=Te.get(w);if(yr&&kr)return yr==w&&kr==S;var vi=!0;Te.set(S,w),Te.set(w,S);for(var Fr=ze;++hn<dt;){Hn=Qe[hn];var Ri=S[Hn],Ui=w[Hn];if(X)var Cu=ze?X(Ui,Ri,Hn,w,S,Te):X(Ri,Ui,Hn,S,w,Te);if(!(Cu===n?Ri===Ui||ce(Ri,Ui,k,X,Te):Cu)){vi=!1;break}Fr||(Fr=Hn=="constructor")}if(vi&&!Fr){var cl=S.constructor,Ru=w.constructor;cl!=Ru&&"constructor"in S&&"constructor"in w&&!(typeof cl=="function"&&cl instanceof cl&&typeof Ru=="function"&&Ru instanceof Ru)&&(vi=!1)}return Te.delete(S),Te.delete(w),vi}function vf(S){return qi(Nr(S,n,we),S+"")}function Z(S){return T_(S,cs,tn)}function xe(S){return T_(S,Zl,ln)}var Fe=pm?function(S){return pm.get(S)}:E4;function vt(S){for(var w=S.name+"",k=ov[w],X=$i.call(ov,w)?k.length:0;X--;){var ce=k[X],Te=ce.func;if(Te==null||Te==S)return ce.name}return w}function Ot(S){var w=$i.call(ye,"placeholder")?ye:S;return w.placeholder}function Ze(){var S=ye.iteratee||S4;return S=S===S4?_d:S,arguments.length?S(arguments[0],arguments[1]):S}function xt(S,w){var k=S.__data__;return yn(w)?k[typeof w=="string"?"string":"hash"]:k.map}function qt(S){for(var w=cs(S),k=w.length;k--;){var X=w[k],ce=S[X];w[k]=[X,ce,Dt(ce)]}return w}function Yt(S,w){var k=Kw(S,w);return pv(k)?k:n}function mn(S){var w=$i.call(S,Mh),k=S[Mh];try{S[Mh]=n;var X=!0}catch{}var ce=fm.call(S);return X&&(w?S[Mh]=k:delete S[Mh]),ce}var tn=g_?function(S){return S==null?[]:(S=ua(S),hd(g_(S),function(w){return mS.call(S,w)}))}:T4,ln=g_?function(S){for(var w=[];S;)pd(w,tn(S)),S=ro(S);return w}:T4,Qt=ls;(y_&&Qt(new y_(new ArrayBuffer(1)))!=Sn||iv&&Qt(new iv)!=se||__&&Qt(__.resolve())!=Le||Oh&&Qt(new Oh)!=Je||av&&Qt(new av)!=Tt)&&(Qt=function(S){var w=ls(S),k=w==Ee?S.constructor:n,X=k?ca(k):"";if(X)switch(X){case tf:return Sn;case xS:return se;case Dh:return Le;case b_:return Je;case sC:return Tt}return w});function jt(S,w,k){for(var X=-1,ce=k.length;++X<ce;){var Te=k[X],ze=Te.size;switch(Te.type){case"drop":S+=ze;break;case"dropRight":w-=ze;break;case"take":w=xo(w,S+ze);break;case"takeRight":S=_a(S,w-ze);break}}return{start:S,end:w}}function un(S){var w=S.match(na);return w?w[1].split(ud):[]}function it(S,w,k){w=Yl(w,S);for(var X=-1,ce=w.length,Te=!1;++X<ce;){var ze=ba(w[X]);if(!(Te=S!=null&&k(S,ze)))break;S=S[ze]}return Te||++X!=ce?Te:(ce=S==null?0:S.length,!!ce&&HC(ce)&&Gt(ze,ce)&&(ii(S)||Dm(S)))}function bt(S){var w=S.length,k=new S.constructor(w);return w&&typeof S[0]=="string"&&$i.call(S,"index")&&(k.index=S.index,k.input=S.input),k}function Jt(S){return typeof S.constructor=="function"&&!Kt(S)?lv(ro(S)):{}}function _n(S,w,k){var X=S.constructor;switch(w){case Mn:return $h(S);case de:case oe:return new X(+S);case Sn:return Hh(S,k);case En:case Gn:case _r:case We:case yt:case Re:case ut:case _e:case It:return wC(S,k);case se:return new X;case be:case ot:return new X(S);case rt:return TC(S);case Je:return new X;case ae:return NS(S)}}function zt(S,w){var k=w.length;if(!k)return S;var X=k-1;return w[X]=(k>1?"& ":"")+w[X],w=w.join(k>2?", ":" "),S.replace(Zu,`{
/* [wrapped with `+w+`] */
`)}function In(S){return ii(S)||Dm(S)||!!(yS&&S&&S[yS])}function Gt(S,w){var k=typeof S;return w=w??N,!!w&&(k=="number"||k!="symbol"&&Fs.test(S))&&S>-1&&S%1==0&&S<w}function cn(S,w,k){if(!io(k))return!1;var X=typeof w;return(X=="number"?ql(k)&&Gt(w,k.length):X=="string"&&w in k)?mf(k[w],S):!1}function Ft(S,w){if(ii(S))return!1;var k=typeof S;return k=="number"||k=="symbol"||k=="boolean"||S==null||wu(S)?!0:Xc.test(S)||!ld.test(S)||w!=null&&S in ua(w)}function yn(S){var w=typeof S;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?S!=="__proto__":S===null}function Zn(S){var w=vt(S),k=ye[w];if(typeof k!="function"||!(w in Ai.prototype))return!1;if(S===k)return!0;var X=Fe(k);return!!X&&S===X[0]}function Ar(S){return!!Rh&&Rh in S}var bn=Ch?Gh:w4;function Kt(S){var w=S&&S.constructor,k=typeof w=="function"&&w.prototype||wh;return S===k}function Dt(S){return S===S&&!io(S)}function xr(S,w){return function(k){return k==null?!1:k[S]===w&&(w!==n||S in ua(k))}}function Zr(S){var w=zC(S,function(X){return k.size===u&&k.clear(),X}),k=w.cache;return w}function jn(S,w){var k=S[1],X=w[1],ce=k|X,Te=ce<(g|m|T),ze=X==T&&k==_||X==T&&k==R&&S[7].length<=w[8]||X==(T|R)&&w[7].length<=w[8]&&k==_;if(!(Te||ze))return S;X&g&&(S[2]=w[2],ce|=k&g?0:b);var Qe=w[3];if(Qe){var dt=S[3];S[3]=dt?df(dt,Qe,w[4]):Qe,S[4]=dt?Qc(S[3],c):w[4]}return Qe=w[5],Qe&&(dt=S[5],S[5]=dt?BS(dt,Qe,w[6]):Qe,S[6]=dt?Qc(S[5],c):w[6]),Qe=w[7],Qe&&(S[7]=Qe),X&T&&(S[8]=S[8]==null?w[8]:xo(S[8],w[8])),S[9]==null&&(S[9]=w[9]),S[0]=w[0],S[1]=ce,S}function $r(S){var w=[];if(S!=null)for(var k in ua(S))w.push(k);return w}function Cr(S){return fm.call(S)}function Nr(S,w,k){return w=_a(w===n?S.length-1:w,0),function(){for(var X=arguments,ce=-1,Te=_a(X.length-w,0),ze=Mt(Te);++ce<Te;)ze[ce]=X[w+ce];ce=-1;for(var Qe=Mt(w+1);++ce<w;)Qe[ce]=X[ce];return Qe[w]=k(ze),Lo(S,this,Qe)}}function fi(S,w){return w.length<2?S:lf(S,jl(w,0,-1))}function Xa(S,w){for(var k=S.length,X=xo(w.length,k),ce=bs(S);X--;){var Te=w[X];S[X]=Gt(Te,k)?ce[Te]:n}return S}function Ka(S,w){if(!(w==="constructor"&&typeof S[w]=="function")&&w!="__proto__")return S[w]}var Gr=qa(EC),Ta=_S||function(S,w){return Ho.setTimeout(S,w)},qi=qa(a4);function Fa(S,w,k){var X=w+"";return qi(S,zt(X,Or(un(X),k)))}function qa(S){var w=0,k=0;return function(){var X=iC(),ce=P-(X-k);if(k=X,ce>0){if(++w>=C)return arguments[0]}else w=0;return S.apply(n,arguments)}}function Oa(S,w){var k=-1,X=S.length,ce=X-1;for(w=w===n?X:w;++k<w;){var Te=PS(k,ce),ze=S[Te];S[Te]=S[k],S[k]=ze}return S.length=w,S}var ho=Zr(function(S){var w=[];return S.charCodeAt(0)===46&&w.push(""),S.replace(bu,function(k,X,ce,Te){w.push(ce?Te.replace(wn,"$1"):X||k)}),w});function ba(S){if(typeof S=="string"||wu(S))return S;var w=S+"";return w=="0"&&1/S==-F?"-0":w}function ca(S){if(S!=null){try{return d_.call(S)}catch{}try{return S+""}catch{}}return""}function Or(S,w){return No(ue,function(k){var X="_."+k[0];w&k[1]&&!n_(S,X)&&S.push(X)}),S.sort()}function So(S){if(S instanceof Ai)return S.clone();var w=new Wl(S.__wrapped__,S.__chain__);return w.__actions__=bs(S.__actions__),w.__index__=S.__index__,w.__values__=S.__values__,w}function Ei(S,w,k){(k?cn(S,w,k):w===n)?w=1:w=_a(di(w),0);var X=S==null?0:S.length;if(!X||w<1)return[];for(var ce=0,Te=0,ze=Mt(hm(X/w));ce<X;)ze[Te++]=jl(S,ce,ce+=w);return ze}function lr(S){for(var w=-1,k=S==null?0:S.length,X=0,ce=[];++w<k;){var Te=S[w];Te&&(ce[X++]=Te)}return ce}function jr(){var S=arguments.length;if(!S)return[];for(var w=Mt(S-1),k=arguments[0],X=S;X--;)w[X-1]=arguments[X];return pd(ii(k)?bs(k):[k],Bo(w,1))}var ai=ci(function(S,w){return Ao(S)?Lh(S,Bo(w,1,Ao,!0)):[]}),Ua=ci(function(S,w){var k=ft(w);return Ao(k)&&(k=n),Ao(S)?Lh(S,Bo(w,1,Ao,!0),Ze(k,2)):[]}),nc=ci(function(S,w){var k=ft(w);return Ao(k)&&(k=n),Ao(S)?Lh(S,Bo(w,1,Ao,!0),n,k):[]});function Me(S,w,k){var X=S==null?0:S.length;return X?(w=k||w===n?1:di(w),jl(S,w<0?0:w,X)):[]}function mt(S,w,k){var X=S==null?0:S.length;return X?(w=k||w===n?1:di(w),w=X-w,jl(S,0,w<0?0:w)):[]}function lt(S,w){return S&&S.length?Vh(S,Ze(w,3),!0,!0):[]}function On(S,w){return S&&S.length?Vh(S,Ze(w,3),!0):[]}function Hr(S,w,k,X){var ce=S==null?0:S.length;return ce?(k&&typeof k!="number"&&cn(S,w,k)&&(k=0,X=ce),CS(S,w,k,X)):[]}function Yi(S,w,k){var X=S==null?0:S.length;if(!X)return-1;var ce=k==null?0:di(k);return ce<0&&(ce=_a(X+ce,0)),Qu(S,Ze(w,3),ce)}function ve(S,w,k){var X=S==null?0:S.length;if(!X)return-1;var ce=X-1;return k!==n&&(ce=di(k),ce=k<0?_a(X+ce,0):xo(ce,X-1)),Qu(S,Ze(w,3),ce,!0)}function we(S){var w=S==null?0:S.length;return w?Bo(S,1):[]}function ke(S){var w=S==null?0:S.length;return w?Bo(S,F):[]}function ct(S,w){var k=S==null?0:S.length;return k?(w=w===n?1:di(w),Bo(S,w)):[]}function ht(S){for(var w=-1,k=S==null?0:S.length,X={};++w<k;){var ce=S[w];X[ce[0]]=ce[1]}return X}function Ve(S){return S&&S.length?S[0]:n}function Ye(S,w,k){var X=S==null?0:S.length;if(!X)return-1;var ce=k==null?0:di(k);return ce<0&&(ce=_a(X+ce,0)),vd(S,w,ce)}function Ke(S){var w=S==null?0:S.length;return w?jl(S,0,-1):[]}var Oe=ci(function(S){var w=Ma(S,yv);return w.length&&w[0]===S[0]?w_(w):[]}),$e=ci(function(S){var w=ft(S),k=Ma(S,yv);return w===ft(k)?w=n:k.pop(),k.length&&k[0]===S[0]?w_(k,Ze(w,2)):[]}),Se=ci(function(S){var w=ft(S),k=Ma(S,yv);return w=typeof w=="function"?w:n,w&&k.pop(),k.length&&k[0]===S[0]?w_(k,n,w):[]});function je(S,w){return S==null?"":m_.call(S,w)}function ft(S){var w=S==null?0:S.length;return w?S[w-1]:n}function Et(S,w,k){var X=S==null?0:S.length;if(!X)return-1;var ce=X;return k!==n&&(ce=di(k),ce=ce<0?_a(X+ce,0):xo(ce,X-1)),w===w?cm(S,w,ce):Qu(S,ev,ce,!0)}function Wt(S,w){return S&&S.length?xC(S,di(w)):n}var Nt=ci(Zt);function Zt(S,w){return S&&S.length&&w&&w.length?bd(S,w):S}function Xn(S,w,k){return S&&S.length&&w&&w.length?bd(S,w,Ze(k,2)):S}function Dr(S,w,k){return S&&S.length&&w&&w.length?bd(S,w,n,k):S}var Bn=vf(function(S,w){var k=S==null?0:S.length,X=md(S,w);return AC(S,Ma(w,function(ce){return Gt(ce,k)?+ce:ce}).sort(CC)),X});function fr(S,w){var k=[];if(!(S&&S.length))return k;var X=-1,ce=[],Te=S.length;for(w=Ze(w,3);++X<Te;){var ze=S[X];w(ze,X,S)&&(k.push(ze),ce.push(X))}return AC(S,ce),k}function Er(S){return S==null?S:oC.call(S)}function bi(S,w,k){var X=S==null?0:S.length;return X?(k&&typeof k!="number"&&cn(S,w,k)?(w=0,k=X):(w=w==null?0:di(w),k=k===n?X:di(k)),jl(S,w,k)):[]}function Za(S,w){return D_(S,w)}function Tu(S,w,k){return Em(S,w,Ze(k,2))}function HS(S,w){var k=S==null?0:S.length;if(k){var X=D_(S,w);if(X<k&&mf(S[X],w))return X}return-1}function Kl(S,w){return D_(S,w,!0)}function BC(S,w,k){return Em(S,w,Ze(k,2),!0)}function gf(S,w){var k=S==null?0:S.length;if(k){var X=D_(S,w,!0)-1;if(mf(S[X],w))return X}return-1}function kC(S){return S&&S.length?Tm(S):[]}function lCe(S,w){return S&&S.length?Tm(S,Ze(w,2)):[]}function uCe(S){var w=S==null?0:S.length;return w?jl(S,1,w):[]}function cCe(S,w,k){return S&&S.length?(w=k||w===n?1:di(w),jl(S,0,w<0?0:w)):[]}function fCe(S,w,k){var X=S==null?0:S.length;return X?(w=k||w===n?1:di(w),w=X-w,jl(S,w<0?0:w,X)):[]}function dCe(S,w){return S&&S.length?Vh(S,Ze(w,3),!1,!0):[]}function hCe(S,w){return S&&S.length?Vh(S,Ze(w,3)):[]}var pCe=ci(function(S){return tc(Bo(S,1,Ao,!0))}),vCe=ci(function(S){var w=ft(S);return Ao(w)&&(w=n),tc(Bo(S,1,Ao,!0),Ze(w,2))}),gCe=ci(function(S){var w=ft(S);return w=typeof w=="function"?w:n,tc(Bo(S,1,Ao,!0),n,w)});function mCe(S){return S&&S.length?tc(S):[]}function yCe(S,w){return S&&S.length?tc(S,Ze(w,2)):[]}function _Ce(S,w){return w=typeof w=="function"?w:n,S&&S.length?tc(S,n,w):[]}function h4(S){if(!(S&&S.length))return[];var w=0;return S=hd(S,function(k){if(Ao(k))return w=_a(k.length,w),!0}),oS(w,function(k){return Ma(S,s_(k))})}function rY(S,w){if(!(S&&S.length))return[];var k=h4(S);return w==null?k:Ma(k,function(X){return Lo(w,n,X)})}var bCe=ci(function(S,w){return Ao(S)?Lh(S,w):[]}),xCe=ci(function(S){return mv(hd(S,Ao))}),SCe=ci(function(S){var w=ft(S);return Ao(w)&&(w=n),mv(hd(S,Ao),Ze(w,2))}),ACe=ci(function(S){var w=ft(S);return w=typeof w=="function"?w:n,mv(hd(S,Ao),n,w)}),ECe=ci(h4);function TCe(S,w){return Rm(S||[],w||[],mm)}function wCe(S,w){return Rm(S||[],w||[],Am)}var CCe=ci(function(S){var w=S.length,k=w>1?S[w-1]:n;return k=typeof k=="function"?(S.pop(),k):n,rY(S,k)});function iY(S){var w=ye(S);return w.__chain__=!0,w}function RCe(S,w){return w(S),S}function FC(S,w){return w(S)}var ICe=vf(function(S){var w=S.length,k=w?S[0]:0,X=this.__wrapped__,ce=function(Te){return md(Te,S)};return w>1||this.__actions__.length||!(X instanceof Ai)||!Gt(k)?this.thru(ce):(X=X.slice(k,+k+(w?1:0)),X.__actions__.push({func:FC,args:[ce],thisArg:n}),new Wl(X,this.__chain__).thru(function(Te){return w&&!Te.length&&Te.push(n),Te}))});function MCe(){return iY(this)}function OCe(){return new Wl(this.value(),this.__chain__)}function DCe(){this.__values__===n&&(this.__values__=yY(this.value()));var S=this.__index__>=this.__values__.length,w=S?n:this.__values__[this.__index__++];return{done:S,value:w}}function PCe(){return this}function LCe(S){for(var w,k=this;k instanceof x_;){var X=So(k);X.__index__=0,X.__values__=n,w?ce.__wrapped__=X:w=X;var ce=X;k=k.__wrapped__}return ce.__wrapped__=S,w}function NCe(){var S=this.__wrapped__;if(S instanceof Ai){var w=S;return this.__actions__.length&&(w=new Ai(this)),w=w.reverse(),w.__actions__.push({func:FC,args:[Er],thisArg:n}),new Wl(w,this.__chain__)}return this.thru(Er)}function BCe(){return P_(this.__wrapped__,this.__actions__)}var kCe=L_(function(S,w,k){$i.call(S,k)?++S[k]:ec(S,k,1)});function FCe(S,w,k){var X=ii(S)?jw:gC;return k&&cn(S,w,k)&&(w=n),X(S,Ze(w,3))}function UCe(S,w){var k=ii(S)?hd:RS;return k(S,Ze(w,3))}var VCe=Vs(Yi),zCe=Vs(ve);function $Ce(S,w){return Bo(UC(S,w),1)}function HCe(S,w){return Bo(UC(S,w),F)}function WCe(S,w,k){return k=k===n?1:di(k),Bo(UC(S,w),k)}function aY(S,w){var k=ii(S)?No:sf;return k(S,Ze(w,3))}function oY(S,w){var k=ii(S)?rS:wS;return k(S,Ze(w,3))}var GCe=L_(function(S,w,k){$i.call(S,k)?S[k].push(w):ec(S,k,[w])});function jCe(S,w,k,X){S=ql(S)?S:k_(S),k=k&&!X?di(k):0;var ce=S.length;return k<0&&(k=_a(ce+k,0)),WC(S)?k<=ce&&S.indexOf(w,k)>-1:!!ce&&vd(S,w,k)>-1}var YCe=ci(function(S,w,k){var X=-1,ce=typeof w=="function",Te=ql(S)?Mt(S.length):[];return sf(S,function(ze){Te[++X]=ce?Lo(w,ze,k):Nh(ze,w,k)}),Te}),XCe=L_(function(S,w,k){ec(S,k,w)});function UC(S,w){var k=ii(S)?Ma:I_;return k(S,Ze(w,3))}function KCe(S,w,k,X){return S==null?[]:(ii(w)||(w=w==null?[]:[w]),k=X?n:k,ii(k)||(k=k==null?[]:[k]),OS(S,w,k))}var qCe=L_(function(S,w,k){S[k?0:1].push(w)},function(){return[[],[]]});function ZCe(S,w,k){var X=ii(S)?i_:iS,ce=arguments.length<3;return X(S,Ze(w,4),k,ce,sf)}function QCe(S,w,k){var X=ii(S)?ka:iS,ce=arguments.length<3;return X(S,Ze(w,4),k,ce,wS)}function JCe(S,w){var k=ii(S)?hd:RS;return k(S,$C(Ze(w,3)))}function eRe(S){var w=ii(S)?hC:r4;return w(S)}function tRe(S,w,k){(k?cn(S,w,k):w===n)?w=1:w=di(w);var X=ii(S)?gm:i4;return X(S,w)}function nRe(S){var w=ii(S)?JL:o4;return w(S)}function rRe(S){if(S==null)return 0;if(ql(S))return WC(S)?tv(S):S.length;var w=Qt(S);return w==se||w==Je?S.size:vv(S).length}function iRe(S,w,k){var X=ii(S)?a_:s4;return k&&cn(S,w,k)&&(w=n),X(S,Ze(w,3))}var aRe=ci(function(S,w){if(S==null)return[];var k=w.length;return k>1&&cn(S,w[0],w[1])?w=[]:k>2&&cn(w[0],w[1],w[2])&&(w=[w[0]]),OS(S,Bo(w,1),[])}),VC=PL||function(){return Ho.Date.now()};function oRe(S,w){if(typeof w!="function")throw new $l(o);return S=di(S),function(){if(--S<1)return w.apply(this,arguments)}}function sY(S,w,k){return w=k?n:w,w=S&&w==null?S.length:w,pf(S,T,n,n,n,n,w)}function lY(S,w){var k;if(typeof w!="function")throw new $l(o);return S=di(S),function(){return--S>0&&(k=w.apply(this,arguments)),S<=1&&(w=n),k}}var p4=ci(function(S,w,k){var X=g;if(k.length){var ce=Qc(k,Ot(p4));X|=E}return pf(S,X,w,k,ce)}),uY=ci(function(S,w,k){var X=g|m;if(k.length){var ce=Qc(k,Ot(uY));X|=E}return pf(w,X,S,k,ce)});function cY(S,w,k){w=k?n:w;var X=pf(S,_,n,n,n,n,n,w);return X.placeholder=cY.placeholder,X}function fY(S,w,k){w=k?n:w;var X=pf(S,x,n,n,n,n,n,w);return X.placeholder=fY.placeholder,X}function dY(S,w,k){var X,ce,Te,ze,Qe,dt,nn=0,rn=!1,hn=!1,Hn=!0;if(typeof S!="function")throw new $l(o);w=rc(w)||0,io(k)&&(rn=!!k.leading,hn="maxWait"in k,Te=hn?_a(rc(k.maxWait)||0,w):Te,Hn="trailing"in k?!!k.trailing:Hn);function yr(Eo){var yf=X,Yh=ce;return X=ce=n,nn=Eo,ze=S.apply(Yh,yf),ze}function kr(Eo){return nn=Eo,Qe=Ta(Ri,w),rn?yr(Eo):ze}function vi(Eo){var yf=Eo-dt,Yh=Eo-nn,OY=w-yf;return hn?xo(OY,Te-Yh):OY}function Fr(Eo){var yf=Eo-dt,Yh=Eo-nn;return dt===n||yf>=w||yf<0||hn&&Yh>=Te}function Ri(){var Eo=VC();if(Fr(Eo))return Ui(Eo);Qe=Ta(Ri,vi(Eo))}function Ui(Eo){return Qe=n,Hn&&X?yr(Eo):(X=ce=n,ze)}function Cu(){Qe!==n&&_v(Qe),nn=0,X=dt=ce=Qe=n}function cl(){return Qe===n?ze:Ui(VC())}function Ru(){var Eo=VC(),yf=Fr(Eo);if(X=arguments,ce=this,dt=Eo,yf){if(Qe===n)return kr(dt);if(hn)return _v(Qe),Qe=Ta(Ri,w),yr(dt)}return Qe===n&&(Qe=Ta(Ri,w)),ze}return Ru.cancel=Cu,Ru.flush=cl,Ru}var sRe=ci(function(S,w){return TS(S,1,w)}),lRe=ci(function(S,w,k){return TS(S,rc(w)||0,k)});function uRe(S){return pf(S,M)}function zC(S,w){if(typeof S!="function"||w!=null&&typeof w!="function")throw new $l(o);var k=function(){var X=arguments,ce=w?w.apply(this,X):X[0],Te=k.cache;if(Te.has(ce))return Te.get(ce);var ze=S.apply(this,X);return k.cache=Te.set(ce,ze)||Te,ze};return k.cache=new(zC.Cache||rf),k}zC.Cache=rf;function $C(S){if(typeof S!="function")throw new $l(o);return function(){var w=arguments;switch(w.length){case 0:return!S.call(this);case 1:return!S.call(this,w[0]);case 2:return!S.call(this,w[0],w[1]);case 3:return!S.call(this,w[0],w[1],w[2])}return!S.apply(this,w)}}function cRe(S){return lY(2,S)}var fRe=Im(function(S,w){w=w.length==1&&ii(w[0])?Ma(w[0],ss(Ze())):Ma(Bo(w,1),ss(Ze()));var k=w.length;return ci(function(X){for(var ce=-1,Te=xo(X.length,k);++ce<Te;)X[ce]=w[ce].call(this,X[ce]);return Lo(S,this,X)})}),v4=ci(function(S,w){var k=Qc(w,Ot(v4));return pf(S,E,n,w,k)}),hY=ci(function(S,w){var k=Qc(w,Ot(hY));return pf(S,A,n,w,k)}),dRe=vf(function(S,w){return pf(S,R,n,n,n,w)});function hRe(S,w){if(typeof S!="function")throw new $l(o);return w=w===n?w:di(w),ci(S,w)}function pRe(S,w){if(typeof S!="function")throw new $l(o);return w=w==null?0:_a(di(w),0),ci(function(k){var X=k[w],ce=Xl(k,0,w);return X&&pd(ce,X),Lo(S,this,ce)})}function vRe(S,w,k){var X=!0,ce=!0;if(typeof S!="function")throw new $l(o);return io(k)&&(X="leading"in k?!!k.leading:X,ce="trailing"in k?!!k.trailing:ce),dY(S,w,{leading:X,maxWait:w,trailing:ce})}function gRe(S){return sY(S,1)}function mRe(S,w){return v4(zh(w),S)}function yRe(){if(!arguments.length)return[];var S=arguments[0];return ii(S)?S:[S]}function _Re(S){return ul(S,h)}function bRe(S,w){return w=typeof w=="function"?w:n,ul(S,h,w)}function xRe(S){return ul(S,f|h)}function SRe(S,w){return w=typeof w=="function"?w:n,ul(S,f|h,w)}function ARe(S,w){return w==null||ES(S,w,cs(w))}function mf(S,w){return S===w||S!==S&&w!==w}var ERe=Om(_m),TRe=Om(function(S,w){return S>=w}),Dm=C_(function(){return arguments}())?C_:function(S){return po(S)&&$i.call(S,"callee")&&!mS.call(S,"callee")},ii=Mt.isArray,wRe=$w?ss($w):bm;function ql(S){return S!=null&&HC(S.length)&&!Gh(S)}function Ao(S){return po(S)&&ql(S)}function CRe(S){return S===!0||S===!1||po(S)&&ls(S)==de}var bv=nC||w4,RRe=Hw?ss(Hw):bC;function IRe(S){return po(S)&&S.nodeType===1&&!WS(S)}function MRe(S){if(S==null)return!0;if(ql(S)&&(ii(S)||typeof S=="string"||typeof S.splice=="function"||bv(S)||B_(S)||Dm(S)))return!S.length;var w=Qt(S);if(w==se||w==Je)return!S.size;if(Kt(S))return!vv(S).length;for(var k in S)if($i.call(S,k))return!1;return!0}function ORe(S,w){return yd(S,w)}function DRe(S,w,k){k=typeof k=="function"?k:n;var X=k?k(S,w):n;return X===n?yd(S,w,n,k):!!X}function g4(S){if(!po(S))return!1;var w=ls(S);return w==me||w==pe||typeof S.message=="string"&&typeof S.name=="string"&&!WS(S)}function PRe(S){return typeof S=="number"&&rC(S)}function Gh(S){if(!io(S))return!1;var w=ls(S);return w==re||w==ne||w==ee||w==He}function pY(S){return typeof S=="number"&&S==di(S)}function HC(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=N}function io(S){var w=typeof S;return S!=null&&(w=="object"||w=="function")}function po(S){return S!=null&&typeof S=="object"}var vY=Jp?ss(Jp):xm;function LRe(S,w){return S===w||cf(S,w,qt(w))}function NRe(S,w,k){return k=typeof k=="function"?k:n,cf(S,w,qt(w),k)}function BRe(S){return gY(S)&&S!=+S}function kRe(S){if(bn(S))throw new Kr(a);return pv(S)}function FRe(S){return S===null}function URe(S){return S==null}function gY(S){return typeof S=="number"||po(S)&&ls(S)==be}function WS(S){if(!po(S)||ls(S)!=Ee)return!1;var w=ro(S);if(w===null)return!0;var k=$i.call(w,"constructor")&&w.constructor;return typeof k=="function"&&k instanceof k&&d_.call(k)==Jw}var m4=Ww?ss(Ww):Sm;function VRe(S){return pY(S)&&S>=-N&&S<=N}var mY=Sh?ss(Sh):Bh;function WC(S){return typeof S=="string"||!ii(S)&&po(S)&&ls(S)==ot}function wu(S){return typeof S=="symbol"||po(S)&&ls(S)==ae}var B_=nS?ss(nS):kh;function zRe(S){return S===n}function $Re(S){return po(S)&&Qt(S)==Tt}function HRe(S){return po(S)&&ls(S)==sn}var WRe=Om(Fh),GRe=Om(function(S,w){return S<=w});function yY(S){if(!S)return[];if(ql(S))return WC(S)?Au(S):bs(S);if(rv&&S[rv])return Zw(S[rv]());var w=Qt(S),k=w==se?c_:w==Je?Jc:k_;return k(S)}function jh(S){if(!S)return S===0?S:0;if(S=rc(S),S===F||S===-F){var w=S<0?-1:1;return w*V}return S===S?S:0}function di(S){var w=jh(S),k=w%1;return w===w?k?w-k:w:0}function _Y(S){return S?of(di(S),0,G):0}function rc(S){if(typeof S=="number")return S;if(wu(S))return W;if(io(S)){var w=typeof S.valueOf=="function"?S.valueOf():S;S=io(w)?w+"":w}if(typeof S!="string")return S===0?S:+S;S=l_(S);var k=Do.test(S);return k||os.test(S)?Uw(S.slice(2),k?2:8):Ya.test(S)?W:+S}function bY(S){return Eu(S,Zl(S))}function jRe(S){return S?of(di(S),-N,N):S===0?S:0}function ra(S){return S==null?"":us(S)}var YRe=xs(function(S,w){if(Kt(w)||ql(w)){Eu(w,cs(w),S);return}for(var k in w)$i.call(w,k)&&mm(S,k,w[k])}),xY=xs(function(S,w){Eu(w,Zl(w),S)}),GC=xs(function(S,w,k,X){Eu(w,Zl(w),S,X)}),XRe=xs(function(S,w,k,X){Eu(w,cs(w),S,X)}),KRe=vf(md);function qRe(S,w){var k=lv(S);return w==null?k:pC(k,w)}var ZRe=ci(function(S,w){S=ua(S);var k=-1,X=w.length,ce=X>2?w[2]:n;for(ce&&cn(w[0],w[1],ce)&&(X=1);++k<X;)for(var Te=w[k],ze=Zl(Te),Qe=-1,dt=ze.length;++Qe<dt;){var nn=ze[Qe],rn=S[nn];(rn===n||mf(rn,wh[nn])&&!$i.call(S,nn))&&(S[nn]=Te[nn])}return S}),QRe=ci(function(S){return S.push(n,$S),Lo(SY,n,S)});function JRe(S,w){return om(S,Ze(w,3),Gl)}function eIe(S,w){return om(S,Ze(w,3),E_)}function tIe(S,w){return S==null?S:A_(S,Ze(w,3),Zl)}function nIe(S,w){return S==null?S:IS(S,Ze(w,3),Zl)}function rIe(S,w){return S&&Gl(S,Ze(w,3))}function iIe(S,w){return S&&E_(S,Ze(w,3))}function aIe(S){return S==null?[]:ym(S,cs(S))}function oIe(S){return S==null?[]:ym(S,Zl(S))}function y4(S,w,k){var X=S==null?n:lf(S,w);return X===n?k:X}function sIe(S,w){return S!=null&&it(S,w,mC)}function _4(S,w){return S!=null&&it(S,w,yC)}var lIe=Ss(function(S,w,k){w!=null&&typeof w.toString!="function"&&(w=fm.call(w)),S[w]=k},x4(Ql)),uIe=Ss(function(S,w,k){w!=null&&typeof w.toString!="function"&&(w=fm.call(w)),$i.call(S,w)?S[w].push(k):S[w]=[k]},Ze),cIe=ci(Nh);function cs(S){return ql(S)?dC(S):vv(S)}function Zl(S){return ql(S)?dC(S,!0):R_(S)}function fIe(S,w){var k={};return w=Ze(w,3),Gl(S,function(X,ce,Te){ec(k,w(X,ce,Te),X)}),k}function dIe(S,w){var k={};return w=Ze(w,3),Gl(S,function(X,ce,Te){ec(k,ce,w(X,ce,Te))}),k}var hIe=xs(function(S,w,k){ff(S,w,k)}),SY=xs(function(S,w,k,X){ff(S,w,k,X)}),pIe=vf(function(S,w){var k={};if(S==null)return k;var X=!1;w=Ma(w,function(Te){return Te=Yl(Te,S),X||(X=Te.length>1),Te}),Eu(S,xe(S),k),X&&(k=ul(k,f|d|h,PC));for(var ce=w.length;ce--;)gv(k,w[ce]);return k});function vIe(S,w){return AY(S,$C(Ze(w)))}var gIe=vf(function(S,w){return S==null?{}:SC(S,w)});function AY(S,w){if(S==null)return{};var k=Ma(xe(S),function(X){return[X]});return w=Ze(w),DS(S,k,function(X,ce){return w(X,ce[0])})}function mIe(S,w,k){w=Yl(w,S);var X=-1,ce=w.length;for(ce||(ce=1,S=n);++X<ce;){var Te=S==null?n:S[ba(w[X])];Te===n&&(X=ce,Te=k),S=Gh(Te)?Te.call(S):Te}return S}function yIe(S,w,k){return S==null?S:Am(S,w,k)}function _Ie(S,w,k,X){return X=typeof X=="function"?X:n,S==null?S:Am(S,w,k,X)}var EY=DC(cs),TY=DC(Zl);function bIe(S,w,k){var X=ii(S),ce=X||bv(S)||B_(S);if(w=Ze(w,4),k==null){var Te=S&&S.constructor;ce?k=X?new Te:[]:io(S)?k=Gh(Te)?lv(ro(S)):{}:k={}}return(ce?No:Gl)(S,function(ze,Qe,dt){return w(k,ze,Qe,dt)}),k}function xIe(S,w){return S==null?!0:gv(S,w)}function SIe(S,w,k){return S==null?S:Cm(S,w,zh(k))}function AIe(S,w,k,X){return X=typeof X=="function"?X:n,S==null?S:Cm(S,w,zh(k),X)}function k_(S){return S==null?[]:um(S,cs(S))}function EIe(S){return S==null?[]:um(S,Zl(S))}function TIe(S,w,k){return k===n&&(k=w,w=n),k!==n&&(k=rc(k),k=k===k?k:0),w!==n&&(w=rc(w),w=w===w?w:0),of(rc(S),w,k)}function wIe(S,w,k){return w=jh(w),k===n?(k=w,w=0):k=jh(k),S=rc(S),MS(S,w,k)}function CIe(S,w,k){if(k&&typeof k!="boolean"&&cn(S,w,k)&&(w=k=n),k===n&&(typeof w=="boolean"?(k=w,w=n):typeof S=="boolean"&&(k=S,S=n)),S===n&&w===n?(S=0,w=1):(S=jh(S),w===n?(w=S,S=0):w=jh(w)),S>w){var X=S;S=w,w=X}if(k||S%1||w%1){var ce=bS();return xo(S+ce*(w-S+Fw("1e-"+((ce+"").length-1))),w)}return PS(S,w)}var RIe=Sd(function(S,w,k){return w=w.toLowerCase(),S+(k?wY(w):w)});function wY(S){return b4(ra(S).toLowerCase())}function CY(S){return S=ra(S),S&&S.replace(xu,lS).replace(bL,"")}function IIe(S,w,k){S=ra(S),w=us(w);var X=S.length;k=k===n?X:of(di(k),0,X);var ce=k;return k-=w.length,k>=0&&S.slice(k,ce)==w}function MIe(S){return S=ra(S),S&&br.test(S)?S.replace(Ki,uS):S}function OIe(S){return S=ra(S),S&&mh.test(S)?S.replace(il,"\\$&"):S}var DIe=Sd(function(S,w,k){return S+(k?"-":"")+w.toLowerCase()}),PIe=Sd(function(S,w,k){return S+(k?" ":"")+w.toLowerCase()}),LIe=FS("toLowerCase");function NIe(S,w,k){S=ra(S),w=di(w);var X=w?tv(S):0;if(!w||X>=w)return S;var ce=(w-X)/2;return N_(v_(ce),k)+S+N_(hm(ce),k)}function BIe(S,w,k){S=ra(S),w=di(w);var X=w?tv(S):0;return w&&X<w?S+N_(w-X,k):S}function kIe(S,w,k){S=ra(S),w=di(w);var X=w?tv(S):0;return w&&X<w?N_(w-X,k)+S:S}function FIe(S,w,k){return k||w==null?w=0:w&&(w=+w),aC(ra(S).replace(Ul,""),w||0)}function UIe(S,w,k){return(k?cn(S,w,k):w===n)?w=1:w=di(w),O_(ra(S),w)}function VIe(){var S=arguments,w=ra(S[0]);return S.length<3?w:w.replace(S[1],S[2])}var zIe=Sd(function(S,w,k){return S+(k?"_":"")+w.toLowerCase()});function $Ie(S,w,k){return k&&typeof k!="number"&&cn(S,w,k)&&(w=k=n),k=k===n?G:k>>>0,k?(S=ra(S),S&&(typeof w=="string"||w!=null&&!m4(w))&&(w=us(w),!w&&Th(S))?Xl(Au(S),0,k):S.split(w,k)):[]}var HIe=Sd(function(S,w,k){return S+(k?" ":"")+b4(w)});function WIe(S,w,k){return S=ra(S),k=k==null?0:of(di(k),0,S.length),w=us(w),S.slice(k,k+w.length)==w}function GIe(S,w,k){var X=ye.templateSettings;k&&cn(S,w,k)&&(w=n),S=ra(S),w=GC({},w,X,zS);var ce=GC({},w.imports,X.imports,zS),Te=cs(ce),ze=um(ce,Te),Qe,dt,nn=0,rn=w.interpolate||wt,hn="__p += '",Hn=vS((w.escape||wt).source+"|"+rn.source+"|"+(rn===Ku?zr:wt).source+"|"+(w.evaluate||wt).source+"|$","g"),yr="//# sourceURL="+($i.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++kw+"]")+`
`;S.replace(Hn,function(Fr,Ri,Ui,Cu,cl,Ru){return Ui||(Ui=Cu),hn+=S.slice(nn,Ru).replace(Ln,Xw),Ri&&(Qe=!0,hn+=`' +
__e(`+Ri+`) +
'`),cl&&(dt=!0,hn+=`';
`+cl+`;
__p += '`),Ui&&(hn+=`' +
((__t = (`+Ui+`)) == null ? '' : __t) +
'`),nn=Ru+Fr.length,Fr}),hn+=`';
`;var kr=$i.call(w,"variable")&&w.variable;if(!kr)hn=`with (obj) {
`+hn+`
}
`;else if(Rt.test(kr))throw new Kr(s);hn=(dt?hn.replace(Pn,""):hn).replace(pr,"$1").replace(_i,"$1;"),hn="function("+(kr||"obj")+`) {
`+(kr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Qe?", __e = _.escape":"")+(dt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+hn+`return __p
}`;var vi=IY(function(){return Pi(Te,yr+"return "+hn).apply(n,ze)});if(vi.source=hn,g4(vi))throw vi;return vi}function jIe(S){return ra(S).toLowerCase()}function YIe(S){return ra(S).toUpperCase()}function XIe(S,w,k){if(S=ra(S),S&&(k||w===n))return l_(S);if(!S||!(w=us(w)))return S;var X=Au(S),ce=Au(w),Te=Eh(X,ce),ze=u_(X,ce)+1;return Xl(X,Te,ze).join("")}function KIe(S,w,k){if(S=ra(S),S&&(k||w===n))return S.slice(0,Qw(S)+1);if(!S||!(w=us(w)))return S;var X=Au(S),ce=u_(X,Au(w))+1;return Xl(X,0,ce).join("")}function qIe(S,w,k){if(S=ra(S),S&&(k||w===n))return S.replace(Ul,"");if(!S||!(w=us(w)))return S;var X=Au(S),ce=Eh(X,Au(w));return Xl(X,ce).join("")}function ZIe(S,w){var k=O,X=D;if(io(w)){var ce="separator"in w?w.separator:ce;k="length"in w?di(w.length):k,X="omission"in w?us(w.omission):X}S=ra(S);var Te=S.length;if(Th(S)){var ze=Au(S);Te=ze.length}if(k>=Te)return S;var Qe=k-tv(X);if(Qe<1)return X;var dt=ze?Xl(ze,0,Qe).join(""):S.slice(0,Qe);if(ce===n)return dt+X;if(ze&&(Qe+=dt.length-Qe),m4(ce)){if(S.slice(Qe).search(ce)){var nn,rn=dt;for(ce.global||(ce=vS(ce.source,ra(la.exec(ce))+"g")),ce.lastIndex=0;nn=ce.exec(rn);)var hn=nn.index;dt=dt.slice(0,hn===n?Qe:hn)}}else if(S.indexOf(us(ce),Qe)!=Qe){var Hn=dt.lastIndexOf(ce);Hn>-1&&(dt=dt.slice(0,Hn))}return dt+X}function QIe(S){return S=ra(S),S&&Di.test(S)?S.replace(lo,hS):S}var JIe=Sd(function(S,w,k){return S+(k?" ":"")+w.toUpperCase()}),b4=FS("toUpperCase");function RY(S,w,k){return S=ra(S),w=k?n:w,w===n?qw(S)?IL(S):Yw(S):S.match(w)||[]}var IY=ci(function(S,w){try{return Lo(S,n,w)}catch(k){return g4(k)?k:new Kr(k)}}),e3e=vf(function(S,w){return No(w,function(k){k=ba(k),ec(S,k,p4(S[k],S))}),S});function t3e(S){var w=S==null?0:S.length,k=Ze();return S=w?Ma(S,function(X){if(typeof X[1]!="function")throw new $l(o);return[k(X[0]),X[1]]}):[],ci(function(X){for(var ce=-1;++ce<w;){var Te=S[ce];if(Lo(Te[0],this,X))return Lo(Te[1],this,X)}})}function n3e(S){return vC(ul(S,f))}function x4(S){return function(){return S}}function r3e(S,w){return S==null||S!==S?w:S}var i3e=hf(),a3e=hf(!0);function Ql(S){return S}function S4(S){return _d(typeof S=="function"?S:ul(S,f))}function o3e(S){return M_(ul(S,f))}function s3e(S,w){return Uh(S,ul(w,f))}var l3e=ci(function(S,w){return function(k){return Nh(k,S,w)}}),u3e=ci(function(S,w){return function(k){return Nh(S,k,w)}});function A4(S,w,k){var X=cs(w),ce=ym(w,X);k==null&&!(io(w)&&(ce.length||!X.length))&&(k=w,w=S,S=this,ce=ym(w,cs(w)));var Te=!(io(k)&&"chain"in k)||!!k.chain,ze=Gh(S);return No(ce,function(Qe){var dt=w[Qe];S[Qe]=dt,ze&&(S.prototype[Qe]=function(){var nn=this.__chain__;if(Te||nn){var rn=S(this.__wrapped__),hn=rn.__actions__=bs(this.__actions__);return hn.push({func:dt,args:arguments,thisArg:S}),rn.__chain__=nn,rn}return dt.apply(S,pd([this.value()],arguments))})}),S}function c3e(){return Ho._===this&&(Ho._=eC),this}function E4(){}function f3e(S){return S=di(S),ci(function(w){return xC(w,S)})}var d3e=US(Ma),h3e=US(jw),p3e=US(a_);function MY(S){return Ft(S)?s_(ba(S)):t4(S)}function v3e(S){return function(w){return S==null?n:lf(S,w)}}var g3e=MC(),m3e=MC(!0);function T4(){return[]}function w4(){return!1}function y3e(){return{}}function _3e(){return""}function b3e(){return!0}function x3e(S,w){if(S=di(S),S<1||S>N)return[];var k=G,X=xo(S,G);w=Ze(w),S-=G;for(var ce=oS(X,w);++k<S;)w(k);return ce}function S3e(S){return ii(S)?Ma(S,ba):wu(S)?[S]:bs(ho(ra(S)))}function A3e(S){var w=++Hl;return ra(S)+w}var E3e=Mm(function(S,w){return S+w},0),T3e=VS("ceil"),w3e=Mm(function(S,w){return S/w},1),C3e=VS("floor");function R3e(S){return S&&S.length?hv(S,Ql,_m):n}function I3e(S,w){return S&&S.length?hv(S,Ze(w,2),_m):n}function M3e(S){return sm(S,Ql)}function O3e(S,w){return sm(S,Ze(w,2))}function D3e(S){return S&&S.length?hv(S,Ql,Fh):n}function P3e(S,w){return S&&S.length?hv(S,Ze(w,2),Fh):n}var L3e=Mm(function(S,w){return S*w},1),N3e=VS("round"),B3e=Mm(function(S,w){return S-w},0);function k3e(S){return S&&S.length?aS(S,Ql):0}function F3e(S,w){return S&&S.length?aS(S,Ze(w,2)):0}return ye.after=oRe,ye.ary=sY,ye.assign=YRe,ye.assignIn=xY,ye.assignInWith=GC,ye.assignWith=XRe,ye.at=KRe,ye.before=lY,ye.bind=p4,ye.bindAll=e3e,ye.bindKey=uY,ye.castArray=yRe,ye.chain=iY,ye.chunk=Ei,ye.compact=lr,ye.concat=jr,ye.cond=t3e,ye.conforms=n3e,ye.constant=x4,ye.countBy=kCe,ye.create=qRe,ye.curry=cY,ye.curryRight=fY,ye.debounce=dY,ye.defaults=ZRe,ye.defaultsDeep=QRe,ye.defer=sRe,ye.delay=lRe,ye.difference=ai,ye.differenceBy=Ua,ye.differenceWith=nc,ye.drop=Me,ye.dropRight=mt,ye.dropRightWhile=lt,ye.dropWhile=On,ye.fill=Hr,ye.filter=UCe,ye.flatMap=$Ce,ye.flatMapDeep=HCe,ye.flatMapDepth=WCe,ye.flatten=we,ye.flattenDeep=ke,ye.flattenDepth=ct,ye.flip=uRe,ye.flow=i3e,ye.flowRight=a3e,ye.fromPairs=ht,ye.functions=aIe,ye.functionsIn=oIe,ye.groupBy=GCe,ye.initial=Ke,ye.intersection=Oe,ye.intersectionBy=$e,ye.intersectionWith=Se,ye.invert=lIe,ye.invertBy=uIe,ye.invokeMap=YCe,ye.iteratee=S4,ye.keyBy=XCe,ye.keys=cs,ye.keysIn=Zl,ye.map=UC,ye.mapKeys=fIe,ye.mapValues=dIe,ye.matches=o3e,ye.matchesProperty=s3e,ye.memoize=zC,ye.merge=hIe,ye.mergeWith=SY,ye.method=l3e,ye.methodOf=u3e,ye.mixin=A4,ye.negate=$C,ye.nthArg=f3e,ye.omit=pIe,ye.omitBy=vIe,ye.once=cRe,ye.orderBy=KCe,ye.over=d3e,ye.overArgs=fRe,ye.overEvery=h3e,ye.overSome=p3e,ye.partial=v4,ye.partialRight=hY,ye.partition=qCe,ye.pick=gIe,ye.pickBy=AY,ye.property=MY,ye.propertyOf=v3e,ye.pull=Nt,ye.pullAll=Zt,ye.pullAllBy=Xn,ye.pullAllWith=Dr,ye.pullAt=Bn,ye.range=g3e,ye.rangeRight=m3e,ye.rearg=dRe,ye.reject=JCe,ye.remove=fr,ye.rest=hRe,ye.reverse=Er,ye.sampleSize=tRe,ye.set=yIe,ye.setWith=_Ie,ye.shuffle=nRe,ye.slice=bi,ye.sortBy=aRe,ye.sortedUniq=kC,ye.sortedUniqBy=lCe,ye.split=$Ie,ye.spread=pRe,ye.tail=uCe,ye.take=cCe,ye.takeRight=fCe,ye.takeRightWhile=dCe,ye.takeWhile=hCe,ye.tap=RCe,ye.throttle=vRe,ye.thru=FC,ye.toArray=yY,ye.toPairs=EY,ye.toPairsIn=TY,ye.toPath=S3e,ye.toPlainObject=bY,ye.transform=bIe,ye.unary=gRe,ye.union=pCe,ye.unionBy=vCe,ye.unionWith=gCe,ye.uniq=mCe,ye.uniqBy=yCe,ye.uniqWith=_Ce,ye.unset=xIe,ye.unzip=h4,ye.unzipWith=rY,ye.update=SIe,ye.updateWith=AIe,ye.values=k_,ye.valuesIn=EIe,ye.without=bCe,ye.words=RY,ye.wrap=mRe,ye.xor=xCe,ye.xorBy=SCe,ye.xorWith=ACe,ye.zip=ECe,ye.zipObject=TCe,ye.zipObjectDeep=wCe,ye.zipWith=CCe,ye.entries=EY,ye.entriesIn=TY,ye.extend=xY,ye.extendWith=GC,A4(ye,ye),ye.add=E3e,ye.attempt=IY,ye.camelCase=RIe,ye.capitalize=wY,ye.ceil=T3e,ye.clamp=TIe,ye.clone=_Re,ye.cloneDeep=xRe,ye.cloneDeepWith=SRe,ye.cloneWith=bRe,ye.conformsTo=ARe,ye.deburr=CY,ye.defaultTo=r3e,ye.divide=w3e,ye.endsWith=IIe,ye.eq=mf,ye.escape=MIe,ye.escapeRegExp=OIe,ye.every=FCe,ye.find=VCe,ye.findIndex=Yi,ye.findKey=JRe,ye.findLast=zCe,ye.findLastIndex=ve,ye.findLastKey=eIe,ye.floor=C3e,ye.forEach=aY,ye.forEachRight=oY,ye.forIn=tIe,ye.forInRight=nIe,ye.forOwn=rIe,ye.forOwnRight=iIe,ye.get=y4,ye.gt=ERe,ye.gte=TRe,ye.has=sIe,ye.hasIn=_4,ye.head=Ve,ye.identity=Ql,ye.includes=jCe,ye.indexOf=Ye,ye.inRange=wIe,ye.invoke=cIe,ye.isArguments=Dm,ye.isArray=ii,ye.isArrayBuffer=wRe,ye.isArrayLike=ql,ye.isArrayLikeObject=Ao,ye.isBoolean=CRe,ye.isBuffer=bv,ye.isDate=RRe,ye.isElement=IRe,ye.isEmpty=MRe,ye.isEqual=ORe,ye.isEqualWith=DRe,ye.isError=g4,ye.isFinite=PRe,ye.isFunction=Gh,ye.isInteger=pY,ye.isLength=HC,ye.isMap=vY,ye.isMatch=LRe,ye.isMatchWith=NRe,ye.isNaN=BRe,ye.isNative=kRe,ye.isNil=URe,ye.isNull=FRe,ye.isNumber=gY,ye.isObject=io,ye.isObjectLike=po,ye.isPlainObject=WS,ye.isRegExp=m4,ye.isSafeInteger=VRe,ye.isSet=mY,ye.isString=WC,ye.isSymbol=wu,ye.isTypedArray=B_,ye.isUndefined=zRe,ye.isWeakMap=$Re,ye.isWeakSet=HRe,ye.join=je,ye.kebabCase=DIe,ye.last=ft,ye.lastIndexOf=Et,ye.lowerCase=PIe,ye.lowerFirst=LIe,ye.lt=WRe,ye.lte=GRe,ye.max=R3e,ye.maxBy=I3e,ye.mean=M3e,ye.meanBy=O3e,ye.min=D3e,ye.minBy=P3e,ye.stubArray=T4,ye.stubFalse=w4,ye.stubObject=y3e,ye.stubString=_3e,ye.stubTrue=b3e,ye.multiply=L3e,ye.nth=Wt,ye.noConflict=c3e,ye.noop=E4,ye.now=VC,ye.pad=NIe,ye.padEnd=BIe,ye.padStart=kIe,ye.parseInt=FIe,ye.random=CIe,ye.reduce=ZCe,ye.reduceRight=QCe,ye.repeat=UIe,ye.replace=VIe,ye.result=mIe,ye.round=N3e,ye.runInContext=st,ye.sample=eRe,ye.size=rRe,ye.snakeCase=zIe,ye.some=iRe,ye.sortedIndex=Za,ye.sortedIndexBy=Tu,ye.sortedIndexOf=HS,ye.sortedLastIndex=Kl,ye.sortedLastIndexBy=BC,ye.sortedLastIndexOf=gf,ye.startCase=HIe,ye.startsWith=WIe,ye.subtract=B3e,ye.sum=k3e,ye.sumBy=F3e,ye.template=GIe,ye.times=x3e,ye.toFinite=jh,ye.toInteger=di,ye.toLength=_Y,ye.toLower=jIe,ye.toNumber=rc,ye.toSafeInteger=jRe,ye.toString=ra,ye.toUpper=YIe,ye.trim=XIe,ye.trimEnd=KIe,ye.trimStart=qIe,ye.truncate=ZIe,ye.unescape=QIe,ye.uniqueId=A3e,ye.upperCase=JIe,ye.upperFirst=b4,ye.each=aY,ye.eachRight=oY,ye.first=Ve,A4(ye,function(){var S={};return Gl(ye,function(w,k){$i.call(ye.prototype,k)||(S[k]=w)}),S}(),{chain:!1}),ye.VERSION=r,No(["bind","bindKey","curry","curryRight","partial","partialRight"],function(S){ye[S].placeholder=ye}),No(["drop","take"],function(S,w){Ai.prototype[S]=function(k){k=k===n?1:_a(di(k),0);var X=this.__filtered__&&!w?new Ai(this):this.clone();return X.__filtered__?X.__takeCount__=xo(k,X.__takeCount__):X.__views__.push({size:xo(k,G),type:S+(X.__dir__<0?"Right":"")}),X},Ai.prototype[S+"Right"]=function(k){return this.reverse()[S](k).reverse()}}),No(["filter","map","takeWhile"],function(S,w){var k=w+1,X=k==B||k==L;Ai.prototype[S]=function(ce){var Te=this.clone();return Te.__iteratees__.push({iteratee:Ze(ce,3),type:k}),Te.__filtered__=Te.__filtered__||X,Te}}),No(["head","last"],function(S,w){var k="take"+(w?"Right":"");Ai.prototype[S]=function(){return this[k](1).value()[0]}}),No(["initial","tail"],function(S,w){var k="drop"+(w?"":"Right");Ai.prototype[S]=function(){return this.__filtered__?new Ai(this):this[k](1)}}),Ai.prototype.compact=function(){return this.filter(Ql)},Ai.prototype.find=function(S){return this.filter(S).head()},Ai.prototype.findLast=function(S){return this.reverse().find(S)},Ai.prototype.invokeMap=ci(function(S,w){return typeof S=="function"?new Ai(this):this.map(function(k){return Nh(k,S,w)})}),Ai.prototype.reject=function(S){return this.filter($C(Ze(S)))},Ai.prototype.slice=function(S,w){S=di(S);var k=this;return k.__filtered__&&(S>0||w<0)?new Ai(k):(S<0?k=k.takeRight(-S):S&&(k=k.drop(S)),w!==n&&(w=di(w),k=w<0?k.dropRight(-w):k.take(w-S)),k)},Ai.prototype.takeRightWhile=function(S){return this.reverse().takeWhile(S).reverse()},Ai.prototype.toArray=function(){return this.take(G)},Gl(Ai.prototype,function(S,w){var k=/^(?:filter|find|map|reject)|While$/.test(w),X=/^(?:head|last)$/.test(w),ce=ye[X?"take"+(w=="last"?"Right":""):w],Te=X||/^find/.test(w);ce&&(ye.prototype[w]=function(){var ze=this.__wrapped__,Qe=X?[1]:arguments,dt=ze instanceof Ai,nn=Qe[0],rn=dt||ii(ze),hn=function(Ri){var Ui=ce.apply(ye,pd([Ri],Qe));return X&&Hn?Ui[0]:Ui};rn&&k&&typeof nn=="function"&&nn.length!=1&&(dt=rn=!1);var Hn=this.__chain__,yr=!!this.__actions__.length,kr=Te&&!Hn,vi=dt&&!yr;if(!Te&&rn){ze=vi?ze:new Ai(this);var Fr=S.apply(ze,Qe);return Fr.__actions__.push({func:FC,args:[hn],thisArg:n}),new Wl(Fr,Hn)}return kr&&vi?S.apply(this,Qe):(Fr=this.thru(hn),kr?X?Fr.value()[0]:Fr.value():Fr)})}),No(["pop","push","shift","sort","splice","unshift"],function(S){var w=f_[S],k=/^(?:push|sort|unshift)$/.test(S)?"tap":"thru",X=/^(?:pop|shift)$/.test(S);ye.prototype[S]=function(){var ce=arguments;if(X&&!this.__chain__){var Te=this.value();return w.apply(ii(Te)?Te:[],ce)}return this[k](function(ze){return w.apply(ii(ze)?ze:[],ce)})}}),Gl(Ai.prototype,function(S,w){var k=ye[w];if(k){var X=k.name+"";$i.call(ov,X)||(ov[X]=[]),ov[X].push({name:w,func:k})}}),ov[Ea(n,m).name]=[{name:"wrapper",func:n}],Ai.prototype.clone=NL,Ai.prototype.reverse=BL,Ai.prototype.value=kL,ye.prototype.at=ICe,ye.prototype.chain=MCe,ye.prototype.commit=OCe,ye.prototype.next=DCe,ye.prototype.plant=LCe,ye.prototype.reverse=NCe,ye.prototype.toJSON=ye.prototype.valueOf=ye.prototype.value=BCe,ye.prototype.first=ye.prototype.head,rv&&(ye.prototype[rv]=PCe),ye},nv=pS();xh?((xh.exports=nv)._=nv,eS._=nv):Ho._=nv}).call(DEt)}(mE,mE.exports)),mE.exports}var LEt=PEt();const Bie=ni(LEt),NEt={title:{text:"",textStyle:{color:"#333",fontSize:12},top:0},color:["#209980","#5DA5E5","#5D75F7","#85D1F2","#85F287","#7ECEFF","#e86452","#6dc8ec","#38DEF7","#cc1a03"],tooltip:{confine:!0,backgroundColor:"#fff",borderColor:"#fff",extraCssText:"box-shadow: 0 3px 3px rgba(0, 0, 0, 0.3);font-size:12px",textStyle:{color:"#606266"},show:!1},grid:{left:10,right:10},yAxis:{splitLine:{show:!0,lineStyle:{type:"dashed",dashOffset:2}},axisLabel:{interval:0,color:"#909399",fontSize:10}},xAxis:{axisTick:{show:!1}},toolbox:{feature:{saveAsImage:{}}}},eo=le({__name:"chart",props:{height:String,options:Object,class:String,isMap:Boolean},setup(e,{expose:t}){const n=Ni();t({chartInstance:n});const r=e,i=Y();Tn(()=>{const o=i.value;n.value=Sft(o),a(r.options),new ResizeObserver(()=>{var l;return(l=n.value)==null?void 0:l.resize()}).observe(o)}),so(()=>{n.value.clear(),n.value.dispose()});const a=o=>{const s=Bie.merge(Bie.cloneDeep({...NEt,toolbox:{}}),o);n.value&&n.value.setOption(s,!0)};return tt(()=>r.options,o=>{a(o)},{deep:!0}),(o,s)=>(H(),Q("div",{id:"chart",ref_key:"chartRef",ref:i,style:en({height:r.height}),class:j(`w-100% ${r.class}`)},null,6))}}),BEt={class:"pt-10px"},kEt={class:"h-26px flex items-center px-16px"},FEt={class:"p-8px h-188px"},UEt={class:"pt-10px"},VEt={class:"h-26px flex items-center px-16px"},zEt={class:"p-8px h-188px"},$Et={class:"pt-10px"},HEt={class:"h-26px flex items-center px-16px"},WEt={class:"p-8px h-188px"},GEt=le({__name:"right",setup(e){const t=zn(Tl()),n=zn(Tl({legend:{show:!1},yAxis:{show:!1},grid:{left:10}})),r=zn(IEt());return Tn(()=>{t.xAxis.data=["08:15","08:16","08:17","08:18","08:19"],t.series=[{data:[30,100,20,200,118],name:"发电负荷",type:"line",smooth:!0},{data:[100,60,140,70,180],name:"用电负荷",type:"line",smooth:!0}],n.xAxis.data=["电力负荷","交流器","光伏发电站","风力","电池"],n.series=[{data:[30,100,170,200,118,156],type:"bar",color:"#fff",barWidth:8,label:{show:!0,position:"bottom",offset:[5,-146],fontSize:8,color:"#fff",formatter:()=>"08:18",backgroundColor:"rgba(180, 180, 180, 0.2)",padding:[3,6,3,6],borderRadius:2}},{data:[100,160,200,70,180,96],type:"bar",color:"#5DA5E5",barWidth:8,label:{show:!0,position:"bottom",offset:[-6,-125],formatter:()=>"",width:26,height:120,z:-1,backgroundColor:{image:XH}}}]}),(i,a)=>{const o=Fi;return H(),Q(St,null,[I("div",BEt,[z(Ir,null,{title:J(()=>[I("div",kEt,[z(o,{class:"w-20px h-20px mr-14px",src:y(Pit),fit:"fill"},null,8,["src"]),a[0]||(a[0]=I("span",null,"发电、用电负荷曲线图",-1))])]),content:J(()=>[I("div",FEt,[z(eo,{height:"100%",options:t},null,8,["options"])])]),_:1})]),I("div",UEt,[z(Ir,null,{title:J(()=>[I("div",VEt,[z(o,{class:"w-20px h-20px mr-14px",src:y(Lit),fit:"fill"},null,8,["src"]),a[1]||(a[1]=I("span",null,"发电单元类型分布",-1))])]),content:J(()=>[I("div",zEt,[z(eo,{height:"100%",options:n},null,8,["options"])])]),_:1})]),I("div",$Et,[z(Ir,null,{title:J(()=>[I("div",HEt,[z(o,{class:"w-20px h-20px mr-14px",src:y(Nit),fit:"fill"},null,8,["src"]),a[2]||(a[2]=I("span",null,"类型分布",-1))])]),content:J(()=>[I("div",WEt,[z(eo,{height:"100%",options:r},null,8,["options"])])]),_:1})])],64)}}});var SEe={},AEe={},kie=e=>AEe[e],Yu=(e,t)=>{AEe[e]=t},jEt=e=>SEe[e],jx=(e,t)=>{SEe[e]=t},Fie={},V6={},z6=34,IA=10,$6=13;function EEe(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function YEt(e,t){var n=EEe(e);return function(r,i){return t(n(r),i,e)}}function Uie(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function ru(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function XEt(e){return e<0?"-"+ru(-e,6):e>9999?"+"+ru(e,6):ru(e,4)}function KEt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":XEt(e.getUTCFullYear())+"-"+ru(e.getUTCMonth()+1,2)+"-"+ru(e.getUTCDate(),2)+(i?"T"+ru(t,2)+":"+ru(n,2)+":"+ru(r,2)+"."+ru(i,3)+"Z":r?"T"+ru(t,2)+":"+ru(n,2)+":"+ru(r,2)+"Z":n||t?"T"+ru(t,2)+":"+ru(n,2)+"Z":"")}function qEt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,v=i(f,function(g,m){if(h)return h(g,m-1);p=g,h=d?YEt(g,d):EEe(g)});return v.columns=p||[],v}function i(f,d){var h=[],p=f.length,v=0,g=0,m,b=p<=0,_=!1;f.charCodeAt(p-1)===IA&&--p,f.charCodeAt(p-1)===$6&&--p;function x(){if(b)return V6;if(_)return _=!1,Fie;var A,T=v,R;if(f.charCodeAt(T)===z6){for(;v++<p&&f.charCodeAt(v)!==z6||f.charCodeAt(++v)===z6;);return(A=v)>=p?b=!0:(R=f.charCodeAt(v++))===IA?_=!0:R===$6&&(_=!0,f.charCodeAt(v)===IA&&++v),f.slice(T+1,A-1).replace(/""/g,'"')}for(;v<p;){if((R=f.charCodeAt(A=v++))===IA)_=!0;else if(R===$6)_=!0,f.charCodeAt(v)===IA&&++v;else if(R!==n)continue;return f.slice(T,A)}return b=!0,f.slice(T,p)}for(;(m=x())!==V6;){for(var E=[];m!==Fie&&m!==V6;)E.push(m),m=x();d&&(E=d(E,g++))==null||h.push(E)}return h}function a(f,d){return f.map(function(h){return d.map(function(p){return c(h[p])}).join(e)})}function o(f,d){return d==null&&(d=Uie(f)),[d.map(c).join(e)].concat(a(f,d)).join(`
`)}function s(f,d){return d==null&&(d=Uie(f)),a(f,d).join(`
`)}function l(f){return f.map(u).join(`
`)}function u(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?KEt(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:o,formatBody:s,formatRows:l,formatRow:u,formatValue:c}}var ZEt=qEt(","),QEt=ZEt.parse;function xT(e,t,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function nj(e,t,n){n===void 0&&(n={});for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:e};return xT(s,t,n)}function JEt(e,t,n){if(n===void 0&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:e};return xT(r,t,n)}function e2t(e,t){t===void 0&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function t2t(e,t,n){n===void 0&&(n={});var r={type:"MultiPolygon",coordinates:e};return xT(r,t,n)}function TEe(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Vie(e){return e.type==="Feature"?e.geometry:e}function wEe(e,t,n){if(e!==null)for(var r,i,a,o,s,l,u,c=0,f=0,d,h=e.type,p=h==="FeatureCollection",v=h==="Feature",g=p?e.features.length:1,m=0;m<g;m++){u=p?e.features[m].geometry:v?e.geometry:e,d=u?u.type==="GeometryCollection":!1,s=d?u.geometries.length:1;for(var b=0;b<s;b++){var _=0,x=0;if(o=d?u.geometries[b]:u,o!==null){l=o.coordinates;var E=o.type;switch(c=0,E){case null:break;case"Point":if(t(l,f,m,_,x)===!1)return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(t(l[r],f,m,_,x)===!1)return!1;f++,E==="MultiPoint"&&_++}E==="LineString"&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-c;i++){if(t(l[r][i],f,m,_,x)===!1)return!1;f++}E==="MultiLineString"&&_++,E==="Polygon"&&x++}E==="Polygon"&&_++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(x=0,i=0;i<l[r].length;i++){for(a=0;a<l[r][i].length-c;a++){if(t(l[r][i][a],f,m,_,x)===!1)return!1;f++}x++}_++}break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(wEe(o.geometries[r],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n2t(e,t){var n,r,i,a,o,s,l,u,c,f,d=0,h=e.type==="FeatureCollection",p=e.type==="Feature",v=h?e.features.length:1;for(n=0;n<v;n++){for(s=h?e.features[n].geometry:p?e.geometry:e,u=h?e.features[n].properties:p?e.properties:{},c=h?e.features[n].bbox:p?e.bbox:void 0,f=h?e.features[n].id:p?e.id:void 0,l=s?s.type==="GeometryCollection":!1,o=l?s.geometries.length:1,i=0;i<o;i++){if(a=l?s.geometries[i]:s,a===null){if(t(null,d,u,c,f)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(a,d,u,c,f)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<a.geometries.length;r++)if(t(a.geometries[r],d,u,c,f)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}d++}}function CEe(e,t){n2t(e,function(n,r,i,a,o){var s=n===null?null:n.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return t(xT(n,i,{bbox:a,id:o}),r,0)===!1?!1:void 0}var l;switch(s){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var u=0;u<n.coordinates.length;u++){var c=n.coordinates[u],f={type:l,coordinates:c};if(t(xT(f,i),r,u)===!1)return!1}})}var V3={REGISTERED_PROTOCOLS:{}},r2t=Object.defineProperty,i2t=Object.defineProperties,a2t=Object.getOwnPropertyDescriptors,zie=Object.getOwnPropertySymbols,o2t=Object.prototype.hasOwnProperty,s2t=Object.prototype.propertyIsEnumerable,$ie=(e,t,n)=>t in e?r2t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rj=(e,t)=>{for(var n in t||(t={}))o2t.call(t,n)&&$ie(e,n,t[n]);if(zie)for(var n of zie(t))s2t.call(t,n)&&$ie(e,n,t[n]);return e},ij=(e,t)=>i2t(e,a2t(t)),aj=e=>V3.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))],l2t=class extends Error{constructor(e,t,n,r){super(`AJAXError: ${t} (${e}): ${n}`),this.status=e,this.statusText=t,this.url=n,this.body=r}};function REe(e,t){const n=new XMLHttpRequest,r=Array.isArray(e.url)?e.url[0]:e.url;n.open(e.method||"GET",r,!0),e.type==="arrayBuffer"&&(n.responseType="arraybuffer");for(const i in e.headers)e.headers.hasOwnProperty(i)&&n.setRequestHeader(i,e.headers[i]);return e.type==="json"&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials=e.credentials==="include",n.onerror=()=>{t(new Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||n.status===0)&&n.response!==null){let i=n.response;if(e.type==="json")try{i=JSON.parse(n.response)}catch(a){return t(a)}t(null,i,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"),n)}else{const i=new Blob([n.response],{type:n.getResponseHeader("Content-Type")});t(new l2t(n.status,n.statusText,r.toString(),i))}},n.cancel=n.abort,n.send(e.body),n}function u2t(e){return new Promise((t,n)=>{REe(e,(r,i,a,o,s)=>{r?n({err:r,data:null,xhr:s}):t({err:null,data:i,cacheControl:a,expires:o,xhr:s})})})}function oj(e,t){return REe(e,t)}var c2t=(e,t)=>(aj(e.url)||oj)(ij(rj({},e),{type:"json"}),t),sj=(e,t)=>(aj(e.url)||oj)(ij(rj({},e),{type:"arrayBuffer"}),t),f2t=(e,t)=>oj(ij(rj({},e),{method:"GET"}),t),Hie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function IEe(e,t){const n=new window.Image,r=window.URL||window.webkitURL;n.crossOrigin="anonymous",n.onload=()=>{t(null,n),r.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame(()=>{n.src=Hie})},n.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const i=new Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?r.createObjectURL(i):Hie}function MEe(e,t){const n=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(n).then(r=>{t(null,r)}).catch(r=>{t(new Error(`Could not load image because of ${r.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}var G9=(e,t,n)=>{const r=(i,a)=>{if(i)t(i);else if(a){const o=typeof createImageBitmap=="function",s=n?n(a):a;o?MEe(s,t):IEe(s,t)}};return e.type==="json"?c2t(e,r):sj(e,r)},d2t=(e,t)=>{typeof createImageBitmap=="function"?MEe(e,t):IEe(e,t)};function lj(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function OEe(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Tw(){}var ST=.7,CO=1/ST,fb="\\s*([+-]?\\d+)\\s*",AT="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",qd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h2t=/^#([0-9a-f]{3,8})$/,p2t=new RegExp("^rgb\\("+[fb,fb,fb]+"\\)$"),v2t=new RegExp("^rgb\\("+[qd,qd,qd]+"\\)$"),g2t=new RegExp("^rgba\\("+[fb,fb,fb,AT]+"\\)$"),m2t=new RegExp("^rgba\\("+[qd,qd,qd,AT]+"\\)$"),y2t=new RegExp("^hsl\\("+[AT,qd,qd]+"\\)$"),_2t=new RegExp("^hsla\\("+[AT,qd,qd,AT]+"\\)$"),Wie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lj(Tw,ex,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Gie,formatHex:Gie,formatHsl:b2t,formatRgb:jie,toString:jie});function Gie(){return this.rgb().formatHex()}function b2t(){return DEe(this).formatHsl()}function jie(){return this.rgb().formatRgb()}function ex(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=h2t.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Yie(t):n===3?new ku(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?_I(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?_I(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=p2t.exec(e))?new ku(t[1],t[2],t[3],1):(t=v2t.exec(e))?new ku(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=g2t.exec(e))?_I(t[1],t[2],t[3],t[4]):(t=m2t.exec(e))?_I(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=y2t.exec(e))?qie(t[1],t[2]/100,t[3]/100,1):(t=_2t.exec(e))?qie(t[1],t[2]/100,t[3]/100,t[4]):Wie.hasOwnProperty(e)?Yie(Wie[e]):e==="transparent"?new ku(NaN,NaN,NaN,0):null}function Yie(e){return new ku(e>>16&255,e>>8&255,e&255,1)}function _I(e,t,n,r){return r<=0&&(e=t=n=NaN),new ku(e,t,n,r)}function x2t(e){return e instanceof Tw||(e=ex(e)),e?(e=e.rgb(),new ku(e.r,e.g,e.b,e.opacity)):new ku}function RO(e,t,n,r){return arguments.length===1?x2t(e):new ku(e,t,n,r??1)}function ku(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}lj(ku,RO,OEe(Tw,{brighter:function(e){return e=e==null?CO:Math.pow(CO,e),new ku(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?ST:Math.pow(ST,e),new ku(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xie,formatHex:Xie,formatRgb:Kie,toString:Kie}));function Xie(){return"#"+H6(this.r)+H6(this.g)+H6(this.b)}function Kie(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function H6(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function qie(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Vd(e,t,n,r)}function DEe(e){if(e instanceof Vd)return new Vd(e.h,e.s,e.l,e.opacity);if(e instanceof Tw||(e=ex(e)),!e)return new Vd;if(e instanceof Vd)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Vd(o,s,l,e.opacity)}function S2t(e,t,n,r){return arguments.length===1?DEe(e):new Vd(e,t,n,r??1)}function Vd(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}lj(Vd,S2t,OEe(Tw,{brighter:function(e){return e=e==null?CO:Math.pow(CO,e),new Vd(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?ST:Math.pow(ST,e),new Vd(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ku(W6(e>=240?e-240:e+120,i,r),W6(e,i,r),W6(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function W6(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function ga(e){const t=ex(e),n=[0,0,0,0];return t!=null&&(n[0]=t.r/255,n[1]=t.g/255,n[2]=t.b/255,n[3]=t.opacity),n}function iy(e){const t=e&&e[0],n=e&&e[1],r=e&&e[2];return t+n*256+r*65536-1}function tx(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}function A2t(e){let t=window.document.createElement("canvas"),n=t.getContext("2d");t.width=256,t.height=1;let r=null;const i=n.createLinearGradient(0,0,256,1),a=e.positions[0],o=e.positions[e.positions.length-1];for(let s=0;s<e.colors.length;++s){const l=(e.positions[s]-a)/(o-a);i.addColorStop(l,e.colors[s])}return n.fillStyle=i,n.fillRect(0,0,256,1),r=new Uint8ClampedArray(n.getImageData(0,0,256,1).data),t=null,n=null,{data:r,width:256,height:1}}function E2t(e,t){let n=window.document.createElement("canvas"),r=n.getContext("2d");n.width=256,n.height=1;const i=r.createLinearGradient(0,0,256,1),a=t[1]-t[0];for(let l=0;l<e.colors.length;++l){const u=Math.max((e.positions[l]-t[0])/a,0);i.addColorStop(u,e.colors[l])}r.fillStyle=i,r.fillRect(0,0,256,1);const o=r.getImageData(0,0,256,1).data,s=uj(r,o);return n=null,r=null,s}function T2t(e){let t=window.document.createElement("canvas"),n=t.getContext("2d");t.width=256,t.height=1;const r=n.createImageData(256,1);return r.data.fill(0),e.positions.forEach((i,a)=>{const o=ga(e.colors[a]);r.data[i*4+0]=o[0]*255,r.data[i*4+1]=o[1]*255,r.data[i*4+2]=o[2]*255,r.data[i*4+3]=o[3]*255}),t=null,n=null,r}function w2t(e){let t=window.document.createElement("canvas"),n=t.getContext("2d");n.globalAlpha=1,t.width=256,t.height=1;const r=256/e.colors.length;for(let o=0;o<e.colors.length;o++)n.beginPath(),n.lineWidth=2,n.strokeStyle=e.colors[o],n.moveTo(o*r,0),n.lineTo((o+1)*r,0),n.stroke();const i=n.getImageData(0,0,256,1).data,a=uj(n,i);return t=null,n=null,a}function C2t(e,t){let n=window.document.createElement("canvas"),r=n.getContext("2d");r.globalAlpha=1,n.width=256,n.height=1;const i=t[1]-t[0];e.positions.length-e.colors.length!==1&&console.warn("positions 的数字个数应当比 colors 的样式多一个,poisitions 的首尾值一般为数据的最大最新值");for(let s=0;s<e.colors.length;s++)r.beginPath(),r.lineWidth=2,r.strokeStyle=e.colors[s],r.moveTo((e.positions[s]-t[0])/i*255,0),r.lineTo((e.positions[s+1]-t[0])/i*255,0),r.stroke();const a=r.getImageData(0,0,256,1).data,o=uj(r,a);return n=null,r=null,o}function uj(e,t){const n=e.createImageData(256,1);for(let r=0;r<n.data.length;r+=4)n.data[r+0]=t[r+0],n.data[r+1]=t[r+1],n.data[r+2]=t[r+2],n.data[r+3]=t[r+3];return n}function cj(e){switch(e==null?void 0:e.type){case"cat":return[0,255];default:return[0,1]}}var G6,Zie;function R2t(){if(Zie)return G6;Zie=1;function e(t,n,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),n!==void 0&&(t=t>=n?t:n)),t}return G6=e,G6}var j6,Qie;function I2t(){if(Qie)return j6;Qie=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return j6=t,j6}var Y6,Jie;function M2t(){if(Jie)return Y6;Jie=1;var e=I2t(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Y6=n,Y6}var X6,eae;function Gc(){if(eae)return X6;eae=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return X6=e,X6}var K6,tae;function PEe(){if(tae)return K6;tae=1;var e=typeof rg=="object"&&rg&&rg.Object===Object&&rg;return K6=e,K6}var q6,nae;function ad(){if(nae)return q6;nae=1;var e=PEe(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return q6=n,q6}var Z6,rae;function ww(){if(rae)return Z6;rae=1;var e=ad(),t=e.Symbol;return Z6=t,Z6}var Q6,iae;function O2t(){if(iae)return Q6;iae=1;var e=ww(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var c=r.call(o);return u&&(s?o[i]=l:delete o[i]),c}return Q6=a,Q6}var J6,aae;function D2t(){if(aae)return J6;aae=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return J6=n,J6}var ek,oae;function jp(){if(oae)return ek;oae=1;var e=ww(),t=O2t(),n=D2t(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?t(s):n(s)}return ek=o,ek}var tk,sae;function jc(){if(sae)return tk;sae=1;function e(t){return t!=null&&typeof t=="object"}return tk=e,tk}var nk,lae;function jP(){if(lae)return nk;lae=1;var e=jp(),t=jc(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return nk=r,nk}var rk,uae;function LEe(){if(uae)return rk;uae=1;var e=M2t(),t=Gc(),n=jP(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=a.test(u);return f||o.test(u)?s(u.slice(2),f?2:8):i.test(u)?r:+u}return rk=l,rk}var ik,cae;function P2t(){if(cae)return ik;cae=1;var e=R2t(),t=LEe();function n(r,i,a){return a===void 0&&(a=i,i=void 0),a!==void 0&&(a=t(a),a=a===a?a:0),i!==void 0&&(i=t(i),i=i===i?i:0),e(t(r),i,a)}return ik=n,ik}var L2t=P2t();const N2t=ni(L2t);var ak,fae;function B2t(){if(fae)return ak;fae=1;function e(){this.__data__=[],this.size=0}return ak=e,ak}var ok,dae;function Cw(){if(dae)return ok;dae=1;function e(t,n){return t===n||t!==t&&n!==n}return ok=e,ok}var sk,hae;function YP(){if(hae)return sk;hae=1;var e=Cw();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return sk=t,sk}var lk,pae;function k2t(){if(pae)return lk;pae=1;var e=YP(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return lk=r,lk}var uk,vae;function F2t(){if(vae)return uk;vae=1;var e=YP();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return uk=t,uk}var ck,gae;function U2t(){if(gae)return ck;gae=1;var e=YP();function t(n){return e(this.__data__,n)>-1}return ck=t,ck}var fk,mae;function V2t(){if(mae)return fk;mae=1;var e=YP();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return fk=t,fk}var dk,yae;function XP(){if(yae)return dk;yae=1;var e=B2t(),t=k2t(),n=F2t(),r=U2t(),i=V2t();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,dk=a,dk}var hk,_ae;function z2t(){if(_ae)return hk;_ae=1;var e=XP();function t(){this.__data__=new e,this.size=0}return hk=t,hk}var pk,bae;function $2t(){if(bae)return pk;bae=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return pk=e,pk}var vk,xae;function H2t(){if(xae)return vk;xae=1;function e(t){return this.__data__.get(t)}return vk=e,vk}var gk,Sae;function W2t(){if(Sae)return gk;Sae=1;function e(t){return this.__data__.has(t)}return gk=e,gk}var mk,Aae;function KP(){if(Aae)return mk;Aae=1;var e=jp(),t=Gc(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==a}return mk=o,mk}var yk,Eae;function G2t(){if(Eae)return yk;Eae=1;var e=ad(),t=e["__core-js_shared__"];return yk=t,yk}var _k,Tae;function j2t(){if(Tae)return _k;Tae=1;var e=G2t(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return _k=n,_k}var bk,wae;function NEe(){if(wae)return bk;wae=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return bk=n,bk}var xk,Cae;function Y2t(){if(Cae)return xk;Cae=1;var e=KP(),t=j2t(),n=Gc(),r=NEe(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,c=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(d){if(!n(d)||t(d))return!1;var h=e(d)?c:a;return h.test(r(d))}return xk=f,xk}var Sk,Rae;function X2t(){if(Rae)return Sk;Rae=1;function e(t,n){return t==null?void 0:t[n]}return Sk=e,Sk}var Ak,Iae;function jy(){if(Iae)return Ak;Iae=1;var e=Y2t(),t=X2t();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return Ak=n,Ak}var Ek,Mae;function fj(){if(Mae)return Ek;Mae=1;var e=jy(),t=ad(),n=e(t,"Map");return Ek=n,Ek}var Tk,Oae;function qP(){if(Oae)return Tk;Oae=1;var e=jy(),t=e(Object,"create");return Tk=t,Tk}var wk,Dae;function K2t(){if(Dae)return wk;Dae=1;var e=qP();function t(){this.__data__=e?e(null):{},this.size=0}return wk=t,wk}var Ck,Pae;function q2t(){if(Pae)return Ck;Pae=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Ck=e,Ck}var Rk,Lae;function Z2t(){if(Lae)return Rk;Lae=1;var e=qP(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return r.call(o,a)?o[a]:void 0}return Rk=i,Rk}var Ik,Nae;function Q2t(){if(Nae)return Ik;Nae=1;var e=qP(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return Ik=r,Ik}var Mk,Bae;function J2t(){if(Bae)return Mk;Bae=1;var e=qP(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return Mk=n,Mk}var Ok,kae;function eTt(){if(kae)return Ok;kae=1;var e=K2t(),t=q2t(),n=Z2t(),r=Q2t(),i=J2t();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Ok=a,Ok}var Dk,Fae;function tTt(){if(Fae)return Dk;Fae=1;var e=eTt(),t=XP(),n=fj();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Dk=r,Dk}var Pk,Uae;function nTt(){if(Uae)return Pk;Uae=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Pk=e,Pk}var Lk,Vae;function ZP(){if(Vae)return Lk;Vae=1;var e=nTt();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Lk=t,Lk}var Nk,zae;function rTt(){if(zae)return Nk;zae=1;var e=ZP();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Nk=t,Nk}var Bk,$ae;function iTt(){if($ae)return Bk;$ae=1;var e=ZP();function t(n){return e(this,n).get(n)}return Bk=t,Bk}var kk,Hae;function aTt(){if(Hae)return kk;Hae=1;var e=ZP();function t(n){return e(this,n).has(n)}return kk=t,kk}var Fk,Wae;function oTt(){if(Wae)return Fk;Wae=1;var e=ZP();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return Fk=t,Fk}var Uk,Gae;function dj(){if(Gae)return Uk;Gae=1;var e=tTt(),t=rTt(),n=iTt(),r=aTt(),i=oTt();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Uk=a,Uk}var Vk,jae;function sTt(){if(jae)return Vk;jae=1;var e=XP(),t=fj(),n=dj(),r=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return Vk=i,Vk}var zk,Yae;function hj(){if(Yae)return zk;Yae=1;var e=XP(),t=z2t(),n=$2t(),r=H2t(),i=W2t(),a=sTt();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,zk=o,zk}var $k,Xae;function lTt(){if(Xae)return $k;Xae=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return $k=e,$k}var Hk,Kae;function BEe(){if(Kae)return Hk;Kae=1;var e=jy(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Hk=t,Hk}var Wk,qae;function pj(){if(qae)return Wk;qae=1;var e=BEe();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Wk=t,Wk}var Gk,Zae;function kEe(){if(Zae)return Gk;Zae=1;var e=pj(),t=Cw(),n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s){var l=a[o];(!(r.call(a,o)&&t(l,s))||s===void 0&&!(o in a))&&e(a,o,s)}return Gk=i,Gk}var jk,Qae;function Rw(){if(Qae)return jk;Qae=1;var e=kEe(),t=pj();function n(r,i,a,o){var s=!a;a||(a={});for(var l=-1,u=i.length;++l<u;){var c=i[l],f=o?o(a[c],r[c],c,a,r):void 0;f===void 0&&(f=r[c]),s?t(a,c,f):e(a,c,f)}return a}return jk=n,jk}var Yk,Jae;function uTt(){if(Jae)return Yk;Jae=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return Yk=e,Yk}var Xk,eoe;function cTt(){if(eoe)return Xk;eoe=1;var e=jp(),t=jc(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return Xk=r,Xk}var Kk,toe;function FEe(){if(toe)return Kk;toe=1;var e=cTt(),t=jc(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return Kk=a,Kk}var qk,noe;function Yp(){if(noe)return qk;noe=1;var e=Array.isArray;return qk=e,qk}var yE={exports:{}},Zk,roe;function fTt(){if(roe)return Zk;roe=1;function e(){return!1}return Zk=e,Zk}yE.exports;var ioe;function QP(){return ioe||(ioe=1,function(e,t){var n=ad(),r=fTt(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u}(yE,yE.exports)),yE.exports}var Qk,aoe;function UEe(){if(aoe)return Qk;aoe=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return Qk=n,Qk}var Jk,ooe;function VEe(){if(ooe)return Jk;ooe=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Jk=t,Jk}var e5,soe;function dTt(){if(soe)return e5;soe=1;var e=jp(),t=VEe(),n=jc(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",c="[object Number]",f="[object Object]",d="[object RegExp]",h="[object Set]",p="[object String]",v="[object WeakMap]",g="[object ArrayBuffer]",m="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",x="[object Int8Array]",E="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",O="[object Uint32Array]",D={};D[b]=D[_]=D[x]=D[E]=D[A]=D[T]=D[R]=D[M]=D[O]=!0,D[r]=D[i]=D[g]=D[a]=D[m]=D[o]=D[s]=D[l]=D[u]=D[c]=D[f]=D[d]=D[h]=D[p]=D[v]=!1;function C(P){return n(P)&&t(P.length)&&!!D[e(P)]}return e5=C,e5}var t5,loe;function JP(){if(loe)return t5;loe=1;function e(t){return function(n){return t(n)}}return t5=e,t5}var _E={exports:{}};_E.exports;var uoe;function vj(){return uoe||(uoe=1,function(e,t){var n=PEe(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(_E,_E.exports)),_E.exports}var n5,coe;function eL(){if(coe)return n5;coe=1;var e=dTt(),t=JP(),n=vj(),r=n&&n.isTypedArray,i=r?t(r):e;return n5=i,n5}var r5,foe;function zEe(){if(foe)return r5;foe=1;var e=uTt(),t=FEe(),n=Yp(),r=QP(),i=UEe(),a=eL(),o=Object.prototype,s=o.hasOwnProperty;function l(u,c){var f=n(u),d=!f&&t(u),h=!f&&!d&&r(u),p=!f&&!d&&!h&&a(u),v=f||d||h||p,g=v?e(u.length,String):[],m=g.length;for(var b in u)(c||s.call(u,b))&&!(v&&(b=="length"||h&&(b=="offset"||b=="parent")||p&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,m)))&&g.push(b);return g}return r5=l,r5}var i5,doe;function gj(){if(doe)return i5;doe=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return i5=t,i5}var a5,hoe;function $Ee(){if(hoe)return a5;hoe=1;function e(t,n){return function(r){return t(n(r))}}return a5=e,a5}var o5,poe;function hTt(){if(poe)return o5;poe=1;var e=$Ee(),t=e(Object.keys,Object);return o5=t,o5}var s5,voe;function pTt(){if(voe)return s5;voe=1;var e=gj(),t=hTt(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return s5=i,s5}var l5,goe;function tL(){if(goe)return l5;goe=1;var e=KP(),t=VEe();function n(r){return r!=null&&t(r.length)&&!e(r)}return l5=n,l5}var u5,moe;function mj(){if(moe)return u5;moe=1;var e=zEe(),t=pTt(),n=tL();function r(i){return n(i)?e(i):t(i)}return u5=r,u5}var c5,yoe;function vTt(){if(yoe)return c5;yoe=1;var e=Rw(),t=mj();function n(r,i){return r&&e(i,t(i),r)}return c5=n,c5}var f5,_oe;function gTt(){if(_oe)return f5;_oe=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return f5=e,f5}var d5,boe;function mTt(){if(boe)return d5;boe=1;var e=Gc(),t=gj(),n=gTt(),r=Object.prototype,i=r.hasOwnProperty;function a(o){if(!e(o))return n(o);var s=t(o),l=[];for(var u in o)u=="constructor"&&(s||!i.call(o,u))||l.push(u);return l}return d5=a,d5}var h5,xoe;function Iw(){if(xoe)return h5;xoe=1;var e=zEe(),t=mTt(),n=tL();function r(i){return n(i)?e(i,!0):t(i)}return h5=r,h5}var p5,Soe;function yTt(){if(Soe)return p5;Soe=1;var e=Rw(),t=Iw();function n(r,i){return r&&e(i,t(i),r)}return p5=n,p5}var bE={exports:{}};bE.exports;var Aoe;function HEe(){return Aoe||(Aoe=1,function(e,t){var n=ad(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}e.exports=l}(bE,bE.exports)),bE.exports}var v5,Eoe;function yj(){if(Eoe)return v5;Eoe=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return v5=e,v5}var g5,Toe;function _Tt(){if(Toe)return g5;Toe=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,o=[];++r<i;){var s=t[r];n(s,r,t)&&(o[a++]=s)}return o}return g5=e,g5}var m5,woe;function WEe(){if(woe)return m5;woe=1;function e(){return[]}return m5=e,m5}var y5,Coe;function _j(){if(Coe)return y5;Coe=1;var e=_Tt(),t=WEe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return r.call(o,s)}))}:t;return y5=a,y5}var _5,Roe;function bTt(){if(Roe)return _5;Roe=1;var e=Rw(),t=_j();function n(r,i){return e(r,t(r),i)}return _5=n,_5}var b5,Ioe;function GEe(){if(Ioe)return b5;Ioe=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return b5=e,b5}var x5,Moe;function bj(){if(Moe)return x5;Moe=1;var e=$Ee(),t=e(Object.getPrototypeOf,Object);return x5=t,x5}var S5,Ooe;function jEe(){if(Ooe)return S5;Ooe=1;var e=GEe(),t=bj(),n=_j(),r=WEe(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)e(s,n(o)),o=t(o);return s}:r;return S5=a,S5}var A5,Doe;function xTt(){if(Doe)return A5;Doe=1;var e=Rw(),t=jEe();function n(r,i){return e(r,t(r),i)}return A5=n,A5}var E5,Poe;function YEe(){if(Poe)return E5;Poe=1;var e=GEe(),t=Yp();function n(r,i,a){var o=i(r);return t(r)?o:e(o,a(r))}return E5=n,E5}var T5,Loe;function XEe(){if(Loe)return T5;Loe=1;var e=YEe(),t=_j(),n=mj();function r(i){return e(i,n,t)}return T5=r,T5}var w5,Noe;function STt(){if(Noe)return w5;Noe=1;var e=YEe(),t=jEe(),n=Iw();function r(i){return e(i,n,t)}return w5=r,w5}var C5,Boe;function ATt(){if(Boe)return C5;Boe=1;var e=jy(),t=ad(),n=e(t,"DataView");return C5=n,C5}var R5,koe;function ETt(){if(koe)return R5;koe=1;var e=jy(),t=ad(),n=e(t,"Promise");return R5=n,R5}var I5,Foe;function KEe(){if(Foe)return I5;Foe=1;var e=jy(),t=ad(),n=e(t,"Set");return I5=n,I5}var M5,Uoe;function TTt(){if(Uoe)return M5;Uoe=1;var e=jy(),t=ad(),n=e(t,"WeakMap");return M5=n,M5}var O5,Voe;function nL(){if(Voe)return O5;Voe=1;var e=ATt(),t=fj(),n=ETt(),r=KEe(),i=TTt(),a=jp(),o=NEe(),s="[object Map]",l="[object Object]",u="[object Promise]",c="[object Set]",f="[object WeakMap]",d="[object DataView]",h=o(e),p=o(t),v=o(n),g=o(r),m=o(i),b=a;return(e&&b(new e(new ArrayBuffer(1)))!=d||t&&b(new t)!=s||n&&b(n.resolve())!=u||r&&b(new r)!=c||i&&b(new i)!=f)&&(b=function(_){var x=a(_),E=x==l?_.constructor:void 0,A=E?o(E):"";if(A)switch(A){case h:return d;case p:return s;case v:return u;case g:return c;case m:return f}return x}),O5=b,O5}var D5,zoe;function wTt(){if(zoe)return D5;zoe=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return D5=n,D5}var P5,$oe;function qEe(){if($oe)return P5;$oe=1;var e=ad(),t=e.Uint8Array;return P5=t,P5}var L5,Hoe;function xj(){if(Hoe)return L5;Hoe=1;var e=qEe();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return L5=t,L5}var N5,Woe;function CTt(){if(Woe)return N5;Woe=1;var e=xj();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return N5=t,N5}var B5,Goe;function RTt(){if(Goe)return B5;Goe=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return B5=t,B5}var k5,joe;function ITt(){if(joe)return k5;joe=1;var e=ww(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return k5=r,k5}var F5,Yoe;function ZEe(){if(Yoe)return F5;Yoe=1;var e=xj();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return F5=t,F5}var U5,Xoe;function MTt(){if(Xoe)return U5;Xoe=1;var e=xj(),t=CTt(),n=RTt(),r=ITt(),i=ZEe(),a="[object Boolean]",o="[object Date]",s="[object Map]",l="[object Number]",u="[object RegExp]",c="[object Set]",f="[object String]",d="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",v="[object Float32Array]",g="[object Float64Array]",m="[object Int8Array]",b="[object Int16Array]",_="[object Int32Array]",x="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]";function R(M,O,D){var C=M.constructor;switch(O){case h:return e(M);case a:case o:return new C(+M);case p:return t(M,D);case v:case g:case m:case b:case _:case x:case E:case A:case T:return i(M,D);case s:return new C;case l:case f:return new C(M);case u:return n(M);case c:return new C;case d:return r(M)}}return U5=R,U5}var V5,Koe;function OTt(){if(Koe)return V5;Koe=1;var e=Gc(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return V5=n,V5}var z5,qoe;function QEe(){if(qoe)return z5;qoe=1;var e=OTt(),t=bj(),n=gj();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return z5=r,z5}var $5,Zoe;function DTt(){if(Zoe)return $5;Zoe=1;var e=nL(),t=jc(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return $5=r,$5}var H5,Qoe;function PTt(){if(Qoe)return H5;Qoe=1;var e=DTt(),t=JP(),n=vj(),r=n&&n.isMap,i=r?t(r):e;return H5=i,H5}var W5,Joe;function LTt(){if(Joe)return W5;Joe=1;var e=nL(),t=jc(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return W5=r,W5}var G5,ese;function NTt(){if(ese)return G5;ese=1;var e=LTt(),t=JP(),n=vj(),r=n&&n.isSet,i=r?t(r):e;return G5=i,G5}var j5,tse;function BTt(){if(tse)return j5;tse=1;var e=hj(),t=lTt(),n=kEe(),r=vTt(),i=yTt(),a=HEe(),o=yj(),s=bTt(),l=xTt(),u=XEe(),c=STt(),f=nL(),d=wTt(),h=MTt(),p=QEe(),v=Yp(),g=QP(),m=PTt(),b=Gc(),_=NTt(),x=mj(),E=Iw(),A=1,T=2,R=4,M="[object Arguments]",O="[object Array]",D="[object Boolean]",C="[object Date]",P="[object Error]",B="[object Function]",U="[object GeneratorFunction]",L="[object Map]",F="[object Number]",N="[object Object]",V="[object RegExp]",W="[object Set]",G="[object String]",K="[object Symbol]",q="[object WeakMap]",ue="[object ArrayBuffer]",he="[object DataView]",Ce="[object Float32Array]",ee="[object Float64Array]",de="[object Int8Array]",oe="[object Int16Array]",pe="[object Int32Array]",me="[object Uint8Array]",re="[object Uint8ClampedArray]",ne="[object Uint16Array]",se="[object Uint32Array]",be={};be[M]=be[O]=be[ue]=be[he]=be[D]=be[C]=be[Ce]=be[ee]=be[de]=be[oe]=be[pe]=be[L]=be[F]=be[N]=be[V]=be[W]=be[G]=be[K]=be[me]=be[re]=be[ne]=be[se]=!0,be[P]=be[B]=be[q]=!1;function Pe(Ee,Le,He,rt,Je,ot){var ae,Xe=Le&A,Tt=Le&T,sn=Le&R;if(He&&(ae=Je?He(Ee,rt,Je,ot):He(Ee)),ae!==void 0)return ae;if(!b(Ee))return Ee;var Mn=v(Ee);if(Mn){if(ae=d(Ee),!Xe)return o(Ee,ae)}else{var Sn=f(Ee),En=Sn==B||Sn==U;if(g(Ee))return a(Ee,Xe);if(Sn==N||Sn==M||En&&!Je){if(ae=Tt||En?{}:p(Ee),!Xe)return Tt?l(Ee,i(ae,Ee)):s(Ee,r(ae,Ee))}else{if(!be[Sn])return Je?Ee:{};ae=h(Ee,Sn,Xe)}}ot||(ot=new e);var Gn=ot.get(Ee);if(Gn)return Gn;ot.set(Ee,ae),_(Ee)?Ee.forEach(function(yt){ae.add(Pe(yt,Le,He,yt,Ee,ot))}):m(Ee)&&Ee.forEach(function(yt,Re){ae.set(Re,Pe(yt,Le,He,Re,Ee,ot))});var _r=sn?Tt?c:u:Tt?E:x,We=Mn?void 0:_r(Ee);return t(We||Ee,function(yt,Re){We&&(Re=yt,yt=Ee[Re]),n(ae,Re,Pe(yt,Le,He,Re,Ee,ot))}),ae}return j5=Pe,j5}var Y5,nse;function kTt(){if(nse)return Y5;nse=1;var e=BTt(),t=1,n=4;function r(i){return e(i,t|n)}return Y5=r,Y5}var FTt=kTt();const UTt=ni(FTt);var X5,rse;function VTt(){if(rse)return X5;rse=1;var e=ad(),t=function(){return e.Date.now()};return X5=t,X5}var K5,ise;function JEe(){if(ise)return K5;ise=1;var e=Gc(),t=VTt(),n=LEe(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var c,f,d,h,p,v,g=0,m=!1,b=!1,_=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(u)&&(m=!!u.leading,b="maxWait"in u,d=b?i(n(u.maxWait)||0,l):d,_="trailing"in u?!!u.trailing:_);function x(P){var B=c,U=f;return c=f=void 0,g=P,h=s.apply(U,B),h}function E(P){return g=P,p=setTimeout(R,l),m?x(P):h}function A(P){var B=P-v,U=P-g,L=l-B;return b?a(L,d-U):L}function T(P){var B=P-v,U=P-g;return v===void 0||B>=l||B<0||b&&U>=d}function R(){var P=t();if(T(P))return M(P);p=setTimeout(R,A(P))}function M(P){return p=void 0,_&&c?x(P):(c=f=void 0,h)}function O(){p!==void 0&&clearTimeout(p),g=0,c=v=f=p=void 0}function D(){return p===void 0?h:M(t())}function C(){var P=t(),B=T(P);if(c=arguments,f=this,v=P,B){if(p===void 0)return E(v);if(b)return clearTimeout(p),p=setTimeout(R,l),x(v)}return p===void 0&&(p=setTimeout(R,l)),h}return C.cancel=O,C.flush=D,C}return K5=o,K5}var zTt=JEe();const z3=ni(zTt);var q5,ase;function $Tt(){if(ase)return q5;ase=1;var e=Yp(),t=jP(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return q5=i,q5}var Z5,ose;function HTt(){if(ose)return Z5;ose=1;var e=dj(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=r.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(n.Cache||e),a}return n.Cache=e,Z5=n,Z5}var Q5,sse;function WTt(){if(sse)return Q5;sse=1;var e=HTt(),t=500;function n(r){var i=e(r,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return Q5=n,Q5}var J5,lse;function GTt(){if(lse)return J5;lse=1;var e=WTt(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,u){a.push(l?u.replace(n,"$1"):s||o)}),a});return J5=r,J5}var eF,use;function e2e(){if(use)return eF;use=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return eF=e,eF}var tF,cse;function jTt(){if(cse)return tF;cse=1;var e=ww(),t=e2e(),n=Yp(),r=jP(),i=1/0,a=e?e.prototype:void 0,o=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return t(l,s)+"";if(r(l))return o?o.call(l):"";var u=l+"";return u=="0"&&1/l==-i?"-0":u}return tF=s,tF}var nF,fse;function Yx(){if(fse)return nF;fse=1;var e=jTt();function t(n){return n==null?"":e(n)}return nF=t,nF}var rF,dse;function YTt(){if(dse)return rF;dse=1;var e=Yp(),t=$Tt(),n=GTt(),r=Yx();function i(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}return rF=i,rF}var iF,hse;function XTt(){if(hse)return iF;hse=1;var e=jP(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-t?"-0":i}return iF=n,iF}var aF,pse;function KTt(){if(pse)return aF;pse=1;var e=YTt(),t=XTt();function n(r,i){i=e(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[t(i[a++])];return a&&a==o?r:void 0}return aF=n,aF}var oF,vse;function qTt(){if(vse)return oF;vse=1;var e=KTt();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return oF=t,oF}var ZTt=qTt();const QTt=ni(ZTt);var sF,gse;function JTt(){if(gse)return sF;gse=1;var e=jp(),t=jc(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return sF=r,sF}var ewt=JTt();const twt=ni(ewt);var lF,mse;function nwt(){if(mse)return lF;mse=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return lF=t,lF}var uF,yse;function rwt(){if(yse)return uF;yse=1;function e(t){return this.__data__.has(t)}return uF=e,uF}var cF,_se;function t2e(){if(_se)return cF;_se=1;var e=dj(),t=nwt(),n=rwt();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,cF=r,cF}var fF,bse;function iwt(){if(bse)return fF;bse=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return fF=e,fF}var dF,xse;function n2e(){if(xse)return dF;xse=1;function e(t,n){return t.has(n)}return dF=e,dF}var hF,Sse;function r2e(){if(Sse)return hF;Sse=1;var e=t2e(),t=iwt(),n=n2e(),r=1,i=2;function a(o,s,l,u,c,f){var d=l&r,h=o.length,p=s.length;if(h!=p&&!(d&&p>h))return!1;var v=f.get(o),g=f.get(s);if(v&&g)return v==s&&g==o;var m=-1,b=!0,_=l&i?new e:void 0;for(f.set(o,s),f.set(s,o);++m<h;){var x=o[m],E=s[m];if(u)var A=d?u(E,x,m,s,o,f):u(x,E,m,o,s,f);if(A!==void 0){if(A)continue;b=!1;break}if(_){if(!t(s,function(T,R){if(!n(_,R)&&(x===T||c(x,T,l,u,f)))return _.push(R)})){b=!1;break}}else if(!(x===E||c(x,E,l,u,f))){b=!1;break}}return f.delete(o),f.delete(s),b}return hF=a,hF}var pF,Ase;function awt(){if(Ase)return pF;Ase=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return pF=e,pF}var vF,Ese;function Sj(){if(Ese)return vF;Ese=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return vF=e,vF}var gF,Tse;function owt(){if(Tse)return gF;Tse=1;var e=ww(),t=qEe(),n=Cw(),r=r2e(),i=awt(),a=Sj(),o=1,s=2,l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",b="[object DataView]",_=e?e.prototype:void 0,x=_?_.valueOf:void 0;function E(A,T,R,M,O,D,C){switch(R){case b:if(A.byteLength!=T.byteLength||A.byteOffset!=T.byteOffset)return!1;A=A.buffer,T=T.buffer;case m:return!(A.byteLength!=T.byteLength||!D(new t(A),new t(T)));case l:case u:case d:return n(+A,+T);case c:return A.name==T.name&&A.message==T.message;case h:case v:return A==T+"";case f:var P=i;case p:var B=M&o;if(P||(P=a),A.size!=T.size&&!B)return!1;var U=C.get(A);if(U)return U==T;M|=s,C.set(A,T);var L=r(P(A),P(T),M,O,D,C);return C.delete(A),L;case g:if(x)return x.call(A)==x.call(T)}return!1}return gF=E,gF}var mF,wse;function swt(){if(wse)return mF;wse=1;var e=XEe(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,u,c){var f=s&t,d=e(a),h=d.length,p=e(o),v=p.length;if(h!=v&&!f)return!1;for(var g=h;g--;){var m=d[g];if(!(f?m in o:r.call(o,m)))return!1}var b=c.get(a),_=c.get(o);if(b&&_)return b==o&&_==a;var x=!0;c.set(a,o),c.set(o,a);for(var E=f;++g<h;){m=d[g];var A=a[m],T=o[m];if(l)var R=f?l(T,A,m,o,a,c):l(A,T,m,a,o,c);if(!(R===void 0?A===T||u(A,T,s,l,c):R)){x=!1;break}E||(E=m=="constructor")}if(x&&!E){var M=a.constructor,O=o.constructor;M!=O&&"constructor"in a&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof O=="function"&&O instanceof O)&&(x=!1)}return c.delete(a),c.delete(o),x}return mF=i,mF}var yF,Cse;function lwt(){if(Cse)return yF;Cse=1;var e=hj(),t=r2e(),n=owt(),r=swt(),i=nL(),a=Yp(),o=QP(),s=eL(),l=1,u="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,h=d.hasOwnProperty;function p(v,g,m,b,_,x){var E=a(v),A=a(g),T=E?c:i(v),R=A?c:i(g);T=T==u?f:T,R=R==u?f:R;var M=T==f,O=R==f,D=T==R;if(D&&o(v)){if(!o(g))return!1;E=!0,M=!1}if(D&&!M)return x||(x=new e),E||s(v)?t(v,g,m,b,_,x):n(v,g,T,m,b,_,x);if(!(m&l)){var C=M&&h.call(v,"__wrapped__"),P=O&&h.call(g,"__wrapped__");if(C||P){var B=C?v.value():v,U=P?g.value():g;return x||(x=new e),_(B,U,m,b,x)}}return D?(x||(x=new e),r(v,g,m,b,_,x)):!1}return yF=p,yF}var _F,Rse;function uwt(){if(Rse)return _F;Rse=1;var e=lwt(),t=jc();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,o,n,s)}return _F=n,_F}var bF,Ise;function cwt(){if(Ise)return bF;Ise=1;var e=uwt();function t(n,r){return e(n,r)}return bF=t,bF}var fwt=cwt();const dwt=ni(fwt);var xF,Mse;function hwt(){if(Mse)return xF;Mse=1;function e(t){return t==null}return xF=e,xF}var pwt=hwt();const vwt=ni(pwt);var SF,Ose;function gwt(){if(Ose)return SF;Ose=1;var e=jp(),t=jc(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return SF=r,SF}var mwt=gwt();const ywt=ni(mwt);var AF,Dse;function i2e(){if(Dse)return AF;Dse=1;var e=jp(),t=bj(),n=jc(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function u(c){if(!n(c)||e(c)!=r)return!1;var f=t(c);if(f===null)return!0;var d=s.call(f,"constructor")&&f.constructor;return typeof d=="function"&&d instanceof d&&o.call(d)==l}return AF=u,AF}var _wt=i2e();const bwt=ni(_wt);var EF,Pse;function xwt(){if(Pse)return EF;Pse=1;var e=jp(),t=Yp(),n=jc(),r="[object String]";function i(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return EF=i,EF}var Swt=xwt();const Awt=ni(Swt);var Ewt=eL();const Twt=ni(Ewt);var TF,Lse;function a2e(){if(Lse)return TF;Lse=1;var e=pj(),t=Cw();function n(r,i,a){(a!==void 0&&!t(r[i],a)||a===void 0&&!(i in r))&&e(r,i,a)}return TF=n,TF}var wF,Nse;function wwt(){if(Nse)return wF;Nse=1;function e(t){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var u=s[t?l:++a];if(r(o[u],u,o)===!1)break}return n}}return wF=e,wF}var CF,Bse;function Cwt(){if(Bse)return CF;Bse=1;var e=wwt(),t=e();return CF=t,CF}var RF,kse;function Rwt(){if(kse)return RF;kse=1;var e=tL(),t=jc();function n(r){return t(r)&&e(r)}return RF=n,RF}var IF,Fse;function o2e(){if(Fse)return IF;Fse=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return IF=e,IF}var MF,Use;function Iwt(){if(Use)return MF;Use=1;var e=Rw(),t=Iw();function n(r){return e(r,t(r))}return MF=n,MF}var OF,Vse;function Mwt(){if(Vse)return OF;Vse=1;var e=a2e(),t=HEe(),n=ZEe(),r=yj(),i=QEe(),a=FEe(),o=Yp(),s=Rwt(),l=QP(),u=KP(),c=Gc(),f=i2e(),d=eL(),h=o2e(),p=Iwt();function v(g,m,b,_,x,E,A){var T=h(g,b),R=h(m,b),M=A.get(R);if(M){e(g,b,M);return}var O=E?E(T,R,b+"",g,m,A):void 0,D=O===void 0;if(D){var C=o(R),P=!C&&l(R),B=!C&&!P&&d(R);O=R,C||P||B?o(T)?O=T:s(T)?O=r(T):P?(D=!1,O=t(R,!0)):B?(D=!1,O=n(R,!0)):O=[]:f(R)||a(R)?(O=T,a(T)?O=p(T):(!c(T)||u(T))&&(O=i(R))):D=!1}D&&(A.set(R,O),x(O,R,_,E,A),A.delete(R)),e(g,b,O)}return OF=v,OF}var DF,zse;function s2e(){if(zse)return DF;zse=1;var e=hj(),t=a2e(),n=Cwt(),r=Mwt(),i=Gc(),a=Iw(),o=o2e();function s(l,u,c,f,d){l!==u&&n(u,function(h,p){if(d||(d=new e),i(h))r(l,u,p,c,s,f,d);else{var v=f?f(o(l,p),h,p+"",l,u,d):void 0;v===void 0&&(v=h),t(l,p,v)}},a)}return DF=s,DF}var PF,$se;function l2e(){if($se)return PF;$se=1;function e(t){return t}return PF=e,PF}var LF,Hse;function Owt(){if(Hse)return LF;Hse=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return LF=e,LF}var NF,Wse;function Dwt(){if(Wse)return NF;Wse=1;var e=Owt(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),u=Array(l);++s<l;)u[s]=o[i+s];s=-1;for(var c=Array(i+1);++s<i;)c[s]=o[s];return c[i]=a(u),e(r,this,c)}}return NF=n,NF}var BF,Gse;function Pwt(){if(Gse)return BF;Gse=1;function e(t){return function(){return t}}return BF=e,BF}var kF,jse;function Lwt(){if(jse)return kF;jse=1;var e=Pwt(),t=BEe(),n=l2e(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return kF=r,kF}var FF,Yse;function Nwt(){if(Yse)return FF;Yse=1;var e=800,t=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return FF=r,FF}var UF,Xse;function Bwt(){if(Xse)return UF;Xse=1;var e=Lwt(),t=Nwt(),n=t(e);return UF=n,UF}var VF,Kse;function u2e(){if(Kse)return VF;Kse=1;var e=l2e(),t=Dwt(),n=Bwt();function r(i,a){return n(t(i,a,e),i+"")}return VF=r,VF}var zF,qse;function kwt(){if(qse)return zF;qse=1;var e=Cw(),t=tL(),n=UEe(),r=Gc();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?t(s)&&n(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return zF=i,zF}var $F,Zse;function c2e(){if(Zse)return $F;Zse=1;var e=u2e(),t=kwt();function n(r){return e(function(i,a){var o=-1,s=a.length,l=s>1?a[s-1]:void 0,u=s>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,u&&t(a[0],a[1],u)&&(l=s<3?void 0:l,s=1),i=Object(i);++o<s;){var c=a[o];c&&r(i,c,o,l)}return i})}return $F=n,$F}var HF,Qse;function Fwt(){if(Qse)return HF;Qse=1;var e=s2e(),t=c2e(),n=t(function(r,i,a){e(r,i,a)});return HF=n,HF}var Uwt=Fwt();const Vwt=ni(Uwt);var WF,Jse;function zwt(){if(Jse)return WF;Jse=1;var e=s2e(),t=c2e(),n=t(function(r,i,a,o){e(r,i,a,o)});return WF=n,WF}var $wt=zwt();const Hwt=ni($wt);var GF,ele;function Wwt(){if(ele)return GF;ele=1;function e(t,n,r,i){for(var a=t.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(t[o],o,t))return o;return-1}return GF=e,GF}var jF,tle;function Gwt(){if(tle)return jF;tle=1;function e(t){return t!==t}return jF=e,jF}var YF,nle;function jwt(){if(nle)return YF;nle=1;function e(t,n,r){for(var i=r-1,a=t.length;++i<a;)if(t[i]===n)return i;return-1}return YF=e,YF}var XF,rle;function f2e(){if(rle)return XF;rle=1;var e=Wwt(),t=Gwt(),n=jwt();function r(i,a,o){return a===a?n(i,a,o):e(i,t,o)}return XF=r,XF}var KF,ile;function Ywt(){if(ile)return KF;ile=1;function e(t,n,r,i){for(var a=r-1,o=t.length;++a<o;)if(i(t[a],n))return a;return-1}return KF=e,KF}var qF,ale;function Xwt(){if(ale)return qF;ale=1;var e=e2e(),t=f2e(),n=Ywt(),r=JP(),i=yj(),a=Array.prototype,o=a.splice;function s(l,u,c,f){var d=f?n:t,h=-1,p=u.length,v=l;for(l===u&&(u=i(u)),c&&(v=e(l,r(c)));++h<p;)for(var g=0,m=u[h],b=c?c(m):m;(g=d(v,b,g,f))>-1;)v!==l&&o.call(v,g,1),o.call(l,g,1);return l}return qF=s,qF}var ZF,ole;function Kwt(){if(ole)return ZF;ole=1;var e=Xwt();function t(n,r){return n&&n.length&&r&&r.length?e(n,r):n}return ZF=t,ZF}var QF,sle;function qwt(){if(sle)return QF;sle=1;var e=u2e(),t=Kwt(),n=e(t);return QF=n,QF}var Zwt=qwt();const Qwt=ni(Zwt);var JF,lle;function Jwt(){if(lle)return JF;lle=1;var e=JEe(),t=Gc(),n="Expected a function";function r(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return t(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),e(i,a,{leading:s,maxWait:a,trailing:l})}return JF=r,JF}var eCt=Jwt();const d2e=ni(eCt);var e8,ule;function tCt(){if(ule)return e8;ule=1;var e=f2e();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return e8=t,e8}var t8,cle;function nCt(){if(cle)return t8;cle=1;function e(t,n,r){for(var i=-1,a=t==null?0:t.length;++i<a;)if(r(n,t[i]))return!0;return!1}return t8=e,t8}var n8,fle;function rCt(){if(fle)return n8;fle=1;function e(){}return n8=e,n8}var r8,dle;function iCt(){if(dle)return r8;dle=1;var e=KEe(),t=rCt(),n=Sj(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return r8=i,r8}var i8,hle;function aCt(){if(hle)return i8;hle=1;var e=t2e(),t=tCt(),n=nCt(),r=n2e(),i=iCt(),a=Sj(),o=200;function s(l,u,c){var f=-1,d=t,h=l.length,p=!0,v=[],g=v;if(c)p=!1,d=n;else if(h>=o){var m=u?null:i(l);if(m)return a(m);p=!1,d=r,g=new e}else g=u?[]:v;e:for(;++f<h;){var b=l[f],_=u?u(b):b;if(b=c||b!==0?b:0,p&&_===_){for(var x=g.length;x--;)if(g[x]===_)continue e;u&&g.push(_),v.push(b)}else d(g,_,c)||(g!==v&&g.push(_),v.push(b))}return v}return i8=s,i8}var a8,ple;function oCt(){if(ple)return a8;ple=1;var e=aCt();function t(n){return n&&n.length?e(n):[]}return a8=t,a8}var sCt=oCt();const lCt=ni(sCt);var o8,vle;function uCt(){if(vle)return o8;vle=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+n];return o}return o8=e,o8}var s8,gle;function cCt(){if(gle)return s8;gle=1;var e=uCt();function t(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:e(n,r,i)}return s8=t,s8}var l8,mle;function h2e(){if(mle)return l8;mle=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+e+i+a+"]");function l(u){return s.test(u)}return l8=l,l8}var u8,yle;function fCt(){if(yle)return u8;yle=1;function e(t){return t.split("")}return u8=e,u8}var c8,_le;function dCt(){if(_le)return c8;_le=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\ufe0e\\ufe0f",o="["+e+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",c="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=u+"?",v="["+a+"]?",g="(?:"+h+"(?:"+[c,f,d].join("|")+")"+v+p+")*",m=v+p+g,b="(?:"+[c+s+"?",s,f,d,o].join("|")+")",_=RegExp(l+"(?="+l+")|"+b+m,"g");function x(E){return E.match(_)||[]}return c8=x,c8}var f8,ble;function hCt(){if(ble)return f8;ble=1;var e=fCt(),t=h2e(),n=dCt();function r(i){return t(i)?n(i):e(i)}return f8=r,f8}var d8,xle;function pCt(){if(xle)return d8;xle=1;var e=cCt(),t=h2e(),n=hCt(),r=Yx();function i(a){return function(o){o=r(o);var s=t(o)?n(o):void 0,l=s?s[0]:o.charAt(0),u=s?e(s,1).join(""):o.slice(1);return l[a]()+u}}return d8=i,d8}var h8,Sle;function p2e(){if(Sle)return h8;Sle=1;var e=pCt(),t=e("toUpperCase");return h8=t,h8}var vCt=p2e();const gCt=ni(vCt);var mCt=KP();const yCt=ni(mCt);var _Ct=Gc();const bCt=ni(_Ct);var p8,Ale;function xCt(){if(Ale)return p8;Ale=1;function e(t){return t===void 0}return p8=e,p8}var SCt=xCt();const ACt=ni(SCt);var v8,Ele;function ECt(){if(Ele)return v8;Ele=1;var e=Yx(),t=p2e();function n(r){return t(e(r).toLowerCase())}return v8=n,v8}var g8,Tle;function TCt(){if(Tle)return g8;Tle=1;function e(t,n,r,i){var a=-1,o=t==null?0:t.length;for(i&&o&&(r=t[++a]);++a<o;)r=n(r,t[a],a,t);return r}return g8=e,g8}var m8,wle;function wCt(){if(wle)return m8;wle=1;function e(t){return function(n){return t==null?void 0:t[n]}}return m8=e,m8}var y8,Cle;function CCt(){if(Cle)return y8;Cle=1;var e=wCt(),t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},n=e(t);return y8=n,y8}var _8,Rle;function RCt(){if(Rle)return _8;Rle=1;var e=CCt(),t=Yx(),n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",o=r+i+a,s="["+o+"]",l=RegExp(s,"g");function u(c){return c=t(c),c&&c.replace(n,e).replace(l,"")}return _8=u,_8}var b8,Ile;function ICt(){if(Ile)return b8;Ile=1;var e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function t(n){return n.match(e)||[]}return b8=t,b8}var x8,Mle;function MCt(){if(Mle)return x8;Mle=1;var e=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function t(n){return e.test(n)}return x8=t,x8}var S8,Ole;function OCt(){if(Ole)return S8;Ole=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,a="\\u2700-\\u27bf",o="a-z\\xdf-\\xf6\\xf8-\\xff",s="\\xac\\xb1\\xd7\\xf7",l="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",u="\\u2000-\\u206f",c=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",f="A-Z\\xc0-\\xd6\\xd8-\\xde",d="\\ufe0e\\ufe0f",h=s+l+u+c,p="['’]",v="["+h+"]",g="["+i+"]",m="\\d+",b="["+a+"]",_="["+o+"]",x="[^"+e+h+m+a+o+f+"]",E="\\ud83c[\\udffb-\\udfff]",A="(?:"+g+"|"+E+")",T="[^"+e+"]",R="(?:\\ud83c[\\udde6-\\uddff]){2}",M="[\\ud800-\\udbff][\\udc00-\\udfff]",O="["+f+"]",D="\\u200d",C="(?:"+_+"|"+x+")",P="(?:"+O+"|"+x+")",B="(?:"+p+"(?:d|ll|m|re|s|t|ve))?",U="(?:"+p+"(?:D|LL|M|RE|S|T|VE))?",L=A+"?",F="["+d+"]?",N="(?:"+D+"(?:"+[T,R,M].join("|")+")"+F+L+")*",V="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",W="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",G=F+L+N,K="(?:"+[b,R,M].join("|")+")"+G,q=RegExp([O+"?"+_+"+"+B+"(?="+[v,O,"$"].join("|")+")",P+"+"+U+"(?="+[v,O+C,"$"].join("|")+")",O+"?"+C+"+"+B,O+"+"+U,W,V,m,K].join("|"),"g");function ue(he){return he.match(q)||[]}return S8=ue,S8}var A8,Dle;function DCt(){if(Dle)return A8;Dle=1;var e=ICt(),t=MCt(),n=Yx(),r=OCt();function i(a,o,s){return a=n(a),o=s?void 0:o,o===void 0?t(a)?r(a):e(a):a.match(o)||[]}return A8=i,A8}var E8,Ple;function PCt(){if(Ple)return E8;Ple=1;var e=TCt(),t=RCt(),n=DCt(),r="['’]",i=RegExp(r,"g");function a(o){return function(s){return e(n(t(s).replace(i,"")),o,"")}}return E8=a,E8}var T8,Lle;function LCt(){if(Lle)return T8;Lle=1;var e=ECt(),t=PCt(),n=t(function(r,i,a){return i=i.toLowerCase(),r+(a?e(i):i)});return T8=n,T8}var NCt=LCt();const BCt=ni(NCt);var w8,Nle;function kCt(){if(Nle)return w8;Nle=1;var e=Yx(),t=0;function n(r){var i=++t;return e(r)+i}return w8=n,w8}var FCt=kCt();const UCt=ni(FCt);var Oo={isNil:vwt,merge:Vwt,throttle:d2e,isString:Awt,debounce:z3,pull:Qwt,isTypedArray:Twt,isPlainObject:bwt,isNumber:ywt,isBoolean:twt,isEqual:dwt,cloneDeep:UTt,uniq:lCt,clamp:N2t,upperFirst:gCt,get:QTt,mergeWith:Hwt,isFunction:yCt,isObject:bCt,isUndefined:ACt,camelCase:BCt,uniqueId:UCt};function VCt(e){let t=e;return typeof e=="string"&&(t=window.document.getElementById(e)),t}function v2e(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function g2e(e){return v2e(e).split(/\s+/)}function zCt(e){var t;const n=(t=document==null?void 0:document.documentElement)==null?void 0:t.style;if(!n)return e[0];for(const r in e)if(e[r]&&e[r]in n)return e[r];return e[0]}function Gu(e,t,n){const r=window.document.createElement(e);return t&&(r.className=t||""),n&&n.appendChild(r),r}function IO(e){const t=e.parentNode;t&&t.removeChild(e)}function u2(e,t){if(e.classList!==void 0){const n=g2e(t);for(let r=0,i=n.length;r<i;r++)e.classList.add(n[r])}else if(!$Ct(e,t)){const n=Aj(e);m2e(e,(n?n+" ":"")+t)}}function j9(e,t){e.classList!==void 0?g2e(t).forEach(r=>{e.classList.remove(r)}):m2e(e,v2e((" "+Aj(e)+" ").replace(" "+t+" "," ")))}function $Ct(e,t){if(e.classList!==void 0)return e.classList.contains(t);const n=Aj(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function m2e(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t}function Aj(e){return e instanceof SVGElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}zCt(["transform","WebkitTransform"]);function HCt(){var e;const t=window.document.querySelector('meta[name="viewport"]');if(!t)return 1;const r=((e=t.content)==null?void 0:e.split(",")).find(i=>{const[a]=i.split("=");return a==="initial-scale"});return r?r.split("=")[1]*1:1}var iu=HCt()<1?1:window.devicePixelRatio;function WCt(e,t){e.setAttribute("style",`${e.style.cssText}${t}`)}function GCt(e){return Object.entries(e).map(([t,n])=>`${t}: ${n}`).join(";")}function jCt(e,t){return{left:e.left-t.left,top:e.top-t.top,right:t.left+t.width-e.left-e.width,bottom:t.top+t.height-e.top-e.height}}function y2e(e){e.innerHTML=""}function YCt(e){e.setAttribute("draggable","false")}function XCt(e,t){var n;const r=Array.isArray(t)?t:[t];let i=e;for(;i instanceof Element&&i!==window.document.body;){if(r.find(a=>i==null?void 0:i.matches(a)))return i;i=(n=i==null?void 0:i.parentElement)!=null?n:null}}function KCt(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap}var Y9=navigator==null?void 0:navigator.userAgent;Y9.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);Y9.indexOf("Android")>-1||Y9.indexOf("Adr")>-1;function X9(e){var t=[1/0,1/0,-1/0,-1/0];return wEe(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}X9.default=X9;function C8(e){return typeof e=="number"}function Vo(e){return e-Math.fround(e)}var Ble=2*Math.PI*6378137/2;function qCt(e,t){const[n,r,i,a]=t;return e.lng>n&&e.lng<=i&&e.lat>r&&e.lat<=a}function ZCt(e){const t=[1/0,1/0,-1/0,-1/0];return e.forEach(n=>{const{coordinates:r}=n;_2e(t,r)}),t}function _2e(e,t){return Array.isArray(t[0])?t.forEach(n=>{_2e(e,n)}):(e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])),e}function $3(e,t=!0,n={enable:!0,decimal:1}){e=eRt(e,t);const r=e[0],i=e[1];let a=r*Ble/180,o=Math.log(Math.tan((90+i)*Math.PI/360))/(Math.PI/180);return o=o*Ble/180,n.enable&&(a=Number(a.toFixed(n.decimal)),o=Number(o.toFixed(n.decimal))),e.length===3?[a,o,e[2]]:[a,o]}function QCt(e){if(e==null)throw new Error("lng is required");return(e>180||e<-180)&&(e=e%360,e>180&&(e=-360+e),e<-180&&(e=360+e),e===0&&(e=0)),e}function JCt(e){if(e==null)throw new Error("lat is required");return(e>90||e<-90)&&(e=e%180,e>90&&(e=-180+e),e<-90&&(e=180+e),e===0&&(e=0)),e}function eRt(e,t){if(t===!1)return e;const n=QCt(e[0]);let r=JCt(e[1]);return r>85&&(r=85),r<-85&&(r=-85),e.length===3?[n,r,e[2]]:[n,r]}function Ec(e){const t=85.0511287798,n=Math.max(Math.min(t,e[1]),-t),r=256<<20;let i=Math.PI/180,a=e[0]*i,o=n*i;o=Math.log(Math.tan(Math.PI/4+o/2));const s=.5/Math.PI,l=.5,u=-.5/Math.PI;return i=.5,a=r*(s*a+l),o=r*(u*o+i),[Math.floor(a),Math.floor(o)]}function R8(e,t){const n=85.0511287798,r=Math.PI/180,i=6378137;return t=Math.max(Math.min(n,t),-n),e*=r,t*=r,t=Math.log(Math.tan(Math.PI/4+t/2)),[e*i,t*i]}function Ej(e,t){const n=Math.abs(e[1][1]-e[0][1])*t,r=Math.abs(e[1][0]-e[0][0])*t;return[[e[0][0]-r,e[0][1]-n],[e[1][0]+r,e[1][1]+n]]}function b2e(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}function MO(e){return[[e[0],e[1]],[e[2],e[3]]]}function tRt(e){const t=nRt(e,[0,0]);return[e[0]/t,e[1]/t]}function nRt(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function Ey(e){if(C8(e[0]))return e;if(C8(e[0][0]))throw new Error("当前数据不支持标注");if(C8(e[0][0][0])){const t=e;let n=0,r=0,i=0;return t.forEach(a=>{a.forEach(o=>{n+=o[0],r+=o[1],i++})}),[n/i,r/i,0]}else throw new Error("当前数据不支持标注")}function rRt(e){let t=e[0],n=e[1],r=e[0],i=e[1],a=0,o=0,s=0;for(let l=0;l<e.length;l+=2){const u=e[l],c=e[l+1];u&&c&&(t=Math.max(u,t),n=Math.max(c,n),r=Math.min(u,r),i=Math.min(c,i),a+=u,o+=c,s++)}return{center:[a/s,o/s],radius:Math.sqrt(Math.pow(t-r,2)+Math.pow(n-i,2))/2}}function iRt(e){return X9(e2t([JEt(e)]))}function aRt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}var oRt=class{constructor(e=50,t){this.limit=e,this.destroy=t||this.defaultDestroy,this.order=[],this.clear()}clear(){this.order.forEach(e=>{this.delete(e)}),this.cache={},this.order=[]}get(e){const t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t}set(e,t){this.cache[e]?(this.delete(e),this.cache[e]=t,this.appendOrder(e)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[e]=t,this.appendOrder(e))}delete(e){const t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e))}deleteCache(e){delete this.cache[e]}deleteOrder(e){const t=this.order.findIndex(n=>n===e);t>=0&&this.order.splice(t,1)}appendOrder(e){this.order.push(e)}defaultDestroy(e,t){return null}};function sRt(e){if(e.length===0)throw new Error("max requires at least one data point");let t=e[0];for(let n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t*1}function lRt(e){if(e.length===0)throw new Error("min requires at least one data point");let t=e[0];for(let n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t*1}function x2e(e){if(e.length===0)return 0;let t=e[0]*1;for(let n=1;n<e.length;n++)t+=e[n]*1;return t}function uRt(e){if(e.length===0)throw new Error("mean requires at least one data point");return x2e(e)/e.length}function cRt(e){if(e.length===0)throw new Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();let t=e[0],n=NaN,r=0,i=1;for(let a=1;a<e.length+1;a++)e[a]!==t?(i>r&&(r=i,n=t),i=1,t=e[a]):i++;return n*1}var S2e={min:lRt,max:sRt,mean:uRt,sum:x2e,mode:cRt};function A2e(e,t){return e.map(n=>n[t])}function fRt(e,t){t===void 0&&(t={});var n=Number(e[0]),r=Number(e[1]),i=Number(e[2]),a=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var o=[n,r],s=[n,a],l=[i,a],u=[i,r];return nj([[o,u,l,s,o]],t.properties,{bbox:e,id:t.id})}var I8={exports:{}},kle;function dRt(){return kle||(kle=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,d),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,h,p){var v=n?n+u:u;if(!this._events[v])return!1;var g=this._events[v],m=arguments.length,b,_;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,d),!0;case 5:return g.fn.call(g.context,c,f,d,h),!0;case 6:return g.fn.call(g.context,c,f,d,h,p),!0}for(_=1,b=new Array(m-1);_<m;_++)b[_-1]=arguments[_];g.fn.apply(g.context,b)}else{var x=g.length,E;for(_=0;_<x;_++)switch(g[_].once&&this.removeListener(u,g[_].fn,void 0,!0),m){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,c);break;case 3:g[_].fn.call(g[_].context,c,f);break;case 4:g[_].fn.call(g[_].context,c,f,d);break;default:if(!b)for(E=1,b=new Array(m-1);E<m;E++)b[E-1]=arguments[E];g[_].fn.apply(g[_].context,b)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!d||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var v=0,g=[],m=p.length;v<m;v++)(p[v].fn!==c||d&&!p[v].once||f&&p[v].context!==f)&&g.push(p[v]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(I8)),I8.exports}var Xu=dRt();const Tj=ni(Xu);var c2=(e=>(e.Realtime="realtime",e.Overlap="overlap",e.Replace="replace",e))(c2||{}),dc=(e=>(e.Loading="Loading",e.Loaded="Loaded",e.Failure="Failure",e.Cancelled="Cancelled",e))(dc||{}),E2e=0,Fle=1,rL=2;function hRt(e){e.forEach(t=>{t.isCurrent&&(t.isVisible=t.isLoaded)})}function pRt(e){e.forEach(t=>{t.properties.state=E2e}),e.forEach(t=>{t.isCurrent&&!T2e(t)&&wj(t)}),e.forEach(t=>{t.isVisible=!!(t.properties.state&rL)})}function vRt(e){e.forEach(n=>{n.properties.state=E2e}),e.forEach(n=>{n.isCurrent&&T2e(n)}),e.slice().sort((n,r)=>n.z-r.z).forEach(n=>{n.isVisible=!!(n.properties.state&rL),n.children.length&&(n.isVisible||n.properties.state&Fle)?n.children.forEach(r=>{r.properties.state=Fle}):n.isCurrent&&wj(n)})}function T2e(e){for(;e;){if(e.isLoaded)return e.properties.state|=rL,!0;e=e.parent}return!1}function wj(e){e.children.forEach(t=>{t.isLoaded?t.properties.state|=rL:wj(t)})}var w2e=[-1/0,-1/0,1/0,1/0],gRt=.2,mRt=5,yRt={[c2.Realtime]:hRt,[c2.Overlap]:pRt,[c2.Replace]:vRt},_Rt=()=>{};function K9(e,t,n){const r=Math.floor((e+180)/360*Math.pow(2,n)),i=Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,n));return[r,i]}function Ule(e,t,n){const r=e/Math.pow(2,n)*360-180,i=Math.PI-2*Math.PI*t/Math.pow(2,n),a=180/Math.PI*Math.atan(.5*(Math.exp(i)-Math.exp(-i)));return[r,a]}var C2e=(e,t,n)=>{const[r,i]=Ule(e,t,n),[a,o]=Ule(e+1,t+1,n);return[r,o,a,i]};function bRt({zoom:e,latLonBounds:t,maxZoom:n=1/0,minZoom:r=0,zoomOffset:i=0,extent:a=w2e}){let o=Math.ceil(e)+i;if(Number.isFinite(r)&&o<r)return[];Number.isFinite(n)&&o>n&&(o=n);const[s,l,u,c]=t,f=[Math.max(s,a[0]),Math.max(l,a[1]),Math.min(u,a[2]),Math.min(c,a[3])],d=[],[h,p]=K9(f[0],f[1],o),[v,g]=K9(f[2],f[3],o);for(let x=h;x<=v;x++)for(let E=g;E<=p;E++)d.push({x,y:E,z:o});const m=(v+h)/2,b=(p+g)/2,_=(x,E)=>Math.abs(x-m)+Math.abs(E-b);return d.sort((x,E)=>_(x.x,x.y)-_(E.x,E.y)),d}var xRt=(e,t,n,r=!0)=>{const i=Math.pow(2,n),a=i-1,o=i;let s=e;const l=t;return r&&(s<0?s=s+o:s>a&&(s=s%o)),{warpX:s,warpY:l}},SRt=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),ARt=class extends Xu.EventEmitter{constructor(e){super(),this.tileSize=256,this.isVisible=!1,this.isCurrent=!1,this.isVisibleChange=!1,this.loadedLayers=0,this.isLayerLoaded=!1,this.isLoad=!1,this.isChildLoad=!1,this.parent=null,this.children=[],this.data=null,this.properties={},this.loadDataId=0;const{x:t,y:n,z:r,tileSize:i,warp:a=!0}=e;this.x=t,this.y=n,this.z=r,this.warp=a||!0,this.tileSize=i}get isLoading(){return this.loadStatus===dc.Loading}get isLoaded(){return this.loadStatus===dc.Loaded}get isFailure(){return this.loadStatus===dc.Failure}setTileLayerLoaded(){this.isLayerLoaded=!0}get isCancelled(){return this.loadStatus===dc.Cancelled}get isDone(){return[dc.Loaded,dc.Cancelled,dc.Failure].includes(this.loadStatus)}get bounds(){return C2e(this.x,this.y,this.z)}get bboxPolygon(){const[e,t,n,r]=this.bounds,i=[(n-e)/2,(r-t)/2];return fRt(this.bounds,{properties:{key:this.key,id:this.key,bbox:this.bounds,center:i,meta:`
      ${this.key}
      `}})}get key(){return`${this.x}_${this.y}_${this.z}`}layerLoad(){this.loadedLayers++,this.emit("layerLoaded")}loadData(e){return SRt(this,arguments,function*({getData:t,onLoad:n,onError:r}){this.loadDataId++;const i=this.loadDataId;this.isLoading&&this.abortLoad(),this.abortController=new AbortController,this.loadStatus=dc.Loading;let a=null,o;try{const{x:s,y:l,z:u,bounds:c,tileSize:f,warp:d}=this,{warpX:h,warpY:p}=xRt(s,l,u,d),{signal:v}=this.abortController;a=yield t({x:h,y:p,z:u,bounds:c,tileSize:f,signal:v,warp:d},this)}catch(s){o=s}if(i===this.loadDataId&&!(this.isCancelled&&!a)){if(o||!a){this.loadStatus=dc.Failure,r(o,this);return}this.loadStatus=dc.Loaded,this.data=a,n(this)}})}reloadData(e){this.isLoading&&this.abortLoad(),this.loadData(e)}abortLoad(){this.isLoaded||this.isCancelled||(this.loadStatus=dc.Cancelled,this.abortController.abort(),this.xhrCancel&&this.xhrCancel())}},ERt=(e,t)=>{const n=MO(e),r=Ej(n,t),i=360*3-180,a=85.0511287798065;return[Math.max(r[0][0],-i),Math.max(r[0][1],-a),Math.min(r[1][0],i),Math.min(r[1][1],a)]},TRt=(e,t)=>{const n=MO(e),r=MO(t);return b2e(n,r)},wRt=Object.defineProperty,CRt=Object.defineProperties,RRt=Object.getOwnPropertyDescriptors,Vle=Object.getOwnPropertySymbols,IRt=Object.prototype.hasOwnProperty,MRt=Object.prototype.propertyIsEnumerable,zle=(e,t,n)=>t in e?wRt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$le=(e,t)=>{for(var n in t||(t={}))IRt.call(t,n)&&zle(e,n,t[n]);if(Vle)for(var n of Vle(t))MRt.call(t,n)&&zle(e,n,t[n]);return e},ORt=(e,t)=>CRt(e,RRt(t)),{throttle:DRt}=Oo,PRt=class extends Tj{constructor(e){super(),this.currentTiles=[],this.cacheTiles=new Map,this.throttleUpdate=DRt((t,n)=>{this.update(t,n)},16),this.onTileLoad=t=>{this.emit("tile-loaded",t),this.updateTileVisible(),this.loadFinished()},this.onTileError=(t,n)=>{this.emit("tile-error",{error:t,tile:n}),this.updateTileVisible(),this.loadFinished()},this.onTileUnload=t=>{this.emit("tile-unload",t),this.loadFinished()},this.options={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,extent:w2e,getTileData:_Rt,warp:!0,updateStrategy:c2.Replace},this.updateOptions(e)}get isLoaded(){return this.currentTiles.every(e=>e.isDone)}get tiles(){return Array.from(this.cacheTiles.values()).sort((t,n)=>t.z-n.z)}updateOptions(e){const t=e.minZoom===void 0?this.options.minZoom:Math.ceil(e.minZoom),n=e.maxZoom===void 0?this.options.maxZoom:Math.floor(e.maxZoom);this.options=ORt($le($le({},this.options),e),{minZoom:t,maxZoom:n})}update(e,t){const n=Math.max(0,Math.ceil(e));if(this.lastViewStates&&this.lastViewStates.zoom===n&&TRt(this.lastViewStates.latLonBoundsBuffer,t))return;const r=ERt(t,gRt);this.lastViewStates={zoom:n,latLonBounds:t,latLonBoundsBuffer:r},this.currentZoom=n;let i=!1;const a=this.getTileIndices(n,r).filter(o=>this.options.warp||o.x>=0&&o.x<Math.pow(2,n));this.emit("tiles-load-start"),this.currentTiles=a.map(({x:o,y:s,z:l})=>{let u=this.getTile(o,s,l);return u?(((u==null?void 0:u.isFailure)||(u==null?void 0:u.isCancelled))&&u.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),u):(u=this.createTile(o,s,l),i=!0,u)}),i&&this.resizeCacheTiles(),this.updateTileVisible(),this.pruneRequests()}reloadAll(){for(const[e,t]of this.cacheTiles){if(!this.currentTiles.includes(t)){this.cacheTiles.delete(e),this.onTileUnload(t);return}this.onTileUnload(t),t.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError})}}reloadTileById(e,t,n){const r=this.cacheTiles.get(`${t},${n},${e}`);r&&(this.onTileUnload(r),r.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}))}reloadTileByLnglat(e,t,n){const r=this.getTileByLngLat(e,t,n);r&&this.reloadTileById(r.z,r.x,r.y)}reloadTileByExtent(e,t){this.getTileIndices(t,e).forEach(r=>{this.reloadTileById(r.z,r.x,r.y)})}pruneRequests(){const e=[];for(const t of this.cacheTiles.values())t.isLoading&&!t.isCurrent&&!t.isVisible&&e.push(t);for(;e.length>0;)e.shift().abortLoad()}getTileByLngLat(e,t,n){const{zoomOffset:r}=this.options,i=Math.ceil(n)+r,a=K9(e,t,i);return this.tiles.filter(s=>s.key===`${a[0]}_${a[1]}_${i}`)[0]}getTileExtent(e,t){return this.getTileIndices(t,e)}getTileByZXY(e,t,n){return this.tiles.filter(i=>i.key===`${t}_${n}_${e}`)[0]}clear(){for(const e of this.cacheTiles.values())e.isLoading?e.abortLoad():this.onTileUnload(e);this.lastViewStates=void 0,this.cacheTiles.clear(),this.currentTiles=[]}destroy(){this.clear(),this.removeAllListeners()}updateTileVisible(){const e=this.options.updateStrategy,t=new Map;for(const i of this.cacheTiles.values())t.set(i.key,i.isVisible),i.isCurrent=!1,i.isVisible=!1;for(const i of this.currentTiles)i.isCurrent=!0,i.isVisible=!0;const n=Array.from(this.cacheTiles.values());typeof e=="function"?e(n):yRt[e](n);let r=!1;Array.from(this.cacheTiles.values()).forEach(i=>{i.isVisible!==t.get(i.key)?(i.isVisibleChange=!0,r=!0):i.isVisibleChange=!1}),r&&this.emit("tile-update")}getTileIndices(e,t){const{tileSize:n,extent:r,zoomOffset:i}=this.options,a=Math.floor(this.options.maxZoom),o=Math.ceil(this.options.minZoom);return bRt({maxZoom:a,minZoom:o,zoomOffset:i,tileSize:n,zoom:e,latLonBounds:t,extent:r})}getTileId(e,t,n){return`${e},${t},${n}`}loadFinished(){const e=!this.currentTiles.some(t=>!t.isDone);return e&&this.emit("tiles-load-finished"),e}getTile(e,t,n){const r=this.getTileId(e,t,n);return this.cacheTiles.get(r)}createTile(e,t,n){const r=this.getTileId(e,t,n),i=new ARt({x:e,y:t,z:n,tileSize:this.options.tileSize,warp:this.options.warp});return this.cacheTiles.set(r,i),i.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),i}resizeCacheTiles(){const e=mRt*this.currentTiles.length;if(this.cacheTiles.size>e){for(const[n,r]of this.cacheTiles)if(!r.isVisible&&!this.currentTiles.includes(r)&&(this.cacheTiles.delete(n),this.onTileUnload(r)),this.cacheTiles.size<=e)break}this.rebuildTileTree()}rebuildTileTree(){for(const e of this.cacheTiles.values())e.parent=null,e.children.length=0;for(const e of this.cacheTiles.values()){const t=this.getNearestAncestor(e.x,e.y,e.z);e.parent=t,t!=null&&t.children&&t.children.push(e)}}getNearestAncestor(e,t,n){for(;n>this.options.minZoom;){e=Math.floor(e/2),t=Math.floor(t/2),n=n-1;const r=this.getTile(e,t,n);if(r)return r}return null}};function R2e(e){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(e);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let a;for(a=r;a<=i;++a)t.push(e.replace(n[0],String.fromCharCode(a)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)t.push(e.replace(n[0],i.toString()));return t}return t.push(e),t}function db(e,t){if(!e||!e.length)throw new Error("url is not allowed to be empty");const{x:n,y:r,z:i}=t,a=R2e(e),o=Math.abs(n+r)%a.length;return(aj(a[o])?`${a[o]}/{z}/{x}/{y}`:a[o]).replace(/\{x\}/g,n.toString()).replace(/\{y\}/g,r.toString()).replace(/\{z\}/g,i.toString()).replace(/\{bbox\}/g,C2e(n,r,i).join(",")).replace(/\{-y\}/g,(Math.pow(2,i)-r-1).toString())}function LRt(e,t){const{x:n,y:r,z:i,layer:a,version:o="1.0.0",style:s="default",format:l,service:u="WMTS",tileMatrixset:c}=t,f=R2e(e),d=Math.abs(n+r)%f.length;return`${f[d]}&SERVICE=${u}&REQUEST=GetTile&VERSION=${o}&LAYER=${a}&STYLE=${s}&TILEMATRIXSET=${c}&FORMAT=${l}&TILECOL=${n}&TILEROW=${r}&TILEMATRIX=${i}`}function MA(e,t){return e??t}var M8,Hle;function NRt(){if(Hle)return M8;Hle=1,M8=e;function e(r,i){var a=r&&r.type,o;if(a==="FeatureCollection")for(o=0;o<r.features.length;o++)e(r.features[o],i);else if(a==="GeometryCollection")for(o=0;o<r.geometries.length;o++)e(r.geometries[o],i);else if(a==="Feature")e(r.geometry,i);else if(a==="Polygon")t(r.coordinates,i);else if(a==="MultiPolygon")for(o=0;o<r.coordinates.length;o++)t(r.coordinates[o],i);return r}function t(r,i){if(r.length!==0){n(r[0],i);for(var a=1;a<r.length;a++)n(r[a],!i)}}function n(r,i){for(var a=0,o=0,s=0,l=r.length,u=l-1;s<l;u=s++){var c=(r[s][0]-r[u][0])*(r[u][1]+r[s][1]),f=a+c;o+=Math.abs(a)>=Math.abs(c)?a-f+c:c-f+a,a=f}a+o>=0!=!!i&&r.reverse()}return M8}var BRt=NRt();const kRt=ni(BRt);function FRt(e,t){return e.map(n=>n[t]*1)}function I2e(e){return Array.isArray(e)?e.length===0||typeof e[0]=="number":!1}function q9(e){const t=Object.isFrozen(e)?Oo.cloneDeep(e):e;return kRt(t,!0),t}function Xx(e,t){return e||[[t[0],t[3]],[t[2],t[3]],[t[2],t[1]],[t[0],t[1]]]}var URt=Object.defineProperty,VRt=Object.defineProperties,zRt=Object.getOwnPropertyDescriptors,Wle=Object.getOwnPropertySymbols,$Rt=Object.prototype.hasOwnProperty,HRt=Object.prototype.propertyIsEnumerable,Gle=(e,t,n)=>t in e?URt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jle=(e,t)=>{for(var n in t||(t={}))$Rt.call(t,n)&&Gle(e,n,t[n]);if(Wle)for(var n of Wle(t))HRt.call(t,n)&&Gle(e,n,t[n]);return e},Yle=(e,t)=>VRt(e,zRt(t));function M2e(e,t){const{x:n,y:r,x1:i,y1:a,coordinates:o,geometry:s}=t,l=[];if(!Array.isArray(e))return{dataArray:[]};if(s)return e.filter(u=>u[s]&&u[s].type&&u[s].coordinates&&u[s].coordinates.length>0).forEach((u,c)=>{const f=q9(u[s]);CEe(f,d=>{const h=TEe(d),p=Yle(jle({},u),{_id:c,coordinates:h});l.push(p)})}),{dataArray:l};for(let u=0;u<e.length;u++){const c=e[u];let f=[];if(o){let h="Polygon";Array.isArray(o[0])||(h="Point"),Array.isArray(o[0])&&!Array.isArray(o[0][0])&&(h="LineString"),f=q9({type:h,coordinates:c[o]}).coordinates}else if(n&&r&&i&&a){const h=[parseFloat(c[n]),parseFloat(c[r])],p=[parseFloat(c[i]),parseFloat(c[a])];f=[h,p]}else n&&r&&(f=[parseFloat(c[n]),parseFloat(c[r])]);const d=Yle(jle({},c),{_id:u,coordinates:f});l.push(d)}return{dataArray:l}}function WRt(e,t){const n=QEt(e);return M2e(n,t)}var GRt=Object.defineProperty,jRt=Object.defineProperties,YRt=Object.getOwnPropertyDescriptors,Xle=Object.getOwnPropertySymbols,XRt=Object.prototype.hasOwnProperty,KRt=Object.prototype.propertyIsEnumerable,Kle=(e,t,n)=>t in e?GRt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qRt=(e,t)=>{for(var n in t||(t={}))XRt.call(t,n)&&Kle(e,n,t[n]);if(Xle)for(var n of Xle(t))KRt.call(t,n)&&Kle(e,n,t[n]);return e},ZRt=(e,t)=>jRt(e,YRt(t));function QRt(e){const t=e.toString();let n=5381,r=t.length;for(;r;)n=n*33^t.charCodeAt(--r);return n>>>0}function JRt(e,t){return t===void 0?null:typeof(e.properties[t]*1)=="number"?e.properties[t]*1:e.properties&&e.properties[t]?QRt(e.properties[t]+"")%1000019:null}function eIt(e,t){const n=[],r={};return e.features?(e.features=e.features.filter(i=>{const a=i.geometry;return i!=null&&a&&a.type&&a.coordinates&&a.coordinates.length>0}),e=q9(e),e.features.length===0?{dataArray:[],featureKeys:r}:(CEe(e,(i,a)=>{let o=JRt(i,t==null?void 0:t.featureId);o===null&&(o=a);const s=o,l=TEe(i),u=ZRt(qRt({},i.properties),{coordinates:l,_id:s});n.push(u)}),{dataArray:n,featureKeys:r})):(e.features=[],{dataArray:[]})}function Z9(e,t,n,r){for(var i=r,a=n-t>>1,o=n-t,s,l=e[t],u=e[t+1],c=e[n],f=e[n+1],d=t+3;d<n;d+=3){var h=tIt(e[d],e[d+1],l,u,c,f);if(h>i)s=d,i=h;else if(h===i){var p=Math.abs(d-a);p<o&&(s=d,o=p)}}i>r&&(s-t>3&&Z9(e,t,s,r),e[s+2]=i,n-s>3&&Z9(e,s,n,r))}function tIt(e,t,n,r,i,a){var o=i-n,s=a-r;if(o!==0||s!==0){var l=((e-n)*o+(t-r)*s)/(o*o+s*s);l>1?(n=i,r=a):l>0&&(n+=o*l,r+=s*l)}return o=e-n,s=t-r,o*o+s*s}function ET(e,t,n,r){var i={id:typeof e>"u"?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return nIt(i),i}function nIt(e){var t=e.geometry,n=e.type;if(n==="Point"||n==="MultiPoint"||n==="LineString")O8(e,t);else if(n==="Polygon"||n==="MultiLineString")for(var r=0;r<t.length;r++)O8(e,t[r]);else if(n==="MultiPolygon")for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)O8(e,t[r][i])}function O8(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function rIt(e,t){var n=[];if(e.type==="FeatureCollection")for(var r=0;r<e.features.length;r++)H3(n,e.features[r],t,r);else e.type==="Feature"?H3(n,e,t):H3(n,{geometry:e},t);return n}function H3(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),a==="Point")qle(i,s);else if(a==="MultiPoint")for(var u=0;u<i.length;u++)qle(i[u],s);else if(a==="LineString")Q9(i,s,o,!1);else if(a==="MultiLineString")if(n.lineMetrics){for(u=0;u<i.length;u++)s=[],Q9(i[u],s,o,!1),e.push(ET(l,"LineString",s,t.properties));return}else D8(i,s,o,!1);else if(a==="Polygon")D8(i,s,o,!0);else if(a==="MultiPolygon")for(u=0;u<i.length;u++){var c=[];D8(i[u],c,o,!0),s.push(c)}else if(a==="GeometryCollection"){for(u=0;u<t.geometry.geometries.length;u++)H3(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},n,r);return}else throw new Error("Input data is not a valid GeoJSON object.");e.push(ET(l,a,s,t.properties))}}function qle(e,t){t.push(O2e(e[0])),t.push(D2e(e[1])),t.push(0)}function Q9(e,t,n,r){for(var i,a,o=0,s=0;s<e.length;s++){var l=O2e(e[s][0]),u=D2e(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(r?o+=(i*u-l*a)/2:o+=Math.sqrt(Math.pow(l-i,2)+Math.pow(u-a,2))),i=l,a=u}var c=t.length-3;t[2]=1,Z9(t,0,c,n),t[c+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function D8(e,t,n,r){for(var i=0;i<e.length;i++){var a=[];Q9(e[i],a,n,r),t.push(a)}}function O2e(e){return e/360+.5}function D2e(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ap(e,t,n,r,i,a,o,s){if(n/=t,r/=t,a>=n&&o<r)return e;if(o<n||a>=r)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],f=c.geometry,d=c.type,h=i===0?c.minX:c.minY,p=i===0?c.maxX:c.maxY;if(h>=n&&p<r){l.push(c);continue}else if(p<n||h>=r)continue;var v=[];if(d==="Point"||d==="MultiPoint")iIt(f,v,n,r,i);else if(d==="LineString")P2e(f,v,n,r,i,!1,s.lineMetrics);else if(d==="MultiLineString")P8(f,v,n,r,i,!1);else if(d==="Polygon")P8(f,v,n,r,i,!0);else if(d==="MultiPolygon")for(var g=0;g<f.length;g++){var m=[];P8(f[g],m,n,r,i,!0),m.length&&v.push(m)}if(v.length){if(s.lineMetrics&&d==="LineString"){for(g=0;g<v.length;g++)l.push(ET(c.id,d,v[g],c.tags));continue}(d==="LineString"||d==="MultiLineString")&&(v.length===1?(d="LineString",v=v[0]):d="MultiLineString"),(d==="Point"||d==="MultiPoint")&&(d=v.length===3?"Point":"MultiPoint"),l.push(ET(c.id,d,v,c.tags))}}return l.length?l:null}function iIt(e,t,n,r,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=n&&o<=r&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function P2e(e,t,n,r,i,a,o){for(var s=Zle(e),l=i===0?aIt:oIt,u=e.start,c,f,d=0;d<e.length-3;d+=3){var h=e[d],p=e[d+1],v=e[d+2],g=e[d+3],m=e[d+4],b=i===0?h:p,_=i===0?g:m,x=!1;o&&(c=Math.sqrt(Math.pow(h-g,2)+Math.pow(p-m,2))),b<n?_>n&&(f=l(s,h,p,g,m,n),o&&(s.start=u+c*f)):b>r?_<r&&(f=l(s,h,p,g,m,r),o&&(s.start=u+c*f)):L8(s,h,p,v),_<n&&b>=n&&(f=l(s,h,p,g,m,n),x=!0),_>r&&b<=r&&(f=l(s,h,p,g,m,r),x=!0),!a&&x&&(o&&(s.end=u+c*f),t.push(s),s=Zle(e)),o&&(u+=c)}var E=e.length-3;h=e[E],p=e[E+1],v=e[E+2],b=i===0?h:p,b>=n&&b<=r&&L8(s,h,p,v),E=s.length-3,a&&E>=3&&(s[E]!==s[0]||s[E+1]!==s[1])&&L8(s,s[0],s[1],s[2]),s.length&&t.push(s)}function Zle(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function P8(e,t,n,r,i,a){for(var o=0;o<e.length;o++)P2e(e[o],t,n,r,i,a,!1)}function L8(e,t,n,r){e.push(t),e.push(n),e.push(r)}function aIt(e,t,n,r,i,a){var o=(a-t)/(r-t);return e.push(a),e.push(n+(i-n)*o),e.push(1),o}function oIt(e,t,n,r,i,a){var o=(a-n)/(i-n);return e.push(t+(r-t)*o),e.push(a),e.push(1),o}function sIt(e,t){var n=t.buffer/t.extent,r=e,i=ap(e,1,-1-n,n,0,-1,2,t),a=ap(e,1,1-n,2+n,0,-1,2,t);return(i||a)&&(r=ap(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=Qle(i,1).concat(r)),a&&(r=r.concat(Qle(a,-1)))),r}function Qle(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=i.type,o;if(a==="Point"||a==="MultiPoint"||a==="LineString")o=N8(i.geometry,t);else if(a==="MultiLineString"||a==="Polygon"){o=[];for(var s=0;s<i.geometry.length;s++)o.push(N8(i.geometry[s],t))}else if(a==="MultiPolygon")for(o=[],s=0;s<i.geometry.length;s++){for(var l=[],u=0;u<i.geometry[s].length;u++)l.push(N8(i.geometry[s][u],t));o.push(l)}n.push(ET(i.id,a,o,i.tags))}return n}function N8(e,t){var n=[];n.size=e.size,e.start!==void 0&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function Jle(e,t){if(e.transformed)return e;var n=1<<e.z,r=e.x,i=e.y,a,o,s;for(a=0;a<e.features.length;a++){var l=e.features[a],u=l.geometry,c=l.type;if(l.geometry=[],c===1)for(o=0;o<u.length;o+=2)l.geometry.push(eue(u[o],u[o+1],t,n,r,i));else for(o=0;o<u.length;o++){var f=[];for(s=0;s<u[o].length;s+=2)f.push(eue(u[o][s],u[o][s+1],t,n,r,i));l.geometry.push(f)}}return e.transformed=!0,e}function eue(e,t,n,r,i,a){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-a))]}function lIt(e,t,n,r,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,uIt(o,e[s],a,i);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,f=e[s].maxY;l<o.minX&&(o.minX=l),u<o.minY&&(o.minY=u),c>o.maxX&&(o.maxX=c),f>o.maxY&&(o.maxY=f)}return o}function uIt(e,t,n,r){var i=t.geometry,a=t.type,o=[];if(a==="Point"||a==="MultiPoint")for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if(a==="LineString")B8(o,i,e,n,!1,!1);else if(a==="MultiLineString"||a==="Polygon")for(s=0;s<i.length;s++)B8(o,i[s],e,n,a==="Polygon",s===0);else if(a==="MultiPolygon")for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)B8(o,u[s],e,n,!0,s===0)}if(o.length){var c=t.tags||null;if(a==="LineString"&&r.lineMetrics){c={};for(var f in t.tags)c[f]=t.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var d={geometry:o,type:a==="Polygon"||a==="MultiPolygon"?3:a==="LineString"||a==="MultiLineString"?2:1,tags:c};t.id!==null&&(d.id=t.id),e.features.push(d)}}function B8(e,t,n,r,i,a){var o=r*r;if(r>0&&t.size<(i?o:r)){n.numPoints+=t.length/3;return}for(var s=[],l=0;l<t.length;l+=3)(r===0||t[l+2]>o)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;i&&cIt(s,a),e.push(s)}function cIt(e,t){for(var n=0,r=0,i=e.length,a=i-2;r<i;a=r,r+=2)n+=(e[r]-e[a])*(e[r+1]+e[a+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=o,e[i-1-r]=s}}function fIt(e,t){return new iL(e,t)}function iL(e,t){t=this.options=dIt(Object.create(this.options),t);var n=t.debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=rIt(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=sIt(r,t),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}iL.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};iL.prototype.splitTile=function(e,t,n,r,i,a,o){for(var s=[e,t,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,f=J9(t,n,r),d=this.tiles[f];if(!d&&(u>1&&console.time("creation"),d=this.tiles[f]=lIt(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(d.source=e,i){if(t===l.maxZoom||t===i)continue;var p=1<<i-t;if(n!==Math.floor(a/p)||r!==Math.floor(o/p))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,e.length!==0){u>1&&console.time("clipping");var v=.5*l.buffer/l.extent,g=.5-v,m=.5+v,b=1+v,_,x,E,A,T,R;_=x=E=A=null,T=ap(e,c,n-v,n+m,0,d.minX,d.maxX,l),R=ap(e,c,n+g,n+b,0,d.minX,d.maxX,l),e=null,T&&(_=ap(T,c,r-v,r+m,1,d.minY,d.maxY,l),x=ap(T,c,r+g,r+b,1,d.minY,d.maxY,l),T=null),R&&(E=ap(R,c,r-v,r+m,1,d.minY,d.maxY,l),A=ap(R,c,r+g,r+b,1,d.minY,d.maxY,l),R=null),u>1&&console.timeEnd("clipping"),s.push(_||[],t+1,n*2,r*2),s.push(x||[],t+1,n*2,r*2+1),s.push(E||[],t+1,n*2+1,r*2),s.push(A||[],t+1,n*2+1,r*2+1)}}};iL.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,a=r.debug;if(e<0||e>24)return null;var o=1<<e;t=(t%o+o)%o;var s=J9(e,t,n);if(this.tiles[s])return Jle(this.tiles[s],i);a>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l=e,u=t,c=n,f;!f&&l>0;)l--,u=Math.floor(u/2),c=Math.floor(c/2),f=this.tiles[J9(l,u,c)];return!f||!f.source?null:(a>1&&console.log("found parent tile z%d-%d-%d",l,u,c),a>1&&console.time("drilling down"),this.splitTile(f.source,l,u,c,e,t,n),a>1&&console.timeEnd("drilling down"),this.tiles[s]?Jle(this.tiles[s],i):null)};function J9(e,t,n){return((1<<e)*n+t)*32+e}function dIt(e,t){for(var n in t)e[n]=t[n];return e}var xE=class{constructor(t,n,r,i){this.vectorLayerCache={},this.x=n,this.y=r,this.z=i,this.vectorTile=t}getTileData(t){return!t||!this.vectorTile.layers[t]?[]:this.vectorLayerCache[t]?this.vectorLayerCache[t]:this.vectorTile.layers[t].features}getFeatureById(){throw new Error("Method not implemented.")}},hIt=Object.defineProperty,pIt=Object.defineProperties,vIt=Object.getOwnPropertyDescriptors,tue=Object.getOwnPropertySymbols,gIt=Object.prototype.hasOwnProperty,mIt=Object.prototype.propertyIsEnumerable,nue=(e,t,n)=>t in e?hIt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OO=(e,t)=>{for(var n in t||(t={}))gIt.call(t,n)&&nue(e,n,t[n]);if(tue)for(var n of tue(t))mIt.call(t,n)&&nue(e,n,t[n]);return e},yIt=(e,t)=>pIt(e,vIt(t)),_It=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),bIt={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0};function xIt(e){let t=0;for(let n=0,r=e.length,i=r-1,a,o;n<r;i=n++)a=e[n],o=e[i],t+=(o.x-a.x)*(a.y+o.y);return t}function SIt(e){const t=e.length;if(t<=1)return[e];const n=[];let r,i;for(let a=0;a<t;a++){const o=xIt(e[a]);o!==0&&(i===void 0&&(i=o<0),i===o<0?(r&&n.push(r),r=[e[a]]):r.push(e[a]))}return r&&n.push(r),n}var AIt=["Unknown","Point","LineString","Polygon"];function EIt(e,t,n,r,i){let a=i.geometry;const o=i.type,s=i.tags,l=i.id,u=e*Math.pow(2,r),c=e*t,f=e*n;let d=AIt[o],h,p;function v(m){for(let b=0;b<m.length;b++){const _=m[b];if(_[3])break;const x=180-(_[1]+f)*360/u,E=(_[0]+c)*360/u-180,A=360/Math.PI*Math.atan(Math.exp(x*Math.PI/180))-90;m[b]=[E,A,0,1]}}switch(o){case 1:const m=[];for(h=0;h<a.length;h++)m[h]=a[h][0];a=m,v(a);break;case 2:for(h=0;h<a.length;h++)v(a[h]);break;case 3:for(a=SIt(a),h=0;h<a.length;h++)for(p=0;p<a[h].length;p++)v(a[h][p]);break}return a.length===1?a=a[0]:d="Multi"+d,{type:"Feature",geometry:{type:d,coordinates:a},properties:s,id:l,tileOrigin:[0,0],coord:""}}var TIt=(e,t,n,r)=>_It(void 0,null,function*(){return new Promise(i=>{const a=t.getTile(e.z,e.x,e.y),s={layers:{defaultLayer:{features:a?a.features.map(u=>EIt(r,n.x,n.y,n.z,u)):[]}}},l=new xE(s,e.x,e.y,e.z);i(l)})});function wIt(e){const t={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!0,debug:0};return e===void 0||typeof e.geojsonvtOptions>"u"?t:OO(OO({},t),e.geojsonvtOptions)}function CIt(e,t){const n=wIt(t),r=n.extent||4096,i=fIt(e,n),a=(s,l)=>TIt(l,i,s,r),o=yIt(OO(OO({},bIt),t),{getTileData:a});return{data:e,dataArray:[],tilesetOptions:o,isTile:!0}}var RIt=Object.defineProperty,IIt=Object.defineProperties,MIt=Object.getOwnPropertyDescriptors,rue=Object.getOwnPropertySymbols,OIt=Object.prototype.hasOwnProperty,DIt=Object.prototype.propertyIsEnumerable,iue=(e,t,n)=>t in e?RIt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aue=(e,t)=>{for(var n in t||(t={}))OIt.call(t,n)&&iue(e,n,t[n]);if(rue)for(var n of rue(t))DIt.call(t,n)&&iue(e,n,t[n]);return e},oue=(e,t)=>IIt(e,MIt(t));function L2e(e,t){const{extent:n=[121.168,30.2828,121.384,30.4219],coordinates:r,requestParameters:i={}}=t,a=new Promise(l=>{e instanceof HTMLImageElement||KCt(e)?l([e]):PIt(e,i,u=>{l(u)})}),o=Xx(r,n);return{originData:e,images:a,_id:1,dataArray:[{_id:0,coordinates:o}]}}function PIt(e,t,n){const r=[];if(typeof e=="string")G9(oue(aue({},t),{url:e}),(i,a)=>{a&&(r.push(a),n(r))});else{const i=e.length;let a=0;e.forEach(o=>{G9(oue(aue({},t),{url:o}),(s,l)=>{a++,l&&r.push(l),a===i&&n(r)})})}return L2e}var LIt=Object.defineProperty,NIt=Object.defineProperties,BIt=Object.getOwnPropertyDescriptors,sue=Object.getOwnPropertySymbols,kIt=Object.prototype.hasOwnProperty,FIt=Object.prototype.propertyIsEnumerable,lue=(e,t,n)=>t in e?LIt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,N2e=(e,t)=>{for(var n in t||(t={}))kIt.call(t,n)&&lue(e,n,t[n]);if(sue)for(var n of sue(t))FIt.call(t,n)&&lue(e,n,t[n]);return e},B2e=(e,t)=>NIt(e,BIt(t)),UIt=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),VIt=(e,t,n,r)=>UIt(void 0,null,function*(){const i={x:t.x,y:t.y,z:t.z},a=db(e,i);return new Promise(o=>{r?r(i,(s,l)=>{if(s||!l){const u={layers:{defaultLayer:{features:[]}}},c=new xE(u,t.x,t.y,t.z);o(c)}else{const u={layers:{defaultLayer:{features:l.features}}},c=new xE(u,t.x,t.y,t.z);o(c)}}):f2t(B2e(N2e({},n),{url:a}),(s,l)=>{if(s||!l){const u={layers:{defaultLayer:{features:[]}}},c=new xE(u,t.x,t.y,t.z);o(c)}else{const c={layers:{defaultLayer:{features:JSON.parse(l)}}},f=new xE(c,t.x,t.y,t.z);o(f)}})})});function zIt(e,t){const n=(i,a)=>VIt(e,a,t==null?void 0:t.requestParameters,t.getCustomData),r=B2e(N2e({},t),{getTileData:n});return{dataArray:[],tilesetOptions:r,isTile:!0}}var OA={},k8,uue;function $It(){if(uue)return k8;uue=1,k8=e;function e(t,n){this.x=t,this.y=n}return e.prototype={clone:function(){return new e(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,n){return this.clone()._rotateAround(t,n)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var n=t.x-this.x,r=t.y-this.y;return n*n+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,n){return Math.atan2(this.x*n-this.y*t,this.x*t+this.y*n)},_matMult:function(t){var n=t[0]*this.x+t[1]*this.y,r=t[2]*this.x+t[3]*this.y;return this.x=n,this.y=r,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var n=Math.cos(t),r=Math.sin(t),i=n*this.x-r*this.y,a=r*this.x+n*this.y;return this.x=i,this.y=a,this},_rotateAround:function(t,n){var r=Math.cos(t),i=Math.sin(t),a=n.x+r*(this.x-n.x)-i*(this.y-n.y),o=n.y+i*(this.x-n.x)+r*(this.y-n.y);return this.x=a,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(t){return t instanceof e?t:Array.isArray(t)?new e(t[0],t[1]):t},k8}var F8,cue;function k2e(){if(cue)return F8;cue=1;var e=$It();F8=t;function t(o,s,l,u,c){this.properties={},this.extent=l,this.type=0,this._pbf=o,this._geometry=-1,this._keys=u,this._values=c,o.readFields(n,this,s)}function n(o,s,l){o==1?s.id=l.readVarint():o==2?r(l,s):o==3?s.type=l.readVarint():o==4&&(s._geometry=l.pos)}function r(o,s){for(var l=o.readVarint()+o.pos;o.pos<l;){var u=s._keys[o.readVarint()],c=s._values[o.readVarint()];s.properties[u]=c}}t.types=["Unknown","Point","LineString","Polygon"],t.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var s=o.readVarint()+o.pos,l=1,u=0,c=0,f=0,d=[],h;o.pos<s;){if(u<=0){var p=o.readVarint();l=p&7,u=p>>3}if(u--,l===1||l===2)c+=o.readSVarint(),f+=o.readSVarint(),l===1&&(h&&d.push(h),h=[]),h.push(new e(c,f));else if(l===7)h&&h.push(h[0].clone());else throw new Error("unknown command "+l)}return h&&d.push(h),d},t.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var s=o.readVarint()+o.pos,l=1,u=0,c=0,f=0,d=1/0,h=-1/0,p=1/0,v=-1/0;o.pos<s;){if(u<=0){var g=o.readVarint();l=g&7,u=g>>3}if(u--,l===1||l===2)c+=o.readSVarint(),f+=o.readSVarint(),c<d&&(d=c),c>h&&(h=c),f<p&&(p=f),f>v&&(v=f);else if(l!==7)throw new Error("unknown command "+l)}return[d,p,h,v]},t.prototype.toGeoJSON=function(o,s,l){var u=this.extent*Math.pow(2,l),c=this.extent*o,f=this.extent*s,d=this.loadGeometry(),h=t.types[this.type],p,v;function g(_){for(var x=0;x<_.length;x++){var E=_[x],A=180-(E.y+f)*360/u;_[x]=[(E.x+c)*360/u-180,360/Math.PI*Math.atan(Math.exp(A*Math.PI/180))-90]}}switch(this.type){case 1:var m=[];for(p=0;p<d.length;p++)m[p]=d[p][0];d=m,g(d);break;case 2:for(p=0;p<d.length;p++)g(d[p]);break;case 3:for(d=i(d),p=0;p<d.length;p++)for(v=0;v<d[p].length;v++)g(d[p][v]);break}d.length===1?d=d[0]:h="Multi"+h;var b={type:"Feature",geometry:{type:h,coordinates:d},properties:this.properties};return"id"in this&&(b.id=this.id),b};function i(o){var s=o.length;if(s<=1)return[o];for(var l=[],u,c,f=0;f<s;f++){var d=a(o[f]);d!==0&&(c===void 0&&(c=d<0),c===d<0?(u&&l.push(u),u=[o[f]]):u.push(o[f]))}return u&&l.push(u),l}function a(o){for(var s=0,l=0,u=o.length,c=u-1,f,d;l<u;c=l++)f=o[l],d=o[c],s+=(d.x-f.x)*(f.y+d.y);return s}return F8}var U8,fue;function F2e(){if(fue)return U8;fue=1;var e=k2e();U8=t;function t(i,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=i,this._keys=[],this._values=[],this._features=[],i.readFields(n,this,a),this.length=this._features.length}function n(i,a,o){i===15?a.version=o.readVarint():i===1?a.name=o.readString():i===5?a.extent=o.readVarint():i===2?a._features.push(o.pos):i===3?a._keys.push(o.readString()):i===4&&a._values.push(r(o))}function r(i){for(var a=null,o=i.readVarint()+i.pos;i.pos<o;){var s=i.readVarint()>>3;a=s===1?i.readString():s===2?i.readFloat():s===3?i.readDouble():s===4?i.readVarint64():s===5?i.readVarint():s===6?i.readSVarint():s===7?i.readBoolean():null}return a}return t.prototype.feature=function(i){if(i<0||i>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[i];var a=this._pbf.readVarint()+this._pbf.pos;return new e(this._pbf,a,this.extent,this._keys,this._values)},U8}var V8,due;function HIt(){if(due)return V8;due=1;var e=F2e();V8=t;function t(r,i){this.layers=r.readFields(n,{},i)}function n(r,i,a){if(r===3){var o=new e(a,a.readVarint()+a.pos);o.length&&(i[o.name]=o)}}return V8}var hue;function WIt(){return hue||(hue=1,OA.VectorTile=HIt(),OA.VectorTileFeature=k2e(),OA.VectorTileLayer=F2e()),OA}var GIt=WIt(),bI={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var pue;function jIt(){return pue||(pue=1,bI.read=function(e,t,n,r,i){var a,o,s=i*8-r-1,l=(1<<s)-1,u=l>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=a*256+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=o*256+e[t+f],f+=d,c-=8);if(a===0)a=1-u;else{if(a===l)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-u}return(h?-1:1)*o*Math.pow(2,a-r)},bI.write=function(e,t,n,r,i,a){var o,s,l,u=a*8-i-1,c=(1<<u)-1,f=c>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,p=r?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?t+=d/l:t+=d*Math.pow(2,1-f),t*l>=2&&(o++,l/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*l-1)*Math.pow(2,i),o=o+f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+h]=s&255,h+=p,s/=256,i-=8);for(o=o<<i|s,u+=i;u>0;e[n+h]=o&255,h+=p,o/=256,u-=8);e[n+h-p]|=v*128}),bI}var z8,vue;function YIt(){if(vue)return z8;vue=1,z8=t;var e=jIt();function t(C){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(C)?C:new Uint8Array(C||0),this.pos=0,this.type=0,this.length=this.buf.length}t.Varint=0,t.Fixed64=1,t.Bytes=2,t.Fixed32=5;var n=65536*65536,r=1/n,i=12,a=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");t.prototype={destroy:function(){this.buf=null},readFields:function(C,P,B){for(B=B||this.length;this.pos<B;){var U=this.readVarint(),L=U>>3,F=this.pos;this.type=U&7,C(L,P,this),this.pos===F&&this.skip(U)}return P},readMessage:function(C,P){return this.readFields(C,P,this.readVarint()+this.pos)},readFixed32:function(){var C=A(this.buf,this.pos);return this.pos+=4,C},readSFixed32:function(){var C=R(this.buf,this.pos);return this.pos+=4,C},readFixed64:function(){var C=A(this.buf,this.pos)+A(this.buf,this.pos+4)*n;return this.pos+=8,C},readSFixed64:function(){var C=A(this.buf,this.pos)+R(this.buf,this.pos+4)*n;return this.pos+=8,C},readFloat:function(){var C=e.read(this.buf,this.pos,!0,23,4);return this.pos+=4,C},readDouble:function(){var C=e.read(this.buf,this.pos,!0,52,8);return this.pos+=8,C},readVarint:function(C){var P=this.buf,B,U;return U=P[this.pos++],B=U&127,U<128||(U=P[this.pos++],B|=(U&127)<<7,U<128)||(U=P[this.pos++],B|=(U&127)<<14,U<128)||(U=P[this.pos++],B|=(U&127)<<21,U<128)?B:(U=P[this.pos],B|=(U&15)<<28,o(B,C,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var C=this.readVarint();return C%2===1?(C+1)/-2:C/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var C=this.readVarint()+this.pos,P=this.pos;return this.pos=C,C-P>=i&&a?O(this.buf,P,C):M(this.buf,P,C)},readBytes:function(){var C=this.readVarint()+this.pos,P=this.buf.subarray(this.pos,C);return this.pos=C,P},readPackedVarint:function(C,P){if(this.type!==t.Bytes)return C.push(this.readVarint(P));var B=s(this);for(C=C||[];this.pos<B;)C.push(this.readVarint(P));return C},readPackedSVarint:function(C){if(this.type!==t.Bytes)return C.push(this.readSVarint());var P=s(this);for(C=C||[];this.pos<P;)C.push(this.readSVarint());return C},readPackedBoolean:function(C){if(this.type!==t.Bytes)return C.push(this.readBoolean());var P=s(this);for(C=C||[];this.pos<P;)C.push(this.readBoolean());return C},readPackedFloat:function(C){if(this.type!==t.Bytes)return C.push(this.readFloat());var P=s(this);for(C=C||[];this.pos<P;)C.push(this.readFloat());return C},readPackedDouble:function(C){if(this.type!==t.Bytes)return C.push(this.readDouble());var P=s(this);for(C=C||[];this.pos<P;)C.push(this.readDouble());return C},readPackedFixed32:function(C){if(this.type!==t.Bytes)return C.push(this.readFixed32());var P=s(this);for(C=C||[];this.pos<P;)C.push(this.readFixed32());return C},readPackedSFixed32:function(C){if(this.type!==t.Bytes)return C.push(this.readSFixed32());var P=s(this);for(C=C||[];this.pos<P;)C.push(this.readSFixed32());return C},readPackedFixed64:function(C){if(this.type!==t.Bytes)return C.push(this.readFixed64());var P=s(this);for(C=C||[];this.pos<P;)C.push(this.readFixed64());return C},readPackedSFixed64:function(C){if(this.type!==t.Bytes)return C.push(this.readSFixed64());var P=s(this);for(C=C||[];this.pos<P;)C.push(this.readSFixed64());return C},skip:function(C){var P=C&7;if(P===t.Varint)for(;this.buf[this.pos++]>127;);else if(P===t.Bytes)this.pos=this.readVarint()+this.pos;else if(P===t.Fixed32)this.pos+=4;else if(P===t.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+P)},writeTag:function(C,P){this.writeVarint(C<<3|P)},realloc:function(C){for(var P=this.length||16;P<this.pos+C;)P*=2;if(P!==this.length){var B=new Uint8Array(P);B.set(this.buf),this.buf=B,this.length=P}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(C){this.realloc(4),T(this.buf,C,this.pos),this.pos+=4},writeSFixed32:function(C){this.realloc(4),T(this.buf,C,this.pos),this.pos+=4},writeFixed64:function(C){this.realloc(8),T(this.buf,C&-1,this.pos),T(this.buf,Math.floor(C*r),this.pos+4),this.pos+=8},writeSFixed64:function(C){this.realloc(8),T(this.buf,C&-1,this.pos),T(this.buf,Math.floor(C*r),this.pos+4),this.pos+=8},writeVarint:function(C){if(C=+C||0,C>268435455||C<0){u(C,this);return}this.realloc(4),this.buf[this.pos++]=C&127|(C>127?128:0),!(C<=127)&&(this.buf[this.pos++]=(C>>>=7)&127|(C>127?128:0),!(C<=127)&&(this.buf[this.pos++]=(C>>>=7)&127|(C>127?128:0),!(C<=127)&&(this.buf[this.pos++]=C>>>7&127)))},writeSVarint:function(C){this.writeVarint(C<0?-C*2-1:C*2)},writeBoolean:function(C){this.writeVarint(!!C)},writeString:function(C){C=String(C),this.realloc(C.length*4),this.pos++;var P=this.pos;this.pos=D(this.buf,C,this.pos);var B=this.pos-P;B>=128&&d(P,B,this),this.pos=P-1,this.writeVarint(B),this.pos+=B},writeFloat:function(C){this.realloc(4),e.write(this.buf,C,this.pos,!0,23,4),this.pos+=4},writeDouble:function(C){this.realloc(8),e.write(this.buf,C,this.pos,!0,52,8),this.pos+=8},writeBytes:function(C){var P=C.length;this.writeVarint(P),this.realloc(P);for(var B=0;B<P;B++)this.buf[this.pos++]=C[B]},writeRawMessage:function(C,P){this.pos++;var B=this.pos;C(P,this);var U=this.pos-B;U>=128&&d(B,U,this),this.pos=B-1,this.writeVarint(U),this.pos+=U},writeMessage:function(C,P,B){this.writeTag(C,t.Bytes),this.writeRawMessage(P,B)},writePackedVarint:function(C,P){P.length&&this.writeMessage(C,h,P)},writePackedSVarint:function(C,P){P.length&&this.writeMessage(C,p,P)},writePackedBoolean:function(C,P){P.length&&this.writeMessage(C,m,P)},writePackedFloat:function(C,P){P.length&&this.writeMessage(C,v,P)},writePackedDouble:function(C,P){P.length&&this.writeMessage(C,g,P)},writePackedFixed32:function(C,P){P.length&&this.writeMessage(C,b,P)},writePackedSFixed32:function(C,P){P.length&&this.writeMessage(C,_,P)},writePackedFixed64:function(C,P){P.length&&this.writeMessage(C,x,P)},writePackedSFixed64:function(C,P){P.length&&this.writeMessage(C,E,P)},writeBytesField:function(C,P){this.writeTag(C,t.Bytes),this.writeBytes(P)},writeFixed32Field:function(C,P){this.writeTag(C,t.Fixed32),this.writeFixed32(P)},writeSFixed32Field:function(C,P){this.writeTag(C,t.Fixed32),this.writeSFixed32(P)},writeFixed64Field:function(C,P){this.writeTag(C,t.Fixed64),this.writeFixed64(P)},writeSFixed64Field:function(C,P){this.writeTag(C,t.Fixed64),this.writeSFixed64(P)},writeVarintField:function(C,P){this.writeTag(C,t.Varint),this.writeVarint(P)},writeSVarintField:function(C,P){this.writeTag(C,t.Varint),this.writeSVarint(P)},writeStringField:function(C,P){this.writeTag(C,t.Bytes),this.writeString(P)},writeFloatField:function(C,P){this.writeTag(C,t.Fixed32),this.writeFloat(P)},writeDoubleField:function(C,P){this.writeTag(C,t.Fixed64),this.writeDouble(P)},writeBooleanField:function(C,P){this.writeVarintField(C,!!P)}};function o(C,P,B){var U=B.buf,L,F;if(F=U[B.pos++],L=(F&112)>>4,F<128||(F=U[B.pos++],L|=(F&127)<<3,F<128)||(F=U[B.pos++],L|=(F&127)<<10,F<128)||(F=U[B.pos++],L|=(F&127)<<17,F<128)||(F=U[B.pos++],L|=(F&127)<<24,F<128)||(F=U[B.pos++],L|=(F&1)<<31,F<128))return l(C,L,P);throw new Error("Expected varint not more than 10 bytes")}function s(C){return C.type===t.Bytes?C.readVarint()+C.pos:C.pos+1}function l(C,P,B){return B?P*4294967296+(C>>>0):(P>>>0)*4294967296+(C>>>0)}function u(C,P){var B,U;if(C>=0?(B=C%4294967296|0,U=C/4294967296|0):(B=~(-C%4294967296),U=~(-C/4294967296),B^4294967295?B=B+1|0:(B=0,U=U+1|0)),C>=18446744073709552e3||C<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");P.realloc(10),c(B,U,P),f(U,P)}function c(C,P,B){B.buf[B.pos++]=C&127|128,C>>>=7,B.buf[B.pos++]=C&127|128,C>>>=7,B.buf[B.pos++]=C&127|128,C>>>=7,B.buf[B.pos++]=C&127|128,C>>>=7,B.buf[B.pos]=C&127}function f(C,P){var B=(C&7)<<4;P.buf[P.pos++]|=B|((C>>>=3)?128:0),C&&(P.buf[P.pos++]=C&127|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=C&127|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=C&127|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=C&127|((C>>>=7)?128:0),C&&(P.buf[P.pos++]=C&127)))))}function d(C,P,B){var U=P<=16383?1:P<=2097151?2:P<=268435455?3:Math.floor(Math.log(P)/(Math.LN2*7));B.realloc(U);for(var L=B.pos-1;L>=C;L--)B.buf[L+U]=B.buf[L]}function h(C,P){for(var B=0;B<C.length;B++)P.writeVarint(C[B])}function p(C,P){for(var B=0;B<C.length;B++)P.writeSVarint(C[B])}function v(C,P){for(var B=0;B<C.length;B++)P.writeFloat(C[B])}function g(C,P){for(var B=0;B<C.length;B++)P.writeDouble(C[B])}function m(C,P){for(var B=0;B<C.length;B++)P.writeBoolean(C[B])}function b(C,P){for(var B=0;B<C.length;B++)P.writeFixed32(C[B])}function _(C,P){for(var B=0;B<C.length;B++)P.writeSFixed32(C[B])}function x(C,P){for(var B=0;B<C.length;B++)P.writeFixed64(C[B])}function E(C,P){for(var B=0;B<C.length;B++)P.writeSFixed64(C[B])}function A(C,P){return(C[P]|C[P+1]<<8|C[P+2]<<16)+C[P+3]*16777216}function T(C,P,B){C[B]=P,C[B+1]=P>>>8,C[B+2]=P>>>16,C[B+3]=P>>>24}function R(C,P){return(C[P]|C[P+1]<<8|C[P+2]<<16)+(C[P+3]<<24)}function M(C,P,B){for(var U="",L=P;L<B;){var F=C[L],N=null,V=F>239?4:F>223?3:F>191?2:1;if(L+V>B)break;var W,G,K;V===1?F<128&&(N=F):V===2?(W=C[L+1],(W&192)===128&&(N=(F&31)<<6|W&63,N<=127&&(N=null))):V===3?(W=C[L+1],G=C[L+2],(W&192)===128&&(G&192)===128&&(N=(F&15)<<12|(W&63)<<6|G&63,(N<=2047||N>=55296&&N<=57343)&&(N=null))):V===4&&(W=C[L+1],G=C[L+2],K=C[L+3],(W&192)===128&&(G&192)===128&&(K&192)===128&&(N=(F&15)<<18|(W&63)<<12|(G&63)<<6|K&63,(N<=65535||N>=1114112)&&(N=null))),N===null?(N=65533,V=1):N>65535&&(N-=65536,U+=String.fromCharCode(N>>>10&1023|55296),N=56320|N&1023),U+=String.fromCharCode(N),L+=V}return U}function O(C,P,B){return a.decode(C.subarray(P,B))}function D(C,P,B){for(var U=0,L,F;U<P.length;U++){if(L=P.charCodeAt(U),L>55295&&L<57344)if(F)if(L<56320){C[B++]=239,C[B++]=191,C[B++]=189,F=L;continue}else L=F-55296<<10|L-56320|65536,F=null;else{L>56319||U+1===P.length?(C[B++]=239,C[B++]=191,C[B++]=189):F=L;continue}else F&&(C[B++]=239,C[B++]=191,C[B++]=189,F=null);L<128?C[B++]=L:(L<2048?C[B++]=L>>6|192:(L<65536?C[B++]=L>>12|224:(C[B++]=L>>18|240,C[B++]=L>>12&63|128),C[B++]=L>>6&63|128),C[B++]=L&63|128)}return B}return z8}var XIt=YIt();const KIt=ni(XIt);var qIt=Object.defineProperty,ZIt=Object.defineProperties,QIt=Object.getOwnPropertyDescriptors,gue=Object.getOwnPropertySymbols,JIt=Object.prototype.hasOwnProperty,e3t=Object.prototype.propertyIsEnumerable,mue=(e,t,n)=>t in e?qIt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yue=(e,t)=>{for(var n in t||(t={}))JIt.call(t,n)&&mue(e,n,t[n]);if(gue)for(var n of gue(t))e3t.call(t,n)&&mue(e,n,t[n]);return e},t3t=(e,t)=>ZIt(e,QIt(t)),_ue=class{constructor(e,t,n,r){this.vectorLayerCache={},this.x=t,this.y=n,this.z=r,this.vectorTile=new GIt.VectorTile(new KIt(e))}getTileData(e){if(!e||!this.vectorTile.layers[e])return[];if(this.vectorLayerCache[e])return this.vectorLayerCache[e];const t=this.vectorTile.layers[e];if(Array.isArray(t.features))return this.vectorLayerCache[e]=t.features,t.features;const n=[];for(let r=0;r<t.length;r++){const a=t.feature(r).toGeoJSON(this.x,this.y,this.z);n.push(t3t(yue({},a),{properties:yue({id:a.id},a.properties)}))}return this.vectorLayerCache[e]=n,n}getFeatureById(){throw new Error("Method not implemented.")}},n3t=Object.defineProperty,r3t=Object.defineProperties,i3t=Object.getOwnPropertyDescriptors,bue=Object.getOwnPropertySymbols,a3t=Object.prototype.hasOwnProperty,o3t=Object.prototype.propertyIsEnumerable,xue=(e,t,n)=>t in e?n3t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ez=(e,t)=>{for(var n in t||(t={}))a3t.call(t,n)&&xue(e,n,t[n]);if(bue)for(var n of bue(t))o3t.call(t,n)&&xue(e,n,t[n]);return e},U2e=(e,t)=>r3t(e,i3t(t)),s3t=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),l3t={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0},u3t=(e,t,n,r,i)=>s3t(void 0,null,function*(){const a=db(e,t);return new Promise(o=>{if(i)i({x:n.x,y:n.y,z:n.z},(s,l)=>{if(s||!l)o(void 0);else{const u=new _ue(l,n.x,n.y,n.z);o(u)}});else{const s=sj(U2e(ez({},r),{url:a}),(l,u)=>{if(l||!u)o(void 0);else{const c=new _ue(u,n.x,n.y,n.z);o(c)}});n.xhrCancel=()=>s.cancel()}})});function c3t(e,t){const n=Array.isArray(e)?e[0]:e,r=(a,o)=>u3t(n,a,o,t==null?void 0:t.requestParameters,t==null?void 0:t.getCustomData),i=U2e(ez(ez({},l3t),t),{getTileData:r});return{data:n,dataArray:[],tilesetOptions:i,isTile:!0}}function f3t(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n;case"^":return Math.pow(t,n);case"abs":return Math.abs(t);case"floor":return Math.floor(t);case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"sin":return Math.sin(t);case"cos":return Math.cos(t);case"atan":return n===-1?Math.atan(t):Math.atan2(t,n);case"min":return Math.min(t,n);case"max":return Math.max(t,n);case"log10":return Math.log(t);case"log2":return Math.log2(t);default:return console.warn("Calculate symbol err! Return default 0"),0}}function f2(e,t){const{width:n,height:r}=t[0],i=t.map(l=>l.rasterData),a=n*r,o=[],s=JSON.stringify(e);for(let l=0;l<a;l++){const u=JSON.parse(s),c=V2e(u,i,l);if(typeof c=="number")o.push(c);else{const f=tz(u);o.push(f)}}return o}function V2e(e,t,n){if(e.length===2&&e[0]==="band"&&typeof e[1]=="number")try{return t[e[1]][n]}catch{return console.warn("Raster Data err!"),0}e.map((r,i)=>{if(Array.isArray(r)&&r.length>0)switch(r[0]){case"band":try{e[i]=t[r[1]][n]}catch{console.warn("Raster Data err!"),e[i]=0}break;default:V2e(r,t,n)}})}function d3t(e){const[t,n=-1,r=-1]=e;return t===void 0?(console.warn("Express err!"),["+",0,0]):[t.replace(/\s+/g,""),n,r]}function tz(e){const t=d3t(e),n=t[0];let r=t[1],i=t[2];return Array.isArray(r)&&(r=tz(e[1])),Array.isArray(i)&&(i=tz(e[2])),f3t(n,r,i)}var h3t={nd:{type:"operation",expression:["/",["-",["band",1],["band",0]],["+",["band",1],["band",0]]]},rgb:{type:"function",method:p3t}};function p3t(e,t){const n=e[0].rasterData,r=e[1].rasterData,i=e[2].rasterData,a=[],[o,s]=(t==null?void 0:t.countCut)||[2,98],l=(t==null?void 0:t.RMinMax)||hb(n,o,s),u=(t==null?void 0:t.GMinMax)||hb(r,o,s),c=(t==null?void 0:t.BMinMax)||hb(i,o,s);for(let f=0;f<n.length;f++)a.push(Math.max(0,n[f]-l[0])),a.push(Math.max(0,r[f]-u[0])),a.push(Math.max(0,i[f]-c[0]));return{rasterData:a,rMinMax:l,gMinMax:u,bMinMax:c}}function hb(e,t,n){const r=e.slice().sort((s,l)=>s-l),i=r.length,a=r[Math.ceil(i*t/100)],o=r[Math.ceil(i*n/100)];return[a,o]}var v3t=Object.defineProperty,g3t=Object.defineProperties,m3t=Object.getOwnPropertyDescriptors,Sue=Object.getOwnPropertySymbols,y3t=Object.prototype.hasOwnProperty,_3t=Object.prototype.propertyIsEnumerable,Aue=(e,t,n)=>t in e?v3t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b3t=(e,t)=>{for(var n in t||(t={}))y3t.call(t,n)&&Aue(e,n,t[n]);if(Sue)for(var n of Sue(t))_3t.call(t,n)&&Aue(e,n,t[n]);return e},x3t=(e,t)=>g3t(e,m3t(t)),z2e=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())});function Cj(e,t,n){return z2e(this,null,function*(){if(e.length===0)return{rasterData:[0],width:1,heigh:1};const r=yield Promise.all(e.map(({data:l,bands:u=[0]})=>t(l,u))),i=[];r.forEach(l=>{Array.isArray(l)?i.push(...l):i.push(l)});const{width:a,height:o}=i[0];let s;switch(typeof n){case"function":s=n(i);break;case"object":Array.isArray(n)?s={rasterData:f2(n,i)}:s=S3t(n,i);break;default:s={rasterData:i[0].rasterData}}return x3t(b3t({},s),{width:a,height:o})})}function S3t(e,t){const n=h3t[e.type];if(n.type==="function")return n.method(t,e==null?void 0:e.options);if(n.type==="operation")return e.type==="rgb"?A3t(n.expression,t):{rasterData:f2(n.expression,t)}}function A3t(e,t){e.r===void 0&&console.warn("Channel R lost in Operation! Use band[0] to fill!"),e.g===void 0&&console.warn("Channel G lost in Operation! Use band[0] to fill!"),e.b===void 0&&console.warn("Channel B lost in Operation! Use band[0] to fill!");const n=f2(e.r||["band",0],t),r=f2(e.g||["band",0],t),i=f2(e.b||["band",0],t);return[n,r,i]}function nz(e,t,n,r){return z2e(this,null,function*(){const i=yield Cj(e,t,n);r(null,{data:i})})}function E3t(e,t){const{extent:n=[121.168,30.2828,121.384,30.4219],coordinates:r,width:i,height:a,min:o,max:s,format:l,operation:u}=t;let c,f,d;if(l===void 0||I2e(e))c=Array.from(e),f=i,d=a;else{const v=Array.isArray(e)?e:[e];c=Cj(v,l,u)}const h=Xx(r,n);return{_id:1,dataArray:[{_id:1,data:c,width:f,height:d,min:o,max:s,coordinates:h}]}}function nx(e){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nx(e)}function T3t(e,t){if(nx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $2e(e){var t=T3t(e,"string");return nx(t)=="symbol"?t:t+""}function fe(e,t,n){return(t=$2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eue(Object(n),!0).forEach(function(r){fe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eue(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}let Mw=function(e){return e.Normal="normal",e.PostProcessing="post-processing",e}({}),ie=function(e){return e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e}({});const w3t=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{camelCase:C3t,isNil:R3t,upperFirst:I3t}=Oo;class Xp{constructor(){fe(this,"shaderModuleService",void 0),fe(this,"rendererService",void 0),fe(this,"config",void 0),fe(this,"quad",w3t),fe(this,"enabled",!0),fe(this,"renderToScreen",!1),fe(this,"model",void 0),fe(this,"name",void 0),fe(this,"optionsToUpdate",{})}getName(){return this.name}setName(t){this.name=t}getType(){return Mw.PostProcessing}init(t,n){this.config=n,this.rendererService=t.getContainer().rendererService,this.shaderModuleService=t.getContainer().shaderModuleService;const{createAttribute:r,createBuffer:i,createModel:a}=this.rendererService,{vs:o,fs:s,uniforms:l}=this.setupShaders();this.model=a({vs:o,fs:s,attributes:{a_Position:r({buffer:i({data:[-4,-4,4,-4,0,4],type:ie.FLOAT}),size:2})},uniforms:Pt(Pt({u_Texture:null},l),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:this.getName()==="copy"}})}render(t,n){const r=t.multiPassRenderer.getPostProcessor(),{useFramebuffer:i,getViewportSize:a,clear:o}=this.rendererService,{width:s,height:l}=a();i(this.renderToScreen?null:r.getWriteFBO(),()=>{o({framebuffer:r.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});const u=Pt({u_BloomFinal:0,u_Texture:r.getReadFBO(),u_ViewportSize:[s,l]},this.convertOptionsToUniforms(this.optionsToUpdate));n&&(u.u_BloomFinal=1,u.u_Texture2=n),this.model.draw({uniforms:u})})}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}setRenderToScreen(t){this.renderToScreen=t}updateOptions(t){this.optionsToUpdate=Pt(Pt({},this.optionsToUpdate),t)}setupShaders(){throw new Error("Method not implemented.")}convertOptionsToUniforms(t){const n={};return Object.keys(t).forEach(r=>{R3t(t[r])||(n[`u_${I3t(C3t(r))}`]=t[r])}),n}}function M3t(e){let t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16;break}return t}const H2e=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function Tue(e,t=!1){const n={};return e=e.replace(H2e,(r,i,a)=>{const o=a.split(":"),s=o[0].trim();let l="";switch(o.length>1&&(l=o[1].trim()),i){case"bool":l=l==="true";break;case"float":case"int":l=Number(l);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":l?l=l.replace("[","").replace("]","").split(",").reduce((u,c)=>(u.push(Number(c.trim())),u),[]):l=new Array(M3t(i)).fill(0);break}return n[s]=l,`${t?"uniform ":""}${i} ${s};
`}),{content:e,uniforms:n}}function $8(e){let{content:t,uniforms:n}=Tue(e,!0);return t=t.replace(/(\s*uniform\s*.*\s*){((?:\s*.*\s*)*?)};/g,(r,i,a)=>{a=a.trim().replace(/^.*$/gm,l=>`uniform ${l}`);const{content:o,uniforms:s}=Tue(a);return Object.assign(n,s),`${i}{
${o}
};`}),{content:t,uniforms:n}}function wue(e){const t={};return e.replace(H2e,(n,r,i)=>{const a=i.trim();return t[a]?"":(t[a]=!0,`uniform ${r} ${a};
`)})}const u0={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"};let DO=function(e){return e.TOPRIGHT="topright",e.TOPLEFT="topleft",e.BOTTOMRIGHT="bottomright",e.BOTTOMLEFT="bottomleft",e.TOPCENTER="topcenter",e.BOTTOMCENTER="bottomcenter",e.LEFTCENTER="leftcenter",e.RIGHTCENTER="rightcenter",e.LEFTTOP="lefttop",e.RIGHTTOP="righttop",e.LEFTBOTTOM="leftbottom",e.RIGHTBOTTOM="rightbottom",e}({}),PO=function(e){return e[e.LNGLAT=1]="LNGLAT",e[e.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",e[e.VECTOR_TILE=3]="VECTOR_TILE",e[e.IDENTITY=4]="IDENTITY",e[e.METER_OFFSET=5]="METER_OFFSET",e}({});const d1={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter"};var Jo={MapInitStart:"mapInitStart",LayerInitStart:"layerInitStart",LayerInitEnd:"layerInitEnd",SourceInitStart:"sourceInitStart",SourceInitEnd:"sourceInitEnd",ScaleInitStart:"scaleInitStart",ScaleInitEnd:"scaleInitEnd",MappingStart:"mappingStart",MappingEnd:"mappingEnd",BuildModelStart:"buildModelStart",BuildModelEnd:"buildModelEnd"};let au=function(e){return e.Hover="hover",e.Click="click",e.Select="select",e.Active="active",e.Drag="drag",e}({}),Zv=function(e){return e.normal="normal",e.additive="additive",e.subtractive="subtractive",e.min="min",e.max="max",e.none="none",e}({}),$0=function(e){return e.MULTIPLE="MULTIPLE",e.SINGLE="SINGLE",e}({}),aL=function(e){return e.AND="and",e.OR="or",e}({}),Rs=function(e){return e.INIT="init",e.UPDATE="update",e}({}),Ji=function(e){return e.LINEAR="linear",e.SEQUENTIAL="sequential",e.POWER="power",e.LOG="log",e.IDENTITY="identity",e.TIME="time",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.CAT="cat",e.DIVERGING="diverging",e.CUSTOM="threshold",e}({}),h1=function(e){return e.CONSTANT="constant",e.VARIABLE="variable",e}({}),Qn=function(e){return e[e.Attribute=0]="Attribute",e[e.InstancedAttribute=1]="InstancedAttribute",e[e.Uniform=2]="Uniform",e}({});const Cue=["mapload","mapchange","mapAfterFrameChange"];var xI={exports:{}},Rue;function O3t(){if(Rue)return xI.exports;Rue=1,xI.exports=t,xI.exports.default=t;var e=1e20;function t(o,s,l,u,c,f){this.fontSize=o||24,this.buffer=s===void 0?3:s,this.cutoff=u||.25,this.fontFamily=c||"sans-serif",this.fontWeight=f||"normal",this.radius=l||8;var d=this.size=this.fontSize+this.buffer*2,h=d+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=d,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(h*h),this.gridInner=new Float64Array(h*h),this.f=new Float64Array(h),this.z=new Float64Array(h+1),this.v=new Uint16Array(h),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(d/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function n(o,s,l,u,c,f,d){f.fill(e,0,s*l),d.fill(0,0,s*l);for(var h=(s-u)/2,p=0;p<c;p++)for(var v=0;v<u;v++){var g=(p+h)*s+v+h,m=o.data[4*(p*u+v)+3]/255;if(m===1)f[g]=0,d[g]=e;else if(m===0)f[g]=e,d[g]=0;else{var b=Math.max(0,.5-m),_=Math.max(0,m-.5);f[g]=b*b,d[g]=_*_}}}function r(o,s,l,u,c,f,d){for(var h=0;h<s*l;h++){var p=Math.sqrt(u[h])-Math.sqrt(c[h]);o[h]=Math.round(255-255*(p/f+d))}}t.prototype._draw=function(o,s){var l=this.ctx.measureText(o),u=l.width,c=2*this.buffer,f,d,h,p,v,g,m,b;s&&this.useMetrics?(v=Math.floor(l.actualBoundingBoxAscent),b=this.buffer+Math.ceil(l.actualBoundingBoxAscent),g=this.buffer,m=this.buffer,d=Math.min(this.size,Math.ceil(l.actualBoundingBoxRight-l.actualBoundingBoxLeft)),p=Math.min(this.size-g,Math.ceil(l.actualBoundingBoxAscent+l.actualBoundingBoxDescent)),f=d+c,h=p+c,this.ctx.textBaseline="alphabetic"):(f=d=this.size,h=p=this.size,v=19*this.fontSize/24,g=m=0,b=this.middle,this.ctx.textBaseline="middle");var _;d&&p&&(this.ctx.clearRect(m,g,d,p),this.ctx.fillText(o,this.buffer,b),_=this.ctx.getImageData(m,g,d,p));var x=new Uint8ClampedArray(f*h);return n(_,f,h,d,p,this.gridOuter,this.gridInner),i(this.gridOuter,f,h,this.f,this.v,this.z),i(this.gridInner,f,h,this.f,this.v,this.z),r(x,f,h,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:x,metrics:{width:d,height:p,sdfWidth:f,sdfHeight:h,top:v,left:0,advance:u}}},t.prototype.draw=function(o){return this._draw(o,!1).data},t.prototype.drawWithMetrics=function(o){return this._draw(o,!0)};function i(o,s,l,u,c,f){for(var d=0;d<s;d++)a(o,d,s,l,u,c,f);for(var h=0;h<l;h++)a(o,h*s,1,s,u,c,f)}function a(o,s,l,u,c,f,d){var h,p,v,g;for(f[0]=0,d[0]=-e,d[1]=e,h=0;h<u;h++)c[h]=o[s+h*l];for(h=1,p=0,v=0;h<u;h++){do g=f[p],v=(c[h]-c[g]+h*h-g*g)/(h-g)/2;while(v<=d[p]&&--p>-1);p++,f[p]=h,d[p]=v,d[p+1]=e}for(h=0,p=0;h<u;h++){for(;d[p+1]<h;)p++;g=f[p],o[s+h*l]=c[g]+(h-g)*(h-g)}}return xI.exports}var D3t=O3t();const P3t=ni(D3t),DA=30;function L3t({characterSet:e,getFontWidth:t,fontHeight:n,buffer:r,maxCanvasWidth:i,mapping:a={},xOffset:o=0,yOffset:s=0}){let l=0,u=o;Array.from(e).forEach((f,d)=>{if(!a[f]){const h=t(f,d);u+DA>i&&(u=0,l++),a[f]={x:u,y:s+l*DA,width:DA,height:DA,advance:h},u+=DA}});const c=n+r*2;return{mapping:a,xOffset:u,yOffset:s+l*c,canvasHeight:W2e(s+(l+1)*c)}}function N3t(e,t,n){let r=0,i=0,a=0,o=[];const s={};for(const u of e)if(!s[u.id]){const{size:c}=u;r+c+t>n&&(Iue(s,o,i),r=0,i=a+i+t,a=0,o=[]),o.push({icon:u,xOffset:r}),r=r+c+t,a=Math.max(a,c)}o.length>0&&Iue(s,o,i);const l=W2e(a+i+t);return{mapping:s,canvasHeight:l}}function Iue(e,t,n){for(const r of t){const{icon:i,xOffset:a}=r;e[i.id]=Pt(Pt({},i),{},{x:a,y:n,image:i.image,width:i.width,height:i.height})}}function W2e(e){return Math.pow(2,Math.ceil(Math.log2(e)))}const B3t=G3t(),k3t="sans-serif",F3t="normal",U3t=24,V3t=3,z3t=.25,$3t=8,Mue=1024,H3t=1,Oue=1,W3t=3;function G3t(){const e=[];for(let t=32;t<128;t++)e.push(String.fromCharCode(t));return e}function Due(e,t,n,r){e.font=`${r} ${n}px ${t}`,e.fillStyle="black",e.textBaseline="middle"}function Pue(e,t){for(let n=0;n<e.length;n++)t.data[4*n+3]=e[n]}class j3t extends Xu.EventEmitter{constructor(...t){super(...t),fe(this,"fontAtlas",void 0),fe(this,"iconFontMap",void 0),fe(this,"iconFontGlyphs",{}),fe(this,"fontOptions",void 0),fe(this,"key",void 0),fe(this,"cache",new oRt(W3t))}get scale(){return Oue}get canvas(){const t=this.cache.get(this.key);return t&&t.data}get mapping(){const t=this.cache.get(this.key);return t&&t.mapping||{}}getCanvasByKey(t){const n=this.cache.get(t);return n&&n.data}getMappingByKey(t){const n=this.cache.get(t);return n&&n.mapping||{}}init(){this.cache.clear(),this.fontOptions={fontFamily:k3t,fontWeight:F3t,characterSet:B3t,fontSize:U3t,buffer:V3t,sdf:!0,cutoff:z3t,radius:$3t,iconfont:!1},this.key="",this.iconFontMap=new Map}addIconGlyphs(t){t.forEach(n=>{this.iconFontGlyphs[n.name]=n.unicode})}addIconFont(t,n){this.iconFontMap.set(t,n)}getIconFontKey(t){return this.iconFontMap.get(t)||t}getGlyph(t){return this.iconFontGlyphs[t]?String.fromCharCode(parseInt(this.iconFontGlyphs[t],16)):""}setFontOptions(t){this.fontOptions=Pt(Pt({},this.fontOptions),t),this.key=this.getKey();const n=this.getNewChars(this.key,this.fontOptions.characterSet),r=this.cache.get(this.key);if(r&&n.length===0)return;const i=this.generateFontAtlas(this.key,n,r);this.fontAtlas=i,this.cache.set(this.key,i)}addFontFace(t,n){const r=document.createElement("style");r.type="text/css",r.innerText=`
        @font-face{
            font-family: '${t}';
            src: url('${n}') format('woff2'),
            url('${n}') format('woff'),
            url('${n}') format('truetype');
        }`,r.onload=()=>{if(document.fonts)try{document.fonts.load(`24px ${t}`,"L7text"),document.fonts.ready.then(()=>{this.emit("fontloaded",{fontFamily:t})})}catch(i){console.warn("当前环境不支持 document.fonts !"),console.warn("当前环境不支持 iconfont !"),console.warn(i)}},document.getElementsByTagName("head")[0].appendChild(r)}destroy(){this.cache.clear(),this.iconFontMap.clear()}generateFontAtlas(t,n,r){const{fontFamily:i,fontWeight:a,fontSize:o,buffer:s,sdf:l,radius:u,cutoff:c,iconfont:f}=this.fontOptions;let d=r&&r.data;d||(d=window.document.createElement("canvas"),d.width=Mue);const h=d.getContext("2d",{willReadFrequently:!0});Due(h,i,o,a);const{mapping:p,canvasHeight:v,xOffset:g,yOffset:m}=L3t(Pt({getFontWidth:_=>h.measureText(_).width,fontHeight:o*Oue,buffer:s,characterSet:n,maxCanvasWidth:Mue},r&&{mapping:r.mapping,xOffset:r.xOffset,yOffset:r.yOffset})),b=h.getImageData(0,0,d.width,d.height);if(d.height=v,h.putImageData(b,0,0),Due(h,i,o,a),l){const _=new P3t(o,s,u,c,i,a),x=h.getImageData(0,0,_.size,_.size);for(const E of n){if(f){const A=String.fromCharCode(parseInt(E.replace("&#x","").replace(";",""),16)),T=_.draw(A);Pue(T,x)}else Pue(_.draw(E),x);h.putImageData(x,p[E].x,p[E].y)}}else for(const _ of n)h.fillText(_,p[_].x,p[_].y+o*H3t);return{xOffset:g,yOffset:m,mapping:p,data:d,width:d.width,height:d.height}}getKey(){const{fontFamily:t,fontWeight:n}=this.fontOptions;return`${t}_${n}`}getNewChars(t,n){const r=this.cache.get(t);if(!r)return n;const i=[],a=r.mapping,o=new Set(Object.keys(a));return new Set(n).forEach(l=>{o.has(l)||i.push(l)}),i}}function Lue(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function Ut(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(l){Lue(a,r,i,o,s,"next",l)}function s(l){Lue(a,r,i,o,s,"throw",l)}o(void 0)})}}const Y3t=3,Nue=1024,PA=64;class X3t extends Xu.EventEmitter{constructor(...t){super(...t),fe(this,"canvasHeight",128),fe(this,"texture",void 0),fe(this,"canvas",void 0),fe(this,"iconData",void 0),fe(this,"iconMap",void 0),fe(this,"ctx",void 0),fe(this,"loadingImageCount",0)}isLoading(){return this.loadingImageCount===0}init(){this.iconData=[],this.iconMap={},this.canvas=window.document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext("2d")}addImage(t,n){var r=this;return Ut(function*(){let i=new Image;r.loadingImageCount++,r.hasImage(t)?console.warn("Image Id already exists"):r.iconData.push({id:t,size:PA}),r.updateIconMap(),i=yield r.loadImage(n);const a=r.iconData.find(o=>o.id===t);a&&(a.image=i,a.width=i.width,a.height=i.height),r.update()})()}addImageMini(t,n,r){const i=r.getSceneConfig().canvas;let a=i.createImage();if(this.loadingImageCount++,this.hasImage(t))throw new Error("Image Id already exists");this.iconData.push({id:t,size:PA}),this.updateIconMap(),this.loadImageMini(n,i).then(o=>{a=o;const s=this.iconData.find(l=>l.id===t);s&&(s.image=a,s.width=a.width,s.height=a.height),this.update()})}getTexture(){return this.texture}getIconMap(){return this.iconMap}getCanvas(){return this.canvas}hasImage(t){return this.iconMap.hasOwnProperty(t)}removeImage(t){this.hasImage(t)&&(this.iconData=this.iconData.filter(n=>n.id!==t),delete this.iconMap[t],this.update())}destroy(){this.removeAllListeners("imageUpdate"),this.iconData=[],this.iconMap={}}loadImage(t){return new Promise((n,r)=>{if(t instanceof HTMLImageElement){n(t);return}const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{n(i)},i.onerror=()=>{r(new Error("Could not load image at "+t))},i.src=t instanceof File?URL.createObjectURL(t):t})}update(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,this.loadingImageCount===0&&this.emit("imageUpdate")}updateIconAtlas(){this.canvas.width=Nue,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(t=>{const{x:n,y:r,image:i,width:a=64,height:o=64}=this.iconMap[t],l=Math.max(a,o)/PA,u=o/l,c=a/l;i&&this.ctx.drawImage(i,n+(PA-c)/2,r+(PA-u)/2,c,u)})}updateIconMap(){const{mapping:t,canvasHeight:n}=N3t(this.iconData,Y3t,Nue);this.iconMap=t,this.canvasHeight=n}loadImageMini(t,n){return new Promise((r,i)=>{const a=n.createImage();a.crossOrigin="anonymous",a.onload=()=>{r(a)},a.onerror=()=>{i(new Error("Could not load image at "+t))},a.src=t})}}var Hs=1e-6,Vc=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function Rj(){var e=new Vc(16);return Vc!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function K3t(e,t,n,r,i,a,o,s,l,u,c,f,d,h,p,v){var g=new Vc(16);return g[0]=e,g[1]=t,g[2]=n,g[3]=r,g[4]=i,g[5]=a,g[6]=o,g[7]=s,g[8]=l,g[9]=u,g[10]=c,g[11]=f,g[12]=d,g[13]=h,g[14]=p,g[15]=v,g}function G2e(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],g=t[14],m=t[15],b=n*s-r*o,_=n*l-i*o,x=n*u-a*o,E=r*l-i*s,A=r*u-a*s,T=i*u-a*l,R=c*v-f*p,M=c*g-d*p,O=c*m-h*p,D=f*g-d*v,C=f*m-h*v,P=d*m-h*g,B=b*P-_*C+x*D+E*O-A*M+T*R;return B?(B=1/B,e[0]=(s*P-l*C+u*D)*B,e[1]=(i*C-r*P-a*D)*B,e[2]=(v*T-g*A+m*E)*B,e[3]=(d*A-f*T-h*E)*B,e[4]=(l*O-o*P-u*M)*B,e[5]=(n*P-i*O+a*M)*B,e[6]=(g*x-p*T-m*_)*B,e[7]=(c*T-d*x+h*_)*B,e[8]=(o*C-s*O+u*R)*B,e[9]=(r*O-n*C-a*R)*B,e[10]=(p*A-v*x+m*b)*B,e[11]=(f*x-c*A-h*b)*B,e[12]=(s*M-o*D-l*R)*B,e[13]=(n*D-r*M+i*R)*B,e[14]=(v*_-p*E-g*b)*B,e[15]=(c*E-f*_+d*b)*B,e):null}function pb(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],g=t[13],m=t[14],b=t[15],_=n[0],x=n[1],E=n[2],A=n[3];return e[0]=_*r+x*s+E*f+A*v,e[1]=_*i+x*l+E*d+A*g,e[2]=_*a+x*u+E*h+A*m,e[3]=_*o+x*c+E*p+A*b,_=n[4],x=n[5],E=n[6],A=n[7],e[4]=_*r+x*s+E*f+A*v,e[5]=_*i+x*l+E*d+A*g,e[6]=_*a+x*u+E*h+A*m,e[7]=_*o+x*c+E*p+A*b,_=n[8],x=n[9],E=n[10],A=n[11],e[8]=_*r+x*s+E*f+A*v,e[9]=_*i+x*l+E*d+A*g,e[10]=_*a+x*u+E*h+A*m,e[11]=_*o+x*c+E*p+A*b,_=n[12],x=n[13],E=n[14],A=n[15],e[12]=_*r+x*s+E*f+A*v,e[13]=_*i+x*l+E*d+A*g,e[14]=_*a+x*u+E*h+A*m,e[15]=_*o+x*c+E*p+A*b,e}function LO(e,t,n){var r=n[0],i=n[1],a=n[2],o,s,l,u,c,f,d,h,p,v,g,m;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*a+t[12],e[13]=t[1]*r+t[5]*i+t[9]*a+t[13],e[14]=t[2]*r+t[6]*i+t[10]*a+t[14],e[15]=t[3]*r+t[7]*i+t[11]*a+t[15]):(o=t[0],s=t[1],l=t[2],u=t[3],c=t[4],f=t[5],d=t[6],h=t[7],p=t[8],v=t[9],g=t[10],m=t[11],e[0]=o,e[1]=s,e[2]=l,e[3]=u,e[4]=c,e[5]=f,e[6]=d,e[7]=h,e[8]=p,e[9]=v,e[10]=g,e[11]=m,e[12]=o*r+c*i+p*a+t[12],e[13]=s*r+f*i+v*a+t[13],e[14]=l*r+d*i+g*a+t[14],e[15]=u*r+h*i+m*a+t[15]),e}function NO(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ij(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+u*r,e[5]=o*i+c*r,e[6]=s*i+f*r,e[7]=l*i+d*r,e[8]=u*i-a*r,e[9]=c*i-o*r,e[10]=f*i-s*r,e[11]=d*i-l*r,e}function j2e(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-u*r,e[1]=o*i-c*r,e[2]=s*i-f*r,e[3]=l*i-d*r,e[8]=a*r+u*i,e[9]=o*r+c*i,e[10]=s*r+f*i,e[11]=l*r+d*i,e}function Y2e(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+u*r,e[1]=o*i+c*r,e[2]=s*i+f*r,e[3]=l*i+d*r,e[4]=u*i-a*r,e[5]=c*i-o*r,e[6]=f*i-s*r,e[7]=d*i-l*r,e}function q3t(e,t,n,r,i){var a=1/Math.tan(t/2),o;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}var Z3t=q3t;function Bue(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],h=e[11],p=e[12],v=e[13],g=e[14],m=e[15],b=t[0],_=t[1],x=t[2],E=t[3],A=t[4],T=t[5],R=t[6],M=t[7],O=t[8],D=t[9],C=t[10],P=t[11],B=t[12],U=t[13],L=t[14],F=t[15];return Math.abs(n-b)<=Hs*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(r-_)<=Hs*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-x)<=Hs*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-E)<=Hs*Math.max(1,Math.abs(a),Math.abs(E))&&Math.abs(o-A)<=Hs*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(s-T)<=Hs*Math.max(1,Math.abs(s),Math.abs(T))&&Math.abs(l-R)<=Hs*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(u-M)<=Hs*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-O)<=Hs*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(f-D)<=Hs*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(d-C)<=Hs*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(h-P)<=Hs*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(p-B)<=Hs*Math.max(1,Math.abs(p),Math.abs(B))&&Math.abs(v-U)<=Hs*Math.max(1,Math.abs(v),Math.abs(U))&&Math.abs(g-L)<=Hs*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(m-F)<=Hs*Math.max(1,Math.abs(m),Math.abs(F))}function SE(){var e=new Vc(3);return Vc!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Mf(e,t,n){var r=new Vc(3);return r[0]=e,r[1]=t,r[2]=n,r}function Q3t(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function J3t(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function AE(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function eMt(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function tMt(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],l=n[2];return e[0]=i*l-a*s,e[1]=a*o-r*l,e[2]=r*s-i*o,e}function SI(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}function kue(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2],l=Math.sqrt(n*n+r*r+i*i),u=Math.sqrt(a*a+o*o+s*s),c=l*u,f=c&&eMt(e,t)/c;return Math.acos(Math.min(Math.max(f,-1),1))}var Fue=Q3t;(function(){var e=SE();return function(t,n,r,i,a,o){var s,l;for(n||(n=3),r||(r=0),i?l=Math.min(i*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}})();function X2e(){var e=new Vc(4);return Vc!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function nMt(e,t,n,r){var i=new Vc(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}function rMt(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Mj(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(function(){var e=X2e();return function(t,n,r,i,a,o){var s,l;for(n||(n=4),r||(r=0),i?l=Math.min(i*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();function su(){var e=new Vc(2);return Vc!=Float32Array&&(e[0]=0,e[1]=0),e}function rz(e,t){var n=new Vc(2);return n[0]=e,n[1]=t,n}function H8(e,t){return e[0]=t[0],e[1]=t[1],e}function iMt(e,t,n){return e[0]=t,e[1]=n,e}function Jv(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function iz(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function aMt(e,t){return e[0]=-t[0],e[1]=-t[1],e}function BO(e,t){var n=t[0],r=t[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function az(e,t){return e[0]*t[0]+e[1]*t[1]}function oMt(e,t,n,r){var i=t[0],a=t[1];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e}var K2e=iz;(function(){var e=su();return function(t,n,r,i,a,o){var s,l;for(n||(n=2),r||(r=0),i?l=Math.min(i*n+r,t.length):l=t.length,s=r;s<l;s+=n)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}})();class sMt{constructor(){fe(this,"viewport",void 0),fe(this,"overridedViewProjectionMatrix",void 0),fe(this,"viewMatrixInverse",void 0),fe(this,"cameraPosition",void 0)}init(){}update(t){this.viewport=t,this.viewMatrixInverse=Rj(),G2e(this.viewMatrixInverse,t.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}getProjectionMatrix(){return this.viewport.getProjectionMatrix()}getModelMatrix(){return this.viewport.getModelMatrix()}getViewMatrix(){return this.viewport.getViewMatrix()}getViewMatrixUncentered(){return this.viewport.getViewMatrixUncentered()}getViewProjectionMatrixUncentered(){return this.viewport.getViewProjectionMatrixUncentered()}getViewProjectionMatrix(){return this.overridedViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}getZoom(){return this.viewport.getZoom()}getZoomScale(){return this.viewport.getZoomScale()}getCenter(){const[t,n]=this.viewport.getCenter();return[t,n]}getFocalDistance(){return this.viewport.getFocalDistance()}getCameraPosition(){return this.cameraPosition}projectFlat(t,n){return this.viewport.projectFlat(t,n)}setViewProjectionMatrix(t){this.overridedViewProjectionMatrix=t}}const lMt={topleft:"column",topright:"column",bottomright:"column",bottomleft:"column",leftcenter:"column",rightcenter:"column",topcenter:"row",bottomcenter:"row",lefttop:"row",righttop:"row",leftbottom:"row",rightbottom:"row"};class uMt{constructor(){fe(this,"container",void 0),fe(this,"controlCorners",void 0),fe(this,"controlContainer",void 0),fe(this,"scene",void 0),fe(this,"mapsService",void 0),fe(this,"controls",[]),fe(this,"unAddControls",[])}init(t,n){this.container=t.container,this.scene=n,this.mapsService=n.mapService,this.initControlPos()}addControl(t,n){n.mapService.map?(t.addTo(this.scene),this.controls.push(t)):this.unAddControls.push(t)}getControlByName(t){return this.controls.find(n=>n.controlOption.name===t)}removeControl(t){const n=this.controls.indexOf(t);return n>-1&&this.controls.splice(n,1),t.remove(),this}addControls(){this.unAddControls.forEach(t=>{t.addTo(this.scene),this.controls.push(t)}),this.unAddControls=[]}destroy(){for(const t of this.controls)t.remove();this.controls=[],this.clearControlPos()}initControlPos(){const t=this.controlCorners={},n="l7-",r=this.controlContainer=Gu("div",n+"control-container",this.container);function i(o=[]){const s=o.map(l=>n+l).join(" ");t[o.filter(l=>!["row","column"].includes(l)).join("")]=Gu("div",s,r)}function a(o){return[...o.replace(/^(top|bottom|left|right|center)/,"$1-").split("-"),lMt[o]]}Object.values(DO).forEach(o=>{i(a(o))}),this.checkCornerOverlap()}clearControlPos(){for(const t in this.controlCorners)this.controlCorners[t]&&IO(this.controlCorners[t]);this.controlContainer&&IO(this.controlContainer)}checkCornerOverlap(){const t=window.MutationObserver;if(t)for(const n of Object.keys(this.controlCorners)){const r=n.match(/^(top|bottom)(left|right)$/);if(r){const[,i,a]=r,o=this.controlCorners[`${i}${a}`];new t(([{target:l}])=>{o&&(o.style[i]=l.clientHeight+"px")}).observe(this.controlCorners[`${a}${i}`],{childList:!0,attributes:!0})}}}}class cMt{constructor(){fe(this,"container",void 0),fe(this,"scene",void 0),fe(this,"mapsService",void 0),fe(this,"markers",[]),fe(this,"markerLayers",[]),fe(this,"unAddMarkers",[]),fe(this,"unAddMarkerLayers",[])}addMarkerLayer(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(t),t.addTo(this.scene)):this.unAddMarkerLayers.push(t)}removeMarkerLayer(t){t.destroy(),this.markerLayers.indexOf(t);const n=this.markerLayers.indexOf(t);n>-1&&this.markerLayers.splice(n,1)}addMarker(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(t),t.addTo(this.scene)):this.unAddMarkers.push(t)}addMarkers(){this.unAddMarkers.forEach(t=>{t.addTo(this.scene),this.markers.push(t)}),this.unAddMarkers=[]}addMarkerLayers(){this.unAddMarkerLayers.forEach(t=>{this.markerLayers.push(t),t.addTo(this.scene)}),this.unAddMarkers=[]}removeMarker(t){t.remove(),this.markers.indexOf(t);const n=this.markers.indexOf(t);n>-1&&this.markers.splice(n,1)}removeAllMarkers(){this.destroy()}init(t){this.scene=t,this.mapsService=t.mapService}destroy(){this.markers.forEach(t=>{t.remove()}),this.markers=[],this.markerLayers.forEach(t=>{t.destroy()}),this.markerLayers=[]}removeMakerLayerMarker(t){t.destroy()}}class fMt{constructor(){fe(this,"scene",void 0),fe(this,"mapsService",void 0),fe(this,"popups",[]),fe(this,"unAddPopups",[])}get isMarkerReady(){return this.mapsService.map&&this.mapsService.getMarkerContainer()}removePopup(t){t!=null&&t.isOpen()&&t.remove();const n=this.popups.indexOf(t);n>-1&&this.popups.splice(n,1);const r=this.unAddPopups.indexOf(t);r>-1&&this.unAddPopups.splice(r,1)}destroy(){this.popups.forEach(t=>t.remove())}addPopup(t){t&&t.getOptions().autoClose&&[...this.popups,...this.unAddPopups].forEach(n=>{n.getOptions().autoClose&&this.removePopup(n)}),this.isMarkerReady?(t.addTo(this.scene),this.popups.push(t)):this.unAddPopups.push(t),t.on("close",()=>{this.removePopup(t)})}initPopup(){this.unAddPopups.length&&this.unAddPopups.forEach(t=>{this.addPopup(t),this.unAddPopups=[]})}init(t){this.scene=t,this.mapsService=t.mapService}}const dMt={MapToken:"您正在使用 Demo 测试 Token, 生产环境务必自行注册 Token 确保服务稳定 高德地图申请地址 https://lbs.amap.com/api/javascript-api/guide/abc/prepare  Mapbox地图申请地址 https://docs.mapbox.com/help/glossary/access-token/",SDK:"请确认引入了mapbox-gl api且在L7之前引入"},{merge:hMt}=Oo,pMt={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,stencil:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},vMt={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",maskLayers:[],enableMask:!0,maskOperation:aL.AND,pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",activeMix:0,selectColor:"blue",selectMix:0,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0};class gMt{constructor(){fe(this,"sceneConfigCache",{}),fe(this,"layerConfigCache",{}),fe(this,"layerAttributeConfigCache",{})}getSceneConfig(t){return this.sceneConfigCache[t]}getSceneWarninfo(t){return dMt[t]}setSceneConfig(t,n){this.sceneConfigCache[t]=Pt(Pt({},pMt),n)}getLayerConfig(t){return this.layerConfigCache[t]}setLayerConfig(t,n,r){this.layerConfigCache[n]=Pt({},hMt({},this.sceneConfigCache[t],vMt,r))}getAttributeConfig(t){return this.layerAttributeConfigCache[t]}setAttributeConfig(t,n){this.layerAttributeConfigCache[t]=Pt(Pt({},this.layerAttributeConfigCache[t]),n)}clean(){this.sceneConfigCache={},this.layerConfigCache={}}}const W8=Math.PI/180,mMt=512,Uue=4003e4;function Vue({latitude:e=0,zoom:t=0,scale:n,highPrecision:r=!1,flipY:i=!1}){n=n!==void 0?n:Math.pow(2,t);const a={},o=mMt*n,s=Math.cos(e*W8),l=o/360,u=l/s,c=o/Uue/s;if(a.pixelsPerMeter=[c,-c,c],a.metersPerPixel=[1/c,-1/c,1/c],a.pixelsPerDegree=[l,-u,c],a.degreesPerPixel=[1/l,-1/u,1/c],r){const f=W8*Math.tan(e*W8)/s,d=l*f/2,h=o/Uue*f,p=h/u*c;a.pixelsPerDegree2=[0,-d,h],a.pixelsPerMeter2=[p,0,p],i&&(a.pixelsPerDegree2[1]=-a.pixelsPerDegree2[1],a.pixelsPerMeter2[1]=-a.pixelsPerMeter2[1])}return i&&(a.pixelsPerMeter[1]=-a.pixelsPerMeter[1],a.metersPerPixel[1]=-a.metersPerPixel[1],a.pixelsPerDegree[1]=-a.pixelsPerDegree[1],a.degreesPerPixel[1]=-a.degreesPerPixel[1]),a}const yMt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];class _Mt{constructor(t){fe(this,"needRefresh",!0),fe(this,"coordinateSystem",void 0),fe(this,"viewportCenter",void 0),fe(this,"viewportCenterProjection",void 0),fe(this,"pixelsPerDegree",void 0),fe(this,"pixelsPerDegree2",void 0),fe(this,"pixelsPerMeter",void 0),this.cameraService=t}refresh(t){const n=this.cameraService.getZoom(),r=t||this.cameraService.getCenter(),{pixelsPerMeter:i,pixelsPerDegree:a}=Vue({latitude:r[1],zoom:n});this.viewportCenter=r,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=i,this.pixelsPerDegree=a,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===PO.LNGLAT?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===PO.LNGLAT_OFFSET&&this.calculateLnglatOffset(r,n),this.needRefresh=!1}getCoordinateSystem(){return this.coordinateSystem}setCoordinateSystem(t){this.coordinateSystem=t}getViewportCenter(){return this.viewportCenter}getViewportCenterProjection(){return this.viewportCenterProjection}getPixelsPerDegree(){return this.pixelsPerDegree}getPixelsPerDegree2(){return this.pixelsPerDegree2}getPixelsPerMeter(){return this.pixelsPerMeter}calculateLnglatOffset(t,n,r,i){const{pixelsPerMeter:a,pixelsPerDegree:o,pixelsPerDegree2:s}=Vue({latitude:t[1],zoom:n,scale:r,flipY:i,highPrecision:!0});let l=this.cameraService.getViewMatrix();const u=this.cameraService.getProjectionMatrix();let c=pb([],u,l);const f=this.cameraService.projectFlat([Math.fround(t[0]),Math.fround(t[1])],Math.pow(2,n));this.viewportCenterProjection=Mj([],[f[0],f[1],0,1],c),l=this.cameraService.getViewMatrixUncentered()||l,c=pb([],u,l),c=pb([],c,yMt),this.cameraService.setViewProjectionMatrix(c),this.pixelsPerMeter=a,this.pixelsPerDegree=o,this.pixelsPerDegree2=s}}class bMt extends Xu.EventEmitter{constructor(...t){super(...t),fe(this,"renderMap",new Map),fe(this,"enable",!1),fe(this,"renderEnable",!1),fe(this,"cacheLogs",{})}setEnable(t){this.enable=!!t}log(t,n){if(!this.enable)return;const r=t.split(".");let i=null;r.forEach((a,o)=>{i!==null?(i[a]||(i[a]={}),o!==r.length-1&&(i=i[a])):(this.cacheLogs[a]||(this.cacheLogs[a]={}),o!==r.length-1&&(i=this.cacheLogs[a])),o===r.length-1&&(i[a]=Pt(Pt({time:Date.now()},i[a]),n))})}getLog(t){switch(typeof t){case"string":return this.cacheLogs[t];case"object":return t.map(n=>this.cacheLogs[n]).filter(n=>n!==void 0);case"undefined":return this.cacheLogs}}removeLog(t){delete this.cacheLogs[t]}generateRenderUid(){return this.renderEnable?aRt():""}renderDebug(t){this.renderEnable=t}renderStart(t){if(!this.renderEnable||!this.enable)return;const n=this.renderMap.get(t)||{};this.renderMap.set(t,Pt(Pt({},n),{},{renderUid:t,renderStart:Date.now()}))}renderEnd(t){if(!this.renderEnable||!this.enable)return;const n=this.renderMap.get(t);if(n){const r=n.renderStart,i=Date.now();this.emit("renderEnd",Pt(Pt({},n),{},{renderEnd:i,renderDuration:i-r})),this.renderMap.delete(t)}}destroy(){this.cacheLogs=null,this.renderMap.clear()}}var G8={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var zue;function xMt(){return zue||(zue=1,function(e){(function(t,n,r,i){var a=["","webkit","Moz","MS","ms","o"],o=n.createElement("div"),s="function",l=Math.round,u=Math.abs,c=Date.now;function f(ge,Ae,Ge){return setTimeout(_(ge,Ge),Ae)}function d(ge,Ae,Ge){return Array.isArray(ge)?(h(ge,Ge[Ae],Ge),!0):!1}function h(ge,Ae,Ge){var At;if(ge)if(ge.forEach)ge.forEach(Ae,Ge);else if(ge.length!==i)for(At=0;At<ge.length;)Ae.call(Ge,ge[At],At,ge),At++;else for(At in ge)ge.hasOwnProperty(At)&&Ae.call(Ge,ge[At],At,ge)}function p(ge,Ae,Ge){var At="DEPRECATED METHOD: "+Ae+`
`+Ge+` AT 
`;return function(){var dn=new Error("get-stack-trace"),qn=dn&&dn.stack?dn.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ri=t.console&&(t.console.warn||t.console.log);return ri&&ri.call(t.console,At,qn),ge.apply(this,arguments)}}var v;typeof Object.assign!="function"?v=function(Ae){if(Ae===i||Ae===null)throw new TypeError("Cannot convert undefined or null to object");for(var Ge=Object(Ae),At=1;At<arguments.length;At++){var dn=arguments[At];if(dn!==i&&dn!==null)for(var qn in dn)dn.hasOwnProperty(qn)&&(Ge[qn]=dn[qn])}return Ge}:v=Object.assign;var g=p(function(Ae,Ge,At){for(var dn=Object.keys(Ge),qn=0;qn<dn.length;)(!At||At&&Ae[dn[qn]]===i)&&(Ae[dn[qn]]=Ge[dn[qn]]),qn++;return Ae},"extend","Use `assign`."),m=p(function(Ae,Ge){return g(Ae,Ge,!0)},"merge","Use `assign`.");function b(ge,Ae,Ge){var At=Ae.prototype,dn;dn=ge.prototype=Object.create(At),dn.constructor=ge,dn._super=At,Ge&&v(dn,Ge)}function _(ge,Ae){return function(){return ge.apply(Ae,arguments)}}function x(ge,Ae){return typeof ge==s?ge.apply(Ae&&Ae[0]||i,Ae):ge}function E(ge,Ae){return ge===i?Ae:ge}function A(ge,Ae,Ge){h(O(Ae),function(At){ge.addEventListener(At,Ge,!1)})}function T(ge,Ae,Ge){h(O(Ae),function(At){ge.removeEventListener(At,Ge,!1)})}function R(ge,Ae){for(;ge;){if(ge==Ae)return!0;ge=ge.parentNode}return!1}function M(ge,Ae){return ge.indexOf(Ae)>-1}function O(ge){return ge.trim().split(/\s+/g)}function D(ge,Ae,Ge){if(ge.indexOf&&!Ge)return ge.indexOf(Ae);for(var At=0;At<ge.length;){if(Ge&&ge[At][Ge]==Ae||!Ge&&ge[At]===Ae)return At;At++}return-1}function C(ge){return Array.prototype.slice.call(ge,0)}function P(ge,Ae,Ge){for(var At=[],dn=[],qn=0;qn<ge.length;){var ri=ge[qn][Ae];D(dn,ri)<0&&At.push(ge[qn]),dn[qn]=ri,qn++}return At=At.sort(function(co,fo){return co[Ae]>fo[Ae]}),At}function B(ge,Ae){for(var Ge,At,dn=Ae[0].toUpperCase()+Ae.slice(1),qn=0;qn<a.length;){if(Ge=a[qn],At=Ge?Ge+dn:Ae,At in ge)return At;qn++}return i}var U=1;function L(){return U++}function F(ge){var Ae=ge.ownerDocument||ge;return Ae.defaultView||Ae.parentWindow||t}var N=/mobile|tablet|ip(ad|hone|od)|android/i,V="ontouchstart"in t,W=B(t,"PointerEvent")!==i,G=V&&N.test(navigator.userAgent),K="touch",q="pen",ue="mouse",he="kinect",Ce=25,ee=1,de=2,oe=4,pe=8,me=1,re=2,ne=4,se=8,be=16,Pe=re|ne,Ee=se|be,Le=Pe|Ee,He=["x","y"],rt=["clientX","clientY"];function Je(ge,Ae){var Ge=this;this.manager=ge,this.callback=Ae,this.element=ge.element,this.target=ge.options.inputTarget,this.domHandler=function(At){x(ge.options.enable,[ge])&&Ge.handler(At)},this.init()}Je.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(F(this.element),this.evWin,this.domHandler)}};function ot(ge){var Ae,Ge=ge.options.inputClass;return Ge?Ae=Ge:W?Ae=Di:G?Ae=il:V?Ae=Zu:Ae=Pn,new Ae(ge,ae)}function ae(ge,Ae,Ge){var At=Ge.pointers.length,dn=Ge.changedPointers.length,qn=Ae&ee&&At-dn===0,ri=Ae&(oe|pe)&&At-dn===0;Ge.isFirst=!!qn,Ge.isFinal=!!ri,qn&&(ge.session={}),Ge.eventType=Ae,Xe(ge,Ge),ge.emit("hammer.input",Ge),ge.recognize(Ge),ge.session.prevInput=Ge}function Xe(ge,Ae){var Ge=ge.session,At=Ae.pointers,dn=At.length;Ge.firstInput||(Ge.firstInput=Mn(Ae)),dn>1&&!Ge.firstMultiple?Ge.firstMultiple=Mn(Ae):dn===1&&(Ge.firstMultiple=!1);var qn=Ge.firstInput,ri=Ge.firstMultiple,no=ri?ri.center:qn.center,co=Ae.center=Sn(At);Ae.timeStamp=c(),Ae.deltaTime=Ae.timeStamp-qn.timeStamp,Ae.angle=We(no,co),Ae.distance=_r(no,co),Tt(Ge,Ae),Ae.offsetDirection=Gn(Ae.deltaX,Ae.deltaY);var fo=En(Ae.deltaTime,Ae.deltaX,Ae.deltaY);Ae.overallVelocityX=fo.x,Ae.overallVelocityY=fo.y,Ae.overallVelocity=u(fo.x)>u(fo.y)?fo.x:fo.y,Ae.scale=ri?Re(ri.pointers,At):1,Ae.rotation=ri?yt(ri.pointers,At):0,Ae.maxPointers=Ge.prevInput?Ae.pointers.length>Ge.prevInput.maxPointers?Ae.pointers.length:Ge.prevInput.maxPointers:Ae.pointers.length,sn(Ge,Ae);var zl=ge.element;R(Ae.srcEvent.target,zl)&&(zl=Ae.srcEvent.target),Ae.target=zl}function Tt(ge,Ae){var Ge=Ae.center,At=ge.offsetDelta||{},dn=ge.prevDelta||{},qn=ge.prevInput||{};(Ae.eventType===ee||qn.eventType===oe)&&(dn=ge.prevDelta={x:qn.deltaX||0,y:qn.deltaY||0},At=ge.offsetDelta={x:Ge.x,y:Ge.y}),Ae.deltaX=dn.x+(Ge.x-At.x),Ae.deltaY=dn.y+(Ge.y-At.y)}function sn(ge,Ae){var Ge=ge.lastInterval||Ae,At=Ae.timeStamp-Ge.timeStamp,dn,qn,ri,no;if(Ae.eventType!=pe&&(At>Ce||Ge.velocity===i)){var co=Ae.deltaX-Ge.deltaX,fo=Ae.deltaY-Ge.deltaY,zl=En(At,co,fo);qn=zl.x,ri=zl.y,dn=u(zl.x)>u(zl.y)?zl.x:zl.y,no=Gn(co,fo),ge.lastInterval=Ae}else dn=Ge.velocity,qn=Ge.velocityX,ri=Ge.velocityY,no=Ge.direction;Ae.velocity=dn,Ae.velocityX=qn,Ae.velocityY=ri,Ae.direction=no}function Mn(ge){for(var Ae=[],Ge=0;Ge<ge.pointers.length;)Ae[Ge]={clientX:l(ge.pointers[Ge].clientX),clientY:l(ge.pointers[Ge].clientY)},Ge++;return{timeStamp:c(),pointers:Ae,center:Sn(Ae),deltaX:ge.deltaX,deltaY:ge.deltaY}}function Sn(ge){var Ae=ge.length;if(Ae===1)return{x:l(ge[0].clientX),y:l(ge[0].clientY)};for(var Ge=0,At=0,dn=0;dn<Ae;)Ge+=ge[dn].clientX,At+=ge[dn].clientY,dn++;return{x:l(Ge/Ae),y:l(At/Ae)}}function En(ge,Ae,Ge){return{x:Ae/ge||0,y:Ge/ge||0}}function Gn(ge,Ae){return ge===Ae?me:u(ge)>=u(Ae)?ge<0?re:ne:Ae<0?se:be}function _r(ge,Ae,Ge){Ge||(Ge=He);var At=Ae[Ge[0]]-ge[Ge[0]],dn=Ae[Ge[1]]-ge[Ge[1]];return Math.sqrt(At*At+dn*dn)}function We(ge,Ae,Ge){Ge||(Ge=He);var At=Ae[Ge[0]]-ge[Ge[0]],dn=Ae[Ge[1]]-ge[Ge[1]];return Math.atan2(dn,At)*180/Math.PI}function yt(ge,Ae){return We(Ae[1],Ae[0],rt)+We(ge[1],ge[0],rt)}function Re(ge,Ae){return _r(Ae[0],Ae[1],rt)/_r(ge[0],ge[1],rt)}var ut={mousedown:ee,mousemove:de,mouseup:oe},_e="mousedown",It="mousemove mouseup";function Pn(){this.evEl=_e,this.evWin=It,this.pressed=!1,Je.apply(this,arguments)}b(Pn,Je,{handler:function(Ae){var Ge=ut[Ae.type];Ge&ee&&Ae.button===0&&(this.pressed=!0),Ge&de&&Ae.which!==1&&(Ge=oe),this.pressed&&(Ge&oe&&(this.pressed=!1),this.callback(this.manager,Ge,{pointers:[Ae],changedPointers:[Ae],pointerType:ue,srcEvent:Ae}))}});var pr={pointerdown:ee,pointermove:de,pointerup:oe,pointercancel:pe,pointerout:pe},_i={2:K,3:q,4:ue,5:he},lo="pointerdown",Ki="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(lo="MSPointerDown",Ki="MSPointerMove MSPointerUp MSPointerCancel");function Di(){this.evEl=lo,this.evWin=Ki,Je.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}b(Di,Je,{handler:function(Ae){var Ge=this.store,At=!1,dn=Ae.type.toLowerCase().replace("ms",""),qn=pr[dn],ri=_i[Ae.pointerType]||Ae.pointerType,no=ri==K,co=D(Ge,Ae.pointerId,"pointerId");qn&ee&&(Ae.button===0||no)?co<0&&(Ge.push(Ae),co=Ge.length-1):qn&(oe|pe)&&(At=!0),!(co<0)&&(Ge[co]=Ae,this.callback(this.manager,qn,{pointers:Ge,changedPointers:[Ae],pointerType:ri,srcEvent:Ae}),At&&Ge.splice(co,1))}});var br={touchstart:ee,touchmove:de,touchend:oe,touchcancel:pe},ji="touchstart",sd="touchstart touchmove touchend touchcancel";function Ku(){this.evTarget=ji,this.evWin=sd,this.started=!1,Je.apply(this,arguments)}b(Ku,Je,{handler:function(Ae){var Ge=br[Ae.type];if(Ge===ee&&(this.started=!0),!!this.started){var At=ld.call(this,Ae,Ge);Ge&(oe|pe)&&At[0].length-At[1].length===0&&(this.started=!1),this.callback(this.manager,Ge,{pointers:At[0],changedPointers:At[1],pointerType:K,srcEvent:Ae})}}});function ld(ge,Ae){var Ge=C(ge.touches),At=C(ge.changedTouches);return Ae&(oe|pe)&&(Ge=P(Ge.concat(At),"identifier")),[Ge,At]}var Xc={touchstart:ee,touchmove:de,touchend:oe,touchcancel:pe},bu="touchstart touchmove touchend touchcancel";function il(){this.evTarget=bu,this.targetIds={},Je.apply(this,arguments)}b(il,Je,{handler:function(Ae){var Ge=Xc[Ae.type],At=mh.call(this,Ae,Ge);At&&this.callback(this.manager,Ge,{pointers:At[0],changedPointers:At[1],pointerType:K,srcEvent:Ae})}});function mh(ge,Ae){var Ge=C(ge.touches),At=this.targetIds;if(Ae&(ee|de)&&Ge.length===1)return At[Ge[0].identifier]=!0,[Ge,Ge];var dn,qn,ri=C(ge.changedTouches),no=[],co=this.target;if(qn=Ge.filter(function(fo){return R(fo.target,co)}),Ae===ee)for(dn=0;dn<qn.length;)At[qn[dn].identifier]=!0,dn++;for(dn=0;dn<ri.length;)At[ri[dn].identifier]&&no.push(ri[dn]),Ae&(oe|pe)&&delete At[ri[dn].identifier],dn++;if(no.length)return[P(qn.concat(no),"identifier"),no]}var Ul=2500,qu=25;function Zu(){Je.apply(this,arguments);var ge=_(this.handler,this);this.touch=new il(this.manager,ge),this.mouse=new Pn(this.manager,ge),this.primaryTouch=null,this.lastTouches=[]}b(Zu,Je,{handler:function(Ae,Ge,At){var dn=At.pointerType==K,qn=At.pointerType==ue;if(!(qn&&At.sourceCapabilities&&At.sourceCapabilities.firesTouchEvents)){if(dn)na.call(this,Ge,At);else if(qn&&yh.call(this,At))return;this.callback(Ae,Ge,At)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function na(ge,Ae){ge&ee?(this.primaryTouch=Ae.changedPointers[0].identifier,ud.call(this,Ae)):ge&(oe|pe)&&ud.call(this,Ae)}function ud(ge){var Ae=ge.changedPointers[0];if(Ae.identifier===this.primaryTouch){var Ge={x:Ae.clientX,y:Ae.clientY};this.lastTouches.push(Ge);var At=this.lastTouches,dn=function(){var qn=At.indexOf(Ge);qn>-1&&At.splice(qn,1)};setTimeout(dn,Ul)}}function yh(ge){for(var Ae=ge.srcEvent.clientX,Ge=ge.srcEvent.clientY,At=0;At<this.lastTouches.length;At++){var dn=this.lastTouches[At],qn=Math.abs(Ae-dn.x),ri=Math.abs(Ge-dn.y);if(qn<=qu&&ri<=qu)return!0}return!1}var Rt=B(o.style,"touchAction"),wn=Rt!==i,zr="compute",la="auto",Ya="manipulation",Do="none",Po="pan-x",os="pan-y",Fs=Ln();function xu(ge,Ae){this.manager=ge,this.set(Ae)}xu.prototype={set:function(ge){ge==zr&&(ge=this.compute()),wn&&this.manager.element.style&&Fs[ge]&&(this.manager.element.style[Rt]=ge),this.actions=ge.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var ge=[];return h(this.manager.recognizers,function(Ae){x(Ae.options.enable,[Ae])&&(ge=ge.concat(Ae.getTouchAction()))}),wt(ge.join(" "))},preventDefaults:function(ge){var Ae=ge.srcEvent,Ge=ge.offsetDirection;if(this.manager.session.prevented){Ae.preventDefault();return}var At=this.actions,dn=M(At,Do)&&!Fs[Do],qn=M(At,os)&&!Fs[os],ri=M(At,Po)&&!Fs[Po];if(dn){var no=ge.pointers.length===1,co=ge.distance<2,fo=ge.deltaTime<250;if(no&&co&&fo)return}if(!(ri&&qn)&&(dn||qn&&Ge&Pe||ri&&Ge&Ee))return this.preventSrc(Ae)},preventSrc:function(ge){this.manager.session.prevented=!0,ge.preventDefault()}};function wt(ge){if(M(ge,Do))return Do;var Ae=M(ge,Po),Ge=M(ge,os);return Ae&&Ge?Do:Ae||Ge?Ae?Po:os:M(ge,Ya)?Ya:la}function Ln(){if(!wn)return!1;var ge={},Ae=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Ge){ge[Ge]=Ae?t.CSS.supports("touch-action",Ge):!0}),ge}var rr=1,vr=2,Ia=4,uo=8,Vl=uo,cd=16,al=32;function Su(ge){this.options=v({},this.defaults,ge||{}),this.id=L(),this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=rr,this.simultaneous={},this.requireFail=[]}Su.prototype={defaults:{},set:function(ge){return v(this.options,ge),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(ge){if(d(ge,"recognizeWith",this))return this;var Ae=this.simultaneous;return ge=Kp(ge,this),Ae[ge.id]||(Ae[ge.id]=ge,ge.recognizeWith(this)),this},dropRecognizeWith:function(ge){return d(ge,"dropRecognizeWith",this)?this:(ge=Kp(ge,this),delete this.simultaneous[ge.id],this)},requireFailure:function(ge){if(d(ge,"requireFailure",this))return this;var Ae=this.requireFail;return ge=Kp(ge,this),D(Ae,ge)===-1&&(Ae.push(ge),ge.requireFailure(this)),this},dropRequireFailure:function(ge){if(d(ge,"dropRequireFailure",this))return this;ge=Kp(ge,this);var Ae=D(this.requireFail,ge);return Ae>-1&&this.requireFail.splice(Ae,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(ge){return!!this.simultaneous[ge.id]},emit:function(ge){var Ae=this,Ge=this.state;function At(dn){Ae.manager.emit(dn,ge)}Ge<uo&&At(Ae.options.event+qy(Ge)),At(Ae.options.event),ge.additionalEvent&&At(ge.additionalEvent),Ge>=uo&&At(Ae.options.event+qy(Ge))},tryEmit:function(ge){if(this.canEmit())return this.emit(ge);this.state=al},canEmit:function(){for(var ge=0;ge<this.requireFail.length;){if(!(this.requireFail[ge].state&(al|rr)))return!1;ge++}return!0},recognize:function(ge){var Ae=v({},ge);if(!x(this.options.enable,[this,Ae])){this.reset(),this.state=al;return}this.state&(Vl|cd|al)&&(this.state=rr),this.state=this.process(Ae),this.state&(vr|Ia|uo|cd)&&this.tryEmit(Ae)},process:function(ge){},getTouchAction:function(){},reset:function(){}};function qy(ge){return ge&cd?"cancel":ge&uo?"end":ge&Ia?"move":ge&vr?"start":""}function Zy(ge){return ge==be?"down":ge==se?"up":ge==re?"left":ge==ne?"right":""}function Kp(ge,Ae){var Ge=Ae.manager;return Ge?Ge.get(ge):ge}function Us(){Su.apply(this,arguments)}b(Us,Su,{defaults:{pointers:1},attrTest:function(ge){var Ae=this.options.pointers;return Ae===0||ge.pointers.length===Ae},process:function(ge){var Ae=this.state,Ge=ge.eventType,At=Ae&(vr|Ia),dn=this.attrTest(ge);return At&&(Ge&pe||!dn)?Ae|cd:At||dn?Ge&oe?Ae|uo:Ae&vr?Ae|Ia:vr:al}});function _h(){Us.apply(this,arguments),this.pX=null,this.pY=null}b(_h,Us,{defaults:{event:"pan",threshold:10,pointers:1,direction:Le},getTouchAction:function(){var ge=this.options.direction,Ae=[];return ge&Pe&&Ae.push(os),ge&Ee&&Ae.push(Po),Ae},directionTest:function(ge){var Ae=this.options,Ge=!0,At=ge.distance,dn=ge.direction,qn=ge.deltaX,ri=ge.deltaY;return dn&Ae.direction||(Ae.direction&Pe?(dn=qn===0?me:qn<0?re:ne,Ge=qn!=this.pX,At=Math.abs(ge.deltaX)):(dn=ri===0?me:ri<0?se:be,Ge=ri!=this.pY,At=Math.abs(ge.deltaY))),ge.direction=dn,Ge&&At>Ae.threshold&&dn&Ae.direction},attrTest:function(ge){return Us.prototype.attrTest.call(this,ge)&&(this.state&vr||!(this.state&vr)&&this.directionTest(ge))},emit:function(ge){this.pX=ge.deltaX,this.pY=ge.deltaY;var Ae=Zy(ge.direction);Ae&&(ge.additionalEvent=this.options.event+Ae),this._super.emit.call(this,ge)}});function Kc(){Us.apply(this,arguments)}b(Kc,Us,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Do]},attrTest:function(ge){return this._super.attrTest.call(this,ge)&&(Math.abs(ge.scale-1)>this.options.threshold||this.state&vr)},emit:function(ge){if(ge.scale!==1){var Ae=ge.scale<1?"in":"out";ge.additionalEvent=this.options.event+Ae}this._super.emit.call(this,ge)}});function fd(){Su.apply(this,arguments),this._timer=null,this._input=null}b(fd,Su,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[la]},process:function(ge){var Ae=this.options,Ge=ge.pointers.length===Ae.pointers,At=ge.distance<Ae.threshold,dn=ge.deltaTime>Ae.time;if(this._input=ge,!At||!Ge||ge.eventType&(oe|pe)&&!dn)this.reset();else if(ge.eventType&ee)this.reset(),this._timer=f(function(){this.state=Vl,this.tryEmit()},Ae.time,this);else if(ge.eventType&oe)return Vl;return al},reset:function(){clearTimeout(this._timer)},emit:function(ge){this.state===Vl&&(ge&&ge.eventType&oe?this.manager.emit(this.options.event+"up",ge):(this._input.timeStamp=c(),this.manager.emit(this.options.event,this._input)))}});function am(){Us.apply(this,arguments)}b(am,Us,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Do]},attrTest:function(ge){return this._super.attrTest.call(this,ge)&&(Math.abs(ge.rotation)>this.options.threshold||this.state&vr)}});function qp(){Us.apply(this,arguments)}b(qp,Us,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Pe|Ee,pointers:1},getTouchAction:function(){return _h.prototype.getTouchAction.call(this)},attrTest:function(ge){var Ae=this.options.direction,Ge;return Ae&(Pe|Ee)?Ge=ge.overallVelocity:Ae&Pe?Ge=ge.overallVelocityX:Ae&Ee&&(Ge=ge.overallVelocityY),this._super.attrTest.call(this,ge)&&Ae&ge.offsetDirection&&ge.distance>this.options.threshold&&ge.maxPointers==this.options.pointers&&u(Ge)>this.options.velocity&&ge.eventType&oe},emit:function(ge){var Ae=Zy(ge.offsetDirection);Ae&&this.manager.emit(this.options.event+Ae,ge),this.manager.emit(this.options.event,ge)}});function ol(){Su.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}b(ol,Su,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ya]},process:function(ge){var Ae=this.options,Ge=ge.pointers.length===Ae.pointers,At=ge.distance<Ae.threshold,dn=ge.deltaTime<Ae.time;if(this.reset(),ge.eventType&ee&&this.count===0)return this.failTimeout();if(At&&dn&&Ge){if(ge.eventType!=oe)return this.failTimeout();var qn=this.pTime?ge.timeStamp-this.pTime<Ae.interval:!0,ri=!this.pCenter||_r(this.pCenter,ge.center)<Ae.posThreshold;this.pTime=ge.timeStamp,this.pCenter=ge.center,!ri||!qn?this.count=1:this.count+=1,this._input=ge;var no=this.count%Ae.taps;if(no===0)return this.hasRequireFailures()?(this._timer=f(function(){this.state=Vl,this.tryEmit()},Ae.interval,this),vr):Vl}return al},failTimeout:function(){return this._timer=f(function(){this.state=al},this.options.interval,this),al},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Vl&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function sl(ge,Ae){return Ae=Ae||{},Ae.recognizers=E(Ae.recognizers,sl.defaults.preset),new Zp(ge,Ae)}sl.VERSION="2.0.7",sl.defaults={domEvents:!1,touchAction:zr,enable:!0,inputTarget:null,inputClass:null,preset:[[am,{enable:!1}],[Kc,{enable:!1},["rotate"]],[qp,{direction:Pe}],[_h,{direction:Pe},["swipe"]],[ol],[ol,{event:"doubletap",taps:2},["tap"]],[fd]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Qy=1,bh=2;function Zp(ge,Ae){this.options=v({},sl.defaults,Ae||{}),this.options.inputTarget=this.options.inputTarget||ge,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=ge,this.input=ot(this),this.touchAction=new xu(this,this.options.touchAction),Qp(this,!0),h(this.options.recognizers,function(Ge){var At=this.add(new Ge[0](Ge[1]));Ge[2]&&At.recognizeWith(Ge[2]),Ge[3]&&At.requireFailure(Ge[3])},this)}Zp.prototype={set:function(ge){return v(this.options,ge),ge.touchAction&&this.touchAction.update(),ge.inputTarget&&(this.input.destroy(),this.input.target=ge.inputTarget,this.input.init()),this},stop:function(ge){this.session.stopped=ge?bh:Qy},recognize:function(ge){var Ae=this.session;if(!Ae.stopped){this.touchAction.preventDefaults(ge);var Ge,At=this.recognizers,dn=Ae.curRecognizer;(!dn||dn&&dn.state&Vl)&&(dn=Ae.curRecognizer=null);for(var qn=0;qn<At.length;)Ge=At[qn],Ae.stopped!==bh&&(!dn||Ge==dn||Ge.canRecognizeWith(dn))?Ge.recognize(ge):Ge.reset(),!dn&&Ge.state&(vr|Ia|uo)&&(dn=Ae.curRecognizer=Ge),qn++}},get:function(ge){if(ge instanceof Su)return ge;for(var Ae=this.recognizers,Ge=0;Ge<Ae.length;Ge++)if(Ae[Ge].options.event==ge)return Ae[Ge];return null},add:function(ge){if(d(ge,"add",this))return this;var Ae=this.get(ge.options.event);return Ae&&this.remove(Ae),this.recognizers.push(ge),ge.manager=this,this.touchAction.update(),ge},remove:function(ge){if(d(ge,"remove",this))return this;if(ge=this.get(ge),ge){var Ae=this.recognizers,Ge=D(Ae,ge);Ge!==-1&&(Ae.splice(Ge,1),this.touchAction.update())}return this},on:function(ge,Ae){if(ge!==i&&Ae!==i){var Ge=this.handlers;return h(O(ge),function(At){Ge[At]=Ge[At]||[],Ge[At].push(Ae)}),this}},off:function(ge,Ae){if(ge!==i){var Ge=this.handlers;return h(O(ge),function(At){Ae?Ge[At]&&Ge[At].splice(D(Ge[At],Ae),1):delete Ge[At]}),this}},emit:function(ge,Ae){this.options.domEvents&&qx(ge,Ae);var Ge=this.handlers[ge]&&this.handlers[ge].slice();if(!(!Ge||!Ge.length)){Ae.type=ge,Ae.preventDefault=function(){Ae.srcEvent.preventDefault()};for(var At=0;At<Ge.length;)Ge[At](Ae),At++}},destroy:function(){this.element&&Qp(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Qp(ge,Ae){var Ge=ge.element;if(Ge.style){var At;h(ge.options.cssProps,function(dn,qn){At=B(Ge.style,qn),Ae?(ge.oldCssProps[At]=Ge.style[At],Ge.style[At]=dn):Ge.style[At]=ge.oldCssProps[At]||""}),Ae||(ge.oldCssProps={})}}function qx(ge,Ae){var Ge=n.createEvent("Event");Ge.initEvent(ge,!0,!0),Ge.gesture=Ae,Ae.target.dispatchEvent(Ge)}v(sl,{INPUT_START:ee,INPUT_MOVE:de,INPUT_END:oe,INPUT_CANCEL:pe,STATE_POSSIBLE:rr,STATE_BEGAN:vr,STATE_CHANGED:Ia,STATE_ENDED:uo,STATE_RECOGNIZED:Vl,STATE_CANCELLED:cd,STATE_FAILED:al,DIRECTION_NONE:me,DIRECTION_LEFT:re,DIRECTION_RIGHT:ne,DIRECTION_UP:se,DIRECTION_DOWN:be,DIRECTION_HORIZONTAL:Pe,DIRECTION_VERTICAL:Ee,DIRECTION_ALL:Le,Manager:Zp,Input:Je,TouchAction:xu,TouchInput:il,MouseInput:Pn,PointerEventInput:Di,TouchMouseInput:Zu,SingleTouchInput:Ku,Recognizer:Su,AttrRecognizer:Us,Tap:ol,Pan:_h,Swipe:qp,Pinch:Kc,Rotate:am,Press:fd,on:A,off:T,each:h,merge:m,extend:g,assign:v,inherit:b,bindFn:_,prefixed:B});var Jy=typeof t<"u"?t:typeof self<"u"?self:{};Jy.Hammer=sl,e.exports?e.exports=sl:t[r]=sl})(window,document,"Hammer")}(G8)),G8.exports}var SMt=xMt();const LA=ni(SMt),AMt={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"};class EMt extends Tj{get mapService(){return this.container.mapService}constructor(t){super(),fe(this,"indragging",!1),fe(this,"hammertime",void 0),fe(this,"lastClickTime",0),fe(this,"lastClickXY",[-1,-1]),fe(this,"clickTimer",void 0),fe(this,"$containter",void 0),fe(this,"onDrag",n=>{const r=this.interactionEvent(n);r.type=AMt[r.type],r.type==="dragging"?this.indragging=!0:this.indragging=!1,this.emit(au.Drag,r)}),fe(this,"onHammer",n=>{n.srcEvent.stopPropagation();const r=this.interactionEvent(n);this.emit(au.Hover,r)}),fe(this,"onTouch",n=>{const r=n.touches[0];this.onHover({clientX:r.clientX,clientY:r.clientY,type:"touchstart"})}),fe(this,"onTouchEnd",n=>{if(n.changedTouches.length>0){const r=n.changedTouches[0];this.onHover({clientX:r.clientX,clientY:r.clientY,type:"touchend"})}}),fe(this,"onTouchMove",n=>{const r=n.changedTouches[0];this.onHover({clientX:r.clientX,clientY:r.clientY,type:"touchmove"})}),fe(this,"onHover",n=>{const{clientX:r,clientY:i}=n;let a=r,o=i;const s=n.type,l=this.mapService.getMapContainer();if(l){const{top:c,left:f}=l.getBoundingClientRect();a=a-f-l.clientLeft,o=o-c-l.clientTop}const u=this.mapService.containerToLngLat([a,o]);if(s==="click"){this.isDoubleTap(a,o,u);return}if(s==="touch"){this.isDoubleTap(a,o,u);return}s!=="click"&&s!=="dblclick"&&this.emit(au.Hover,{x:a,y:o,lngLat:u,type:s,target:n})}),this.container=t}init(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}destroy(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(au.Hover)}triggerHover({x:t,y:n}){this.emit(au.Hover,{x:t,y:n})}triggerSelect(t){this.emit(au.Select,{featureId:t})}triggerActive(t){this.emit(au.Active,{featureId:t})}addEventListenerOnMap(){const t=this.mapService.getMapContainer();if(t){const n=new LA.Manager(t);n.add(new LA.Tap({event:"dblclick",taps:2})),n.add(new LA.Tap({event:"click"})),n.add(new LA.Pan({threshold:0,pointers:0})),n.add(new LA.Press({})),n.on("dblclick click",this.onHammer),n.on("panstart panmove panend pancancel",this.onDrag),t.addEventListener("touchstart",this.onTouch),t.addEventListener("touchend",this.onTouchEnd),t.addEventListener("mousemove",this.onHover),t.addEventListener("touchmove",this.onTouchMove),t.addEventListener("mousedown",this.onHover,!0),t.addEventListener("mouseup",this.onHover),t.addEventListener("contextmenu",this.onHover),this.hammertime=n}}removeEventListenerOnMap(){const t=this.mapService.getMapContainer();t&&(t.removeEventListener("mousemove",this.onHover),this.hammertime.off("dblclick click",this.onHammer),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),t.removeEventListener("touchstart",this.onTouch),t.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("mousedown",this.onHover),t.removeEventListener("mouseup",this.onHover),t.removeEventListener("contextmenu",this.onHover))}interactionEvent(t){const{type:n,pointerType:r}=t;let i,a;r==="touch"?(a=Math.floor(t.pointers[0].clientY),i=Math.floor(t.pointers[0].clientX)):(a=Math.floor(t.srcEvent.y),i=Math.floor(t.srcEvent.x));const o=this.mapService.getMapContainer();if(o){const{top:l,left:u}=o.getBoundingClientRect();i-=u,a-=l}const s=this.mapService.containerToLngLat([i,a]);return{x:i,y:a,lngLat:s,type:n,target:t.srcEvent}}isDoubleTap(t,n,r){const i=new Date().getTime();let a="click";i-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-t)<10&&Math.abs(this.lastClickXY[1]-n)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),a="dblclick",this.emit(au.Hover,{x:t,y:n,lngLat:r,type:a})):(this.lastClickTime=i,this.lastClickXY=[t,n],this.clickTimer=setTimeout(()=>{a="click",this.emit(au.Hover,{x:t,y:n,lngLat:r,type:a})},400))}}let TMt=0;function wMt(e){let t=e;if(typeof e=="string"&&(t=document.getElementById(e)),t){const n=document.createElement("div");return n.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,n.id=`l7-scene-${TMt++}`,n.classList.add("l7-scene"),t.appendChild(n),n}return null}function CMt(e){var t;let n=!0;if((e==null||(t=e.target)===null||t===void 0?void 0:t.target)instanceof HTMLElement){var r;let a=e==null||(r=e.target)===null||r===void 0?void 0:r.target;for(;a;){var i;const o=Array.from(a.classList);if(o.includes("l7-marker")||o.includes("l7-popup")){n=!1;break}a=(i=a)===null||i===void 0?void 0:i.parentElement}}return n}let TT=function(e){return e[e.SAMPLED=0]="SAMPLED",e[e.RENDER_TARGET=1]="RENDER_TARGET",e}({});class RMt{constructor(t){var n=this;fe(this,"pickedColors",void 0),fe(this,"pickedTileLayers",[]),fe(this,"pickingFBO",void 0),fe(this,"width",0),fe(this,"height",0),fe(this,"alreadyInPicking",!1),fe(this,"pickBufferScale",1),fe(this,"pickFromPickingFBO",function(){var r=Ut(function*(i,{x:a,y:o,lngLat:s,type:l,target:u}){var c;let f=!1;const{readPixels:d,readPixelsAsync:h,getViewportSize:p,queryVerdorInfo:v}=n.rendererService,{width:g,height:m}=p(),{enableHighlight:b,enableSelect:_}=i.getLayerConfig(),x=a*iu,E=o*iu;if(x>g-1*iu||x<0||E>m-1*iu||E<0)return!1;let A;if(v()==="WebGPU"?A=yield h({x:Math.floor(x/n.pickBufferScale),y:Math.floor((m-(o+1)*iu)/n.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:n.pickingFBO}):A=d({x:Math.floor(x/n.pickBufferScale),y:Math.floor((m-(o+1)*iu)/n.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:n.pickingFBO}),n.pickedColors=A,A[0]!==0||A[1]!==0||A[2]!==0){const R=iy(A),M=i.layerPickService.getFeatureById(R);R!==i.getCurrentPickId()&&l==="mousemove"&&(l="mouseenter");const O={x:a,y:o,type:l,lngLat:s,featureId:R,feature:M,target:u};M&&(f=!0,i.setCurrentPickId(R),n.triggerHoverOnLayer(i,O))}else{const R={x:a,y:o,lngLat:s,type:i.getCurrentPickId()!==null&&l==="mousemove"?"mouseout":"un"+l,featureId:null,target:u,feature:null};n.triggerHoverOnLayer(i,Pt(Pt({},R),{},{type:"unpick"})),n.triggerHoverOnLayer(i,R),i.setCurrentPickId(null)}if(b&&i.layerPickService.highlightPickedFeature(A),_&&l==="click"&&((c=A)===null||c===void 0?void 0:c.toString())!==[0,0,0,0].toString()){const R=iy(A);i.getCurrentSelectedId()===null||R!==i.getCurrentSelectedId()?(i.layerPickService.selectFeature(A),i.setCurrentSelectedId(R)):(i.layerPickService.selectFeature(new Uint8Array([0,0,0,0])),i.setCurrentSelectedId(null))}return f});return function(i,a){return r.apply(this,arguments)}}()),this.container=t}get mapService(){return this.container.mapService}get rendererService(){return this.container.rendererService}get configService(){return this.container.globalConfigService}get interactionService(){return this.container.interactionService}get layerService(){return this.container.layerService}init(t){const{createTexture2D:n,createFramebuffer:r,getViewportSize:i}=this.rendererService;let{width:a,height:o}=i();this.pickBufferScale=this.configService.getSceneConfig(t).pickBufferScale||1,a=Math.round(a/this.pickBufferScale),o=Math.round(o/this.pickBufferScale);const s=n({width:a,height:o,usage:TT.RENDER_TARGET,label:"Picking Texture"});this.pickingFBO=r({color:s,depth:!0,width:a,height:o}),this.interactionService.on(au.Hover,this.pickingAllLayer.bind(this))}boxPickLayer(t,n,r){var i=this;return Ut(function*(){const{useFramebufferAsync:a,clear:o}=i.rendererService;i.resizePickingFBO(),t.hooks.beforePickingEncode.call(),yield a(i.pickingFBO,Ut(function*(){o({framebuffer:i.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),t.renderModels({ispick:!0})})),t.hooks.afterPickingEncode.call();const s=yield i.pickBox(t,n);r(s)})()}pickBox(t,n){var r=this;return Ut(function*(){const[i,a,o,s]=n.map(m=>{const b=m<0?0:m;return Math.floor(b*iu/r.pickBufferScale)}),{readPixelsAsync:l,getViewportSize:u}=r.rendererService,{width:c,height:f}=u();if(i>(c-1)*iu/r.pickBufferScale||o<0||a>(f-1)*iu/r.pickBufferScale||s<0)return[];const d=Math.min(c/r.pickBufferScale,o)-i,h=Math.min(f/r.pickBufferScale,s)-a,p=yield l({x:i,y:Math.floor(f/r.pickBufferScale-(s+1)),width:d,height:h,data:new Uint8Array(d*h*4),framebuffer:r.pickingFBO}),v=[],g={};for(let m=0;m<p.length/4;m=m+1){const b=p.slice(m*4,m*4+4),_=iy(b);if(_!==-1&&!g[_]){const x=t.layerPickService.getFeatureById(_);v.push(Pt(Pt({},x),{},{pickedFeatureIdx:_})),g[_]=!0}}return v})()}handleCursor(t,n){const{cursor:r="",cursorEnabled:i}=t.getLayerConfig();if(i){const o=this.mapService.getType()==="amap"?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),s=o==null?void 0:o.style.getPropertyValue("cursor");n==="unmousemove"&&s!==""?o==null||o.style.setProperty("cursor",""):n==="mousemove"&&(o==null||o.style.setProperty("cursor",r))}}destroy(){this.pickingFBO.destroy(),this.pickingFBO=null}pickingAllLayer(t){var n=this;return Ut(function*(){!n.layerService.needPick(t.type)||!n.isPickingAllLayer()||(n.alreadyInPicking=!0,yield n.pickingLayers(t),n.layerService.renderLayers(),n.alreadyInPicking=!1)})()}isPickingAllLayer(){return!(this.alreadyInPicking||this.layerService.alreadyInRendering||this.interactionService.indragging||!this.layerService.getShaderPickStat())}resizePickingFBO(){const{getViewportSize:t}=this.rendererService,{width:n,height:r}=t();(this.width!==n||this.height!==r)&&(this.pickingFBO.resize({width:Math.round(n/this.pickBufferScale),height:Math.round(r/this.pickBufferScale)}),this.width=n,this.height=r)}pickingLayers(t){var n=this;return Ut(function*(){const{clear:r,useFramebufferAsync:i}=n.rendererService;n.resizePickingFBO();const a=n.layerService.getRenderList();for(const o of a.filter(s=>s.needPick(t.type)).reverse()){yield i(n.pickingFBO,Ut(function*(){r({framebuffer:n.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),o.layerPickService.pickRender(t)}));const s=yield n.pickFromPickingFBO(o,t);if(n.layerService.pickedLayerId=s?+o.id:-1,s&&!o.getLayerConfig().enablePropagation)break}})()}triggerHoverOnLayer(t,n){CMt(n)&&(this.handleCursor(t,n.type),t.emit(n.type,n))}}class IMt{constructor(t=!0){fe(this,"autoStart",void 0),fe(this,"startTime",0),fe(this,"oldTime",0),fe(this,"running",!1),fe(this,"elapsedTime",0),this.autoStart=t}start(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=(typeof performance>"u"?Date:performance).now();t=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=t}return t}}const{throttle:$ue}=Oo;class MMt extends Xu.EventEmitter{get renderService(){return this.container.rendererService}get mapService(){return this.container.mapService}get debugService(){return this.container.debugService}constructor(t){super(),fe(this,"pickedLayerId",-1),fe(this,"clock",new IMt),fe(this,"alreadyInRendering",!1),fe(this,"layers",[]),fe(this,"layerList",[]),fe(this,"layerRenderID",void 0),fe(this,"sceneInited",!1),fe(this,"animateInstanceCount",0),fe(this,"shaderPicking",!0),fe(this,"enableRender",!0),fe(this,"reRender",$ue(()=>{this.renderLayers()},32)),fe(this,"throttleRenderLayers",$ue(()=>{this.renderLayers()},16)),this.container=t}needPick(t){return this.updateLayerRenderList(),this.layerList.some(n=>n.needPick(t))}add(t){this.layers.push(t),this.sceneInited&&t.init().then(()=>{this.renderLayers()})}addMask(t){this.sceneInited&&t.init().then(()=>{this.renderLayers()})}initLayers(){var t=this;return Ut(function*(){t.sceneInited=!0,t.layers.forEach(function(){var n=Ut(function*(r){r.startInit||(yield r.init(),t.updateLayerRenderList())});return function(r){return n.apply(this,arguments)}}())})()}getSceneInited(){return this.sceneInited}getRenderList(){return this.layerList}getLayers(){return this.layers}getLayer(t){return this.layers.find(n=>n.id===t)}getLayerByName(t){return this.layers.find(n=>n.name===t)}remove(t,n){var r=this;return Ut(function*(){n?n.layerChildren=n.layerChildren.filter(i=>i!==t):r.layers=r.layers.filter(i=>i!==t),t.destroy(),r.reRender(),r.emit("layerChange",r.layers)})()}removeAllLayers(){var t=this;return Ut(function*(){t.destroy(),t.reRender()})()}setEnableRender(t){this.enableRender=t}renderLayers(){var t=this;return Ut(function*(){if(t.alreadyInRendering||!t.enableRender)return;t.updateLayerRenderList();const n=t.debugService.generateRenderUid();t.debugService.renderStart(n),t.alreadyInRendering=!0,t.clear();for(const r of t.layerList)r.prerender();t.renderService.beginFrame();for(const r of t.layerList){const{enableMask:i}=r.getLayerConfig();r.masks.filter(a=>a.inited).length>0&&i&&t.renderMask(r.masks),r.getLayerConfig().enableMultiPassRenderer?yield r.renderMultiPass():r.render()}t.renderService.endFrame(),t.debugService.renderEnd(n),t.alreadyInRendering=!1})()}renderMask(t){let n=0;this.renderService.clear({stencil:0,depth:1,framebuffer:null});const r=t.length>1?$0.MULTIPLE:$0.SINGLE;for(const i of t)i.render({isStencil:!0,stencilType:r,stencilIndex:n++})}beforeRenderData(t){var n=this;return Ut(function*(){(yield t.hooks.beforeRenderData.promise())&&n.renderLayers()})()}renderTileLayerMask(t){let n=0;const{enableMask:r=!0}=t.getLayerConfig();let i=t.tileMask?1:0;const a=t.masks.filter(s=>s.inited);i=i+(r?a.length:1);const o=i>1?$0.MULTIPLE:$0.SINGLE;if((t.tileMask||a.length&&r)&&this.renderService.clear({stencil:0,depth:1,framebuffer:null}),a.length&&r)for(const s of a)s.render({isStencil:!0,stencilType:o,stencilIndex:n++});t.tileMask&&t.tileMask.render({isStencil:!0,stencilType:o,stencilIndex:n++,stencilOperation:aL.OR})}renderTileLayer(t){var n=this;return Ut(function*(){n.renderTileLayerMask(t),t.getLayerConfig().enableMultiPassRenderer?yield t.renderMultiPass():yield t.render()})()}updateLayerRenderList(){this.layerList=[],this.layers.filter(t=>t.inited).filter(t=>t.isVisible()).sort((t,n)=>t.zIndex-n.zIndex).forEach(t=>{this.layerList.push(t)})}destroy(){this.layers.forEach(t=>{t.destroy()}),this.layers=[],this.layerList=[],this.emit("layerChange",this.layers)}startAnimate(){this.animateInstanceCount++===0&&(this.clock.start(),this.runRender())}stopAnimate(){--this.animateInstanceCount===0&&(this.stopRender(),this.clock.stop())}getOESTextureFloat(){return this.renderService.extensionObject.OES_texture_float}enableShaderPick(){this.shaderPicking=!0}disableShaderPick(){this.shaderPicking=!1}getShaderPickStat(){return this.shaderPicking}clear(){const t=ga(this.mapService.bgColor);this.renderService.clear({color:t,depth:1,stencil:0,framebuffer:null})}runRender(){this.renderLayers(),this.layerRenderID=window.requestAnimationFrame(this.runRender.bind(this))}stopRender(){window.cancelAnimationFrame(this.layerRenderID)}}function OMt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function sh(e,t){if(e==null)return{};var n,r,i=OMt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const{isNil:DMt}=Oo;class PMt{constructor(t){fe(this,"name",void 0),fe(this,"type",void 0),fe(this,"scale",void 0),fe(this,"descriptor",void 0),fe(this,"featureBufferLayout",[]),fe(this,"needRescale",!1),fe(this,"needRemapping",!1),fe(this,"needRegenerateVertices",!1),fe(this,"featureRange",{startIndex:0,endIndex:1/0}),fe(this,"vertexAttribute",void 0),fe(this,"defaultCallback",n=>{if(n.length===0){var r;return((r=this.scale)===null||r===void 0?void 0:r.defaultValues)||[]}return n.map((i,a)=>{var o;return((o=this.scale)===null||o===void 0?void 0:o.scalers[a].func)(i)})}),this.setProps(t)}setProps(t){Object.assign(this,t)}mapping(t){var n;if((n=this.scale)!==null&&n!==void 0&&n.callback){var r;const i=(r=this.scale)===null||r===void 0?void 0:r.callback(...t);if(!DMt(i))return[i]}return this.defaultCallback(t)}resetDescriptor(){this.descriptor&&(this.descriptor.buffer.data=[])}}const LMt=["buffer","update","name"],NMt=["buffer","update","name"],BMt={[ie.FLOAT]:4,[ie.UNSIGNED_BYTE]:1,[ie.UNSIGNED_SHORT]:2};class kMt{constructor(t){fe(this,"attributesAndIndices",void 0),fe(this,"attributes",[]),fe(this,"triangulation",void 0),fe(this,"featureLayout",{sizePerElement:0,elements:[]}),this.rendererService=t}registerStyleAttribute(t){let n=this.getLayerStyleAttribute(t.name||"");return n?n.setProps(t):(n=new PMt(t),this.attributes.push(n)),n}unRegisterStyleAttribute(t){const n=this.attributes.findIndex(r=>r.name===t);n>-1&&this.attributes.splice(n,1)}updateScaleAttribute(t){this.attributes.forEach(n=>{var r;const i=n.name,a=(r=n.scale)===null||r===void 0?void 0:r.field;(t[i]||a&&t[a])&&(n.needRescale=!0,n.needRemapping=!0,n.needRegenerateVertices=!0)})}updateStyleAttribute(t,n,r){let i=this.getLayerStyleAttribute(t);i||(i=this.registerStyleAttribute(Pt(Pt({},n),{},{name:t})));const{scale:a}=n;a&&i&&(i.scale=a,i.needRescale=!0,i.needRemapping=!0,i.needRegenerateVertices=!0,r&&r.featureRange&&(i.featureRange=r.featureRange))}getLayerStyleAttributes(){return this.attributes}getLayerStyleAttribute(t){return this.attributes.find(n=>n.name===t)}getLayerAttributeScale(t){var n;const r=this.getLayerStyleAttribute(t),i=r==null||(n=r.scale)===null||n===void 0?void 0:n.scalers;return i&&i[0]?i[0].func:null}updateAttributeByFeatureRange(t,n,r=0,i,a){const o=this.attributes.find(s=>s.name===t);if(o&&o.descriptor){const{descriptor:s}=o,{update:l,buffer:u,size:c=0}=s,f=BMt[u.type||ie.FLOAT];if(l){const{elements:d,sizePerElement:h}=this.featureLayout,p=d.slice(r,i);if(!p.length)return;const{offset:v}=p[0],g=v*c*f,m=p.map(({featureIdx:b,vertices:_,normals:x},E)=>{const A=_.length/h,T=[];for(let R=0;R<A;R++){const M=x?x.slice(R*3,R*3+3):[];T.push(...l(n[b],b,_.slice(R*h,R*h+h),E,M))}return T}).flat();o.vertexAttribute.updateBuffer({data:m,offset:g}),a==null||a.emit(`legend:${t}`,a.getLegend(t))}}}createAttributesAndIndices(t,n,r,i){this.featureLayout={sizePerElement:0,elements:[]},n&&(this.triangulation=n);const a=this.attributes.map(v=>(v.resetDescriptor(),v.descriptor));let o=0,s=0;const l=[];let u=3;t.forEach((v,g)=>{const{indices:m,vertices:b,normals:_,size:x,indexes:E,count:A}=this.triangulation(v,r);typeof A=="number"&&(s+=A),m.forEach(R=>{l.push(R+o)}),u=x;const T=b.length/x;this.featureLayout.sizePerElement=u,this.featureLayout.elements.push({featureIdx:g,vertices:b,normals:_,offset:o}),o+=T;for(let R=0;R<T;R++){const M=(_==null?void 0:_.slice(R*3,R*3+3))||[],O=b.slice(R*x,R*x+x);let D=0;E&&E[R]!==void 0&&(D=E[R]),a.forEach((C,P)=>{C&&C.update&&C.buffer.data.push(...C.update(v,g,O,R,M,D))})}});const{createAttribute:c,createBuffer:f,createElements:d}=this.rendererService,h={};a.forEach((v,g)=>{if(v){const{buffer:m,update:b,name:_}=v,x=sh(v,LMt),E=c(Pt({buffer:f(m)},x));h[v.name||""]=E,this.attributes[g].vertexAttribute=E}});const p=d({data:l,type:ie.UNSIGNED_INT,count:l.length});return this.attributesAndIndices={attributes:h,elements:p,count:s},Object.values(this.attributes).filter(v=>v.scale).forEach(v=>{const g=v.name;i==null||i.emit(`legend:${g}`,i.getLegend(g))}),this.attributesAndIndices}createAttributes(t,n){this.featureLayout={sizePerElement:0,elements:[]},n&&(this.triangulation=n);const r=this.attributes.map(u=>(u.resetDescriptor(),u.descriptor));let i=0,a=3;t.forEach((u,c)=>{const{indices:f,vertices:d,normals:h,size:p,indexes:v}=this.triangulation(u);f.forEach(m=>{}),a=p;const g=d.length/p;this.featureLayout.sizePerElement=a,this.featureLayout.elements.push({featureIdx:c,vertices:d,normals:h,offset:i}),i+=g;for(let m=0;m<g;m++){const b=(h==null?void 0:h.slice(m*3,m*3+3))||[],_=d.slice(m*p,m*p+p);let x=0;v&&v[m]!==void 0&&(x=v[m]),r.forEach((E,A)=>{E&&E.update&&E.buffer.data.push(...E.update(u,c,_,m,b,x))})}});const{createAttribute:o,createBuffer:s}=this.rendererService,l={};return r.forEach((u,c)=>{if(u){const{buffer:f,update:d,name:h}=u,p=sh(u,NMt),v=o(Pt({buffer:s(f)},p));l[u.name||""]=v,this.attributes[c].vertexAttribute=v}}),{attributes:l}}clearAllAttributes(){var t;this.attributes.forEach(n=>{n.vertexAttribute&&n.vertexAttribute.destroy()}),(t=this.attributesAndIndices)===null||t===void 0||t.elements.destroy(),this.attributes=[]}}function q2e(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,[])).next())})}function Z2e(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Oj(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function Dj(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Q2e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var oz={exports:{}},kO={exports:{}},wT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return r&&typeof r.length=="number"&&r.length>=0&&r.length%1===0}e.exports=t.default})(wT,wT.exports);var mu={},sz={exports:{}},lz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];var a=r.pop();return n.call(this,r,a)}},e.exports=t.default})(lz,lz.exports);var rm={};Object.defineProperty(rm,"__esModule",{value:!0});rm.fallback=J2e;rm.wrap=eTe;var FMt=rm.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,UMt=rm.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,VMt=rm.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function J2e(e){setTimeout(e,0)}function eTe(e){return function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return e(function(){return t.apply(void 0,n)})}}var EE;FMt?EE=queueMicrotask:UMt?EE=setImmediate:VMt?EE=process.nextTick:EE=J2e;rm.default=eTe(EE);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=lz.exports,r=s(n),i=rm,a=s(i),o=mu;function s(f){return f&&f.__esModule?f:{default:f}}function l(f){return(0,o.isAsync)(f)?function(){for(var d=[],h=arguments.length;h--;)d[h]=arguments[h];var p=d.pop(),v=f.apply(this,d);return u(v,p)}:(0,r.default)(function(d,h){var p;try{p=f.apply(this,d)}catch(v){return h(v)}if(p&&typeof p.then=="function")return u(p,h);h(null,p)})}function u(f,d){return f.then(function(h){c(d,null,h)},function(h){c(d,h&&h.message?h:new Error(h))})}function c(f,d,h){try{f(d,h)}catch(p){(0,a.default)(function(v){throw v},p)}}e.exports=t.default})(sz,sz.exports);Object.defineProperty(mu,"__esModule",{value:!0});mu.isAsyncIterable=mu.isAsyncGenerator=mu.isAsync=void 0;var zMt=sz.exports,$Mt=HMt(zMt);function HMt(e){return e&&e.__esModule?e:{default:e}}function tTe(e){return e[Symbol.toStringTag]==="AsyncFunction"}function WMt(e){return e[Symbol.toStringTag]==="AsyncGenerator"}function GMt(e){return typeof e[Symbol.asyncIterator]=="function"}function jMt(e){if(typeof e!="function")throw new Error("expected a function");return tTe(e)?(0,$Mt.default)(e):e}mu.default=jMt;mu.isAsync=tTe;mu.isAsyncGenerator=WMt;mu.isAsyncIterable=GMt;var Ty={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r,i){if(i===void 0&&(i=r.length),!i)throw new Error("arity is undefined");function a(){for(var o=this,s=[],l=arguments.length;l--;)s[l]=arguments[l];return typeof s[i-1]=="function"?r.apply(this,s):new Promise(function(u,c){s[i-1]=function(f){for(var d=[],h=arguments.length-1;h-- >0;)d[h]=arguments[h+1];if(f)return c(f);u(d.length>1?d:d[0])},r.apply(o,s)})}return a}e.exports=t.default})(Ty,Ty.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=wT.exports,r=l(n),i=mu,a=l(i),o=Ty.exports,s=l(o);function l(u){return u&&u.__esModule?u:{default:u}}t.default=(0,s.default)(function(u,c,f){var d=(0,r.default)(c)?[]:{};u(c,function(h,p,v){(0,a.default)(h)(function(g){for(var m,b=[],_=arguments.length-1;_-- >0;)b[_]=arguments[_+1];b.length<2&&(m=b,b=m[0]),d[p]=b,v(g)})},function(h){return f(h,d)})},3),e.exports=t.default})(kO,kO.exports);var uz={exports:{}},FO={exports:{}},cz={exports:{}},CT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){function i(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(r!==null){var s=r;r=null,s.apply(this,a)}}return Object.assign(i,r),i}e.exports=t.default})(CT,CT.exports);var fz={exports:{}},dz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){return n[Symbol.iterator]&&n[Symbol.iterator]()},e.exports=t.default})(dz,dz.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=wT.exports,r=o(n),i=dz.exports,a=o(i);function o(f){return f&&f.__esModule?f:{default:f}}function s(f){var d=-1,h=f.length;return function(){return++d<h?{value:f[d],key:d}:null}}function l(f){var d=-1;return function(){var p=f.next();return p.done?null:(d++,{value:p.value,key:d})}}function u(f){var d=f?Object.keys(f):[],h=-1,p=d.length;return function v(){var g=d[++h];return g==="__proto__"?v():h<p?{value:f[g],key:g}:null}}function c(f){if((0,r.default)(f))return s(f);var d=(0,a.default)(f);return d?l(d):u(f)}e.exports=t.default})(fz,fz.exports);var RT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){return function(){for(var i=[],a=arguments.length;a--;)i[a]=arguments[a];if(r===null)throw new Error("Callback was already called.");var o=r;r=null,o.apply(this,i)}}e.exports=t.default})(RT,RT.exports);var hz={exports:{}},IT={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=n,e.exports=t.default})(IT,IT.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=IT.exports,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function a(o,s,l,u){var c=!1,f=!1,d=!1,h=0,p=0;function v(){h>=s||d||c||(d=!0,o.next().then(function(b){var _=b.value,x=b.done;if(!(f||c)){if(d=!1,x){c=!0,h<=0&&u(null);return}h++,l(_,p,g),p++,v()}}).catch(m))}function g(b,_){if(h-=1,!f){if(b)return m(b);if(b===!1){c=!0,f=!0;return}if(_===r.default||c&&h<=0)return c=!0,u(null);v()}}function m(b){f||(d=!1,c=!0,u(b))}v()}e.exports=t.default})(hz,hz.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=CT.exports,r=h(n),i=fz.exports,a=h(i),o=RT.exports,s=h(o),l=mu,u=hz.exports,c=h(u),f=IT.exports,d=h(f);function h(p){return p&&p.__esModule?p:{default:p}}t.default=function(p){return function(v,g,m){if(m=(0,r.default)(m),p<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!v)return m(null);if((0,l.isAsyncGenerator)(v))return(0,c.default)(v,p,g,m);if((0,l.isAsyncIterable)(v))return(0,c.default)(v[Symbol.asyncIterator](),p,g,m);var b=(0,a.default)(v),_=!1,x=!1,E=0,A=!1;function T(M,O){if(!x)if(E-=1,M)_=!0,m(M);else if(M===!1)_=!0,x=!0;else{if(O===d.default||_&&E<=0)return _=!0,m(null);A||R()}}function R(){for(A=!0;E<p&&!_;){var M=b();if(M===null){_=!0,E<=0&&m(null);return}E+=1,g(M.value,M.key,(0,s.default)(T))}A=!1}R()}},e.exports=t.default})(cz,cz.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=cz.exports,r=l(n),i=mu,a=l(i),o=Ty.exports,s=l(o);function l(c){return c&&c.__esModule?c:{default:c}}function u(c,f,d,h){return(0,r.default)(f)(c,(0,a.default)(d),h)}t.default=(0,s.default)(u,4),e.exports=t.default})(FO,FO.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=FO.exports,r=o(n),i=Ty.exports,a=o(i);function o(l){return l&&l.__esModule?l:{default:l}}function s(l,u,c){return(0,r.default)(l,1,u,c)}t.default=(0,a.default)(s,3),e.exports=t.default})(uz,uz.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=kO.exports,r=o(n),i=uz.exports,a=o(i);function o(l){return l&&l.__esModule?l:{default:l}}function s(l,u){return(0,r.default)(a.default,l,u)}e.exports=t.default})(oz,oz.exports);var oL=Q2e(oz.exports),Pd=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];return this.args=n,oL(this.tasks)},e.prototype.tap=function(t,n){var r=this;this.tasks.push(function(i){n.apply(void 0,Dj([],Oj(r.args),!1)),i(null,t)})},e}(),Hue={exports:{}},pz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=wT.exports,r=g(n),i=IT.exports,a=g(i),o=FO.exports,s=g(o),l=CT.exports,u=g(l),c=RT.exports,f=g(c),d=mu,h=g(d),p=Ty.exports,v=g(p);function g(x){return x&&x.__esModule?x:{default:x}}function m(x,E,A){A=(0,u.default)(A);var T=0,R=0,M=x.length,O=!1;M===0&&A(null);function D(C,P){C===!1&&(O=!0),O!==!0&&(C?A(C):(++R===M||P===a.default)&&A(null))}for(;T<M;T++)E(x[T],T,(0,f.default)(D))}function b(x,E,A){return(0,s.default)(x,1/0,E,A)}function _(x,E,A){var T=(0,r.default)(x)?m:b;return T(x,(0,h.default)(E),A)}t.default=(0,v.default)(_,3),e.exports=t.default})(pz,pz.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=pz.exports,r=o(n),i=kO.exports,a=o(i);function o(l){return l&&l.__esModule?l:{default:l}}function s(l,u){return(0,a.default)(r.default,l,u)}e.exports=t.default})(Hue,Hue.exports);var vz={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=CT.exports,r=c(n),i=RT.exports,a=c(i),o=mu,s=c(o),l=Ty.exports,u=c(l);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,h){if(h=(0,r.default)(h),!Array.isArray(d))return h(new Error("First argument to waterfall must be an array of functions"));if(!d.length)return h();var p=0;function v(m){var b=(0,s.default)(d[p++]);b.apply(void 0,m.concat([(0,a.default)(g)]))}function g(m){for(var b=[],_=arguments.length-1;_-- >0;)b[_]=arguments[_+1];if(m!==!1){if(m||p===d.length)return h.apply(void 0,[m].concat(b));v(b)}}v([])}t.default=(0,u.default)(f),e.exports=t.default})(vz,vz.exports);var YMt=Q2e(vz.exports),Wue=function(){function e(){this.tasks=[]}return e.prototype.call=function(){return oL(this.tasks)},e.prototype.tap=function(t,n){this.tasks.push(function(r){var i=n();r(i,t)})},e}(),XMt=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];return this.args=n,oL(this.tasks)},e.prototype.tapPromise=function(t,n){var r=this;this.tasks.push(function(i){return q2e(r,void 0,void 0,function(){return Z2e(this,function(a){switch(a.label){case 0:return[4,n.apply(void 0,Dj([],Oj(this.args),!1))];case 1:return a.sent(),i(null,t),[2]}})})})},e}(),KMt=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++)n[r]=t[r];return this.args=n,oL(this.tasks)},e.prototype.tapPromise=function(t,n){var r=this;this.tasks.push(function(i){return q2e(r,void 0,void 0,function(){var a;return Z2e(this,function(o){switch(o.label){case 0:return[4,n.apply(void 0,Dj([],Oj(this.args),!1))];case 1:return a=o.sent(),i(a,t),[2]}})})})},e}(),qMt=function(){function e(){this.tasks=[]}return e.prototype.promise=function(){return YMt(this.tasks)},e.prototype.tapPromise=function(t,n){this.tasks.length===0?this.tasks.push(function(r){n().then(function(i){r(null,i)})}):this.tasks.push(function(r,i){n(r).then(function(a){i(null,a)})})},e}(),j8={exports:{}},Gue;function nTe(){if(Gue)return j8.exports;Gue=1;var e=j8.exports={};return e.forEach=function(t,n){for(var r=0;r<t.length;r++){var i=n(t[r]);if(i)return i}},j8.exports}var Y8,jue;function ZMt(){return jue||(jue=1,Y8=function(e){var t=e.stateHandler.getState;function n(o){var s=t(o);return s&&!!s.isDetectable}function r(o){t(o).isDetectable=!0}function i(o){return!!t(o).busy}function a(o,s){t(o).busy=!!s}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}}),Y8}var X8,Yue;function QMt(){return Yue||(Yue=1,X8=function(e){var t={};function n(o){var s=e.get(o);return s===void 0?[]:t[s]||[]}function r(o,s){var l=e.get(o);t[l]||(t[l]=[]),t[l].push(s)}function i(o,s){for(var l=n(o),u=0,c=l.length;u<c;++u)if(l[u]===s){l.splice(u,1);break}}function a(o){var s=n(o);s&&(s.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}}),X8}var K8,Xue;function JMt(){return Xue||(Xue=1,K8=function(){var e=1;function t(){return e++}return{generate:t}}),K8}var q8,Kue;function eOt(){return Kue||(Kue=1,q8=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(a){var o=n(a);return o&&o.id!==void 0?o.id:null}function i(a){var o=n(a);if(!o)throw new Error("setId required the element to have a resize detection state.");var s=t.generate();return o.id=s,s}return{get:r,set:i}}),q8}var Z8,que;function tOt(){return que||(que=1,Z8=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,a){i[a]=function(){var s=console[a];if(s.apply)s.apply(console,arguments);else for(var l=0;l<arguments.length;l++)s(arguments[l])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}),Z8}var Q8={exports:{}},Zue;function rTe(){if(Zue)return Q8.exports;Zue=1;var e=Q8.exports={};return e.isIE=function(t){function n(){var i=navigator.userAgent.toLowerCase();return i.indexOf("msie")!==-1||i.indexOf("trident")!==-1||i.indexOf(" edge/")!==-1}if(!n())return!1;if(!t)return!0;var r=function(){var i,a=3,o=document.createElement("div"),s=o.getElementsByTagName("i");do o.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->";while(s[0]);return a>4?a:i}();return t===r},e.isLegacyOpera=function(){return!!window.opera},Q8.exports}var J8={exports:{}},Que;function nOt(){if(Que)return J8.exports;Que=1;var e=J8.exports={};e.getOption=t;function t(n,r,i){var a=n[r];return a==null&&i!==void 0?i:a}return J8.exports}var e7,Jue;function rOt(){if(Jue)return e7;Jue=1;var e=nOt();e7=function(r){r=r||{};var i=r.reporter,a=e.getOption(r,"async",!0),o=e.getOption(r,"auto",!0);o&&!a&&(i&&i.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),a=!0);var s=t(),l,u=!1;function c(g,m){!u&&o&&a&&s.size()===0&&h(),s.add(g,m)}function f(){for(u=!0;s.size();){var g=s;s=t(),g.process()}u=!1}function d(g){u||(g===void 0&&(g=a),l&&(p(l),l=null),g?h():f())}function h(){l=v(f)}function p(g){var m=clearTimeout;return m(g)}function v(g){var m=function(b){return setTimeout(b,0)};return m(g)}return{add:c,force:d}};function t(){var n={},r=0,i=0,a=0;function o(u,c){c||(c=u,u=0),u>i?i=u:u<a&&(a=u),n[u]||(n[u]=[]),n[u].push(c),r++}function s(){for(var u=a;u<=i;u++)for(var c=n[u],f=0;f<c.length;f++){var d=c[f];d()}}function l(){return r}return{add:o,process:s,size:l}}return e7}var t7,ece;function iOt(){if(ece)return t7;ece=1;var e="_erd";function t(i){return i[e]={},n(i)}function n(i){return i[e]}function r(i){delete i[e]}return t7={initState:t,getState:n,cleanState:r},t7}var n7,tce;function aOt(){if(tce)return n7;tce=1;var e=rTe();return n7=function(t){t=t||{};var n=t.reporter,r=t.batchProcessor,i=t.stateHandler.getState;if(!n)throw new Error("Missing required dependency: reporter.");function a(c,f){function d(){f(c)}if(e.isIE(8))i(c).object={proxy:d},c.attachEvent("onresize",d);else{var h=l(c);if(!h)throw new Error("Element is not detectable by this strategy.");h.contentDocument.defaultView.addEventListener("resize",d)}}function o(c){var f=t.important?" !important; ":"; ";return(c.join(f)+f).trim()}function s(c,f,d){d||(d=f,f=c,c=null),c=c||{},c.debug;function h(p,v){var g=o(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),m=!1,b=window.getComputedStyle(p),_=p.offsetWidth,x=p.offsetHeight;i(p).startSize={width:_,height:x};function E(){function A(){if(b.position==="static"){p.style.setProperty("position","relative",c.important?"important":"");var M=function(O,D,C,P){function B(L){return L.replace(/[^-\d\.]/g,"")}var U=C[P];U!=="auto"&&B(U)!=="0"&&(O.warn("An element that is positioned static has style."+P+"="+U+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+P+" will be set to 0. Element: ",D),D.style.setProperty(P,"0",c.important?"important":""))};M(n,p,b,"top"),M(n,p,b,"right"),M(n,p,b,"bottom"),M(n,p,b,"left")}}function T(){m||A();function M(D,C){if(!D.contentDocument){var P=i(D);P.checkForObjectDocumentTimeoutId&&window.clearTimeout(P.checkForObjectDocumentTimeoutId),P.checkForObjectDocumentTimeoutId=setTimeout(function(){P.checkForObjectDocumentTimeoutId=0,M(D,C)},100);return}C(D.contentDocument)}var O=this;M(O,function(C){v(p)})}b.position!==""&&(A(),m=!0);var R=document.createElement("object");R.style.cssText=g,R.tabIndex=-1,R.type="text/html",R.setAttribute("aria-hidden","true"),R.onload=T,e.isIE()||(R.data="about:blank"),i(p)&&(p.appendChild(R),i(p).object=R,e.isIE()&&(R.data="about:blank"))}r?r.add(E):E()}e.isIE(8)?d(f):h(f,d)}function l(c){return i(c).object}function u(c){if(i(c)){var f=l(c);f&&(e.isIE(8)?c.detachEvent("onresize",f.proxy):c.removeChild(f),i(c).checkForObjectDocumentTimeoutId&&window.clearTimeout(i(c).checkForObjectDocumentTimeoutId),delete i(c).object)}}return{makeDetectable:s,addListener:a,uninstall:u}},n7}var r7,nce;function oOt(){if(nce)return r7;nce=1;var e=nTe().forEach;return r7=function(t){t=t||{};var n=t.reporter,r=t.batchProcessor,i=t.stateHandler.getState;t.stateHandler.hasState;var a=t.idHandler;if(!r)throw new Error("Missing required dependency: batchProcessor");if(!n)throw new Error("Missing required dependency: reporter.");var o=f(),s="erd_scroll_detection_scrollbar_style",l="erd_scroll_detection_container";function u(E){d(E,s,l)}u(window.document);function c(E){var A=t.important?" !important; ":"; ";return(E.join(A)+A).trim()}function f(){var E=500,A=500,T=document.createElement("div");T.style.cssText=c(["position: absolute","width: "+E*2+"px","height: "+A*2+"px","visibility: hidden","margin: 0","padding: 0"]);var R=document.createElement("div");R.style.cssText=c(["position: absolute","width: "+E+"px","height: "+A+"px","overflow: scroll","visibility: none","top: "+-E*3+"px","left: "+-A*3+"px","visibility: hidden","margin: 0","padding: 0"]),R.appendChild(T),document.body.insertBefore(R,document.body.firstChild);var M=E-R.clientWidth,O=A-R.clientHeight;return document.body.removeChild(R),{width:M,height:O}}function d(E,A,T){function R(C,P){P=P||function(U){E.head.appendChild(U)};var B=E.createElement("style");return B.innerHTML=C,B.id=A,P(B),B}if(!E.getElementById(A)){var M=T+"_animation",O=T+"_animation_active",D=`/* Created by the element-resize-detector library. */
`;D+="."+T+" > div::-webkit-scrollbar { "+c(["display: none"])+` }

`,D+="."+O+" { "+c(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+M,"animation-name: "+M])+` }
`,D+="@-webkit-keyframes "+M+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,D+="@keyframes "+M+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",R(D)}}function h(E){E.className+=" "+l+"_animation_active"}function p(E,A,T){if(E.addEventListener)E.addEventListener(A,T);else if(E.attachEvent)E.attachEvent("on"+A,T);else return n.error("[scroll] Don't know how to add event listeners.")}function v(E,A,T){if(E.removeEventListener)E.removeEventListener(A,T);else if(E.detachEvent)E.detachEvent("on"+A,T);else return n.error("[scroll] Don't know how to remove event listeners.")}function g(E){return i(E).container.childNodes[0].childNodes[0].childNodes[0]}function m(E){return i(E).container.childNodes[0].childNodes[0].childNodes[1]}function b(E,A){var T=i(E).listeners;if(!T.push)throw new Error("Cannot add listener to an element that is not detectable.");i(E).listeners.push(A)}function _(E,A,T){T||(T=A,A=E,E=null),E=E||{};function R(){if(E.debug){var pe=Array.prototype.slice.call(arguments);if(pe.unshift(a.get(A),"Scroll: "),n.log.apply)n.log.apply(null,pe);else for(var me=0;me<pe.length;me++)n.log(pe[me])}}function M(pe){function me(re){var ne=re.getRootNode&&re.getRootNode().contains(re);return re===re.ownerDocument.body||re.ownerDocument.body.contains(re)||ne}return!me(pe)||window.getComputedStyle(pe)===null}function O(pe){var me=i(pe).container.childNodes[0],re=window.getComputedStyle(me);return!re.width||re.width.indexOf("px")===-1}function D(){var pe=window.getComputedStyle(A),me={};return me.position=pe.position,me.width=A.offsetWidth,me.height=A.offsetHeight,me.top=pe.top,me.right=pe.right,me.bottom=pe.bottom,me.left=pe.left,me.widthCSS=pe.width,me.heightCSS=pe.height,me}function C(){var pe=D();i(A).startSize={width:pe.width,height:pe.height},R("Element start size",i(A).startSize)}function P(){i(A).listeners=[]}function B(){if(R("storeStyle invoked."),!i(A)){R("Aborting because element has been uninstalled");return}var pe=D();i(A).style=pe}function U(pe,me,re){i(pe).lastWidth=me,i(pe).lastHeight=re}function L(pe){return g(pe).childNodes[0]}function F(){return 2*o.width+1}function N(){return 2*o.height+1}function V(pe){return pe+10+F()}function W(pe){return pe+10+N()}function G(pe){return pe*2+F()}function K(pe){return pe*2+N()}function q(pe,me,re){var ne=g(pe),se=m(pe),be=V(me),Pe=W(re),Ee=G(me),Le=K(re);ne.scrollLeft=be,ne.scrollTop=Pe,se.scrollLeft=Ee,se.scrollTop=Le}function ue(){var pe=i(A).container;if(!pe){pe=document.createElement("div"),pe.className=l,pe.style.cssText=c(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),i(A).container=pe,h(pe),A.appendChild(pe);var me=function(){i(A).onRendered&&i(A).onRendered()};p(pe,"animationstart",me),i(A).onAnimationStart=me}return pe}function he(){function pe(){var En=i(A).style;if(En.position==="static"){A.style.setProperty("position","relative",E.important?"important":"");var Gn=function(_r,We,yt,Re){function ut(It){return It.replace(/[^-\d\.]/g,"")}var _e=yt[Re];_e!=="auto"&&ut(_e)!=="0"&&(_r.warn("An element that is positioned static has style."+Re+"="+_e+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Re+" will be set to 0. Element: ",We),We.style[Re]=0)};Gn(n,A,En,"top"),Gn(n,A,En,"right"),Gn(n,A,En,"bottom"),Gn(n,A,En,"left")}}function me(En,Gn,_r,We){return En=En?En+"px":"0",Gn=Gn?Gn+"px":"0",_r=_r?_r+"px":"0",We=We?We+"px":"0",["left: "+En,"top: "+Gn,"right: "+We,"bottom: "+_r]}if(R("Injecting elements"),!i(A)){R("Aborting because element has been uninstalled");return}pe();var re=i(A).container;re||(re=ue());var ne=o.width,se=o.height,be=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),Pe=c(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(me(-(1+ne),-(1+se),-se,-ne))),Ee=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Le=c(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),He=c(["position: absolute","left: 0","top: 0"]),rt=c(["position: absolute","width: 200%","height: 200%"]),Je=document.createElement("div"),ot=document.createElement("div"),ae=document.createElement("div"),Xe=document.createElement("div"),Tt=document.createElement("div"),sn=document.createElement("div");Je.dir="ltr",Je.style.cssText=be,Je.className=l,ot.className=l,ot.style.cssText=Pe,ae.style.cssText=Ee,Xe.style.cssText=He,Tt.style.cssText=Le,sn.style.cssText=rt,ae.appendChild(Xe),Tt.appendChild(sn),ot.appendChild(ae),ot.appendChild(Tt),Je.appendChild(ot),re.appendChild(Je);function Mn(){var En=i(A);En&&En.onExpand?En.onExpand():R("Aborting expand scroll handler: element has been uninstalled")}function Sn(){var En=i(A);En&&En.onShrink?En.onShrink():R("Aborting shrink scroll handler: element has been uninstalled")}p(ae,"scroll",Mn),p(Tt,"scroll",Sn),i(A).onExpandScroll=Mn,i(A).onShrinkScroll=Sn}function Ce(){function pe(Ee,Le,He){var rt=L(Ee),Je=V(Le),ot=W(He);rt.style.setProperty("width",Je+"px",E.important?"important":""),rt.style.setProperty("height",ot+"px",E.important?"important":"")}function me(Ee){var Le=A.offsetWidth,He=A.offsetHeight,rt=Le!==i(A).lastWidth||He!==i(A).lastHeight;R("Storing current size",Le,He),U(A,Le,He),r.add(0,function(){if(rt){if(!i(A)){R("Aborting because element has been uninstalled");return}if(!re()){R("Aborting because element container has not been initialized");return}if(E.debug){var ot=A.offsetWidth,ae=A.offsetHeight;(ot!==Le||ae!==He)&&n.warn(a.get(A),"Scroll: Size changed before updating detector elements.")}pe(A,Le,He)}}),r.add(1,function(){if(!i(A)){R("Aborting because element has been uninstalled");return}if(!re()){R("Aborting because element container has not been initialized");return}q(A,Le,He)}),rt&&Ee&&r.add(2,function(){if(!i(A)){R("Aborting because element has been uninstalled");return}if(!re()){R("Aborting because element container has not been initialized");return}Ee()})}function re(){return!!i(A).container}function ne(){function Ee(){return i(A).lastNotifiedWidth===void 0}R("notifyListenersIfNeeded invoked");var Le=i(A);if(Ee()&&Le.lastWidth===Le.startSize.width&&Le.lastHeight===Le.startSize.height)return R("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(Le.lastWidth===Le.lastNotifiedWidth&&Le.lastHeight===Le.lastNotifiedHeight)return R("Not notifying: Size already notified");R("Current size not notified, notifying..."),Le.lastNotifiedWidth=Le.lastWidth,Le.lastNotifiedHeight=Le.lastHeight,e(i(A).listeners,function(He){He(A)})}function se(){if(R("startanimation triggered."),O(A)){R("Ignoring since element is still unrendered...");return}R("Element rendered.");var Ee=g(A),Le=m(A);(Ee.scrollLeft===0||Ee.scrollTop===0||Le.scrollLeft===0||Le.scrollTop===0)&&(R("Scrollbars out of sync. Updating detector elements..."),me(ne))}function be(){if(R("Scroll detected."),O(A)){R("Scroll event fired while unrendered. Ignoring...");return}me(ne)}if(R("registerListenersAndPositionElements invoked."),!i(A)){R("Aborting because element has been uninstalled");return}i(A).onRendered=se,i(A).onExpand=be,i(A).onShrink=be;var Pe=i(A).style;pe(A,Pe.width,Pe.height)}function ee(){if(R("finalizeDomMutation invoked."),!i(A)){R("Aborting because element has been uninstalled");return}var pe=i(A).style;U(A,pe.width,pe.height),q(A,pe.width,pe.height)}function de(){T(A)}function oe(){R("Installing..."),P(),C(),r.add(0,B),r.add(1,he),r.add(2,Ce),r.add(3,ee),r.add(4,de)}R("Making detectable..."),M(A)?(R("Element is detached"),ue(),R("Waiting until element is attached..."),i(A).onRendered=function(){R("Element is now attached"),oe()}):oe()}function x(E){var A=i(E);A&&(A.onExpandScroll&&v(g(E),"scroll",A.onExpandScroll),A.onShrinkScroll&&v(m(E),"scroll",A.onShrinkScroll),A.onAnimationStart&&v(A.container,"animationstart",A.onAnimationStart),A.container&&E.removeChild(A.container))}return{makeDetectable:_,addListener:b,uninstall:x,initDocument:u}},r7}var i7,rce;function sOt(){if(rce)return i7;rce=1;var e=nTe().forEach,t=ZMt(),n=QMt(),r=JMt(),i=eOt(),a=tOt(),o=rTe(),s=rOt(),l=iOt(),u=aOt(),c=oOt();function f(v){return Array.isArray(v)||v.length!==void 0}function d(v){if(Array.isArray(v))return v;var g=[];return e(v,function(m){g.push(m)}),g}function h(v){return v&&v.nodeType===1}i7=function(v){v=v||{};var g;if(v.idHandler)g={get:function(F){return v.idHandler.get(F,!0)},set:v.idHandler.set};else{var m=r(),b=i({idGenerator:m,stateHandler:l});g=b}var _=v.reporter;if(!_){var x=_===!1;_=a(x)}var E=p(v,"batchProcessor",s({reporter:_})),A={};A.callOnAdd=!!p(v,"callOnAdd",!0),A.debug=!!p(v,"debug",!1);var T=n(g),R=t({stateHandler:l}),M,O=p(v,"strategy","object"),D=p(v,"important",!1),C={reporter:_,batchProcessor:E,stateHandler:l,idHandler:g,important:D};if(O==="scroll"&&(o.isLegacyOpera()?(_.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),O="object"):o.isIE(9)&&(_.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),O="object")),O==="scroll")M=c(C);else if(O==="object")M=u(C);else throw new Error("Invalid strategy name: "+O);var P={};function B(F,N,V){function W(Ce){var ee=T.get(Ce);e(ee,function(oe){oe(Ce)})}function G(Ce,ee,de){T.add(ee,de),Ce&&de(ee)}if(V||(V=N,N=F,F={}),!N)throw new Error("At least one element required.");if(!V)throw new Error("Listener required.");if(h(N))N=[N];else if(f(N))N=d(N);else return _.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var K=0,q=p(F,"callOnAdd",A.callOnAdd),ue=p(F,"onReady",function(){}),he=p(F,"debug",A.debug);e(N,function(ee){l.getState(ee)||(l.initState(ee),g.set(ee));var de=g.get(ee);if(he&&_.log("Attaching listener to element",de,ee),!R.isDetectable(ee)){if(he&&_.log(de,"Not detectable."),R.isBusy(ee)){he&&_.log(de,"System busy making it detectable"),G(q,ee,V),P[de]=P[de]||[],P[de].push(function(){K++,K===N.length&&ue()});return}return he&&_.log(de,"Making detectable..."),R.markBusy(ee,!0),M.makeDetectable({debug:he,important:D},ee,function(pe){if(he&&_.log(de,"onElementDetectable"),l.getState(pe)){R.markAsDetectable(pe),R.markBusy(pe,!1),M.addListener(pe,W),G(q,pe,V);var me=l.getState(pe);if(me&&me.startSize){var re=pe.offsetWidth,ne=pe.offsetHeight;(me.startSize.width!==re||me.startSize.height!==ne)&&W(pe)}P[de]&&e(P[de],function(se){se()})}else he&&_.log(de,"Element uninstalled before being detectable.");delete P[de],K++,K===N.length&&ue()})}he&&_.log(de,"Already detecable, adding listener."),G(q,ee,V),K++}),K===N.length&&ue()}function U(F){if(!F)return _.error("At least one element is required.");if(h(F))F=[F];else if(f(F))F=d(F);else return _.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e(F,function(N){T.removeAllListeners(N),M.uninstall(N),l.cleanState(N)})}function L(F){M.initDocument&&M.initDocument(F)}return{listenTo:B,removeListener:T.removeListener,removeAllListeners:T.removeAllListeners,uninstall:U,initDocument:L}};function p(v,g,m){var b=v[g];return b==null&&m!==void 0?m:b}return i7}var lOt=sOt();const uOt=ni(lOt);let cOt=class extends Xu.EventEmitter{get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get controlService(){return this.container.controlService}get configService(){return this.container.globalConfigService}get map(){return this.container.mapService}get coordinateSystemService(){return this.container.coordinateSystemService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get cameraService(){return this.container.cameraService}get interactionService(){return this.container.interactionService}get pickingService(){return this.container.pickingService}get shaderModuleService(){return this.container.shaderModuleService}get markerService(){return this.container.markerService}get popupService(){return this.container.popupService}constructor(t){super(),fe(this,"destroyed",!1),fe(this,"loaded",!1),fe(this,"id",void 0),fe(this,"inited",!1),fe(this,"rendering",!1),fe(this,"$container",void 0),fe(this,"canvas",void 0),fe(this,"markerContainer",void 0),fe(this,"resizeDetector",void 0),fe(this,"hooks",void 0),fe(this,"handleWindowResized",()=>{this.emit("resize"),this.$container&&(this.initContainer(),this.coordinateSystemService.needRefresh=!0,this.render())}),fe(this,"handleMapCameraChanged",n=>{this.cameraService.update(n),this.render()}),this.container=t,this.hooks={init:new XMt},this.id=t.id}init(t){var n=this;this.configService.setSceneConfig(this.id,t),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",()=>this.render()),this.fontService.init(),this.hooks.init.tapPromise("initMap",Ut(function*(){n.debugService.log("map.mapInitStart",{type:n.map.version}),yield new Promise(r=>{n.map.onCameraChanged(i=>{n.cameraService.init(),n.cameraService.update(i),r()}),n.map.init()}),n.map.onCameraChanged(n.handleMapCameraChanged),n.map.addMarkerContainer(),n.markerService.addMarkers(),n.markerService.addMarkerLayers(),n.popupService.initPopup(),n.interactionService.init(),n.interactionService.on(au.Drag,n.addSceneEvent.bind(n))})),this.hooks.init.tapPromise("initRenderer",Ut(function*(){var r;const i=((r=n.map)===null||r===void 0?void 0:r.getOverlayContainer())||void 0;if(i?n.$container=i:n.$container=wMt(n.configService.getSceneConfig(n.id).id||""),n.$container){const{canvas:o}=t;if(n.canvas=o||Gu("canvas","",n.$container),n.setCanvas(),yield n.rendererService.init(n.canvas,n.configService.getSceneConfig(n.id),t.gl),n.registerContextLost(),n.initContainer(),n.resizeDetector=uOt({strategy:"scroll"}),n.resizeDetector.listenTo(n.$container,n.handleWindowResized),window.matchMedia){var a;(a=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"))===null||a===void 0||a.addListener(n.handleWindowResized.bind("screen"))}}else console.error("容器 id 不存在");n.pickingService.init(n.id)})),this.render()}registerContextLost(){const t=this.rendererService.getCanvas();t&&t.addEventListener("webglcontextlost",()=>this.emit("webglcontextlost"))}addLayer(t){this.layerService.sceneService=this,this.layerService.add(t)}addMask(t){this.layerService.sceneService=this,this.layerService.addMask(t)}render(){var t=this;return Ut(function*(){t.rendering||t.destroyed||(t.rendering=!0,t.inited?(yield t.layerService.initLayers(),yield t.layerService.renderLayers()):(yield t.hooks.init.promise(),t.destroyed&&t.destroy(),yield t.layerService.initLayers(),t.layerService.renderLayers(),t.controlService.addControls(),t.loaded=!0,t.emit("loaded"),t.inited=!0),t.rendering=!1)})()}addFontFace(t,n){this.fontService.addFontFace(t,n)}getSceneContainer(){return this.$container}exportPng(t){var n=this;return Ut(function*(){var r;const i=(r=n.$container)===null||r===void 0?void 0:r.getElementsByTagName("canvas")[0];return yield n.render(),t==="jpg"?i==null?void 0:i.toDataURL("image/jpeg"):i==null?void 0:i.toDataURL("image/png")})()}getSceneConfig(){return this.configService.getSceneConfig(this.id)}getPointSizeRange(){return this.rendererService.getPointSizeRange()}addMarkerContainer(){const t=this.$container.parentElement;t!==null&&(this.markerContainer=Gu("div","l7-marker-container",t))}getMarkerContainer(){return this.markerContainer}destroy(){var t;if(!this.inited){this.destroyed=!0;return}this.resizeDetector.removeListener(this.$container,this.handleWindowResized),this.pickingService.destroy(),this.layerService.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),this.removeAllListeners(),this.inited=!1,this.map.destroy(),setTimeout(()=>{var n;(n=this.$container)===null||n===void 0||n.removeChild(this.canvas),this.canvas=null,this.rendererService.destroy()}),(t=this.$container)===null||t===void 0||(t=t.parentNode)===null||t===void 0||t.removeChild(this.$container),this.emit("destroy")}initContainer(){var t,n;const r=iu,i=((t=this.$container)===null||t===void 0?void 0:t.clientWidth)||400,a=((n=this.$container)===null||n===void 0?void 0:n.clientHeight)||300,o=this.canvas;o&&(o.width=i*r,o.height=a*r),this.rendererService.viewport({x:0,y:0,width:r*i,height:r*a})}setCanvas(){var t,n;const r=iu,i=((t=this.$container)===null||t===void 0?void 0:t.clientWidth)||400,a=((n=this.$container)===null||n===void 0?void 0:n.clientHeight)||300,o=this.canvas;o.width=i*r,o.height=a*r,o.style.width="100%",o.style.height="100%"}addSceneEvent(t){this.emit(t.type,t)}};const{uniq:fOt}=Oo,ice="#define PI 3.14159265359",dOt=`#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2


float calc_lighting(vec4 pos) {

    vec3 worldPos = vec3(pos * u_ModelMatrix);

    vec3 worldNormal = a_Normal;
      // //cal light weight
    vec3 viewDir = normalize(u_CameraPosition - worldPos);

    vec3 lightDir = normalize(vec3(1, -10.5, 12));

    vec3 halfDir = normalize(viewDir+lightDir);
      // //lambert
    float lambert = dot(worldNormal, lightDir);
        //specular
    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);
        //sum to light weight
    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;

    return lightWeight;
}
`,hOt=`#define SHIFT_RIGHT17 1.0 / 131072.0
#define SHIFT_RIGHT18 1.0 / 262144.0
#define SHIFT_RIGHT19 1.0 / 524288.0
#define SHIFT_RIGHT20 1.0 / 1048576.0
#define SHIFT_RIGHT21 1.0 / 2097152.0
#define SHIFT_RIGHT22 1.0 / 4194304.0
#define SHIFT_RIGHT23 1.0 / 8388608.0
#define SHIFT_RIGHT24 1.0 / 16777216.0

#define SHIFT_LEFT17 131072.0
#define SHIFT_LEFT18 262144.0
#define SHIFT_LEFT19 524288.0
#define SHIFT_LEFT20 1048576.0
#define SHIFT_LEFT21 2097152.0
#define SHIFT_LEFT22 4194304.0
#define SHIFT_LEFT23 8388608.0
#define SHIFT_LEFT24 16777216.0

vec2 unpack_float(float packedValue) {
  int packedIntValue = int(packedValue);
  int v0 = packedIntValue / 256;
  return vec2(v0, packedIntValue - v0 * 256);
}

vec4 decode_color(vec2 encodedColor) {
  return vec4(
    unpack_float(encodedColor[0]) / 255.0,
    unpack_float(encodedColor[1]) / 255.0
  );
}
`,pOt=`// Blinn-Phong model
// apply lighting in vertex shader instead of fragment shader
// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting
uniform float u_Ambient : 1.0;
uniform float u_Diffuse : 1.0;
uniform float u_Specular : 1.0;
uniform int u_NumOfDirectionalLights : 1;
uniform int u_NumOfSpotLights : 0;

#define SHININESS 32.0
#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3
#define MAX_NUM_OF_SPOT_LIGHTS 3

struct DirectionalLight {
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
};

struct SpotLight {
  vec3 position;
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  float constant;
  float linear;
  float quadratic;
  float angle;
  float blur;
  float exponent;
};

uniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];
uniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];

vec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {
  vec3 lightDir = normalize(light.direction);
  // diffuse shading
  float diff = max(dot(normal, lightDir), 0.0);
  // Blinn-Phong specular shading
  vec3 halfwayDir = normalize(lightDir + viewDir);
  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);

  vec3 ambient = light.ambient * u_Ambient;
  vec3 diffuse = light.diffuse * diff * u_Diffuse;
  vec3 specular = light.specular * spec * u_Specular;

  return ambient + diffuse + specular;
}


vec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {
  vec3 weight = vec3(0.0);
  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {
    if (i >= u_NumOfDirectionalLights) {
      break;
    }
    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);
  }
  return weight;
}
`,vOt=`
in vec4 v_PickingResult;

#pragma include "picking_uniforms"

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define HIGHLIGHT 1.0
#define SELECT 2.0

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color, float weight) {
  float activeType = v_PickingResult.a;
  if(activeType > 0.0) {
    vec4 highLightColor =  activeType > 1.5 ? u_SelectColor : u_HighlightColor;
    highLightColor = highLightColor * COLOR_SCALE;
    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));
    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);
  }
  else {
    return color;
  }

  
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  // 过滤多余的 shader 计算
  // return color;
  if(u_shaderPick < 0.5) {
    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题
  } else {
    return filterPickingColor(filterHighlightColor(color, 1.0));
  }
  
}

vec4 filterColorAlpha(vec4 color, float alpha) {
  // 过滤多余的 shader 计算
  // return color;
  if(u_shaderPick < 0.5) {
    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题
  } else {
    return filterPickingColor(filterHighlightColor(color, alpha));
  }
}

`,gOt=`layout(location = ATTRIBUTE_LOCATION_PICKING_COLOR) in vec3 a_PickingColor;
out vec4 v_PickingResult;

#pragma include "picking_uniforms"

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define NORMAL 0.0
#define HIGHLIGHT 1.0
#define SELECT 2.0

bool isVertexPicked(vec3 vertexColor) {
  return distance(vertexColor,u_PickingColor.rgb) < 0.01;
}

// 判断当前点是否已经被 select 选中
bool isVertexSelected(vec3 vertexColor) {
  return distance(vertexColor,u_CurrentSelectedId.rgb) < 0.01;
}

void setPickingColor(vec3 pickingColor) {
  if(u_shaderPick < 0.5) {
    return;
  }
  // compares only in highlight stage

  if(u_PickingStage == PICKING_HIGHLIGHT) {
    if(isVertexPicked(pickingColor)) {
       v_PickingResult = vec4(pickingColor.rgb * COLOR_SCALE,HIGHLIGHT);
       return;
    }
    if(isVertexSelected(pickingColor)) {
     v_PickingResult = vec4(u_CurrentSelectedId.rgb * COLOR_SCALE,SELECT);
      return;
    }

  } else {
      v_PickingResult= vec4(pickingColor.rgb * COLOR_SCALE,NORMAL);
      return;
  }

  // // v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && (isVertexPicked(pickingColor) || isVertexPicked(u_CurrentSelectedId)));

  // // Stores the picking color so that the fragment shader can render it during picking
  // v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}

float setPickingOrder(float z) {
   bool selected = bool(v_PickingResult.a);
   return selected ? z + 1. : 0.;
}
`,ace=`layout(std140) uniform PickingUniforms {
  vec4 u_HighlightColor;
  vec4 u_SelectColor;
  vec3 u_PickingColor;
  float u_PickingStage;
  vec3 u_CurrentSelectedId;
  float u_PickingThreshold;
  float u_PickingBuffer;
  float u_shaderPick;
  float u_activeMix;
};`,mOt=`
#define E 2.718281828459045
vec2 ProjectFlat(vec2 lnglat){
  float maxs=85.0511287798;
  float lat=max(min(maxs,lnglat.y),-maxs);
  float scale= 268435456.;
  float d=PI/180.;
  float x=lnglat.x*d;
  float y=lat*d;
  y=log(tan((PI/4.)+(y/2.)));

  float a=.5/PI,
  b=.5,
  c=-.5/PI;
  d=.5;
  x=scale*(a*x+b);
  y=scale*(c*y+d);
  return vec2(x,y);
}

vec2 unProjectFlat(vec2 px){
  float a=.5/PI;
  float b=.5;
  float c=-.5/PI;
  float d=.5;
  float scale = 268435456.;
  float x=(px.x/scale-b)/a;
  float y=(px.y/scale-d)/c;
  y=(atan(pow(E,y))-(PI/4.))*2.;
  d=PI/180.;
  float lat=y/d;
  float lng=x/d;
  return vec2(lng,lat);
}

float pixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}

// gaode2.0
vec2 customProject(vec2 lnglat) { // 经纬度 => 平面坐标
  float t = lnglat.x;
  float e = lnglat.y;
  float Sm = 180.0 / PI;
  float Tm = 6378137.0;
  float Rm = PI / 180.0;
  float r = 85.0511287798;
  e = max(min(r, e), -r);
  t *= Rm;
  e *= Rm;
  e = log(tan(PI / 4.0 + e / 2.0));
  return vec2(t * Tm, e * Tm);
}

vec2 unProjCustomCoord(vec2 point) { // 平面坐标 => 经纬度
  float Sm = 57.29577951308232; //180 / Math.PI
  float Tm = 6378137.0;
  float t = point.x;
  float e = point.y;
  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);
}


float customPixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}`,oce=`#define TILE_SIZE (512.0)
#define PI (3.1415926536)
#define WORLD_SCALE (TILE_SIZE / (PI * 2.0))
#define EARTH_CIRCUMFERENCE (40.03e6)

#define COORDINATE_SYSTEM_LNGLAT (1.0) // mapbox
#define COORDINATE_SYSTEM_LNGLAT_OFFSET (2.0) // mapbox offset
#define COORDINATE_SYSTEM_VECTOR_TILE (3.0)
#define COORDINATE_SYSTEM_IDENTITY (4.0)
#define COORDINATE_SYSTEM_METER_OFFSET (5.0)

#pragma include "scene_uniforms"

const vec2 ZERO_64_XY_LOW = vec2(0.0, 0.0);

// web mercator coords -> world coords
vec2 project_mercator(vec2 lnglat) {
  float x = lnglat.x;
  return vec2(radians(x) + PI, PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5)));
}

float project_scale(float meters) {
  return meters * u_PixelsPerMeter.z;
}

// offset coords -> world coords
vec4 project_offset(vec4 offset) {
  float dy = offset.y;
  dy = clamp(dy, -1.0, 1.0);
  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;
  return vec4(offset.xyz * pixels_per_unit, offset.w);
}

vec3 project_normal(vec3 normal) {
  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);
  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);
}

vec3 project_offset_normal(vec3 vector) {
  if (
    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&
      u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01 ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // normals generated by the polygon tesselator are in lnglat offsets instead of meters
    return normalize(vector * u_PixelsPerDegree);
  }
  return project_normal(vector);
}

vec4 project_position(vec4 position, vec2 position64xyLow) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float X = position.x - u_ViewportCenter.x;
    float Y = position.y - u_ViewportCenter.y;
    return project_offset(
      vec4(X + position64xyLow.x, Y + position64xyLow.y, position.z, position.w)
    );
  }
  if (
    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&
    u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01
  ) {
    return vec4(
      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(position.z),
      position.w
    );
  }

  return position;
}

vec4 project_position(vec4 position) {
  return project_position(position, ZERO_64_XY_LOW);
}

vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;
  return offset * u_FocalDistance;
}

// 适配纹理贴图的等像素大小
float project_pixel_texture(float pixel) {
  // mapbox zoom > 12
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    return pixel * pow(0.5, u_Zoom) * u_FocalDistance;
  }

  return pixel * 2.0 * u_FocalDistance;
}

// 在不论什么底图下需要统一处理的时候使用
float project_float_pixel(float pixel) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1
    return pixel * pow(2.0, 19.0 - u_Zoom) * u_FocalDistance;
  }

  return pixel * u_FocalDistance;
}

// Project meter into the unit of pixel which used in the camera world space
float project_float_meter(float meter) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Since the zoom level uniform is updated by mapservice and it's alread been subtracted by 1
    // Not sure if we are supposed to do that again
    return meter;
  } else {
    return project_float_pixel(meter);
  }

  // TODO: change the following code to make adaptations for amap
  // return u_FocalDistance * TILE_SIZE * pow(2.0, u_Zoom) * meter / EARTH_CIRCUMFERENCE;

}

float project_pixel(float pixel) {
  return pixel * u_FocalDistance;
}

vec2 project_pixel(vec2 pixel) {
  return pixel * -1.0 * u_FocalDistance;
}

vec3 project_pixel(vec3 pixel) {
  return pixel * -1.0 * u_FocalDistance;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    position.w *= u_PixelsPerMeter.z;
  }

  return viewProjectionMatrix * position + center;
}

// Projects from common space coordinates to clip space
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(
    position,
    u_ViewProjectionMatrix,
    u_ViewportCenterProjection
  );
}

vec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {
  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);

  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    pos.w = pos.w / u_PixelsPerMeter.z;
  }
  return pos;
}

bool isEqual(float a, float b) {
  return a < b + 0.001 && a > b - 0.001;
}

`,yOt=`vec2 rotate_matrix(vec2 v, float a) {
    float b = a / 180.0 * 3.1415926535897932384626433832795;
    float s = sin(b);
    float c = cos(b);
    mat2 m = mat2(c, s, -s, c);
    return m * v;
}`,sce=`layout(std140) uniform SceneUniforms {
  mat4 u_ViewMatrix;
  mat4 u_ProjectionMatrix;
  mat4 u_ViewProjectionMatrix;
  mat4 u_ModelMatrix;
  vec4 u_ViewportCenterProjection;
  vec3 u_PixelsPerDegree;
  float u_Zoom;
  vec3 u_PixelsPerDegree2;
  float u_ZoomScale;
  vec3 u_PixelsPerMeter;
  float u_CoordinateSystem;
  vec3 u_CameraPosition;
  float u_DevicePixelRatio;
  vec2 u_ViewportCenter;
  vec2 u_ViewportSize;
  float u_FocalDistance;
};
`,_Ot=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}
`,lce=/precision\s+(high|low|medium)p\s+float/,uce=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,bOt=/#pragma include (["^+"]?["[a-zA-Z_0-9](.*)"]*?)/g,xOt=/void\s+main\s*\([^)]*\)\s*\{\n?/;class SOt{constructor(){fe(this,"moduleCache",{}),fe(this,"rawContentCache",{})}registerBuiltinModules(){this.destroy(),this.registerModule("common",{vs:ice,fs:ice}),this.registerModule("decode",{vs:hOt,fs:""}),this.registerModule("scene_uniforms",{vs:sce,fs:sce}),this.registerModule("picking_uniforms",{vs:ace,fs:ace}),this.registerModule("projection",{vs:oce,fs:oce}),this.registerModule("project",{vs:mOt,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:_Ot}),this.registerModule("lighting",{vs:pOt,fs:""}),this.registerModule("light",{vs:dOt,fs:""}),this.registerModule("picking",{vs:gOt,fs:vOt}),this.registerModule("rotation_2d",{vs:yOt,fs:""})}registerModule(t,n){n.vs=n.vs.replace(/\r\n/g,`
`),n.fs=n.fs.replace(/\r\n/g,`
`);const{vs:r,fs:i,uniforms:a,defines:o,inject:s}=n,{content:l,uniforms:u}=$8(r),{content:c,uniforms:f}=$8(i);this.rawContentCache[t]={fs:c,defines:o,inject:s,uniforms:Pt(Pt(Pt({},u),f),a),vs:l}}getModule(t){let n=this.rawContentCache[t].vs,r=this.rawContentCache[t].fs;const{defines:i={},inject:a={}}=this.rawContentCache[t];let o={};a["vs:#decl"]&&(n=a["vs:#decl"]+n,o=$8(a["vs:#decl"]).uniforms),a["vs:#main-start"]&&(n=n.replace(xOt,v=>v+a["vs:#main-start"])),a["fs:#decl"]&&(r=a["fs:#decl"]+r),n=AOt(i)+n;const{content:l,includeList:u}=this.processModule(n,[],"vs"),{content:c,includeList:f}=this.processModule(r,[],"fs"),d=fOt(u.concat(f).concat(t)).reduce((v,g)=>Pt(Pt({},v),this.rawContentCache[g].uniforms),Pt({},o)),h=(lce.test(c)?"":uce)+l,p=(lce.test(c)?"":uce)+c;return this.moduleCache[t]={vs:h.trim(),fs:p.trim(),uniforms:d},this.moduleCache[t]}destroy(){this.moduleCache={},this.rawContentCache={}}processModule(t,n,r){return{content:t.replace(bOt,(a,o)=>{const l=o.split(" ")[0].replace(/"/g,"");if(n.indexOf(l)>-1)return"";const u=this.rawContentCache[l][r];n.push(l);const{content:c}=this.processModule(u,n,r);return c}),includeList:n}}}function AOt(e){return Object.keys(e).reduce((n,r)=>n+`#define ${r.toUpperCase()} ${e[r]}
`,`
`)}class Pj{constructor(){fe(this,"shaderModuleService",void 0),fe(this,"rendererService",void 0),fe(this,"cameraService",void 0),fe(this,"mapService",void 0),fe(this,"interactionService",void 0),fe(this,"layerService",void 0),fe(this,"config",void 0)}getName(){return""}getType(){return Mw.Normal}init(t,n){this.config=n,this.rendererService=t.getContainer().rendererService,this.cameraService=t.getContainer().cameraService,this.mapService=t.getContainer().mapService,this.interactionService=t.getContainer().interactionService,this.layerService=t.getContainer().layerService,this.shaderModuleService=t.getContainer().shaderModuleService}render(t){}}class EOt extends Pj{getName(){return"clear"}init(t,n){super.init(t,n)}render(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}class TOt{constructor(t){fe(this,"passes",[]),fe(this,"layer",void 0),fe(this,"renderFlag",void 0),fe(this,"width",0),fe(this,"height",0),this.postProcessor=t}setLayer(t){this.layer=t}setRenderFlag(t){this.renderFlag=t}getRenderFlag(){return this.renderFlag}getPostProcessor(){return this.postProcessor}render(){var t=this;return Ut(function*(){for(const n of t.passes)yield n.render(t.layer);yield t.postProcessor.render(t.layer)})()}resize(t,n){(this.width!==t||this.height!==n)&&(this.postProcessor.resize(t,n),this.width=t,this.height=n)}add(t,n){t.getType()===Mw.PostProcessing?this.postProcessor.add(t,this.layer,n):(t.init(this.layer,n),this.passes.push(t))}insert(t,n,r){t.init(this.layer,n),this.passes.splice(r,0,t)}destroy(){this.passes.length=0}}class wOt extends Pj{constructor(...t){var n;super(...t),n=this,fe(this,"pickingFBO",void 0),fe(this,"layer",void 0),fe(this,"width",0),fe(this,"height",0),fe(this,"alreadyInRendering",!1),fe(this,"pickFromPickingFBO",({x:r,y:i,lngLat:a,type:o})=>{if(!this.layer.isVisible()||!this.layer.needPick(o))return;const{getViewportSize:s,readPixelsAsync:l,useFramebuffer:u}=this.rendererService,{width:c,height:f}=s(),{enableHighlight:d,enableSelect:h}=this.layer.getLayerConfig(),p=r*iu,v=i*iu;if(p>c||p<0||v>f||v<0)return;let g;u(this.pickingFBO,Ut(function*(){var m;if(g=yield l({x:Math.round(p),y:Math.round(f-(i+1)*iu),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:n.pickingFBO}),g[0]!==0||g[1]!==0||g[2]!==0){const b=iy(g),_=n.layer.getSource().getFeatureById(b),x={x:r,y:i,type:o,lngLat:a,featureId:b,feature:_};_&&(n.layer.setCurrentPickId(b),n.triggerHoverOnLayer(x))}else{const b={x:r,y:i,lngLat:a,type:n.layer.getCurrentPickId()===null?"un"+o:"mouseout",featureId:null,feature:null};n.triggerHoverOnLayer(Pt(Pt({},b),{},{type:"unpick"})),n.triggerHoverOnLayer(b),n.layer.setCurrentPickId(null)}d&&n.highlightPickedFeature(g),h&&o==="click"&&((m=g)===null||m===void 0?void 0:m.toString())!==[0,0,0,0].toString()&&n.selectFeature(g)}))})}getType(){return Mw.Normal}getName(){return"pixelPicking"}init(t,n){super.init(t,n),this.layer=t;const{createTexture2D:r,createFramebuffer:i,getViewportSize:a}=this.rendererService,{width:o,height:s}=a(),l=r({width:o,height:s,wrapS:ie.CLAMP_TO_EDGE,wrapT:ie.CLAMP_TO_EDGE,label:"Picking Texture"});this.pickingFBO=i({color:l}),this.interactionService.on(au.Hover,this.pickFromPickingFBO),this.interactionService.on(au.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(au.Active,this.highlightFeatureHandle.bind(this))}render(t){if(this.alreadyInRendering)return;const{getViewportSize:n,useFramebuffer:r,clear:i}=this.rendererService,{width:a,height:o}=n();this.alreadyInRendering=!0,(this.width!==a||this.height!==o)&&(this.pickingFBO.resize({width:a,height:o}),this.width=a,this.height=o),r(this.pickingFBO,()=>{i({framebuffer:this.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});const s=this.layer.multiPassRenderer.getRenderFlag();this.layer.multiPassRenderer.setRenderFlag(!1),t.hooks.beforePickingEncode.call(),t.render(),t.hooks.afterPickingEncode.call(),this.layer.multiPassRenderer.setRenderFlag(s),this.alreadyInRendering=!1})}triggerHoverOnLayer(t){this.layer.emit(t.type,t)}highlightPickedFeature(t){const[n,r,i]=t;this.layer.hooks.beforeHighlight.call([n,r,i]),this.layerService.renderLayers()}selectFeature(t){const[n,r,i]=t;this.layer.hooks.beforeSelect.call([n,r,i]),this.layerService.renderLayers()}selectFeatureHandle({featureId:t}){const n=tx(t);this.selectFeature(new Uint8Array(n))}highlightFeatureHandle({featureId:t}){const n=tx(t);this.highlightPickedFeature(new Uint8Array(n))}}class COt{constructor(t){fe(this,"passes",[]),fe(this,"readFBO",void 0),fe(this,"writeFBO",void 0),this.rendererService=t,this.init()}getReadFBO(){return this.readFBO}getWriteFBO(){return this.writeFBO}getCurrentFBOTex(){const{getViewportSize:t,createTexture2D:n}=this.rendererService,{width:r,height:i}=t();return n({x:0,y:0,width:r,height:i,copy:!0})}getReadFBOTex(){var t=this;const{useFramebuffer:n}=this.rendererService;return new Promise(r=>{n(this.readFBO,Ut(function*(){r(t.getCurrentFBOTex())}))})}renderBloomPass(t,n){var r=this;return Ut(function*(){const i=yield r.getReadFBOTex();let a=0;for(;a<4;)yield n.render(t,i),r.swap(),a++})()}render(t){var n=this;return Ut(function*(){for(let r=0;r<n.passes.length;r++){const i=n.passes[r];i.setRenderToScreen(n.isLastEnabledPass(r)),i.getName()==="bloom"?yield n.renderBloomPass(t,i):(yield i.render(t),r!==n.passes.length-1&&n.swap())}})()}resize(t,n){this.readFBO.resize({width:t,height:n}),this.writeFBO.resize({width:t,height:n})}add(t,n,r){t.init(n,r),this.passes.push(t)}insert(t,n,r,i){t.init(r,i),this.passes.splice(n,0,t)}getPostProcessingPassByName(t){return this.passes.find(n=>n.getName()===t)}init(){const{createFramebuffer:t,createTexture2D:n}=this.rendererService;this.readFBO=t({color:n({width:1,height:1,wrapS:ie.CLAMP_TO_EDGE,wrapT:ie.CLAMP_TO_EDGE,usage:TT.RENDER_TARGET})}),this.writeFBO=t({color:n({width:1,height:1,wrapS:ie.CLAMP_TO_EDGE,wrapT:ie.CLAMP_TO_EDGE,usage:TT.RENDER_TARGET})})}isLastEnabledPass(t){for(let n=t+1;n<this.passes.length;n++)if(this.passes[n].isEnabled())return!1;return!0}swap(){const t=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=t}}class ROt extends Pj{getType(){return Mw.Normal}getName(){return"render"}init(t,n){super.init(t,n)}render(t){const{useFramebuffer:n,clear:r}=this.rendererService,i=t.multiPassRenderer.getPostProcessor().getReadFBO();n(i,()=>{r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:i}),t.multiPassRenderer.setRenderFlag(!1),t.models.forEach(a=>{a.draw({uniforms:t.layerModel.getUninforms()})}),t.multiPassRenderer.setRenderFlag(!0)})}}const IOt=`varying vec2 v_UV;

uniform float u_BloomFinal: 0.0;
uniform sampler2D u_Texture;
uniform sampler2D u_Texture2;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_radius: 5.0;
uniform float u_intensity: 0.3;
uniform float u_baseRadio: 0.5;

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

float luminance(vec4 color) {
  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;
}

void main() {
  // vec4 baseColor = texture2D(u_Texture, v_UV);

  float r = sqrt(u_radius);

  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));
  // c1 *= luminance(c1);
  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));
  // c2 *= luminance(c2);
  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));
  // c3 *= luminance(c3);
  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));
  // c4 *= luminance(c4);
  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;

  // float lum = luminance(inbloomColor);
  // inbloomColor.rgb *= lum;

  if(u_BloomFinal > 0.0) {
    vec4 baseColor = texture2D(u_Texture2, v_UV);
    float baselum = luminance(baseColor);
    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);
    if(baselum <= 0.2) {
      gl_FragColor = inbloomColor * u_intensity;
    }
  } else {
    gl_FragColor = inbloomColor;
  }
}`,MOt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:a7}=Oo;class OOt extends Xp{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:MOt,fs:IOt});const{vs:t,fs:n,uniforms:r}=this.shaderModuleService.getModule("blur-pass"),{width:i,height:a}=this.rendererService.getViewportSize();return{vs:t,fs:n,uniforms:Pt(Pt({},r),{},{u_ViewportSize:[i,a]})}}convertOptionsToUniforms(t){const n={};return a7(t.bloomRadius)||(n.u_radius=t.bloomRadius),a7(t.bloomIntensity)||(n.u_intensity=t.bloomIntensity),a7(t.bloomBaseRadio)||(n.u_baseRadio=t.bloomBaseRadio),n}}const DOt=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,POt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:LOt}=Oo;class NOt extends Xp{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:POt,fs:DOt});const{vs:t,fs:n,uniforms:r}=this.shaderModuleService.getModule("blur-pass"),{width:i,height:a}=this.rendererService.getViewportSize();return{vs:t,fs:n,uniforms:Pt(Pt({},r),{},{u_ViewportSize:[i,a]})}}convertOptionsToUniforms(t){const n={};return LOt(t.blurRadius)||(n.u_BlurDir=[t.blurRadius,0]),n}}const BOt=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,kOt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:FOt}=Oo;class UOt extends Xp{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:kOt,fs:BOt});const{vs:t,fs:n,uniforms:r}=this.shaderModuleService.getModule("blur-pass"),{width:i,height:a}=this.rendererService.getViewportSize();return{vs:t,fs:n,uniforms:Pt(Pt({},r),{},{u_ViewportSize:[i,a]})}}convertOptionsToUniforms(t){const n={};return FOt(t.blurRadius)||(n.u_BlurDir=[0,t.blurRadius]),n}}const VOt=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Angle : 0;
uniform float u_Size : 8;

#pragma include "common"

float scale = PI / u_Size;

float pattern(float u_Angle, vec2 texSize, vec2 texCoord) {
  float s = sin(u_Angle), c = cos(u_Angle);
  vec2 tex = texCoord * texSize - u_Center * texSize;
  vec2 point = vec2(
    c * tex.x - s * tex.y,
    s * tex.x + c * tex.y
  ) * scale;
  return (sin(point.x) * sin(point.y)) * 4.0;
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js
vec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {
  vec3 cmy = 1.0 - color.rgb;
  float k = min(cmy.x, min(cmy.y, cmy.z));
  cmy = (cmy - k) / (1.0 - k);
  cmy = clamp(
    cmy * 10.0 - 3.0 + vec3(
      pattern(u_Angle + 0.26179, texSize, texCoord),
      pattern(u_Angle + 1.30899, texSize, texCoord),
      pattern(u_Angle, texSize, texCoord)
    ),
    0.0,
    1.0
  );
  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);
  return vec4(1.0 - cmy - k, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);
}`,zOt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class $Ot extends Xp{setupShaders(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:zOt,fs:VOt});const{vs:t,fs:n,uniforms:r}=this.shaderModuleService.getModule("colorhalftone-pass"),{width:i,height:a}=this.rendererService.getViewportSize();return{vs:t,fs:n,uniforms:Pt(Pt({},r),{},{u_ViewportSize:[i,a]})}}}const HOt=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,WOt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class GOt extends Xp{setupShaders(){return this.shaderModuleService.registerModule("copy-pass",{vs:WOt,fs:HOt}),this.shaderModuleService.getModule("copy-pass")}}const jOt=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Scale : 10;

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js
vec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;
  tex.y /= 0.866025404;
  tex.x -= tex.y * 0.5;
  vec2 a;
  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {
    a = vec2(floor(tex.x), floor(tex.y));
  }
  else a = vec2(ceil(tex.x), ceil(tex.y));
  vec2 b = vec2(ceil(tex.x), floor(tex.y));
  vec2 c = vec2(floor(tex.x), ceil(tex.y));
  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);
  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);
  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);
  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);
  float alen = length(TEX - A);
  float blen = length(TEX - B);
  float clen = length(TEX - C);
  vec2 choice;
  if (alen < blen) {
    if (alen < clen) choice = a;
    else choice = c;
  } else {
    if (blen < clen) choice = b;
    else choice = c;
  }
  choice.x += choice.y * 0.5;
  choice.y *= 0.866025404;
  choice *= u_Scale / texSize;
  return texture2D(texture, choice + u_Center);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,YOt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class XOt extends Xp{setupShaders(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:YOt,fs:jOt});const{vs:t,fs:n,uniforms:r}=this.shaderModuleService.getModule("hexagonalpixelate-pass"),{width:i,height:a}=this.rendererService.getViewportSize();return{vs:t,fs:n,uniforms:Pt(Pt({},r),{},{u_ViewportSize:[i,a]})}}}const KOt=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_Strength : 0.6;

vec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 dx = vec2(1.0 / texSize.x, 0.0);
  vec2 dy = vec2(0.0, 1.0 / texSize.y);
  vec4 color = texture2D(texture, texCoord);
  float bigTotal = 0.0;
  float smallTotal = 0.0;
  vec3 bigAverage = vec3(0.0);
  vec3 smallAverage = vec3(0.0);
  for (float x = -2.0; x <= 2.0; x += 1.0) {
    for (float y = -2.0; y <= 2.0; y += 1.0) {
      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;
      bigAverage += sample;
      bigTotal += 1.0;
      if (abs(x) + abs(y) < 2.0) {
        smallAverage += sample;
        smallTotal += 1.0;
      }
    }
  }
  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);
  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;
  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,qOt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class ZOt extends Xp{setupShaders(){this.shaderModuleService.registerModule("ink-pass",{vs:qOt,fs:KOt});const{vs:t,fs:n,uniforms:r}=this.shaderModuleService.getModule("ink-pass"),{width:i,height:a}=this.rendererService.getViewportSize();return{vs:t,fs:n,uniforms:Pt(Pt({},r),{},{u_ViewportSize:[i,a]})}}}const QOt=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform float u_Amount : 0.5;

float rand(vec2 co) {
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js
vec4 noise_filterColor(vec4 color, vec2 texCoord) {
  float diff = (rand(texCoord) - 0.5) * u_Amount;
  color.r += diff;
  color.g += diff;
  color.b += diff;
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);
}`,JOt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class eDt extends Xp{setupShaders(){return this.shaderModuleService.registerModule("noise-pass",{vs:JOt,fs:QOt}),this.shaderModuleService.getModule("noise-pass")}}const tDt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,nDt=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform float u_Amount : 0.5;

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js
vec4 sepia_filterColor(vec4 color) {
  float r = color.r;
  float g = color.g;
  float b = color.b;
  color.r =
    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));
  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));
  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = sepia_filterColor(gl_FragColor);
}`;class rDt extends Xp{setupShaders(){return this.shaderModuleService.registerModule("sepia-pass",{vs:tDt,fs:nDt}),this.shaderModuleService.getModule("sepia-pass")}}const iTe=new gMt;let iDt=0;function aDt(){const e=new SOt,t=new bMt,n=new sMt,r=new _Mt(n),i=new j3t,a=new X3t,o=new cMt,s=new fMt,l=new uMt,u={id:`${iDt++}`,globalConfigService:iTe,shaderModuleService:e,debugService:t,cameraService:n,coordinateSystemService:r,fontService:i,iconService:a,markerService:o,popupService:s,controlService:l,customRenderService:{}},c=new MMt(u);u.layerService=c;const f=new cOt(u);u.sceneService=f;const d=new EMt(u);u.interactionService=d;const h=new RMt(u);u.pickingService=h;const p={clear:new EOt,pixelPicking:new wOt,render:new ROt};u.normalPassFactory=g=>p[g];const v={copy:new GOt,bloom:new OOt,blurH:new NOt,blurV:new UOt,noise:new eDt,sepia:new rDt,colorHalftone:new $Ot,hexagonalPixelate:new XOt,ink:new ZOt};return u.postProcessingPass=v,u.postProcessingPassFactory=g=>v[g],u}function d2(e){const t=Pt({},e);return t.postProcessor=new COt(t.rendererService),t.multiPassRenderer=new TOt(t.postProcessor),t.styleAttributeService=new kMt(t.rendererService),t}const AI=["loaded","fontloaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"];let ws=function(e){return e.IMAGE="image",e.CUSTOMIMAGE="customImage",e.ARRAYBUFFER="arraybuffer",e.RGB="rgb",e.TERRAINRGB="terrainRGB",e.CUSTOMRGB="customRGB",e.CUSTOMARRAYBUFFER="customArrayBuffer",e.CUSTOMTERRAINRGB="customTerrainRGB",e}({});var aTe=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),oDt=(e,t,n,r)=>aTe(void 0,null,function*(){return new Promise((i,a)=>{t({x:e.x,y:e.y,z:e.z},(o,s)=>{if(o||s.length===0){a(o);return}s&&nz([{data:s,bands:[0]}],n,r,(l,u)=>{l?a(l):u&&i(u)})})})}),sDt=(e,t)=>aTe(void 0,null,function*(){return new Promise((n,r)=>{t({x:e.x,y:e.y,z:e.z},(i,a)=>{if(i||!a){r(i);return}a instanceof ArrayBuffer?d2t(a,(o,s)=>{o&&r(o),n(s)}):a instanceof HTMLImageElement?n(a):r(i)})})});function lDt(e,t){return Array.isArray(e)?typeof e[0]=="string"?e.map(n=>db(n,t)):e.map(n=>({url:db(n.url,t),bands:n.bands||[0]})):db(e,t)}function uDt(e){return typeof e=="string"?[{url:e,bands:[0]}]:typeof e[0]=="string"?e.map(t=>({url:t,bands:[0]})):e}function cce(e,t){e.xhrCancel=()=>{t.map(n=>{n.abort()})}}var cDt=Object.defineProperty,fDt=Object.defineProperties,dDt=Object.getOwnPropertyDescriptors,fce=Object.getOwnPropertySymbols,hDt=Object.prototype.hasOwnProperty,pDt=Object.prototype.propertyIsEnumerable,dce=(e,t,n)=>t in e?cDt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hce=(e,t)=>{for(var n in t||(t={}))hDt.call(t,n)&&dce(e,n,t[n]);if(fce)for(var n of fce(t))pDt.call(t,n)&&dce(e,n,t[n]);return e},pce=(e,t)=>fDt(e,dDt(t)),oTe=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),vDt=(e,t,n,r,i)=>oTe(void 0,null,function*(){const a=uDt(t.url);if(a.length>1){const{rasterFiles:o,xhrList:s,errList:l}=yield gDt(a,t);if(cce(e,s),l.length>0){n(l,null);return}nz(o,r,i,n)}else{const o=sj(t,(s,l)=>{if(s)n(s);else if(l){const u=[{data:l,bands:a[0].bands}];nz(u,r,i,n)}});cce(e,[o])}});function gDt(e,t){return oTe(this,null,function*(){const n=[],r=[],i=[];for(let a=0;a<e.length;a++){const o=e[a],s=pce(hce({},t),{url:o.url}),l=o.bands,{err:u,data:c,xhr:f}=yield u2t(pce(hce({},s),{type:"arrayBuffer"}));u&&i.push(u),r.push(f),n.push({data:c,bands:l})}return{rasterFiles:n,xhrList:r,errList:i}})}var mDt=Object.defineProperty,yDt=Object.defineProperties,_Dt=Object.getOwnPropertyDescriptors,vce=Object.getOwnPropertySymbols,bDt=Object.prototype.hasOwnProperty,xDt=Object.prototype.propertyIsEnumerable,gce=(e,t,n)=>t in e?mDt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W3=(e,t)=>{for(var n in t||(t={}))bDt.call(t,n)&&gce(e,n,t[n]);if(vce)for(var n of vce(t))xDt.call(t,n)&&gce(e,n,t[n]);return e},sTe=(e,t)=>yDt(e,_Dt(t)),lTe=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),SDt=(e,t,n,r)=>lTe(void 0,null,function*(){const{format:i=uTe,operation:a,requestParameters:o={}}=r,s=sTe(W3({},o),{url:lDt(e,t)});return new Promise((l,u)=>{vDt(n,s,(c,f)=>{c?u(c):f&&l(f)},i,a)})}),mce=(e,t,n,r)=>lTe(void 0,null,function*(){let i;const a=Array.isArray(e)?e[0]:e;return r.wmtsOptions?i=((r==null?void 0:r.getURLFromTemplate)||LRt)(a,W3(W3({},t),r.wmtsOptions)):i=((r==null?void 0:r.getURLFromTemplate)||db)(a,t),new Promise((o,s)=>{var l;const u=G9(sTe(W3({},r==null?void 0:r.requestParameters),{url:i,type:((l=r==null?void 0:r.requestParameters)==null?void 0:l.type)||"arrayBuffer"}),(c,f)=>{c?s(c):f&&o(f)},r.transformResponse);n.xhrCancel=()=>u.cancel()})}),uTe=()=>({rasterData:new Uint8Array([0]),width:1,height:1}),ADt=Object.defineProperty,EDt=Object.defineProperties,TDt=Object.getOwnPropertyDescriptors,yce=Object.getOwnPropertySymbols,wDt=Object.prototype.hasOwnProperty,CDt=Object.prototype.propertyIsEnumerable,_ce=(e,t,n)=>t in e?ADt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bce=(e,t)=>{for(var n in t||(t={}))wDt.call(t,n)&&_ce(e,n,t[n]);if(yce)for(var n of yce(t))CDt.call(t,n)&&_ce(e,n,t[n]);return e},RDt=(e,t)=>EDt(e,TDt(t)),IDt={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0};ws.ARRAYBUFFER,ws.RGB;function MDt(e){return!!(Array.isArray(e)&&e.length===0||!Array.isArray(e)&&typeof e!="string")}function ODt(e,t={}){if(MDt(e))throw new Error("tile server url is error");const{extent:n=[1/0,1/0,-1/0,-1/0],coordinates:r}=t;let i=(t==null?void 0:t.dataType)||ws.IMAGE;i===ws.RGB&&(i=ws.ARRAYBUFFER);const a=(l,u)=>{switch(i){case ws.IMAGE:return mce(e,l,u,t);case ws.CUSTOMIMAGE:case ws.CUSTOMTERRAINRGB:return sDt(u,t==null?void 0:t.getCustomData);case ws.ARRAYBUFFER:return SDt(e,l,u,t);case ws.CUSTOMARRAYBUFFER:case ws.CUSTOMRGB:return oDt(u,t==null?void 0:t.getCustomData,(t==null?void 0:t.format)||uTe,t==null?void 0:t.operation);default:return mce(e,l,u,t)}},o=RDt(bce(bce({},IDt),t),{getTileData:a}),s=Xx(r,n);return{data:e,dataArray:[{_id:1,coordinates:s}],tilesetOptions:o,isTile:!0}}var DDt=Object.defineProperty,PDt=Object.defineProperties,LDt=Object.getOwnPropertyDescriptors,UO=Object.getOwnPropertySymbols,cTe=Object.prototype.hasOwnProperty,fTe=Object.prototype.propertyIsEnumerable,xce=(e,t,n)=>t in e?DDt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NDt=(e,t)=>{for(var n in t||(t={}))cTe.call(t,n)&&xce(e,n,t[n]);if(UO)for(var n of UO(t))fTe.call(t,n)&&xce(e,n,t[n]);return e},BDt=(e,t)=>PDt(e,LDt(t)),kDt=(e,t)=>{var n={};for(var r in e)cTe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&UO)for(var r of UO(e))t.indexOf(r)<0&&fTe.call(e,r)&&(n[r]=e[r]);return n};function FDt(e,t){const n=t,{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:i,width:a,height:o}=n,s=kDt(n,["extent","coordinates","width","height"]);e.length<2&&console.warn("RGB解析需要2个波段的数据");const[l,u]=s.bands||[0,1],c=[e[l],e[u]],f=[];for(let p=0;p<c[0].length;p++)f.push((c[1][p]-c[0][p])/(c[1][p]+c[0][p]));const d=Xx(i,r);return{_id:1,dataArray:[BDt(NDt({_id:1,data:f,width:a,height:o},s),{coordinates:d})]}}var UDt=Object.defineProperty,VDt=Object.defineProperties,zDt=Object.getOwnPropertyDescriptors,VO=Object.getOwnPropertySymbols,dTe=Object.prototype.hasOwnProperty,hTe=Object.prototype.propertyIsEnumerable,Sce=(e,t,n)=>t in e?UDt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$Dt=(e,t)=>{for(var n in t||(t={}))dTe.call(t,n)&&Sce(e,n,t[n]);if(VO)for(var n of VO(t))hTe.call(t,n)&&Sce(e,n,t[n]);return e},HDt=(e,t)=>VDt(e,zDt(t)),WDt=(e,t)=>{var n={};for(var r in e)dTe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&VO)for(var r of VO(e))t.indexOf(r)<0&&hTe.call(e,r)&&(n[r]=e[r]);return n};function GDt(e,t){const n=t,{extent:r,coordinates:i,width:a,height:o}=n,s=WDt(n,["extent","coordinates","width","height"]);e.length<3&&console.warn("RGB解析需要三个波段的数据");const[l,u,c]=s.bands||[0,1,2],f=[e[l],e[u],e[c]],d=[],[h,p]=(s==null?void 0:s.countCut)||[2,98],v=(s==null?void 0:s.RMinMax)||hb(f[0],h,p),g=(s==null?void 0:s.GMinMax)||hb(f[1],h,p),m=(s==null?void 0:s.BMinMax)||hb(f[2],h,p);for(let x=0;x<f[0].length;x++)d.push(Math.max(0,f[0][x]-v[0])),d.push(Math.max(0,f[1][x]-g[0])),d.push(Math.max(0,f[2][x]-m[0]));const b=Xx(i,r);return{_id:1,dataArray:[HDt($Dt({_id:1,data:d,width:a,height:o,rMinMax:v,gMinMax:g,bMinMax:m},s),{coordinates:b})]}}var jDt=Object.defineProperty,YDt=Object.defineProperties,XDt=Object.getOwnPropertyDescriptors,zO=Object.getOwnPropertySymbols,pTe=Object.prototype.hasOwnProperty,vTe=Object.prototype.propertyIsEnumerable,Ace=(e,t,n)=>t in e?jDt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KDt=(e,t)=>{for(var n in t||(t={}))pTe.call(t,n)&&Ace(e,n,t[n]);if(zO)for(var n of zO(t))vTe.call(t,n)&&Ace(e,n,t[n]);return e},qDt=(e,t)=>YDt(e,XDt(t)),ZDt=(e,t)=>{var n={};for(var r in e)pTe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&zO)for(var r of zO(e))t.indexOf(r)<0&&vTe.call(e,r)&&(n[r]=e[r]);return n};function QDt(e,t){const n=t,{extent:r,coordinates:i,min:a,max:o,width:s,height:l,format:u,operation:c}=n,f=ZDt(n,["extent","coordinates","min","max","width","height","format","operation"]);let d;if(u===void 0||I2e(e))d=Array.from(e);else{const v=Array.isArray(e)?e:[e];d=Cj(v,u,c)}const h=Xx(i,r);return{_id:1,dataArray:[qDt(KDt({_id:1,data:d,width:s,height:l},f),{min:a,max:o,coordinates:h})]}}var JDt=Object.defineProperty,ePt=Object.defineProperties,tPt=Object.getOwnPropertyDescriptors,Ece=Object.getOwnPropertySymbols,nPt=Object.prototype.hasOwnProperty,rPt=Object.prototype.propertyIsEnumerable,Tce=(e,t,n)=>t in e?JDt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wce=(e,t)=>{for(var n in t||(t={}))nPt.call(t,n)&&Tce(e,n,t[n]);if(Ece)for(var n of Ece(t))rPt.call(t,n)&&Tce(e,n,t[n]);return e},iPt=(e,t)=>ePt(e,tPt(t)),aPt=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),oPt={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},sPt=e=>aPt(void 0,null,function*(){return new Promise(t=>{const[n,r,i,a]=e.bounds,o={layers:{testTile:{features:[{type:"Feature",properties:{key:e.x+"/"+e.y+"/"+e.z,x:(n+i)/2,y:(r+a)/2},geometry:{type:"LineString",coordinates:[[i,a],[i,r],[n,r],[n,r]]}}]}}};t(o)})});function lPt(e,t){const n=i=>sPt(i),r=iPt(wce(wce({},oPt),t),{getTileData:n});return{data:e,dataArray:[],tilesetOptions:r,isTile:!0}}var G3={exports:{}},uPt=G3.exports,Cce;function cPt(){return Cce||(Cce=1,function(e,t){(function(n,r){e.exports=r()})(uPt,function(){function n(O,D,C,P,B,U){if(!(B-P<=C)){var L=P+B>>1;r(O,D,L,P,B,U%2),n(O,D,C,P,L-1,U+1),n(O,D,C,L+1,B,U+1)}}function r(O,D,C,P,B,U){for(;B>P;){if(B-P>600){var L=B-P+1,F=C-P+1,N=Math.log(L),V=.5*Math.exp(2*N/3),W=.5*Math.sqrt(N*V*(L-V)/L)*(F-L/2<0?-1:1),G=Math.max(P,Math.floor(C-F*V/L+W)),K=Math.min(B,Math.floor(C+(L-F)*V/L+W));r(O,D,C,G,K,U)}var q=D[2*C+U],ue=P,he=B;for(i(O,D,P,C),D[2*B+U]>q&&i(O,D,P,B);ue<he;){for(i(O,D,ue,he),ue++,he--;D[2*ue+U]<q;)ue++;for(;D[2*he+U]>q;)he--}D[2*P+U]===q?i(O,D,P,he):(he++,i(O,D,he,B)),he<=C&&(P=he+1),C<=he&&(B=he-1)}}function i(O,D,C,P){a(O,C,P),a(D,2*C,2*P),a(D,2*C+1,2*P+1)}function a(O,D,C){var P=O[D];O[D]=O[C],O[C]=P}function o(O,D,C,P,B,U,L){for(var F=[0,O.length-1,0],N=[],V,W;F.length;){var G=F.pop(),K=F.pop(),q=F.pop();if(K-q<=L){for(var ue=q;ue<=K;ue++)V=D[2*ue],W=D[2*ue+1],V>=C&&V<=B&&W>=P&&W<=U&&N.push(O[ue]);continue}var he=Math.floor((q+K)/2);V=D[2*he],W=D[2*he+1],V>=C&&V<=B&&W>=P&&W<=U&&N.push(O[he]);var Ce=(G+1)%2;(G===0?C<=V:P<=W)&&(F.push(q),F.push(he-1),F.push(Ce)),(G===0?B>=V:U>=W)&&(F.push(he+1),F.push(K),F.push(Ce))}return N}function s(O,D,C,P,B,U){for(var L=[0,O.length-1,0],F=[],N=B*B;L.length;){var V=L.pop(),W=L.pop(),G=L.pop();if(W-G<=U){for(var K=G;K<=W;K++)l(D[2*K],D[2*K+1],C,P)<=N&&F.push(O[K]);continue}var q=Math.floor((G+W)/2),ue=D[2*q],he=D[2*q+1];l(ue,he,C,P)<=N&&F.push(O[q]);var Ce=(V+1)%2;(V===0?C-B<=ue:P-B<=he)&&(L.push(G),L.push(q-1),L.push(Ce)),(V===0?C+B>=ue:P+B>=he)&&(L.push(q+1),L.push(W),L.push(Ce))}return F}function l(O,D,C,P){var B=O-C,U=D-P;return B*B+U*U}var u=function(O){return O[0]},c=function(O){return O[1]},f=function(D,C,P,B,U){C===void 0&&(C=u),P===void 0&&(P=c),B===void 0&&(B=64),U===void 0&&(U=Float64Array),this.nodeSize=B,this.points=D;for(var L=D.length<65536?Uint16Array:Uint32Array,F=this.ids=new L(D.length),N=this.coords=new U(D.length*2),V=0;V<D.length;V++)F[V]=V,N[2*V]=C(D[V]),N[2*V+1]=P(D[V]);n(F,N,B,0,F.length-1,0)};f.prototype.range=function(D,C,P,B){return o(this.ids,this.coords,D,C,P,B,this.nodeSize)},f.prototype.within=function(D,C,P){return s(this.ids,this.coords,D,C,P,this.nodeSize)};var d={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(O){return O}},h=Math.fround||function(O){return function(D){return O[0]=+D,O[0]}}(new Float32Array(1)),p=function(D){this.options=T(Object.create(d),D),this.trees=new Array(this.options.maxZoom+1)};p.prototype.load=function(D){var C=this.options,P=C.log,B=C.minZoom,U=C.maxZoom,L=C.nodeSize;P&&console.time("total time");var F="prepare "+D.length+" points";P&&console.time(F),this.points=D;for(var N=[],V=0;V<D.length;V++)D[V].geometry&&N.push(g(D[V],V));this.trees[U+1]=new f(N,R,M,L,Float32Array),P&&console.timeEnd(F);for(var W=U;W>=B;W--){var G=+Date.now();N=this._cluster(N,W),this.trees[W]=new f(N,R,M,L,Float32Array),P&&console.log("z%d: %d clusters in %dms",W,N.length,+Date.now()-G)}return P&&console.timeEnd("total time"),this},p.prototype.getClusters=function(D,C){var P=((D[0]+180)%360+360)%360-180,B=Math.max(-90,Math.min(90,D[1])),U=D[2]===180?180:((D[2]+180)%360+360)%360-180,L=Math.max(-90,Math.min(90,D[3]));if(D[2]-D[0]>=360)P=-180,U=180;else if(P>U){var F=this.getClusters([P,B,180,L],C),N=this.getClusters([-180,B,U,L],C);return F.concat(N)}for(var V=this.trees[this._limitZoom(C)],W=V.range(_(P),x(L),_(U),x(B)),G=[],K=0,q=W;K<q.length;K+=1){var ue=q[K],he=V.points[ue];G.push(he.numPoints?m(he):this.points[he.index])}return G},p.prototype.getChildren=function(D){var C=this._getOriginId(D),P=this._getOriginZoom(D),B="No cluster with the specified id.",U=this.trees[P];if(!U)throw new Error(B);var L=U.points[C];if(!L)throw new Error(B);for(var F=this.options.radius/(this.options.extent*Math.pow(2,P-1)),N=U.within(L.x,L.y,F),V=[],W=0,G=N;W<G.length;W+=1){var K=G[W],q=U.points[K];q.parentId===D&&V.push(q.numPoints?m(q):this.points[q.index])}if(V.length===0)throw new Error(B);return V},p.prototype.getLeaves=function(D,C,P){C=C||10,P=P||0;var B=[];return this._appendLeaves(B,D,C,P,0),B},p.prototype.getTile=function(D,C,P){var B=this.trees[this._limitZoom(D)],U=Math.pow(2,D),L=this.options,F=L.extent,N=L.radius,V=N/F,W=(P-V)/U,G=(P+1+V)/U,K={features:[]};return this._addTileFeatures(B.range((C-V)/U,W,(C+1+V)/U,G),B.points,C,P,U,K),C===0&&this._addTileFeatures(B.range(1-V/U,W,1,G),B.points,U,P,U,K),C===U-1&&this._addTileFeatures(B.range(0,W,V/U,G),B.points,-1,P,U,K),K.features.length?K:null},p.prototype.getClusterExpansionZoom=function(D){for(var C=this._getOriginZoom(D)-1;C<=this.options.maxZoom;){var P=this.getChildren(D);if(C++,P.length!==1)break;D=P[0].properties.cluster_id}return C},p.prototype._appendLeaves=function(D,C,P,B,U){for(var L=this.getChildren(C),F=0,N=L;F<N.length;F+=1){var V=N[F],W=V.properties;if(W&&W.cluster?U+W.point_count<=B?U+=W.point_count:U=this._appendLeaves(D,W.cluster_id,P,B,U):U<B?U++:D.push(V),D.length===P)break}return U},p.prototype._addTileFeatures=function(D,C,P,B,U,L){for(var F=0,N=D;F<N.length;F+=1){var V=N[F],W=C[V],G=W.numPoints,K=void 0,q=void 0,ue=void 0;if(G)K=b(W),q=W.x,ue=W.y;else{var he=this.points[W.index];K=he.properties,q=_(he.geometry.coordinates[0]),ue=x(he.geometry.coordinates[1])}var Ce={type:1,geometry:[[Math.round(this.options.extent*(q*U-P)),Math.round(this.options.extent*(ue*U-B))]],tags:K},ee=void 0;G?ee=W.id:this.options.generateId?ee=W.index:this.points[W.index].id&&(ee=this.points[W.index].id),ee!==void 0&&(Ce.id=ee),L.features.push(Ce)}},p.prototype._limitZoom=function(D){return Math.max(this.options.minZoom,Math.min(Math.floor(+D),this.options.maxZoom+1))},p.prototype._cluster=function(D,C){for(var P=[],B=this.options,U=B.radius,L=B.extent,F=B.reduce,N=B.minPoints,V=U/(L*Math.pow(2,C)),W=0;W<D.length;W++){var G=D[W];if(!(G.zoom<=C)){G.zoom=C;for(var K=this.trees[C+1],q=K.within(G.x,G.y,V),ue=G.numPoints||1,he=ue,Ce=0,ee=q;Ce<ee.length;Ce+=1){var de=ee[Ce],oe=K.points[de];oe.zoom>C&&(he+=oe.numPoints||1)}if(he>ue&&he>=N){for(var pe=G.x*ue,me=G.y*ue,re=F&&ue>1?this._map(G,!0):null,ne=(W<<5)+(C+1)+this.points.length,se=0,be=q;se<be.length;se+=1){var Pe=be[se],Ee=K.points[Pe];if(!(Ee.zoom<=C)){Ee.zoom=C;var Le=Ee.numPoints||1;pe+=Ee.x*Le,me+=Ee.y*Le,Ee.parentId=ne,F&&(re||(re=this._map(G,!0)),F(re,this._map(Ee)))}}G.parentId=ne,P.push(v(pe/he,me/he,ne,he,re))}else if(P.push(G),he>1)for(var He=0,rt=q;He<rt.length;He+=1){var Je=rt[He],ot=K.points[Je];ot.zoom<=C||(ot.zoom=C,P.push(ot))}}}return P},p.prototype._getOriginId=function(D){return D-this.points.length>>5},p.prototype._getOriginZoom=function(D){return(D-this.points.length)%32},p.prototype._map=function(D,C){if(D.numPoints)return C?T({},D.properties):D.properties;var P=this.points[D.index].properties,B=this.options.map(P);return C&&B===P?T({},B):B};function v(O,D,C,P,B){return{x:h(O),y:h(D),zoom:1/0,id:C,parentId:-1,numPoints:P,properties:B}}function g(O,D){var C=O.geometry.coordinates,P=C[0],B=C[1];return{x:h(_(P)),y:h(x(B)),zoom:1/0,index:D,parentId:-1}}function m(O){return{type:"Feature",id:O.id,properties:b(O),geometry:{type:"Point",coordinates:[E(O.x),A(O.y)]}}}function b(O){var D=O.numPoints,C=D>=1e4?Math.round(D/1e3)+"k":D>=1e3?Math.round(D/100)/10+"k":D;return T(T({},O.properties),{cluster:!0,cluster_id:O.id,point_count:D,point_count_abbreviated:C})}function _(O){return O/360+.5}function x(O){var D=Math.sin(O*Math.PI/180),C=.5-.25*Math.log((1+D)/(1-D))/Math.PI;return C<0?0:C>1?1:C}function E(O){return(O-.5)*360}function A(O){var D=(180-O*360)*Math.PI/180;return 360*Math.atan(Math.exp(D))/Math.PI-90}function T(O,D){for(var C in D)O[C]=D[C];return O}function R(O){return O.x}function M(O){return O.y}return p})}(G3)),G3.exports}var fPt=cPt();const dPt=ni(fPt);var hPt=Object.defineProperty,Rce=Object.getOwnPropertySymbols,pPt=Object.prototype.hasOwnProperty,vPt=Object.prototype.propertyIsEnumerable,Ice=(e,t,n)=>t in e?hPt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gTe=(e,t)=>{for(var n in t||(t={}))pPt.call(t,n)&&Ice(e,n,t[n]);if(Rce)for(var n of Rce(t))vPt.call(t,n)&&Ice(e,n,t[n]);return e};function mTe(e,t){const{radius:n=40,maxZoom:r=18,minZoom:i=0,zoom:a=2}=t;if(e.pointIndex){const l=e.pointIndex.getClusters(e.extent,Math.floor(a));return e.dataArray=gPt(l),e}const o=new dPt({radius:n,minZoom:i,maxZoom:r}),s={type:"FeatureCollection",features:[]};return s.features=e.dataArray.map(l=>({type:"Feature",geometry:{type:"Point",coordinates:l.coordinates},properties:gTe({},l)})),o.load(s.features),o}function gPt(e){return e.map((t,n)=>gTe({coordinates:t.geometry.coordinates,_id:n+1},t.properties))}function mPt(e){if(e.length===0)throw new Error("max requires at least one data point");let t=e[0];for(let n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}function yPt(e){if(e.length===0)throw new Error("min requires at least one data point");let t=e[0];for(let n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t}function yTe(e){if(e.length===0)return 0;let t=e[0],n=0,r;for(let i=1;i<e.length;i++)r=t+e[i]*1,Math.abs(t)>=Math.abs(e[i])?n+=t-r+e[i]:n+=e[i]-r+t,t=r;return t+n*1}function _Pt(e){if(e.length===0)throw new Error("mean requires at least one data point");return yTe(e)/e.length}var bPt={min:yPt,max:mPt,mean:_Pt,sum:yTe},xPt=Object.defineProperty,Mce=Object.getOwnPropertySymbols,SPt=Object.prototype.hasOwnProperty,APt=Object.prototype.propertyIsEnumerable,Oce=(e,t,n)=>t in e?xPt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NA=(e,t)=>{for(var n in t||(t={}))SPt.call(t,n)&&Oce(e,n,t[n]);if(Mce)for(var n of Mce(t))APt.call(t,n)&&Oce(e,n,t[n]);return e},Dce=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),{cloneDeep:EPt,isFunction:Pce,isString:TPt,mergeWith:wPt}=Oo;function CPt(e,t){if(Array.isArray(t))return t}var RPt=class extends Xu.EventEmitter{constructor(e,t){super(),this.type="source",this.isTile=!1,this.inited=!1,this.hooks={init:new Pd},this.parser={type:"geojson"},this.transforms=[],this.cluster=!1,this.clusterOptions={enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"},this.invalidExtent=!1,this.dataArrayChanged=!1,this.cfg={autoRender:!0},this.originData=e,this.initCfg(t),this.init().then(()=>{this.inited=!0,this.emit("update",{type:"inited"})})}getSourceCfg(){return this.cfg}getClusters(e){return this.clusterIndex.getClusters(this.caculClusterExtent(2),e)}getClustersLeaves(e){return this.clusterIndex.getLeaves(e,1/0)}getParserType(){return this.parser.type}updateClusterData(e){const{method:t="sum",field:n}=this.clusterOptions;let r=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(e));this.clusterOptions.zoom=e,r.forEach(i=>{i.id||(i.properties.point_count=1)}),(n||Pce(t))&&(r=r.map(i=>{const a=i.id;if(a){const s=this.clusterIndex.getLeaves(a,1/0).map(u=>u.properties);let l;if(TPt(t)&&n){const u=FRt(s,n);l=bPt[t](u)}Pce(t)&&(l=t(s)),i.properties.stat=l}else i.properties.point_count=1;return i})),this.data=kie("geojson")({type:"FeatureCollection",features:r}),this.executeTrans()}getFeatureById(e){const{type:t="geojson",geometry:n}=this.parser;if(t==="geojson"&&!this.cluster){const r=e<this.originData.features.length?this.originData.features[e]:"null",i=EPt(r);if(i!=null&&i.properties&&(this.transforms.length!==0||this.dataArrayChanged)){const a=this.data.dataArray.find(o=>o._id===e);i.properties=a}return i}else return t==="json"&&n?this.data.dataArray.find(r=>r._id===e):e<this.data.dataArray.length?this.data.dataArray[e]:"null"}updateFeaturePropertiesById(e,t){this.data.dataArray=this.data.dataArray.map(n=>n._id===e?NA(NA({},n),t):n),this.dataArrayChanged=!0,this.emit("update",{type:"update"})}getFeatureId(e,t){const n=this.data.dataArray.find(r=>r[e]===t);return n==null?void 0:n._id}setData(e,t){this.originData=e,this.dataArrayChanged=!1,this.initCfg(t),this.init().then(()=>{this.emit("update",{type:"update"})})}reloadAllTile(){var e;(e=this.tileset)==null||e.reloadAll()}reloadTilebyId(e,t,n){var r;(r=this.tileset)==null||r.reloadTileById(e,t,n)}reloadTileByLnglat(e,t,n){var r;(r=this.tileset)==null||r.reloadTileByLnglat(e,t,n)}getTileExtent(e,t){var n;return(n=this.tileset)==null?void 0:n.getTileExtent(e,t)}getTileByZXY(e,t,n){var r;return(r=this.tileset)==null?void 0:r.getTileByZXY(e,t,n)}reloadTileByExtent(e,t){var n;(n=this.tileset)==null||n.reloadTileByExtent(e,t)}destroy(){var e;this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null,(e=this.tileset)==null||e.destroy()}processData(){return Dce(this,null,function*(){return new Promise((e,t)=>{try{this.excuteParser(),this.initCluster(),this.executeTrans(),e({})}catch(n){t(n)}})})}initCfg(e){this.cfg=wPt(this.cfg,e,CPt);const t=this.cfg;t&&(t.parser&&(this.parser=t.parser),t.transforms&&(this.transforms=t.transforms),this.cluster=t.cluster||!1,t.clusterOptions&&(this.cluster=!0,this.clusterOptions=NA(NA({},this.clusterOptions),t.clusterOptions)))}init(){return Dce(this,null,function*(){this.inited=!1,yield this.processData(),this.inited=!0})}excuteParser(){const e=this.parser,t=e.type||"geojson",n=kie(t);this.data=n(this.originData,e),this.tileset=this.initTileset(),!e.cancelExtent&&(this.extent=ZCt(this.data.dataArray),this.setCenter(this.extent),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3])}setCenter(e){this.center=[(e[0]+e[2])/2,(e[1]+e[3])/2],(isNaN(this.center[0])||isNaN(this.center[1]))&&(this.center=[108.92361111111111,34.54083333333333])}initTileset(){const{tilesetOptions:e}=this.data;return e?(this.isTile=!0,this.tileset?(this.tileset.updateOptions(e),this.tileset):new PRt(NA({},e))):void 0}executeTrans(){this.transforms.forEach(t=>{const{type:n}=t,r=jEt(n)(this.data,t);Object.assign(this.data,r)})}initCluster(){if(!this.cluster)return;const e=this.clusterOptions||{};this.clusterIndex=mTe(this.data,e)}caculClusterExtent(e){let t=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(t=Ej(MO(this.extent),e)),t[0].concat(t[1])}};function IPt(e,t){const{callback:n}=t;return n&&(e.dataArray=e.dataArray.filter(n)),e}var Lj=6378e3;function MPt(e,t){const n=e.dataArray,{size:r=10}=t,i=r/(2*Math.PI*Lj)*(256<<20)/2,{gridHash:a,gridOffset:o}=OPt(n,r),s=NPt(a,o,t);return{yOffset:i,xOffset:i,radius:i,type:"grid",dataArray:s}}function OPt(e,t){let n=1/0,r=-1/0,i;for(const l of e)i=l.coordinates[1],Number.isFinite(i)&&(n=i<n?i:n,r=i>r?i:r);const a=(n+r)/2,o=DPt(t,a);if(o.xOffset<=0||o.yOffset<=0)return{gridHash:{},gridOffset:o};const s={};for(const l of e){const u=l.coordinates[1],c=l.coordinates[0];if(Number.isFinite(u)&&Number.isFinite(c)){const f=Math.floor((u+90)/o.yOffset),d=Math.floor((c+180)/o.xOffset),h=`${f}-${d}`;s[h]=s[h]||{count:0,points:[]},s[h].count+=1,s[h].points.push(l)}}return{gridHash:s,gridOffset:o}}function DPt(e,t){const n=PPt(e),r=LPt(t,e);return{yOffset:n,xOffset:r}}function PPt(e){return e/Lj*(180/Math.PI)}function LPt(e,t){return t/Lj*(180/Math.PI)/Math.cos(e*Math.PI/180)}function NPt(e,t,n){return Object.keys(e).reduce((r,i,a)=>{const o=i.split("-"),s=parseInt(o[0],10),l=parseInt(o[1],10),u={};if(n.field&&n.method){const c=A2e(e[i].points,n.field);u[n.method]=S2e[n.method](c)}return Object.assign(u,{_id:a,coordinates:Ec([-180+t.xOffset*(l+.5),-90+t.yOffset*(s+.5)]),rawData:e[i].points,count:e[i].count}),r.push(u),r},[])}var O1=Math.PI/3,BPt=[0,O1,2*O1,3*O1,4*O1,5*O1];function kPt(e){return e[0]}function FPt(e){return e[1]}function UPt(){var e=0,t=0,n=1,r=1,i=kPt,a=FPt,o,s,l;function u(f){var d={},h=[],p,v=f.length;for(p=0;p<v;++p)if(!(isNaN(m=+i.call(null,g=f[p],p,f))||isNaN(b=+a.call(null,g,p,f)))){var g,m,b,_=Math.round(b=b/l),x=Math.round(m=m/s-(_&1)/2),E=b-_;if(Math.abs(E)*3>1){var A=m-x,T=x+(m<x?-1:1)/2,R=_+(b<_?-1:1),M=m-T,O=b-R;A*A+E*E>M*M+O*O&&(x=T+(_&1?1:-1)/2,_=R)}var D=x+"-"+_,C=d[D];C?C.push(g):(h.push(C=d[D]=[g]),C.x=(x+(_&1)/2)*s,C.y=_*l)}return h}function c(f){var d=0,h=0;return BPt.map(function(p){var v=Math.sin(p)*f,g=-Math.cos(p)*f,m=v-d,b=g-h;return d=v,h=g,[m,b]})}return u.hexagon=function(f){return"m"+c(f==null?o:+f).join("l")+"z"},u.centers=function(){for(var f=[],d=Math.round(t/l),h=Math.round(e/s),p=d*l;p<r+o;p+=l,++d)for(var v=h*s+(d&1)*s/2;v<n+s/2;v+=s)f.push([v,p]);return f},u.mesh=function(){var f=c(o).slice(0,4).join("l");return u.centers().map(function(d){return"M"+d+"m"+f}).join("")},u.x=function(f){return arguments.length?(i=f,u):i},u.y=function(f){return arguments.length?(a=f,u):a},u.radius=function(f){return arguments.length?(o=+f,s=o*2*Math.sin(O1),l=o*1.5,u):o},u.size=function(f){return arguments.length?(e=t=0,n=+f[0],r=+f[1],u):[n-e,r-t]},u.extent=function(f){return arguments.length?(e=+f[0][0],t=+f[0][1],n=+f[1][0],r=+f[1][1],u):[[e,t],[n,r]]},u.radius(1)}var VPt=Object.defineProperty,zPt=Object.defineProperties,$Pt=Object.getOwnPropertyDescriptors,Lce=Object.getOwnPropertySymbols,HPt=Object.prototype.hasOwnProperty,WPt=Object.prototype.propertyIsEnumerable,Nce=(e,t,n)=>t in e?VPt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GPt=(e,t)=>{for(var n in t||(t={}))HPt.call(t,n)&&Nce(e,n,t[n]);if(Lce)for(var n of Lce(t))WPt.call(t,n)&&Nce(e,n,t[n]);return e},jPt=(e,t)=>zPt(e,$Pt(t)),YPt=6378e3;function XPt(e,t){const n=e.dataArray,{size:r=10,method:i="sum"}=t,a=r/(2*Math.PI*YPt)*(256<<20)/2,o=n.map(c=>{const[f,d]=Ec(c.coordinates);return jPt(GPt({},c),{coordinates:[f,d]})});return{dataArray:UPt().radius(a).x(c=>c.coordinates[0]).y(c=>c.coordinates[1])(o).map((c,f)=>{if(t.field&&i){const d=A2e(c,t.field);c[i]=S2e[i](d)}return{[t.method]:c[i],count:c.length,rawData:c,coordinates:[c.x,c.y],_id:f}}),radius:a,xOffset:a,yOffset:a,type:"hexagon"}}var KPt=Object.defineProperty,Bce=Object.getOwnPropertySymbols,qPt=Object.prototype.hasOwnProperty,ZPt=Object.prototype.propertyIsEnumerable,kce=(e,t,n)=>t in e?KPt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fce=(e,t)=>{for(var n in t||(t={}))qPt.call(t,n)&&kce(e,n,t[n]);if(Bce)for(var n of Bce(t))ZPt.call(t,n)&&kce(e,n,t[n]);return e};function QPt(e,t){const{sourceField:n,targetField:r,data:i}=t,a={};return i.forEach(o=>{a[o[n]]=o}),e.dataArray=e.dataArray.map(o=>{const s=o[r];return Fce(Fce({},o),a[s])}),e}function JPt(e,t){const{callback:n}=t;return n&&(e.dataArray=e.dataArray.map(n)),e}Yu("rasterTile",ODt);Yu("mvt",c3t);Yu("geojsonvt",CIt);Yu("testTile",lPt);Yu("geojson",eIt);Yu("jsonTile",zIt);Yu("image",L2e);Yu("csv",WRt);Yu("json",M2e);Yu("raster",E3t);Yu("rasterRgb",QDt);Yu("rgb",GDt);Yu("ndi",FDt);jx("cluster",mTe);jx("filter",IPt);jx("join",QPt);jx("map",JPt);jx("grid",MPt);jx("hexagon",XPt);var eLt=RPt;window._iconfont_svg_string_3580659='<svg><symbol id="l7-icon-area1" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.064889 219.136l38.798223 466.261333a113.777778 113.777778 0 1 1-133.518223 145.237334H279.210667a113.777778 113.777778 0 1 1-60.302223-137.272889L697.856 227.555556A113.777778 113.777778 0 0 1 796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m577.592889-534.072889L269.198222 796.444444c4.152889 7.168 7.509333 14.791111 10.012445 22.812445h465.578666a114.119111 114.119111 0 0 1 65.479111-71.224889l-38.798222-466.261333a112.924444 112.924444 0 0 1-23.210666-7.964445zM796.444444 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-area" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.008 219.136l38.855112 466.261333a113.777778 113.777778 0 0 1-16.497778 224.540445L853.333333 967.111111a113.777778 113.777778 0 0 1-108.544-79.644444H279.210667a113.834667 113.834667 0 0 1-100.067556 79.36L170.666667 967.111111a113.777778 113.777778 0 0 1-17.066667-226.304l30.492444-351.175111a113.777778 113.777778 0 0 1 34.986667-218.680889L227.555556 170.666667a113.777778 113.777778 0 0 1 99.896888 59.221333l355.84-71.395556a113.777778 113.777778 0 0 1 104.675556-101.262222L796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m526.051555-582.314666L340.650667 296.903111a113.891556 113.891556 0 0 1-88.462223 98.645333l-30.947555 355.84c27.477333 13.653333 48.64 38.115556 58.026667 67.754667h465.521777a114.119111 114.119111 0 0 1 65.536-71.168l-38.855111-466.261333a113.948444 113.948444 0 0 1-74.752-56.206222zM227.555556 238.933333a45.511111 45.511111 0 1 0 0 91.022223 45.511111 45.511111 0 0 0 0-91.022223z m568.888888-113.777777a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-delete" viewBox="0 0 1024 1024"><path d="M705.422222 85.333333a34.133333 34.133333 0 0 1 34.133334 34.133334V227.555556h136.533333a34.133333 34.133333 0 0 1 0 68.266666h-25.543111l-24.348445 610.076445a34.133333 34.133333 0 0 1-34.133333 32.768H231.936a34.133333 34.133333 0 0 1-34.076444-32.768L173.340444 295.822222H147.911111a34.133333 34.133333 0 1 1 0-68.266666H284.444444V119.466667a34.133333 34.133333 0 0 1 34.133334-34.133334h386.844444zM241.720889 295.822222l22.983111 574.577778h494.535111l23.04-574.577778H241.720889zM671.288889 153.6H352.711111V227.555556h318.577778V153.6z"  ></path></symbol><symbol id="l7-icon-color" viewBox="0 0 1024 1024"><path d="M512 56.888889c9.841778 0 19.626667 0.341333 29.354667 0.910222 69.176889 4.437333 119.068444 62.577778 124.302222 131.072l0.455111 9.386667c0.739556 44.600889 15.303111 84.935111 44.999111 114.631111 27.022222 27.022222 62.805333 41.528889 102.570667 44.430222l12.060444 0.568889c72.476444 1.194667 135.793778 52.451556 140.458667 124.757333 1.137778 18.261333 1.251556 36.807111 0.170667 55.637334-13.198222 233.585778-211.399111 424.220444-445.326223 428.714666L512 967.111111a455.111111 455.111111 0 0 1-455.054222-464.156444c4.551111-233.927111 195.185778-432.128 428.771555-445.326223C494.535111 57.116444 503.296 56.888889 512 56.888889z m0 68.266667a385.706667 385.706667 0 0 0-22.414222 0.625777C291.726222 136.988444 129.080889 305.948444 125.155556 504.263111c-4.152889 212.366222 163.100444 387.185778 372.508444 394.353778l13.425778 0.227555 8.533333-0.113777c198.371556-3.811556 367.331556-166.456889 378.538667-364.373334a396.174222 396.174222 0 0 0-0.170667-47.331555c-1.991111-31.232-29.127111-56.604444-67.128889-60.472889l-8.248889-0.455111-14.051555-0.682667c-56.547556-4.209778-107.406222-25.884444-145.806222-64.284444-38.855111-38.798222-60.416-90.225778-64.284445-145.749334l-0.910222-21.333333c-2.901333-38.001778-28.785778-66.048-60.302222-68.096A433.891556 433.891556 0 0 0 512 125.155556zM438.044444 682.666667a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m-170.666666-227.555556a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m142.222222-227.555555a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z"  ></path></symbol><symbol id="l7-icon-base-map" viewBox="0 0 1024 1024"><path d="M923.761778 115.029333A34.133333 34.133333 0 0 1 967.111111 147.911111v624.128a34.133333 34.133333 0 0 1-22.186667 32.028445l-278.755555 103.992888a34.133333 34.133333 0 0 1-23.665778 0.056889L381.724444 812.714667a34.133333 34.133333 0 0 0-23.665777 0.113777L102.968889 908.060444a34.133333 34.133333 0 0 1-45.738667-26.965333L56.888889 876.088889V251.960889a34.133333 34.133333 0 0 1 22.186667-32.028445l278.755555-103.992888a34.133333 34.133333 0 0 1 20.992-0.967112l266.183111 72.988445a34.133333 34.133333 0 0 0 18.204445 0zM403.911111 192.625778v555.576889l216.177778 79.075555V251.960889l-216.177778-59.335111z m-68.266667 4.380444L125.155556 275.569778v551.310222l210.432-78.506667V197.006222zM898.844444 192.853333l-210.545777 58.936889v575.089778l210.545777-78.563556V192.853333z"  ></path></symbol><symbol id="l7-icon-dot" viewBox="0 0 1024 1024"><path d="M341.333333 739.555556a113.777778 113.777778 0 0 1 8.533334 227.271111L341.333333 967.111111a113.777778 113.777778 0 0 1-8.533333-227.271111L341.333333 739.555556z m0 68.266666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM910.222222 341.333333a113.777778 113.777778 0 0 1 8.533334 227.271111L910.222222 568.888889a113.777778 113.777778 0 0 1-8.533333-227.271111L910.222222 341.333333z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM227.555556 56.888889a113.777778 113.777778 0 0 1 8.533333 227.271111L227.555556 284.444444a113.777778 113.777778 0 0 1-8.533334-227.271111L227.555556 56.888889z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-display" viewBox="0 0 1024 1024"><path d="M512 170.666667c284.444444 0 455.111111 227.555556 455.111111 341.333333s-170.666667 341.333333-455.111111 341.333333-455.111111-227.555556-455.111111-341.333333 170.666667-341.333333 455.111111-341.333333z m0 68.266666C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 110.762667 178.574222 273.066667 386.844444 273.066667s386.844444-162.304 386.844444-273.066667c0-110.762667-178.574222-273.066667-386.844444-273.066667zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-enlarge" viewBox="0 0 1024 1024"><path d="M546.133333 147.911111l-0.056889 329.955556H876.088889a34.133333 34.133333 0 0 1 0 68.266666H546.076444v329.955556a34.133333 34.133333 0 0 1-68.266666 0V546.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h329.898667V147.911111a34.133333 34.133333 0 0 1 68.266666 0z"  ></path></symbol><symbol id="l7-icon-export-picture" viewBox="0 0 1024 1024"><path d="M883.873684 161.684211a32.336842 32.336842 0 0 1 32.336842 32.336842v582.063158a32.336842 32.336842 0 0 1-32.336842 32.336842H86.231579a32.336842 32.336842 0 0 1-32.336842-32.336842V194.021053a32.336842 32.336842 0 0 1 32.336842-32.336842h797.642105z m-32.336842 64.673684H118.568421v517.389473h170.792421a32.175158 32.175158 0 0 1 0.431158-0.646736l3.772632-4.473264 330.320842-330.374736a32.336842 32.336842 0 0 1 38.588631-5.389474l4.473263 3.018105 184.589474 147.725474V226.357895z m-202.428631 248.131368L379.850105 743.747368H851.536842v-107.304421l-202.428631-161.953684zM323.368421 323.368421a107.789474 107.789474 0 1 1 0 215.578947 107.789474 107.789474 0 0 1 0-215.578947z m0 64.673684a43.115789 43.115789 0 1 0 0 86.231579 43.115789 43.115789 0 0 0 0-86.231579z"  ></path></symbol><symbol id="l7-icon-exit-fullscreen" viewBox="0 0 1024 1024"><path d="M841.955556 591.644444a34.133333 34.133333 0 0 1 5.518222 67.811556l-5.518222 0.455111h-133.745778l192 192.056889a34.133333 34.133333 0 0 1-38.343111 55.182222l-5.176889-2.958222-4.721778-3.982222L659.911111 708.266667V841.955556a34.133333 34.133333 0 0 1-28.615111 33.678222L625.777778 876.088889a34.133333 34.133333 0 0 1-33.678222-28.615111L591.644444 841.955556V625.777778a34.133333 34.133333 0 0 1 28.615112-33.678222L625.777778 591.644444h216.177778z m-443.733334 0a34.133333 34.133333 0 0 1 33.678222 28.615112L432.355556 625.777778v216.177778a34.133333 34.133333 0 0 1-67.811556 5.518222L364.088889 841.955556v-133.745778l-192.056889 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L315.847111 659.911111H182.044444a34.133333 34.133333 0 0 1-33.678222-28.615111L147.911111 625.777778a34.133333 34.133333 0 0 1 28.615111-33.678222L182.044444 591.644444H398.222222zM167.310222 119.808l4.721778 3.982222L364.088889 315.847111V182.044444a34.133333 34.133333 0 0 1 28.615111-33.678222L398.222222 147.911111a34.133333 34.133333 0 0 1 33.678222 28.615111L432.355556 182.044444V398.222222a34.133333 34.133333 0 0 1-28.615112 33.678222L398.222222 432.355556H182.044444a34.133333 34.133333 0 0 1-5.518222-67.811556L182.044444 364.088889h133.802667L123.790222 172.032a34.133333 34.133333 0 0 1 43.52-52.224z m732.899556 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L708.266667 364.088889H841.955556a34.133333 34.133333 0 0 1 33.678222 28.615111L876.088889 398.222222a34.133333 34.133333 0 0 1-28.615111 33.678222L841.955556 432.355556H625.777778a34.133333 34.133333 0 0 1-33.678222-28.615112L591.644444 398.222222V182.044444a34.133333 34.133333 0 0 1 67.811556-5.518222l0.455111 5.518222v133.802667l192.056889-192.056889a34.133333 34.133333 0 0 1 48.241778 0z"  ></path></symbol><symbol id="l7-icon-line" viewBox="0 0 1024 1024"><path d="M853.333333 56.888889a113.777778 113.777778 0 0 1 8.533334 227.271111L853.333333 284.444444c-19.000889 0-36.864-4.664889-52.622222-12.856888l-529.123555 529.066666a113.777778 113.777778 0 0 1-92.387556 166.115556L170.666667 967.111111a113.777778 113.777778 0 0 1-8.533334-227.271111L170.666667 739.555556c19.000889 0 36.864 4.664889 52.622222 12.856888l529.123555-529.066666a113.777778 113.777778 0 0 1 92.387556-166.115556L853.333333 56.888889zM170.666667 807.822222a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m682.666666-682.666666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-layer" viewBox="0 0 1024 1024"><path d="M767.089778 625.777778l180.167111 82.773333a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730667-420.977778 193.422222a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422222a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730667L256.853333 625.777778l81.749334 37.546666L172.771556 739.555556 512 895.374222 851.171556 739.555556l-165.831112-76.231112 81.749334-37.546666z m0-227.555556l180.167111 82.773334a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730666-420.977778 193.422223a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422223a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730666L256.853333 398.222222l81.749334 37.546667-165.831111 76.174222L512 667.818667l339.171556-155.875556-165.831112-76.174222L767.089778 398.222222zM497.720889 60.017778a34.133333 34.133333 0 0 1 28.558222 0l420.977778 193.422222a34.133333 34.133333 0 0 1 0 62.008889l-420.977778 193.422222a34.133333 34.133333 0 0 1-28.558222 0l-420.977778-193.422222a34.133333 34.133333 0 0 1 0-62.008889zM512 128.568889L172.771556 284.387556 512 440.263111l339.171556-155.875555L512 128.568889z"  ></path></symbol><symbol id="l7-icon-narrow" viewBox="0 0 1024 1024"><path d="M910.222222 512a34.133333 34.133333 0 0 1-34.133333 34.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h728.177778a34.133333 34.133333 0 0 1 34.133333 34.133333z"  ></path></symbol><symbol id="l7-icon-fullscreen" viewBox="0 0 1024 1024"><path d="M645.176889 597.674667l4.721778 3.982222L841.955556 793.6l0.056888-133.688889a34.133333 34.133333 0 0 1 28.615112-33.678222L876.088889 625.777778a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 659.911111v216.177778a34.133333 34.133333 0 0 1-28.615111 33.678222L876.088889 910.222222h-216.177778a34.133333 34.133333 0 0 1-5.518222-67.811555l5.518222-0.455111h133.745778l-192-192.056889a34.133333 34.133333 0 0 1 43.52-52.224z m-222.833778 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L230.286222 841.955556H364.088889a34.133333 34.133333 0 0 1 33.678222 28.615111L398.222222 876.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L364.088889 910.222222H147.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 876.088889v-216.177778a34.133333 34.133333 0 0 1 67.811555-5.518222l0.455111 5.518222-0.056888 133.745778 192.113777-192a34.133333 34.133333 0 0 1 48.241778 0zM364.088889 113.777778a34.133333 34.133333 0 0 1 5.518222 67.811555L364.088889 182.044444H230.343111l192 192.056889a34.133333 34.133333 0 0 1-43.52 52.224l-4.721778-3.982222-192.113777-192.056889L182.044444 364.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L147.911111 398.222222a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 364.088889V147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L147.911111 113.777778h216.177778z m512 0a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 147.911111v216.177778a34.133333 34.133333 0 0 1-67.811555 5.518222L841.955556 364.088889l-0.056889-133.745778-192 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L793.6 182.044444H659.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L625.777778 147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L659.911111 113.777778h216.177778z"  ></path></symbol><symbol id="l7-icon-hide" viewBox="0 0 1024 1024"><path d="M875.52 87.836444a34.133333 34.133333 0 0 1 7.281778 43.121778l-3.527111 5.006222-682.666667 796.444445a34.133333 34.133333 0 0 1-55.409778-39.367111l3.527111-5.006222 97.166223-113.379556C123.164444 697.969778 56.888889 582.940444 56.888889 512c0-113.777778 170.666667-341.333333 455.111111-341.333333a496.64 496.64 0 0 1 208.952889 45.112889l106.439111-124.188445a34.133333 34.133333 0 0 1 48.128-3.754667z m-38.684444 202.524445C921.031111 362.951111 967.111111 452.835556 967.111111 512c0 113.777778-170.666667 341.333333-455.111111 341.333333-50.631111 0-97.678222-7.224889-140.8-19.740444l50.232889-58.595556A417.393778 417.393778 0 0 0 512 785.066667c208.270222 0 386.844444-162.304 386.844444-273.066667 0-52.849778-40.675556-117.418667-105.813333-170.496l43.804445-51.2zM512 238.933333C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 66.787556 64.853333 152.291556 162.133333 209.692444L377.173333 616.675556a170.666667 170.666667 0 0 1 217.713778-253.895112l78.620445-91.704888A432.924444 432.924444 0 0 0 512 238.933333z m166.684444 236.088889a170.666667 170.666667 0 0 1-177.664 207.303111l177.607112-207.303111zM512 409.6a102.4 102.4 0 0 0-88.746667 153.486222L548.864 416.426667A102.172444 102.172444 0 0 0 512 409.6z"  ></path></symbol><symbol id="l7-icon-rectangle" viewBox="0 0 1024 1024"><path d="M170.666667 56.888889a113.777778 113.777778 0 0 1 108.544 79.644444H853.333333a34.133333 34.133333 0 0 1 33.678223 28.615111L887.466667 170.666667v574.122666a113.777778 113.777778 0 1 1-142.677334 142.734223L170.666667 887.466667a34.133333 34.133333 0 0 1-33.678223-28.615111L136.533333 853.333333V279.210667A113.777778 113.777778 0 0 1 170.666667 56.888889z m682.666666 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-34.133333-603.022222H279.210667a114.062222 114.062222 0 0 1-74.353778 74.410667L204.8 819.2h539.989333a114.062222 114.062222 0 0 1 74.410667-74.410667V204.8zM170.666667 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-ranging" viewBox="0 0 1024 1024"><path d="M723.171556 50.403556l250.424888 250.424888a31.061333 31.061333 0 0 1 0 43.918223L344.746667 973.596444a31.061333 31.061333 0 0 1-43.918223 0L50.403556 723.171556a31.061333 31.061333 0 0 1 0-43.918223L679.253333 50.403556a31.061333 31.061333 0 0 1 43.918223 0z m-21.959112 74.524444l-39.765333 39.822222 98.986667 98.872889a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222 62.179556 62.122667a34.133333 34.133333 0 0 1-44.088889 51.882667L563.2 387.242667 501.077333 325.063111 437.191111 388.949333l98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222L387.242667 563.2a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.584-62.122667-62.179556-63.886222 63.886222 98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-39.765333 39.822222 197.802667 197.745778 576.284444-576.284444-197.802667-197.745778z"  ></path></symbol><symbol id="l7-icon-reposition" viewBox="0 0 1024 1024"><path d="M512 56.888889a34.133333 34.133333 0 0 1 34.133333 34.133333v24.177778A398.336 398.336 0 0 1 908.856889 477.866667h24.177778a34.133333 34.133333 0 0 1 0 68.266666h-24.177778A398.336 398.336 0 0 1 546.133333 908.856889L546.133333 932.977778a34.133333 34.133333 0 0 1-68.266666 0v-24.177778A398.336 398.336 0 0 1 115.2 546.133333L91.022222 546.133333a34.133333 34.133333 0 1 1 0-68.266666h24.177778A398.336 398.336 0 0 1 477.866667 115.2V91.022222A34.133333 34.133333 0 0 1 512 56.888889z m34.190222 126.862222L546.133333 193.422222a34.133333 34.133333 0 1 1-68.266666 0v-9.671111A330.069333 330.069333 0 0 0 183.751111 477.866667h9.671111a34.133333 34.133333 0 1 1 0 68.266666l-9.671111 0.056889A330.069333 330.069333 0 0 0 477.866667 840.248889V830.577778a34.133333 34.133333 0 0 1 68.266666 0l0.056889 9.671111A330.069333 330.069333 0 0 0 840.248889 546.133333L830.577778 546.133333a34.133333 34.133333 0 0 1 0-68.266666h9.671111A330.069333 330.069333 0 0 0 546.133333 183.751111zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-round" viewBox="0 0 1024 1024"><path d="M512 56.888889a455.111111 455.111111 0 0 1 391.395556 687.502222 113.777778 113.777778 0 0 1-159.061334 158.890667A455.111111 455.111111 0 0 1 120.604444 279.608889 113.777778 113.777778 0 0 1 279.608889 120.604444 452.835556 452.835556 0 0 1 512 56.888889z m0 68.266667a384.910222 384.910222 0 0 0-191.715556 50.744888A113.777778 113.777778 0 0 1 175.957333 320.284444a386.844444 386.844444 0 0 0 527.815111 527.758223 113.777778 113.777778 0 0 1 144.270223-144.440889A386.844444 386.844444 0 0 0 512 125.155556z m299.406222 640.739555a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM212.593778 167.082667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-guanbi" viewBox="0 0 1024 1024"><path d="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z"  ></path></symbol></svg>',function(e){try{let f=function(){s||(s=!0,a())},d=function(){try{o.documentElement.doScroll("left")}catch{return void setTimeout(d,50)}f()};var u=f,c=d,n=(n=document.getElementsByTagName("script"))[n.length-1],t=n.getAttribute("data-injectcss"),n=n.getAttribute("data-disable-injectsvg");if(!n){var r,i,a,o,s,l=function(h,p){p.parentNode.insertBefore(h,p)};if(t&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(h){console&&console.log(h)}}r=function(){var h,p=document.createElement("div");p.innerHTML=e._iconfont_svg_string_3580659,(p=p.getElementsByTagName("svg")[0])&&(p.setAttribute("aria-hidden","true"),p.style.position="absolute",p.style.width=0,p.style.height=0,p.style.overflow="hidden",p=p,(h=document.body).firstChild?l(p,h.firstChild):h.appendChild(p))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(r,0):(i=function(){document.removeEventListener("DOMContentLoaded",i,!1),r()},document.addEventListener("DOMContentLoaded",i,!1)):document.attachEvent&&(a=r,o=e.document,s=!1,d(),o.onreadystatechange=function(){o.readyState=="complete"&&(o.onreadystatechange=null,f())})}}catch{}}(window);class MT extends Tj{constructor(t){super(),fe(this,"controlOption",void 0),fe(this,"container",void 0),fe(this,"isShow",void 0),fe(this,"sceneContainer",void 0),fe(this,"scene",void 0),fe(this,"mapsService",void 0),fe(this,"renderService",void 0),fe(this,"layerService",void 0),fe(this,"controlService",void 0),fe(this,"configService",void 0),MT.controlCount++,this.controlOption=Pt(Pt({},this.getDefault(t)),t||{})}getOptions(){return this.controlOption}setOptions(t){const n=this.getDefault(t);Object.entries(t).forEach(([r,i])=>{i===void 0&&(t[r]=n[r])}),"position"in t&&this.setPosition(t.position),"className"in t&&this.setClassName(t.className),"style"in t&&this.setStyle(t.style),this.controlOption=Pt(Pt({},this.controlOption),t)}addTo(t){this.mapsService=t.mapService,this.renderService=t.rendererService,this.layerService=t.layerService,this.controlService=t.controlService,this.configService=t.globalConfigService,this.scene=t.sceneService,this.sceneContainer=t,this.isShow=!0,this.container=this.onAdd(),u2(this.container,"l7-control");const{className:n,style:r}=this.controlOption;return n&&this.setClassName(n),r&&this.setStyle(r),this.insertContainer(),this.emit("add",this),this}remove(){if(!this.mapsService)return this;IO(this.container),this.onRemove(),this.emit("remove",this)}onAdd(){return Gu("div")}onRemove(){}show(){const t=this.container;j9(t,"l7-control--hide"),this.isShow=!0,this.emit("show",this)}hide(){const t=this.container;u2(t,"l7-control--hide"),this.isShow=!1,this.emit("hide",this)}getDefault(t){return{position:DO.TOPRIGHT,name:`${MT.controlCount}`}}getContainer(){return this.container}getIsShow(){return this.isShow}_refocusOnMap(t){if(this.mapsService&&t&&t.screenX>0&&t.screenY>0){const n=this.mapsService.getContainer();n!==null&&n.focus()}}setPosition(t=DO.TOPLEFT){const n=this.controlService;return n&&n.removeControl(this),this.controlOption.position=t,n&&n.addControl(this,this.sceneContainer),this}setClassName(t){const n=this.container,{className:r}=this.controlOption;r&&j9(n,r),t&&u2(n,t)}setStyle(t){const n=this.container;t?n.setAttribute("style",t):n.removeAttribute("style")}insertContainer(){const t=this.controlOption.position,n=this.container;if(t instanceof Element)t.appendChild(n);else{const r=this.controlService.controlCorners[t];["bottomleft","bottomright","righttop","rightbottom"].includes(t)?r.insertBefore(n,r.firstChild):r.appendChild(n)}}checkUpdateOption(t,n){return n.some(r=>r in t)}}fe(MT,"controlCount",0);class $O extends Xu.EventEmitter{get buttonRect(){return this.button.getBoundingClientRect()}constructor(t,n){super(),fe(this,"popperDOM",void 0),fe(this,"contentDOM",void 0),fe(this,"button",void 0),fe(this,"option",void 0),fe(this,"isShow",!1),fe(this,"content",void 0),fe(this,"timeout",null),fe(this,"show",()=>this.isShow||!this.contentDOM.innerHTML?this:(this.resetPopperPosition(),j9(this.popperDOM,"l7-popper-hide"),this.isShow=!0,this.option.unique&&$O.conflictPopperList.forEach(r=>{r!==this&&r.isShow&&r.hide()}),this.emit("show"),window.addEventListener("pointerdown",this.onPopperUnClick),this)),fe(this,"hide",()=>this.isShow?(u2(this.popperDOM,"l7-popper-hide"),this.isShow=!1,this.emit("hide"),window.removeEventListener("pointerdown",this.onPopperUnClick),this):this),fe(this,"setHideTimeout",()=>{this.timeout||(this.timeout=window.setTimeout(()=>{this.isShow&&(this.hide(),this.timeout=null)},300))}),fe(this,"clearHideTimeout",()=>{this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null)}),fe(this,"onBtnClick",()=>{this.isShow?this.hide():this.show()}),fe(this,"onPopperUnClick",r=>{XCt(r.target,[".l7-button-control",".l7-popper-content"])||this.hide()}),fe(this,"onBtnMouseLeave",()=>{this.setHideTimeout()}),fe(this,"onBtnMouseMove",()=>{this.clearHideTimeout(),!this.isShow&&this.show()}),this.button=t,this.option=n,this.init(),n.unique&&$O.conflictPopperList.push(this)}getPopperDOM(){return this.popperDOM}getIsShow(){return this.isShow}getContent(){return this.content}setContent(t){typeof t=="string"?this.contentDOM.innerHTML=t:t instanceof HTMLElement&&(y2e(this.contentDOM),this.contentDOM.appendChild(t)),this.content=t}init(){const{trigger:t}=this.option;this.popperDOM=this.createPopper(),t==="click"?this.button.addEventListener("click",this.onBtnClick):(this.button.addEventListener("mousemove",this.onBtnMouseMove),this.button.addEventListener("mouseleave",this.onBtnMouseLeave),this.popperDOM.addEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.addEventListener("mouseleave",this.onBtnMouseLeave))}destroy(){this.button.removeEventListener("click",this.onBtnClick),this.button.removeEventListener("mousemove",this.onBtnMouseMove),this.button.removeEventListener("mousemove",this.onBtnMouseLeave),this.popperDOM.removeEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.removeEventListener("mouseleave",this.onBtnMouseLeave),IO(this.popperDOM)}resetPopperPosition(){const t={},{container:n,offset:r=[0,0],placement:i}=this.option,[a,o]=r,s=this.button.getBoundingClientRect(),l=n.getBoundingClientRect(),{left:u,right:c,top:f,bottom:d}=jCt(s,l);let h=!1,p=!1;/^(left|right)/.test(i)?(i.includes("left")?t.right=`${s.width+c}px`:i.includes("right")&&(t.left=`${s.width+u}px`),i.includes("start")?t.top=`${f}px`:i.includes("end")?t.bottom=`${d}px`:(t.top=`${f+s.height/2}px`,p=!0,t.transform=`translate(${a}px, calc(${o}px - 50%))`)):/^(top|bottom)/.test(i)&&(i.includes("top")?t.bottom=`${s.height+d}px`:i.includes("bottom")&&(t.top=`${s.height+f}px`),i.includes("start")?t.left=`${u}px`:i.includes("end")?t.right=`${c}px`:(t.left=`${u+s.width/2}px`,h=!0,t.transform=`translate(calc(${a}px - 50%), ${o}px)`)),t.transform=`translate(calc(${a}px - ${h?"50%":"0%"}), calc(${o}px - ${p?"50%":"0%"})`;const v=i.split("-");v.length&&u2(this.popperDOM,v.map(g=>`l7-popper-${g}`).join(" ")),WCt(this.popperDOM,GCt(t))}createPopper(){const{container:t,className:n="",content:r}=this.option,i=Gu("div",`l7-popper l7-popper-hide ${n}`),a=Gu("div","l7-popper-content"),o=Gu("div","l7-popper-arrow");return i.appendChild(a),i.appendChild(o),t.appendChild(i),this.popperDOM=i,this.contentDOM=a,r&&this.setContent(r),i}}fe($O,"conflictPopperList",[]);const Uce=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],xp=(()=>{if(typeof document>"u")return!1;const e=Uce[0],t={};for(const n of Uce)if((n==null?void 0:n[1])in document){for(const[i,a]of n.entries())t[e[i]]=a;return t}return!1})(),Vce={change:xp.fullscreenchange,error:xp.fullscreenerror};let pc={request(e=document.documentElement,t){return new Promise((n,r)=>{const i=()=>{pc.off("change",i),n()};pc.on("change",i);const a=e[xp.requestFullscreen](t);a instanceof Promise&&a.then(i).catch(r)})},exit(){return new Promise((e,t)=>{if(!pc.isFullscreen){e();return}const n=()=>{pc.off("change",n),e()};pc.on("change",n);const r=document[xp.exitFullscreen]();r instanceof Promise&&r.then(n).catch(t)})},toggle(e,t){return pc.isFullscreen?pc.exit():pc.request(e,t)},onchange(e){pc.on("change",e)},onerror(e){pc.on("error",e)},on(e,t){const n=Vce[e];n&&document.addEventListener(n,t,!1)},off(e,t){const n=Vce[e];n&&document.removeEventListener(n,t,!1)},raw:xp};Object.defineProperties(pc,{isFullscreen:{get:()=>!!document[xp.fullscreenElement]},element:{enumerable:!0,get:()=>{var e;return(e=document[xp.fullscreenElement])!==null&&e!==void 0?e:void 0}},isEnabled:{enumerable:!0,get:()=>!!document[xp.fullscreenEnabled]}});xp||(pc={isEnabled:!1});class tLt extends MT{getDefault(){return{position:DO.BOTTOMLEFT,name:"logo",href:"https://l7.antv.antgroup.com/",img:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*GRb1TKp4HcMAAAAAAAAAAAAAARQnAQ"}}onAdd(){const t=Gu("div","l7-control-logo");return this.setLogoContent(t),t}onRemove(){return null}setOptions(t){super.setOptions(t),this.checkUpdateOption(t,["img","href"])&&(y2e(this.container),this.setLogoContent(this.container))}setLogoContent(t){const{href:n,img:r}=this.controlOption,i=Gu("img");if(i.setAttribute("src",r),i.setAttribute("aria-label","AntV logo"),YCt(i),n){const a=Gu("a","l7-control-logo-link");a.target="_blank",a.href=n,a.rel="noopener nofollow",a.setAttribute("rel","noopener nofollow"),a.appendChild(i),t.appendChild(a)}else t.appendChild(i)}}class nLt{constructor(){fe(this,"mapService",void 0),fe(this,"fontService",void 0)}apply(t,{styleAttributeService:n,mapService:r,fontService:i}){var a=this;this.mapService=r,this.fontService=i,t.hooks.init.tapPromise("DataMappingPlugin",Ut(function*(){t.log(Jo.MappingStart,Rs.INIT),a.generateMaping(t,{styleAttributeService:n}),t.log(Jo.MappingEnd,Rs.INIT)})),t.hooks.beforeRenderData.tapPromise("DataMappingPlugin",function(){var o=Ut(function*(s){if(!s)return s;t.dataState.dataMappingNeedUpdate=!1,t.log(Jo.MappingStart,Rs.UPDATE);const l=a.generateMaping(t,{styleAttributeService:n});return t.log(Jo.MappingEnd,Rs.UPDATE),l});return function(s){return o.apply(this,arguments)}}()),t.hooks.beforeRender.tap("DataMappingPlugin",()=>{const o=t.getSource();if(t.layerModelNeedUpdate||!o||!o.inited)return;const s=n.getLayerStyleAttributes()||[],l=n.getLayerStyleAttribute("filter"),{dataArray:u}=o.data;if(Array.isArray(u)&&u.length===0)return;const c=s.filter(d=>d.needRemapping);let f=u;if(l!=null&&l.needRemapping&&l!==null&&l!==void 0&&l.scale&&(f=u.filter(d=>this.applyAttributeMapping(l,d)[0])),c.length){const d=this.mapping(t,c,f,t.getEncodedData());t.setEncodedData(d)}})}generateMaping(t,{styleAttributeService:n}){const r=n.getLayerStyleAttributes()||[],i=n.getLayerStyleAttribute("filter"),{dataArray:a}=t.getSource().data;let o=a;i!=null&&i.scale&&(o=a.filter(l=>this.applyAttributeMapping(i,l)[0])),o=t.processData(o);const s=this.mapping(t,r,o,void 0);return t.setEncodedData(s),t.emit("dataUpdate",null),!0}mapping(t,n,r,i){const a=n.filter(s=>s.scale!==void 0).filter(s=>s.name!=="filter"),o=r.map((s,l)=>{const u=i?i[l]:{},c=Pt({id:s._id,coordinates:s.coordinates},u);return a.forEach(f=>{let d=this.applyAttributeMapping(f,s);(f.name==="color"||f.name==="stroke")&&(d=d.map(h=>ga(h))),c[f.name]=Array.isArray(d)&&d.length===1?d[0]:d,f.name==="shape"&&(c.shape=this.fontService.getIconFontKey(c[f.name]))}),c});return n.forEach(s=>{s.needRemapping=!1}),this.adjustData2SimpleCoordinates(o),o}adjustData2SimpleCoordinates(t){t.length>0&&this.mapService.version==="SIMPLE"&&t.map(n=>{n.simpleCoordinate||(n.coordinates=this.unProjectCoordinates(n.coordinates),n.simpleCoordinate=!0)})}unProjectCoordinates(t){if(typeof t[0]=="number")return this.mapService.simpleMapCoord.unproject(t);if(t[0]&&t[0][0]instanceof Array){const n=[];return t.map(r=>{const i=[];r.map(a=>{i.push(this.mapService.simpleMapCoord.unproject(a))}),n.push(i)}),n}else{const n=[];return t.map(r=>{n.push(this.mapService.simpleMapCoord.unproject(r))}),n}}applyAttributeMapping(t,n){var r;if(!t.scale)return[];const i=(t==null||(r=t.scale)===null||r===void 0?void 0:r.scalers)||[],a=[];return i.forEach(({field:s})=>{var l;(n.hasOwnProperty(s)||((l=t.scale)===null||l===void 0?void 0:l.type)==="variable")&&a.push(n[s])}),t.mapping?t.mapping(a):[]}getArrowPoints(t,n){const r=[n[0]-t[0],n[1]-t[1]],i=tRt(r);return[t[0]+i[0]*1e-4,t[1]+i[1]*1e-4]}}class rLt{constructor(){fe(this,"mapService",void 0)}apply(t){var n=this;this.mapService=t.getContainer().mapService,t.hooks.init.tapPromise("DataSourcePlugin",Ut(function*(){t.log(Jo.SourceInitStart,Rs.INIT);let r=t.getSource();if(!r){const{data:i,options:a}=t.sourceOption||t.defaultSourceConfig;r=new eLt(i,a),t.setSource(r)}r.inited?(n.updateClusterData(t),t.log(Jo.SourceInitEnd,Rs.INIT)):yield new Promise(i=>{r.on("update",a=>{a.type==="inited"&&(n.updateClusterData(t),t.log(Jo.SourceInitEnd,Rs.INIT)),i(null)})})})),t.hooks.beforeRenderData.tapPromise("DataSourcePlugin",Ut(function*(){const r=n.updateClusterData(t),i=t.dataState.dataSourceNeedUpdate;return t.dataState.dataSourceNeedUpdate=!1,r||i}))}updateClusterData(t){if(t.isTileLayer||t.tileLayer||!t.getSource())return!1;const n=t.getSource(),r=n.cluster,{zoom:i=0}=n.clusterOptions,a=this.mapService.getZoom()-1,o=t.dataState.dataSourceNeedUpdate;return r&&o&&n.updateClusterData(Math.floor(a)),r&&Math.abs(t.clusterZoom-a)>=1?(i!==Math.floor(a)&&n.updateClusterData(Math.floor(a)),t.clusterZoom=a,!0):!1}}function zce(e,t){let n,r;for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}function iLt(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function aLt(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return iLt((n-r/t)*t,o,i,a,s)}}function Nj(e){return function(){return e}}function oLt(e,t){return function(n){return e+n*t}}function sLt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lLt(e){return(e=+e)==1?_Te:function(t,n){return n-t?sLt(t,n,e):Nj(isNaN(t)?n:t)}}function _Te(e,t){var n=t-e;return n?oLt(e,n):Nj(isNaN(e)?t:e)}const $ce=function e(t){var n=lLt(t);function r(i,a){var o=n((i=RO(i)).r,(a=RO(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=_Te(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function uLt(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=RO(t[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=e(r),i=e(i),a=e(a),s.opacity=1,function(l){return s.r=r(l),s.g=i(l),s.b=a(l),s+""}}}var cLt=uLt(aLt);function fLt(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function dLt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hLt(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Bj(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function pLt(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function HO(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vLt(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Bj(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var gz=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o7=new RegExp(gz.source,"g");function gLt(e){return function(){return e}}function mLt(e){return function(t){return e(t)+""}}function yLt(e,t){var n=gz.lastIndex=o7.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=gz.exec(e))&&(i=o7.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:HO(r,i)})),n=o7.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?mLt(l[0].x):gLt(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Bj(e,t){var n=typeof t,r;return t==null||n==="boolean"?Nj(t):(n==="number"?HO:n==="string"?(r=ex(t))?(t=r,$ce):yLt:t instanceof ex?$ce:t instanceof Date?pLt:dLt(t)?fLt:Array.isArray(t)?hLt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vLt:HO)(e,t)}function _Lt(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function kj(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bTe(e){return e.length===1&&(e=bLt(e)),{left:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(r==null&&(r=0),i==null&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function bLt(e){return function(t,n){return kj(e(t),n)}}var xLt=bTe(kj),sL=xLt.right;function SLt(e){return e===null?NaN:+e}var mz=Math.sqrt(50),yz=Math.sqrt(10),_z=Math.sqrt(2);function xTe(e,t,n){var r,i=-1,a,o,s;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),(s=j3(e,t,n))===0||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),t=Math.floor(t/s),o=new Array(a=Math.ceil(t-e+1));++i<a;)o[i]=(e+i)*s;else for(e=Math.floor(e*s),t=Math.ceil(t*s),o=new Array(a=Math.ceil(e-t+1));++i<a;)o[i]=(e-i)/s;return r&&o.reverse(),o}function j3(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=mz?10:a>=yz?5:a>=_z?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=mz?10:a>=yz?5:a>=_z?2:1)}function bz(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=mz?i*=10:a>=yz?i*=5:a>=_z&&(i*=2),t<e?-i:i}function ALt(e,t,n){if(n==null&&(n=SLt),!!(r=e.length)){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function im(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function STe(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e);break}return this}var hc="$";function WO(){}WO.prototype=GO.prototype={constructor:WO,has:function(e){return hc+e in this},get:function(e){return this[hc+e]},set:function(e,t){return this[hc+e]=t,this},remove:function(e){var t=hc+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===hc&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===hc&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===hc&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===hc&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===hc&&++e;return e},empty:function(){for(var e in this)if(e[0]===hc)return!1;return!0},each:function(e){for(var t in this)t[0]===hc&&e(this[t],t.slice(1),this)}};function GO(e,t){var n=new WO;if(e instanceof WO)e.each(function(s,l){n.set(l,s)});else if(Array.isArray(e)){var r=-1,i=e.length,a;if(t==null)for(;++r<i;)n.set(r,e[r]);else for(;++r<i;)n.set(t(a=e[r],r,e),a)}else if(e)for(var o in e)n.set(o,e[o]);return n}function Hce(){}var c0=GO.prototype;Hce.prototype={constructor:Hce,has:c0.has,add:function(e){return e+="",this[hc+e]=e,this},remove:c0.remove,clear:c0.clear,values:c0.keys,size:c0.size,empty:c0.empty,each:c0.each};var ATe=Array.prototype,ETe=ATe.map,wy=ATe.slice,Wce={name:"implicit"};function jO(){var e=GO(),t=[],n=[],r=Wce;function i(a){var o=a+"",s=e.get(o);if(!s){if(r!==Wce)return r;e.set(o,s=t.push(a))}return n[(s-1)%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=GO();for(var o=-1,s=a.length,l,u;++o<s;)e.has(u=(l=a[o])+"")||e.set(u,t.push(l));return i},i.range=function(a){return arguments.length?(n=wy.call(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return jO(t,n).unknown(r)},im.apply(i,arguments),i}function ELt(e){return function(){return e}}function TLt(e){return+e}var Gce=[0,1];function Js(e){return e}function xz(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ELt(isNaN(t)?NaN:.5)}function jce(e){var t=e[0],n=e[e.length-1],r;return t>n&&(r=t,t=n,n=r),function(i){return Math.max(t,Math.min(n,i))}}function wLt(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=xz(i,r),a=n(o,a)):(r=xz(r,i),a=n(a,o)),function(s){return a(r(s))}}function CLt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=xz(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var l=sL(e,s,1,r)-1;return a[l](i[l](s))}}function lL(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fj(){var e=Gce,t=Gce,n=Bj,r,i,a,o=Js,s,l,u;function c(){return s=Math.min(e.length,t.length)>2?CLt:wLt,l=u=null,f}function f(d){return isNaN(d=+d)?a:(l||(l=s(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((u||(u=s(t,e.map(r),HO)))(d)))},f.domain=function(d){return arguments.length?(e=ETe.call(d,TLt),o===Js||(o=jce(e)),c()):e.slice()},f.range=function(d){return arguments.length?(t=wy.call(d),c()):t.slice()},f.rangeRound=function(d){return t=wy.call(d),n=_Lt,c()},f.clamp=function(d){return arguments.length?(o=d?jce(e):Js,f):o!==Js},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return r=d,i=h,c()}}function TTe(e,t){return Fj()(e,t)}function RLt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function YO(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rx(e){return e=YO(Math.abs(e)),e?e[1]:NaN}function ILt(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function MLt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var OLt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function XO(e){if(!(t=OLt.exec(e)))throw new Error("invalid format: "+e);var t;return new Uj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}XO.prototype=Uj.prototype;function Uj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Uj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function DLt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var wTe;function PLt(e,t){var n=YO(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(wTe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+YO(e,Math.max(0,t+a-1))[0]}function Yce(e,t){var n=YO(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Xce={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:RLt,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Yce(e*100,t)},r:Yce,s:PLt,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function Kce(e){return e}var qce=Array.prototype.map,Zce=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function LLt(e){var t=e.grouping===void 0||e.thousands===void 0?Kce:ILt(qce.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Kce:MLt(qce.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"-":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=XO(f);var d=f.fill,h=f.align,p=f.sign,v=f.symbol,g=f.zero,m=f.width,b=f.comma,_=f.precision,x=f.trim,E=f.type;E==="n"?(b=!0,E="g"):Xce[E]||(_===void 0&&(_=12),x=!0,E="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var A=v==="$"?n:v==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=v==="$"?r:/[%p]/.test(E)?o:"",R=Xce[E],M=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(D){var C=A,P=T,B,U,L;if(E==="c")P=R(D)+P,D="";else{D=+D;var F=D<0||1/D<0;if(D=isNaN(D)?l:R(Math.abs(D),_),x&&(D=DLt(D)),F&&+D==0&&p!=="+"&&(F=!1),C=(F?p==="("?p:s:p==="-"||p==="("?"":p)+C,P=(E==="s"?Zce[8+wTe/3]:"")+P+(F&&p==="("?")":""),M){for(B=-1,U=D.length;++B<U;)if(L=D.charCodeAt(B),48>L||L>57){P=(L===46?i+D.slice(B+1):D.slice(B))+P,D=D.slice(0,B);break}}}b&&!g&&(D=t(D,1/0));var N=C.length+D.length+P.length,V=N<m?new Array(m-N+1).join(d):"";switch(b&&g&&(D=t(V+D,V.length?m-P.length:1/0),V=""),h){case"<":D=C+D+P+V;break;case"=":D=C+V+D+P;break;case"^":D=V.slice(0,N=V.length>>1)+C+D+P+V.slice(N);break;default:D=V+C+D+P;break}return a(D)}return O.toString=function(){return f+""},O}function c(f,d){var h=u((f=XO(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(rx(d)/3)))*3,v=Math.pow(10,-p),g=Zce[8+p/3];return function(m){return h(v*m)+g}}return{format:u,formatPrefix:c}}var EI,Vj,CTe;NLt({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function NLt(e){return EI=LLt(e),Vj=EI.format,CTe=EI.formatPrefix,EI}function BLt(e){return Math.max(0,-rx(Math.abs(e)))}function kLt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rx(t)/3)))*3-rx(Math.abs(e)))}function FLt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rx(t)-rx(e))+1}function ULt(e,t,n,r){var i=bz(e,t,n),a;switch(r=XO(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=kLt(i,o))&&(r.precision=a),CTe(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=FLt(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=BLt(i))&&(r.precision=a-(r.type==="%")*2);break}}return Vj(r)}function Ow(e){var t=e.domain;return e.ticks=function(n){var r=t();return xTe(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return ULt(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],l;return s<o&&(l=o,o=s,s=l,l=i,i=a,a=l),l=j3(o,s,n),l>0?(o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l,l=j3(o,s,n)):l<0&&(o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l,l=j3(o,s,n)),l>0?(r[i]=Math.floor(o/l)*l,r[a]=Math.ceil(s/l)*l,t(r)):l<0&&(r[i]=Math.ceil(o*l)/l,r[a]=Math.floor(s*l)/l,t(r)),e},e}function RTe(){var e=TTe(Js,Js);return e.copy=function(){return lL(e,RTe())},im.apply(e,arguments),Ow(e)}function ITe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Qce(e){return Math.log(e)}function Jce(e){return Math.exp(e)}function VLt(e){return-Math.log(-e)}function zLt(e){return-Math.exp(-e)}function $Lt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function HLt(e){return e===10?$Lt:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function WLt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function efe(e){return function(t){return-e(-t)}}function GLt(e){var t=e(Qce,Jce),n=t.domain,r=10,i,a;function o(){return i=WLt(r),a=HLt(r),n()[0]<0?(i=efe(i),a=efe(a),e(VLt,zLt)):e(Qce,Jce),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=function(s){var l=n(),u=l[0],c=l[l.length-1],f;(f=c<u)&&(d=u,u=c,c=d);var d=i(u),h=i(c),p,v,g,m=s==null?10:+s,b=[];if(!(r%1)&&h-d<m){if(d=Math.round(d)-1,h=Math.round(h)+1,u>0){for(;d<h;++d)for(v=1,p=a(d);v<r;++v)if(g=p*v,!(g<u)){if(g>c)break;b.push(g)}}else for(;d<h;++d)for(v=r-1,p=a(d);v>=1;--v)if(g=p*v,!(g<u)){if(g>c)break;b.push(g)}}else b=xTe(d,h,Math.min(h-d,m)).map(a);return f?b.reverse():b},t.tickFormat=function(s,l){if(l==null&&(l=r===10?".0e":","),typeof l!="function"&&(l=Vj(l)),s===1/0)return l;s==null&&(s=10);var u=Math.max(1,r*s/t.ticks().length);return function(c){var f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=function(){return n(ITe(n(),{floor:function(s){return a(Math.floor(i(s)))},ceil:function(s){return a(Math.ceil(i(s)))}}))},t}function MTe(){var e=GLt(Fj()).domain([1,10]);return e.copy=function(){return lL(e,MTe()).base(e.base())},im.apply(e,arguments),e}function tfe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jLt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function YLt(e){return e<0?-e*e:e*e}function XLt(e){var t=e(Js,Js),n=1;function r(){return n===1?e(Js,Js):n===.5?e(jLt,YLt):e(tfe(n),tfe(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ow(t)}function OTe(){var e=XLt(Fj());return e.copy=function(){return lL(e,OTe()).exponent(e.exponent())},im.apply(e,arguments),e}function DTe(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=ALt(e,o/s);return a}function a(o){return isNaN(o=+o)?r:t[sL(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(var s=0,l=o.length,u;s<l;++s)u=o[s],u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(kj),i()},a.range=function(o){return arguments.length?(t=wy.call(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return DTe().domain(e).range(t).unknown(r)},im.apply(a,arguments)}function PTe(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(l){return l<=l?i[sL(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?(e=+l[0],t=+l[1],s()):[e,t]},o.range=function(l){return arguments.length?(n=(i=wy.call(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return PTe().domain([e,t]).range(i).unknown(a)},im.apply(Ow(o),arguments)}function LTe(){var e=[.5],t=[0,1],n,r=1;function i(a){return a<=a?t[sL(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=wy.call(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=wy.call(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return LTe().domain(e).range(t).unknown(n)},im.apply(i,arguments)}var s7=new Date,l7=new Date;function Fl(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return e(a=new Date(+a)),a},i.ceil=function(a){return e(a=new Date(a-1)),t(a,1),e(a),a},i.round=function(a){var o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=function(a,o){return t(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,s){var l=[],u;if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=function(a){return Fl(function(o){if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););})},n&&(i.count=function(a,o){return s7.setTime(+a),l7.setTime(+o),e(s7),e(l7),Math.floor(n(s7,l7))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var KO=Fl(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});KO.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fl(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):KO};KO.range;var qO=1e3,OT=6e4,nfe=36e5,NTe=864e5,BTe=6048e5,kTe=Fl(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*qO)},function(e,t){return(t-e)/qO},function(e){return e.getUTCSeconds()});kTe.range;var FTe=Fl(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*qO)},function(e,t){e.setTime(+e+t*OT)},function(e,t){return(t-e)/OT},function(e){return e.getMinutes()});FTe.range;var UTe=Fl(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*qO-e.getMinutes()*OT)},function(e,t){e.setTime(+e+t*nfe)},function(e,t){return(t-e)/nfe},function(e){return e.getHours()});UTe.range;var uL=Fl(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*OT)/NTe},function(e){return e.getDate()-1});uL.range;function Yy(e){return Fl(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*OT)/BTe})}var zj=Yy(0),ZO=Yy(1),KLt=Yy(2),qLt=Yy(3),ix=Yy(4),ZLt=Yy(5),QLt=Yy(6);zj.range;ZO.range;KLt.range;qLt.range;ix.range;ZLt.range;QLt.range;var VTe=Fl(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});VTe.range;var jg=Fl(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});jg.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Fl(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})};jg.range;var $j=Fl(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/NTe},function(e){return e.getUTCDate()-1});$j.range;function Xy(e){return Fl(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/BTe})}var zTe=Xy(0),QO=Xy(1),JLt=Xy(2),e4t=Xy(3),ax=Xy(4),t4t=Xy(5),n4t=Xy(6);zTe.range;QO.range;JLt.range;e4t.range;ax.range;t4t.range;n4t.range;var Cy=Fl(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});Cy.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Fl(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})};Cy.range;function u7(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function c7(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function BA(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function r4t(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=kA(i),c=FA(i),f=kA(a),d=FA(a),h=kA(o),p=FA(o),v=kA(s),g=FA(s),m=kA(l),b=FA(l),_={a:F,A:N,b:V,B:W,c:null,d:lfe,e:lfe,f:w4t,g:B4t,G:F4t,H:A4t,I:E4t,j:T4t,L:$Te,m:C4t,M:R4t,p:G,q:K,Q:ffe,s:dfe,S:I4t,u:M4t,U:O4t,V:D4t,w:P4t,W:L4t,x:null,X:null,y:N4t,Y:k4t,Z:U4t,"%":cfe},x={a:q,A:ue,b:he,B:Ce,c:null,d:ufe,e:ufe,f:H4t,g:J4t,G:tNt,H:V4t,I:z4t,j:$4t,L:WTe,m:W4t,M:G4t,p:ee,q:de,Q:ffe,s:dfe,S:j4t,u:Y4t,U:X4t,V:K4t,w:q4t,W:Z4t,x:null,X:null,y:Q4t,Y:eNt,Z:nNt,"%":cfe},E={a:O,A:D,b:C,B:P,c:B,d:ofe,e:ofe,f:_4t,g:afe,G:ife,H:sfe,I:sfe,j:v4t,L:y4t,m:p4t,M:g4t,p:M,q:h4t,Q:x4t,s:S4t,S:m4t,u:l4t,U:u4t,V:c4t,w:s4t,W:f4t,x:U,X:L,y:afe,Y:ife,Z:d4t,"%":b4t};_.x=A(n,_),_.X=A(r,_),_.c=A(t,_),x.x=A(n,x),x.X=A(r,x),x.c=A(t,x);function A(oe,pe){return function(me){var re=[],ne=-1,se=0,be=oe.length,Pe,Ee,Le;for(me instanceof Date||(me=new Date(+me));++ne<be;)oe.charCodeAt(ne)===37&&(re.push(oe.slice(se,ne)),(Ee=rfe[Pe=oe.charAt(++ne)])!=null?Pe=oe.charAt(++ne):Ee=Pe==="e"?" ":"0",(Le=pe[Pe])&&(Pe=Le(me,Ee)),re.push(Pe),se=ne+1);return re.push(oe.slice(se,ne)),re.join("")}}function T(oe,pe){return function(me){var re=BA(1900,void 0,1),ne=R(re,oe,me+="",0),se,be;if(ne!=me.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(pe&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(se=c7(BA(re.y,0,1)),be=se.getUTCDay(),se=be>4||be===0?QO.ceil(se):QO(se),se=$j.offset(se,(re.V-1)*7),re.y=se.getUTCFullYear(),re.m=se.getUTCMonth(),re.d=se.getUTCDate()+(re.w+6)%7):(se=u7(BA(re.y,0,1)),be=se.getDay(),se=be>4||be===0?ZO.ceil(se):ZO(se),se=uL.offset(se,(re.V-1)*7),re.y=se.getFullYear(),re.m=se.getMonth(),re.d=se.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),be="Z"in re?c7(BA(re.y,0,1)).getUTCDay():u7(BA(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(be+5)%7:re.w+re.U*7-(be+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,c7(re)):u7(re)}}function R(oe,pe,me,re){for(var ne=0,se=pe.length,be=me.length,Pe,Ee;ne<se;){if(re>=be)return-1;if(Pe=pe.charCodeAt(ne++),Pe===37){if(Pe=pe.charAt(ne++),Ee=E[Pe in rfe?pe.charAt(ne++):Pe],!Ee||(re=Ee(oe,me,re))<0)return-1}else if(Pe!=me.charCodeAt(re++))return-1}return re}function M(oe,pe,me){var re=u.exec(pe.slice(me));return re?(oe.p=c[re[0].toLowerCase()],me+re[0].length):-1}function O(oe,pe,me){var re=h.exec(pe.slice(me));return re?(oe.w=p[re[0].toLowerCase()],me+re[0].length):-1}function D(oe,pe,me){var re=f.exec(pe.slice(me));return re?(oe.w=d[re[0].toLowerCase()],me+re[0].length):-1}function C(oe,pe,me){var re=m.exec(pe.slice(me));return re?(oe.m=b[re[0].toLowerCase()],me+re[0].length):-1}function P(oe,pe,me){var re=v.exec(pe.slice(me));return re?(oe.m=g[re[0].toLowerCase()],me+re[0].length):-1}function B(oe,pe,me){return R(oe,t,pe,me)}function U(oe,pe,me){return R(oe,n,pe,me)}function L(oe,pe,me){return R(oe,r,pe,me)}function F(oe){return o[oe.getDay()]}function N(oe){return a[oe.getDay()]}function V(oe){return l[oe.getMonth()]}function W(oe){return s[oe.getMonth()]}function G(oe){return i[+(oe.getHours()>=12)]}function K(oe){return 1+~~(oe.getMonth()/3)}function q(oe){return o[oe.getUTCDay()]}function ue(oe){return a[oe.getUTCDay()]}function he(oe){return l[oe.getUTCMonth()]}function Ce(oe){return s[oe.getUTCMonth()]}function ee(oe){return i[+(oe.getUTCHours()>=12)]}function de(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var pe=A(oe+="",_);return pe.toString=function(){return oe},pe},parse:function(oe){var pe=T(oe+="",!1);return pe.toString=function(){return oe},pe},utcFormat:function(oe){var pe=A(oe+="",x);return pe.toString=function(){return oe},pe},utcParse:function(oe){var pe=T(oe+="",!0);return pe.toString=function(){return oe},pe}}}var rfe={"-":"",_:" ",0:"0"},ys=/^\s*\d+/,i4t=/^%/,a4t=/[\\^$*+?|[\]().{}]/g;function Qi(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function o4t(e){return e.replace(a4t,"\\$&")}function kA(e){return new RegExp("^(?:"+e.map(o4t).join("|")+")","i")}function FA(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function s4t(e,t,n){var r=ys.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function l4t(e,t,n){var r=ys.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function u4t(e,t,n){var r=ys.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function c4t(e,t,n){var r=ys.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function f4t(e,t,n){var r=ys.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ife(e,t,n){var r=ys.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function afe(e,t,n){var r=ys.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function d4t(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function h4t(e,t,n){var r=ys.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function p4t(e,t,n){var r=ys.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ofe(e,t,n){var r=ys.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function v4t(e,t,n){var r=ys.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function sfe(e,t,n){var r=ys.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function g4t(e,t,n){var r=ys.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function m4t(e,t,n){var r=ys.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function y4t(e,t,n){var r=ys.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function _4t(e,t,n){var r=ys.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function b4t(e,t,n){var r=i4t.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function x4t(e,t,n){var r=ys.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function S4t(e,t,n){var r=ys.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function lfe(e,t){return Qi(e.getDate(),t,2)}function A4t(e,t){return Qi(e.getHours(),t,2)}function E4t(e,t){return Qi(e.getHours()%12||12,t,2)}function T4t(e,t){return Qi(1+uL.count(jg(e),e),t,3)}function $Te(e,t){return Qi(e.getMilliseconds(),t,3)}function w4t(e,t){return $Te(e,t)+"000"}function C4t(e,t){return Qi(e.getMonth()+1,t,2)}function R4t(e,t){return Qi(e.getMinutes(),t,2)}function I4t(e,t){return Qi(e.getSeconds(),t,2)}function M4t(e){var t=e.getDay();return t===0?7:t}function O4t(e,t){return Qi(zj.count(jg(e)-1,e),t,2)}function HTe(e){var t=e.getDay();return t>=4||t===0?ix(e):ix.ceil(e)}function D4t(e,t){return e=HTe(e),Qi(ix.count(jg(e),e)+(jg(e).getDay()===4),t,2)}function P4t(e){return e.getDay()}function L4t(e,t){return Qi(ZO.count(jg(e)-1,e),t,2)}function N4t(e,t){return Qi(e.getFullYear()%100,t,2)}function B4t(e,t){return e=HTe(e),Qi(e.getFullYear()%100,t,2)}function k4t(e,t){return Qi(e.getFullYear()%1e4,t,4)}function F4t(e,t){var n=e.getDay();return e=n>=4||n===0?ix(e):ix.ceil(e),Qi(e.getFullYear()%1e4,t,4)}function U4t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Qi(t/60|0,"0",2)+Qi(t%60,"0",2)}function ufe(e,t){return Qi(e.getUTCDate(),t,2)}function V4t(e,t){return Qi(e.getUTCHours(),t,2)}function z4t(e,t){return Qi(e.getUTCHours()%12||12,t,2)}function $4t(e,t){return Qi(1+$j.count(Cy(e),e),t,3)}function WTe(e,t){return Qi(e.getUTCMilliseconds(),t,3)}function H4t(e,t){return WTe(e,t)+"000"}function W4t(e,t){return Qi(e.getUTCMonth()+1,t,2)}function G4t(e,t){return Qi(e.getUTCMinutes(),t,2)}function j4t(e,t){return Qi(e.getUTCSeconds(),t,2)}function Y4t(e){var t=e.getUTCDay();return t===0?7:t}function X4t(e,t){return Qi(zTe.count(Cy(e)-1,e),t,2)}function GTe(e){var t=e.getUTCDay();return t>=4||t===0?ax(e):ax.ceil(e)}function K4t(e,t){return e=GTe(e),Qi(ax.count(Cy(e),e)+(Cy(e).getUTCDay()===4),t,2)}function q4t(e){return e.getUTCDay()}function Z4t(e,t){return Qi(QO.count(Cy(e)-1,e),t,2)}function Q4t(e,t){return Qi(e.getUTCFullYear()%100,t,2)}function J4t(e,t){return e=GTe(e),Qi(e.getUTCFullYear()%100,t,2)}function eNt(e,t){return Qi(e.getUTCFullYear()%1e4,t,4)}function tNt(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ax(e):ax.ceil(e),Qi(e.getUTCFullYear()%1e4,t,4)}function nNt(){return"+0000"}function cfe(){return"%"}function ffe(e){return+e}function dfe(e){return Math.floor(+e/1e3)}var p1,jTe;rNt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rNt(e){return p1=r4t(e),jTe=p1.format,p1.parse,p1.utcFormat,p1.utcParse,p1}var TE=1e3,wE=TE*60,CE=wE*60,DT=CE*24,iNt=DT*7,hfe=DT*30,f7=DT*365;function aNt(e){return new Date(e)}function oNt(e){return e instanceof Date?+e:+new Date(+e)}function YTe(e,t,n,r,i,a,o,s,l){var u=TTe(Js,Js),c=u.invert,f=u.domain,d=l(".%L"),h=l(":%S"),p=l("%I:%M"),v=l("%I %p"),g=l("%a %d"),m=l("%b %d"),b=l("%B"),_=l("%Y"),x=[[o,1,TE],[o,5,5*TE],[o,15,15*TE],[o,30,30*TE],[a,1,wE],[a,5,5*wE],[a,15,15*wE],[a,30,30*wE],[i,1,CE],[i,3,3*CE],[i,6,6*CE],[i,12,12*CE],[r,1,DT],[r,2,2*DT],[n,1,iNt],[t,1,hfe],[t,3,3*hfe],[e,1,f7]];function E(T){return(o(T)<T?d:a(T)<T?h:i(T)<T?p:r(T)<T?v:t(T)<T?n(T)<T?g:m:e(T)<T?b:_)(T)}function A(T,R,M,O){if(T==null&&(T=10),typeof T=="number"){var D=Math.abs(M-R)/T,C=bTe(function(P){return P[2]}).right(x,D);C===x.length?(O=bz(R/f7,M/f7,T),T=e):C?(C=x[D/x[C-1][2]<x[C][2]/D?C-1:C],O=C[1],T=C[0]):(O=Math.max(bz(R,M,T),1),T=s)}return O==null?T:T.every(O)}return u.invert=function(T){return new Date(c(T))},u.domain=function(T){return arguments.length?f(ETe.call(T,oNt)):f().map(aNt)},u.ticks=function(T,R){var M=f(),O=M[0],D=M[M.length-1],C=D<O,P;return C&&(P=O,O=D,D=P),P=A(T,O,D,R),P=P?P.range(O,D+1):[],C?P.reverse():P},u.tickFormat=function(T,R){return R==null?E:l(R)},u.nice=function(T,R){var M=f();return(T=A(T,M[0],M[M.length-1],R))?f(ITe(M,T)):u},u.copy=function(){return lL(u,YTe(e,t,n,r,i,a,o,s,l))},u}function sNt(){return im.apply(YTe(jg,VTe,zj,uL,UTe,FTe,kTe,KO,jTe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lNt(){var e=0,t=1,n,r,i,a,o=Js,s=!1,l;function u(c){return isNaN(c=+c)?l:o(i===0?.5:(c=(a(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}return u.domain=function(c){return arguments.length?(n=a(e=+c[0]),r=a(t=+c[1]),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(c){return arguments.length?(s=!!c,u):s},u.interpolator=function(c){return arguments.length?(o=c,u):o},u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return a=c,n=c(e),r=c(t),i=n===r?0:1/(r-n),u}}function XTe(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function KTe(){var e=Ow(lNt()(Js));return e.copy=function(){return XTe(e,KTe())},STe.apply(e,arguments)}function uNt(){var e=0,t=.5,n=1,r,i,a,o,s,l=Js,u,c=!1,f;function d(h){return isNaN(h=+h)?f:(h=.5+((h=+u(h))-i)*(h<i?o:s),l(c?Math.max(0,Math.min(1,h)):h))}return d.domain=function(h){return arguments.length?(r=u(e=+h[0]),i=u(t=+h[1]),a=u(n=+h[2]),o=r===i?0:.5/(i-r),s=i===a?0:.5/(a-i),d):[e,t,n]},d.clamp=function(h){return arguments.length?(c=!!h,d):c},d.interpolator=function(h){return arguments.length?(l=h,d):l},d.unknown=function(h){return arguments.length?(f=h,d):f},function(h){return u=h,r=h(e),i=h(t),a=h(n),o=r===i?0:.5/(i-r),s=i===a?0:.5/(a-i),d}}function qTe(){var e=Ow(uNt()(Js));return e.copy=function(){return XTe(e,qTe())},STe.apply(e,arguments)}function ZTe(e){let t,n=[];function r(i){return i??t}return r.invert=r,r.domain=r.range=i=>i?(n=i,i):n,r.unknown=i=>i?(t=i,i):t,r.copy=()=>ZTe().unknown(t),r}const{isNil:d7,isString:cNt,uniq:fNt}=Oo,dNt=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,hNt={[Ji.LINEAR]:RTe,[Ji.POWER]:OTe,[Ji.LOG]:MTe,[Ji.IDENTITY]:ZTe,[Ji.SEQUENTIAL]:KTe,[Ji.TIME]:sNt,[Ji.QUANTILE]:DTe,[Ji.QUANTIZE]:PTe,[Ji.THRESHOLD]:LTe,[Ji.CAT]:jO,[Ji.DIVERGING]:qTe};class pNt{constructor(){fe(this,"scaleOptions",{})}apply(t,{styleAttributeService:n}){var r=this;t.hooks.init.tapPromise("FeatureScalePlugin",Ut(function*(){var i;t.log(Jo.ScaleInitStart,Rs.INIT),r.scaleOptions=t.getScaleOptions();const a=n.getLayerStyleAttributes(),o=(i=t.getSource())===null||i===void 0?void 0:i.data.dataArray;Array.isArray(o)&&o.length===0||(r.caculateScalesForAttributes(a||[],o),t.log(Jo.ScaleInitEnd,Rs.INIT))})),t.hooks.beforeRenderData.tapPromise("FeatureScalePlugin",function(){var i=Ut(function*(a){if(!a)return a;t.log(Jo.ScaleInitStart,Rs.UPDATE),r.scaleOptions=t.getScaleOptions();const o=n.getLayerStyleAttributes(),s=t.getSource().data.dataArray;return Array.isArray(s)&&s.length===0||(r.caculateScalesForAttributes(o||[],s),t.log(Jo.ScaleInitEnd,Rs.UPDATE),t.layerModelNeedUpdate=!0),!0});return function(a){return i.apply(this,arguments)}}()),t.hooks.beforeRender.tap("FeatureScalePlugin",()=>{if(t.layerModelNeedUpdate)return;this.scaleOptions=t.getScaleOptions();const i=n.getLayerStyleAttributes(),a=t.getSource().data.dataArray;if(!(Array.isArray(a)&&a.length===0)&&i){const o=i.filter(s=>s.needRescale);o.length&&this.caculateScalesForAttributes(o,a)}})}isNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)}caculateScalesForAttributes(t,n){t.forEach(r=>{if(r.scale){const i=r.scale,a=r.scale.field;i.names=this.parseFields(d7(a)?[]:a);const o=[];i.names.forEach(s=>{var l;o.push(this.createScale(s,r.name,(l=r.scale)===null||l===void 0?void 0:l.values,n))}),o.some(s=>s.type===h1.VARIABLE)?(i.type=h1.VARIABLE,o.forEach(s=>{if(!i.callback&&i.values!=="text"){var l;switch((l=s.option)===null||l===void 0?void 0:l.type){case Ji.LOG:case Ji.LINEAR:case Ji.POWER:if(i.values&&i.values.length>2){const c=s.scale.ticks(i.values.length);s.scale.domain(c)}i.values?s.scale.range(i.values):s.scale.range(s.option.domain);break;case Ji.QUANTILE:case Ji.QUANTIZE:case Ji.THRESHOLD:s.scale.range(i.values);break;case Ji.IDENTITY:break;case Ji.CAT:i.values?s.scale.range(i.values):s.scale.range(s.option.domain);break;case Ji.DIVERGING:case Ji.SEQUENTIAL:s.scale.interpolator(cLt(i.values));break}}if(i.values==="text"){var u;s.scale.range((u=s.option)===null||u===void 0?void 0:u.domain)}})):(i.type=h1.CONSTANT,i.defaultValues=o.map((s,l)=>s.scale(i.names[l]))),i.scalers=o.map(s=>({field:s.field,func:s.scale,option:s.option})),r.needRescale=!1}})}parseFields(t){return Array.isArray(t)?t:cNt(t)?t.split("*"):[t]}createScale(t,n,r,i){var a,o;const s=this.scaleOptions[n]&&((a=this.scaleOptions[n])===null||a===void 0?void 0:a.field)===t?this.scaleOptions[n]:this.scaleOptions[t],l={field:t,scale:void 0,type:h1.VARIABLE,option:s};if(!i||!i.length)return s&&s.type?l.scale=this.createDefaultScale(s):(l.scale=jO([t]),l.type=h1.CONSTANT),l;const u=(o=i.find(c=>!d7(c[t])))===null||o===void 0?void 0:o[t];if(this.isNumber(t)||d7(u)&&!s)l.scale=jO([t]),l.type=h1.CONSTANT;else{let c=s&&s.type||this.getDefaultType(u);r==="text"&&(c=Ji.CAT),r===void 0&&(c=Ji.IDENTITY);const f=this.createScaleConfig(c,t,s,i);l.scale=this.createDefaultScale(f),l.option=f}return l}getDefaultType(t){let n=Ji.LINEAR;return typeof t=="string"&&(n=dNt.test(t)?Ji.TIME:Ji.CAT),n}createScaleConfig(t,n,r,i){const a=Pt(Pt({},r),{},{type:t});if(a!=null&&a.domain)return a;let o=[];if(t===Ji.QUANTILE){const s=new Map;i==null||i.forEach(l=>{s.set(l._id,l[n])}),o=Array.from(s.values())}else o=(i==null?void 0:i.map(s=>s[n]))||[];if(t===Ji.CAT||t===Ji.IDENTITY)a.domain=fNt(o);else if(t===Ji.QUANTILE)a.domain=o;else if(t===Ji.DIVERGING){const s=zce(o),l=(r==null?void 0:r.neutral)!==void 0?r==null?void 0:r.neutral:(s[0]+s[1])/2;a.domain=[s[0],l,s[1]]}else a.domain=zce(o);return a}createDefaultScale({type:t,domain:n,unknown:r,clamp:i,nice:a}){const o=hNt[t]();return n&&o.domain&&o.domain(n),r&&o.unknown(r),i!==void 0&&o.clamp&&o.clamp(i),a!==void 0&&o.nice&&o.nice(a),o}}class vNt{apply(t){t.hooks.beforeRender.tap("LayerAnimateStylePlugin",()=>{t.animateStatus&&t.models.forEach(r=>{r.addUniforms(Pt({},t.layerModel.getAnimateUniforms()))})})}}let gNt=class{apply(t){t.hooks.afterInit.tap("LayerMaskPlugin",()=>{const{maskLayers:n,enableMask:r}=t.getLayerConfig();!t.tileLayer&&n&&n.length>0&&t.updateLayerConfig({mask:r})})}};class mNt{build(t){return Ut(function*(){t.prepareBuildModel(),yield t.buildModels()})()}initLayerModel(t){var n=this;return Ut(function*(){yield n.build(t),t.styleNeedUpdate=!1})()}prepareLayerModel(t){var n=this;return Ut(function*(){yield n.build(t),t.styleNeedUpdate=!1})()}apply(t){var n=this;t.hooks.init.tapPromise("LayerModelPlugin",Ut(function*(){if(t.getSource().isTile){t.prepareBuildModel();return}t.log(Jo.BuildModelStart,Rs.INIT),yield n.initLayerModel(t),t.log(Jo.BuildModelEnd,Rs.INIT)})),t.hooks.beforeRenderData.tapPromise("LayerModelPlugin",function(){var r=Ut(function*(i){return!i||t.getSource().isTile?!1:(t.log(Jo.BuildModelStart,Rs.UPDATE),yield n.prepareLayerModel(t),t.log(Jo.BuildModelEnd,Rs.UPDATE),!0)});return function(i){return r.apply(this,arguments)}}())}}class yNt{apply(t){t.hooks.afterInit.tap("LayerStylePlugin",()=>{const{autoFit:n,fitBoundsOptions:r}=t.getLayerConfig();n&&t.fitBounds(r),t.styleNeedUpdate=!1})}}const _Nt=["type"],pfe={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},bNt={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},xNt={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},SNt={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function ANt(e){const t={u_DirectionalLights:new Array(3).fill(Pt({},xNt)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(Pt({},SNt)),u_NumOfSpotLights:0};return(!e||!e.length)&&(e=[bNt]),e.forEach(n=>{let{type:r="directional"}=n,i=sh(n,_Nt);const a=pfe[r].lights,o=pfe[r].num,s=t[o];t[a][s]=Pt(Pt({},t[a][s]),i),t[o]++}),t}class ENt{apply(t){t.hooks.beforeRender.tap("LightingPlugin",()=>{const{enableLighting:n}=t.getLayerConfig();n&&t.models.forEach(r=>r.addUniforms(Pt({},ANt())))})}}function QTe(e){return e.map(t=>(typeof t=="string"&&(t=[t,{}]),t))}function JTe(e,t,n,r){const i=e.multiPassRenderer;return i.add(r("render")),QTe(t).forEach(a=>{const[o,s]=a;i.add(n(o),s)}),i.add(n("copy")),i}class TNt{constructor(){fe(this,"enabled",void 0)}apply(t,{rendererService:n,postProcessingPassFactory:r,normalPassFactory:i}){t.hooks.init.tapPromise("MultiPassRendererPlugin",()=>{const{enableMultiPassRenderer:a,passes:o=[]}=t.getLayerConfig();this.enabled=!!a&&t.getLayerConfig().enableMultiPassRenderer!==!1,this.enabled&&(t.multiPassRenderer=JTe(t,o,r,i),t.multiPassRenderer.setRenderFlag(!0))}),t.hooks.beforeRender.tap("MultiPassRendererPlugin",()=>{if(this.enabled){const{width:a,height:o}=n.getViewportSize();t.multiPassRenderer.resize(a,o)}})}}const pg={POSITION:0,POSITION_64LOW:1,COLOR:2,PICKING_COLOR:3,STROKE:4,OPACITY:5,OFFSETS:6,ROTATION:7,MAX:8};function wNt(e){switch(e){case"rotation":return{name:"Rotation",type:Qn.Attribute,descriptor:{name:"a_Rotation",shaderLocation:pg.ROTATION,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{rotation:n=0}=t;return Array.isArray(n)?[n[0]]:[n]}}};case"stroke":return{name:"stroke",type:Qn.Attribute,descriptor:{name:"a_Stroke",shaderLocation:pg.STROKE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:4,update:t=>{const{stroke:n=[1,1,1,1]}=t;return n}}};case"opacity":return{name:"opacity",type:Qn.Attribute,descriptor:{name:"a_Opacity",shaderLocation:pg.OPACITY,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{opacity:n=1}=t;return[n]}}};case"offsets":return{name:"offsets",type:Qn.Attribute,descriptor:{name:"a_Offsets",shaderLocation:pg.OFFSETS,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const{offsets:n}=t;return n}}};default:return}}const{isNumber:CNt}=Oo,v1={NONE:0,ENCODE:1,HIGHLIGHT:2};class RNt{constructor(){fe(this,"pickingUniformMap",void 0)}pickOption2Array(){const t=[];return this.pickingUniformMap.forEach(n=>{CNt(n)?t.push(n):t.push(...n)}),t}updatePickOption(t,n){Object.keys(t).forEach(o=>{this.pickingUniformMap.set(o,t[o])});const r=n.getLayerConfig().pickingBuffer||0,i=Number(n.getShaderPickStat());this.pickingUniformMap.set("u_PickingBuffer",r),this.pickingUniformMap.set("u_shaderPick",i),n.getPickingUniformBuffer().subData({offset:0,data:this.pickOption2Array()})}apply(t,{styleAttributeService:n}){this.pickingUniformMap=new Map([["u_HighlightColor",[1,0,0,1]],["u_SelectColor",[1,0,0,1]],["u_PickingColor",[0,0,0]],["u_PickingStage",0],["u_CurrentSelectedId",[0,0,0]],["u_PickingThreshold",10],["u_PickingBuffer",0],["u_shaderPick",0],["u_activeMix",0]]),t.hooks.init.tapPromise("PixelPickingPlugin",()=>{const{enablePicking:r}=t.getLayerConfig();n.registerStyleAttribute({name:"pickingColor",type:Qn.Attribute,descriptor:{name:"a_PickingColor",shaderLocation:pg.PICKING_COLOR,buffer:{data:[],type:ie.FLOAT},size:3,update:i=>{const{id:a}=i;return r?tx(a):[0,0,0]}}})}),t.hooks.beforePickingEncode.tap("PixelPickingPlugin",()=>{const{enablePicking:r}=t.getLayerConfig();r&&t.isVisible()&&(this.updatePickOption({u_PickingStage:v1.ENCODE},t),t.models.forEach(i=>i.addUniforms({u_PickingStage:v1.ENCODE})))}),t.hooks.afterPickingEncode.tap("PixelPickingPlugin",()=>{const{enablePicking:r}=t.getLayerConfig();r&&t.isVisible()&&(this.updatePickOption({u_PickingStage:v1.HIGHLIGHT},t),t.models.forEach(i=>i.addUniforms({u_PickingStage:v1.HIGHLIGHT})))}),t.hooks.beforeHighlight.tap("PixelPickingPlugin",r=>{const{highlightColor:i,activeMix:a=0}=t.getLayerConfig(),o=typeof i=="string"?ga(i):i||[1,0,0,1];t.updateLayerConfig({pickedFeatureID:iy(new Uint8Array(r))});const s={u_PickingStage:v1.HIGHLIGHT,u_PickingColor:r,u_HighlightColor:o.map(l=>l*255),u_activeMix:a};this.updatePickOption(s,t),t.models.forEach(l=>l.addUniforms(s))}),t.hooks.beforeSelect.tap("PixelPickingPlugin",r=>{const{selectColor:i,selectMix:a=0}=t.getLayerConfig(),o=typeof i=="string"?ga(i):i||[1,0,0,1];t.updateLayerConfig({pickedFeatureID:iy(new Uint8Array(r))});const s={u_PickingStage:v1.HIGHLIGHT,u_PickingColor:r,u_HighlightColor:o.map(l=>l*255),u_activeMix:a,u_CurrentSelectedId:r,u_SelectColor:o.map(l=>l*255)};this.updatePickOption(s,t),t.models.forEach(l=>l.addUniforms(s))})}}const INt=["mvt","geojsonvt","testTile"];function MNt(e){const t=e.getSource();return INt.includes(t.parser.type)}class ONt{apply(t,{styleAttributeService:n}){t.hooks.init.tapPromise("RegisterStyleAttributePlugin",()=>{MNt(t)||this.registerBuiltinAttributes(n,t)})}registerBuiltinAttributes(t,n){if(n.type==="MaskLayer"){this.registerPositionAttribute(t);return}this.registerPositionAttribute(t),this.registerColorAttribute(t)}registerPositionAttribute(t){t.registerStyleAttribute({name:"position",type:Qn.Attribute,descriptor:{name:"a_Position",shaderLocation:pg.POSITION,buffer:{data:[],type:ie.FLOAT},size:3,update:(n,r,i)=>i.length===2?[i[0],i[1],0]:[i[0],i[1],i[2]]}})}registerColorAttribute(t){t.registerStyleAttribute({name:"color",type:Qn.Attribute,descriptor:{name:"a_Color",shaderLocation:pg.COLOR,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:4,update:n=>{const{color:r}=n;return!r||!r.length?[1,1,1,1]:r}}})}}class DNt{constructor(){fe(this,"cameraService",void 0),fe(this,"coordinateSystemService",void 0),fe(this,"rendererService",void 0),fe(this,"mapService",void 0),fe(this,"layerService",void 0)}apply(t,{rendererService:n,mapService:r,layerService:i,coordinateSystemService:a,cameraService:o}){this.rendererService=n,this.mapService=r,this.layerService=i,this.coordinateSystemService=a,this.cameraService=o;let s;this.rendererService.uniformBuffers[0]||(s=this.rendererService.createBuffer({data:new Float32Array(16*4+4*7),isUBO:!0,label:"renderUniformBuffer"}),this.rendererService.uniformBuffers[0]=s),t.hooks.beforeRender.tap("ShaderUniformPlugin",()=>{const l=t.getLayerConfig().tileOrigin;this.coordinateSystemService.refresh(l);const{width:u,height:c}=this.rendererService.getViewportSize(),{data:f,uniforms:d}=this.generateUBO(u,c);this.layerService.alreadyInRendering&&this.rendererService.uniformBuffers[0]&&this.rendererService.uniformBuffers[0].subData({offset:0,data:f}),this.rendererService.queryVerdorInfo()==="WebGL1"&&t.models.forEach(p=>{p.addUniforms(Pt(Pt({},d),{},{u_PickingBuffer:t.getLayerConfig().pickingBuffer||0,u_shaderPick:Number(t.getShaderPickStat())}))})})}generateUBO(t,n){const r=this.cameraService.getProjectionMatrix(),i=this.cameraService.getViewMatrix(),a=this.cameraService.getViewProjectionMatrix(),o=this.cameraService.getModelMatrix(),s=this.coordinateSystemService.getViewportCenterProjection(),l=this.coordinateSystemService.getPixelsPerDegree(),u=this.cameraService.getZoom(),c=this.coordinateSystemService.getPixelsPerDegree2(),f=this.cameraService.getZoomScale(),d=this.coordinateSystemService.getPixelsPerMeter(),h=this.coordinateSystemService.getCoordinateSystem(),p=this.cameraService.getCameraPosition(),v=window.devicePixelRatio,g=this.coordinateSystemService.getViewportCenter(),m=[t,n],b=this.cameraService.getFocalDistance();return{data:[...i,...r,...a,...o,...s,...l,u,...c,f,...d,h,...p,v,...g,...m,b,0,0,0],uniforms:{[u0.ProjectionMatrix]:r,[u0.ViewMatrix]:i,[u0.ViewProjectionMatrix]:a,[u0.Zoom]:u,[u0.ZoomScale]:f,[u0.FocalDistance]:b,[u0.CameraPosition]:p,[d1.CoordinateSystem]:h,[d1.ViewportCenter]:g,[d1.ViewportCenterProjection]:s,[d1.PixelsPerDegree]:l,[d1.PixelsPerDegree2]:c,[d1.PixelsPerMeter]:d,u_ViewportSize:m,u_ModelMatrix:o,u_DevicePixelRatio:v}}}}class PNt{apply(t){t.hooks.beforeRender.tap("UpdateModelPlugin",()=>{t.layerModel&&t.layerModel.needUpdate().then(n=>{n&&t.renderLayers()})}),t.hooks.afterRender.tap("UpdateModelPlugin",()=>{t.layerModelNeedUpdate=!1})}}class LNt{apply(t,{styleAttributeService:n}){t.hooks.init.tapPromise("UpdateStyleAttributePlugin",()=>{this.initStyleAttribute(t,{styleAttributeService:n})}),t.hooks.beforeRender.tap("UpdateStyleAttributePlugin",()=>{t.layerModelNeedUpdate||t.inited&&this.updateStyleAttribute(t,{styleAttributeService:n})})}updateStyleAttribute(t,{styleAttributeService:n}){const r=n.getLayerStyleAttributes()||[],i=n.getLayerStyleAttribute("filter");if(i&&i.needRegenerateVertices){t.layerModelNeedUpdate=!0,r.forEach(a=>a.needRegenerateVertices=!1);return}r.filter(a=>a.needRegenerateVertices).forEach(a=>{n.updateAttributeByFeatureRange(a.name,t.getEncodedData(),a.featureRange.startIndex,a.featureRange.endIndex,t),a.needRegenerateVertices=!1})}initStyleAttribute(t,{styleAttributeService:n}){(n.getLayerStyleAttributes()||[]).filter(i=>i.needRegenerateVertices).forEach(i=>{n.updateAttributeByFeatureRange(i.name,t.getEncodedData(),i.featureRange.startIndex,i.featureRange.endIndex),i.needRegenerateVertices=!1})}}function NNt(){return[new rLt,new ONt,new pNt,new nLt,new yNt,new gNt,new LNt,new PNt,new TNt,new DNt,new vNt,new ENt,new RNt,new mNt]}const ewe={[Zv.additive]:{enable:!0,func:{srcRGB:ie.ONE,dstRGB:ie.ONE,srcAlpha:1,dstAlpha:1}},[Zv.none]:{enable:!1},[Zv.normal]:{enable:!0,func:{srcRGB:ie.SRC_ALPHA,dstRGB:ie.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}},[Zv.subtractive]:{enable:!0,func:{srcRGB:ie.ONE,dstRGB:ie.ONE,srcAlpha:ie.ZERO,dstAlpha:ie.ONE_MINUS_SRC_COLOR},equation:{rgb:ie.FUNC_SUBTRACT,alpha:ie.FUNC_SUBTRACT}},[Zv.max]:{enable:!0,func:{srcRGB:ie.ONE,dstRGB:ie.ONE},equation:{rgb:ie.MAX_EXT}},[Zv.min]:{enable:!0,func:{srcRGB:ie.ONE,dstRGB:ie.ONE},equation:{rgb:ie.MIN_EXT}}};class BNt{constructor(t){fe(this,"layer",void 0),this.layer=t}pickRender(t){const r=this.layer.getContainer().layerService,i=this.layer;if(i.tileLayer)return i.tileLayer.pickRender(t);i.hooks.beforePickingEncode.call(),r.renderTileLayerMask(i),i.renderModels({ispick:!0}),i.hooks.afterPickingEncode.call()}pick(t,n){var r=this;return Ut(function*(){const a=r.layer.getContainer().pickingService;return t.type==="RasterLayer"?r.pickRasterLayer(t,n):(r.pickRender(n),a.pickFromPickingFBO(t,n))})()}pickRasterLayer(t,n,r){const i=this.layer.getContainer(),a=i.pickingService,o=i.mapService,s=this.layer.getSource().extent,l=qCt(n.lngLat,s),u={x:n.x,y:n.y,type:n.type,lngLat:n.lngLat,target:n,rasterValue:null},c=r||t;if(l){const f=this.readRasterValue(t,s,o,n.x,n.y);return u.rasterValue=f,a.triggerHoverOnLayer(c,u),!0}else return u.type=n.type==="mousemove"?"mouseout":"un"+n.type,a.triggerHoverOnLayer(c,Pt(Pt({},u),{},{type:"unpick"})),a.triggerHoverOnLayer(c,u),!1}readRasterValue(t,n,r,i,a){const o=t.getSource().data.dataArray[0],[s=0,l=0,u=10,c=-10]=n,f=r.lngLatToContainer([s,l]),d=r.lngLatToContainer([u,c]),h=d.x-f.x,p=f.y-d.y,v=[(i-f.x)/h,(a-d.y)/p],g=o.width||1,m=o.height||1,b=Math.floor(v[0]*g),_=Math.floor(v[1]*m),x=Math.max(0,_-1)*g+b;return o.data[x]}selectFeature(t){const n=this.layer,[r,i,a]=t;n.hooks.beforeSelect.call([r,i,a])}highlightPickedFeature(t){const[n,r,i]=t;this.layer.hooks.beforeHighlight.call([n,r,i])}getFeatureById(t){return this.layer.getSource().getFeatureById(t)}}class kNt{constructor(t){fe(this,"layer",void 0),fe(this,"rendererService",void 0),fe(this,"colorTexture",void 0),fe(this,"key",void 0),this.layer=t;const n=this.layer.getContainer();this.rendererService=n.rendererService}getColorTexture(t,n){const r=this.getTextureKey(t,n);return this.key===r?this.colorTexture:(this.createColorTexture(t,n),this.key=r,this.colorTexture)}createColorTexture(t,n){const{createTexture2D:r}=this.rendererService,i=this.getColorRampBar(t,n),a=r({data:new Uint8Array(i.data),width:i.width,height:i.height,flipY:!1,unorm:!0});return this.colorTexture=a,a}setColorTexture(t,n,r){this.key=this.getTextureKey(n,r),this.colorTexture=t}destroy(){var t;(t=this.colorTexture)===null||t===void 0||t.destroy()}getColorRampBar(t,n){switch(t.type){case"cat":return T2t(t);case"quantize":return w2t(t);case"custom":return C2t(t,n);case"linear":return E2t(t,n);default:return A2t(t)}}getTextureKey(t,n){var r;return`${t.colors.join("_")}_${t==null||(r=t.positions)===null||r===void 0?void 0:r.join("_")}_${t.type}_${n==null?void 0:n.join("_")}`}}const FNt=["passes"],UNt=["moduleName","vertexShader","fragmentShader","defines","inject","triangulation","styleOption","pickingEnabled"],{isEqual:h7,isFunction:vfe,isNumber:gfe,isObject:As,isPlainObject:VNt,isUndefined:zNt}=Oo;let mfe=0;class Kx extends Xu.EventEmitter{get shaderModuleService(){return this.container.shaderModuleService}get cameraService(){return this.container.cameraService}get coordinateService(){return this.container.coordinateSystemService}get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get pickingService(){return this.container.pickingService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get interactionService(){return this.container.interactionService}get mapService(){var t;return(t=this.container)===null||t===void 0?void 0:t.mapService}get normalPassFactory(){return this.container.normalPassFactory}constructor(t={}){super(),fe(this,"id",`${mfe++}`),fe(this,"name",`${mfe}`),fe(this,"parent",void 0),fe(this,"coordCenter",void 0),fe(this,"type",void 0),fe(this,"visible",!0),fe(this,"zIndex",0),fe(this,"minZoom",void 0),fe(this,"maxZoom",void 0),fe(this,"inited",!1),fe(this,"layerModelNeedUpdate",!1),fe(this,"pickedFeatureID",null),fe(this,"selectedFeatureID",null),fe(this,"styleNeedUpdate",!1),fe(this,"rendering",void 0),fe(this,"forceRender",!1),fe(this,"clusterZoom",0),fe(this,"layerType",void 0),fe(this,"triangulation",void 0),fe(this,"layerPickService",void 0),fe(this,"textureService",void 0),fe(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json"}}}),fe(this,"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),fe(this,"hooks",{init:new KMt,afterInit:new Wue,beforeRender:new Wue,beforeRenderData:new qMt,afterRender:new Pd,beforePickingEncode:new Pd,afterPickingEncode:new Pd,beforeHighlight:new Pd(["pickedColor"]),afterHighlight:new Pd,beforeSelect:new Pd(["pickedColor"]),afterSelect:new Pd,beforeDestroy:new Pd,afterDestroy:new Pd}),fe(this,"models",[]),fe(this,"multiPassRenderer",void 0),fe(this,"plugins",void 0),fe(this,"startInit",!1),fe(this,"sourceOption",void 0),fe(this,"layerModel",void 0),fe(this,"shapeOption",void 0),fe(this,"tileLayer",void 0),fe(this,"layerChildren",[]),fe(this,"masks",[]),fe(this,"configService",iTe),fe(this,"styleAttributeService",void 0),fe(this,"layerSource",void 0),fe(this,"postProcessingPassFactory",void 0),fe(this,"animateOptions",{enable:!1}),fe(this,"container",void 0),fe(this,"encodedData",void 0),fe(this,"currentPickId",null),fe(this,"rawConfig",void 0),fe(this,"needUpdateConfig",void 0),fe(this,"encodeStyleAttribute",{}),fe(this,"enableShaderEncodeStyles",[]),fe(this,"enableDataEncodeStyles",[]),fe(this,"pendingStyleAttributes",[]),fe(this,"scaleOptions",{}),fe(this,"animateStartTime",void 0),fe(this,"animateStatus",!1),fe(this,"isDestroyed",!1),fe(this,"uniformBuffers",[]),fe(this,"encodeDataLength",0),fe(this,"sourceEvent",()=>{this.dataState.dataSourceNeedUpdate=!0;const n=this.getLayerConfig();n&&n.autoFit&&this.fitBounds(n.fitBoundsOptions),this.layerSource.getSourceCfg().autoRender&&setTimeout(()=>{this.reRender()},10)}),this.name=t.name||this.id,this.zIndex=t.zIndex||0,this.rawConfig=t,this.masks=t.maskLayers||[]}addMask(t){this.masks.push(t),this.updateLayerConfig({maskLayers:this.masks}),this.enableMask()}removeMask(t){const n=this.masks.indexOf(t);n>-1&&this.masks.splice(n,1),this.updateLayerConfig({maskLayers:this.masks})}disableMask(){this.updateLayerConfig({enableMask:!1})}enableMask(){this.updateLayerConfig({enableMask:!0})}addMaskLayer(t){this.masks.push(t)}removeMaskLayer(t){const n=this.masks.indexOf(t);n>-1&&this.masks.splice(n,1),t.destroy()}getAttribute(t){return this.styleAttributeService.getLayerStyleAttribute(t)}getLayerConfig(){return this.configService.getLayerConfig(this.id)}updateLayerConfig(t){if(Object.keys(t).map(n=>{n in this.rawConfig&&(this.rawConfig[n]=t[n])}),!this.startInit)this.needUpdateConfig=Pt(Pt({},this.needUpdateConfig),t);else{const n=this.container.id;this.configService.setLayerConfig(n,this.id,Pt(Pt(Pt({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),t)),this.needUpdateConfig={}}}setContainer(t){this.container=t}getContainer(){return this.container}addPlugin(t){return this.plugins.push(t),this}init(){var t=this;return Ut(function*(){const n=t.container.id;t.startInit=!0,t.configService.setLayerConfig(n,t.id,t.rawConfig),t.layerType=t.rawConfig.layerType;const{enableMultiPassRenderer:r,passes:i}=t.getLayerConfig();r&&i!==null&&i!==void 0&&i.length&&i.length>0&&t.mapService.on("mapAfterFrameChange",()=>{t.renderLayers()}),t.postProcessingPassFactory=t.container.postProcessingPassFactory,t.styleAttributeService=t.container.styleAttributeService,r&&(t.multiPassRenderer=t.container.multiPassRenderer,t.multiPassRenderer.setLayer(t)),t.pendingStyleAttributes.forEach(({attributeName:a,attributeField:o,attributeValues:s,updateOptions:l})=>{t.styleAttributeService.updateStyleAttribute(a,{scale:Pt({field:o},t.splitValuesAndCallbackInAttribute(s,o?void 0:t.getLayerConfig()[a]))},l)}),t.pendingStyleAttributes=[],t.plugins=NNt();for(const a of t.plugins)a.apply(t,t.container);t.layerPickService=new BNt(t),t.textureService=new kNt(t),t.log(Jo.LayerInitStart),yield t.hooks.init.promise(),t.log(Jo.LayerInitEnd),t.inited=!0,t.emit("inited",{target:t,type:"inited"}),t.emit("add",{target:t,type:"add"}),t.hooks.afterInit.call()})()}log(t,n="init"){var r;if(this.tileLayer||this.isTileLayer)return;const i=`${this.id}.${n}.${t}`,a={id:this.id,type:this.type};(r=this.debugService)===null||r===void 0||r.log(i,a)}updateModelData(t){t.attributes&&t.elements?this.models.map(n=>{n.updateAttributesAndElements(t.attributes,t.elements)}):console.warn("data error")}setLayerPickService(t){this.layerPickService=t}prepareBuildModel(){Object.keys(this.needUpdateConfig||{}).length!==0&&this.updateLayerConfig({});const{animateOption:t}=this.getLayerConfig();t!=null&&t.enable&&(this.layerService.startAnimate(),this.animateStatus=!0)}color(t,n,r){return this.updateStyleAttribute("color",t,n,r),this}texture(t,n,r){return this.updateStyleAttribute("texture",t,n,r),this}rotate(t,n,r){return this.updateStyleAttribute("rotate",t,n,r),this}size(t,n,r){return this.updateStyleAttribute("size",t,n,r),this}filter(t,n,r){const i=this.updateStyleAttribute("filter",t,n,r);return this.dataState.dataSourceNeedUpdate=i&&this.inited,this}shape(t,n,r){this.shapeOption={field:t,values:n};const i=this.updateStyleAttribute("shape",t,n,r);return this.dataState.dataSourceNeedUpdate=i&&this.inited,this}label(t,n,r){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:t,attributeValues:n,updateOptions:r}),this}animate(t){let n={};return As(t)?(n.enable=!0,n=Pt(Pt({},n),t)):n.enable=t,this.updateLayerConfig({animateOption:n}),this}source(t,n){return(t==null?void 0:t.type)==="source"?(this.setSource(t),this):(this.sourceOption={data:t,options:n},this.clusterZoom=0,this)}setData(t,n){return this.inited?(this.dataUpdatelog(),this.layerSource.setData(t,n)):this.on("inited",()=>{this.dataUpdatelog(),this.layerSource.setData(t,n)}),this}dataUpdatelog(){this.log(Jo.SourceInitStart,Rs.UPDATE),this.layerSource.once("update",()=>{this.log(Jo.SourceInitEnd,Rs.UPDATE)})}style(t){const{passes:n}=t,r=sh(t,FNt);n&&QTe(n).forEach(a=>{const o=this.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(a[0]);o&&o.updateOptions(a[1])}),r.borderColor&&(r.stroke=r.borderColor),r.borderWidth&&(r.strokeWidth=r.borderWidth);const i=r;return Object.keys(r).forEach(a=>{const o=r[a];Array.isArray(o)&&o.length===2&&!gfe(o[0])&&!gfe(o[1])&&(i[a]={field:o[0],value:o[1]})}),this.encodeStyle(i),this.updateLayerConfig(i),this}encodeStyle(t){Object.keys(t).forEach(n=>{[...this.enableShaderEncodeStyles,...this.enableDataEncodeStyles].includes(n)&&VNt(t[n])&&(t[n].field||t[n].value)&&!h7(this.encodeStyleAttribute[n],t[n])?(this.encodeStyleAttribute[n]=t[n],this.updateStyleAttribute(n,t[n].field,t[n].value),this.inited&&(this.dataState.dataMappingNeedUpdate=!0)):this.encodeStyleAttribute[n]&&(delete this.encodeStyleAttribute[n],this.dataState.dataSourceNeedUpdate=!0)})}scale(t,n){const r=Pt({},this.scaleOptions);if(As(t)?this.scaleOptions=Pt(Pt({},this.scaleOptions),t):this.scaleOptions[t]=n,this.styleAttributeService&&!h7(r,this.scaleOptions)){const i=As(t)?t:{[t]:n};this.styleAttributeService.updateScaleAttribute(i)}return this}renderLayers(){this.rendering=!0,this.layerService.reRender(),this.rendering=!1}prerender(){}render(t={}){return this.tileLayer?(this.tileLayer.render(),this):(this.layerService.beforeRenderData(this),this.encodeDataLength<=0&&!this.forceRender?this:(this.renderModels(t),this))}renderMultiPass(){var t=this;return Ut(function*(){t.encodeDataLength<=0&&!t.forceRender||(t.multiPassRenderer&&t.multiPassRenderer.getRenderFlag()?yield t.multiPassRenderer.render():t.renderModels())})()}active(t){const n={};return n.enableHighlight=As(t)?!0:t,As(t)?(n.enableHighlight=!0,t.color&&(n.highlightColor=t.color),t.mix&&(n.activeMix=t.mix)):n.enableHighlight=!!t,this.updateLayerConfig(n),this}setActive(t,n){if(As(t)){const{x:r=0,y:i=0}=t;this.updateLayerConfig({highlightColor:As(n)?n.color:this.getLayerConfig().highlightColor,activeMix:As(n)?n.mix:this.getLayerConfig().activeMix}),this.pick({x:r,y:i})}else this.updateLayerConfig({pickedFeatureID:t,highlightColor:As(n)?n.color:this.getLayerConfig().highlightColor,activeMix:As(n)?n.mix:this.getLayerConfig().activeMix}),this.hooks.beforeHighlight.call(tx(t)).then(()=>{setTimeout(()=>{this.reRender()},1)})}select(t){const n={};return n.enableSelect=As(t)?!0:t,As(t)?(n.enableSelect=!0,t.color&&(n.selectColor=t.color),t.mix&&(n.selectMix=t.mix)):n.enableSelect=!!t,this.updateLayerConfig(n),this}setSelect(t,n){if(As(t)){const{x:r=0,y:i=0}=t;this.updateLayerConfig({selectColor:As(n)?n.color:this.getLayerConfig().selectColor,selectMix:As(n)?n.mix:this.getLayerConfig().selectMix}),this.pick({x:r,y:i})}else this.updateLayerConfig({pickedFeatureID:t,selectColor:As(n)?n.color:this.getLayerConfig().selectColor,selectMix:As(n)?n.mix:this.getLayerConfig().selectMix}),this.hooks.beforeSelect.call(tx(t)).then(()=>{setTimeout(()=>{this.reRender()},1)})}setBlend(t){return this.updateLayerConfig({blend:t}),this.reRender(),this}show(){return this.updateLayerConfig({visible:!0}),this.reRender(),this.emit("show"),this}hide(){return this.updateLayerConfig({visible:!1}),this.reRender(),this.emit("hide"),this}setIndex(t){return this.zIndex=t,this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this}setCurrentPickId(t){this.currentPickId=t}getCurrentPickId(){return this.currentPickId}setCurrentSelectedId(t){this.selectedFeatureID=t}getCurrentSelectedId(){return this.selectedFeatureID}isVisible(){const t=this.mapService.getZoom(),{visible:n,minZoom:r=-1/0,maxZoom:i=1/0}=this.getLayerConfig();return!!n&&t>=r&&t<i}setMultiPass(t,n){if(this.updateLayerConfig({enableMultiPassRenderer:t}),n&&this.updateLayerConfig({passes:n}),t){const{passes:r=[]}=this.getLayerConfig();this.multiPassRenderer=JTe(this,r,this.postProcessingPassFactory,this.normalPassFactory),this.multiPassRenderer.setRenderFlag(!0);const{width:i,height:a}=this.rendererService.getViewportSize();this.multiPassRenderer.resize(i,a)}return this}setMinZoom(t){return this.updateLayerConfig({minZoom:t}),this}getMinZoom(){const{minZoom:t}=this.getLayerConfig();return t}getMaxZoom(){const{maxZoom:t}=this.getLayerConfig();return t}get(t){return this.getLayerConfig()[t]}setMaxZoom(t){return this.updateLayerConfig({maxZoom:t}),this}setAutoFit(t){return this.updateLayerConfig({autoFit:t}),this}fitBounds(t){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;const r=this.getSource().extent;return r.some(a=>Math.abs(a)===1/0)?this:(this.mapService.fitBounds([[r[0],r[1]],[r[2],r[3]]],t),this)}destroy(t=!0){var n,r,i,a,o;if(this.isDestroyed)return;(n=this.layerModel)===null||n===void 0||n.uniformBuffers.forEach(l=>{l.destroy()}),this.layerChildren.map(l=>l.destroy(!1)),this.layerChildren=[];const{maskfence:s}=this.getLayerConfig();s&&(this.masks.map(l=>l.destroy(!1)),this.masks=[]),this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),(r=this.multiPassRenderer)===null||r===void 0||r.destroy(),this.textureService.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),(i=this.layerModel)===null||i===void 0||i.clearModels(t),(a=this.tileLayer)===null||a===void 0||a.destroy(),this.models=[],(o=this.debugService)===null||o===void 0||o.removeLog(this.id),this.emit("remove",{target:this,type:"remove"}),this.emit("destroy",{target:this,type:"destroy"}),this.removeAllListeners(),this.isDestroyed=!0}clear(){this.styleAttributeService.clearAllAttributes()}clearModels(){var t;this.models.forEach(n=>n.destroy()),(t=this.layerModel)===null||t===void 0||t.clearModels(),this.models=[]}isDirty(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(t=>t.needRescale||t.needRemapping||t.needRegenerateVertices).length}setSource(t){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=t,this.clusterZoom=0,this.inited&&this.layerSource.cluster){const n=this.mapService.getZoom();this.layerSource.updateClusterData(n)}this.layerSource.inited&&this.sourceEvent(),this.layerSource.on("update",({type:n})=>{if(this.coordCenter===void 0){const r=this.layerSource.center;this.coordCenter=r}if(n==="update"){if(this.tileLayer){this.tileLayer.reload();return}this.sourceEvent()}})}getSource(){return this.layerSource}getScaleOptions(){return this.scaleOptions}setEncodedData(t){this.encodedData=t,this.encodeDataLength=t.length}getEncodedData(){return this.encodedData}getScale(t){return this.styleAttributeService.getLayerAttributeScale(t)}getLegend(t){var n,r,i;const a=this.styleAttributeService.getLayerStyleAttribute(t);return{type:(r=((a==null||(n=a.scale)===null||n===void 0?void 0:n.scalers)||[])[0])===null||r===void 0||(r=r.option)===null||r===void 0?void 0:r.type,field:a==null||(i=a.scale)===null||i===void 0?void 0:i.field,items:this.getLegendItems(t)}}getLegendItems(t){const n=this.styleAttributeService.getLayerAttributeScale(t);return n?n.invertExtent?n.range().map(i=>({value:n.invertExtent(i),[t]:i})):n.ticks?n.ticks().map(i=>({value:i,[t]:n(i)})):n!=null&&n.domain?n.domain().filter(i=>!zNt(i)).map(i=>({value:i,[t]:n(i)})):[]:[]}pick({x:t,y:n}){this.interactionService.triggerHover({x:t,y:n})}boxSelect(t,n){this.pickingService.boxPickLayer(this,t,n)}buildLayerModel(t){var n=this;return Ut(function*(){const{moduleName:r,vertexShader:i,fragmentShader:a,defines:o,inject:s,triangulation:l,styleOption:u,pickingEnabled:c=!0}=t,f=sh(t,UNt);n.shaderModuleService.registerModule(r,{vs:i,fs:a,defines:o,inject:s});const{vs:d,fs:h,uniforms:p}=n.shaderModuleService.getModule(r),{createModel:v}=n.rendererService;return new Promise(g=>{const{attributes:m,elements:b,count:_}=n.styleAttributeService.createAttributesAndIndices(n.encodedData,l,u,n),x=[...n.layerModel.uniformBuffers,...n.rendererService.uniformBuffers];c&&x.push(n.getPickingUniformBuffer());const E=Pt({attributes:m,uniforms:p,fs:h,vs:d,elements:b,blend:ewe[Zv.normal],uniformBuffers:x,textures:n.layerModel.textures},f);_&&(E.count=_);const A=v(E);g(A)})})()}createAttributes(t){const{triangulation:n}=t,{attributes:r}=this.styleAttributeService.createAttributes(this.encodedData,n);return r}getTime(){return this.layerService.clock.getDelta()}setAnimateStartTime(){this.animateStartTime=this.layerService.clock.getElapsedTime()}stopAnimate(){this.animateStatus&&(this.layerService.stopAnimate(),this.animateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}getLayerAnimateTime(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}needPick(t){const{enableHighlight:n=!0,enableSelect:r=!0}=this.getLayerConfig();let i=this.eventNames().indexOf(t)!==-1||this.eventNames().indexOf("un"+t)!==-1;return(t==="click"||t==="dblclick")&&r&&(i=!0),t==="mousemove"&&(n||this.eventNames().indexOf("mouseenter")!==-1||this.eventNames().indexOf("unmousemove")!==-1||this.eventNames().indexOf("mouseout")!==-1)&&(i=!0),this.isVisible()&&i}buildModels(){return Ut(function*(){throw new Error("Method not implemented.")})()}rebuildModels(){var t=this;return Ut(function*(){yield t.buildModels()})()}renderMulPass(t){return Ut(function*(){yield t.render()})()}renderModels(t={}){return this.encodeDataLength<=0&&!this.forceRender?(this.clearModels(),this):(this.hooks.beforeRender.call(),this.models.forEach(n=>{n.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(t),textures:this.layerModel.textures},(t==null?void 0:t.ispick)||!1)}),this.hooks.afterRender.call(),this)}updateStyleAttribute(t,n,r,i){const a=this.configService.getAttributeConfig(this.id)||{};return h7(a[t],{field:n,values:r})?!1:(["color","size","texture","rotate","filter","label","shape"].indexOf(t)!==-1&&this.configService.setAttributeConfig(this.id,{[t]:{field:n,values:r}}),this.startInit?this.styleAttributeService.updateStyleAttribute(t,{scale:Pt({field:n},this.splitValuesAndCallbackInAttribute(r,this.getLayerConfig()[n]))},i):this.pendingStyleAttributes.push({attributeName:t,attributeField:n,attributeValues:r,updateOptions:i}),!0)}getLayerAttributeConfig(){return this.configService.getAttributeConfig(this.id)}getShaderPickStat(){return this.layerService.getShaderPickStat()}setEarthTime(t){console.warn("empty fn")}processData(t){return t}getModelType(){throw new Error("Method not implemented.")}getDefaultConfig(){return{}}initLayerModels(){var t=this;return Ut(function*(){t.models.forEach(r=>r.destroy()),t.models=[],t.uniformBuffers.forEach(r=>{r.destroy()}),t.uniformBuffers=[];const n=t.rendererService.createBuffer({data:new Float32Array(20).fill(0),isUBO:!0,label:"pickingUniforms"});t.uniformBuffers.push(n),t.models=yield t.layerModel.initModels()})()}getPickingUniformBuffer(){return this.uniformBuffers[0]}reRender(){this.inited&&this.layerService.reRender()}splitValuesAndCallbackInAttribute(t){return{values:vfe(t)?void 0:t,callback:vfe(t)?t:void 0}}}function $Nt(e,t){return{enable:e,mask:255,func:{cmp:ie.EQUAL,ref:t?1:0,mask:1}}}function yfe(e){return e.maskOperation===aL.OR?{enable:!0,mask:255,func:{cmp:ie.ALWAYS,ref:1,mask:255},opFront:{fail:ie.KEEP,zfail:ie.REPLACE,zpass:ie.REPLACE}}:{enable:!0,mask:255,func:{cmp:e.stencilType===$0.SINGLE||e.stencilIndex===0?ie.ALWAYS:ie.LESS,ref:e.stencilType===$0.SINGLE?1:e.stencilIndex===0?2:1,mask:255},opFront:{fail:ie.KEEP,zfail:ie.REPLACE,zpass:ie.REPLACE}}}const HNt={opacity:1,stroke:[1,0,0,1],offsets:[0,0],rotation:0,extrusionBase:0,strokeOpacity:1,thetaOffset:.314},TI={opacity:"float",stroke:"vec4",offsets:"vec2",textOffset:"vec2",rotation:"float",extrusionBase:"float",strokeOpacity:"float",thetaOffset:"float"};var wI={exports:{}},_fe;function WNt(){if(_fe)return wI.exports;_fe=1,wI.exports=e,wI.exports.default=e;function e(L,F,N){N=N||2;var V=F&&F.length,W=V?F[0]*N:L.length,G=t(L,0,W,N,!0),K=[];if(!G||G.next===G.prev)return K;var q,ue,he,Ce,ee,de,oe;if(V&&(G=l(L,F,G,N)),L.length>80*N){q=he=L[0],ue=Ce=L[1];for(var pe=N;pe<W;pe+=N)ee=L[pe],de=L[pe+1],ee<q&&(q=ee),de<ue&&(ue=de),ee>he&&(he=ee),de>Ce&&(Ce=de);oe=Math.max(he-q,Ce-ue),oe=oe!==0?32767/oe:0}return r(G,K,N,q,ue,oe,0),K}function t(L,F,N,V,W){var G,K;if(W===U(L,F,N,V)>0)for(G=F;G<N;G+=V)K=C(G,L[G],L[G+1],K);else for(G=N-V;G>=F;G-=V)K=C(G,L[G],L[G+1],K);return K&&x(K,K.next)&&(P(K),K=K.next),K}function n(L,F){if(!L)return L;F||(F=L);var N=L,V;do if(V=!1,!N.steiner&&(x(N,N.next)||_(N.prev,N,N.next)===0)){if(P(N),N=F=N.prev,N===N.next)break;V=!0}else N=N.next;while(V||N!==F);return F}function r(L,F,N,V,W,G,K){if(L){!K&&G&&h(L,V,W,G);for(var q=L,ue,he;L.prev!==L.next;){if(ue=L.prev,he=L.next,G?a(L,V,W,G):i(L)){F.push(ue.i/N|0),F.push(L.i/N|0),F.push(he.i/N|0),P(L),L=he.next,q=he.next;continue}if(L=he,L===q){K?K===1?(L=o(n(L),F,N),r(L,F,N,V,W,G,2)):K===2&&s(L,F,N,V,W,G):r(n(L),F,N,V,W,G,1);break}}}}function i(L){var F=L.prev,N=L,V=L.next;if(_(F,N,V)>=0)return!1;for(var W=F.x,G=N.x,K=V.x,q=F.y,ue=N.y,he=V.y,Ce=W<G?W<K?W:K:G<K?G:K,ee=q<ue?q<he?q:he:ue<he?ue:he,de=W>G?W>K?W:K:G>K?G:K,oe=q>ue?q>he?q:he:ue>he?ue:he,pe=V.next;pe!==F;){if(pe.x>=Ce&&pe.x<=de&&pe.y>=ee&&pe.y<=oe&&m(W,q,G,ue,K,he,pe.x,pe.y)&&_(pe.prev,pe,pe.next)>=0)return!1;pe=pe.next}return!0}function a(L,F,N,V){var W=L.prev,G=L,K=L.next;if(_(W,G,K)>=0)return!1;for(var q=W.x,ue=G.x,he=K.x,Ce=W.y,ee=G.y,de=K.y,oe=q<ue?q<he?q:he:ue<he?ue:he,pe=Ce<ee?Ce<de?Ce:de:ee<de?ee:de,me=q>ue?q>he?q:he:ue>he?ue:he,re=Ce>ee?Ce>de?Ce:de:ee>de?ee:de,ne=v(oe,pe,F,N,V),se=v(me,re,F,N,V),be=L.prevZ,Pe=L.nextZ;be&&be.z>=ne&&Pe&&Pe.z<=se;){if(be.x>=oe&&be.x<=me&&be.y>=pe&&be.y<=re&&be!==W&&be!==K&&m(q,Ce,ue,ee,he,de,be.x,be.y)&&_(be.prev,be,be.next)>=0||(be=be.prevZ,Pe.x>=oe&&Pe.x<=me&&Pe.y>=pe&&Pe.y<=re&&Pe!==W&&Pe!==K&&m(q,Ce,ue,ee,he,de,Pe.x,Pe.y)&&_(Pe.prev,Pe,Pe.next)>=0))return!1;Pe=Pe.nextZ}for(;be&&be.z>=ne;){if(be.x>=oe&&be.x<=me&&be.y>=pe&&be.y<=re&&be!==W&&be!==K&&m(q,Ce,ue,ee,he,de,be.x,be.y)&&_(be.prev,be,be.next)>=0)return!1;be=be.prevZ}for(;Pe&&Pe.z<=se;){if(Pe.x>=oe&&Pe.x<=me&&Pe.y>=pe&&Pe.y<=re&&Pe!==W&&Pe!==K&&m(q,Ce,ue,ee,he,de,Pe.x,Pe.y)&&_(Pe.prev,Pe,Pe.next)>=0)return!1;Pe=Pe.nextZ}return!0}function o(L,F,N){var V=L;do{var W=V.prev,G=V.next.next;!x(W,G)&&E(W,V,V.next,G)&&M(W,G)&&M(G,W)&&(F.push(W.i/N|0),F.push(V.i/N|0),F.push(G.i/N|0),P(V),P(V.next),V=L=G),V=V.next}while(V!==L);return n(V)}function s(L,F,N,V,W,G){var K=L;do{for(var q=K.next.next;q!==K.prev;){if(K.i!==q.i&&b(K,q)){var ue=D(K,q);K=n(K,K.next),ue=n(ue,ue.next),r(K,F,N,V,W,G,0),r(ue,F,N,V,W,G,0);return}q=q.next}K=K.next}while(K!==L)}function l(L,F,N,V){var W=[],G,K,q,ue,he;for(G=0,K=F.length;G<K;G++)q=F[G]*V,ue=G<K-1?F[G+1]*V:L.length,he=t(L,q,ue,V,!1),he===he.next&&(he.steiner=!0),W.push(g(he));for(W.sort(u),G=0;G<W.length;G++)N=c(W[G],N);return N}function u(L,F){return L.x-F.x}function c(L,F){var N=f(L,F);if(!N)return F;var V=D(N,L);return n(V,V.next),n(N,N.next)}function f(L,F){var N=F,V=L.x,W=L.y,G=-1/0,K;do{if(W<=N.y&&W>=N.next.y&&N.next.y!==N.y){var q=N.x+(W-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(q<=V&&q>G&&(G=q,K=N.x<N.next.x?N:N.next,q===V))return K}N=N.next}while(N!==F);if(!K)return null;var ue=K,he=K.x,Ce=K.y,ee=1/0,de;N=K;do V>=N.x&&N.x>=he&&V!==N.x&&m(W<Ce?V:G,W,he,Ce,W<Ce?G:V,W,N.x,N.y)&&(de=Math.abs(W-N.y)/(V-N.x),M(N,L)&&(de<ee||de===ee&&(N.x>K.x||N.x===K.x&&d(K,N)))&&(K=N,ee=de)),N=N.next;while(N!==ue);return K}function d(L,F){return _(L.prev,L,F.prev)<0&&_(F.next,L,L.next)<0}function h(L,F,N,V){var W=L;do W.z===0&&(W.z=v(W.x,W.y,F,N,V)),W.prevZ=W.prev,W.nextZ=W.next,W=W.next;while(W!==L);W.prevZ.nextZ=null,W.prevZ=null,p(W)}function p(L){var F,N,V,W,G,K,q,ue,he=1;do{for(N=L,L=null,G=null,K=0;N;){for(K++,V=N,q=0,F=0;F<he&&(q++,V=V.nextZ,!!V);F++);for(ue=he;q>0||ue>0&&V;)q!==0&&(ue===0||!V||N.z<=V.z)?(W=N,N=N.nextZ,q--):(W=V,V=V.nextZ,ue--),G?G.nextZ=W:L=W,W.prevZ=G,G=W;N=V}G.nextZ=null,he*=2}while(K>1);return L}function v(L,F,N,V,W){return L=(L-N)*W|0,F=(F-V)*W|0,L=(L|L<<8)&16711935,L=(L|L<<4)&252645135,L=(L|L<<2)&858993459,L=(L|L<<1)&1431655765,F=(F|F<<8)&16711935,F=(F|F<<4)&252645135,F=(F|F<<2)&858993459,F=(F|F<<1)&1431655765,L|F<<1}function g(L){var F=L,N=L;do(F.x<N.x||F.x===N.x&&F.y<N.y)&&(N=F),F=F.next;while(F!==L);return N}function m(L,F,N,V,W,G,K,q){return(W-K)*(F-q)>=(L-K)*(G-q)&&(L-K)*(V-q)>=(N-K)*(F-q)&&(N-K)*(G-q)>=(W-K)*(V-q)}function b(L,F){return L.next.i!==F.i&&L.prev.i!==F.i&&!R(L,F)&&(M(L,F)&&M(F,L)&&O(L,F)&&(_(L.prev,L,F.prev)||_(L,F.prev,F))||x(L,F)&&_(L.prev,L,L.next)>0&&_(F.prev,F,F.next)>0)}function _(L,F,N){return(F.y-L.y)*(N.x-F.x)-(F.x-L.x)*(N.y-F.y)}function x(L,F){return L.x===F.x&&L.y===F.y}function E(L,F,N,V){var W=T(_(L,F,N)),G=T(_(L,F,V)),K=T(_(N,V,L)),q=T(_(N,V,F));return!!(W!==G&&K!==q||W===0&&A(L,N,F)||G===0&&A(L,V,F)||K===0&&A(N,L,V)||q===0&&A(N,F,V))}function A(L,F,N){return F.x<=Math.max(L.x,N.x)&&F.x>=Math.min(L.x,N.x)&&F.y<=Math.max(L.y,N.y)&&F.y>=Math.min(L.y,N.y)}function T(L){return L>0?1:L<0?-1:0}function R(L,F){var N=L;do{if(N.i!==L.i&&N.next.i!==L.i&&N.i!==F.i&&N.next.i!==F.i&&E(N,N.next,L,F))return!0;N=N.next}while(N!==L);return!1}function M(L,F){return _(L.prev,L,L.next)<0?_(L,F,L.next)>=0&&_(L,L.prev,F)>=0:_(L,F,L.prev)<0||_(L,L.next,F)<0}function O(L,F){var N=L,V=!1,W=(L.x+F.x)/2,G=(L.y+F.y)/2;do N.y>G!=N.next.y>G&&N.next.y!==N.y&&W<(N.next.x-N.x)*(G-N.y)/(N.next.y-N.y)+N.x&&(V=!V),N=N.next;while(N!==L);return V}function D(L,F){var N=new B(L.i,L.x,L.y),V=new B(F.i,F.x,F.y),W=L.next,G=F.prev;return L.next=F,F.prev=L,N.next=W,W.prev=N,V.next=N,N.prev=V,G.next=V,V.prev=G,V}function C(L,F,N,V){var W=new B(L,F,N);return V?(W.next=V.next,W.prev=V,V.next.prev=W,V.next=W):(W.prev=W,W.next=W),W}function P(L){L.next.prev=L.prev,L.prev.next=L.next,L.prevZ&&(L.prevZ.nextZ=L.nextZ),L.nextZ&&(L.nextZ.prevZ=L.prevZ)}function B(L,F,N){this.i=L,this.x=F,this.y=N,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.deviation=function(L,F,N,V){var W=F&&F.length,G=W?F[0]*N:L.length,K=Math.abs(U(L,0,G,N));if(W)for(var q=0,ue=F.length;q<ue;q++){var he=F[q]*N,Ce=q<ue-1?F[q+1]*N:L.length;K-=Math.abs(U(L,he,Ce,N))}var ee=0;for(q=0;q<V.length;q+=3){var de=V[q]*N,oe=V[q+1]*N,pe=V[q+2]*N;ee+=Math.abs((L[de]-L[pe])*(L[oe+1]-L[de+1])-(L[de]-L[oe])*(L[pe+1]-L[de+1]))}return K===0&&ee===0?0:Math.abs((ee-K)/K)};function U(L,F,N,V){for(var W=0,G=F,K=N-V;G<N;G+=V)W+=(L[K]-L[G])*(L[G+1]+L[K+1]),K=G;return W}return e.flatten=function(L){for(var F=L[0][0].length,N={vertices:[],holes:[],dimensions:F},V=0,W=0;W<L.length;W++){for(var G=0;G<L[W].length;G++)for(var K=0;K<F;K++)N.vertices.push(L[W][G][K]);W>0&&(V+=L[W-1].length,N.holes.push(V))}return N},wI.exports}var GNt=WNt();const PT=ni(GNt);function bfe(e){return Math.max(Math.ceil(e/4)*4,4)}function twe(e,t,n,r=!0){const i=n===3;if(r){e=e.slice();const o=[];for(let s=0;s<e.length;s+=n){o[0]=e[s],o[1]=e[s+1],i&&(o[2]=e[s+2]);const l=$3(o,!0,{enable:!1,decimal:1});e[s]=l[0],e[s+1]=l[1],i&&(e[s+2]=l[2])}}return PT(e,t,n)}const nwe="ATTRIBUTE_LOCATION_";class Ra{get attributeLocation(){return Pt({},pg)}constructor(t){fe(this,"triangulation",void 0),fe(this,"uniformBuffers",[]),fe(this,"textures",[]),fe(this,"createTexture2D",void 0),fe(this,"preStyleAttribute",{}),fe(this,"encodeStyleAttribute",{}),fe(this,"layer",void 0),fe(this,"dataTexture",void 0),fe(this,"DATA_TEXTURE_WIDTH",void 0),fe(this,"dataTextureTest",void 0),fe(this,"configService",void 0),fe(this,"shaderModuleService",void 0),fe(this,"rendererService",void 0),fe(this,"iconService",void 0),fe(this,"fontService",void 0),fe(this,"styleAttributeService",void 0),fe(this,"mapService",void 0),fe(this,"cameraService",void 0),fe(this,"layerService",void 0),fe(this,"pickingService",void 0),fe(this,"attributeUnifoms",void 0),fe(this,"commonUnifoms",void 0),this.layer=t,this.configService=t.getContainer().globalConfigService,this.rendererService=t.getContainer().rendererService,this.pickingService=t.getContainer().pickingService,this.shaderModuleService=t.getContainer().shaderModuleService,this.styleAttributeService=t.getContainer().styleAttributeService,this.mapService=t.getContainer().mapService,this.iconService=t.getContainer().iconService,this.fontService=t.getContainer().fontService,this.cameraService=t.getContainer().cameraService,this.layerService=t.getContainer().layerService,this.registerStyleAttribute(),this.registerBuiltinAttributes(),this.startModelAnimate();const{createTexture2D:n}=this.rendererService;this.createTexture2D=n}getBlend(){const{blend:t="normal"}=this.layer.getLayerConfig();return ewe[Zv[t]]}getStencil(t){const{mask:n=!1,maskInside:r=!0,enableMask:i,maskOperation:a=aL.AND}=this.layer.getLayerConfig();if(this.layer.type==="MaskLayer")return yfe({isStencil:!0,stencilType:$0.SINGLE});if(t.isStencil)return yfe(Pt(Pt({},t),{},{maskOperation:a}));const o=n||i&&this.layer.masks.length!==0||this.layer.tileMask!==void 0;return $Nt(o,r)}getDefaultStyle(){return{}}getUninforms(){const t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());this.updateStyleUnifoms();const r=Pt(Pt({},n.uniformsOption),t.uniformsOption);return Object.keys(r).forEach(i=>{typeof r[i]=="boolean"&&(r[i]=r[i]?1:0)}),!this.rendererService.hasOwnProperty("device")&&this.textures&&this.textures.length===1&&(r.u_texture=this.textures[0]),r}getAnimateUniforms(){return{}}needUpdate(){return Ut(function*(){return!1})()}buildModels(){return Ut(function*(){throw new Error("Method not implemented.")})()}initModels(){return Ut(function*(){throw new Error("Method not implemented.")})()}clearModels(t=!0){}getAttribute(){throw new Error("Method not implemented.")}prerender(){}render(t){throw new Error("Method not implemented.")}registerBuiltinAttributes(){throw new Error("Method not implemented.")}animateOption2Array(t){return[t.enable?0:1,t.duration||4,t.interval||.2,t.trailLength||.1]}startModelAnimate(){const{animateOption:t}=this.layer.getLayerConfig();t.enable&&this.layer.setAnimateStartTime()}getInject(){return jNt(this.layer.enableShaderEncodeStyles,this.layer.encodeStyleAttribute)}getDefines(){const t=Object.keys(this.attributeLocation).reduce((n,r)=>{const i=nwe+r;return n[i]=this.attributeLocation[r],n},{});return Pt({},t)}getStyleAttribute(){const t={};return this.layer.enableShaderEncodeStyles.forEach(n=>{if(!this.layer.encodeStyleAttribute[n]){const r=this.layer.getLayerConfig()[n];let i=typeof r>"u"?HNt[n]:r;n==="stroke"&&(i=ga(i)),t["u_"+n]=i}}),t}registerStyleAttribute(){Object.keys(this.layer.encodeStyleAttribute).forEach(t=>{const n=wNt(t);n&&this.styleAttributeService.registerStyleAttribute(n)})}registerPosition64LowAttribute(t=!0){this.styleAttributeService.registerStyleAttribute({name:"position64Low",type:Qn.Attribute,descriptor:{name:"a_Position64Low",shaderLocation:this.attributeLocation.POSITION_64LOW,buffer:{data:[],type:ie.FLOAT},size:2,update:(n,r,i)=>t?[Vo(i[0]),Vo(i[1])]:[0,0]}})}updateEncodeAttribute(t,n){this.encodeStyleAttribute[t]=n}initUniformsBuffer(){const t=this.getUniformsBufferInfo(this.getStyleAttribute()),n=this.getCommonUniformsInfo();t.uniformsLength!==0&&(this.attributeUnifoms=this.rendererService.createBuffer({data:new Float32Array(bfe(t.uniformsLength)).fill(0),isUBO:!0,label:"layerModelAttributeUnifoms"}),this.uniformBuffers.push(this.attributeUnifoms)),n.uniformsLength!==0&&(this.commonUnifoms=this.rendererService.createBuffer({data:new Float32Array(bfe(n.uniformsLength)).fill(0),isUBO:!0,label:"layerModelCommonUnifoms"}),this.uniformBuffers.push(this.commonUnifoms))}getUniformsBufferInfo(t){let n=0;const r=[];return Object.values(t).forEach(i=>{Array.isArray(i)?(r.push(...i),n+=i.length):typeof i=="number"?(r.push(i),n+=1):typeof i=="boolean"&&(r.push(Number(i)),n+=1)}),{uniformsOption:t,uniformsLength:n,uniformsArray:r}}getCommonUniformsInfo(){return{uniformsLength:0,uniformsArray:[],uniformsOption:{}}}updateStyleUnifoms(){var t,n;const{uniformsArray:r}=this.getUniformsBufferInfo(this.getStyleAttribute()),{uniformsArray:i}=this.getCommonUniformsInfo();(t=this.attributeUnifoms)===null||t===void 0||t.subData({offset:0,data:new Uint8Array(new Float32Array(r).buffer)}),(n=this.commonUnifoms)===null||n===void 0||n.subData({offset:0,data:new Uint8Array(new Float32Array(i).buffer)})}}function jNt(e,t){const n=[];let r="";e.forEach(o=>{const s=o.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase(),l=nwe+s;t[o]?r+=`#define USE_ATTRIBUTE_${s} 0.0 
`:n.push(`  ${TI[o]} u_${o};`),r+=`
#ifdef USE_ATTRIBUTE_${s}
layout(location = ${l}) in ${TI[o]} a_${o.charAt(0).toUpperCase()+o.slice(1)};
#endif 
`});const i=n.length?`
layout(std140) uniform AttributeUniforms {
  ${n.join(`
`)}
};
`:"";r+=i;let a="";return e.forEach(o=>{const s=o.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase();a+=`
  #ifdef USE_ATTRIBUTE_${s}
    ${TI[o]} ${o} = a_${o.charAt(0).toUpperCase()+o.slice(1)};
  #else
    ${TI[o]} ${o} = u_${o};
  #endif
  `}),{"vs:#decl":r,"fs:#decl":i,"vs:#main-start":a}}let xfe=function(e){return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e}({}),YNt=function(e){return e.NORMAL="normal",e.REPLACE="replace",e}({}),Hj=function(e){return e[e.pixel=0]="pixel",e[e.meter=1]="meter",e}({});const rwe=100;function Sfe(e){return e/180*Math.acos(-1)}function iwe(e){const t=Sfe(e[0])+Math.PI/2,n=Sfe(e[1]),r=rwe+Math.random()*.4,i=r*Math.cos(n)*Math.cos(t),a=r*Math.cos(n)*Math.sin(t),o=r*Math.sin(n);return[a,o,i]}const Afe=su();su();const uc=su(),UA=su(),CI=su();function Efe(e,t,n,r,i){Jv(e,n,r),BO(e,e),t=rz(-e[1],e[0]);const a=rz(-n[1],n[0]);return[i/az(t,a),t]}function VA(e,t){return iMt(e,-t[1],t[0])}function RI(e,t,n){return K2e(e,t,n),BO(e,e),e}function Tfe(e,t){return e[0]===t[0]&&e[1]===t[1]}class XNt{constructor(t={}){fe(this,"complex",void 0),fe(this,"join",void 0),fe(this,"cap",void 0),fe(this,"miterLimit",void 0),fe(this,"thickness",void 0),fe(this,"normal",void 0),fe(this,"lastFlip",-1),fe(this,"miter",rz(0,0)),fe(this,"started",!1),fe(this,"dash",!1),fe(this,"totalDistance",0),fe(this,"currentIndex",0),this.join=t.join||"miter",this.cap=t.cap||"butt",this.miterLimit=t.miterLimit||10,this.thickness=t.thickness||1,this.dash=t.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}simpleExtrude(t){const n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;const r=t.length;let i=n.startIndex;for(let a=1;a<r;a++){const o=t[a-1],s=t[a],l=a<t.length-1?t[a+1]:null,u=this.simpleSegment(n,i,o,s,l);i+=u}if(this.dash)for(let a=0;a<n.positions.length/6;a++)n.positions[a*6+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}extrude(t){const n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;const r=t.length;let i=n.startIndex;for(let a=1;a<r;a++){const o=t[a-1],s=t[a],l=a<t.length-1?t[a+1]:null,u=this.segment(n,i,o,s,l);i+=u}if(this.dash)for(let a=0;a<n.positions.length/6;a++)n.positions[a*6+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}simpleSegment(t,n,r,i,a){let o=0;const s=t.indices,l=t.positions,u=t.normals,c=Ec([i[0],i[1]]),f=Ec([r[0],r[1]]);RI(uc,c,f);let d=0;if(this.dash&&(d=this.lineSegmentDistance(c,f),this.totalDistance+=d),this.normal||(this.normal=su(),VA(this.normal,uc)),this.started||(this.started=!0,this.extrusions(l,u,r,this.normal,this.thickness,this.totalDistance-d)),s.push(n+0,n+1,n+2),!a)VA(this.normal,uc),this.extrusions(l,u,i,this.normal,this.thickness,this.totalDistance),s.push(...this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3]),o+=2;else{const h=Ec([a[0],a[1]]);Tfe(c,h)&&Jv(h,c,BO(h,iz(h,c,f))),RI(UA,h,c);const[p,v]=Efe(CI,su(),uc,UA,this.thickness);let g=az(CI,this.normal)<0?-1:1;this.extrusions(l,u,i,v,p,this.totalDistance),s.push(...this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3]),g=-1,H8(this.normal,v),o+=2,this.lastFlip=g}return o}segment(t,n,r,i,a){let o=0;const s=t.indices,l=t.positions,u=t.normals,c=this.cap==="square",f=this.join==="bevel",d=Ec([i[0],i[1]]),h=Ec([r[0],r[1]]);RI(uc,d,h);let p=0;if(this.dash&&(p=this.lineSegmentDistance(d,h),this.totalDistance+=p),this.normal||(this.normal=su(),VA(this.normal,uc)),!this.started)if(this.started=!0,c){const v=su(),g=su();Jv(v,this.normal,uc),Jv(g,this.normal,uc),u.push(g[0],g[1],0),u.push(v[0],v[1],0),l.push(r[0],r[1],r[2]|0,this.totalDistance-p,-this.thickness,r[2]|0),this.complex.indexes.push(this.currentIndex),l.push(r[0],r[1],r[2]|0,this.totalDistance-p,this.thickness,r[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,u,r,this.normal,this.thickness,this.totalDistance-p);if(s.push(n+0,n+1,n+2),a){const v=Ec([a[0],a[1]]);Tfe(d,v)&&Jv(v,d,BO(v,iz(v,d,h))),RI(UA,v,d);const[g,m]=Efe(CI,su(),uc,UA,this.thickness);let b=az(CI,this.normal)<0?-1:1,_=f;!_&&this.join==="miter"&&g>this.miterLimit&&(_=!0),_?(u.push(this.normal[0],this.normal[1],0),u.push(m[0],m[1],0),l.push(i[0],i[1],i[2]|0,this.totalDistance,-this.thickness*b,i[2]|0),this.complex.indexes.push(this.currentIndex),l.push(i[0],i[1],i[2]|0,this.totalDistance,this.thickness*b,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,s.push(...this.lastFlip!==-b?[n,n+2,n+3]:[n+2,n+1,n+3]),s.push(n+2,n+3,n+4),VA(Afe,UA),H8(this.normal,Afe),u.push(this.normal[0],this.normal[1],0),l.push(i[0],i[1],i[2]|0,this.totalDistance,-this.thickness*b,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,o+=3):(this.extrusions(l,u,i,m,g,this.totalDistance),s.push(...this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3]),b=-1,H8(this.normal,m),o+=2),this.lastFlip=b}else{if(VA(this.normal,uc),c){const v=su(),g=su();K2e(g,uc,this.normal),Jv(v,uc,this.normal),u.push(g[0],g[1],0),u.push(v[0],v[1],0),l.push(i[0],i[1],i[2]|0,this.totalDistance,this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),l.push(i[0],i[1],i[2]|0,this.totalDistance,this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,u,i,this.normal,this.thickness,this.totalDistance);s.push(...this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3]),o+=2}return o}extrusions(t,n,r,i,a,o){n.push(i[0],i[1],0),n.push(i[0],i[1],0),t.push(r[0],r[1],r[2]|0,o,-a,r[2]|0),this.complex.indexes.push(this.currentIndex),t.push(r[0],r[1],r[2]|0,o,a,r[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}lineSegmentDistance(t,n){const r=n[0]-t[0],i=n[1]-t[1];return Math.sqrt(r*r+i*i)}}let zA=function(e){return e.CYLINDER="cylinder",e.SQUARECOLUMN="squareColumn",e.TRIANGLECOLUMN="triangleColumn",e.HEXAGONCOLUMN="hexagonColumn",e.PENTAGONCOLUMN="pentagonColumn",e}({}),$A=function(e){return e.CIRCLE="circle",e.SQUARE="square",e.TRIANGLE="triangle",e.HEXAGON="hexagon",e.PENTAGON="pentagon",e}({});function Dw(e,t=0){const n=Math.PI*2/e,r=[];for(let a=0;a<e;a++)r.push(n*a+t*Math.PI/12);return r.map(a=>{const o=Math.sin(a+Math.PI/4),s=Math.cos(a+Math.PI/4);return[o,s,0]})}function Sz(){return Dw(30)}function wfe(){return Dw(4)}function Cfe(){return Dw(3)}function Rfe(){return Dw(6,1)}function Ife(){return Dw(5)}const p7={[$A.CIRCLE]:Sz,[$A.HEXAGON]:Rfe,[$A.TRIANGLE]:Cfe,[$A.SQUARE]:wfe,[$A.PENTAGON]:Ife,[zA.CYLINDER]:Sz,[zA.HEXAGONCOLUMN]:Rfe,[zA.TRIANGLECOLUMN]:Cfe,[zA.SQUARECOLUMN]:wfe,[zA.PENTAGONCOLUMN]:Ife};function awe(e,t=!1){const n=e[0][0],r=e[0][e[0].length-1];n[0]===r[0]&&n[1]===r[1]&&(e[0]=e[0].slice(0,e[0].length-1));const i=e[0].length,a=PT.flatten(e),{vertices:o,dimensions:s,holes:l}=a,u=[],c=[],f=[];for(let h=0;h<o.length/s;h++)u.push(o[h*s],o[h*s+1],1,-1,-1),f.push(0,0,1);const d=twe(o,l,s,t);c.push(...d);for(let h=0;h<i;h++){const p=a.vertices.slice(h*s,(h+1)*s);let v=a.vertices.slice((h+1)*s,(h+2)*s);v.length===0&&(v=a.vertices.slice(0,s));const g=u.length/5;u.push(p[0],p[1],1,0,0,v[0],v[1],1,.1,0,p[0],p[1],0,0,.8,v[0],v[1],0,.1,.8);const m=KNt([v[0],v[1],1],[p[0],p[1],0],[p[0],p[1],1],t);f.push(...m,...m,...m,...m),c.push(...[1,2,0,3,2,1].map(b=>b+g))}return{positions:u,index:c,normals:f}}function KNt(e,t,n,r=!1){const i=SE(),a=SE(),o=SE();r&&(e=$3(e),t=$3(t),n=$3(n));const s=Mf(...e),l=Mf(...t),u=Mf(...n);Fue(i,u,l),Fue(a,s,l),tMt(o,i,a);const c=SE();return AE(c,o),c}const II={};function ay(e){const t=Ey(e.coordinates);return{vertices:[...t,...t,...t,...t],indices:[0,1,2,2,3,0],size:t.length}}function Mfe(e){const t=Ey(e.coordinates),n=iwe(t);return{vertices:[...n,...n,...n,...n],indices:[0,1,2,2,3,0],size:n.length}}function owe(e){const{shape:t}=e,{positions:n,index:r,normals:i}=tBt(t,!1);return{vertices:n,indices:r,normals:i,size:5}}function qNt(e){const t=Ey(e.coordinates);return{vertices:[...t],indices:[0],size:t.length}}function Az(e){const{coordinates:t}=e,n=new XNt({dash:!0,join:"bevel"});let r=t;r[0]&&!Array.isArray(r[0][0])&&(r=[t]),r.forEach(a=>{n.extrude(a)});const i=n.complex;return{vertices:i.positions,indices:i.indices,normals:i.normals,indexes:i.indexes,size:6}}function ZNt(e){const{coordinates:t}=e,n=[];if(!Array.isArray(t[0]))return{vertices:[],indices:[],normals:[],size:6,count:0};const{results:r,totalDistance:i}=QNt(t);return r.map(a=>{n.push(a[0],a[1],a[2],a[3],0,i)}),{vertices:n,indices:[],normals:[],size:6,count:r.length}}function Ofe(e,t){const n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function v7(e,t){return e.length<3&&e.push(0),t!==void 0&&e.push(t),e}function QNt(e){let t=e;Array.isArray(t)&&Array.isArray(t[0])&&Array.isArray(t[0][0])&&(t=e.flat());let n=0;if(t.length<2)return{results:t,totalDistance:0};{const r=[],i=v7(t[0],n);r.push(i);for(let o=1;o<t.length-1;o++){const s=Ofe(Ec(t[o-1]),Ec(t[o]));n+=s;const l=v7(t[o],n);r.push(l),r.push(l)}const a=Ofe(Ec(t[t.length-2]),Ec(t[t.length-1]));return n+=a,r.push(v7(t[t.length-1],n)),{results:r,totalDistance:n}}}function Pw(e){const{coordinates:t}=e,n=PT.flatten(t),{vertices:r,dimensions:i,holes:a}=n;return{indices:twe(r,a,i),vertices:r,size:i}}function JNt(e){const{indices:t,vertices:n,size:r}=Pw(e);return{indices:t,vertices:eBt(n),size:r+4}}function eBt(e){const t=[],{center:n,radius:r}=rRt(e);for(let i=0;i<e.length;i+=2){const a=e[i],o=e[i+1];t.push(a,o,0,...n,r)}return t}function swe(e){const t=e.coordinates,{positions:n,index:r,normals:i}=awe(t,!0);return{vertices:n,indices:r,normals:i,size:5}}function cL(e){const t=e.coordinates;return{vertices:[...t[0],0,0,0,...t[1],0,1,0,...t[2],0,1,1,...t[3],0,0,1],indices:[0,1,2,0,2,3],size:5}}function Wj(e,t){const{segmentNumber:n=30}=t,r=e.coordinates,i=[],a=[];for(let o=0;o<n;o++)i.push(o,1,o,r[0][0],r[0][1],r[1][0],r[1][1],o,-1,o,r[0][0],r[0][1],r[1][0],r[1][1]),o!==n-1&&a.push(...[0,1,2,1,3,2].map(s=>o*2+s));return{vertices:i,indices:a,size:7}}function tBt(e,t=!1){if(II&&II[e])return II[e];const n=p7[e]?p7[e]():p7.cylinder(),r=awe([n],t);return II[e]=r,r}function nBt(e,t){return{type:e.type,field:"value",items:e.positions.map((n,r)=>({[t]:r>=e.colors.length?null:e.colors[r],value:n}))}}const rBt=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
    float u_opacity:1.0;
    float u_brightness:1.0;
    float u_contrast:1.0;
    float u_saturation:1.0;
    float u_gamma:1.0;
};

in vec2 v_texCoord;
out vec4 outputColor;
vec3 setContrast(vec3 rgb, float contrast) {
  vec3 color = mix(vec3(0.5), rgb, contrast);
  color = clamp(color, 0.0, 1.0);
  return color;
}
vec3 setSaturation(vec3 rgb, float adjustment) {
  const vec3 grayVector = vec3(0.2125, 0.7154, 0.0721);
  vec3 intensity = vec3(dot(rgb, grayVector));
  vec3 color = mix(intensity, rgb, adjustment);
  color = clamp(color, 0.0, 1.0);
  return color;
}
void main() {
  vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));
  //brightness
  color.rgb = mix(vec3(0.0, 0.0, 0.0), color.rgb, u_brightness);
  //contrast
  color.rgb = setContrast(color.rgb, u_contrast);
  // saturation
  color.rgb = setSaturation(color.rgb, u_saturation);
  // gamma
  color.rgb = pow(color.rgb, vec3(u_gamma));
  outputColor = color;
  outputColor.a *= u_opacity;
  if(outputColor.a < 0.01)
    discard;
}
`,iBt=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
    float u_opacity:1.0;
    float u_brightness:1.0;
    float u_contrast:1.0;
    float u_saturation:1.0;
    float u_gamma:1.0;
};

out vec2 v_texCoord;
#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;let aBt=class extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getCommonUniformsInfo(){const{opacity:t,brightness:n,contrast:r,saturation:i,gamma:a}=this.layer.getLayerConfig(),o={u_opacity:MA(t,1),u_brightness:MA(n,1),u_contrast:MA(r,1),u_saturation:MA(i,1),u_gamma:MA(a,1)};return this.textures=[this.texture],this.getUniformsBufferInfo(o)}initModels(){var t=this;return Ut(function*(){return yield t.loadTexture(),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}loadTexture(){var t=this;return Ut(function*(){const{createTexture2D:n}=t.rendererService,i=yield t.layer.getSource().data.images;t.texture=n({data:i[0],width:i[0].width,height:i[0].height,mag:ie.LINEAR,min:ie.LINEAR})})()}buildModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"rasterImage",vertexShader:iBt,fragmentShader:rBt,defines:t.getDefines(),triangulation:cL,primitive:ie.TRIANGLES,blend:{enable:!0},depth:{enable:!1},pickingEnabled:!1})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:(t,n,r)=>[r[3],r[4]]}})}};const oBt={image:aBt};class Ry extends Kx{constructor(...t){super(...t),fe(this,"type","ImageLayer")}buildModels(){var t=this;return Ut(function*(){const n=t.getModelType();t.layerModel=new oBt[n](t),yield t.initLayerModels()})()}getDefaultConfig(){const t=this.getModelType();return{image:{}}[t]}getModelType(){return"image"}}const sBt=`
#define Animate 0.0
#define LineTexture 1.0
uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_lineDir: 1.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_blur : 0.9;
  float u_line_type: 0.0;
  float u_time;
  float u_linearColor: 0.0;
};

in vec4 v_color;
in vec2 v_iconMapUV;
in vec4 v_lineData;
//dash
in vec4 v_dash_array;
in float v_distance_ratio;

out vec4 outputColor;
#pragma include "picking"

void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      discard;
    };
  }
  float animateSpeed = 0.0; // 运动速度
  outputColor = v_color;
  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_lineData.b, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      outputColor.a *= alpha;
  }

  // 当存在贴图时在底色上贴上贴图
  if(u_line_texture == LineTexture) { // while load texture
    float arcRadio = smoothstep( 0.0, 1.0, (v_lineData.r / segmentNumber));
    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);

    float count = v_lineData.g; // 贴图在弧线上重复的数量

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);
    float v = v_lineData.a; // 横向 v
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;

    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
    
  } else {
     outputColor = filterColor(outputColor);
  }
}`,lBt=`#define Animate (0.0)
#define LineTexture (1.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_lineDir: 1.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_blur : 0.9;
  float u_line_type: 0.0;
  float u_time;
  float u_linearColor: 0.0;
};

out vec4 v_color;
out vec2 v_iconMapUV;
out vec4 v_lineData;
//dash
out vec4 v_dash_array;
out float v_distance_ratio;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1.0 - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = arcThetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);
  if (u_lineDir == 1.0) {
    // 正向
    return mid;
  } else {
    // 逆向
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
  // dash: index / (segmentNumber - 1.);
  // normal: smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
  //  return index / (segmentNumber - 1.);
}
vec2 interpolate(vec2 source, vec2 target, float t, float arcThetaOffset) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target, arcThetaOffset);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x, t), bezier3(y, t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return dir_screenspace.xy * sign(offset_direction);
}

void main() {
  //vs中计算渐变色
  if (u_linearColor == 1.0) {
    float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex / segmentNumber);
  } else {
    v_color = a_Color;
  }
  v_color.a = v_color.a * opacity;

  vec2 source_world = a_Instance.rg; // 起始点
  vec2 target_world = a_Instance.ba; // 终点

  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  // 计算 dashArray 和 distanceRatio 输出到片元
  float total_Distance = pixelDistance(source_world, target_world) / 2.0 * PI;
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  v_distance_ratio = segmentIndex / segmentNumber;

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  float d_distance_ratio;

  if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
      if(u_lineDir != 1.0) {
        d_distance_ratio = 1.0 - d_distance_ratio;
      }
  }

  v_lineData.b = d_distance_ratio;

  vec4 source = project_position(vec4(source_world, 0, 1.), a_Instance64Low.xy);
  vec4 target = project_position(vec4(target_world, 0, 1.), a_Instance64Low.zw);

  vec2 currPos = interpolate(source.xy, target.xy, segmentRatio, thetaOffset);
  vec2 nextPos = interpolate(source.xy, target.xy, nextSegmentRatio, thetaOffset);

  vec2 offset = project_pixel(
    getExtrusionOffset((nextPos.xy - currPos.xy) * indexDir, a_Position.y)
  );

  float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
  v_lineData.r = d_segmentIndex;

  if(LineTexture == u_line_texture) { // 开启贴图模式
    float arcDistrance = length(source - target); // 起始点和终点的距离
    arcDistrance = project_pixel(arcDistrance);

    v_iconMapUV = a_iconMapUV;

    float pixelLen = project_pixel_texture(u_icon_step); // 贴图沿弧线方向的长度 - 随地图缩放改变
    float texCount = floor(arcDistrance / pixelLen); // 贴图在弧线上重复的数量
    v_lineData.g = texCount;

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size); // 定点位置偏移
    v_lineData.a = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值
  }

  gl_Position = project_common_position_to_clipspace(vec4(currPos.xy + offset, 0, 1.0));

  setPickingColor(a_PickingColor);
}
`,uBt={solid:0,dash:1};class cBt extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0),fe(this,"updateTexture",()=>{const{createTexture2D:n}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=n({data:this.iconService.getCanvas(),mag:ie.NEAREST,min:ie.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:n,textureBlend:r="normal",lineType:i="solid",dashArray:a=[10,5],forward:o=!0,lineTexture:s=!1,iconStep:l=100,segmentNumber:u=30}=this.layer.getLayerConfig(),{animateOption:c}=this.layer.getLayerConfig();let f=a;i!=="dash"&&(f=[0,0]),f.length===2&&f.push(0,0);let d=0,h=[0,0,0,0],p=[0,0,0,0];if(t&&n&&(h=ga(t),p=ga(n),d=1),this.rendererService.getDirty()){var v;(v=this.texture)===null||v===void 0||v.bind()}const g={u_animate:this.animateOption2Array(c),u_dash_array:f,u_sourceColor:h,u_targetColor:p,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:u,u_lineDir:o?1:-1,u_icon_step:l,u_line_texture:s?1:0,u_textureBlend:r==="normal"?0:1,u_blur:.9,u_line_type:uBt[i||"solid"],u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:d};return this.getUniformsBufferInfo(g)}initModels(){var t=this;return Ut(function*(){return t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}getShaders(){return{frag:sBt,vert:lBt,type:""}}buildModels(){var t=this;return Ut(function*(){t.initUniformsBuffer();const{segmentNumber:n=30}=t.layer.getLayerConfig(),{frag:r,vert:i,type:a}=t.getShaders();return[yield t.layer.buildLayerModel({moduleName:"lineArc2d"+a,vertexShader:i,fragmentShader:r,defines:t.getDefines(),inject:t.getInject(),triangulation:Wj,depth:{enable:!1},styleOption:{segmentNumber:n}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=1}=t;return Array.isArray(n)?[n[0]]:[n]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Qn.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:4,update:(t,n,r)=>[r[3],r[4],r[5],r[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Qn.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:4,update:(t,n,r)=>[Vo(r[3]),Vo(r[4]),Vo(r[5]),Vo(r[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const n=this.iconService.getIconMap(),{texture:r}=t,{x:i,y:a}=n[r]||{x:0,y:0};return[i,a]}}}),this.styleAttributeService.registerStyleAttribute({name:"thetaOffset",type:Qn.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{thetaOffset:n=1}=t;return[n]}}})}}const fBt=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_globel;
  float u_globel_radius;
  float u_global_height: 10;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0.0;
};

in vec4 v_color;
in vec4 v_dash_array;
in float v_segmentIndex;
in vec2 v_iconMapUV;
in vec4 v_line_data;

out vec4 outputColor;

#pragma include "picking"

void main() {
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_line_data.g; // 当前点位距离占线总长的比例
  outputColor = v_color;

  if(u_line_type == LineTypeDash) {
    float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    outputColor.a *=flag;
  }

  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);

      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      outputColor.a *= alpha;

      // u_animate
      // x enable
      // y duration
      // z interval
      // w trailLength
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));
    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);
    float count = v_line_data.b; // // 贴图在弧线上重复的数量

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);

    float v = v_line_data.a;  // 线图层贴图部分的 v 坐标值
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
          discard;
        } else {
          outputColor = filterColor(pattern);
        }
    }

  } else {
    outputColor = filterColor(outputColor);
  }
}
`,dBt=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;


layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_globel;
  float u_globel_radius;
  float u_global_height: 10;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0.0;
};
out vec4 v_color;
out vec4 v_dash_array;
out float v_segmentIndex;
out vec2 v_iconMapUV;
out vec4 v_line_data;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return dir_screenspace.xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // + Math.PI/2 是为了对齐坐标
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // 手动增加一些偏移，减轻面的冲突
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  //vs中计算渐变色
  if(u_linearColor==1.0){
    float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  }
  else{
    v_color = a_Color;
  }
  v_color.a = v_color.a * opacity;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0), a_Instance64Low.xy).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0), a_Instance64Low.zw).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    float total_Distance = pixelDistance(source, target) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  v_line_data.g = d_distance_ratio; // 当前点位距离占线总长的比例

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // 开启贴图模式

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel_texture(u_icon_step);
    v_line_data.b = floor(arcDistrance/pixelLen); // 贴图在弧线上重复的数量

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size);  // 定点位置偏移，按地图等级缩放后的距离
    v_line_data.a = lineOffsetWidth/linePixelSize;  // 线图层贴图部分的 v 坐标值

    v_iconMapUV = a_iconMapUV;
  }


  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z * thetaOffset, 1.0));

  // 地球模式
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // 线的偏移
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // 计算起始点和终止点的距离
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // 计算飞线各个节点相应的高度
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // 地球点位
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;

    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }


  setPickingColor(a_PickingColor);
}
`,hBt={solid:0,dash:1};class Dfe extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0),fe(this,"updateTexture",()=>{const{createTexture2D:n}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=n({data:this.iconService.getCanvas(),mag:ie.NEAREST,min:ie.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:n,textureBlend:r="normal",lineType:i="solid",dashArray:a=[10,5],lineTexture:o=!1,iconStep:s=100,segmentNumber:l=30,globalArcHeight:u=10}=this.layer.getLayerConfig(),{animateOption:c}=this.layer.getLayerConfig();a.length===2&&a.push(0,0);let f=0,d=[0,0,0,0],h=[0,0,0,0];if(t&&n&&(d=ga(t),h=ga(n),f=1),this.rendererService.getDirty()){var p;(p=this.texture)===null||p===void 0||p.bind()}const v={u_animate:this.animateOption2Array(c),u_dash_array:a,u_sourceColor:d,u_targetColor:h,u_textSize:[1024,this.iconService.canvasHeight||128],u_globel:this.mapService.version==="GLOBEL"?1:0,u_globel_radius:rwe,u_global_height:u,segmentNumber:l,u_line_type:hBt[i]||0,u_icon_step:s,u_line_texture:o?1:0,u_textureBlend:r==="normal"?0:1,u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:f};return this.getUniformsBufferInfo(v)}initModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}getShaders(){return{frag:fBt,vert:dBt,type:""}}buildModels(){var t=this;return Ut(function*(){const{segmentNumber:n=30}=t.layer.getLayerConfig(),{frag:r,vert:i,type:a}=t.getShaders();return[yield t.layer.buildLayerModel({moduleName:"lineArc3d"+a,vertexShader:i,fragmentShader:r,defines:t.getDefines(),inject:t.getInject(),triangulation:Wj,styleOption:{segmentNumber:n}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=1}=t;return Array.isArray(n)?[n[0]]:[n]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Qn.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:4,update:(t,n,r)=>[r[3],r[4],r[5],r[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Qn.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:4,update:(t,n,r)=>[Vo(r[3]),Vo(r[4]),Vo(r[5]),Vo(r[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const n=this.iconService.getIconMap(),{texture:r}=t,{x:i,y:a}=n[r]||{x:0,y:0};return[i,a]}}}),this.styleAttributeService.registerStyleAttribute({name:"thetaOffset",type:Qn.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{thetaOffset:n=1}=t;return[n]}}})}}const Pfe={circle:2,triangle:2,diamond:4,rect:2,classic:3,halfTriangle:2,none:0},lu=1/2;function pBt(e,t){const{width:n=2,height:r=1}=t;return{vertices:[0,lu*e,1*e*n,-(r+lu)*e,1*e*n,(r-lu)*e,0,lu*e,1*e*n,-(r+lu)*e,1*e*n,(r-lu)*e],indices:[3,4,5],outLineIndices:[0,1,2],normals:[1*e,-2*e,1,-2*e,1.5*e,1,1*e,1.5*e,1,0,0,0,0,0,0,0,0,0],dimensions:2}}function vBt(e,t){const{width:n=2,height:r=3}=t;return{vertices:[0,0,1*e*n,1*r,1*e*n,-1*r,0,0,1*e*n,1*r,1*e*n,-1*r],outLineIndices:[0,1,2],indices:[3,4,5],normals:[0,-1.5*e,1,2,1*e,1,-2,1*e,1,0,0,0,0,0,0,0,0,0],dimensions:2}}function gBt(e,t){const{width:n=2,height:r=2}=t;return{vertices:[0,r/2,e*n*1,r/2,e*n*1,-r/2,0,-r/2,0,r/2,e*n*1,r/2,e*n*1,-r/2,0,-r/2],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function mBt(e,t){const{width:n=2,height:r=3}=t;return{vertices:[0,0,1*n*e,.5*r,2*n*e,0,1*n*e,-.5*r,0,0,1*n*e,.5*r,2*n*e,0,1*n*e,-.5*r],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function yBt(e,t){const{width:n=2,height:r=3}=t;return{vertices:[0,0,2*e*n,1*r,1.5*e*n,0,2*e*n,-1*r,0,0,2*e*n,1*r,1.5*e*n,0,2*e*n,-1*r],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function _Bt(e,t){const{width:n=2,height:r=2}=t,i=Sz(),a=PT.flatten([i]),o=PT(a.vertices,a.holes,a.dimensions),s=i.map(l=>[l[0]*n*e,l[1]*r]).flat();return{vertices:[...s,...s],dimensions:2,indices:o.map(l=>l+i.length),outLineIndices:o,normals:[...i.map(l=>[l[1]*r,l[0]*n*e,1]).flat(),...new Array(i.length*3).fill(0)]}}function bBt(e,t=0,n){const r=typeof n.source=="object"?n.source.type:n.source,i=typeof n.target=="object"?n.target.type:n.target,{width:a=r?Pfe[r]:0}=typeof n.source=="object"?n.source:{},{width:o=i?Pfe[i]:0}=typeof n.target=="object"?n.target:{};return{vertices:[0,lu,1*a,...e,1,lu,-1*o,...e,1,-lu,-1*o,...e,0,-lu,1*a,...e,0,lu,1*a,...e,1,lu,-1*o,...e,1,-lu,-1*o,...e,0,-lu,1*a,...e],outLineIndices:[0,1,2,0,2,3].map(s=>s+t),indices:[4,5,6,4,6,7].map(s=>s+t),normals:[1,-1,1,1,1,1,-1,0,1,-1,0,1,0,0,0,0,0,0,0,0,0,0,0,0],dimensions:2}}function Lfe(e,t){const n=typeof e=="object"?e.type:e,r=t==="source"?1:-1,i=typeof e=="object"?e:{};switch(n){case"circle":return _Bt(r,i);case"triangle":return vBt(r,i);case"diamond":return mBt(r,i);case"rect":return gBt(r,i);case"classic":return yBt(r,i);case"halfTriangle":return pBt(r,i);default:return{vertices:[],indices:[],normals:[],dimensions:2,outLineIndices:[],outLineNormals:[]}}}function xBt(e){const t=e.coordinates.flat(),n=1,r=1;return{vertices:[1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t,1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t],normals:[-n,2*r,1,2*r,-r,1,r,-r,1,r,-r,1,-n,-r,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],indices:[0,1,2,0,2,3,0,3,4,5,6,7,5,7,8,5,8,9],size:7}}function SBt(e,t){return t?ABt(e,t):xBt(e)}function ABt(e,t){const n=e.coordinates.flat(),{target:r="classic",source:i="circle"}=t,a=Nfe(Lfe(i,"source"),n,0,0),o=bBt(n,a.vertices.length/7,t),s=Nfe(Lfe(r,"target"),n,1,a.vertices.length/7+o.vertices.length/7);return{vertices:[...a.vertices,...o.vertices,...s.vertices],indices:[...a.outLineIndices,...o.outLineIndices,...s.outLineIndices,...a.indices,...o.indices,...s.indices],normals:[...a.normals,...o.normals,...s.normals],size:7}}function Nfe(e,t,n=1,r=0){const i=[],{vertices:a,indices:o,dimensions:s,outLineIndices:l}=e;for(let u=0;u<a.length;u+=s)i.push(n,a[u+1],a[u],...t);return Pt(Pt({},e),{},{vertices:i,indices:o.map(u=>u+r),outLineIndices:l.map(u=>u+r)})}const EBt=`// #extension GL_OES_standard_derivatives : enable

in vec4 v_color;
out vec4 outputColor;


// line texture

#pragma include "picking"

void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,TBt=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniorm {
  float u_gap_width: 1.0;
  float u_stroke_width: 1.0;
  float u_stroke_opacity: 1.0;
};

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

out vec4 v_color;

vec2 project_pixel_offset(vec2 offsets) {
  vec2 data = project_pixel(offsets);

  return vec2(data.x, -data.y);
}

vec2 line_dir(vec2 target, vec2 source) {
  return normalize(ProjectFlat(target) - ProjectFlat(source));
}


void main() {
  // 透明度计算
  vec2 source_world = a_Instance.rg; // 起点
  vec2 target_world = a_Instance.ba; // 终点
  vec2 flowlineDir = line_dir(target_world, source_world);
  vec2 perpendicularDir = vec2(-flowlineDir.y, flowlineDir.x);

  vec2 position = mix(source_world, target_world, a_Position.x);
  vec2 position64Low = mix(a_Instance64Low.rg, a_Instance64Low.ba, a_Position.x);

  float lengthCommon = length(
    project_position(vec4(target_world, 0, 1)) - project_position(vec4(source_world, 0, 1))
  );
  vec2 offsetDistances = a_Size.x * project_pixel_offset(vec2(a_Position.y, a_Position.z)); // Mapbox || 高德
  vec2 limitedOffsetDistances = clamp(
    offsetDistances,
    project_pixel(-lengthCommon * 0.2),
    project_pixel(lengthCommon * 0.2)
  );

  float startOffsetCommon = project_pixel(offsets[0]);
  float endOffsetCommon = project_pixel(offsets[1]);
  float endpointOffset = mix(
    clamp(startOffsetCommon, 0.0, lengthCommon * 0.2),
    -clamp(endOffsetCommon, 0.0, lengthCommon * 0.2),
    a_Position.x
  );

  vec2 normalsCommon = u_stroke_width * project_pixel_offset(vec2(a_Normal.x, a_Normal.y));

  float gapCommon = -1. * project_pixel(u_gap_width);
  vec3 offsetCommon = vec3(
    flowlineDir * (limitedOffsetDistances[1] + normalsCommon.y + endpointOffset * 1.05) -
      perpendicularDir * (limitedOffsetDistances[0] + gapCommon + normalsCommon.x),
    0.0
  );

  vec4 project_pos = project_position(vec4(position.xy, 0, 1.0), position64Low);

  vec4 fillColor = vec4(a_Color.rgb, a_Color.a * opacity);
  v_color = mix(fillColor, vec4(u_stroke.xyz, u_stroke.w * fillColor.w * u_stroke_opacity), a_Normal.z);

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy +  offsetCommon.xy, 0., 1.0));

  setPickingColor(a_PickingColor);
}
`;class wBt extends Ra{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,NORMAL:12})}getCommonUniformsInfo(){const{gapWidth:t=2,strokeWidth:n=1,strokeOpacity:r=1}=this.layer.getLayerConfig(),i={u_gap_width:t,u_stroke_width:n,u_stroke_opacity:r};return this.getUniformsBufferInfo(i)}initModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){return[yield t.layer.buildLayerModel({moduleName:"flow_line",vertexShader:TBt,fragmentShader:EBt,defines:t.getDefines(),inject:t.getInject(),triangulation:SBt,styleOption:t.layer.getLayerConfig().symbol,primitive:ie.TRIANGLES,depth:{enable:!1},pick:!1})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const{size:n=1}=t;return Array.isArray(n)?[n[0],n[1]]:[n,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Qn.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:4,update:(t,n,r)=>[r[3],r[4],r[5],r[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Qn.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:4,update:(t,n,r)=>[Vo(r[3]),Vo(r[4]),Vo(r[5]),Vo(r[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Qn.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(t,n,r,i,a)=>a}})}}const CBt=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0;
};

in vec4 v_dash_array;
in vec4 v_color;
in vec2 v_iconMapUV;
in vec4 v_line_data;
in float v_distance_ratio;

out vec4 outputColor;
#pragma include "picking"
#pragma include "project"
#pragma include "projection"

void main() {

  float animateSpeed = 0.0;
  float d_segmentIndex = v_line_data.g;

  // 设置弧线的底色
  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
    outputColor.a *= v_color.a;
  } else { // 使用 color 方法传入的颜色
    outputColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  if(u_line_type == LineTypeDash) {
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      // 实线部分
    } else {
      // 虚线部分
      discard;
    };
  }

  // 设置弧线的动画模式
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  // 设置弧线的贴图
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) {
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));
    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);
    float count = v_line_data.b; // 贴图在弧线上重复的数量
    float u = fract(arcRadio * count - animateSpeed * count);
    // float u = fract(arcRadio * count - animateSpeed);
    if(u_animate.x == Animate) {
      u = outputColor.a/v_color.a;
    }

    float v = v_line_data.a; // 线图层贴图部分的 v 坐标值

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    // 设置贴图和底色的叠加模式
    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
  } else {
    outputColor = filterColor(outputColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}
`,RBt=`#define LineTypeSolid (0.0)
#define LineTypeDash (1.0)
#define Animate (0.0)
#define LineTexture (1.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0;
};

out vec4 v_dash_array;
out vec4 v_color;
out vec2 v_iconMapUV;
out vec4 v_line_data;
out float v_distance_ratio;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps(float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return index / (segmentNumber - 1.0);
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(mix(source, target, segmentRatio), sqrt(max(0.0, vertex_height)));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return dir_screenspace.xy * sign(offset_direction);
}
float getAngularDist(vec2 source, vec2 target) {
  vec2 delta = source - target;
  vec2 sin_half_delta = sin(delta / 2.0);
  float a =
    sin_half_delta.y * sin_half_delta.y +
    cos(source.y) * cos(target.y) * sin_half_delta.x * sin_half_delta.x;
  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));
}

vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = 0.314;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);
  return mid;
}
float bezier3(vec3 arr, float t) {
  float ut = 1.0 - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}

vec2 interpolate(vec2 source, vec2 target, float angularDist, float t) {
  if (abs(angularDist - PI) < 0.001) {
    return (1.0 - t) * source + t * target;
  }
  float a = sin((1.0 - t) * angularDist) / sin(angularDist);
  float b = sin(t * angularDist) / sin(angularDist);
  vec2 sin_source = sin(source);
  vec2 cos_source = cos(source);
  vec2 sin_target = sin(target);
  vec2 cos_target = cos(target);
  float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;
  float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;
  float z = a * sin_source.y + b * sin_target.y;
  return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));

}

void main() {
  v_color = a_Color;
  v_color.a = v_color.a * opacity;
  vec2 source = radians(a_Instance.rg);
  vec2 target = radians(a_Instance.ba);
  float angularDist = getAngularDist(source, target);
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  if (u_line_type == LineTypeDash) {
    v_distance_ratio = segmentIndex / segmentNumber;
    float total_Distance = pixelDistance(source, target) / 2.0 * PI;
    total_Distance = total_Distance * 16.0; // total_Distance*16.0 调整默认的效果
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  }

  if (u_animate.x == Animate) {
    v_distance_ratio = segmentIndex / segmentNumber;
  }

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  v_distance_ratio = segmentIndex / segmentNumber;

  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0), a_Instance64Low.xy);
  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0), a_Instance64Low.zw);

  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));
  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));

  v_line_data.g = a_Position.x; // 该顶点在弧线上的分段排序
  if (LineTexture == u_line_texture) {
    float d_arcDistrance = length(source - target);
    d_arcDistrance = project_pixel(d_arcDistrance);

    float d_pixelLen = project_pixel(u_icon_step) / 8.0;
    v_line_data.b = floor(d_arcDistrance / d_pixelLen); // 贴图在弧线上重复的数量

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size); // 定点位置偏移，按地图等级缩放后的距离
    v_line_data.a = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值

    v_iconMapUV = a_iconMapUV;
  }

  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  setPickingColor(a_PickingColor);
}

`,IBt={solid:0,dash:1};class MBt extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0),fe(this,"updateTexture",()=>{const{createTexture2D:n}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=n({data:this.iconService.getCanvas(),mag:ie.NEAREST,min:ie.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:n,textureBlend:r="normal",lineType:i="solid",dashArray:a=[10,5],lineTexture:o=!1,iconStep:s=100,segmentNumber:l=30}=this.layer.getLayerConfig(),{animateOption:u}=this.layer.getLayerConfig();if(a.length===2&&a.push(0,0),this.rendererService.getDirty()){var c;(c=this.texture)===null||c===void 0||c.bind()}let f=0,d=[0,0,0,0],h=[0,0,0,0];t&&n&&(d=ga(t),h=ga(n),f=1);let p=this.layer.getLayerAnimateTime();isNaN(p)&&(p=0);const v={u_animate:this.animateOption2Array(u),u_dash_array:a,u_sourceColor:d,u_targetColor:h,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:l,u_line_type:IBt[i]||0,u_icon_step:s,u_line_texture:o?1:0,u_textureBlend:r==="normal"?0:1,u_time:p,u_linearColor:f};return this.getUniformsBufferInfo(v)}initModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return Ut(function*(){const{segmentNumber:n=30}=t.layer.getLayerConfig();return[yield t.layer.buildLayerModel({moduleName:"lineGreatCircle",vertexShader:RBt,fragmentShader:CBt,triangulation:Wj,styleOption:{segmentNumber:n},defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=1}=t;return Array.isArray(n)?[n[0]]:[n]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Qn.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:4,update:(t,n,r)=>[r[3],r[4],r[5],r[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Qn.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:4,update:(t,n,r)=>[Vo(r[3]),Vo(r[4]),Vo(r[5]),Vo(r[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const n=this.iconService.getIconMap(),{texture:r}=t,{x:i,y:a}=n[r]||{x:0,y:0};return[i,a]}}})}}const OBt=`// #extension GL_OES_standard_derivatives : enable
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_blur;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed: 0.0;
  float u_vertexScale: 1.0;
  float u_raisingHeight: 0.0;
  float u_strokeWidth: 0.0;
  float u_textureBlend;
  float u_line_texture;
  float u_linearDir: 1.0;
  float u_linearColor: 0;
  float u_time;
};

in vec4 v_color;
in vec4 v_stroke;
// dash
in vec4 v_dash_array;
in float v_d_distance_ratio;
in vec2 v_iconMapUV;
in vec4 v_texture_data;

out vec4 outputColor;
#pragma include "picking"

// [animate, duration, interval, trailLength],
void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      // 虚线部分
      discard;
    };
  }
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_texture_data.r; // 当前点位距离占线总长的比例
  if(u_linearDir < 1.0) {
    d_distance_ratio = v_texture_data.a;
  }
  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);
    outputColor.a *= v_color.a;
  } else { // 使用 color 方法传入的颜色
     outputColor = v_color;
  }
  // anti-alias
  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_texture_data.g;      // 当前顶点的距离
    float d_texPixelLen = v_texture_data.b;  // 贴图的像素长度，根据地图层级缩放
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_texture_data.a;  // 线图层贴图部分的 v 坐标值

    // v = max(smoothstep(0.95, 1.0, v), v);
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
     vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor += pattern;
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = pattern;
    }
  } 

  float v = v_texture_data.a;
  float strokeWidth = min(0.5, u_strokeWidth);
  // 绘制 border
  if(strokeWidth > 0.01) {
    float borderOuterWidth = strokeWidth / 2.0;


    if(v >= 1.0 - strokeWidth || v <= strokeWidth) {
      if(v > strokeWidth) { // 外侧
        float linear = smoothstep(0.0, 1.0, (v - (1.0 - strokeWidth))/strokeWidth);
        //  float linear = step(0.0, (v - (1.0 - borderWidth))/borderWidth);
        outputColor.rgb = mix(outputColor.rgb, v_stroke.rgb, linear);
      } else if(v <= strokeWidth) {
        float linear = smoothstep(0.0, 1.0, v/strokeWidth);
        outputColor.rgb = mix(v_stroke.rgb, outputColor.rgb, linear);
      }
    }

    if(v < borderOuterWidth) {
      outputColor.a = mix(0.0, outputColor.a, v/borderOuterWidth);
    } else if(v > 1.0 - borderOuterWidth) {
      outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);
    }
  }

  // blur
  float blurV = v_texture_data.a;
  if(blurV < 0.5) {
    outputColor.a *= mix(u_blur.r, u_blur.g, blurV/0.5);
  } else {
    outputColor.a *= mix(u_blur.g, u_blur.b, (blurV - 0.5)/0.5);
  }
  
  outputColor = filterColor(outputColor);
}
`,DBt=`#define Animate (0.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_DISTANCE_INDEX) in vec3 a_DistanceAndIndexAndMiter;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec4 a_Normal_Total_Distance;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_blur;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed: 0.0;
  float u_vertexScale: 1.0;
  float u_raisingHeight: 0.0;
  float u_strokeWidth: 0.0;
  float u_textureBlend;
  float u_line_texture;
  float u_linearDir: 1.0;
  float u_linearColor: 0;
  float u_time;
};

out vec4 v_color;
out vec4 v_stroke;
//dash
out vec4 v_dash_array;
out float v_d_distance_ratio;
// texV 线图层 - 贴图部分的 v 坐标（线的宽度方向）
out vec2 v_iconMapUV;
out vec4 v_texture_data;

#pragma include "projection"
#pragma include "picking"

void main() {
  vec2 a_DistanceAndIndex = a_DistanceAndIndexAndMiter.xy;
  float a_Miter = a_DistanceAndIndexAndMiter.z;
  vec3 a_Normal = a_Normal_Total_Distance.xyz;
  float a_Total_Distance = a_Normal_Total_Distance.w;
  //dash输出
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;
  v_d_distance_ratio = a_DistanceAndIndex.x / a_Total_Distance;

  // cal style mapping - 数据纹理映射部分的计算
  float d_texPixelLen; // 贴图的像素长度，根据地图层级缩放
  v_iconMapUV = a_iconMapUV;
  d_texPixelLen = project_float_pixel(u_icon_step);

  v_color = a_Color;
  v_color.a *= opacity;
  v_stroke = stroke;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * a_Normal;

  vec2 offset = project_pixel(size.xy);

  float lineDistance = a_DistanceAndIndex.x;
  float currentLinePointRatio = lineDistance / a_Total_Distance;

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // 线横向偏移的距离（向两侧偏移的和）
  float linePixelSize = project_pixel(a_Size.x) * 2.0; // 定点位置偏移，按地图等级缩放后的距离 单侧 * 2
  float texV = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值

  v_texture_data = vec4(currentLinePointRatio, lineDistance, d_texPixelLen, texV);
  // 设置数据集的参数

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  float h = float(a_Position.z) * u_vertexScale; // 线顶点的高度 - 兼容不存在第三个数值的情况 vertex height
  float lineHeight = a_Size.y; // size 第二个参数代表的高度 [linewidth, lineheight]

  // 兼容 mapbox 在线高度上的效果表现基本一致
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox
    // 保持高度相对不变
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    h *= mapboxZoomScale;
    h += u_raisingHeight * mapboxZoomScale;
    if (u_heightfixed > 0.0) {
      lineHeight *= mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(
    vec4(project_pos.xy + offset, lineHeight + h, 1.0)
  );

  setPickingColor(a_PickingColor);
}
`;class lwe extends Ra{constructor(...t){super(...t),fe(this,"textureEventFlag",!1),fe(this,"texture",this.createTexture2D({data:new Uint8Array([0,0,0,0]),width:1,height:1})),fe(this,"updateTexture",()=>{const{createTexture2D:n}=this.rendererService;if(this.textures.length===0&&(this.textures=[this.texture]),this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=n({data:this.iconService.getCanvas(),mag:ie.NEAREST,min:ie.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128})})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,DISTANCE_INDEX:10,NORMAL:11,UV:12})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:n,textureBlend:r="normal",lineType:i="solid",dashArray:a=[10,5,0,0],lineTexture:o=!1,iconStep:s=100,vertexHeightScale:l=20,strokeWidth:u=0,raisingHeight:c=0,heightfixed:f=!1,linearDir:d=xfe.VERTICAL,blur:h=[1,1,1,0]}=this.layer.getLayerConfig();let p=a;if(i!=="dash"&&(p=[0,0,0,0]),p.length===2&&p.push(0,0),this.rendererService.getDirty()&&this.texture){var v;(v=this.texture)===null||v===void 0||v.bind()}const{animateOption:g}=this.layer.getLayerConfig();let m=0,b=[0,0,0,0],_=[0,0,0,0];t&&n&&(b=ga(t),_=ga(n),m=1);const x={u_animate:this.animateOption2Array(g),u_dash_array:p,u_blur:h,u_sourceColor:b,u_targetColor:_,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:s,u_heightfixed:Number(f),u_vertexScale:l,u_raisingHeight:Number(c),u_strokeWidth:u,u_textureBlend:r===YNt.NORMAL?0:1,u_line_texture:o?1:0,u_linearDir:d===xfe.VERTICAL?1:0,u_linearColor:m,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(x)}initModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),t.textureEventFlag||(t.textureEventFlag=!0,t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture)),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return Ut(function*(){const{depth:n=!1}=t.layer.getLayerConfig(),{frag:r,vert:i,type:a}=t.getShaders();return t.layer.triangulation=Az,[yield t.layer.buildLayerModel({moduleName:"line"+a,vertexShader:i,fragmentShader:r,triangulation:Az,defines:t.getDefines(),inject:t.getInject(),depth:{enable:n}})]})()}getShaders(){return{frag:OBt,vert:DBt,type:""}}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Qn.Attribute,descriptor:{name:"a_DistanceAndIndexAndMiter",shaderLocation:this.attributeLocation.DISTANCE_INDEX,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(t,n,r,i,a,o)=>o===void 0?[r[3],10,r[4]]:[r[3],o,r[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const{size:n=1}=t;return Array.isArray(n)?[n[0],n[1]]:[n,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal_total_distance",type:Qn.Attribute,descriptor:{name:"a_Normal_Total_Distance",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:4,update:(t,n,r,i,a)=>[...a,r[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const n=this.iconService.getIconMap(),{texture:r}=t,{x:i,y:a}=n[r]||{x:0,y:0};return[i,a]}}})}}const PBt=`
layout(std140) uniform commonUniorm {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec4 u_dash_array;
  float u_vertexScale: 1.0;
  float u_linearColor: 0;
};
in float v_distanceScale;
in vec4 v_color;
//dash
in vec4 v_dash_array;

out vec4 outputColor;
void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_distanceScale, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      // 虚线部分
      discard;
    };
  }
  if(u_linearColor==1.0){
    outputColor = mix(u_sourceColor, u_targetColor, v_distanceScale);
    outputColor.a *= v_color.a; // 全局透明度
  }
  else{
    outputColor = v_color;
  }
}
`,LBt=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec4 a_SizeDistanceAndTotalDistance;

layout(std140) uniform commonUniorm {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec4 u_dash_array;
  float u_vertexScale: 1.0;
  float u_linearColor: 0;
};

#pragma include "projection"
#pragma include "picking"

out vec4 v_color;
out float v_distanceScale;
out vec4 v_dash_array;

void main() {
  //dash输出
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_SizeDistanceAndTotalDistance.a;

  v_color = a_Color;
  v_distanceScale = a_SizeDistanceAndTotalDistance.b / a_SizeDistanceAndTotalDistance.a;
  v_color.a = v_color.a * opacity;
  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  float h = float(a_Position.z) * u_vertexScale; // 线顶点的高度 - 兼容不存在第三个数值的情况

  float lineHeight = a_SizeDistanceAndTotalDistance.y;
  // 兼容 mapbox 在线高度上的效果表现基本一致
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // 保持高度相对不变
    h *= 2.0 / pow(2.0, 20.0 - u_Zoom);
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, lineHeight + h, 1.0));
  gl_PointSize = 10.0;

}
`;class NBt extends Ra{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:n,lineType:r="solid",dashArray:i=[10,5,0,0],vertexHeightScale:a=20}=this.layer.getLayerConfig();let o=i;r!=="dash"&&(o=[0,0,0,0]),o.length===2&&o.push(0,0);let s=0,l=[0,0,0,0],u=[0,0,0,0];t&&n&&(l=ga(t),u=ga(n),s=1);const c={u_sourceColor:l,u_targetColor:u,u_dash_array:o,u_vertexScale:a,u_linearColor:s};return this.getUniformsBufferInfo(c)}initModels(){var t=this;return Ut(function*(){return t.buildModels()})()}getShaders(){return{frag:PBt,vert:LBt,type:"lineSimpleNormal"}}buildModels(){var t=this;return Ut(function*(){t.initUniformsBuffer();const{frag:n,vert:r,type:i}=t.getShaders();return[yield t.layer.buildLayerModel({moduleName:i,vertexShader:r,fragmentShader:n,triangulation:ZNt,defines:t.getDefines(),inject:t.getInject(),primitive:ie.LINES,depth:{enable:!1},pick:!1})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"sizeDistanceAndTotalDistance",type:Qn.Attribute,descriptor:{name:"a_SizeDistanceAndTotalDistance",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:4,update:(t,n,r)=>{const{size:i=1}=t,a=Array.isArray(i)?[i[0],i[1]]:[i,0];return[a[0],a[1],r[3],r[5]]}}})}}const BBt=`#define Animate 0.0
#define LineTexture 1.0

// line texture

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed;
  float u_linearColor: 0;
  float u_line_texture;
  float u_textureBlend;
  float u_iconStepCount;
  float u_time;
};


in vec2 v_iconMapUV;
in vec4 v_color;
in float v_blur;
in vec4 v_dataset;

out vec4 outputColor;

#pragma include "picking"

void main() {
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_dataset.r; // 当前点位距离占线总长的比例
  float v = v_dataset.a;

  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, v);
  } else { // 使用 color 方法传入的颜色
     outputColor = v_color;
  }

  outputColor.a *= v_color.a; // 全局透明度
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_dataset.g;      // 当前顶点的距离
    float d_texPixelLen = v_dataset.b;  // 贴图的像素长度，根据地图层级缩放
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_dataset.a;  // 线图层贴图部分的 v 坐标值

    // 计算纹理间隔 start
    float flag = 0.0;
    if(u > 1.0/u_iconStepCount) {
      flag = 1.0;
    }
    u = fract(u*u_iconStepCount);
    // 计算纹理间隔 end

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    // Tip: 判断纹理间隔
    if(flag > 0.0) {
      pattern = vec4(0.0);
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
  }


  // blur - AA
  if(v < v_blur) {
    outputColor.a = mix(0.0, outputColor.a, v/v_blur);
  } else if(v > 1.0 - v_blur) {
    outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - v_blur))/v_blur);
  }

  outputColor = filterColor(outputColor);
}
`,kBt=`#define Animate 0.0
layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;
layout(location = ATTRIBUTE_LOCATION_DISTANCE_MITER_TOTAL) in vec3 a_Distance_Total_Miter;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed;
  float u_linearColor: 0;
  float u_line_texture;
  float u_textureBlend;
  float u_iconStepCount;
  float u_time;
};

// texV 线图层 - 贴图部分的 v 坐标（线的宽度方向）
out vec2 v_iconMapUV;
out vec4 v_color;
out float v_blur;
out vec4 v_dataset;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  float a_Distance = a_Distance_Total_Miter.x;
  float a_Miter = a_Distance_Total_Miter.y;
  float a_Total_Distance = a_Distance_Total_Miter.z;

  float d_distance_ratio; // 当前点位距离占线总长的比例
  float d_texPixelLen; // 贴图的像素长度，根据地图层级缩放

  v_iconMapUV = a_iconMapUV;
  if (u_heightfixed < 1.0) {
    // 高度随 zoom 调整
    d_texPixelLen = project_pixel(u_icon_step);
  } else {
    d_texPixelLen = u_icon_step;
  }

  if (u_animate.x == Animate || u_linearColor == 1.0) {
    d_distance_ratio = a_Distance / a_Total_Distance;
  }

  float miter = (a_Miter + 1.0) / 2.0;
  // 设置数据集的参数
  v_dataset[0] = d_distance_ratio; // 当前点位距离占线总长的比例
  v_dataset[1] = a_Distance; // 当前顶点的距离
  v_dataset[2] = d_texPixelLen; // 贴图的像素长度，根据地图层级缩放
  v_dataset[3] = miter; // 线图层贴图部分的 v 坐标值 0 - 1

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  float originSize = a_Size.x; // 固定高度
  if (u_heightfixed < 1.0) {
    originSize = project_float_meter(a_Size.x); // 高度随 zoom 调整
  }

  float wallHeight = originSize * miter;
  float lightWeight = calc_lighting(vec4(project_pos.xy, wallHeight, 1.0));

  v_blur = min(project_float_pixel(2.0) / originSize, 0.05);
  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);

  // 兼容 mapbox 在线高度上的效果表现基本一致
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox
    // 保持高度相对不变
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    if (u_heightfixed > 0.0) {
      wallHeight *= mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, wallHeight, 1.0));

  setPickingColor(a_PickingColor);
}
`;class FBt extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0),fe(this,"updateTexture",()=>{const{createTexture2D:n}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=n({data:this.iconService.getCanvas(),mag:ie.NEAREST,min:ie.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:12,UV:13,DISTANCE_MITER_TOTAL:15})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:n,textureBlend:r="normal",heightfixed:i=!1,lineTexture:a=!1,iconStep:o=100,iconStepCount:s=1}=this.layer.getLayerConfig(),{animateOption:l}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var u;(u=this.texture)===null||u===void 0||u.bind()}let c=0,f=[0,0,0,0],d=[0,0,0,0];t&&n&&(f=ga(t),d=ga(n),c=1);const h={u_animate:this.animateOption2Array(l),u_sourceColor:f,u_targetColor:d,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:o,u_heightfixed:Number(i),u_linearColor:c,u_line_texture:a?1:0,u_textureBlend:r==="normal"?0:1,u_iconStepCount:s,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(h)}initModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return Ut(function*(){return[yield t.layer.buildLayerModel({moduleName:"lineWall",vertexShader:kBt,fragmentShader:BBt,triangulation:Az,defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1},blend:t.getBlend()})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const{size:n=1}=t;return Array.isArray(n)?[n[0],n[1]]:[n,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Qn.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(t,n,r,i,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"distanceAndTotalAndMiter",type:Qn.Attribute,descriptor:{name:"a_Distance_Total_Miter",shaderLocation:this.attributeLocation.DISTANCE_MITER_TOTAL,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(t,n,r)=>[r[3],r[4],r[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const n=this.iconService.getIconMap(),{texture:r}=t,{x:i,y:a}=n[r]||{x:0,y:0};return[i,a]}}})}}const UBt={arc:cBt,arc3d:Dfe,greatcircle:MBt,wall:FBt,line:lwe,simple:NBt,flowline:wBt,earthArc3d:Dfe};class Gj extends Kx{constructor(...t){super(...t),fe(this,"type","LineLayer"),fe(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","thetaOffset"]),fe(this,"arrowInsertCount",0),fe(this,"defaultSourceConfig",{data:[{lng1:100,lat1:30,lng2:130,lat2:30}],options:{parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}}})}buildModels(){var t=this;return Ut(function*(){const n=t.getModelType();t.layerModel=new UBt[n](t),yield t.initLayerModels()})()}getDefaultConfig(){const t=this.getModelType();return{line:{},linearline:{},simple:{},wall:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"},tileLine:{},earthArc3d:{},flowline:{},arrow:{}}[t]}getModelType(){var t;if(this.layerType)return this.layerType;const n=this.styleAttributeService.getLayerStyleAttribute("shape");return(n==null||(t=n.scale)===null||t===void 0?void 0:t.field)||"line"}processData(t){if(this.getModelType()!=="simple")return t;const n=[];return t.map(r=>{if(Array.isArray(r.coordinates)&&Array.isArray(r.coordinates[0])&&Array.isArray(r.coordinates[0][0])){const i=Pt({},r);r.coordinates.map(a=>{n.push(Pt(Pt({},i),{},{coordinates:a}))})}else n.push(r)}),n}}const VBt=`
layout(std140) uniform commonUniorm {
  vec4 u_stroke_color;
  float u_additive;
  float u_stroke_opacity;
  float u_stroke_width;
};

in vec4 v_color;
in float v_blur;
in float v_innerRadius;

out vec4 outputColor;

#pragma include "picking"
void main() {
  vec2 center = vec2(0.5);

  // Tip: 片元到中心点的距离 0 - 1
  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;
  // Tip: 片元的剪切成圆形
  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);


  if(v_innerRadius < 0.99) {
    // 当存在 stroke 且 stroke > 0.01
    float blurWidth = (1.0 - v_blur)/2.0;
    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);
    if(fragmengTocenter > v_innerRadius + blurWidth) {
      outputColor = stroke;
    } else if(fragmengTocenter > v_innerRadius - blurWidth){
      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);
      outputColor = mix(v_color, stroke, mixR);
    } else {
      outputColor = v_color;
    }
  } else {
    // 当不存在 stroke 或 stroke <= 0.01
    outputColor = v_color;
  }

  outputColor = filterColor(outputColor);
  
  if(u_additive > 0.0) {
    outputColor *= circleClipOpacity;
  } else {
    outputColor.a *= circleClipOpacity;
  }

}
`,zBt=`
layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;

layout(std140) uniform commonUniorm {
  vec4 u_stroke_color;
  float u_additive;
  float u_stroke_opacity;
  float u_stroke_width;
};

out vec4 v_color;
out float v_blur;
out float v_innerRadius;

#pragma include "projection"
#pragma include "picking"
#pragma include "project"
void main() {
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  v_blur = 1.0 - max(2.0 / a_Size, 0.05);
  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);

  vec2 offset = project_pixel(u_offsets);

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;function Bfe(e){const t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length}}class $Bt extends Ra{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getDefaultStyle(){return{blend:"additive"}}getCommonUniformsInfo(){const{blend:t,strokeOpacity:n=1,strokeWidth:r=0,stroke:i="#fff"}=this.layer.getLayerConfig(),a={u_stroke_color:ga(i),u_additive:t==="additive"?1:0,u_stroke_opacity:n,u_stroke_width:r};return this.getUniformsBufferInfo(a)}initModels(){var t=this;return Ut(function*(){return t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){return t.layer.triangulation=Bfe,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointSimple",vertexShader:zBt,fragmentShader:VBt,defines:t.getDefines(),inject:t.getInject(),triangulation:Bfe,depth:{enable:!1},primitive:ie.POINTS})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=1}=t;return Array.isArray(n)?[n[0]]:[n]}}})}}const HBt=`precision highp float;
in vec4 v_color;

#pragma include "picking"

layout(std140) uniform commonUniform {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor: 0;
  float u_heightfixed: 0.0; // 默认不固定
  float u_globel;
  float u_r;
  float u_pickLight: 0.0;
  float u_opacitylinear: 0.0;
  float u_opacitylinear_dir: 1.0;
  float u_lightEnable: 1.0;
};
in float v_lightWeight;
in float v_barLinearZ;
out vec4 outputColor;
void main() {

   outputColor = v_color;

  // 开启透明度渐变
  if(u_opacitylinear > 0.0) {
    outputColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - v_barLinearZ): v_barLinearZ;
  }

  // picking
  if(u_pickLight > 0.0) {
    outputColor = filterColorAlpha(outputColor, v_lightWeight);
  } else {
    outputColor = filterColor(outputColor);
  }
}
`,WBt=`precision highp float;

#define pi 3.1415926535
#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;
layout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniform {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor: 0;
  float u_heightfixed: 0.0; // 默认不固定
  float u_globel;
  float u_r;
  float u_pickLight: 0.0;
  float u_opacitylinear: 0.0;
  float u_opacitylinear_dir: 1.0;
  float u_lightEnable: 1.0;
};

out vec4 v_color;
out float v_lightWeight;
out float v_barLinearZ;
// 用于将在顶点着色器中计算好的样式值传递给片元


#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) +
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {

  // cal style mapping - 数据纹理映射部分的计算
  vec3 size = a_Size * a_Position;

  // a_Position.z 是在构建网格的时候传入的标准值 0 - 1，在插值器插值可以获取 0～1 线性渐变的值
  v_barLinearZ =  a_Position.z;

  vec3 offset = size; // 控制圆柱体的大小 - 从标准单位圆柱体进行偏移
  if(u_heightfixed < 1.0) { // 圆柱体不固定高度
    //
  } else {// 圆柱体固定高度 （ 处理 mapbox ）
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);
    }
  }


  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));

  // u_r 控制圆柱的生长
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // 圆柱光照效果
  float lightWeight = 1.0;
  if(u_lightEnable > 0.0) { // 取消三元表达式，增强健壮性
    lightWeight = calc_lighting(pos);
  }
  v_lightWeight = lightWeight;
  // 设置圆柱的底色
  if(u_linearColor == 1.0) { // 使用渐变颜色
    v_color = mix(u_sourceColor, u_targetColor, v_barLinearZ);
    v_color.rgb *= lightWeight;
  } else { // 使用 color 方法传入的颜色
     v_color = a_Color;
  }
  v_color.a *= u_opacity;


  // 在地球模式下，将原本垂直于 xy 平面的圆柱调整姿态到适应圆的角度
  //旋转矩阵mx，创建绕x轴旋转矩阵
  float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);
  float xRadian = getXRadian(a_Pos.y, r);
  float xcos = cos(xRadian);//求解旋转角度余弦值
  float xsin = sin(xRadian);//求解旋转角度正弦值
  mat4 mx = mat4(
    1,0,0,0,
    0,xcos,-xsin,0,
    0,xsin,xcos,0,
    0,0,0,1);

  //旋转矩阵my，创建绕y轴旋转矩阵
  float yRadian = getYRadian(a_Pos.x, a_Pos.z);
  float ycos = cos(yRadian);//求解旋转角度余弦值
  float ysin = sin(yRadian);//求解旋转角度正弦值
  mat4 my = mat4(
    ycos,0,-ysin,0,
    0,1,0,0,
    ysin,0,ycos,0,
    0,0,0,1);

  gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);


  setPickingColor(a_PickingColor);
}
`,{isNumber:GBt}=Oo;let jBt=class extends Ra{constructor(...t){super(...t),fe(this,"raiseCount",0),fe(this,"raiseRepeat",0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11})}getCommonUniformsInfo(){const{animateOption:t={enable:!1,speed:.01,repeat:!1},opacity:n=1,sourceColor:r,targetColor:i,pickLight:a=!1,heightfixed:o=!0,opacityLinear:s={enable:!1,dir:"up"},lightEnable:l=!0}=this.layer.getLayerConfig();let u=0,c=[0,0,0,0],f=[0,0,0,0];if(r&&i&&(c=ga(r),f=ga(i),u=1),this.raiseCount<1&&this.raiseRepeat>0&&t.enable){const{speed:p=.01}=t;this.raiseCount+=p,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}const d={u_sourceColor:c,u_targetColor:f,u_linearColor:u,u_pickLight:Number(a),u_heightfixed:Number(o),u_r:t.enable&&this.raiseRepeat>0?this.raiseCount:1,u_opacity:GBt(n)?n:1,u_opacitylinear:Number(s.enable),u_opacitylinear_dir:s.dir==="up"?1:0,u_lightEnable:Number(l)};return this.getUniformsBufferInfo(d)}initModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){const{animateOption:{repeat:n=1}}=t.layer.getLayerConfig();return t.raiseRepeat=n,[yield t.layer.buildLayerModel({moduleName:"pointEarthExtrude",vertexShader:WBt,fragmentShader:HBt,triangulation:owe,depth:{enable:!0},defines:t.getDefines(),inject:t.getInject(),cull:{enable:!0,face:ie.FRONT},blend:t.getBlend()})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:3,update:t=>{const{size:n}=t;if(n){let r=[];return Array.isArray(n)&&(r=n.length===2?[n[0],n[0],n[1]]:n),Array.isArray(n)||(r=[n,n,n]),r}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Qn.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(t,n,r,i,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Qn.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:3,update:t=>{const n=Ey(t.coordinates);return iwe([n[0],n[1]])}}})}};const YBt=`in vec4 v_data;
in vec4 v_color;
in float v_radius;

layout(std140) uniform commonUniform {
  float u_additive;
  float u_stroke_opacity : 1;
  float u_stroke_width : 2;
  float u_blur : 0.0;
};
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {
  int shape = int(floor(v_data.w + 0.5));

  vec4 strokeColor = u_stroke == vec4(0.0) ? v_color : u_stroke;

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  if(outer_df > antialiasblur + 0.018) discard;

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  if(u_stroke_width < 0.01) {
    outputColor = vec4(v_color.rgb, v_color.a * u_opacity);
  } else {
    outputColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  }

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
    outputColor = filterColorAlpha(outputColor, outputColor.a);
  } else {
    outputColor.a *= opacity_t;
    outputColor = filterColor(outputColor);
  }
}
`,XBt=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniform {
  float u_additive;
  float u_stroke_opacity : 1;
  float u_stroke_width : 2;
  float u_blur : 0.0;
};
out vec4 v_data;
out vec4 v_color;
out float v_radius;

#pragma include "projection"
#pragma include "picking"


void main() {
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize 设置拾取大小
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;

  // unpack color(vec2)
  v_color = a_Color;

  // radius(16-bit)
  v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);

  // TODP: /abs(extrude.x) 是为了兼容地球模式
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1 + vec3(u_offsets,0.0), 1.0);

  setPickingColor(a_PickingColor);
}
`;let KBt=class extends Ra{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11})}getCommonUniformsInfo(){const{strokeOpacity:t=1,strokeWidth:n=0,blend:r,blur:i=0}=this.layer.getLayerConfig();this.layer.getLayerConfig();const a={u_additive:r==="additive"?1:0,u_stroke_opacity:t,u_stroke_width:n,u_blur:i};return this.getUniformsBufferInfo(a)}initModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){return t.layer.triangulation=Mfe,[yield t.layer.buildLayerModel({moduleName:"pointEarthFill",vertexShader:XBt,fragmentShader:YBt,triangulation:Mfe,defines:t.getDefines(),inject:t.getInject(),depth:{enable:!0},blend:t.getBlend()})]})()}animateOption2Array(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Qn.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(t,n,r,i)=>{const[a,o,s]=r,l=Mf(0,0,1),u=Mf(a,0,s),c=a>=0?kue(l,u):Math.PI*2-kue(l,u),f=Math.PI*2-Math.asin(o/100),d=Rj();j2e(d,d,c),Ij(d,d,f);const h=Mf(1,1,0);SI(h,h,d),AE(h,h);const p=Mf(-1,1,0);SI(p,p,d),AE(p,p);const v=Mf(-1,-1,0);SI(v,v,d),AE(v,v);const g=Mf(1,-1,0);SI(g,g,d),AE(g,g);const m=[...h,...p,...v,...g],b=i%4*3;return[m[b],m[b+1],m[b+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=5}=t;return Array.isArray(n)?[n[0]]:[n]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Qn.Attribute,descriptor:{name:"a_Shape",shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{shape:n=2}=t;return[this.layer.getLayerConfig().shape2d.indexOf(n)]}}})}};const qBt=`
in vec4 v_color;
in float v_lightWeight;
out vec4 outputColor;

layout(std140) uniform commonUniforms {
  float u_pickLight;
  float u_heightfixed;
  float u_r;
  float u_linearColor;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_opacitylinear;
  float u_opacitylinear_dir;
  float u_lightEnable;
};

#pragma include "scene_uniforms"
#pragma include "picking"

void main() {

  outputColor = v_color;
  // 开启透明度渐变
  // picking
  if(u_pickLight > 0.0) {
    outputColor = filterColorAlpha(outputColor, v_lightWeight);
  } else {
    outputColor = filterColor(outputColor);
  }
}
`,ZBt=`#define pi (3.1415926535)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec4 a_Extrude;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniforms {
  float u_pickLight;
  float u_heightfixed;
  float u_r;
  float u_linearColor;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_opacitylinear;
  float u_opacitylinear_dir;
  float u_lightEnable;
};
out vec4 v_color;
out float v_lightWeight;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if (x > 0.0 && z > 0.0) {
    return atan(x / z);
  } else if (x > 0.0 && z <= 0.0) {
    return atan(-z / x) + pi / 2.0;
  } else if (x <= 0.0 && z <= 0.0) {
    return pi + atan(x / z); //atan(x/z) +
  } else {
    return atan(z / -x) + pi * 3.0 / 2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y / r);
}

void main() {
  vec3 size = a_Size * a_Position;

  vec3 offset = size; // 控制圆柱体的大小 - 从标准单位圆柱体进行偏移

  if (u_heightfixed < 1.0) {
    // 圆柱体不固定高度
  } else {
    // 圆柱体固定高度 （ 处理 mapbox ）
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      offset *= 4.0 / pow(2.0, 21.0 - u_Zoom);
    }
  }

  vec2 positions = a_Extrude.xy;
  vec2 positions64Low = a_Extrude.zw;
  vec4 project_pos = project_position(vec4(positions, 0.0, 1.0), positions64Low);

  // u_r 控制圆柱的生长
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // // 圆柱光照效果
  float lightWeight = 1.0;

  if (u_lightEnable > 0.0) {
    // 取消三元表达式，增强健壮性
    lightWeight = calc_lighting(pos);
  }

  v_lightWeight = lightWeight;

  v_color = a_Color;

  // 设置圆柱的底色
  if (u_linearColor == 1.0) {
    // 使用渐变颜色
    v_color = mix(u_sourceColor, u_targetColor, a_Position.z);
    v_color.a = v_color.a * opacity;
  } else {
    v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);
  }

  if (u_opacitylinear > 0.0) {
    v_color.a *= u_opacitylinear_dir > 0.0 ? 1.0 - a_Position.z : a_Position.z;
  }

  gl_Position = project_common_position_to_clipspace(pos);

  setPickingColor(a_PickingColor);
}
`;let uwe=class extends Ra{constructor(...t){super(...t),fe(this,"raiseCount",0),fe(this,"raiseRepeat",0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,NORMAL:11})}getCommonUniformsInfo(){const{animateOption:t={enable:!1,speed:.01,repeat:!1},sourceColor:n,targetColor:r,pickLight:i=!1,heightfixed:a=!1,opacityLinear:o={enable:!1,dir:"up"},lightEnable:s=!0}=this.layer.getLayerConfig();let l=0,u=[0,0,0,0],c=[0,0,0,0];if(n&&r&&(u=ga(n),c=ga(r),l=1),this.raiseCount<1&&this.raiseRepeat>0&&t.enable){const{speed:h=.01}=t;this.raiseCount+=h,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}const f={u_pickLight:Number(i),u_heightfixed:Number(a),u_r:t.enable&&this.raiseRepeat>0?this.raiseCount:1,u_linearColor:l,u_sourceColor:u,u_targetColor:c,u_opacitylinear:Number(o.enable),u_opacitylinear_dir:o.dir==="up"?1:0,u_lightEnable:Number(s)};return this.getUniformsBufferInfo(f)}initModels(){var t=this;return Ut(function*(){return t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){const{depth:n=!0,animateOption:{repeat:r=1}}=t.layer.getLayerConfig();return t.raiseRepeat=r,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointExtrude",vertexShader:ZBt,fragmentShader:qBt,triangulation:owe,defines:t.getDefines(),inject:t.getInject(),cull:{enable:!0,face:ie.FRONT},depth:{enable:n}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:3,update:t=>{const{size:n}=t;if(n){let r=[];return Array.isArray(n)&&(r=n.length===2?[n[0],n[0],n[1]]:n),Array.isArray(n)||(r=[n,n,n]),r}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Qn.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(t,n,r,i,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Qn.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:4,update:t=>{const n=Ey(t.coordinates);return[n[0],n[1],Vo(n[0]),Vo(n[1])]}}})}};const QBt=`
layout(std140) uniform commonUniforms {
  vec3 u_blur_height_fixed;
  float u_stroke_width;
  float u_additive;
  float u_stroke_opacity;
  float u_size_unit;
  float u_time;
  vec4 u_animate;
};

in vec4 v_color;
in vec4 v_stroke;
in vec4 v_data;
in float v_radius;

#pragma include "scene_uniforms"
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {
  int shape = int(floor(v_data.w + 0.5));
  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  float PI = 3.14159;
  float N_RINGS = 3.0;
  float FREQ = 1.0;

  if(u_stroke_width < 0.01) {
    outputColor = v_color;
  } else {
    outputColor = mix(v_color, v_stroke * u_stroke_opacity, color_t);
  }
  float intensity = 1.0;
  if(u_time!=-1.0){
    //wave相关逻辑
    float d = length(v_data.xy);
    if(d > 0.5) {
      discard;
    }
    intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_animate.z - u_animate.y * u_time)), 0.0, 1.0);
  }

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
    outputColor *= intensity;//wave
    outputColor = filterColorAlpha(outputColor, outputColor.a);
  } else {
    outputColor.a *= opacity_t;
    outputColor.a *= intensity;//wave 
    outputColor = filterColor(outputColor);
  }
   // 作为 mask 模板时需要丢弃透明的像素
  if(outputColor.a < 0.01) {
    discard;
  } 
}
`,JBt=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniforms {
  vec3 u_blur_height_fixed;
  float u_stroke_width;
  float u_additive;
  float u_stroke_opacity;
  float u_size_unit;
  float u_time;
  vec4 u_animate;
};

out vec4 v_color;
out vec4 v_stroke;
out vec4 v_data;
out float v_radius;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  // 透明度计算
   v_stroke = stroke;
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize 设置拾取大小
  *  u_meter2coord 在等面积大小的时候设置单位
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;



  // unpack color(vec2)
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);

  if(u_size_unit == 1.0) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }

   v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur_height_fixed.x);

  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + u_offsets);

  offset = project_pixel(offset);
  offset = rotate_matrix(offset,rotation);

  // TODP: /abs(extrude.x) 是为了兼容地球模式
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  float raisingHeight = u_blur_height_fixed.y;

  if(u_blur_height_fixed.z < 1.0) { // false
    raisingHeight = project_pixel(u_blur_height_fixed.y);
  } else {
     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_blur_height_fixed.y * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));

  setPickingColor(a_PickingColor);
}
`;let cwe=class extends Ra{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11})}getCommonUniformsInfo(){const{strokeOpacity:t=1,strokeWidth:n=0,blend:r,blur:i=0,raisingHeight:a=0,heightfixed:o=!1,unit:s="pixel"}=this.layer.getLayerConfig();let l=this.getAnimateUniforms().u_time;isNaN(l)&&(l=-1);const u={u_blur_height_fixed:[i,Number(a),Number(o)],u_stroke_width:n,u_additive:r==="additive"?1:0,u_stroke_opacity:t,u_size_unit:Hj[s],u_time:l,u_animate:this.getAnimateUniforms().u_animate};return this.getUniformsBufferInfo(u)}getAnimateUniforms(){const{animateOption:t={enable:!1}}=this.layer.getLayerConfig();return{u_animate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),ay)}initModels(){var t=this;return Ut(function*(){return t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){const{frag:n,vert:r,type:i}=t.getShaders();return t.layer.triangulation=ay,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:i,vertexShader:r,fragmentShader:n,defines:t.getDefines(),inject:t.getInject(),triangulation:ay,depth:{enable:!1}})]})()}getShaders(){return{frag:QBt,vert:JBt,type:"pointFill"}}animateOption2Array(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}registerBuiltinAttributes(){const t=this.layer.getLayerConfig().shape2d;this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Qn.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(n,r,i,a)=>{const o=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],s=a%4*3;return[o[s],o[s+1],o[s+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:n=>{const{size:r=5}=n;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Qn.Attribute,descriptor:{name:"a_Shape",shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:n=>{const{shape:r=2}=n;return[t.indexOf(r)]}}})}};const e6t=`in vec2 v_uv;// 本身的 uv 坐标
in vec2 v_Iconuv;
in float v_opacity;
out vec4 outputColor;

uniform sampler2D u_texture;
layout(std140) uniform commonUniform {
  vec2 u_textSize;
  float u_heightfixed: 0.0;
  float u_raisingHeight: 0.0;
  float u_size_unit;
};

#pragma include "scene_uniforms"
#pragma include "sdf_2d"
#pragma include "picking"

void main() {
  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;
  outputColor = texture(SAMPLER_2D(u_texture), pos);
  outputColor.a *= v_opacity;
  outputColor = filterColor(outputColor);
}
`,t6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniform {
  vec2 u_textSize;
  float u_heightfixed;
  float u_raisingHeight;
  float u_size_unit;
};

out vec2 v_uv;
out vec2 v_Iconuv;
out float v_opacity;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  vec3 extrude = a_Extrude;
  v_uv = (a_Extrude.xy + 1.0) / 2.0;
  v_uv.y = 1.0 - v_uv.y;
  v_Iconuv = a_Uv;
  v_opacity = opacity;
  float newSize = a_Size;
  if (u_size_unit == 1.0) {
    newSize = newSize * u_PixelsPerMeter.z;
  }

  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);
  vec2 offset = extrude.xy * newSize + offsets;

  offset = rotate_matrix(offset, rotation);

  offset = project_pixel(offset);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`;class n6t extends Ra{constructor(...t){super(...t),fe(this,"meter2coord",1),fe(this,"texture",void 0),fe(this,"isMeter",!1),fe(this,"radian",0),fe(this,"updateTexture",()=>{const{createTexture2D:n}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),this.layerService.throttleRenderLayers();return}this.texture=n({data:this.iconService.getCanvas(),mag:ie.LINEAR,min:ie.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,UV:11})}getCommonUniformsInfo(){const{raisingHeight:t=0,heightfixed:n=!1,unit:r="pixel"}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var i;(i=this.texture)===null||i===void 0||i.bind()}const a={u_textSize:[1024,this.iconService.canvasHeight||128],u_heightfixed:Number(n),u_raisingHeight:Number(t),u_size_unit:Hj[r]};return this.getUniformsBufferInfo(a)}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),ay)}initModels(){var t=this;return Ut(function*(){return t.iconService.on("imageUpdate",t.updateTexture),t.updateTexture(),t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointFillImage",vertexShader:t6t,fragmentShader:e6t,triangulation:ay,depth:{enable:!1},defines:t.getDefines(),inject:t.getInject(),cull:{enable:!0,face:ie.FRONT}})]})()}clearModels(){var t;this.iconService.off("imageUpdate",this.updateTexture),(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const n=this.iconService.getIconMap(),{shape:r}=t,{x:i,y:a}=n[r]||{x:-64,y:-64};return[i,a]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Qn.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(t,n,r,i)=>{const a=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=i%4*3;return[a[o],a[o+1],a[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=5}=t;return Array.isArray(n)?[n[0]]:[n]}}})}}const r6t=`layout(std140) uniform commonUniforms {
  vec2 u_textSize;
  float u_raisingHeight;
  float u_heightfixed;
};

uniform sampler2D u_texture;

in vec4 v_color;
in vec2 v_uv;
in float v_opacity;

#pragma include "picking"

out vec4 outputColor;

void main(){
  vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
  vec4 textureColor;

  // Y = 0.299R + 0.587G + 0.114B // 亮度提取
  
  textureColor = texture(SAMPLER_2D(u_texture), pos);

  // Tip: 去除边缘部分 mipmap 导致的混合变暗
  float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);
  if(fragmengTocenter >= 0.5) {
        float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;
        textureColor.a *= luma;
  }
  
  if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
        outputColor= textureColor;
  }else {
        outputColor= step(0.01, textureColor.z) * v_color;
  }
  outputColor.a *= v_opacity;
  if (outputColor.a < 0.01) {
      discard;
  }
  outputColor = filterColor(outputColor);
}
`,i6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_textSize;
  float u_raisingHeight;
  float u_heightfixed;
};

out vec4 v_color;
out vec2 v_uv;
out float v_opacity;

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - 数据纹理映射部分的计算
  v_color = a_Color;
  v_opacity = opacity;
  v_uv = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);

  vec2 offset = project_pixel(offsets);

  float raisingHeight = u_raisingHeight;
  if (u_heightfixed < 1.0) {
    // false
    raisingHeight = project_pixel(u_raisingHeight);
  } else {
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;class fwe extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0),fe(this,"updateTexture",()=>{const{createTexture2D:n}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),setTimeout(()=>{this.layerService.throttleRenderLayers()});return}this.texture=n({data:this.iconService.getCanvas(),mag:ie.LINEAR,min:ie.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0})})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10})}getUninforms(){if(this.rendererService.getDirty()){var t;(t=this.texture)===null||t===void 0||t.bind()}const n=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Pt(Pt({},n.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{raisingHeight:t=0,heightfixed:n=!1}=this.layer.getLayerConfig(),r={u_textSize:[1024,this.iconService.canvasHeight||128],u_raisingHeight:Number(t),u_heightfixed:Number(n),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(r)}initModels(){var t=this;return Ut(function*(){return t.iconService.on("imageUpdate",t.updateTexture),t.updateTexture(),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointImage",vertexShader:i6t,fragmentShader:r6t,triangulation:qNt,defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1},primitive:ie.POINTS})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=5}=t;return Array.isArray(n)?[n[0]]:[n]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:t=>{const n=this.iconService.getIconMap(),{shape:r}=t,{x:i,y:a}=n[r]||{x:-64,y:-64};return[i,a]}}})}}const a6t=`in vec4 v_color;
out vec4 outputColor;
void main() {
  outputColor = v_color;
}`,o6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;

layout(std140) uniform u_Common {
  float u_size_scale;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"

void main() {
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(project_pos);

  gl_PointSize = a_Size * u_size_scale * 2.0 * u_DevicePixelRatio;
}
`;function kfe(e){const t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length}}class dwe extends Ra{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getDefaultStyle(){return{blend:"additive"}}getCommonUniformsInfo(){const t={u_size_scale:.5};return this.getUniformsBufferInfo(t)}initModels(){var t=this;return Ut(function*(){return t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){return t.layer.triangulation=kfe,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointNormal",vertexShader:o6t,fragmentShader:a6t,triangulation:kfe,defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1},primitive:ie.POINTS,pick:!1})]})()}clearModels(){}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=1}=t;return Array.isArray(n)?[n[0]]:[n]}}})}}const s6t=`
layout(std140) uniform commonUniorm{
  float u_additive;
  float u_size_unit;
  float u_speed: 1.0;
  float u_time;
};
in vec4 v_data;
in vec4 v_color;
in float v_radius;
in vec2 v_extrude;
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius);

  float outer_df = sdCircle(v_data.xy, 1.0);
  float inner_df = sdCircle(v_data.xy, r);

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  outputColor = vec4(v_color.rgb, v_color.a);

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
  } else {
    outputColor.a *= opacity_t;
  }

  if(outputColor.a > 0.0) {
    outputColor = filterColor(outputColor);
  }

  vec2 extrude =  v_extrude;
  vec2 dir = normalize(extrude);
  vec2 baseDir = vec2(1.0, 0.0);
  float pi = 3.14159265359;
  float flag = sign(dir.y);
  float rades = dot(dir, baseDir);
  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;
  // simple AA
  if(radar_v > 0.99) {
    radar_v = 1.0 - (radar_v - 0.99)/0.01;
  }

  outputColor.a *= radar_v;
}
`,l6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniorm {
  float u_additive;
  float u_size_unit;
  float u_speed: 1.0;
  float u_time;
};

out vec4 v_data;
out vec4 v_color;
out float v_radius;
out vec2 v_extrude;

#pragma include "projection"
#pragma include "picking"

void main() {
  float newSize = setPickingSize(a_Size);

  float time = u_time * u_speed;
  mat2 rotateMatrix = mat2(
    cos(time), sin(time),
    -sin(time), cos(time)
  );
  v_extrude = rotateMatrix * a_Extrude.xy;

  v_color = a_Color;
  v_color.a *= opacity;

  float blur = 0.0;
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, blur);

  if(u_size_unit == 1.) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }
  v_radius = newSize;

  vec2 offset = (a_Extrude.xy * (newSize));

  offset = project_pixel(offset);

  v_data = vec4(a_Extrude.x, a_Extrude.y, antialiasblur, -1.0);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  setPickingColor(a_PickingColor);
}
`;class u6t extends Ra{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10})}getCommonUniformsInfo(){const{blend:t,speed:n=1,unit:r="pixel"}=this.layer.getLayerConfig(),i={u_additive:t==="additive"?1:0,u_size_unit:Hj[r],u_speed:n,u_time:this.layer.getLayerAnimateTime()};return this.getUniformsBufferInfo(i)}getAnimateUniforms(){return{}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),ay)}initModels(){var t=this;return Ut(function*(){return t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointRadar",vertexShader:l6t,fragmentShader:s6t,triangulation:ay,defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1}})]})()}animateOption2Array(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Qn.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(t,n,r,i)=>{const a=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],o=i%4*3;return[a[o],a[o+1],a[o+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:"a_Size",buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=5}=t;return Array.isArray(n)?[n[0]]:[n]}}})}}class c6t{constructor(t,n,r){fe(this,"boxCells",[]),fe(this,"xCellCount",void 0),fe(this,"yCellCount",void 0),fe(this,"boxKeys",void 0),fe(this,"bboxes",void 0),fe(this,"width",void 0),fe(this,"height",void 0),fe(this,"xScale",void 0),fe(this,"yScale",void 0),fe(this,"boxUid",void 0);const i=this.boxCells;this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(let a=0;a<this.xCellCount*this.yCellCount;a++)i.push([]);this.boxKeys=[],this.bboxes=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0}insert(t,n,r,i,a){this.forEachCell(n,r,i,a,this.insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i),this.bboxes.push(a)}query(t,n,r,i,a){return this.queryHitTest(t,n,r,i,!1,a)}hitTest(t,n,r,i,a){return this.queryHitTest(t,n,r,i,!0,a)}insertBoxCell(t,n,r,i,a,o){this.boxCells[a].push(o)}queryHitTest(t,n,r,i,a,o){if(r<0||t>this.width||i<0||n>this.height)return a?!1:[];const s=[];if(t<=0&&n<=0&&this.width<=r&&this.height<=i){if(a)return!0;for(let u=0;u<this.boxKeys.length;u++)s.push({key:this.boxKeys[u],x1:this.bboxes[u*4],y1:this.bboxes[u*4+1],x2:this.bboxes[u*4+2],y2:this.bboxes[u*4+3]});return o?s.filter(o):s}const l={hitTest:a,seenUids:{box:{},circle:{}}};return this.forEachCell(t,n,r,i,this.queryCell,s,l,o),a?s.length>0:s}queryCell(t,n,r,i,a,o,s,l){const u=s.seenUids,c=this.boxCells[a];if(c!==null){const f=this.bboxes;for(const d of c)if(!u.box[d]){u.box[d]=!0;const h=d*4;if(t<=f[h+2]&&n<=f[h+3]&&r>=f[h+0]&&i>=f[h+1]&&(!l||l(this.boxKeys[d]))){if(s.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[d],x1:f[h],y1:f[h+1],x2:f[h+2],y2:f[h+3]})}}}return!1}forEachCell(t,n,r,i,a,o,s,l){const u=this.convertToXCellCoord(t),c=this.convertToYCellCoord(n),f=this.convertToXCellCoord(r),d=this.convertToYCellCoord(i);for(let h=u;h<=f;h++)for(let p=c;p<=d;p++){const v=this.xCellCount*p+h;if(a.call(this,t,n,r,i,v,o,s,l))return}}convertToXCellCoord(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}convertToYCellCoord(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}}class f6t{constructor(t,n){fe(this,"width",void 0),fe(this,"height",void 0),fe(this,"grid",void 0),fe(this,"viewportPadding",100),fe(this,"screenRightBoundary",void 0),fe(this,"screenBottomBoundary",void 0),fe(this,"gridRightBoundary",void 0),fe(this,"gridBottomBoundary",void 0),this.width=t,this.height=n,this.viewportPadding=Math.max(t,n),this.grid=new c6t(t+this.viewportPadding,n+this.viewportPadding,25),this.screenRightBoundary=t+this.viewportPadding,this.screenBottomBoundary=n+this.viewportPadding,this.gridRightBoundary=t+2*this.viewportPadding,this.gridBottomBoundary=n+2*this.viewportPadding}placeCollisionBox(t){const n=t.x1+t.anchorPointX+this.viewportPadding,r=t.y1+t.anchorPointY+this.viewportPadding,i=t.x2+t.anchorPointX+this.viewportPadding,a=t.y2+t.anchorPointY+this.viewportPadding;return!this.isInsideGrid(n,r,i,a)||this.grid.hitTest(n,r,i,a)?{box:[]}:{box:[n,r,i,a]}}insertCollisionBox(t,n){const r={featureIndex:n};this.grid.insert(r,t[0],t[1],t[2],t[3])}project(t,n,r){const i=nMt(n,r,0,1),a=X2e(),o=K3t(...t);return Mj(a,i,o),{x:(a[0]/a[3]+1)/2*this.width+this.viewportPadding,y:(-a[1]/a[3]+1)/2*this.height+this.viewportPadding}}isInsideGrid(t,n,r,i){return r>=0&&t<this.gridRightBoundary&&i>=0&&n<this.gridBottomBoundary}}function hwe(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0;break;default:t=.5}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0;break;default:n=.5}return{horizontalAlign:t,verticalAlign:n}}function pwe(e,t,n,r,i,a,o){const s=(t-n)*i,l=(-r*o+.5)*a;for(const u of e)u.x+=s,u.y+=l}function d6t(e,t,n,r,i,a,o){let l=0,u=-8,c=0;const f=e.positionedGlyphs,d=0,h=f.length;n.forEach(m=>{if(m.split("").forEach(b=>{const _=t[b];_&&(f.push({glyph:b,x:l,y:u+0,vertical:!1,scale:1,metrics:_}),l+=_.advance+o)}),f.length!==h){const b=l-o;c=Math.max(b,c),f.length-1}l=0,u-=r+5});const{horizontalAlign:p,verticalAlign:v}=hwe(i);pwe(f,d,p,v,c,r,n.length);const g=u- -8;e.top+=-v*g,e.bottom=e.top-g,e.left+=-p*c,e.right=e.left+c}function h6t(e,t,n,r,i,a,o){let l=0,u=-8,c=0;const f=e.positionedGlyphs,d=0,h=f.length;n.forEach(m=>{const b=t[m];if(b&&(f.push({glyph:m,x:b.advance/2,y:u+0,vertical:!1,scale:1,metrics:b}),l+=b.advance+o),f.length!==h){const x=l-o;c=Math.max(x,c),f.length-1}l=0,u-=r+5});const{horizontalAlign:p,verticalAlign:v}=hwe(i);pwe(f,d,p,v,c,r,n.length);const g=u- -8;e.top+=-v*g,e.bottom=e.top-g,e.left+=-p*c,e.right=e.left+c}function p6t(e,t,n,r,i,a,o=[0,0],s){const l=e.split(`
`),u=[],c={positionedGlyphs:u,top:o[1],bottom:o[1],left:o[0],right:o[0],lineCount:l.length,text:e};return s?h6t(c,t,l,n,r,i,a):d6t(c,t,l,n,r,i,a),u.length?c:!1}function v6t(e,t=[0,0],n){const{positionedGlyphs:r=[]}=e,i=[];for(const a of r){const o=a.metrics,s=4,l=o.advance*a.scale/2,u=[0,0],c=[a.x+l+t[0],a.y+t[1]],f=(0-s)*a.scale-l+c[0],d=(0-s)*a.scale+c[1],h=f+o.width*a.scale,p=d+o.height*a.scale,v={x:f,y:d},g={x:h,y:d},m={x:f,y:p},b={x:h,y:p};i.push({tl:v,tr:g,bl:m,br:b,tex:o,glyphOffset:u})}return i}const Ffe=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 48.0

uniform sampler2D u_sdf_map;
layout(std140) uniform commonUniforms {
  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
  vec2 u_sdf_map_size;
  float u_raisingHeight: 0.0;
  float u_stroke_width : 2;
  float u_gamma_scale : 0.5;
  float u_halo_blur : 0.5;
};

in vec2 v_uv;
in float v_gamma_scale;
in vec4 v_color;
in vec4 v_stroke_color;
in float v_fontScale;

out vec4 outputColor;

#pragma include "picking"
void main() {
  // get style data mapping

  // get sdf from atlas
  float dist = texture(SAMPLER_2D(u_sdf_map), v_uv).a;

  lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;
  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;

  highp float gamma_scaled = gamma * v_gamma_scale;

  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);

  outputColor = mix(v_color, v_stroke_color, smoothstep(0., 0.5, 1.- dist));

  outputColor.a *= alpha;
   // 作为 mask 模板时需要丢弃透明的像素
  if (outputColor.a < 0.01) {
    discard;
  }
  outputColor = filterColor(outputColor);
}
`,Ufe=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 24.0

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_TEXT_OFFSETS) in vec2 a_textOffsets;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_tex;

layout(std140) uniform commonUniforms {
  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
  vec2 u_sdf_map_size;
  float u_raisingHeight: 0.0;
  float u_stroke_width : 2;
  float u_gamma_scale : 0.5;
  float u_halo_blur : 0.5;
};

out vec2 v_uv;
out float v_gamma_scale;
out vec4 v_color;
out vec4 v_stroke_color;
out float v_fontScale;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  // cal style mapping - 数据纹理映射部分的计算

  v_uv = a_tex / u_sdf_map_size;



  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  v_stroke_color = vec4(u_stroke_color.xyz, u_stroke_color.w * opacity);

  // 文本缩放比例
  float fontScale = a_Size / FONT_SIZE;
  v_fontScale = fontScale;

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  vec2 offset = rotate_matrix(a_textOffsets,rotation);

  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);

  float raiseHeight = u_raisingHeight;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    raiseHeight = u_raisingHeight * mapboxZoomScale;
  }

  vec4 projected_position = project_common_position_to_clipspace(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));

  gl_Position = vec4(
    projected_position.xy / projected_position.w + offset * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);
  v_gamma_scale = gl_Position.w;
  setPickingColor(a_PickingColor);

}
`,{isEqual:HA}=Oo;function Vfe(e){const t=this,n=e.id,r=[],i=[];if(!t.glyphInfoMap||!t.glyphInfoMap[n])return{vertices:[],indices:[],size:7};const a=t.glyphInfoMap[n].centroid,o=a.length===2?[a[0],a[1],0]:a;return t.glyphInfoMap[n].glyphQuads.forEach((s,l)=>{r.push(...o,s.tex.x,s.tex.y+s.tex.height,s.tl.x,s.tl.y,...o,s.tex.x+s.tex.width,s.tex.y+s.tex.height,s.tr.x,s.tr.y,...o,s.tex.x+s.tex.width,s.tex.y,s.br.x,s.br.y,...o,s.tex.x,s.tex.y,s.bl.x,s.bl.y),i.push(0+l*4,1+l*4,2+l*4,2+l*4,3+l*4,0+l*4)}),{vertices:r,indices:i,size:7}}class vwe extends Ra{constructor(...t){var n;super(...t),n=this,fe(this,"glyphInfo",void 0),fe(this,"glyphInfoMap",{}),fe(this,"rawEncodeData",void 0),fe(this,"texture",void 0),fe(this,"currentZoom",-1),fe(this,"extent",void 0),fe(this,"textureHeight",0),fe(this,"textCount",0),fe(this,"preTextStyle",{}),fe(this,"mapping",Ut(function*(){n.initGlyph(),n.updateTexture(),yield n.reBuildModel()}))}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,TEXT_OFFSETS:10,UV:11})}getUninforms(){const t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Pt(Pt(Pt({},t.uniformsOption),n.uniformsOption),{u_sdf_map:this.textures[0]})}getCommonUniformsInfo(){const{stroke:t="#fff",strokeWidth:n=0,halo:r=.5,gamma:i=2,raisingHeight:a=0}=this.layer.getLayerConfig(),o=this.getFontServiceMapping(),s=this.getFontServiceCanvas();o&&Object.keys(o).length!==this.textCount&&s&&(this.updateTexture(),this.textCount=Object.keys(o).length),this.preTextStyle=this.getTextStyle();const l={u_stroke_color:ga(t),u_sdf_map_size:[(s==null?void 0:s.width)||1,(s==null?void 0:s.height)||1],u_raisingHeight:Number(a),u_stroke_width:n,u_gamma_scale:i,u_halo_blur:r};return this.getUniformsBufferInfo(l)}initModels(){var t=this;return Ut(function*(){return t.bindEvent(),t.extent=t.textExtent(),t.rawEncodeData=t.layer.getEncodedData(),t.preTextStyle=t.getTextStyle(),t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){const{textAllowOverlap:n=!1}=t.layer.getLayerConfig();return t.initGlyph(),t.updateTexture(),n||t.filterGlyphs(),[yield t.layer.buildLayerModel({moduleName:"pointText",vertexShader:Ufe,fragmentShader:Ffe,defines:t.getDefines(),inject:t.getInject(),triangulation:Vfe.bind(t),depth:{enable:!1}})]})()}needUpdate(){var t=this;return Ut(function*(){const{textAllowOverlap:n=!1,textAnchor:r="center",textOffset:i,padding:a,fontFamily:o,fontWeight:s}=t.getTextStyle();if(!HA(a,t.preTextStyle.padding)||!HA(i,t.preTextStyle.textOffset)||!HA(r,t.preTextStyle.textAnchor)||!HA(o,t.preTextStyle.fontFamily)||!HA(s,t.preTextStyle.fontWeight))return yield t.mapping(),!0;if(n)return!1;const l=t.mapService.getZoom(),u=t.mapService.getBounds(),c=b2e(t.extent,u);return Math.abs(t.currentZoom-l)>.5||!c||n!==t.preTextStyle.textAllowOverlap?(yield t.reBuildModel(),!0):!1})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.layer.off("remapping",this.mapping)}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:Qn.Attribute,descriptor:{shaderLocation:this.attributeLocation.TEXT_OFFSETS,name:"a_textOffsets",buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:2,update:(t,n,r)=>[r[5],r[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:Qn.Attribute,descriptor:{name:"a_tex",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:(t,n,r)=>[r[3],r[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=12}=t;return Array.isArray(n)?[n[0]]:[n]}}})}bindEvent(){this.layer.isTileLayer||this.layer.on("remapping",this.mapping)}textExtent(){const t=this.mapService.getBounds();return Ej(t,.5)}initTextFont(){const{fontWeight:t,fontFamily:n}=this.getTextStyle(),r=this.rawEncodeData,i=[];r.forEach(a=>{let{shape:o=""}=a;o=o.toString();for(const s of o)i.indexOf(s)===-1&&i.push(s)}),this.fontService.setFontOptions({characterSet:i,fontWeight:t,fontFamily:n,iconfont:!1})}initIconFontTex(){const{fontWeight:t,fontFamily:n}=this.getTextStyle(),r=this.rawEncodeData,i=[];r.forEach(a=>{let{shape:o=""}=a;o=`${o}`,i.indexOf(o)===-1&&i.push(o)}),this.fontService.setFontOptions({characterSet:i,fontWeight:t,fontFamily:n,iconfont:!0})}getTextStyle(){const{fontWeight:t="400",fontFamily:n="sans-serif",textAllowOverlap:r=!1,padding:i=[0,0],textAnchor:a="center",textOffset:o=[0,0],opacity:s=1,strokeOpacity:l=1,strokeWidth:u=0,stroke:c="#000"}=this.layer.getLayerConfig();return{fontWeight:t,fontFamily:n,textAllowOverlap:r,padding:i,textAnchor:a,textOffset:o,opacity:s,strokeOpacity:l,strokeWidth:u,stroke:c}}generateGlyphLayout(t){const n=this.getFontServiceMapping(),{spacing:r=2,textAnchor:i="center",textOffset:a}=this.layer.getLayerConfig(),o=this.rawEncodeData;this.glyphInfo=o.map(s=>{const{shape:l="",id:u,size:c=1}=s,f=s.textOffset?s.textOffset:a||[0,0],d=s.textAnchor?s.textAnchor:i||"center",h=p6t(l.toString(),n,c,d,"left",r,f,t),p=v6t(h,f);return s.shaping=h,s.glyphQuads=p,s.centroid=Ey(s.coordinates),this.glyphInfoMap[u]={shaping:h,glyphQuads:p,centroid:Ey(s.coordinates)},s})}getFontServiceMapping(){const{fontWeight:t="400",fontFamily:n="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getMappingByKey(`${n}_${t}`)}getFontServiceCanvas(){const{fontWeight:t="400",fontFamily:n="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getCanvasByKey(`${n}_${t}`)}filterGlyphs(){const{padding:t=[0,0],textAllowOverlap:n=!1}=this.layer.getLayerConfig();if(n)return;this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();const{width:r,height:i}=this.rendererService.getViewportSize(),a=new f6t(r,i);this.glyphInfo.filter(s=>{const{shaping:l,id:u=0}=s,c=s.centroid,d=s.size/16,h=this.mapService.lngLatToContainer(c),{box:p}=a.placeCollisionBox({x1:l.left*d-t[0],x2:l.right*d+t[0],y1:l.top*d-t[1],y2:l.bottom*d+t[1],anchorPointX:h.x,anchorPointY:h.y});return p&&p.length?(a.insertCollisionBox(p,u),!0):!1}).forEach(s=>{this.glyphInfoMap[s.id]=s})}initGlyph(){const{iconfont:t=!1}=this.layer.getLayerConfig();t?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(t)}updateTexture(){const{createTexture2D:t}=this.rendererService,n=this.getFontServiceCanvas();this.textureHeight=n.height,this.texture&&this.texture.destroy(),this.texture=t({data:n,mag:ie.LINEAR,min:ie.LINEAR,width:n.width,height:n.height}),this.textures=[this.texture]}reBuildModel(){var t=this;return Ut(function*(){t.filterGlyphs();const n=yield t.layer.buildLayerModel({moduleName:"pointText",vertexShader:Ufe,fragmentShader:Ffe,triangulation:Vfe.bind(t),defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1}});t.layer.models=[n]})()}}const g6t={fillImage:n6t,fill:cwe,radar:u6t,image:fwe,normal:dwe,simplePoint:$Bt,extrude:uwe,text:vwe,earthFill:KBt,earthExtrude:jBt};class Tg extends Kx{constructor(...t){super(...t),fe(this,"type","PointLayer"),fe(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","rotation"]),fe(this,"enableDataEncodeStyles",["textOffset","textAnchor"]),fe(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json",x:"lng",y:"lat"}}})}buildModels(){var t=this;return Ut(function*(){const n=t.getModelType();t.layerModel&&t.layerModel.clearModels(),t.layerModel=new g6t[n](t),yield t.initLayerModels()})()}rebuildModels(){var t=this;return Ut(function*(){yield t.buildModels()})()}getModelTypeWillEmptyData(){if(this.shapeOption){const{field:t,values:n}=this.shapeOption,{shape2d:r}=this.getLayerConfig(),i=this.iconService.getIconMap();if(t&&(r==null?void 0:r.indexOf(t))!==-1)return"fill";if(n==="text")return"text";if(n&&n instanceof Array){for(const a of n)if(typeof a=="string"&&i.hasOwnProperty(a))return"image"}}return"normal"}getDefaultConfig(){const t=this.getModelType();return{fillImage:{},normal:{blend:"additive"},radar:{},simplePoint:{},fill:{blend:"normal"},extrude:{},image:{},text:{blend:"normal"},tile:{},tileText:{},earthFill:{},earthExtrude:{}}[t]}getModelType(){const t=this.getEncodedData(),{shape2d:n,shape3d:r,billboard:i=!0}=this.getLayerConfig(),a=this.iconService.getIconMap(),o=t.find(s=>s.hasOwnProperty("shape"));if(o){const s=o.shape;return s==="dot"?"normal":s==="simple"?"simplePoint":s==="radar"?"radar":this.layerType==="fillImage"||i===!1?"fillImage":(n==null?void 0:n.indexOf(s))!==-1?this.mapService.version==="GLOBEL"?"earthFill":"fill":(r==null?void 0:r.indexOf(s))!==-1?this.mapService.version==="GLOBEL"?"earthExtrude":"extrude":a.hasOwnProperty(s)?"image":"text"}else return this.getModelTypeWillEmptyData()}}function m6t(e){return Ez.apply(this,arguments)}function Ez(){return Ez=Ut(function*(e){if(window.createImageBitmap){const t=yield fetch(e);return yield createImageBitmap(yield t.blob())}else{const t=new window.Image;return new Promise(n=>{t.onload=()=>n(t),t.src=e,t.crossOrigin="Anonymous"})}}),Ez.apply(this,arguments)}const y6t=`layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {

     // top face
    if(u_topsurface < 1.0) {
      discard;
    }

    outputColor = v_Color;
  
  outputColor = filterColor(outputColor);
}
`,_6t=`
layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
in vec3 v_uvs;
in vec2 v_texture_data;
out vec4 outputColor;

#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  float isSide =  v_texture_data.x;
  float sidey = v_uvs[2];
  float lightWeight = v_texture_data.y;

  // Tip: 部分机型 GPU 计算精度兼容
  if(isSide < 0.999) {
    // side face
    if(u_sidesurface < 1.0) {
      discard;
    }
    
    if( u_linearColor == 1.0) {
      // side use linear
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      outputColor = linearColor;
    } else {
      // side notuse linear
       outputColor = v_Color;
    }
  } else {
    // top face
    if(u_topsurface < 1.0) {
      discard;
    }
    outputColor = v_Color;
  }

  outputColor = filterColorAlpha(outputColor, lightWeight);
}
`,b6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;
out vec3 v_uvs;
out vec2 v_texture_data;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  v_uvs = a_uvs;
  // cal style mapping - 数据纹理映射部分的计算
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos, a_Position64Low);

  if (u_heightfixed > 0.0) {
    // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  float lightWeight = calc_lighting(project_pos);
  v_texture_data = vec2(a_Position.z, lightWeight);

  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);

  setPickingColor(a_PickingColor);
}
`,x6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  float isSide = a_Position.z;
  float topU = a_uvs[0];
  float topV = 1.0 - a_uvs[1];
  float sidey = a_uvs[2];

  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);

  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);

  if (u_heightfixed > 0.0) {
    // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

 gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  // Tip: 部分机型 GPU 计算精度兼容
  if (isSide < 0.999) {
    // side face
    // if(u_sidesurface < 1.0) {
    //   discard;
    // }

    if (u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      v_Color = linearColor;
    } else {
      v_Color = a_Color;
    }

  } else {
    v_Color = a_Color;
  }

  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);

  setPickingColor(a_PickingColor);
}
`,S6t=`uniform sampler2D u_texture;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
in vec3 v_uvs;
in vec2 v_texture_data;

#pragma include "scene_uniforms"
#pragma include "picking"

out vec4 outputColor;

void main() {
  float opacity = u_opacity;
  float isSide = v_texture_data.x;
  float lightWeight = v_texture_data.y;
  float topU = v_uvs[0];
  float topV = 1.0 - v_uvs[1];
  float sidey = v_uvs[2];

  outputColor = texture(SAMPLER_2D(u_texture), vec2(topU, topV));
  // Tip: 部分机型 GPU 计算精度兼容
  if (isSide < 0.999) {// 是否是边缘
    // side face
    if (u_sidesurface < 1.0) {
      discard;
    }

    if (u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      outputColor = linearColor;
    } else {
      outputColor = v_Color;
    }
  } else {
     // top face
    if (u_topsurface < 1.0) {
      discard;
    }
  }
  
  outputColor.a *= opacity;
  outputColor = filterColor(outputColor);
}
`,A6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;
out vec3 v_uvs;
out vec2 v_texture_data;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);
  v_uvs = a_uvs;
  v_Color = a_Color;
  v_Color.a *= opacity;

  v_texture_data = vec2(a_Position.z, lightWeight);

  if (u_heightfixed > 0.0) {
    // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}
`;class E6t extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,UV:11})}getUninforms(){const t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Pt(Pt({},t.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){const{mapTexture:t,heightfixed:n=!1,raisingHeight:r=0,topsurface:i=!0,sidesurface:a=!0,sourceColor:o,targetColor:s}=this.layer.getLayerConfig();let l=0,u=[1,1,1,1],c=[1,1,1,1];o&&s&&(u=ga(o),c=ga(s),l=1);const f={u_sourceColor:u,u_targetColor:c,u_linearColor:l,u_topsurface:Number(i),u_sidesurface:Number(a),u_heightfixed:Number(n),u_raisingHeight:Number(r)};return t&&this.texture&&(f.u_texture=this.texture,this.textures=[this.texture]),this.getUniformsBufferInfo(f)}initModels(){var t=this;return Ut(function*(){return yield t.loadTexture(),t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){const{frag:n,vert:r,type:i}=t.getShaders();return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:i,vertexShader:r,fragmentShader:n,depth:{enable:!0},defines:t.getDefines(),inject:t.getInject(),triangulation:swe})]})()}getShaders(){const{pickLight:t,mapTexture:n}=this.layer.getLayerConfig();return n?{frag:S6t,vert:A6t,type:"polygonExtrudeTexture"}:t?{frag:_6t,vert:b6t,type:"polygonExtrudePickLight"}:{frag:y6t,vert:x6t,type:"polygonExtrude"}}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.textures=[]}registerBuiltinAttributes(){const t=this.layer.getSource().extent,n=t[2]-t[0],r=t[3]-t[1];this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uvs",type:Qn.Attribute,descriptor:{name:"a_uvs",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(i,a,o)=>{const s=o[0],l=o[1];return[(s-t[0])/n,(l-t[1])/r,o[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Qn.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(i,a,o,s,l)=>l}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:i=>{const{size:a=10}=i;return Array.isArray(a)?[a[0]]:[a]}}})}loadTexture(){var t=this;return Ut(function*(){const{mapTexture:n}=t.layer.getLayerConfig(),{createTexture2D:r}=t.rendererService;if(t.texture=r({height:1,width:1}),n){const i=yield m6t(n);t.texture=r({data:i,width:i.width,height:i.height,wrapS:ie.CLAMP_TO_EDGE,wrapT:ie.CLAMP_TO_EDGE,min:ie.LINEAR,mag:ie.LINEAR})}})()}}const T6t=`
in vec4 v_Color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {

  outputColor = v_Color;
  outputColor = filterColor(outputColor);
}
`,w6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

out vec4 v_Color;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size + (1.0 - a_Position.z) * extrusionBase, 1.0);

  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);
  v_Color = a_Color;
  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}
`;class C6t extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,EXTRUSION_BASE:11})}getUninforms(){const t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Pt(Pt({},t.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){const t={};return this.getUniformsBufferInfo(t)}initModels(){var t=this;return Ut(function*(){return t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){const{frag:n,vert:r,type:i}=t.getShaders();return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:i,vertexShader:r,fragmentShader:n,defines:t.getDefines(),inject:t.getInject(),triangulation:swe,depth:{enable:!0}})]})()}getShaders(){return{frag:T6t,vert:w6t,type:"polygonExtrude"}}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Qn.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(t,n,r,i,a)=>a}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Qn.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{size:n=10}=t;return Array.isArray(n)?[n[0]]:[n]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrusionBase",type:Qn.Attribute,descriptor:{name:"a_ExtrusionBase",shaderLocation:this.attributeLocation.EXTRUSION_BASE,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:1,update:t=>{const{extrusionBase:n=0}=t;return[n]}}})}}const R6t=`in vec4 v_color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,I6t=`
layout(std140) uniform commonUniforms {
  float u_raisingHeight;
  float u_opacitylinear;
  float u_dir;
};

in vec4 v_color;
in vec3 v_linear;
in vec2 v_pos;
out vec4 outputColor;
#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  outputColor = v_color;
  if (u_opacitylinear > 0.0) {
    outputColor.a *= u_dir == 1.0 ? 1.0 - length(v_pos - v_linear.xy)/v_linear.z : length(v_pos - v_linear.xy)/v_linear.z;
  }
  outputColor = filterColor(outputColor);
}
`,M6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_LINEAR) in vec3 a_linear;

layout(std140) uniform commonUniforms {
  float u_raisingHeight;
  float u_opacitylinear;
  float u_dir;
};

out vec4 v_color;
out vec3 v_linear;
out vec2 v_pos;

#pragma include "projection"
#pragma include "picking"

void main() {
  if (u_opacitylinear > 0.0) {
    v_linear = a_linear;
    v_pos = a_Position.xy;
  }
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  project_pos.z += u_raisingHeight;

  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  setPickingColor(a_PickingColor);
}
`,O6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;

layout(std140) uniform commonUniforms {
  float u_raisingHeight;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - 数据纹理映射部分的计算

  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);

  project_pos.z += u_raisingHeight;

  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}

`;class D6t extends Ra{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,LINEAR:9})}getUninforms(){const t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Pt(Pt({},t.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){const{raisingHeight:t=0,opacityLinear:n={enable:!1,dir:"in"}}=this.layer.getLayerConfig(),r={u_raisingHeight:Number(t),u_opacitylinear:Number(n.enable),u_dir:n.dir==="in"?1:0};return this.getUniformsBufferInfo(r)}initModels(){var t=this;return Ut(function*(){return t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){const{frag:n,vert:r,triangulation:i,type:a}=t.getModelParams();return t.initUniformsBuffer(),t.layer.triangulation=i,[yield t.layer.buildLayerModel({moduleName:a,vertexShader:r,fragmentShader:n,defines:t.getDefines(),inject:t.getInject(),triangulation:i,primitive:ie.TRIANGLES,depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute();const{opacityLinear:t={enable:!1,dir:"in"}}=this.layer.getLayerConfig();t.enable&&this.styleAttributeService.registerStyleAttribute({name:"linear",type:Qn.Attribute,descriptor:{name:"a_linear",shaderLocation:this.attributeLocation.LINEAR,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:3,update:(n,r,i)=>[i[3],i[4],i[5]]}})}getModelParams(){const{opacityLinear:t={enable:!1}}=this.layer.getLayerConfig();return t.enable?{frag:I6t,vert:M6t,type:"polygonLinear",triangulation:JNt}:{frag:R6t,vert:O6t,type:"polygonFill",triangulation:Pw}}}const P6t=`
layout(std140) uniform commonUniforms {
  vec4 u_watercolor;
  vec4 u_watercolor2;
  float u_time;
};

in vec2 v_uv;
in float v_opacity;
out vec4 outputColor;

float coast2water_fadedepth = 0.10;
float large_waveheight      = .750; // change to adjust the "heavy" waves
float large_wavesize        = 3.4;  // factor to adjust the large wave size
float small_waveheight      = 0.6;  // change to adjust the small random waves
float small_wavesize        = 0.5;   // factor to ajust the small wave size
float water_softlight_fact  = 15.;  // range [1..200] (should be << smaller than glossy-fact)
float water_glossylight_fact= 120.; // range [1..200]
float particle_amount       = 70.;

vec3 water_specularcolor    = vec3(1.3, 1.3, 0.9);    // specular Color (RGB) of the water-highlights
#define light                 vec3(-0., sin(u_time*0.5)*.5 + .35, 2.8) // position of the sun

uniform sampler2D u_texture1;
uniform sampler2D u_texture2;
uniform sampler2D u_texture3;

  

float hash( float n ) {
    return fract(sin(n)*43758.5453123);
}

// 2d noise function
float noise1( in vec2 x ) {
  vec2 p  = floor(x);
  vec2 f  = smoothstep(0.0, 1.0, fract(x));
  float n = p.x + p.y*57.0;
  return mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),
    mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);
}

float noise(vec2 p) {
    return texture(SAMPLER_2D(u_texture2),p*vec2(1./256.)).x;
}

vec4 highness(vec2 p) {
    vec4 t = texture(SAMPLER_2D(u_texture1),fract(p));
    float clipped = -2.0-smoothstep(3.,10.,t.a)*6.9-smoothstep(10.,100.,t.a)*89.9-smoothstep(0.,10000.,t.a)*10000.0;
    return clamp(t, 0.0,3.0)+clamp(t/3.0-1.0, 0.0,1.0)+clamp(t/16.0-1.0, 0.0,1.0);
}

float height_map( vec2 p ) {
    vec4 height=highness(p);
    /*
    height = -0.5+
        0.5*smoothstep(-100.,0.,-height)+
        2.75*smoothstep(0.,2.,height)+
        1.75*smoothstep(2.,4.,height)+
        2.75*smoothstep(4.,16.,height)+
        1.5*smoothstep(16.,1000.,height);
    */

    mat2 m = mat2( 0.9563*1.4,  -0.2924*1.4,  0.2924*1.4,  0.9563*1.4 );
    //p = p*6.;
    float f = 0.6000*noise1( p ); p = m*p*1.1*6.;
    f += 0.2500*noise( p ); p = m*p*1.32;
    f += 0.1666*noise( p ); p = m*p*1.11;
    f += 0.0834*noise( p ); p = m*p*1.12;
    f += 0.0634*noise( p ); p = m*p*1.13;
    f += 0.0444*noise( p ); p = m*p*1.14;
    f += 0.0274*noise( p ); p = m*p*1.15;
    f += 0.0134*noise( p ); p = m*p*1.16;
    f += 0.0104*noise( p ); p = m*p*1.17;
    f += 0.0084*noise( p );
    f = .25*f+dot(height,vec4(-.03125,-.125,.25,.25))*.5;
        const float FLAT_LEVEL = 0.92525;
        //f = f*0.25+height*0.75;
    if (f<FLAT_LEVEL)
        f = f;
    else
        f = pow((f-FLAT_LEVEL)/(1.-FLAT_LEVEL), 2.)*(1.-FLAT_LEVEL)*2.0+FLAT_LEVEL; // makes a smooth coast-increase
    return clamp(f, 0., 10.);
}

vec3 plasma_quintic( float x ) {
    x = clamp( x, 0.0, 1.0);
    vec4 x1 = vec4( 1.0, x, x * x, x * x * x ); // 1 x x2 x3
    vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7
    return vec3(
        dot( x1.xyzw, vec4( +0.063861086, +1.992659096, -1.023901152, -0.490832805 ) ) + dot( x2.xy, vec2( +1.308442123, -0.914547012 ) ),
        dot( x1.xyzw, vec4( +0.049718590, -0.791144343, +2.892305078, +0.811726816 ) ) + dot( x2.xy, vec2( -4.686502417, +2.717794514 ) ),
        dot( x1.xyzw, vec4( +0.513275779, +1.580255060, -5.164414457, +4.559573646 ) ) + dot( x2.xy, vec2( -1.916810682, +0.570638854 ) ) );
}

vec4 color(vec2 p){
    vec4 c1 = vec4(1.7,1.6,.9,1);
    vec4 c2 = vec4(.2,.94,.1,1);
    vec4 c3 = vec4(.3,.2,.0,1);
    vec4 c4 = vec4(.99,.99,1.6,1);
    vec4 v = highness(p);
    float los = smoothstep(0.1,1.1,v.b);
    float his = smoothstep(3.5,6.5,v.b);
    float ces = smoothstep(1.,5.,v.a);
    vec4 lo = mix(c1,c2,los);
    vec4 hi = mix(c3,c4,his);
    vec4 ce = mix(lo,hi,ces);

    return vec4(plasma_quintic(ces),1).ragb;
}

vec3 terrain_map( vec2 p )
{
  return color(p).rgb*0.75+0.25*vec3(0.7, .55, .4)+texture(SAMPLER_2D(u_texture3), fract(p*5.)).rgb*.5; // test-terrain is simply 'sandstone'
}

const mat2 m = mat2( 0.72, -1.60,  1.60,  0.72 );

float water_map( vec2 p, float height ) {
    vec2 p2 = p*large_wavesize;
    vec2 shift1 = 0.001*vec2( u_time*160.0*2.0, u_time*120.0*2.0 );
    vec2 shift2 = 0.001*vec2( u_time*190.0*2.0, -u_time*130.0*2.0 );

    // coarse crossing 'ocean' waves...
    float f = 0.6000*noise( p );
    f += 0.2500*noise( p*m );
    f += 0.1666*noise( p*m*m );
    float wave = sin(p2.x*0.622+p2.y*0.622+shift2.x*4.269)*large_waveheight*f*height*height ;

    p *= small_wavesize;
    f = 0.;
    float amp = 1.0, s = .5;
    for (int i=0; i<9; i++)
    { p = m*p*.947; f -= amp*abs(sin((noise( p+shift1*s )-.5)*2.)); amp = amp*.59; s*=-1.329; }
    
    return wave+f*small_waveheight;
}

float nautic(vec2 p) {
    p *= 18.;
    float f = 0.;
    float amp = 1.0, s = .5;
    for (int i=0; i<3; i++)
    { p = m*p*1.2; f += amp*abs(smoothstep(0., 1., noise( p+u_time*s ))-.5); amp = amp*.5; s*=-1.227; }
    return pow(1.-f, 5.);
}

float particles(vec2 p) {
    p *= 200.;
    float f = 0.;
    float amp = 1.0, s = 1.5;
    for (int i=0; i<3; i++)
    { p = m*p*1.2; f += amp*noise( p+u_time*s ); amp = amp*.5; s*=-1.227; }
    return pow(f*.35, 7.)*particle_amount;
}

float test_shadow( vec2 xy, float height) {
    vec3 r0 = vec3(xy, height);
    vec3 rd = normalize( light - r0 );
    
    float hit = 1.0;
    float t   = 0.001;
    for (int j=1; j<25; j++)
    {
        vec3 p = r0 + t*rd;
        float h = height_map( p.xy );
        float height_diff = p.z - h;
        if (height_diff<0.0)
        {
            return 0.0;
        }
        t += 0.01+height_diff*.02;
        hit = min(hit, 2.*height_diff/t); // soft shaddow   
    }
    return hit;
}

vec3 CalcTerrain(vec2 uv, float height) {
    vec3 col = terrain_map( uv );
    vec2 iResolution = vec2(512.);
    float h1 = height_map(uv-vec2(0., 0.5)/ iResolution.xy);
    float h2 = height_map(uv+vec2(0., 0.5)/ iResolution.xy);
    float h3 = height_map(uv-vec2(0.5, 0.)/ iResolution.xy);
    float h4 = height_map(uv+vec2(0.5, 0.)/ iResolution.xy);
    vec3 norm = normalize(vec3(h3-h4, h1-h2, 1.));
    vec3 r0 = vec3(uv, height);
    vec3 rd = normalize( light - r0 );
    float grad = dot(norm, rd);
    col *= grad+pow(grad, 8.);
    float terrainshade = test_shadow( uv, height );
    col = mix(col*.25, col, terrainshade);
    return col;
}


void main() {
  vec3 watercolor = u_watercolor.rgb;
  vec3 watercolor2 = u_watercolor2.rgb;
  vec2 uv = v_uv;
  float WATER_LEVEL = 0.84; // Water level (range: 0.0 - 2.0)
  float deepwater_fadedepth   = 0.4 + coast2water_fadedepth;
  float height = height_map( uv );
  vec3 col;

    float waveheight = clamp(WATER_LEVEL*3.-1.5, 0., 1.);
    float level = WATER_LEVEL + .2*water_map(uv*15. + vec2(u_time*.1), waveheight);
    if (height > level)
    {
        col = CalcTerrain(uv, height);
    }
    if (height <= level)
    {
        vec2 dif = vec2(.0, .01);
        vec2 pos = uv*15. + vec2(u_time*.01);
        float h1 = water_map(pos-dif,waveheight);
        float h2 = water_map(pos+dif,waveheight);
        float h3 = water_map(pos-dif.yx,waveheight);
        float h4 = water_map(pos+dif.yx,waveheight);
        vec3 normwater = normalize(vec3(h3-h4, h1-h2, .125)); // norm-vector of the 'bumpy' water-plane
        uv += normwater.xy*.002*(level-height);
        
        col = CalcTerrain(uv, height);

        float coastfade = clamp((level-height)/coast2water_fadedepth, 0., 1.);
        float coastfade2= clamp((level-height)/deepwater_fadedepth, 0., 1.);
        float intensity = col.r*.2126+col.g*.7152+col.b*.0722;
        watercolor = mix(watercolor*intensity, watercolor2, smoothstep(0., 1., coastfade2));

        vec3 r0 = vec3(uv, WATER_LEVEL);
        vec3 rd = normalize( light - r0 ); // ray-direction to the light from water-position
        float grad     = dot(normwater, rd); // dot-product of norm-vector and light-direction
        float specular = pow(grad, water_softlight_fact);  // used for soft highlights                          
        float specular2= pow(grad, water_glossylight_fact); // used for glossy highlights
        float gradpos  = dot(vec3(0., 0., 1.), rd);
        float specular1= smoothstep(0., 1., pow(gradpos, 5.));  // used for diffusity (some darker corona around light's specular reflections...)                          
        float watershade  = test_shadow( uv, level );
        watercolor *= 2.2+watershade;
        watercolor += (.2+.8*watershade) * ((grad-1.0)*.5+specular) * .25;
        watercolor /= (1.+specular1*1.25);
        watercolor += watershade*specular2*water_specularcolor;
        watercolor += watershade*coastfade*(1.-coastfade2)*(vec3(.5, .6, .7)*nautic(uv)+vec3(1., 1., 1.)*particles(uv));
        
        col = mix(col, watercolor, coastfade);
    }
    
  outputColor = vec4(col, v_opacity);  
}
`,L6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;

layout(std140) uniform commonUniforms {
  vec4 u_watercolor;
  vec4 u_watercolor2;
  float u_time;
};

out vec2 v_uv;
out float v_opacity;

#pragma include "projection"

void main() {
  v_uv = a_uv;
  v_opacity = opacity;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`;class N6t extends Ra{constructor(...t){super(...t),fe(this,"texture1",void 0),fe(this,"texture2",void 0),fe(this,"texture3",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Pt(Pt({},t.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){const{watercolor:t="#6D99A8",watercolor2:n="#0F121C"}=this.layer.getLayerConfig(),r={u_watercolor:ga(t),u_watercolor2:ga(n),u_time:this.layer.getLayerAnimateTime(),u_texture1:this.texture1,u_texture2:this.texture2,u_texture3:this.texture3};return this.textures=[this.texture1,this.texture2,this.texture3],this.getUniformsBufferInfo(r)}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var t=this;return Ut(function*(){return t.loadTexture(),t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"polygonOcean",vertexShader:L6t,fragmentShader:P6t,defines:t.getDefines(),inject:t.getInject(),triangulation:Pw,primitive:ie.TRIANGLES,depth:{enable:!1}})]})()}clearModels(){var t,n,r;(t=this.texture1)===null||t===void 0||t.destroy(),(n=this.texture2)===null||n===void 0||n.destroy(),(r=this.texture3)===null||r===void 0||r.destroy()}registerBuiltinAttributes(){const t=this.layer.getSource().extent,[n,r,i,a]=t,o=i-n,s=a-r;this.styleAttributeService.registerStyleAttribute({name:"oceanUv",type:Qn.Attribute,descriptor:{name:"a_uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:2,update:(l,u,c)=>{const[f,d]=c;return[(f-n)/o,(d-r)/s]}}})}loadTexture(){const{createTexture2D:t}=this.rendererService,n={height:0,width:0};this.texture1=t(n),this.texture2=t(n),this.texture3=t(n),r(a=>{this.texture1=i(a[0]),this.texture2=i(a[1]),this.texture3=i(a[2]),this.layerService.reRender()});function r(a){let o=0;const s=[];["https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*MJ22QbpuCzIAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*-z2HSIVDsHIAAAAAAAAAAAAAARQnAQ"].map(u=>{const c=new Image;c.crossOrigin="",c.src=u,s.push(c),c.onload=()=>{o++,o===3&&a(s)}})}function i(a){return t({data:a,width:a.width,height:a.height,wrapS:ie.MIRRORED_REPEAT,wrapT:ie.MIRRORED_REPEAT,min:ie.LINEAR,mag:ie.LINEAR})}}}const B6t=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
  float u_speed;
  float u_time;
};

out vec4 outputColor;


in vec4 v_Color;
in vec2 v_uv;

float rand(vec2 n) { return 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453); }

float water(vec3 p) {
  float t = u_time * u_speed;
  p.z += t * 2.; p.x += t * 2.;
  vec3 c1 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  p.z += t * 3.; p.x += t * 0.52;
  vec3 c2 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  p.z += t * 4.; p.x += t * 0.8;
  vec3 c3 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  c1 += c2 - c3;
  float z = (c1.x + c1.y + c1.z) / 3.;
  return p.y + z / 4.;
}

float map(vec3 p) {
  float d = 100.0;
  d = water(p);
  return d;
}

float intersect(vec3 ro, vec3 rd) {
  float d = 0.0;
  for (int i = 0; i <= 100; i++) {
    float h = map(ro + rd * d);
    if (h < 0.1) return  d;
    d += h;
  }
  return 0.0;
}

vec3 norm(vec3 p) {
  float eps = .1;
  return normalize(vec3(
    map(p + vec3(eps, 0, 0)) - map(p + vec3(-eps, 0, 0)),
    map(p + vec3(0, eps, 0)) - map(p + vec3(0, -eps, 0)),
    map(p + vec3(0, 0, eps)) - map(p + vec3(0, 0, -eps))
  ));
} 

float calSpc() {
  vec3 l1 = normalize(vec3(1, 1, 1));
  vec3 ro = vec3(-3, 20, -8);
  vec3 rc = vec3(0, 0, 0);
  vec3 ww = normalize(rc - ro);
  vec3 uu = normalize(cross(vec3(0,1,0), ww));
  vec3 vv = normalize(cross(rc - ro, uu));
  vec3 rd = normalize(uu * v_uv.x + vv * v_uv.y + ww);
  float d = intersect(ro, rd);
  vec3 p = ro + rd * d;
  vec3 n = norm(p);
  float spc = pow(max(0.0, dot(reflect(l1, n), rd)), 30.0);
  return spc;
}

void main() {

  outputColor = v_Color;
  float spc = calSpc();
  outputColor += spc * 0.4;
}
`,k6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;

layout(std140) uniform commonUniforms {
  float u_speed;
  float u_time;
};
out vec4 v_Color;
out vec2 v_uv;

#pragma include "projection"

void main() {
  v_uv = a_uv;
  v_Color = a_Color;
  v_Color.a *= opacity;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`;class F6t extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Pt(Pt({},t.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){const{speed:t=.5}=this.layer.getLayerConfig(),n={u_speed:t,u_time:this.layer.getLayerAnimateTime(),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(n)}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var t=this;return Ut(function*(){return t.loadTexture(),t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"polygonWater",vertexShader:k6t,fragmentShader:B6t,triangulation:Pw,defines:t.getDefines(),inject:t.getInject(),primitive:ie.TRIANGLES,depth:{enable:!1},pickingEnabled:!1,diagnosticDerivativeUniformityEnabled:!1})]})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){const t=this.layer.getSource().extent,[n,r,i,a]=t,o=i-n,s=a-r;this.styleAttributeService.registerStyleAttribute({name:"waterUv",type:Qn.Attribute,descriptor:{name:"a_uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.STATIC_DRAW,data:[],type:ie.FLOAT},size:2,update:(l,u,c)=>{const[f,d]=c;return[(f-n)/o,(d-r)/s]}}})}loadTexture(){const{waterTexture:t}=this.layer.getLayerConfig(),{createTexture2D:n}=this.rendererService;this.texture=n({height:1,width:1});const r=new Image;r.crossOrigin="",t?(console.warn("L7 recommend：https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ"),r.src=t):r.src="https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ",r.onload=()=>{this.texture=n({data:r,width:r.width,height:r.height,wrapS:ie.MIRRORED_REPEAT,wrapT:ie.MIRRORED_REPEAT,min:ie.LINEAR,mag:ie.LINEAR}),this.layerService.reRender()}}}const U6t={fill:D6t,line:lwe,extrude:E6t,text:vwe,point_fill:cwe,point_image:fwe,point_normal:dwe,point_extrude:uwe,water:F6t,ocean:N6t,extrusion:C6t};class gwe extends Kx{constructor(...t){super(...t),fe(this,"type","PolygonLayer"),fe(this,"enableShaderEncodeStyles",["opacity","extrusionBase","rotation","offsets","stroke"])}buildModels(){var t=this;return Ut(function*(){const n=t.getModelType();t.layerModel=new U6t[n](t),yield t.initLayerModels()})()}getModelType(){var t;const n=this.styleAttributeService.getLayerStyleAttribute("shape"),r=n==null||(t=n.scale)===null||t===void 0?void 0:t.field;return r==="fill"||!r?"fill":r==="extrude"?"extrude":r==="extrusion"?"extrusion":r==="water"?"water":r==="ocean"?"ocean":r==="line"?"line":this.getPointModelType()}getPointModelType(){const t=this.getEncodedData(),{shape2d:n,shape3d:r}=this.getLayerConfig(),i=this.iconService.getIconMap(),a=t.find(o=>o.hasOwnProperty("shape"));if(a){const o=a.shape;return o==="dot"?"point_normal":(n==null?void 0:n.indexOf(o))!==-1?"point_fill":(r==null?void 0:r.indexOf(o))!==-1?"point_extrude":i.hasOwnProperty(o)?"point_image":"text"}else return"fill"}}const V6t=`layout(std140) uniform commonUniforms {
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

uniform sampler2D u_rasterTexture;
uniform sampler2D u_colorTexture;

in vec2 v_texCoord;

bool isnan_emu(float x) { return (x > 0.0 || x < 0.0) ? x != x : x != 0.0; }

out vec4 outputColor;

void main() {
  // Can use any component here since u_rasterTexture is under luminance format.
  float value = texture(SAMPLER_2D(u_rasterTexture), vec2(v_texCoord.x, v_texCoord.y)).r;
  if (value == u_noDataValue || isnan_emu(value)) {
    discard;
  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {
    discard;
  } else {
    float normalisedValue =(value - u_domain[0]) / (u_domain[1] - u_domain[0]);
    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(normalisedValue, 0));
    
    outputColor = color;
    outputColor.a = outputColor.a * u_opacity ;
    if (outputColor.a < 0.01)
      discard;
  }
}
`,z6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

out vec2 v_texCoord;

#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;let zfe=class extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0),fe(this,"colorTexture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Pt(Pt({},t.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){const{opacity:t=1,clampLow:n=!0,clampHigh:r=!0,noDataValue:i=-9999999,domain:a,rampColors:o}=this.layer.getLayerConfig(),s=a||cj(o);this.colorTexture=this.layer.textureService.getColorTexture(o,s);const l={u_domain:s,u_opacity:t||1,u_noDataValue:i,u_clampLow:n?1:0,u_clampHigh:(typeof r<"u"?r:n)?1:0,u_rasterTexture:this.texture,u_colorTexture:this.colorTexture};return this.textures=[this.texture,this.colorTexture],this.getUniformsBufferInfo(l)}getRasterData(t){return Ut(function*(){if(Array.isArray(t.data))return{data:t.data,width:t.width,height:t.height};{const{rasterData:n,width:r,height:i}=yield t.data;return{data:Array.from(n),width:r,height:i}}})()}initModels(){var t=this;return Ut(function*(){return t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){t.initUniformsBuffer();const n=t.layer.getSource(),{createTexture2D:r,queryVerdorInfo:i}=t.rendererService,a=n.data.dataArray[0],{data:o,width:s,height:l}=yield t.getRasterData(a);return t.texture=r({data:new Float32Array(o),width:s,height:l,format:i()==="WebGL1"?ie.LUMINANCE:ie.RED,type:ie.FLOAT,alignment:1}),[yield t.layer.buildLayerModel({moduleName:"rasterImageData",vertexShader:z6t,fragmentShader:V6t,defines:t.getDefines(),triangulation:cL,primitive:ie.TRIANGLES,depth:{enable:!1},pickingEnabled:!1})]})()}clearModels(){var t,n;(t=this.texture)===null||t===void 0||t.destroy(),(n=this.colorTexture)===null||n===void 0||n.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{shaderLocation:this.attributeLocation.UV,name:"a_Uv",buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:(t,n,r)=>[r[3],r[4]]}})}};const $6t=["data"],H6t=["rasterData"],W6t=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
 vec2 u_rminmax;
 vec2 u_gminmax;
 vec2 u_bminmax;
 float u_opacity;
 float u_noDataValue;
};

in vec2 v_texCoord;

out vec4 outputColor;

void main() {

  vec3 rgb = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y)).rgb;

  if(rgb == vec3(u_noDataValue)) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else {
    outputColor = vec4(rgb.r / (u_rminmax.y -u_rminmax.x), rgb.g /(u_gminmax.y -u_gminmax.x), rgb.b/ (u_bminmax.y - u_bminmax.x), u_opacity);
  }

  if(outputColor.a < 0.01)
    discard;
 
}`,G6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_rminmax;
  vec2 u_gminmax;
  vec2 u_bminmax;
  float u_opacity;
  float u_noDataValue;
};

out vec2 v_texCoord;

#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;class j6t extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0),fe(this,"dataOption",{})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Pt(Pt({},t.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){const{opacity:t=1,noDataValue:n=0}=this.layer.getLayerConfig(),{rMinMax:r=[0,255],gMinMax:i=[0,255],bMinMax:a=[0,255]}=this.dataOption,o={u_rminmax:r,u_gminmax:i,u_bminmax:a,u_opacity:t||1,u_noDataValue:n,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(o)}getRasterData(t){var n=this;return Ut(function*(){if(Array.isArray(t.data)){const{data:o}=t,s=sh(t,$6t);return n.dataOption=s,Pt({data:o},s)}const r=yield t.data,{rasterData:i}=r,a=sh(r,H6t);return n.dataOption=a,Array.isArray(i)?Pt({data:i},a):Pt({data:Array.from(i)},a)})()}initModels(){var t=this;return Ut(function*(){t.initUniformsBuffer();const n=t.layer.getSource(),{createTexture2D:r}=t.rendererService,i=n.data.dataArray[0],{data:a,width:o,height:s}=yield t.getRasterData(i);return t.texture=r({data:new Float32Array(a),width:o,height:s,format:ie.RGB,type:ie.FLOAT}),[yield t.layer.buildLayerModel({moduleName:"rasterImageDataRGBA",vertexShader:G6t,fragmentShader:W6t,defines:t.getDefines(),triangulation:cL,primitive:ie.TRIANGLES,depth:{enable:!1},pickingEnabled:!1})]})()}buildModels(){var t=this;return Ut(function*(){return t.initModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:(t,n,r)=>[r[3],r[4]]}})}}const Y6t=`uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

layout(std140) uniform commonUniforms {
 vec4 u_unpack;
 vec2 u_domain;
 float u_opacity;
 float u_noDataValue;
 float u_clampLow;
 float u_clampHigh;
};

in vec2 v_texCoord;
out vec4 outputColor;


float getElevation(vec2 coord, float bias) {
    // Convert encoded elevation value to meters
    vec4 data =  texture(SAMPLER_2D(u_texture), coord,bias) * 255.0;
    data.a = -1.0;
    return dot(data, u_unpack);
}

vec4 getColor(float value) {
   float normalisedValue =(value- u_domain[0]) / (u_domain[1] - u_domain[0]);
    vec2 coord = vec2(normalisedValue, 0);
    return  texture(SAMPLER_2D(u_colorTexture), coord);
}

void main() {
  float value = getElevation(v_texCoord,0.0);
  if (value == u_noDataValue) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {
     outputColor = vec4(0.0, 0, 0, 0.0);
  } else {
   
    outputColor = getColor(value);
    outputColor.a =  outputColor.a * u_opacity ;
      if(outputColor.a < 0.01)
      discard;
  }
}
`,X6t=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec4 u_unpack;
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};
out vec2 v_texCoord;
#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;class K6t extends Ra{constructor(...t){super(...t),fe(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getCommonUniformsInfo(){const{opacity:t,clampLow:n=!0,clampHigh:r=!0,noDataValue:i=-9999999,domain:a,rampColors:o,colorTexture:s,rScaler:l=6553.6,gScaler:u=25.6,bScaler:c=.1,offset:f=1e4}=this.layer.getLayerConfig(),d=a||cj(o);let h=s;s?this.layer.textureService.setColorTexture(s,o,d):h=this.layer.textureService.getColorTexture(o,d);const p={u_unpack:[l,u,c,f],u_domain:d,u_opacity:t||1,u_noDataValue:i,u_clampLow:n,u_clampHigh:typeof r<"u"?r:n,u_texture:this.texture,u_colorTexture:h};return this.textures=[this.texture,h],this.getUniformsBufferInfo(p)}initModels(){var t=this;return Ut(function*(){t.initUniformsBuffer();const n=t.layer.getSource(),{createTexture2D:r}=t.rendererService,i=yield n.data.images;return t.texture=r({data:i[0],width:i[0].width,height:i[0].height,min:ie.LINEAR,mag:ie.LINEAR}),[yield t.layer.buildLayerModel({moduleName:"RasterTileDataImage",vertexShader:X6t,fragmentShader:Y6t,defines:t.getDefines(),triangulation:cL,primitive:ie.TRIANGLES,depth:{enable:!1}})]})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}buildModels(){var t=this;return Ut(function*(){return t.initModels()})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Qn.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:ie.DYNAMIC_DRAW,data:[],type:ie.FLOAT},size:2,update:(t,n,r)=>[r[3],r[4]]}})}}const q6t={raster:zfe,rasterRgb:j6t,raster3d:zfe,rasterTerrainRgb:K6t};class jj extends Kx{constructor(...t){super(...t),fe(this,"type","RasterLayer")}buildModels(){var t=this;return Ut(function*(){const n=t.getModelType();t.layerModel=new q6t[n](t),yield t.initLayerModels()})()}getDefaultConfig(){const t=this.getModelType();return{raster:{},rasterRgb:{},raster3d:{},rasterTerrainRgb:{}}[t]}getModelType(){switch(this.layerSource.getParserType()){case"raster":return"raster";case"rasterRgb":return"rasterRgb";case"rgb":return"rasterRgb";case"image":return"rasterTerrainRgb";default:return"raster"}}getLegend(t){if(t!=="color")return{type:void 0,field:void 0,items:[]};const n=this.getLayerConfig().rampColors;return nBt(n,t)}}class Z6t{constructor({rendererService:t,layerService:n,parent:r}){fe(this,"tileResource",new Map),fe(this,"rendererService",void 0),fe(this,"layerService",void 0),fe(this,"parent",void 0),fe(this,"layerTiles",[]),this.rendererService=t,this.layerService=n,this.parent=r}get tiles(){return this.layerTiles}hasTile(t){return this.layerTiles.some(n=>n.key===t)}addTile(t){this.layerTiles.push(t)}getTile(t){return this.layerTiles.find(n=>n.key===t)}getVisibleTileBylngLat(t){return this.layerTiles.find(n=>n.isLoaded&&n.visible&&n.lnglatInBounds(t))}removeTile(t){const n=this.layerTiles.findIndex(i=>i.key===t),r=this.layerTiles.splice(n,1);r[0]&&r[0].destroy()}updateTileVisible(t){const n=this.getTile(t.key);if(t.isVisible)if(t.parent){const r=this.isChildrenLoaded(t.parent);n==null||n.updateVisible(r)}else n==null||n.updateVisible(!0);else if(t.parent){const r=this.isChildrenLoaded(t.parent);n==null||n.updateVisible(!r)}else n==null||n.updateVisible(!1)}isParentLoaded(t){const n=t.parent;if(!n)return!0;const r=this.getTile(n==null?void 0:n.key);return!!(r!=null&&r.isLoaded)}isChildrenLoaded(t){const n=t==null?void 0:t.children;return n.length===0?!0:n.every(r=>{const i=this.getTile(r==null?void 0:r.key);return i?(i==null?void 0:i.isLoaded)===!0:!0})}render(){var t=this;return Ut(function*(){const r=t.getRenderLayers().map(function(){var i=Ut(function*(a){yield t.layerService.renderTileLayer(a)});return function(a){return i.apply(this,arguments)}}());yield Promise.all(r)})()}getRenderLayers(){const t=this.layerTiles.filter(r=>r.visible&&r.isLoaded),n=[];return t.map(r=>n.push(...r.getLayers())),n}getLayers(){const t=this.layerTiles.filter(r=>r.isLoaded),n=[];return t.map(r=>n.push(...r.getLayers())),n}getTiles(){return this.layerTiles}destroy(){this.layerTiles.forEach(t=>t.destroy()),this.tileResource.clear()}}/**
 * splaytree v3.1.2
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Q6t(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Yg=function(){function e(t,n){this.next=null,this.key=t,this.data=n,this.left=null,this.right=null}return e}();function J6t(e,t){return e>t?1:e<t?-1:0}function eg(e,t,n){for(var r=new Yg(null,null),i=r,a=r;;){var o=n(e,t.key);if(o<0){if(t.left===null)break;if(n(e,t.left.key)<0){var s=t.left;if(t.left=s.right,s.right=t,t=s,t.left===null)break}a.left=t,a=t,t=t.left}else if(o>0){if(t.right===null)break;if(n(e,t.right.key)>0){var s=t.right;if(t.right=s.left,s.left=t,t=s,t.right===null)break}i.right=t,i=t,t=t.right}else break}return i.right=t.left,a.left=t.right,t.left=r.right,t.right=r.left,t}function g7(e,t,n,r){var i=new Yg(e,t);if(n===null)return i.left=i.right=null,i;n=eg(e,n,r);var a=r(e,n.key);return a<0?(i.left=n.left,i.right=n,n.left=null):a>=0&&(i.right=n.right,i.left=n,n.right=null),i}function $fe(e,t,n){var r=null,i=null;if(t){t=eg(e,t,n);var a=n(t.key,e);a===0?(r=t.left,i=t.right):a<0?(i=t.right,t.right=null,r=t):(r=t.left,t.left=null,i=t)}return{left:r,right:i}}function ekt(e,t,n){return t===null?e:(e===null||(t=eg(e.key,t,n),t.left=e),t)}function Tz(e,t,n,r,i){if(e){r(""+t+(n?"└── ":"├── ")+i(e)+`
`);var a=t+(n?"    ":"│   ");e.left&&Tz(e.left,a,!1,r,i),e.right&&Tz(e.right,a,!0,r,i)}}var Yj=function(){function e(t){t===void 0&&(t=J6t),this._root=null,this._size=0,this._comparator=t}return e.prototype.insert=function(t,n){return this._size++,this._root=g7(t,n,this._root,this._comparator)},e.prototype.add=function(t,n){var r=new Yg(t,n);this._root===null&&(r.left=r.right=null,this._size++,this._root=r);var i=this._comparator,a=eg(t,this._root,i),o=i(t,a.key);return o===0?this._root=a:(o<0?(r.left=a.left,r.right=a,a.left=null):o>0&&(r.right=a.right,r.left=a,a.right=null),this._size++,this._root=r),this._root},e.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},e.prototype._remove=function(t,n,r){var i;if(n===null)return null;n=eg(t,n,r);var a=r(t,n.key);return a===0?(n.left===null?i=n.right:(i=eg(t,n.left,r),i.right=n.right),this._size--,i):n},e.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=eg(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},e.prototype.findStatic=function(t){for(var n=this._root,r=this._comparator;n;){var i=r(t,n.key);if(i===0)return n;i<0?n=n.left:n=n.right}return null},e.prototype.find=function(t){return this._root&&(this._root=eg(t,this._root,this._comparator),this._comparator(t,this._root.key)!==0)?null:this._root},e.prototype.contains=function(t){for(var n=this._root,r=this._comparator;n;){var i=r(t,n.key);if(i===0)return!0;i<0?n=n.left:n=n.right}return!1},e.prototype.forEach=function(t,n){for(var r=this._root,i=[],a=!1;!a;)r!==null?(i.push(r),r=r.left):i.length!==0?(r=i.pop(),t.call(n,r),r=r.right):a=!0;return this},e.prototype.range=function(t,n,r,i){for(var a=[],o=this._comparator,s=this._root,l;a.length!==0||s;)if(s)a.push(s),s=s.left;else{if(s=a.pop(),l=o(s.key,n),l>0)break;if(o(s.key,t)>=0&&r.call(i,s))return this;s=s.right}return this},e.prototype.keys=function(){var t=[];return this.forEach(function(n){var r=n.key;return t.push(r)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(n){var r=n.data;return t.push(r)}),t},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.left;)t=t.left;return t},e.prototype.maxNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.right;)t=t.right;return t},e.prototype.at=function(t){for(var n=this._root,r=!1,i=0,a=[];!r;)if(n)a.push(n),n=n.left;else if(a.length>0){if(n=a.pop(),i===t)return n;i++,n=n.right}else r=!0;return null},e.prototype.next=function(t){var n=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r}for(var i=this._comparator;n;){var a=i(t.key,n.key);if(a===0)break;a<0?(r=n,n=n.left):n=n.right}return r},e.prototype.prev=function(t){var n=this._root,r=null;if(t.left!==null){for(r=t.left;r.right;)r=r.right;return r}for(var i=this._comparator;n;){var a=i(t.key,n.key);if(a===0)break;a<0?n=n.left:(r=n,n=n.right)}return r},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return nkt(this._root)},e.prototype.load=function(t,n,r){n===void 0&&(n=[]),r===void 0&&(r=!1);var i=t.length,a=this._comparator;if(r&&Rz(t,n,0,i-1,a),this._root===null)this._root=wz(t,n,0,i),this._size=i;else{var o=rkt(this.toList(),tkt(t,n),a);i=this._size+i,this._root=Cz({head:o},0,i)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){t===void 0&&(t=function(r){return String(r.key)});var n=[];return Tz(this._root,"",!0,function(r){return n.push(r)},t),n.join("")},e.prototype.update=function(t,n,r){var i=this._comparator,a=$fe(t,this._root,i),o=a.left,s=a.right;i(t,n)<0?s=g7(n,r,s,i):o=g7(n,r,o,i),this._root=ekt(o,s,i)},e.prototype.split=function(t){return $fe(t,this._root,this._comparator)},e.prototype[Symbol.iterator]=function(){var t,n,r;return Q6t(this,function(i){switch(i.label){case 0:t=this._root,n=[],r=!1,i.label=1;case 1:return r?[3,6]:t===null?[3,2]:(n.push(t),t=t.left,[3,5]);case 2:return n.length===0?[3,4]:(t=n.pop(),[4,t]);case 3:return i.sent(),t=t.right,[3,5];case 4:r=!0,i.label=5;case 5:return[3,1];case 6:return[2]}})},e}();function wz(e,t,n,r){var i=r-n;if(i>0){var a=n+Math.floor(i/2),o=e[a],s=t[a],l=new Yg(o,s);return l.left=wz(e,t,n,a),l.right=wz(e,t,a+1,r),l}return null}function tkt(e,t){for(var n=new Yg(null,null),r=n,i=0;i<e.length;i++)r=r.next=new Yg(e[i],t[i]);return r.next=null,n.next}function nkt(e){for(var t=e,n=[],r=!1,i=new Yg(null,null),a=i;!r;)t?(n.push(t),t=t.left):n.length>0?(t=a=a.next=n.pop(),t=t.right):r=!0;return a.next=null,i.next}function Cz(e,t,n){var r=n-t;if(r>0){var i=t+Math.floor(r/2),a=Cz(e,t,i),o=e.head;return o.left=a,e.head=e.head.next,o.right=Cz(e,i+1,n),o}return null}function rkt(e,t,n){for(var r=new Yg(null,null),i=r,a=e,o=t;a!==null&&o!==null;)n(a.key,o.key)<0?(i.next=a,a=a.next):(i.next=o,o=o.next),i=i.next;return a!==null?i.next=a:o!==null&&(i.next=o),r.next}function Rz(e,t,n,r,i){if(!(n>=r)){for(var a=e[n+r>>1],o=n-1,s=r+1;;){do o++;while(i(e[o],a)<0);do s--;while(i(e[s],a)>0);if(o>=s)break;var l=e[o];e[o]=e[s],e[s]=l,l=t[o],t[o]=t[s],t[s]=l}Rz(e,t,n,s,i),Rz(e,t,s+1,r,i)}}const Sp=11102230246251565e-32,Ws=134217729,ikt=(3+8*Sp)*Sp;function m7(e,t,n,r,i){let a,o,s,l,u=t[0],c=r[0],f=0,d=0;c>u==c>-u?(a=u,u=t[++f]):(a=c,c=r[++d]);let h=0;if(f<e&&d<n)for(c>u==c>-u?(o=u+a,s=a-(o-u),u=t[++f]):(o=c+a,s=a-(o-c),c=r[++d]),a=o,s!==0&&(i[h++]=s);f<e&&d<n;)c>u==c>-u?(o=a+u,l=o-a,s=a-(o-l)+(u-l),u=t[++f]):(o=a+c,l=o-a,s=a-(o-l)+(c-l),c=r[++d]),a=o,s!==0&&(i[h++]=s);for(;f<e;)o=a+u,l=o-a,s=a-(o-l)+(u-l),u=t[++f],a=o,s!==0&&(i[h++]=s);for(;d<n;)o=a+c,l=o-a,s=a-(o-l)+(c-l),c=r[++d],a=o,s!==0&&(i[h++]=s);return(a!==0||h===0)&&(i[h++]=a),h}function akt(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function Lw(e){return new Float64Array(e)}const okt=(3+16*Sp)*Sp,skt=(2+12*Sp)*Sp,lkt=(9+64*Sp)*Sp*Sp,g1=Lw(4),Hfe=Lw(8),Wfe=Lw(12),Gfe=Lw(16),hl=Lw(4);function ukt(e,t,n,r,i,a,o){let s,l,u,c,f,d,h,p,v,g,m,b,_,x,E,A,T,R;const M=e-i,O=n-i,D=t-a,C=r-a;x=M*C,d=Ws*M,h=d-(d-M),p=M-h,d=Ws*C,v=d-(d-C),g=C-v,E=p*g-(x-h*v-p*v-h*g),A=D*O,d=Ws*D,h=d-(d-D),p=D-h,d=Ws*O,v=d-(d-O),g=O-v,T=p*g-(A-h*v-p*v-h*g),m=E-T,f=E-m,g1[0]=E-(m+f)+(f-T),b=x+m,f=b-x,_=x-(b-f)+(m-f),m=_-A,f=_-m,g1[1]=_-(m+f)+(f-A),R=b+m,f=R-b,g1[2]=b-(R-f)+(m-f),g1[3]=R;let P=akt(4,g1),B=skt*o;if(P>=B||-P>=B||(f=e-M,s=e-(M+f)+(f-i),f=n-O,u=n-(O+f)+(f-i),f=t-D,l=t-(D+f)+(f-a),f=r-C,c=r-(C+f)+(f-a),s===0&&l===0&&u===0&&c===0)||(B=lkt*o+ikt*Math.abs(P),P+=M*c+C*s-(D*u+O*l),P>=B||-P>=B))return P;x=s*C,d=Ws*s,h=d-(d-s),p=s-h,d=Ws*C,v=d-(d-C),g=C-v,E=p*g-(x-h*v-p*v-h*g),A=l*O,d=Ws*l,h=d-(d-l),p=l-h,d=Ws*O,v=d-(d-O),g=O-v,T=p*g-(A-h*v-p*v-h*g),m=E-T,f=E-m,hl[0]=E-(m+f)+(f-T),b=x+m,f=b-x,_=x-(b-f)+(m-f),m=_-A,f=_-m,hl[1]=_-(m+f)+(f-A),R=b+m,f=R-b,hl[2]=b-(R-f)+(m-f),hl[3]=R;const U=m7(4,g1,4,hl,Hfe);x=M*c,d=Ws*M,h=d-(d-M),p=M-h,d=Ws*c,v=d-(d-c),g=c-v,E=p*g-(x-h*v-p*v-h*g),A=D*u,d=Ws*D,h=d-(d-D),p=D-h,d=Ws*u,v=d-(d-u),g=u-v,T=p*g-(A-h*v-p*v-h*g),m=E-T,f=E-m,hl[0]=E-(m+f)+(f-T),b=x+m,f=b-x,_=x-(b-f)+(m-f),m=_-A,f=_-m,hl[1]=_-(m+f)+(f-A),R=b+m,f=R-b,hl[2]=b-(R-f)+(m-f),hl[3]=R;const L=m7(U,Hfe,4,hl,Wfe);x=s*c,d=Ws*s,h=d-(d-s),p=s-h,d=Ws*c,v=d-(d-c),g=c-v,E=p*g-(x-h*v-p*v-h*g),A=l*u,d=Ws*l,h=d-(d-l),p=l-h,d=Ws*u,v=d-(d-u),g=u-v,T=p*g-(A-h*v-p*v-h*g),m=E-T,f=E-m,hl[0]=E-(m+f)+(f-T),b=x+m,f=b-x,_=x-(b-f)+(m-f),m=_-A,f=_-m,hl[1]=_-(m+f)+(f-A),R=b+m,f=R-b,hl[2]=b-(R-f)+(m-f),hl[3]=R;const F=m7(L,Wfe,4,hl,Gfe);return Gfe[F-1]}function ckt(e,t,n,r,i,a){const o=(t-a)*(n-i),s=(e-i)*(r-a),l=o-s,u=Math.abs(o+s);return Math.abs(l)>=okt*u?l:-ukt(e,t,n,r,i,a,u)}var mwe={};const WA=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,Iz=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;const n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x,i=e.ll.y<t.ll.y?t.ll.y:e.ll.y,a=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:n,y:i},ur:{x:r,y:a}}};let vg=Number.EPSILON;vg===void 0&&(vg=Math.pow(2,-52));const fkt=vg*vg,jfe=(e,t)=>{if(-vg<e&&e<vg&&-vg<t&&t<vg)return 0;const n=e-t;return n*n<fkt*e*t?0:e<t?-1:1};class dkt{constructor(){this.reset()}reset(){this.xRounder=new Yfe,this.yRounder=new Yfe}round(t,n){return{x:this.xRounder.round(t),y:this.yRounder.round(n)}}}class Yfe{constructor(){this.tree=new Yj,this.round(0)}round(t){const n=this.tree.add(t),r=this.tree.prev(n);if(r!==null&&jfe(n.key,r.key)===0)return this.tree.remove(t),r.key;const i=this.tree.next(n);return i!==null&&jfe(n.key,i.key)===0?(this.tree.remove(t),i.key):t}}const LT=new dkt,Y3=(e,t)=>e.x*t.y-e.y*t.x,ywe=(e,t)=>e.x*t.x+e.y*t.y,Xfe=(e,t,n)=>{const r=ckt(e.x,e.y,t.x,t.y,n.x,n.y);return r>0?-1:r<0?1:0},JO=e=>Math.sqrt(ywe(e,e)),hkt=(e,t,n)=>{const r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return Y3(i,r)/JO(i)/JO(r)},pkt=(e,t,n)=>{const r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return ywe(i,r)/JO(i)/JO(r)},Kfe=(e,t,n)=>t.y===0?null:{x:e.x+t.x/t.y*(n-e.y),y:n},qfe=(e,t,n)=>t.x===0?null:{x:n,y:e.y+t.y/t.x*(n-e.x)},vkt=(e,t,n,r)=>{if(t.x===0)return qfe(n,r,e.x);if(r.x===0)return qfe(e,t,n.x);if(t.y===0)return Kfe(n,r,e.y);if(r.y===0)return Kfe(e,t,n.y);const i=Y3(t,r);if(i==0)return null;const a={x:n.x-e.x,y:n.y-e.y},o=Y3(a,t)/i,s=Y3(a,r)/i,l=e.x+s*t.x,u=n.x+o*r.x,c=e.y+s*t.y,f=n.y+o*r.y,d=(l+u)/2,h=(c+f)/2;return{x:d,y:h}};class xc{static compare(t,n){const r=xc.comparePoints(t.point,n.point);return r!==0?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:wg.compare(t.segment,n.segment))}static comparePoints(t,n){return t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0}constructor(t,n){t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=n}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const n=t.point.events;for(let r=0,i=n.length;r<i;r++){const a=n[r];this.point.events.push(a),a.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let n=0;n<t;n++){const r=this.point.events[n];if(r.segment.consumedBy===void 0)for(let i=n+1;i<t;i++){const a=this.point.events[i];a.consumedBy===void 0&&r.otherSE.point.events===a.otherSE.point.events&&r.segment.consume(a.segment)}}}getAvailableLinkedEvents(){const t=[];for(let n=0,r=this.point.events.length;n<r;n++){const i=this.point.events[n];i!==this&&!i.segment.ringOut&&i.segment.isInResult()&&t.push(i)}return t}getLeftmostComparator(t){const n=new Map,r=i=>{const a=i.otherSE;n.set(i,{sine:hkt(this.point,t.point,a.point),cosine:pkt(this.point,t.point,a.point)})};return(i,a)=>{n.has(i)||r(i),n.has(a)||r(a);const{sine:o,cosine:s}=n.get(i),{sine:l,cosine:u}=n.get(a);return o>=0&&l>=0?s<u?1:s>u?-1:0:o<0&&l<0?s<u?-1:s>u?1:0:l<o?-1:l>o?1:0}}}let gkt=0;class wg{static compare(t,n){const r=t.leftSE.point.x,i=n.leftSE.point.x,a=t.rightSE.point.x,o=n.rightSE.point.x;if(o<r)return 1;if(a<i)return-1;const s=t.leftSE.point.y,l=n.leftSE.point.y,u=t.rightSE.point.y,c=n.rightSE.point.y;if(r<i){if(l<s&&l<u)return 1;if(l>s&&l>u)return-1;const f=t.comparePoint(n.leftSE.point);if(f<0)return 1;if(f>0)return-1;const d=n.comparePoint(t.rightSE.point);return d!==0?d:-1}if(r>i){if(s<l&&s<c)return-1;if(s>l&&s>c)return 1;const f=n.comparePoint(t.leftSE.point);if(f!==0)return f;const d=t.comparePoint(n.rightSE.point);return d<0?1:d>0?-1:1}if(s<l)return-1;if(s>l)return 1;if(a<o){const f=n.comparePoint(t.rightSE.point);if(f!==0)return f}if(a>o){const f=t.comparePoint(n.rightSE.point);if(f<0)return 1;if(f>0)return-1}if(a!==o){const f=u-s,d=a-r,h=c-l,p=o-i;if(f>d&&h<p)return 1;if(f<d&&h>p)return-1}return a>o?1:a<o||u<c?-1:u>c?1:t.id<n.id?-1:t.id>n.id?1:0}constructor(t,n,r,i){this.id=++gkt,this.leftSE=t,t.segment=this,t.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=t,this.rings=r,this.windings=i}static fromRing(t,n,r){let i,a,o;const s=xc.comparePoints(t,n);if(s<0)i=t,a=n,o=1;else if(s>0)i=n,a=t,o=-1;else throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);const l=new xc(i,!0),u=new xc(a,!1);return new wg(l,u,[r],[o])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<n?t:n},ur:{x:this.rightSE.point.x,y:t>n?t:n}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}comparePoint(t){if(this.isAnEndpoint(t))return 0;const n=this.leftSE.point,r=this.rightSE.point,i=this.vector();if(n.x===r.x)return t.x===n.x?0:t.x<n.x?1:-1;const a=(t.y-n.y)/i.y,o=n.x+a*i.x;if(t.x===o)return 0;const s=(t.x-n.x)/i.x,l=n.y+s*i.y;return t.y===l?0:t.y<l?-1:1}getIntersection(t){const n=this.bbox(),r=t.bbox(),i=Iz(n,r);if(i===null)return null;const a=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,l=t.rightSE.point,u=WA(n,s)&&this.comparePoint(s)===0,c=WA(r,a)&&t.comparePoint(a)===0,f=WA(n,l)&&this.comparePoint(l)===0,d=WA(r,o)&&t.comparePoint(o)===0;if(c&&u)return d&&!f?o:!d&&f?l:null;if(c)return f&&a.x===l.x&&a.y===l.y?null:a;if(u)return d&&o.x===s.x&&o.y===s.y?null:s;if(d&&f)return null;if(d)return o;if(f)return l;const h=vkt(a,this.vector(),s,t.vector());return h===null||!WA(i,h)?null:LT.round(h.x,h.y)}split(t){const n=[],r=t.events!==void 0,i=new xc(t,!0),a=new xc(t,!1),o=this.rightSE;this.replaceRightSE(a),n.push(a),n.push(i);const s=new wg(i,o,this.rings.slice(),this.windings.slice());return xc.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),xc.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),a.checkForConsuming()),n}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let n=0,r=this.windings.length;n<r;n++)this.windings[n]*=-1}consume(t){let n=this,r=t;for(;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;const i=wg.compare(n,r);if(i!==0){if(i>0){const a=n;n=r,r=a}if(n.prev===r){const a=n;n=r,r=a}for(let a=0,o=r.rings.length;a<o;a++){const s=r.rings[a],l=r.windings[a],u=n.rings.indexOf(s);u===-1?(n.rings.push(s),n.windings.push(l)):n.windings[u]+=l}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const n=this._afterState.rings,r=this._afterState.windings,i=this._afterState.multiPolys;for(let s=0,l=this.rings.length;s<l;s++){const u=this.rings[s],c=this.windings[s],f=n.indexOf(u);f===-1?(n.push(u),r.push(c)):r[f]+=c}const a=[],o=[];for(let s=0,l=n.length;s<l;s++){if(r[s]===0)continue;const u=n[s],c=u.poly;if(o.indexOf(c)===-1)if(u.isExterior)a.push(c);else{o.indexOf(c)===-1&&o.push(c);const f=a.indexOf(u.poly);f!==-1&&a.splice(f,1)}}for(let s=0,l=a.length;s<l;s++){const u=a[s].multiPoly;i.indexOf(u)===-1&&i.push(u)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const t=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(Bf.type){case"union":{const r=t.length===0,i=n.length===0;this._isInResult=r!==i;break}case"intersection":{let r,i;t.length<n.length?(r=t.length,i=n.length):(r=n.length,i=t.length),this._isInResult=i===Bf.numMultiPolys&&r<i;break}case"xor":{const r=Math.abs(t.length-n.length);this._isInResult=r%2===1;break}case"difference":{const r=i=>i.length===1&&i[0].isSubject;this._isInResult=r(t)!==r(n);break}default:throw new Error(`Unrecognized operation type found ${Bf.type}`)}return this._isInResult}}class Zfe{constructor(t,n,r){if(!Array.isArray(t)||t.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=r,this.segments=[],typeof t[0][0]!="number"||typeof t[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const i=LT.round(t[0][0],t[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};let a=i;for(let o=1,s=t.length;o<s;o++){if(typeof t[o][0]!="number"||typeof t[o][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let l=LT.round(t[o][0],t[o][1]);l.x===a.x&&l.y===a.y||(this.segments.push(wg.fromRing(a,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),a=l)}(i.x!==a.x||i.y!==a.y)&&this.segments.push(wg.fromRing(a,i,this))}getSweepEvents(){const t=[];for(let n=0,r=this.segments.length;n<r;n++){const i=this.segments[n];t.push(i.leftSE),t.push(i.rightSE)}return t}}class mkt{constructor(t,n){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Zfe(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let r=1,i=t.length;r<i;r++){const a=new Zfe(t[r],this,!1);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=n}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let n=0,r=this.interiorRings.length;n<r;n++){const i=this.interiorRings[n].getSweepEvents();for(let a=0,o=i.length;a<o;a++)t.push(i[a])}return t}}class Qfe{constructor(t,n){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof t[0][0][0]=="number"&&(t=[t])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let r=0,i=t.length;r<i;r++){const a=new mkt(t[r],this);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=n}getSweepEvents(){const t=[];for(let n=0,r=this.polys.length;n<r;n++){const i=this.polys[n].getSweepEvents();for(let a=0,o=i.length;a<o;a++)t.push(i[a])}return t}}class eD{static factory(t){const n=[];for(let r=0,i=t.length;r<i;r++){const a=t[r];if(!a.isInResult()||a.ringOut)continue;let o=null,s=a.leftSE,l=a.rightSE;const u=[s],c=s.point,f=[];for(;o=s,s=l,u.push(s),s.point!==c;)for(;;){const d=s.getAvailableLinkedEvents();if(d.length===0){const v=u[0].point,g=u[u.length-1].point;throw new Error(`Unable to complete output ring starting at [${v.x}, ${v.y}]. Last matching segment found ends at [${g.x}, ${g.y}].`)}if(d.length===1){l=d[0].otherSE;break}let h=null;for(let v=0,g=f.length;v<g;v++)if(f[v].point===s.point){h=v;break}if(h!==null){const v=f.splice(h)[0],g=u.splice(v.index);g.unshift(g[0].otherSE),n.push(new eD(g.reverse()));continue}f.push({index:u.length,point:s.point});const p=s.getLeftmostComparator(o);l=d.sort(p)[0].otherSE;break}n.push(new eD(u))}return n}constructor(t){this.events=t;for(let n=0,r=t.length;n<r;n++)t[n].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const n=[t];for(let u=1,c=this.events.length-1;u<c;u++){const f=this.events[u].point,d=this.events[u+1].point;Xfe(f,t,d)!==0&&(n.push(f),t=f)}if(n.length===1)return null;const r=n[0],i=n[1];Xfe(r,t,i)===0&&n.shift(),n.push(n[0]);const a=this.isExteriorRing()?1:-1,o=this.isExteriorRing()?0:n.length-1,s=this.isExteriorRing()?n.length:-1,l=[];for(let u=o;u!=s;u+=a)l.push([n[u].x,n[u].y]);return l}isExteriorRing(){if(this._isExteriorRing===void 0){const t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let i=1,a=this.events.length;i<a;i++){const o=this.events[i];xc.compare(t,o)>0&&(t=o)}let n=t.segment.prevInResult(),r=n?n.prevInResult():null;for(;;){if(!n)return null;if(!r)return n.ringOut;if(r.ringOut!==n.ringOut)return r.ringOut.enclosingRing()!==n.ringOut?n.ringOut:n.ringOut.enclosingRing();n=r.prevInResult(),r=n?n.prevInResult():null}}}class Jfe{constructor(t){this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=[this.exteriorRing.getGeom()];if(t[0]===null)return null;for(let n=0,r=this.interiorRings.length;n<r;n++){const i=this.interiorRings[n].getGeom();i!==null&&t.push(i)}return t}}class ykt{constructor(t){this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let n=0,r=this.polys.length;n<r;n++){const i=this.polys[n].getGeom();i!==null&&t.push(i)}return t}_composePolys(t){const n=[];for(let r=0,i=t.length;r<i;r++){const a=t[r];if(!a.poly)if(a.isExteriorRing())n.push(new Jfe(a));else{const o=a.enclosingRing();o.poly||n.push(new Jfe(o)),o.poly.addInterior(a)}}return n}}class _kt{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wg.compare;this.queue=t,this.tree=new Yj(n),this.segments=[]}process(t){const n=t.segment,r=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(n),r;const i=t.isLeft?this.tree.add(n):this.tree.find(n);if(!i)throw new Error(`Unable to find segment #${n.id} [${n.leftSE.point.x}, ${n.leftSE.point.y}] -> [${n.rightSE.point.x}, ${n.rightSE.point.y}] in SweepLine tree.`);let a=i,o=i,s,l;for(;s===void 0;)a=this.tree.prev(a),a===null?s=null:a.key.consumedBy===void 0&&(s=a.key);for(;l===void 0;)o=this.tree.next(o),o===null?l=null:o.key.consumedBy===void 0&&(l=o.key);if(t.isLeft){let u=null;if(s){const f=s.getIntersection(n);if(f!==null&&(n.isAnEndpoint(f)||(u=f),!s.isAnEndpoint(f))){const d=this._splitSafely(s,f);for(let h=0,p=d.length;h<p;h++)r.push(d[h])}}let c=null;if(l){const f=l.getIntersection(n);if(f!==null&&(n.isAnEndpoint(f)||(c=f),!l.isAnEndpoint(f))){const d=this._splitSafely(l,f);for(let h=0,p=d.length;h<p;h++)r.push(d[h])}}if(u!==null||c!==null){let f=null;u===null?f=c:c===null?f=u:f=xc.comparePoints(u,c)<=0?u:c,this.queue.remove(n.rightSE),r.push(n.rightSE);const d=n.split(f);for(let h=0,p=d.length;h<p;h++)r.push(d[h])}r.length>0?(this.tree.remove(n),r.push(t)):(this.segments.push(n),n.prev=s)}else{if(s&&l){const u=s.getIntersection(l);if(u!==null){if(!s.isAnEndpoint(u)){const c=this._splitSafely(s,u);for(let f=0,d=c.length;f<d;f++)r.push(c[f])}if(!l.isAnEndpoint(u)){const c=this._splitSafely(l,u);for(let f=0,d=c.length;f<d;f++)r.push(c[f])}}}this.tree.remove(n)}return r}_splitSafely(t,n){this.tree.remove(t);const r=t.rightSE;this.queue.remove(r);const i=t.split(n);return i.push(r),t.consumedBy===void 0&&this.tree.add(t),i}}const ede=typeof process<"u"&&mwe.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,bkt=typeof process<"u"&&mwe.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class xkt{run(t,n,r){Bf.type=t,LT.reset();const i=[new Qfe(n,!0)];for(let f=0,d=r.length;f<d;f++)i.push(new Qfe(r[f],!1));if(Bf.numMultiPolys=i.length,Bf.type==="difference"){const f=i[0];let d=1;for(;d<i.length;)Iz(i[d].bbox,f.bbox)!==null?d++:i.splice(d,1)}if(Bf.type==="intersection")for(let f=0,d=i.length;f<d;f++){const h=i[f];for(let p=f+1,v=i.length;p<v;p++)if(Iz(h.bbox,i[p].bbox)===null)return[]}const a=new Yj(xc.compare);for(let f=0,d=i.length;f<d;f++){const h=i[f].getSweepEvents();for(let p=0,v=h.length;p<v;p++)if(a.insert(h[p]),a.size>ede)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const o=new _kt(a);let s=a.size,l=a.pop();for(;l;){const f=l.key;if(a.size===s){const h=f.segment;throw new Error(`Unable to pop() ${f.isLeft?"left":"right"} SweepEvent [${f.point.x}, ${f.point.y}] from segment #${h.id} [${h.leftSE.point.x}, ${h.leftSE.point.y}] -> [${h.rightSE.point.x}, ${h.rightSE.point.y}] from queue.`)}if(a.size>ede)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(o.segments.length>bkt)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const d=o.process(f);for(let h=0,p=d.length;h<p;h++){const v=d[h];v.consumedBy===void 0&&a.insert(v)}s=a.size,l=a.pop()}LT.reset();const u=eD.factory(o.segments);return new ykt(u).getGeom()}}const Bf=new xkt,Skt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Bf.run("union",e,n)},Akt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Bf.run("intersection",e,n)},Ekt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Bf.run("xor",e,n)},Tkt=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Bf.run("difference",e,n)};var wkt={union:Skt,intersection:Akt,xor:Ekt,difference:Tkt};function Ckt(e,t,n){n===void 0&&(n={});var r=Vie(e),i=Vie(t),a=wkt.union(r.coordinates,i.coordinates);return a.length===0?null:a.length===1?nj(a[0],n.properties):t2t(a,n.properties)}class Rkt{getCombineFeature(t){let n=null;const r=t[0];return t.map(i=>{const a=nj(i.coordinates);n===null?n=a:n=Ckt(n,a)}),r&&(n.properties=Pt({},r)),n}}const GA="select",jA="active";class Ikt{constructor({layerService:t,tileLayerService:n,parent:r}){fe(this,"layerService",void 0),fe(this,"tileLayerService",void 0),fe(this,"tileSourceService",void 0),fe(this,"parent",void 0),fe(this,"tilePickID",new Map),this.layerService=t,this.tileLayerService=n,this.parent=r,this.tileSourceService=new Rkt}pickRender(t){const n=this.tileLayerService.getVisibleTileBylngLat(t.lngLat);if(n){const r=n.getMainLayer();r==null||r.layerPickService.pickRender(t)}}pick(t,n){var r=this;return Ut(function*(){const a=r.parent.getContainer().pickingService;if(t.type==="RasterLayer"){const o=r.tileLayerService.getVisibleTileBylngLat(n.lngLat);if(o&&o.getMainLayer()!==void 0){const s=o.getMainLayer();return s.layerPickService.pickRasterLayer(s,n,r.parent)}return!1}return r.pickRender(n),a.pickFromPickingFBO(t,n)})()}selectFeature(t){const[n,r,i]=t,a=this.color2PickId(n,r,i);this.tilePickID.set(GA,a),this.updateHighLight(n,r,i,GA)}highlightPickedFeature(t){const[n,r,i]=t,a=this.color2PickId(n,r,i);this.tilePickID.set(jA,a),this.updateHighLight(n,r,i,jA)}updateHighLight(t,n,r,i){this.tileLayerService.tiles.map(a=>{const o=a.getMainLayer();switch(i){case GA:o==null||o.hooks.beforeSelect.call([t,n,r]);break;case jA:o==null||o.hooks.beforeHighlight.call([t,n,r]);break}})}setPickState(){const t=this.tilePickID.get(GA),n=this.tilePickID.get(jA);if(t){const[r,i,a]=this.pickId2Color(t);this.updateHighLight(r,i,a,GA);return}if(n){const[r,i,a]=this.pickId2Color(n);this.updateHighLight(r,i,a,jA);return}}color2PickId(t,n,r){return iy(new Uint8Array([t,n,r]))}pickId2Color(t){return tx(t)}getFeatureById(t){const n=this.tileLayerService.getTiles().filter(i=>i.visible),r=[];return n.forEach(i=>{r.push(...i.getFeatureById(t))}),r}pickRasterLayer(){return!1}}function Mkt(e){return e==="PolygonLayer"?gwe:e==="LineLayer"?Gj:Tg}function Okt(e){return["PolygonLayer","LineLayer"].indexOf(e)!==-1}class Ky extends Xu.EventEmitter{constructor(t,n){super(),fe(this,"x",void 0),fe(this,"y",void 0),fe(this,"z",void 0),fe(this,"key",void 0),fe(this,"parent",void 0),fe(this,"sourceTile",void 0),fe(this,"visible",!0),fe(this,"layers",[]),fe(this,"isLoaded",!1),fe(this,"tileMaskLayers",[]),fe(this,"tileMask",void 0),this.parent=n,this.sourceTile=t,this.x=t.x,this.y=t.y,this.z=t.z,this.key=`${this.x}_${this.y}_${this.z}`}getLayers(){return this.layers}styleUpdate(...t){}lnglatInBounds(t){const[n,r,i,a]=this.sourceTile.bounds,{lng:o,lat:s}=t;return o>=n&&o<=i&&s>=r&&s<=a}getLayerOptions(){var t;const n=this.parent.getLayerConfig();return Pt(Pt({},n),{},{textAllowOverlap:!0,autoFit:!1,maskLayers:this.getMaskLayer(),tileMask:Okt(this.parent.type),mask:n.mask||((t=n.maskLayers)===null||t===void 0?void 0:t.length)!==0&&n.enableMask})}getMaskLayer(){const{maskLayers:t}=this.parent.getLayerConfig(),n=[];return t==null||t.forEach(r=>{if(!r.tileLayer)return n.push(r),r;const a=r.tileLayer.getTile(this.sourceTile.key),o=a==null?void 0:a.getLayers()[0];o&&n.push(o)}),n}addTileMask(){var t=this;return Ut(function*(){const n=new gwe({name:"mask",visible:!0,enablePicking:!1}).source({type:"FeatureCollection",features:[t.sourceTile.bboxPolygon]},{parser:{type:"geojson",featureId:"id"}}).shape("fill").color("#0f0").style({opacity:.5}),r=d2(t.parent.container);n.setContainer(r),yield n.init(),t.tileMask=n;const i=t.getMainLayer();return i!==void 0&&(i.tileMask=n),n})()}addMask(t,n){var r=this;return Ut(function*(){const i=d2(r.parent.container);n.setContainer(i),yield n.init(),t.addMask(n),r.tileMaskLayers.push(n)})()}addLayer(t){var n=this;return Ut(function*(){t.isTileLayer=!0;const r=d2(n.parent.container);t.setContainer(r),n.layers.push(t),yield t.init()})()}updateVisible(t){this.visible=t,this.updateOptions("visible",t)}updateOptions(t,n){this.layers.forEach(r=>{r.updateLayerConfig({[t]:n})})}getMainLayer(){return this.layers[0]}getFeatures(t){return[]}getFeatureById(t){return[]}destroy(){var t;(t=this.tileMask)===null||t===void 0||t.destroy(),this.layers.forEach(n=>n.destroy())}}class Dkt extends Ky{initTileLayer(){var t=this;return Ut(function*(){const n=t.getSourceOption(),r=n.data.features[0].properties,i=new Gj().source(n.data,n.options).size(1).shape("line").color("red"),a=new Tg({minZoom:t.z-1,maxZoom:t.z+1,textAllowOverlap:!0}).source([r],{parser:{type:"json",x:"x",y:"y"}}).size(20).color("red").shape(t.key).style({stroke:"#fff",strokeWidth:2});yield t.addLayer(i),yield t.addLayer(a),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource();return{data:{type:"FeatureCollection",features:this.sourceTile.data.layers.testTile.features},options:{parser:{type:"geojson"},transforms:t.transforms}}}}class Pkt extends Ky{initTileLayer(){var t=this;return Ut(function*(){const n=t.parent.getLayerAttributeConfig(),r=t.getLayerOptions(),i=t.getSourceOption(),a=new Ry(Pt({},r)).source(i.data,i.options);n&&Object.keys(n).forEach(o=>{var s,l;const u=o;a[u]((s=n[u])===null||s===void 0?void 0:s.field,(l=n[u])===null||l===void 0?void 0:l.values)}),yield t.addLayer(a),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:t.transforms}}}}const Lkt=`layout(std140) uniform commonUniorm {
  vec4 u_color;
  float u_opacity;
};

out vec4 outputColor;

void main() {
  outputColor = u_color;
  outputColor.a *= u_opacity;
}
`,Nkt=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;

layout(std140) uniform commonUniorm {
  vec4 u_color;
  float u_opacity;
};

#pragma include "projection"

void main() {
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`;class Bkt extends Ra{getUninforms(){const t=this.getCommonUniformsInfo(),n=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),Pt(Pt({},t.uniformsOption),n.uniformsOption)}getCommonUniformsInfo(){const{opacity:t=1,color:n="#000"}=this.layer.getLayerConfig(),r={u_color:ga(n),u_opacity:t||1};return this.getUniformsBufferInfo(r)}initModels(){var t=this;return Ut(function*(){return t.buildModels()})()}buildModels(){var t=this;return Ut(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"mask",vertexShader:Nkt,fragmentShader:Lkt,defines:t.getDefines(),triangulation:Pw,depth:{enable:!1},pick:!1})]})()}clearModels(t=!0){t&&this.layerService.clear()}registerBuiltinAttributes(){return""}}const kkt={fill:Bkt};class _we extends Kx{constructor(...t){super(...t),fe(this,"type","MaskLayer")}buildModels(){var t=this;return Ut(function*(){const n=t.getModelType();t.layerModel=new kkt[n](t),yield t.initLayerModels()})()}getModelType(){return"fill"}}class Fkt extends Ky{initTileLayer(){var t=this;return Ut(function*(){const n=t.parent.getLayerAttributeConfig(),r=t.getLayerOptions(),i=t.getSourceOption(),a=new _we(Pt({},r)).source(i.data,i.options);n&&Object.keys(n).forEach(o=>{var s,l;const u=o;a[u]((s=n[u])===null||s===void 0?void 0:s.field,(l=n[u])===null||l===void 0?void 0:l.values)}),yield t.addLayer(a),t.isLoaded=!0})()}getFeatures(t){return t?this.sourceTile.data.getTileData(t):[]}getSourceOption(){const t=this.parent.getSource(),{sourceLayer:n,featureId:r}=this.parent.getLayerConfig();return{data:{type:"FeatureCollection",features:this.getFeatures(n)},options:{parser:{type:"geojson",featureId:r},transforms:t.transforms}}}}const Ukt=["rasterData"];let Vkt=class extends Ky{initTileLayer(){var t=this;return Ut(function*(){const n=t.parent.getLayerAttributeConfig(),r=t.getLayerOptions(),i=t.getSourceOption(),a=new jj(Pt({},r)).source(i.data,i.options);n&&Object.keys(n).forEach(o=>{var s,l;const u=o;a[u]((s=n[u])===null||s===void 0?void 0:s.field,(l=n[u])===null||l===void 0?void 0:l.values)}),yield t.addLayer(a),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource(),n=this.sourceTile.data.data,{rasterData:r}=n,i=sh(n,Ukt);return{data:r,options:{parser:Pt({type:"rasterRgb",extent:this.sourceTile.bounds},i),transforms:t.transforms}}}};class zkt extends Ky{initTileLayer(){var t=this;return Ut(function*(){const n=t.parent.getLayerAttributeConfig(),r=t.getLayerOptions(),i=t.getSourceOption(),a=new jj(Pt({},r)).source(i.data,i.options);n&&Object.keys(n).forEach(o=>{var s,l;const u=o;a[u]((s=n[u])===null||s===void 0?void 0:s.field,(l=n[u])===null||l===void 0?void 0:l.values)}),yield t.addLayer(a),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:t.transforms}}}}const $kt=["rasterData"],Hkt={positions:[0,1],colors:["#000","#fff"]};class Wkt extends Ky{constructor(...t){super(...t),fe(this,"colorTexture",void 0)}initTileLayer(){var t=this;return Ut(function*(){const n=t.parent.getLayerAttributeConfig(),r=t.getLayerOptions(),i=t.getSourceOption(),{rampColors:a,domain:o}=t.getLayerOptions();t.colorTexture=t.parent.textureService.getColorTexture(a,o);const s=new jj(Pt(Pt({},r),{},{colorTexture:t.colorTexture})).source(i.data,i.options);n&&Object.keys(n).forEach(l=>{var u,c;const f=l;s[f]((u=n[f])===null||u===void 0?void 0:u.field,(c=n[f])===null||c===void 0?void 0:c.values)}),yield t.addLayer(s),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource(),n=this.sourceTile.data.data,{rasterData:r}=n,i=sh(n,$kt);return{data:r,options:{parser:Pt({type:"raster",extent:this.sourceTile.bounds},i),transforms:t.transforms}}}styleUpdate(...t){const{rampColors:n=Hkt,domain:r}=t;this.colorTexture=this.parent.textureService.getColorTexture(n,r||cj(n)),this.layers.forEach(i=>i.style({colorTexture:this.colorTexture}))}destroy(){this.layers.forEach(t=>t.destroy())}}class MI extends Ky{initTileLayer(){var t=this;return Ut(function*(){const n=t.parent.getLayerAttributeConfig(),r=t.getLayerOptions(),i=Mkt(t.parent.type),a=t.getSourceOption();if(!a){t.isLoaded=!0,t.emit("loaded");return}const o=new i(Pt({},r)).source(a.data,a.options);Object.keys(n).forEach(s=>{var l,u;const c=s;o[c]((l=n[c])===null||l===void 0?void 0:l.field,(u=n[c])===null||u===void 0?void 0:u.values)}),yield t.addLayer(o),r.tileMask&&(yield t.addTileMask()),t.setLayerMinMaxZoom(o),t.isLoaded=!0,t.emit("loaded")})()}getSourceOption(){const t=this.parent.getSource(),{sourceLayer:n="defaultLayer",featureId:r="id"}=this.parent.getLayerConfig();return{data:{type:"FeatureCollection",features:this.getFeatures(n)},options:{parser:{type:"geojson",featureId:r},transforms:t.transforms}}}setLayerMinMaxZoom(t){t.getModelType()==="text"&&t.updateLayerConfig({maxZoom:this.z+1,minZoom:this.z-1})}getFeatures(t){return this.sourceTile.data.getTileData(t)}getFeatureById(t){const n=this.getMainLayer();return n?n.getSource().data.dataArray.filter(i=>i._id===t):[]}}function Gkt(e){switch(e.type){case"PolygonLayer":return MI;case"LineLayer":return MI;case"PointLayer":return MI;case"TileDebugLayer":return Dkt;case"MaskLayer":return Fkt;case"RasterLayer":const{dataType:n}=e.getSource().parser;switch(n){case ws.RGB:case ws.CUSTOMRGB:return Vkt;case ws.ARRAYBUFFER:case ws.CUSTOMARRAYBUFFER:return Wkt;case ws.TERRAINRGB:case ws.CUSTOMTERRAINRGB:return zkt;default:return Pkt}default:return MI}}const jkt=["shape","color","size","style","animate","filter","rotate","scale","setBlend","setSelect","setActive","disableMask","enableMask","addMask","removeMask"],{debounce:Ykt}=Oo;class Xkt{constructor(t){fe(this,"parent",void 0),fe(this,"tileLayerService",void 0),fe(this,"mapService",void 0),fe(this,"layerService",void 0),fe(this,"rendererService",void 0),fe(this,"pickingService",void 0),fe(this,"tilePickService",void 0),fe(this,"tilesetManager",void 0),fe(this,"initedTileset",!1),fe(this,"lastViewStates",void 0),fe(this,"mapchange",()=>{var r;if(this.parent.isVisible()===!1)return;const{latLonBounds:i,zoom:a}=this.getCurrentView();this.lastViewStates&&this.lastViewStates.zoom===a&&this.lastViewStates.latLonBounds.toString()===i.toString()||(this.lastViewStates={zoom:a,latLonBounds:i},(r=this.tilesetManager)===null||r===void 0||r.throttleUpdate(a,i))}),fe(this,"viewchange",Ykt(this.mapchange,24)),this.parent=t;const n=this.parent.getContainer();this.rendererService=n.rendererService,this.layerService=n.layerService,this.mapService=n.mapService,this.pickingService=n.pickingService,this.tileLayerService=new Z6t({rendererService:this.rendererService,layerService:this.layerService,parent:t}),this.tilePickService=new Ikt({tileLayerService:this.tileLayerService,layerService:this.layerService,parent:t}),this.parent.setLayerPickService(this.tilePickService),this.proxy(t),this.initTileSetManager()}initTileSetManager(){var t;const n=this.parent.getSource();if(this.tilesetManager=n.tileset,this.initedTileset||(this.bindTilesetEvent(),this.initedTileset=!0),this.parent.isVisible()===!1)return;const{latLonBounds:r,zoom:i}=this.getCurrentView();(t=this.tilesetManager)===null||t===void 0||t.update(i,r)}getCurrentView(){const t=this.mapService.getBounds(),n=[t[0][0],t[0][1],t[1][0],t[1][1]],r=this.mapService.getZoom();return{latLonBounds:n,zoom:r}}bindTilesetEvent(){this.tilesetManager.on("tile-loaded",t=>{}),this.tilesetManager.on("tile-unload",t=>{this.tileUnLoad(t)}),this.tilesetManager.on("tile-error",(t,n)=>{this.tileError(t)}),this.tilesetManager.on("tile-update",()=>{this.tileUpdate()}),this.mapService.on("zoomend",this.mapchange),this.mapService.on("moveend",this.viewchange)}render(){this.tileLayerService.render()}getLayers(){return this.tileLayerService.getLayers()}getTiles(){return this.tileLayerService.getTiles()}getTile(t){return this.tileLayerService.getTile(t)}tileLoaded(t){}tileError(t){console.warn("error:",t)}destroy(){var t;this.mapService.off("zoomend",this.mapchange),this.mapService.off("moveend",this.viewchange),(t=this.tilesetManager)===null||t===void 0||t.destroy(),this.tileLayerService.destroy()}reload(){var t;this.tilesetManager.clear();const{latLonBounds:n,zoom:r}=this.getCurrentView();(t=this.tilesetManager)===null||t===void 0||t.update(r,n)}tileUnLoad(t){this.tileLayerService.removeTile(t.key)}tileUpdate(){var t=this;return Ut(function*(){if(!t.tilesetManager)return;const n=t.parent.getMinZoom(),r=t.parent.getMaxZoom(),i=t.tilesetManager.tiles.filter(a=>a.isLoaded).filter(a=>a.isVisibleChange).filter(a=>a.data).filter(a=>a.z>=n&&a.z<r);yield Promise.all(i.map(function(){var a=Ut(function*(o){if(t.tileLayerService.hasTile(o.key))t.tileLayerService.updateTileVisible(o),t.tilePickService.setPickState(),t.layerService.reRender();else{const s=Gkt(t.parent),l=new s(o,t.parent);yield l.initTileLayer(),t.tilePickService.setPickState(),l.getLayers().length!==0&&(t.tileLayerService.addTile(l),t.tileLayerService.updateTileVisible(o),t.layerService.reRender())}});return function(o){return a.apply(this,arguments)}}())),t.tilesetManager.isLoaded&&t.parent.emit("tiles-loaded",t.tilesetManager.currentTiles)})()}setPickState(t){}pickRender(t){this.tilePickService.pickRender(t)}selectFeature(t){this.tilePickService.selectFeature(t)}highlightPickedFeature(t){this.tilePickService.highlightPickedFeature(t)}proxy(t){jkt.forEach(n=>{const r=t[n].bind(t);t[n]=(...i)=>(r(...i),this.getLayers().map(a=>{a[n](...i)}),n==="style"&&this.getTiles().forEach(a=>a.styleUpdate(...i)),t)})}}function Kkt(e,t){var n=typeof my<"u"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,r=typeof wx<"u"&&wx!==null&&(typeof wx.request<"u"||typeof wx.miniProgram<"u");if(!(n||r)&&(t||(t=document),!!t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var a=t.body||t.getElementsByTagName("body")[0];a?a.parentNode.insertBefore(i,a):t.documentElement.appendChild(i)}var o=t.createElement("style");return o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),i.appendChild(o),o}}Kkt(`.l7-marker-container {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}
.l7-marker-cluster {
  width: 40px;
  height: 40px;
  background-color: rgba(181, 226, 140, 0.6);
  background-clip: padding-box;
  border-radius: 20px;
}
.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-top: 5px;
  margin-left: 5px;
  font:
    12px 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
  text-align: center;
  background-color: rgba(110, 204, 57, 0.6);
  border-radius: 15px;
}
.l7-marker-cluster span {
  line-height: 30px;
}
.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  box-shadow: none;
}
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  background-clip: padding-box;
  border: 2px solid rgba(0, 0, 0, 0.2);
}
.mapboxgl-ctrl-logo,
.amap-logo {
  display: none !important;
}
.l7-select-box {
  border: 3px dashed gray;
  border-radius: 2px;
  position: absolute;
  z-index: 999;
  box-sizing: border-box;
}
.l7-control-container {
  font:
    12px/1.5 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
}
.l7-control-container .l7-control {
  position: relative;
  z-index: 999;
  float: left;
  clear: both;
  color: #595959;
  font-size: 12px;
  pointer-events: visiblePainted;
  /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}
.l7-control-container .l7-control.l7-control--hide {
  display: none;
}
.l7-control-container .l7-top {
  top: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-top .l7-control:not(.l7-control--hide) {
  margin-top: 8px;
}
.l7-control-container .l7-right {
  right: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-right .l7-control:not(.l7-control--hide) {
  margin-right: 8px;
}
.l7-control-container .l7-bottom {
  bottom: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-bottom .l7-control:not(.l7-control--hide) {
  margin-bottom: 8px;
}
.l7-control-container .l7-left {
  left: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-left .l7-control:not(.l7-control--hide) {
  margin-left: 8px;
}
.l7-control-container .l7-center {
  position: absolute;
  display: flex;
  justify-content: center;
}
.l7-control-container .l7-center.l7-top,
.l7-control-container .l7-center.l7-bottom {
  width: 100%;
}
.l7-control-container .l7-center.l7-left,
.l7-control-container .l7-center.l7-right {
  height: 100%;
}
.l7-control-container .l7-center .l7-control {
  margin-right: 8px;
  margin-bottom: 8px;
}
.l7-control-container .l7-row {
  flex-direction: row;
}
.l7-control-container .l7-row.l7-top {
  align-items: flex-start;
}
.l7-control-container .l7-row.l7-bottom {
  align-items: flex-end;
}
.l7-control-container .l7-column {
  flex-direction: column;
}
.l7-control-container .l7-column.l7-left {
  align-items: flex-start;
}
.l7-control-container .l7-column.l7-right {
  align-items: flex-end;
}
.l7-button-control {
  min-width: 28px;
  height: 28px;
  background-color: #fff;
  border-width: 0;
  border-radius: 2px;
  outline: 0;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 6px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  line-height: 16px;
}
.l7-button-control .l7-iconfont {
  fill: #595959;
  color: #595959;
  width: 16px;
  height: 16px;
}
.l7-button-control.l7-button-control--row {
  padding: 0 16px 0 13px;
}
.l7-button-control.l7-button-control--row * + .l7-button-control__text {
  margin-left: 8px;
}
.l7-button-control.l7-button-control--column {
  height: 44px;
  flex-direction: column;
}
.l7-button-control.l7-button-control--column .l7-iconfont {
  margin-top: 3px;
}
.l7-button-control.l7-button-control--column .l7-button-control__text {
  margin-top: 3px;
  font-size: 10px;
  -webkit-transform: scale(0.83333);
          transform: scale(0.83333);
}
.l7-button-control:not(:disabled):hover {
  background-color: #f3f3f3;
}
.l7-button-control:not(:disabled):active {
  background-color: #f3f3f3;
}
.l7-button-control:disabled {
  background-color: #fafafa;
  color: #bdbdbd;
  cursor: not-allowed;
}
.l7-button-control:disabled .l7-iconfont {
  fill: #bdbdbd;
  color: #bdbdbd;
}
.l7-button-control:disabled:hover {
  background-color: #fafafa;
}
.l7-button-control:disabled:active {
  background-color: #fafafa;
}
.l7-popper {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 5;
  color: #595959;
}
.l7-popper.l7-popper-hide {
  display: none;
}
.l7-popper .l7-popper-content {
  min-height: 28px;
  background: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper .l7-popper-arrow {
  width: 0;
  height: 0;
  border-width: 4px;
  border-style: solid;
  border-top-color: transparent;
  border-bottom-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper.l7-popper-left {
  flex-direction: row;
}
.l7-popper.l7-popper-left .l7-popper-arrow {
  border-left-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-right {
  flex-direction: row-reverse;
}
.l7-popper.l7-popper-right .l7-popper-arrow {
  border-right-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-top {
  flex-direction: column;
}
.l7-popper.l7-popper-top .l7-popper-arrow {
  border-top-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-bottom {
  flex-direction: column-reverse;
}
.l7-popper.l7-popper-bottom .l7-popper-arrow {
  border-bottom-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-start {
  align-items: flex-start;
}
.l7-popper.l7-popper-end {
  align-items: flex-end;
}
.l7-select-control--normal {
  padding: 4px 0;
}
.l7-select-control--normal .l7-select-control-item {
  display: flex;
  align-items: center;
  height: 24px;
  padding: 0 16px;
  font-size: 12px;
  line-height: 24px;
}
.l7-select-control--normal .l7-select-control-item > * + * {
  margin-left: 6px;
}
.l7-select-control--normal .l7-select-control-item input[type='checkbox'] {
  width: 14px;
  height: 14px;
}
.l7-select-control--normal .l7-select-control-item:hover {
  background-color: #f3f3f3;
}
.l7-select-control--image {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  box-sizing: content-box;
  max-width: 460px;
  max-height: 400px;
  margin: 12px 0 0 12px;
  overflow-x: hidden;
  overflow-y: auto;
}
.l7-select-control--image .l7-select-control-item {
  position: relative;
  display: flex;
  flex: 0 0 calc((100% - (12px + 9px) * 2) / 3);
  flex-direction: column;
  justify-content: center;
  box-sizing: content-box;
  margin-right: 12px;
  margin-bottom: 12px;
  overflow: hidden;
  font-size: 12px;
  border: 1px solid #fff;
  border-radius: 2px;
}
.l7-select-control--image .l7-select-control-item img {
  width: 100%;
  height: 80px;
}
.l7-select-control--image .l7-select-control-item input[type='checkbox'] {
  position: absolute;
  top: 0;
  right: 0;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row {
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 26px;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row > * + * {
  margin-left: 8px;
}
.l7-select-control--image .l7-select-control-item.l7-select-control-item-active {
  border-color: #0370fe;
}
.l7-select-control-item {
  cursor: pointer;
}
.l7-select-control-item input[type='checkbox'] {
  margin: 0;
  cursor: pointer;
}
.l7-select-control--multiple .l7-select-control-item:hover {
  background-color: transparent;
}
.l7-control-logo {
  width: 89px;
  height: 16px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.l7-control-logo img {
  height: 100%;
  width: 100%;
}
.l7-control-logo .l7-control-logo-link {
  display: block;
  cursor: pointer;
}
.l7-control-logo .l7-control-logo-link img {
  cursor: pointer;
}
.l7-control-mouse-location {
  background-color: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  padding: 2px 4px;
  min-width: 130px;
}
.l7-control-zoom {
  overflow: hidden;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-control-zoom .l7-button-control {
  font-size: 16px;
  border-bottom: 1px solid #f0f0f0;
  border-radius: 0;
  box-shadow: 0 0 0;
}
.l7-control-zoom .l7-button-control .l7-iconfont {
  width: 14px;
  height: 14px;
}
.l7-control-zoom .l7-button-control:last-child {
  border-bottom: 0;
}
.l7-control-zoom .l7-control-zoom__number {
  color: #595959;
  padding: 0;
}
.l7-control-zoom .l7-control-zoom__number:hover {
  background-color: #fff;
}
.l7-control-scale {
  display: flex;
  flex-direction: column;
}
.l7-control-scale .l7-control-scale-line {
  box-sizing: border-box;
  padding: 2px 5px 1px;
  overflow: hidden;
  color: #595959;
  font-size: 10px;
  line-height: 1.1;
  white-space: nowrap;
  background: #fff;
  border: 2px solid #000;
  border-top: 0;
  transition: width 0.1s;
}
.l7-control-scale .l7-control-scale-line + .l7-control-scale .l7-control-scale-line {
  margin-top: -2px;
  border-top: 2px solid #777;
  border-bottom: none;
}
.l7-right .l7-control-scale {
  display: flex;
  align-items: flex-end;
}
.l7-right .l7-control-scale .l7-control-scale-line {
  text-align: right;
}
.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  display: flex;
  will-change: transform;
  pointer-events: none;
}
.l7-popup.l7-popup-hide {
  display: none;
}
.l7-popup .l7-popup-content {
  position: relative;
  padding: 16px;
  font-size: 14px;
  background: #fff;
  border-radius: 3px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}
.l7-popup .l7-popup-content .l7-popup-content__title {
  margin-bottom: 8px;
  font-weight: bold;
}
.l7-popup .l7-popup-content .l7-popup-close-button,
.l7-popup .l7-popup-content .l7-popup-content__title,
.l7-popup .l7-popup-content .l7-popup-content__panel {
  white-space: normal;
  -webkit-user-select: text;
     -moz-user-select: text;
      -ms-user-select: text;
          user-select: text;
  pointer-events: initial;
}
.l7-popup .l7-popup-content .l7-popup-close-button {
  position: absolute;
  top: 0;
  right: 0;
  width: 18px;
  height: 18px;
  padding: 0;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  background-color: transparent;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
}
.l7-popup .l7-popup-tip {
  position: relative;
  z-index: 1;
  width: 0;
  height: 0;
  border: 10px solid transparent;
}
.l7-popup.l7-popup-anchor-bottom,
.l7-popup.l7-popup-anchor-bottom-left,
.l7-popup.l7-popup-anchor-bottom-right {
  flex-direction: column-reverse;
}
.l7-popup.l7-popup-anchor-bottom .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-right .l7-popup-tip {
  bottom: 1px;
}
.l7-popup.l7-popup-anchor-top,
.l7-popup.l7-popup-anchor-top-left,
.l7-popup.l7-popup-anchor-top-right {
  flex-direction: column;
}
.l7-popup.l7-popup-anchor-top .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-right .l7-popup-tip {
  top: 1px;
}
.l7-popup.l7-popup-anchor-left {
  flex-direction: row;
}
.l7-popup.l7-popup-anchor-right {
  flex-direction: row-reverse;
}
.l7-popup-anchor-top .l7-popup-tip {
  position: relative;
  align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-tip {
  align-self: flex-start;
  border-top: none;
  border-bottom-color: #fff;
  border-left: none;
}
.l7-popup-anchor-top-right .l7-popup-tip {
  align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-bottom .l7-popup-tip {
  align-self: center;
  border-top-color: #fff;
  border-bottom: none;
}
.l7-popup-anchor-bottom-left .l7-popup-tip {
  align-self: flex-start;
  border-top-color: #fff;
  border-bottom: none;
  border-left: none;
}
.l7-popup-anchor-bottom-right .l7-popup-tip {
  align-self: flex-end;
  border-top-color: #fff;
  border-right: none;
  border-bottom: none;
}
.l7-popup-anchor-left .l7-popup-tip {
  align-self: center;
  border-right-color: #fff;
  border-left: none;
}
.l7-popup-anchor-right .l7-popup-tip {
  right: 1px;
  align-self: center;
  border-right: none;
  border-left-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}
.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}
.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}
.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}
.l7-popup-track-pointer {
  display: none;
}
.l7-popup-track-pointer * {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  pointer-events: none;
}
.l7-map:hover .l7-popup-track-pointer {
  display: flex;
}
.l7-map:active .l7-popup-track-pointer {
  display: none;
}
.l7-layer-popup__row {
  font-size: 12px;
}
.l7-layer-popup__row + .l7-layer-popup__row {
  margin-top: 4px;
}
.l7-control-swipe {
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 6;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  touch-action: none;
}
.l7-control-swipe_hide {
  display: none;
}
.l7-control-swipe:before {
  position: absolute;
  top: -5000px;
  bottom: -5000px;
  left: 50%;
  z-index: -1;
  width: 4px;
  background: #fff;
  -webkit-transform: translate(-2px, 0);
          transform: translate(-2px, 0);
  content: '';
}
.l7-control-swipe.horizontal:before {
  top: 50%;
  right: -5000px;
  bottom: auto;
  left: -5000px;
  width: auto;
  height: 4px;
}
.l7-control-swipe__button {
  display: block;
  width: 28px;
  height: 28px;
  margin: 0;
  padding: 0;
  color: #595959;
  font-weight: bold;
  font-size: inherit;
  text-align: center;
  text-decoration: none;
  background-color: #fff;
  border: none;
  border-radius: 2px;
  outline: none;
}
.l7-control-swipe,
.l7-control-swipe__button {
  cursor: ew-resize;
}
.l7-control-swipe.horizontal,
.l7-control-swipe.horizontal button {
  cursor: ns-resize;
}
.l7-control-swipe:after,
.l7-control-swipe__button:before,
.l7-control-swipe__button:after {
  position: absolute;
  top: 25%;
  bottom: 25%;
  left: 50%;
  width: 2px;
  background: currentColor;
  -webkit-transform: translate(-1px, 0);
          transform: translate(-1px, 0);
  content: '';
}
.l7-control-swipe__button:after {
  -webkit-transform: translateX(4px);
          transform: translateX(4px);
}
.l7-control-swipe__button:before {
  -webkit-transform: translateX(-6px);
          transform: translateX(-6px);
}
`);class qkt{constructor(t){fe(this,"configService",void 0),fe(this,"config",void 0),this.config=t}setContainer(t,n){this.configService=t.globalConfigService,t.mapConfig=Pt(Pt({},this.config),{},{id:n}),t.mapService=new(this.getServiceConstructor())(t)}getServiceConstructor(){throw new Error("Method not implemented.")}}var X3={exports:{}},Zkt=X3.exports,tde;function Qkt(){return tde||(tde=1,function(e,t){(function(n,r){e.exports=r()})(Zkt,function(){function n(f){var d=[];return f.AMapUI&&d.push(r(f.AMapUI)),f.Loca&&d.push(i(f.Loca)),Promise.all(d)}function r(f){return new Promise(function(d,h){var p=[];if(f.plugins)for(var v=0;v<f.plugins.length;v+=1)o.AMapUI.plugins.indexOf(f.plugins[v])==-1&&p.push(f.plugins[v]);if(s.AMapUI===a.failed)h("前次请求 AMapUI 失败");else if(s.AMapUI===a.notload){s.AMapUI=a.loading,o.AMapUI.version=f.version||o.AMapUI.version,v=o.AMapUI.version;var g=document.body||document.head,m=document.createElement("script");m.type="text/javascript",m.src="https://webapi.amap.com/ui/"+v+"/main.js",m.onerror=function(b){s.AMapUI=a.failed,h("请求 AMapUI 失败")},m.onload=function(){if(s.AMapUI=a.loaded,p.length)window.AMapUI.loadUI(p,function(){for(var b=0,_=p.length;b<_;b++){var x=p[b].split("/").slice(-1)[0];window.AMapUI[x]=arguments[b]}for(d();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()});else for(d();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()},g.appendChild(m)}else s.AMapUI===a.loaded?f.version&&f.version!==o.AMapUI.version?h("不允许多个版本 AMapUI 混用"):p.length?window.AMapUI.loadUI(p,function(){for(var b=0,_=p.length;b<_;b++){var x=p[b].split("/").slice(-1)[0];window.AMapUI[x]=arguments[b]}d()}):d():f.version&&f.version!==o.AMapUI.version?h("不允许多个版本 AMapUI 混用"):l.AMapUI.push(function(b){b?h(b):p.length?window.AMapUI.loadUI(p,function(){for(var _=0,x=p.length;_<x;_++){var E=p[_].split("/").slice(-1)[0];window.AMapUI[E]=arguments[_]}d()}):d()})})}function i(f){return new Promise(function(d,h){if(s.Loca===a.failed)h("前次请求 Loca 失败");else if(s.Loca===a.notload){s.Loca=a.loading,o.Loca.version=f.version||o.Loca.version;var p=o.Loca.version,v=o.AMap.version.startsWith("2"),g=p.startsWith("2");if(v&&!g||!v&&g)h("JSAPI 与 Loca 版本不对应！！");else{v=o.key,g=document.body||document.head;var m=document.createElement("script");m.type="text/javascript",m.src="https://webapi.amap.com/loca?v="+p+"&key="+v,m.onerror=function(b){s.Loca=a.failed,h("请求 AMapUI 失败")},m.onload=function(){for(s.Loca=a.loaded,d();l.Loca.length;)l.Loca.splice(0,1)[0]()},g.appendChild(m)}}else s.Loca===a.loaded?f.version&&f.version!==o.Loca.version?h("不允许多个版本 Loca 混用"):d():f.version&&f.version!==o.Loca.version?h("不允许多个版本 Loca 混用"):l.Loca.push(function(b){b?h(b):h()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var a;(function(f){f.notload="notload",f.loading="loading",f.loaded="loaded",f.failed="failed"})(a||(a={}));var o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},l={AMap:[],AMapUI:[],Loca:[]},u=[],c=function(f){typeof f=="function"&&(s.AMap===a.loaded?f(window.AMap):u.push(f))};return{load:function(f){return new Promise(function(d,h){if(s.AMap==a.failed)h("");else if(s.AMap==a.notload){var p=f.key,v=f.version,g=f.plugins;p?(window.AMap&&location.host!=="lbs.amap.com"&&h("禁止多种API加载方式混用"),o.key=p,o.AMap.version=v||o.AMap.version,o.AMap.plugins=g||o.AMap.plugins,s.AMap=a.loading,v=document.body||document.head,window.___onAPILoaded=function(b){if(delete window.___onAPILoaded,b)s.AMap=a.failed,h(b);else for(s.AMap=a.loaded,n(f).then(function(){d(window.AMap)}).catch(h);u.length;)u.splice(0,1)[0]()},g=document.createElement("script"),g.type="text/javascript",g.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+o.AMap.version+"&key="+p+"&plugin="+o.AMap.plugins.join(","),g.onerror=function(b){s.AMap=a.failed,h(b)},v.appendChild(g)):h("请填写key")}else if(s.AMap==a.loaded)if(f.key&&f.key!==o.key)h("多个不一致的 key");else if(f.version&&f.version!==o.AMap.version)h("不允许多个版本 JSAPI 混用");else{if(p=[],f.plugins)for(v=0;v<f.plugins.length;v+=1)o.AMap.plugins.indexOf(f.plugins[v])==-1&&p.push(f.plugins[v]);p.length?window.AMap.plugin(p,function(){n(f).then(function(){d(window.AMap)}).catch(h)}):n(f).then(function(){d(window.AMap)}).catch(h)}else if(f.key&&f.key!==o.key)h("多个不一致的 key");else if(f.version&&f.version!==o.AMap.version)h("不允许多个版本 JSAPI 混用");else{var m=[];if(f.plugins)for(v=0;v<f.plugins.length;v+=1)o.AMap.plugins.indexOf(f.plugins[v])==-1&&m.push(f.plugins[v]);c(function(){m.length?window.AMap.plugin(m,function(){n(f).then(function(){d(window.AMap)}).catch(h)}):n(f).then(function(){d(window.AMap)}).catch(h)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,o={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:a.notload,AMapUI:a.notload,Loca:a.notload},l={AMap:[],AMapUI:[],Loca:[]}}}})}(X3)),X3.exports}var Jkt=Qkt();const e5t=ni(Jkt);class t5t{constructor(t){fe(this,"size",1e4),this.size=t||1e4}setSize(t){this.size=t}getSize(){return[this.size,this.size]}mercatorXfromLng(t){return(180+t)/360*this.size}mercatorYfromLat(t){return(1-(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360)*this.size}lngFromMercatorX(t){return t/this.size*360-180}latFromMercatorY(t){const n=180-(1-t/this.size)*360;return 360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90}project(t){const n=this.mercatorXfromLng(t[0]),r=this.mercatorYfromLat(t[1]);return[n,r]}unproject(t){const n=this.lngFromMercatorX(t[0]),r=this.latFromMercatorY(t[1]);return[n,r]}}const n5t=12;class r5t{constructor(t){fe(this,"map",void 0),fe(this,"simpleMapCoord",new t5t),fe(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),fe(this,"config",void 0),fe(this,"configService",void 0),fe(this,"coordinateSystemService",void 0),fe(this,"eventEmitter",void 0),fe(this,"markerContainer",void 0),fe(this,"mapContainer",void 0),fe(this,"cameraChangedCallback",void 0),this.config=t.mapConfig,this.configService=t.globalConfigService,this.coordinateSystemService=t.coordinateSystemService,this.eventEmitter=new Xu.EventEmitter}onCameraChanged(t){this.cameraChangedCallback=t}updateView(t){var n;this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:t.bearing,center:t.center,viewportHeight:t.viewportHeight,pitch:t.pitch,viewportWidth:t.viewportWidth,zoom:t.zoom}),this.updateCoordinateSystemService(),(n=this.cameraChangedCallback)===null||n===void 0||n.call(this,this.viewport)}updateCoordinateSystemService(){const{offsetCoordinate:t=!0}=this.config;this.viewport.getZoom()>n5t&&t?this.coordinateSystemService.setCoordinateSystem(PO.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(PO.LNGLAT)}creatMapContainer(t){let n;return typeof t=="string"?n=document.getElementById(t):n=t,n}getMapStyleValue(t){var n;return(n=this.getMapStyleConfig()[t])!==null&&n!==void 0?n:t}setBgColor(t){this.bgColor=t}getMapContainer(){return this.mapContainer}getMarkerContainer(){return this.markerContainer}getOverlayContainer(){}getCanvasOverlays(){}emit(t,...n){this.eventEmitter.emit(t,...n)}once(t,n){this.eventEmitter.once(t,n)}meterToCoord(t,n){return 1}destroy(){this.eventEmitter.removeAllListeners()}}function bwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i5t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$2e(r.key),r)}}function xwe(e,t,n){return t&&i5t(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a5t(e,t){if(t&&(nx(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RE(e)}function Mz(e){return Mz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mz(e)}function Oz(e,t){return Oz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Oz(e,t)}function o5t(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oz(e,t)}function s5t(e){if(Array.isArray(e))return e}function l5t(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function nde(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u5t(e,t){if(e){if(typeof e=="string")return nde(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nde(e,t):void 0}}function c5t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cc(e,t){return s5t(e)||l5t(e,t)||u5t(e,t)||c5t()}function h2(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function K3(e,t){var n=Mj([],t,e);return rMt(n,n,1/n[3]),n}function Iy(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}var kf=Math.PI,Swe=kf/4,Cg=kf/180,rde=180/kf,Xj=512,ide=4003e4,f5t=1.5;function Awe(e){return Math.pow(2,e)}function y7(e,t){var n=Cc(e,2),r=n[0],i=n[1];Iy(Number.isFinite(r)&&Number.isFinite(t)),Iy(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude"),t*=Xj;var a=r*Cg,o=i*Cg,s=t*(a+kf)/(2*kf),l=t*(kf-Math.log(Math.tan(Swe+o*.5)))/(2*kf);return[s,l]}function ade(e,t){var n=Cc(e,2),r=n[0],i=n[1];t*=Xj;var a=r/t*(2*kf)-kf,o=2*(Math.atan(Math.exp(kf-i/t*(2*kf)))-Swe);return[a*rde,o*rde]}function d5t(e){var t=e.latitude,n=e.longitude,r=e.zoom,i=e.scale,a=e.highPrecision,o=a===void 0?!1:a;i=i!==void 0?i:Awe(r),Iy(Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(i));var s={},l=Xj*i,u=Math.cos(t*Cg),c=l/360,f=c/u,d=l/ide/u;if(s.pixelsPerMeter=[d,-d,d],s.metersPerPixel=[1/d,-1/d,1/d],s.pixelsPerDegree=[c,-f,d],s.degreesPerPixel=[1/c,-1/f,1/d],o){var h=Cg*Math.tan(t*Cg)/u,p=c*h/2,v=l/ide*h,g=v/f*d;s.pixelsPerDegree2=[0,-p,v],s.pixelsPerMeter2=[g,0,g]}return s}function h5t(e){var t=e.height,n=e.pitch,r=e.bearing,i=e.altitude,a=e.center,o=a===void 0?null:a,s=e.flipY,l=s===void 0?!1:s,u=h2();return LO(u,u,[0,0,-i]),NO(u,u,[1,1,1/t]),Ij(u,u,-n*Cg),Y2e(u,u,r*Cg),l&&NO(u,u,[1,-1,1]),o&&LO(u,u,J3t([],o)),u}function p5t(e){var t=e.width,n=e.height,r=e.altitude,i=r===void 0?f5t:r,a=e.pitch,o=a===void 0?0:a,s=e.nearZMultiplier,l=s===void 0?1:s,u=e.farZMultiplier,c=u===void 0?1:u,f=o*Cg,d=Math.atan(.5/i),h=Math.sin(d)*i/Math.sin(Math.PI/2-f-d),p=Math.cos(Math.PI/2-f)*h+i;return{fov:2*Math.atan(n/2/i),aspect:t/n,focalDistance:i,near:l,far:p*c}}function v5t(e){var t=e.width,n=e.height,r=e.pitch,i=e.altitude,a=e.nearZMultiplier,o=e.farZMultiplier,s=p5t({width:t,height:n,altitude:i,pitch:r,nearZMultiplier:a,farZMultiplier:o}),l=s.fov,u=s.aspect,c=s.near,f=s.far,d=Z3t([],l,u,c,f);return d}function g5t(e,t){var n=Cc(e,3),r=n[0],i=n[1],a=n[2],o=a===void 0?0:a;return Iy(Number.isFinite(r)&&Number.isFinite(i)&&Number.isFinite(o)),K3(t,[r,i,o,1])}function Ewe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Cc(e,3),i=r[0],a=r[1],o=r[2];if(Iy(Number.isFinite(i)&&Number.isFinite(a),"invalid pixel coordinate"),Number.isFinite(o)){var s=K3(t,[i,a,o,1]);return s}var l=K3(t,[i,a,0,1]),u=K3(t,[i,a,1,1]),c=l[2],f=u[2],d=c===f?0:((n||0)-c)/(f-c);return oMt([],l,u,d)}var ode=h2(),m5t=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width,r=t.height,i=t.viewMatrix,a=i===void 0?ode:i,o=t.projectionMatrix,s=o===void 0?ode:o;bwe(this,e),this.width=n||1,this.height=r||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=a,this.projectionMatrix=s;var l=h2();pb(l,l,this.projectionMatrix),pb(l,l,this.viewMatrix),this.viewProjectionMatrix=l;var u=h2();NO(u,u,[this.width/2,-this.height/2,1]),LO(u,u,[1,-1,0]),pb(u,u,this.viewProjectionMatrix);var c=G2e(h2(),u);if(!c)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=u,this.pixelUnprojectionMatrix=c,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return xwe(e,[{key:"equals",value:function(n){return n instanceof e?n.width===this.width&&n.height===this.height&&Bue(n.projectionMatrix,this.projectionMatrix)&&Bue(n.viewMatrix,this.viewMatrix):!1}},{key:"project",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.topLeft,a=i===void 0?!0:i,o=this.projectPosition(n),s=g5t(o,this.pixelProjectionMatrix),l=Cc(s,2),u=l[0],c=l[1],f=a?c:this.height-c;return n.length===2?[u,f]:[u,f,s[2]]}},{key:"unproject",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.topLeft,a=i===void 0?!0:i,o=r.targetZ,s=Cc(n,3),l=s[0],u=s[1],c=s[2],f=a?u:this.height-u,d=o&&o*this.pixelsPerMeter,h=Ewe([l,f,c],this.pixelUnprojectionMatrix,d),p=this.unprojectPosition(h),v=Cc(p,3),g=v[0],m=v[1],b=v[2];return Number.isFinite(c)?[g,m,b]:Number.isFinite(o)?[g,m,o]:[g,m]}},{key:"projectPosition",value:function(n){var r=this.projectFlat(n),i=Cc(r,2),a=i[0],o=i[1],s=(n[2]||0)*this.pixelsPerMeter;return[a,o,s]}},{key:"unprojectPosition",value:function(n){var r=this.unprojectFlat(n),i=Cc(r,2),a=i[0],o=i[1],s=(n[2]||0)/this.pixelsPerMeter;return[a,o,s]}},{key:"projectFlat",value:function(n){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale,n}},{key:"unprojectFlat",value:function(n){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale,n}}]),e}();function y5t(e){var t=e.width,n=e.height,r=e.bounds,i=e.minExtent,a=i===void 0?0:i,o=e.maxZoom,s=o===void 0?24:o,l=e.padding,u=l===void 0?0:l,c=e.offset,f=c===void 0?[0,0]:c,d=Cc(r,2),h=Cc(d[0],2),p=h[0],v=h[1],g=Cc(d[1],2),m=g[0],b=g[1];if(Number.isFinite(u)){var _=u;u={top:_,bottom:_,left:_,right:_}}else Iy(Number.isFinite(u.top)&&Number.isFinite(u.bottom)&&Number.isFinite(u.left)&&Number.isFinite(u.right));var x=new Dz({width:t,height:n,longitude:0,latitude:0,zoom:0}),E=x.project([p,b]),A=x.project([m,v]),T=[Math.max(Math.abs(A[0]-E[0]),a),Math.max(Math.abs(A[1]-E[1]),a)],R=[t-u.left-u.right-Math.abs(f[0])*2,n-u.top-u.bottom-Math.abs(f[1])*2];Iy(R[0]>0&&R[1]>0);var M=R[0]/T[0],O=R[1]/T[1],D=(u.right-u.left)/2/M,C=(u.bottom-u.top)/2/O,P=[(A[0]+E[0])/2+D,(A[1]+E[1])/2+C],B=x.unproject(P),U=x.zoom+Math.log2(Math.abs(Math.min(M,O)));return{longitude:B[0],latitude:B[1],zoom:Math.min(U,s)}}var Dz=function(e){o5t(t,e);function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=r.width,a=r.height,o=r.latitude,s=o===void 0?0:o,l=r.longitude,u=l===void 0?0:l,c=r.zoom,f=c===void 0?0:c,d=r.pitch,h=d===void 0?0:d,p=r.bearing,v=p===void 0?0:p,g=r.altitude,m=g===void 0?1.5:g,b=r.nearZMultiplier,_=r.farZMultiplier;bwe(this,t),i=i||1,a=a||1;var x=Awe(f);m=Math.max(.75,m);var E=y7([u,s],x);E[2]=0;var A=v5t({width:i,height:a,pitch:h,bearing:v,altitude:m,nearZMultiplier:b||1/a,farZMultiplier:_||1.01}),T=h5t({height:a,center:E,pitch:h,bearing:v,altitude:m,flipY:!0});return n=a5t(this,Mz(t).call(this,{width:i,height:a,viewMatrix:T,projectionMatrix:A})),n.latitude=s,n.longitude=u,n.zoom=f,n.pitch=h,n.bearing=v,n.altitude=m,n.scale=x,n.center=E,n.pixelsPerMeter=d5t(RE(RE(n))).pixelsPerMeter[2],Object.freeze(RE(RE(n))),n}return xwe(t,[{key:"projectFlat",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return y7(r,i)}},{key:"unprojectFlat",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return ade(r,i)}},{key:"getMapCenterByLngLatPosition",value:function(r){var i=r.lngLat,a=r.pos,o=Ewe(a,this.pixelUnprojectionMatrix),s=y7(i,this.scale),l=Jv([],s,aMt([],o)),u=Jv([],this.center,l);return ade(u,this.scale)}},{key:"getLocationAtPoint",value:function(r){var i=r.lngLat,a=r.pos;return this.getMapCenterByLngLatPosition({lngLat:i,pos:a})}},{key:"fitBounds",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.width,o=this.height,s=y5t(Object.assign({width:a,height:o,bounds:r},i)),l=s.longitude,u=s.latitude,c=s.zoom;return new t({width:a,height:o,longitude:l,latitude:u,zoom:c})}}]),t}(m5t);class _5t{constructor(){fe(this,"viewport",new Dz)}syncWithMapCamera(t){const{center:n,zoom:r,pitch:i,bearing:a,viewportHeight:o,viewportWidth:s}=t,l={width:this.viewport.width,height:this.viewport.height,longitude:this.viewport.center[0],latitude:this.viewport.center[1],zoom:this.viewport.zoom,pitch:this.viewport.pitch,bearing:this.viewport.bearing};this.viewport=new Dz(Pt(Pt({},l),{},{width:s,height:o,longitude:n&&n[0],latitude:n&&n[1],zoom:r,pitch:i,bearing:a}))}getZoom(){return this.viewport.zoom}getZoomScale(){return Math.pow(2,this.getZoom())}getCenter(){return[this.viewport.longitude,this.viewport.latitude]}getProjectionMatrix(){return this.viewport.projectionMatrix}getModelMatrix(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}getViewMatrix(){return this.viewport.viewMatrix}getViewMatrixUncentered(){return this.viewport.viewMatrixUncentered}getViewProjectionMatrix(){return this.viewport.viewProjectionMatrix}getViewProjectionMatrixUncentered(){return this.viewport.viewProjectionMatrix}getFocalDistance(){return 1}projectFlat(t,n){return this.viewport.projectFlat(t,n)}}let b5t=function(e){return e.GAODE="GAODE",e.MAPBOX="MAPBOX",e.DEFAULT="DEFAUlTMAP",e.SIMPLE="SIMPLE",e.GLOBEL="GLOBEL",e}({});function sde(e={}){const t={top:0,right:0,bottom:0,left:0};if(typeof e=="number")return{top:e,right:e,bottom:e,left:e};if(Array.isArray(e)){if(e.length===4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]}}return Pt(Pt({},t),e)}const x5t={normal:"amap://styles/normal",light:"amap://styles/c422f5c0cfced5be9fe3a83f05f28a68?isPublic=true",dark:"amap://styles/c9f1d10cae34f8ab05e425462c5a58d7?isPublic=true",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true",fresh:"amap://styles/fresh",grey:"amap://styles/grey",graffiti:"amap://styles/graffiti",macaron:"amap://styles/macaron",darkblue:"amap://styles/darkblue",wine:"amap://styles/wine"},S5t=["id","style","minZoom","maxZoom","token","mapInstance","plugin"];function A5t(e,t){var n=typeof my<"u"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,r=typeof wx<"u"&&wx!==null&&(typeof wx.request<"u"||typeof wx.miniProgram<"u");if(!(n||r)&&(t||(t=document),!!t)){var i=t.head||t.getElementsByTagName("head")[0];if(!i){i=t.createElement("head");var a=t.body||t.getElementsByTagName("body")[0];a?a.parentNode.insertBefore(i,a):t.documentElement.appendChild(i)}var o=t.createElement("style");return o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),i.appendChild(o),o}}A5t(`.amap-logo {
  display: none !important;
}
.amap-copyright {
  display: none !important;
}
.amap-overlays {
  z-index: 3 !important;
}
`);const E5t="2.0",lde="f59bcf249433f8b05caaee19f349b3d7",f0=1,ude={contextmenu:"rightclick",camerachange:"viewchange"};class T5t extends r5t{constructor(...t){super(...t),fe(this,"viewport",new _5t),fe(this,"version",b5t.GAODE),fe(this,"handleCameraChanged",()=>{const n=this.getViewState();this.updateView(n)})}getType(){return"amap"}init(){var t=this;return Ut(function*(){const n=t.config,{id:r,style:i="light",minZoom:a=0,maxZoom:o=24,token:s=lde,mapInstance:l,plugin:u=[]}=n,c=sh(n,S5t);if(window.AMap||l||(u.push("Map3D"),yield e5t.load({key:s,version:E5t,plugins:u})),l)t.map=l,t.mapContainer=t.map.getContainer(),t.map.on("viewchange",t.handleCameraChanged);else{const f=Pt({mapStyle:t.getMapStyleValue(i),zooms:[a,o],viewMode:"3D"},c);if(f.zoom&&(f.zoom+=f0),s===lde&&(window._AMapSecurityConfig={securityJsCode:"2653011adeb04230b3a26cc9a780a800"},console.warn(`%c${t.configService.getSceneWarninfo("MapToken")}!`,"color: #873bf4;font-weigh:900;font-size: 16px;")),!r)throw Error("No container id specified");window.forceWebGL=!0,t.mapContainer=t.creatMapContainer(r);const d=new AMap.Map(t.mapContainer,f);t.map=d,d.on("viewchange",t.handleCameraChanged)}t.syncInitViewPort()})()}syncInitViewPort(){const t=this.getViewState();this.updateView(t)}getViewState(){const{center:t,zoom:n}=w5t(this.map);return{center:t,viewportWidth:this.map.getContainer().clientWidth,viewportHeight:this.map.getContainer().clientHeight,bearing:-this.map.getRotation(),pitch:this.map.getPitch(),zoom:n-f0}}creatMapContainer(t){const n=super.creatMapContainer(t),r=document.createElement("div");return r.style.cssText+=`
       position: absolute;
       top: 0;
       height: 100%;
       width: 100%;
     `,r.id=Oo.uniqueId("l7_amap_div"),n.appendChild(r),r}getContainer(){return this.map.getContainer()}addMarkerContainer(){if(!this.map)return;const t=this.map.getContainer();if(t!==null){const n=t.getElementsByClassName("amap-maps")[0];n.style.zIndex="auto",this.markerContainer=Gu("div","l7-marker-container2",n)}}getMarkerContainer(){return this.markerContainer}getCanvasOverlays(){var t;return(t=this.mapContainer)===null||t===void 0?void 0:t.querySelector(".amap-overlays")}on(t,n){Cue.indexOf(t)!==-1?this.eventEmitter.on(t,n):this.map.on(ude[t]||t,n)}off(t,n){Cue.indexOf(t)!==-1?this.eventEmitter.off(t,n):this.map.off(ude[t]||t,n)}getSize(){const t=this.map.getSize();return[t.getWidth(),t.getHeight()]}getMinZoom(){return this.map.getZooms()[0]-f0}getMaxZoom(){return this.map.getZooms()[1]-f0}getZoom(){return this.map.getZoom()-f0}getCenter(t){if(t!=null&&t.padding){const r=this.getCenter(),i=sde(t.padding),a=this.lngLatToPixel([r.lng,r.lat]),o=[(i.right-i.left)/2,(i.bottom-i.top)/2];return this.pixelToLngLat([a.x-o[0],a.y-o[1]])}const n=this.map.getCenter();return{lng:n.getLng(),lat:n.getLat()}}getPitch(){return this.map.getPitch()}getRotation(){return 360-this.map.getRotation()}getBounds(){const t=this.map.getBounds(),n=t.getNorthEast(),r=t.getSouthWest(),i=this.getCenter(),a=i.lng>n.getLng()||i.lng<r.getLng()?180-n.getLng():n.getLng();return[[i.lng<r.getLng()?r.getLng()-180:r.getLng(),r.getLat()],[a,n.getLat()]]}getMapContainer(){return this.mapContainer}getMapCanvasContainer(){var t;return(t=this.map.getContainer())===null||t===void 0?void 0:t.getElementsByClassName("amap-maps")[0]}getMapStyleConfig(){return x5t}getMapStyleValue(t){return this.getMapStyleConfig()[t]||t}getMapStyle(){return this.map.getMapStyle()}setMapStyle(t){this.map.setMapStyle(this.getMapStyleValue(t))}setRotation(t){return this.map.setRotation(t)}zoomIn(){this.map.zoomIn()}zoomOut(){this.map.zoomOut()}panTo(t){this.map.panTo(t)}panBy(t=0,n=0){this.map.panBy(t,n)}fitBounds(t){this.map.setBounds(new AMap.Bounds([t[0][0],t[0][1],t[1][0],t[1][1]]),!0)}setZoomAndCenter(t,n){this.map.setZoomAndCenter(t+f0,n)}setCenter(t,n){if(n!=null&&n.padding){const r=sde(n.padding),i=this.lngLatToPixel(t),a=[(r.right-r.left)/2,(r.bottom-r.top)/2],o=this.pixelToLngLat([i.x+a[0],i.y+a[1]]);this.map.setCenter([o.lng,o.lat])}else this.map.setCenter(t)}setPitch(t){return this.map.setPitch(t)}setZoom(t){return this.map.setZoom(t+f0)}setMaxZoom(t){throw new Error("Method not implemented.")}setMinZoom(t){throw new Error("Method not implemented.")}setMapStatus(t){this.map.setStatus(t)}meterToCoord(t,n){const r=AMap.GeometryUtil.distance(new AMap.LngLat(...t),new AMap.LngLat(...n)),[i,a]=R8(...t),[o,s]=R8(...n);return Math.sqrt(Math.pow(i-o,2)+Math.pow(a-s,2))/r}pixelToLngLat(t){const n=this.map.pixelToLngLat(new AMap.Pixel(t[0],t[1]));return{lng:n.getLng(),lat:n.getLat()}}lngLatToPixel(t){const n=this.map.lnglatToPixel(t);return{x:n.getX(),y:n.getY()}}containerToLngLat(t){const n=new AMap.Pixel(t[0],t[1]),r=this.map.containerToLngLat(n);return{lng:r==null?void 0:r.getLng(),lat:r==null?void 0:r.getLat()}}lngLatToContainer(t){const n=this.map.lngLatToContainer(t);return{x:n.getX(),y:n.getY()}}lngLatToMercator([t,n],r){const[i,a]=R8(t,n);return{x:i,y:a,z:r}}getModelMatrix(t,n,r,i=[1,1,1]){const a=this.viewport.projectFlat(t),o=Rj();return LO(o,o,Mf(a[0],a[1],n)),NO(o,o,Mf(i[0],i[1],i[2])),Ij(o,o,r[0]),j2e(o,o,r[1]),Y2e(o,o,r[2]),o}exportMap(t){var n;const r=(n=this.getContainer())===null||n===void 0?void 0:n.getElementsByClassName("amap-layer")[0];return t==="jpg"?r==null?void 0:r.toDataURL("image/jpeg"):r==null?void 0:r.toDataURL("image/png")}destroy(){var t;super.destroy(),(t=this.mapContainer)===null||t===void 0||(t=t.parentNode)===null||t===void 0||t.removeChild(this.mapContainer),delete window.initAMap;const n=document.getElementById("amap-script");n&&document.head.removeChild(n),this.map.destroy()}}function w5t(e){const t=e._view.getOptions(),n=t.center,r=t.zoom;return{center:n,zoom:r}}class C5t extends qkt{getServiceConstructor(){return T5t}}const fL=C5t;function Oc(e){return e==null}var R5t=function(e,t,n){return e<t?t:e>n?n:e};function z1(e){return typeof e=="number"}var Pz=function(e,t){return Pz=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Pz(e,t)};function ja(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pz(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var $a=function(){return $a=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},$a.apply(this,arguments)};function I5t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function vb(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(c){try{u(r.next(c))}catch(f){o(f)}}function l(c){try{u(r.throw(c))}catch(f){o(f)}}function u(c){c.done?a(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}function gb(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function My(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function YA(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var _7={exports:{}},cde;function M5t(){return cde||(cde=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var h=new i(c,f||l,d),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,d,h,p){var v=n?n+u:u;if(!this._events[v])return!1;var g=this._events[v],m=arguments.length,b,_;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,c),!0;case 3:return g.fn.call(g.context,c,f),!0;case 4:return g.fn.call(g.context,c,f,d),!0;case 5:return g.fn.call(g.context,c,f,d,h),!0;case 6:return g.fn.call(g.context,c,f,d,h,p),!0}for(_=1,b=new Array(m-1);_<m;_++)b[_-1]=arguments[_];g.fn.apply(g.context,b)}else{var x=g.length,E;for(_=0;_<x;_++)switch(g[_].once&&this.removeListener(u,g[_].fn,void 0,!0),m){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,c);break;case 3:g[_].fn.call(g[_].context,c,f);break;case 4:g[_].fn.call(g[_].context,c,f,d);break;default:if(!b)for(E=1,b=new Array(m-1);E<m;E++)b[E-1]=arguments[E];g[_].fn.apply(g[_].context,b)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,d){var h=n?n+u:u;if(!this._events[h])return this;if(!c)return o(this,h),this;var p=this._events[h];if(p.fn)p.fn===c&&(!d||p.once)&&(!f||p.context===f)&&o(this,h);else{for(var v=0,g=[],m=p.length;v<m;v++)(p[v].fn!==c||d&&!p[v].once||f&&p[v].context!==f)&&g.push(p[v]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(_7)),_7.exports}var O5t=M5t();const Twe=ni(O5t);var Ne;(function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",e[e.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.CULL_FACE=2884]="CULL_FACE",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.BLEND=3042]="BLEND",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.DITHER=3024]="DITHER",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DOUBLE=5130]="DOUBLE",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.ALWAYS=519]="ALWAYS",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.GEQUAL=518]="GEQUAL",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",e[e.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.READ_BUFFER=3074]="READ_BUFFER",e[e.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",e[e.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",e[e.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",e[e.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",e[e.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",e[e.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",e[e.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",e[e.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",e[e.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",e[e.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",e[e.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",e[e.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",e[e.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",e[e.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",e[e.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",e[e.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",e[e.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",e[e.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",e[e.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",e[e.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",e[e.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",e[e.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",e[e.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",e[e.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",e[e.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",e[e.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",e[e.RED=6403]="RED",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB10_A2=32857]="RGB10_A2",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",e[e.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",e[e.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",e[e.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",e[e.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",e[e.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",e[e.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",e[e.SRGB=35904]="SRGB",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",e[e.RGBA32F=34836]="RGBA32F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.RGB16F=34843]="RGB16F",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R16F=33325]="R16F",e[e.R32F=33326]="R32F",e[e.RG16F=33327]="RG16F",e[e.RG32F=33328]="RG32F",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2UI=36975]="RGB10_A2UI",e[e.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",e[e.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.RG=33319]="RG",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",e[e.CURRENT_QUERY=34917]="CURRENT_QUERY",e[e.QUERY_RESULT=34918]="QUERY_RESULT",e[e.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",e[e.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",e[e.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",e[e.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",e[e.DRAW_BUFFER0=34853]="DRAW_BUFFER0",e[e.DRAW_BUFFER1=34854]="DRAW_BUFFER1",e[e.DRAW_BUFFER2=34855]="DRAW_BUFFER2",e[e.DRAW_BUFFER3=34856]="DRAW_BUFFER3",e[e.DRAW_BUFFER4=34857]="DRAW_BUFFER4",e[e.DRAW_BUFFER5=34858]="DRAW_BUFFER5",e[e.DRAW_BUFFER6=34859]="DRAW_BUFFER6",e[e.DRAW_BUFFER7=34860]="DRAW_BUFFER7",e[e.DRAW_BUFFER8=34861]="DRAW_BUFFER8",e[e.DRAW_BUFFER9=34862]="DRAW_BUFFER9",e[e.DRAW_BUFFER10=34863]="DRAW_BUFFER10",e[e.DRAW_BUFFER11=34864]="DRAW_BUFFER11",e[e.DRAW_BUFFER12=34865]="DRAW_BUFFER12",e[e.DRAW_BUFFER13=34866]="DRAW_BUFFER13",e[e.DRAW_BUFFER14=34867]="DRAW_BUFFER14",e[e.DRAW_BUFFER15=34868]="DRAW_BUFFER15",e[e.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",e[e.MAX_SAMPLES=36183]="MAX_SAMPLES",e[e.SAMPLER_BINDING=35097]="SAMPLER_BINDING",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",e[e.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",e[e.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",e[e.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",e[e.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",e[e.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",e[e.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",e[e.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",e[e.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",e[e.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",e[e.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",e[e.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",e[e.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",e[e.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",e[e.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",e[e.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",e[e.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",e[e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",e[e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",e[e.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",e[e.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",e[e.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",e[e.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",e[e.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",e[e.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",e[e.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",e[e.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",e[e.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",e[e.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",e[e.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",e[e.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",e[e.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",e[e.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",e[e.UNIFORM_TYPE=35383]="UNIFORM_TYPE",e[e.UNIFORM_SIZE=35384]="UNIFORM_SIZE",e[e.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",e[e.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",e[e.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",e[e.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",e[e.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",e[e.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",e[e.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",e[e.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",e[e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",e[e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",e[e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS",e[e.SYNC_FENCE=37142]="SYNC_FENCE",e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED",e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED",e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",e[e.COLOR=6144]="COLOR",e[e.DEPTH=6145]="DEPTH",e[e.STENCIL=6146]="STENCIL",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STREAM_COPY=35042]="STREAM_COPY",e[e.STATIC_READ=35045]="STATIC_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",e[e.INVALID_INDEX=4294967295]="INVALID_INDEX",e[e.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",e[e.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",e[e.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE",e[e.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",e[e.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",e[e.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",e[e.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.UNSIGNED_INT_24_8_WEBGL=34042]="UNSIGNED_INT_24_8_WEBGL",e[e.HALF_FLOAT_OES=36193]="HALF_FLOAT_OES",e[e.RGBA32F_EXT=34836]="RGBA32F_EXT",e[e.RGB32F_EXT=34837]="RGB32F_EXT",e[e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT",e[e.UNSIGNED_NORMALIZED_EXT=35863]="UNSIGNED_NORMALIZED_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.SRGB_EXT=35904]="SRGB_EXT",e[e.SRGB_ALPHA_EXT=35906]="SRGB_ALPHA_EXT",e[e.SRGB8_ALPHA8_EXT=35907]="SRGB8_ALPHA8_EXT",e[e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT",e[e.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT_OES",e[e.COLOR_ATTACHMENT0_WEBGL=36064]="COLOR_ATTACHMENT0_WEBGL",e[e.COLOR_ATTACHMENT1_WEBGL=36065]="COLOR_ATTACHMENT1_WEBGL",e[e.COLOR_ATTACHMENT2_WEBGL=36066]="COLOR_ATTACHMENT2_WEBGL",e[e.COLOR_ATTACHMENT3_WEBGL=36067]="COLOR_ATTACHMENT3_WEBGL",e[e.COLOR_ATTACHMENT4_WEBGL=36068]="COLOR_ATTACHMENT4_WEBGL",e[e.COLOR_ATTACHMENT5_WEBGL=36069]="COLOR_ATTACHMENT5_WEBGL",e[e.COLOR_ATTACHMENT6_WEBGL=36070]="COLOR_ATTACHMENT6_WEBGL",e[e.COLOR_ATTACHMENT7_WEBGL=36071]="COLOR_ATTACHMENT7_WEBGL",e[e.COLOR_ATTACHMENT8_WEBGL=36072]="COLOR_ATTACHMENT8_WEBGL",e[e.COLOR_ATTACHMENT9_WEBGL=36073]="COLOR_ATTACHMENT9_WEBGL",e[e.COLOR_ATTACHMENT10_WEBGL=36074]="COLOR_ATTACHMENT10_WEBGL",e[e.COLOR_ATTACHMENT11_WEBGL=36075]="COLOR_ATTACHMENT11_WEBGL",e[e.COLOR_ATTACHMENT12_WEBGL=36076]="COLOR_ATTACHMENT12_WEBGL",e[e.COLOR_ATTACHMENT13_WEBGL=36077]="COLOR_ATTACHMENT13_WEBGL",e[e.COLOR_ATTACHMENT14_WEBGL=36078]="COLOR_ATTACHMENT14_WEBGL",e[e.COLOR_ATTACHMENT15_WEBGL=36079]="COLOR_ATTACHMENT15_WEBGL",e[e.DRAW_BUFFER0_WEBGL=34853]="DRAW_BUFFER0_WEBGL",e[e.DRAW_BUFFER1_WEBGL=34854]="DRAW_BUFFER1_WEBGL",e[e.DRAW_BUFFER2_WEBGL=34855]="DRAW_BUFFER2_WEBGL",e[e.DRAW_BUFFER3_WEBGL=34856]="DRAW_BUFFER3_WEBGL",e[e.DRAW_BUFFER4_WEBGL=34857]="DRAW_BUFFER4_WEBGL",e[e.DRAW_BUFFER5_WEBGL=34858]="DRAW_BUFFER5_WEBGL",e[e.DRAW_BUFFER6_WEBGL=34859]="DRAW_BUFFER6_WEBGL",e[e.DRAW_BUFFER7_WEBGL=34860]="DRAW_BUFFER7_WEBGL",e[e.DRAW_BUFFER8_WEBGL=34861]="DRAW_BUFFER8_WEBGL",e[e.DRAW_BUFFER9_WEBGL=34862]="DRAW_BUFFER9_WEBGL",e[e.DRAW_BUFFER10_WEBGL=34863]="DRAW_BUFFER10_WEBGL",e[e.DRAW_BUFFER11_WEBGL=34864]="DRAW_BUFFER11_WEBGL",e[e.DRAW_BUFFER12_WEBGL=34865]="DRAW_BUFFER12_WEBGL",e[e.DRAW_BUFFER13_WEBGL=34866]="DRAW_BUFFER13_WEBGL",e[e.DRAW_BUFFER14_WEBGL=34867]="DRAW_BUFFER14_WEBGL",e[e.DRAW_BUFFER15_WEBGL=34868]="DRAW_BUFFER15_WEBGL",e[e.MAX_COLOR_ATTACHMENTS_WEBGL=36063]="MAX_COLOR_ATTACHMENTS_WEBGL",e[e.MAX_DRAW_BUFFERS_WEBGL=34852]="MAX_DRAW_BUFFERS_WEBGL",e[e.VERTEX_ARRAY_BINDING_OES=34229]="VERTEX_ARRAY_BINDING_OES",e[e.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",e[e.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",e[e.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",e[e.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",e[e.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",e[e.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",e[e.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT"})(Ne||(Ne={}));var Ti;(function(e){e[e.Buffer=0]="Buffer",e[e.Texture=1]="Texture",e[e.RenderTarget=2]="RenderTarget",e[e.Sampler=3]="Sampler",e[e.Program=4]="Program",e[e.Bindings=5]="Bindings",e[e.InputLayout=6]="InputLayout",e[e.RenderPipeline=7]="RenderPipeline",e[e.ComputePipeline=8]="ComputePipeline",e[e.Readback=9]="Readback",e[e.QueryPool=10]="QueryPool",e[e.RenderBundle=11]="RenderBundle"})(Ti||(Ti={}));var Vi;(function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"})(Vi||(Vi={}));var NT;(function(e){e[e.CCW=2305]="CCW",e[e.CW=2304]="CW"})(NT||(NT={}));var hu;(function(e){e[e.NONE=0]="NONE",e[e.FRONT=1]="FRONT",e[e.BACK=2]="BACK",e[e.FRONT_AND_BACK=3]="FRONT_AND_BACK"})(hu||(hu={}));var ei;(function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC=768]="SRC",e[e.ONE_MINUS_SRC=769]="ONE_MINUS_SRC",e[e.DST=774]="DST",e[e.ONE_MINUS_DST=775]="ONE_MINUS_DST",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.CONST=32769]="CONST",e[e.ONE_MINUS_CONSTANT=32770]="ONE_MINUS_CONSTANT",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE"})(ei||(ei={}));var Ko;(function(e){e[e.ADD=32774]="ADD",e[e.SUBSTRACT=32778]="SUBSTRACT",e[e.REVERSE_SUBSTRACT=32779]="REVERSE_SUBSTRACT",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX"})(Ko||(Ko={}));var wl;(function(e){e[e.CLAMP_TO_EDGE=0]="CLAMP_TO_EDGE",e[e.REPEAT=1]="REPEAT",e[e.MIRRORED_REPEAT=2]="MIRRORED_REPEAT"})(wl||(wl={}));var Qa;(function(e){e[e.POINT=0]="POINT",e[e.BILINEAR=1]="BILINEAR"})(Qa||(Qa={}));var Fo;(function(e){e[e.NO_MIP=0]="NO_MIP",e[e.NEAREST=1]="NEAREST",e[e.LINEAR=2]="LINEAR"})(Fo||(Fo={}));var go;(function(e){e[e.POINTS=0]="POINTS",e[e.TRIANGLES=1]="TRIANGLES",e[e.TRIANGLE_STRIP=2]="TRIANGLE_STRIP",e[e.LINES=3]="LINES",e[e.LINE_STRIP=4]="LINE_STRIP"})(go||(go={}));var ea;(function(e){e[e.MAP_READ=1]="MAP_READ",e[e.MAP_WRITE=2]="MAP_WRITE",e[e.COPY_SRC=4]="COPY_SRC",e[e.COPY_DST=8]="COPY_DST",e[e.INDEX=16]="INDEX",e[e.VERTEX=32]="VERTEX",e[e.UNIFORM=64]="UNIFORM",e[e.STORAGE=128]="STORAGE",e[e.INDIRECT=256]="INDIRECT",e[e.QUERY_RESOLVE=512]="QUERY_RESOLVE"})(ea||(ea={}));var Hf;(function(e){e[e.STATIC=1]="STATIC",e[e.DYNAMIC=2]="DYNAMIC"})(Hf||(Hf={}));var Oy;(function(e){e[e.VERTEX=1]="VERTEX",e[e.INSTANCE=2]="INSTANCE"})(Oy||(Oy={}));var fde;(function(e){e.LOADED="loaded"})(fde||(fde={}));var ti;(function(e){e[e.TEXTURE_2D=0]="TEXTURE_2D",e[e.TEXTURE_2D_ARRAY=1]="TEXTURE_2D_ARRAY",e[e.TEXTURE_3D=2]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP=3]="TEXTURE_CUBE_MAP"})(ti||(ti={}));var tl;(function(e){e[e.SAMPLED=1]="SAMPLED",e[e.RENDER_TARGET=2]="RENDER_TARGET",e[e.STORAGE=4]="STORAGE"})(tl||(tl={}));var Go;(function(e){e[e.NONE=0]="NONE",e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA",e[e.RGB=7]="RGB",e[e.ALL=15]="ALL"})(Go||(Go={}));var Ga;(function(e){e[e.KEEP=7680]="KEEP",e[e.ZERO=0]="ZERO",e[e.REPLACE=7681]="REPLACE",e[e.INVERT=5386]="INVERT",e[e.INCREMENT_CLAMP=7682]="INCREMENT_CLAMP",e[e.DECREMENT_CLAMP=7683]="DECREMENT_CLAMP",e[e.INCREMENT_WRAP=34055]="INCREMENT_WRAP",e[e.DECREMENT_WRAP=34056]="DECREMENT_WRAP"})(Ga||(Ga={}));var Wa;(function(e){e[e.Float=0]="Float",e[e.UnfilterableFloat=1]="UnfilterableFloat",e[e.Uint=2]="Uint",e[e.Sint=3]="Sint",e[e.Depth=4]="Depth"})(Wa||(Wa={}));var Ff;(function(e){e[e.LOWER_LEFT=0]="LOWER_LEFT",e[e.UPPER_LEFT=1]="UPPER_LEFT"})(Ff||(Ff={}));var ox;(function(e){e[e.NEGATIVE_ONE=0]="NEGATIVE_ONE",e[e.ZERO=1]="ZERO"})(ox||(ox={}));var tD;(function(e){e[e.OcclusionConservative=0]="OcclusionConservative"})(tD||(tD={}));var Bt;(function(e){e[e.U8=1]="U8",e[e.U16=2]="U16",e[e.U32=3]="U32",e[e.S8=4]="S8",e[e.S16=5]="S16",e[e.S32=6]="S32",e[e.F16=7]="F16",e[e.F32=8]="F32",e[e.BC1=65]="BC1",e[e.BC2=66]="BC2",e[e.BC3=67]="BC3",e[e.BC4_UNORM=68]="BC4_UNORM",e[e.BC4_SNORM=69]="BC4_SNORM",e[e.BC5_UNORM=70]="BC5_UNORM",e[e.BC5_SNORM=71]="BC5_SNORM",e[e.U16_PACKED_5551=97]="U16_PACKED_5551",e[e.U16_PACKED_565=98]="U16_PACKED_565",e[e.D24=129]="D24",e[e.D32F=130]="D32F",e[e.D24S8=131]="D24S8",e[e.D32FS8=132]="D32FS8"})(Bt||(Bt={}));var Vn;(function(e){e[e.R=1]="R",e[e.RG=2]="RG",e[e.RGB=3]="RGB",e[e.RGBA=4]="RGBA",e[e.A=5]="A"})(Vn||(Vn={}));var Cn;(function(e){e[e.None=0]="None",e[e.Normalized=1]="Normalized",e[e.sRGB=2]="sRGB",e[e.Depth=4]="Depth",e[e.Stencil=8]="Stencil",e[e.RenderTarget=16]="RenderTarget",e[e.Luminance=32]="Luminance"})(Cn||(Cn={}));function ir(e,t,n){return e<<16|t<<8|n}var qe;(function(e){e[e.ALPHA=ir(Bt.U8,Vn.A,Cn.None)]="ALPHA",e[e.U8_LUMINANCE=ir(Bt.U8,Vn.A,Cn.Luminance)]="U8_LUMINANCE",e[e.F16_LUMINANCE=ir(Bt.F16,Vn.A,Cn.Luminance)]="F16_LUMINANCE",e[e.F32_LUMINANCE=ir(Bt.F32,Vn.A,Cn.Luminance)]="F32_LUMINANCE",e[e.F16_R=ir(Bt.F16,Vn.R,Cn.None)]="F16_R",e[e.F16_RG=ir(Bt.F16,Vn.RG,Cn.None)]="F16_RG",e[e.F16_RGB=ir(Bt.F16,Vn.RGB,Cn.None)]="F16_RGB",e[e.F16_RGBA=ir(Bt.F16,Vn.RGBA,Cn.None)]="F16_RGBA",e[e.F32_R=ir(Bt.F32,Vn.R,Cn.None)]="F32_R",e[e.F32_RG=ir(Bt.F32,Vn.RG,Cn.None)]="F32_RG",e[e.F32_RGB=ir(Bt.F32,Vn.RGB,Cn.None)]="F32_RGB",e[e.F32_RGBA=ir(Bt.F32,Vn.RGBA,Cn.None)]="F32_RGBA",e[e.U8_R=ir(Bt.U8,Vn.R,Cn.None)]="U8_R",e[e.U8_R_NORM=ir(Bt.U8,Vn.R,Cn.Normalized)]="U8_R_NORM",e[e.U8_RG=ir(Bt.U8,Vn.RG,Cn.None)]="U8_RG",e[e.U8_RG_NORM=ir(Bt.U8,Vn.RG,Cn.Normalized)]="U8_RG_NORM",e[e.U8_RGB=ir(Bt.U8,Vn.RGB,Cn.None)]="U8_RGB",e[e.U8_RGB_NORM=ir(Bt.U8,Vn.RGB,Cn.Normalized)]="U8_RGB_NORM",e[e.U8_RGB_SRGB=ir(Bt.U8,Vn.RGB,Cn.sRGB|Cn.Normalized)]="U8_RGB_SRGB",e[e.U8_RGBA=ir(Bt.U8,Vn.RGBA,Cn.None)]="U8_RGBA",e[e.U8_RGBA_NORM=ir(Bt.U8,Vn.RGBA,Cn.Normalized)]="U8_RGBA_NORM",e[e.U8_RGBA_SRGB=ir(Bt.U8,Vn.RGBA,Cn.sRGB|Cn.Normalized)]="U8_RGBA_SRGB",e[e.U16_R=ir(Bt.U16,Vn.R,Cn.None)]="U16_R",e[e.U16_R_NORM=ir(Bt.U16,Vn.R,Cn.Normalized)]="U16_R_NORM",e[e.U16_RG_NORM=ir(Bt.U16,Vn.RG,Cn.Normalized)]="U16_RG_NORM",e[e.U16_RGBA_NORM=ir(Bt.U16,Vn.RGBA,Cn.Normalized)]="U16_RGBA_NORM",e[e.U16_RGBA=ir(Bt.U16,Vn.RGBA,Cn.None)]="U16_RGBA",e[e.U16_RGB=ir(Bt.U16,Vn.RGB,Cn.None)]="U16_RGB",e[e.U16_RG=ir(Bt.U16,Vn.RG,Cn.None)]="U16_RG",e[e.U32_R=ir(Bt.U32,Vn.R,Cn.None)]="U32_R",e[e.U32_RG=ir(Bt.U32,Vn.RG,Cn.None)]="U32_RG",e[e.U32_RGB=ir(Bt.U32,Vn.RGB,Cn.None)]="U32_RGB",e[e.U32_RGBA=ir(Bt.U32,Vn.RGBA,Cn.None)]="U32_RGBA",e[e.S8_R=ir(Bt.S8,Vn.R,Cn.None)]="S8_R",e[e.S8_R_NORM=ir(Bt.S8,Vn.R,Cn.Normalized)]="S8_R_NORM",e[e.S8_RG_NORM=ir(Bt.S8,Vn.RG,Cn.Normalized)]="S8_RG_NORM",e[e.S8_RGB_NORM=ir(Bt.S8,Vn.RGB,Cn.Normalized)]="S8_RGB_NORM",e[e.S8_RGBA_NORM=ir(Bt.S8,Vn.RGBA,Cn.Normalized)]="S8_RGBA_NORM",e[e.S16_R=ir(Bt.S16,Vn.R,Cn.None)]="S16_R",e[e.S16_RG=ir(Bt.S16,Vn.RG,Cn.None)]="S16_RG",e[e.S16_RG_NORM=ir(Bt.S16,Vn.RG,Cn.Normalized)]="S16_RG_NORM",e[e.S16_RGB_NORM=ir(Bt.S16,Vn.RGB,Cn.Normalized)]="S16_RGB_NORM",e[e.S16_RGBA=ir(Bt.S16,Vn.RGBA,Cn.None)]="S16_RGBA",e[e.S16_RGBA_NORM=ir(Bt.S16,Vn.RGBA,Cn.Normalized)]="S16_RGBA_NORM",e[e.S32_R=ir(Bt.S32,Vn.R,Cn.None)]="S32_R",e[e.S32_RG=ir(Bt.S32,Vn.RG,Cn.None)]="S32_RG",e[e.S32_RGB=ir(Bt.S32,Vn.RGB,Cn.None)]="S32_RGB",e[e.S32_RGBA=ir(Bt.S32,Vn.RGBA,Cn.None)]="S32_RGBA",e[e.U16_RGBA_5551=ir(Bt.U16_PACKED_5551,Vn.RGBA,Cn.Normalized)]="U16_RGBA_5551",e[e.U16_RGB_565=ir(Bt.U16_PACKED_565,Vn.RGB,Cn.Normalized)]="U16_RGB_565",e[e.BC1=ir(Bt.BC1,Vn.RGBA,Cn.Normalized)]="BC1",e[e.BC1_SRGB=ir(Bt.BC1,Vn.RGBA,Cn.Normalized|Cn.sRGB)]="BC1_SRGB",e[e.BC2=ir(Bt.BC2,Vn.RGBA,Cn.Normalized)]="BC2",e[e.BC2_SRGB=ir(Bt.BC2,Vn.RGBA,Cn.Normalized|Cn.sRGB)]="BC2_SRGB",e[e.BC3=ir(Bt.BC3,Vn.RGBA,Cn.Normalized)]="BC3",e[e.BC3_SRGB=ir(Bt.BC3,Vn.RGBA,Cn.Normalized|Cn.sRGB)]="BC3_SRGB",e[e.BC4_UNORM=ir(Bt.BC4_UNORM,Vn.R,Cn.Normalized)]="BC4_UNORM",e[e.BC4_SNORM=ir(Bt.BC4_SNORM,Vn.R,Cn.Normalized)]="BC4_SNORM",e[e.BC5_UNORM=ir(Bt.BC5_UNORM,Vn.RG,Cn.Normalized)]="BC5_UNORM",e[e.BC5_SNORM=ir(Bt.BC5_SNORM,Vn.RG,Cn.Normalized)]="BC5_SNORM",e[e.D24=ir(Bt.D24,Vn.R,Cn.Depth)]="D24",e[e.D24_S8=ir(Bt.D24S8,Vn.RG,Cn.Depth|Cn.Stencil)]="D24_S8",e[e.D32F=ir(Bt.D32F,Vn.R,Cn.Depth)]="D32F",e[e.D32F_S8=ir(Bt.D32FS8,Vn.RG,Cn.Depth|Cn.Stencil)]="D32F_S8",e[e.U8_RGB_RT=ir(Bt.U8,Vn.RGB,Cn.RenderTarget|Cn.Normalized)]="U8_RGB_RT",e[e.U8_RGBA_RT=ir(Bt.U8,Vn.RGBA,Cn.RenderTarget|Cn.Normalized)]="U8_RGBA_RT",e[e.U8_RGBA_RT_SRGB=ir(Bt.U8,Vn.RGBA,Cn.RenderTarget|Cn.Normalized|Cn.sRGB)]="U8_RGBA_RT_SRGB"})(qe||(qe={}));function Kj(e){return e>>>8&255}function gh(e){return e>>>16&255}function sx(e){return e&255}function wwe(e){switch(e){case Bt.F32:case Bt.U32:case Bt.S32:return 4;case Bt.U16:case Bt.S16:case Bt.F16:return 2;case Bt.U8:case Bt.S8:return 1;default:throw new Error("whoops")}}function Cwe(e){return wwe(gh(e))}function D5t(e){var t=wwe(gh(e)),n=Kj(e);return t*n}function Rwe(e){var t=sx(e);if(t&Cn.Depth)return Wa.Depth;if(t&Cn.Normalized)return Wa.Float;var n=gh(e);if(n===Bt.F16||n===Bt.F32)return Wa.Float;if(n===Bt.U8||n===Bt.U16||n===Bt.U32)return Wa.Uint;if(n===Bt.S8||n===Bt.S16||n===Bt.S32)return Wa.Sint;throw new Error("whoops")}function Br(e,t){if(t===void 0&&(t=""),!e)throw new Error("Assert fail: ".concat(t))}function H0(e){if(e!=null)return e;throw new Error("Missing object")}function Iwe(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}function Mwe(e,t){e.r=t.r,e.g=t.g,e.b=t.b,e.a=t.a}function Owe(e){var t=e.r,n=e.g,r=e.b,i=e.a;return{r:t,g:n,b:r,a:i}}function Nw(e,t,n,r){return r===void 0&&(r=1),{r:e,g:t,b:n,a:r}}var dL=Nw(0,0,0,0);Nw(0,0,0,1);var P5t=Nw(1,1,1,0);Nw(1,1,1,1);function nD(e){return!!(e&&!(e&e-1))}function Pv(e,t){return e??t}function L5t(e){return e===void 0?null:e}function rD(e,t){var n=t-1;return e+n&~n}function N5t(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t();return n}function B5t(e,t){t===void 0&&(t=1);var n=e.split(`
`);return n.map(function(r,i){return"".concat(k5t(""+(t+i),4," "),"  ").concat(r)}).join(`
`)}function k5t(e,t,n){for(;e.length<t;)e="".concat(n).concat(e);return e}function dde(e,t){e.blendDstFactor=t.blendDstFactor,e.blendSrcFactor=t.blendSrcFactor,e.blendMode=t.blendMode}function iD(e,t){return e===void 0&&(e={}),e.compare=t.compare,e.depthFailOp=t.depthFailOp,e.passOp=t.passOp,e.failOp=t.failOp,e.mask=t.mask,e}function Dwe(e,t){return e===void 0&&(e={rgbBlendState:{},alphaBlendState:{},channelWriteMask:0}),dde(e.rgbBlendState,t.rgbBlendState),dde(e.alphaBlendState,t.alphaBlendState),e.channelWriteMask=t.channelWriteMask,e}function Pwe(e,t){e.length!==t.length&&(e.length=t.length);for(var n=0;n<t.length;n++)e[n]=Dwe(e[n],t[n])}function F5t(e,t){t.attachmentsState!==void 0&&Pwe(e.attachmentsState,t.attachmentsState),e.blendConstant&&t.blendConstant&&Mwe(e.blendConstant,t.blendConstant),e.depthCompare=Pv(t.depthCompare,e.depthCompare),e.depthWrite=Pv(t.depthWrite,e.depthWrite),e.stencilWrite=Pv(t.stencilWrite,e.stencilWrite),e.stencilFront&&t.stencilFront&&iD(e.stencilFront,t.stencilFront),e.stencilBack&&t.stencilBack&&iD(e.stencilBack,t.stencilBack),e.cullMode=Pv(t.cullMode,e.cullMode),e.frontFace=Pv(t.frontFace,e.frontFace),e.polygonOffset=Pv(t.polygonOffset,e.polygonOffset),e.polygonOffsetFactor=Pv(t.polygonOffsetFactor,e.polygonOffsetFactor),e.polygonOffsetUnits=Pv(t.polygonOffsetUnits,e.polygonOffsetUnits)}function lx(e){var t=Object.assign({},e);return t.attachmentsState=[],Pwe(t.attachmentsState,e.attachmentsState),t.blendConstant=t.blendConstant&&Owe(t.blendConstant),t.stencilFront=iD(void 0,e.stencilFront),t.stencilBack=iD(void 0,e.stencilBack),t}var hde={blendMode:Ko.ADD,blendSrcFactor:ei.ONE,blendDstFactor:ei.ZERO},ux={attachmentsState:[{channelWriteMask:Go.ALL,rgbBlendState:hde,alphaBlendState:hde}],blendConstant:Owe(dL),depthWrite:!0,depthCompare:Vi.LEQUAL,stencilWrite:!1,stencilFront:{compare:Vi.ALWAYS,passOp:Ga.KEEP,depthFailOp:Ga.KEEP,failOp:Ga.KEEP},stencilBack:{compare:Vi.ALWAYS,passOp:Ga.KEEP,depthFailOp:Ga.KEEP,failOp:Ga.KEEP},cullMode:hu.NONE,frontFace:NT.CCW,polygonOffset:!1,polygonOffsetFactor:0,polygonOffsetUnits:0};function U5t(e,t){e===void 0&&(e=null),t===void 0&&(t=ux);var n=lx(t);return e!==null&&F5t(n,e),n}U5t({depthCompare:Vi.ALWAYS,depthWrite:!1},ux);var Lwe={texture:null,sampler:null,formatKind:Wa.Float,dimension:ti.TEXTURE_2D};function gg(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function $1(e,t){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=t(e[r]);return n}function V5t(e,t){return e.texture===t.texture&&e.binding===t.binding}function pde(e,t){return e.buffer===t.buffer&&e.size===t.size&&e.binding===t.binding&&e.offset===t.offset}function z5t(e,t){return e===null?t===null:t===null?!1:e.sampler===t.sampler&&e.texture===t.texture&&e.dimension===t.dimension&&e.formatKind===t.formatKind&&e.comparison===t.comparison}function $5t(e,t){return e.samplerBindings=e.samplerBindings||[],e.uniformBufferBindings=e.uniformBufferBindings||[],e.storageBufferBindings=e.storageBufferBindings||[],e.storageTextureBindings=e.storageTextureBindings||[],t.samplerBindings=t.samplerBindings||[],t.uniformBufferBindings=t.uniformBufferBindings||[],t.storageBufferBindings=t.storageBufferBindings||[],t.storageTextureBindings=t.storageTextureBindings||[],!(e.samplerBindings.length!==t.samplerBindings.length||!gg(e.samplerBindings,t.samplerBindings,z5t)||!gg(e.uniformBufferBindings,t.uniformBufferBindings,pde)||!gg(e.storageBufferBindings,t.storageBufferBindings,pde)||!gg(e.storageTextureBindings,t.storageTextureBindings,V5t))}function vde(e,t){return e.blendMode==t.blendMode&&e.blendSrcFactor===t.blendSrcFactor&&e.blendDstFactor===t.blendDstFactor}function H5t(e,t){return!(!vde(e.rgbBlendState,t.rgbBlendState)||!vde(e.alphaBlendState,t.alphaBlendState)||e.channelWriteMask!==t.channelWriteMask)}function aD(e,t){return e.compare==t.compare&&e.depthFailOp===t.depthFailOp&&e.failOp===t.failOp&&e.passOp===t.passOp&&e.mask===t.mask}function W5t(e,t){return!gg(e.attachmentsState,t.attachmentsState,H5t)||e.blendConstant&&t.blendConstant&&!Iwe(e.blendConstant,t.blendConstant)||e.stencilFront&&t.stencilFront&&!aD(e.stencilFront,t.stencilFront)||e.stencilBack&&t.stencilBack&&!aD(e.stencilBack,t.stencilBack)?!1:e.depthCompare===t.depthCompare&&e.depthWrite===t.depthWrite&&e.stencilWrite===t.stencilWrite&&e.cullMode===t.cullMode&&e.frontFace===t.frontFace&&e.polygonOffset===t.polygonOffset&&e.polygonOffsetFactor===t.polygonOffsetFactor&&e.polygonOffsetUnits===t.polygonOffsetUnits}function Nwe(e,t){return e.id===t.id}function G5t(e,t){return e===t}function j5t(e,t){return!(e.topology!==t.topology||e.inputLayout!==t.inputLayout||e.sampleCount!==t.sampleCount||e.megaStateDescriptor&&t.megaStateDescriptor&&!W5t(e.megaStateDescriptor,t.megaStateDescriptor)||!Nwe(e.program,t.program)||!gg(e.colorAttachmentFormats,t.colorAttachmentFormats,G5t)||e.depthStencilAttachmentFormat!==t.depthStencilAttachmentFormat)}function Y5t(e,t){return e.offset===t.offset&&e.shaderLocation===t.shaderLocation&&e.format===t.format&&e.divisor===t.divisor}function X5t(e,t){return Oc(e)?Oc(t):Oc(t)?!1:e.arrayStride===t.arrayStride&&e.stepMode===t.stepMode&&gg(e.attributes,t.attributes,Y5t)}function K5t(e,t){return!(e.indexBufferFormat!==t.indexBufferFormat||!gg(e.vertexBufferDescriptors,t.vertexBufferDescriptors,X5t)||!Nwe(e.program,t.program))}function q5t(e){var t=e.sampler,n=e.texture,r=e.dimension,i=e.formatKind,a=e.comparison;return{sampler:t,texture:n,dimension:r,formatKind:i,comparison:a}}function gde(e){var t=e.buffer,n=e.size,r=e.binding,i=e.offset;return{binding:r,buffer:t,offset:i,size:n}}function Z5t(e){var t=e.binding,n=e.texture;return{binding:t,texture:n}}function Q5t(e){var t=e.samplerBindings&&$1(e.samplerBindings,q5t),n=e.uniformBufferBindings&&$1(e.uniformBufferBindings,gde),r=e.storageBufferBindings&&$1(e.storageBufferBindings,gde),i=e.storageTextureBindings&&$1(e.storageTextureBindings,Z5t);return{samplerBindings:t,uniformBufferBindings:n,storageBufferBindings:r,storageTextureBindings:i,pipeline:e.pipeline}}function J5t(e){var t=e.inputLayout,n=e.program,r=e.topology,i=e.megaStateDescriptor&&lx(e.megaStateDescriptor),a=e.colorAttachmentFormats.slice(),o=e.depthStencilAttachmentFormat,s=e.sampleCount;return{inputLayout:t,megaStateDescriptor:i,program:n,topology:r,colorAttachmentFormats:a,depthStencilAttachmentFormat:o,sampleCount:s}}function eFt(e){var t=e.shaderLocation,n=e.format,r=e.offset,i=e.divisor;return{shaderLocation:t,format:n,offset:r,divisor:i}}function tFt(e){if(Oc(e))return e;var t=e.arrayStride,n=e.stepMode,r=$1(e.attributes,eFt);return{arrayStride:t,stepMode:n,attributes:r}}function nFt(e){var t=$1(e.vertexBufferDescriptors,tFt),n=e.indexBufferFormat,r=e.program;return{vertexBufferDescriptors:t,indexBufferFormat:n,program:r}}var oi,rFt=/([^[]*)(\[[0-9]+\])?/;function iFt(e){if(e[e.length-1]!=="]")return{name:e,length:1,isArray:!1};var t=e.match(rFt);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:Number(t[2])||1,isArray:!!t[2]}}function pl(){var e=null;return function(t,n,r){var i=e!==r;return i&&(t.uniform1i(n,r),e=r),i}}function Va(e,t,n,r){var i=null,a=null;return function(o,s,l){var u=t(l,n),c=u.length,f=!1;if(i===null)i=new Float32Array(c),a=c,f=!0;else{Br(a===c,"Uniform length cannot change.");for(var d=0;d<c;++d)if(u[d]!==i[d]){f=!0;break}}return f&&(r(o,e,s,u),i.set(u)),f}}function Gs(e,t,n,r){e[t](n,r)}function ep(e,t,n,r){e[t](n,!1,r)}var aFt={},oFt={},sFt={},mde=[0];function qj(e,t,n,r){t===1&&typeof e=="boolean"&&(e=e?1:0),Number.isFinite(e)&&(mde[0]=e,e=mde);var i=e.length;if(e instanceof n)return e;var a=r[i];a||(a=new n(i),r[i]=a);for(var o=0;o<i;o++)a[o]=e[o];return a}function Mu(e,t){return qj(e,t,Float32Array,aFt)}function Lv(e,t){return qj(e,t,Int32Array,oFt)}function OI(e,t){return qj(e,t,Uint32Array,sFt)}var lFt=(oi={},oi[Ne.FLOAT]=Va.bind(null,"uniform1fv",Mu,1,Gs),oi[Ne.FLOAT_VEC2]=Va.bind(null,"uniform2fv",Mu,2,Gs),oi[Ne.FLOAT_VEC3]=Va.bind(null,"uniform3fv",Mu,3,Gs),oi[Ne.FLOAT_VEC4]=Va.bind(null,"uniform4fv",Mu,4,Gs),oi[Ne.INT]=Va.bind(null,"uniform1iv",Lv,1,Gs),oi[Ne.INT_VEC2]=Va.bind(null,"uniform2iv",Lv,2,Gs),oi[Ne.INT_VEC3]=Va.bind(null,"uniform3iv",Lv,3,Gs),oi[Ne.INT_VEC4]=Va.bind(null,"uniform4iv",Lv,4,Gs),oi[Ne.BOOL]=Va.bind(null,"uniform1iv",Lv,1,Gs),oi[Ne.BOOL_VEC2]=Va.bind(null,"uniform2iv",Lv,2,Gs),oi[Ne.BOOL_VEC3]=Va.bind(null,"uniform3iv",Lv,3,Gs),oi[Ne.BOOL_VEC4]=Va.bind(null,"uniform4iv",Lv,4,Gs),oi[Ne.FLOAT_MAT2]=Va.bind(null,"uniformMatrix2fv",Mu,4,ep),oi[Ne.FLOAT_MAT3]=Va.bind(null,"uniformMatrix3fv",Mu,9,ep),oi[Ne.FLOAT_MAT4]=Va.bind(null,"uniformMatrix4fv",Mu,16,ep),oi[Ne.UNSIGNED_INT]=Va.bind(null,"uniform1uiv",OI,1,Gs),oi[Ne.UNSIGNED_INT_VEC2]=Va.bind(null,"uniform2uiv",OI,2,Gs),oi[Ne.UNSIGNED_INT_VEC3]=Va.bind(null,"uniform3uiv",OI,3,Gs),oi[Ne.UNSIGNED_INT_VEC4]=Va.bind(null,"uniform4uiv",OI,4,Gs),oi[Ne.FLOAT_MAT2x3]=Va.bind(null,"uniformMatrix2x3fv",Mu,6,ep),oi[Ne.FLOAT_MAT2x4]=Va.bind(null,"uniformMatrix2x4fv",Mu,8,ep),oi[Ne.FLOAT_MAT3x2]=Va.bind(null,"uniformMatrix3x2fv",Mu,6,ep),oi[Ne.FLOAT_MAT3x4]=Va.bind(null,"uniformMatrix3x4fv",Mu,12,ep),oi[Ne.FLOAT_MAT4x2]=Va.bind(null,"uniformMatrix4x2fv",Mu,8,ep),oi[Ne.FLOAT_MAT4x3]=Va.bind(null,"uniformMatrix4x3fv",Mu,12,ep),oi[Ne.SAMPLER_2D]=pl,oi[Ne.SAMPLER_CUBE]=pl,oi[Ne.SAMPLER_3D]=pl,oi[Ne.SAMPLER_2D_SHADOW]=pl,oi[Ne.SAMPLER_2D_ARRAY]=pl,oi[Ne.SAMPLER_2D_ARRAY_SHADOW]=pl,oi[Ne.SAMPLER_CUBE_SHADOW]=pl,oi[Ne.INT_SAMPLER_2D]=pl,oi[Ne.INT_SAMPLER_3D]=pl,oi[Ne.INT_SAMPLER_CUBE]=pl,oi[Ne.INT_SAMPLER_2D_ARRAY]=pl,oi[Ne.UNSIGNED_INT_SAMPLER_2D]=pl,oi[Ne.UNSIGNED_INT_SAMPLER_3D]=pl,oi[Ne.UNSIGNED_INT_SAMPLER_CUBE]=pl,oi[Ne.UNSIGNED_INT_SAMPLER_2D_ARRAY]=pl,oi);function yde(e,t,n){var r=lFt[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r().bind(null,e,t)}var uFt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function cFt(e){return Object.prototype.toString.call(e)in uFt}function XA(e,t){return"#define ".concat(e," ").concat(t)}function fFt(e){var t={};return e.replace(/^\s*#define\s*(\S*)\s*(\S*)\s*$/gm,function(n,r,i){var a=Number(i);return t[r]=isNaN(a)?i:a,""}),t}function dFt(e,t){var n=[];return e.replace(/^\s*layout\(location\s*=\s*(\S*)\)\s*in\s+\S+\s*(.*);$/gm,function(r,i,a){var o=Number(i);return n.push({location:isNaN(o)?t[i]:o,name:a}),""}),n}function _de(e){if(e===void 0)return null;var t=/binding\s*=\s*(\d+)/.exec(e);if(t!==null){var n=parseInt(t[1],10);if(!Number.isNaN(n))return n}return null}function bde(e){var t="",n=e;return[n,t]}function cx(e,t,n,r,i){var a;r===void 0&&(r=null),i===void 0&&(i=!0);var o=e.glslVersion==="#version 100",s=t==="frag"&&((a=n.match(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm))===null||a===void 0?void 0:a.length)>1,l=n.replace(`\r
`,`
`).split(`
`).map(function(A){return A.replace(/[/][/].*$/,"")}).filter(function(A){var T=!A||/^\s+$/.test(A);return!T}),u="";r!==null&&(u=Object.keys(r).map(function(A){return XA(A,r[A])}).join(`
`));var c=l.find(function(A){return A.startsWith("precision")})||"precision mediump float;",f=i?l.filter(function(A){return!A.startsWith("precision")}).join(`
`):l.join(`
`),d="";if(e.viewportOrigin===Ff.UPPER_LEFT&&(d+="".concat(XA("VIEWPORT_ORIGIN_TL","1"),`
`)),e.clipSpaceNearZ===ox.ZERO&&(d+="".concat(XA("CLIPSPACE_NEAR_ZERO","1"),`
`)),e.explicitBindingLocations){var h=0,p=0,v=0;f=f.replace(/^\s*(layout\((.*)\))?\s*uniform(.+{)$/gm,function(A,T,R,M){var O=R?"".concat(R,", "):"";return"layout(".concat(O,"set = ").concat(h,", binding = ").concat(p++,") uniform ").concat(M)}),h++,p=0,Br(e.separateSamplerTextures),f=f.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(A,T,R,M,O){var D=_de(R);D===null&&(D=p++);var C=Rf(bde(M),2),P=C[0],B=C[1];return t==="frag"?`
layout(set = `.concat(h,", binding = ").concat(D*2+0,") uniform texture").concat(P," T_").concat(O,`;
layout(set = `).concat(h,", binding = ").concat(D*2+1,") uniform sampler").concat(B," S_").concat(O,";").trim():""}),f=f.replace(t==="frag"?/^\s*\b(varying|in)\b/gm:/^\s*\b(varying|out)\b/gm,function(A,T){return"layout(location = ".concat(v++,") ").concat(T)}),d+="".concat(XA("gl_VertexID","gl_VertexIndex"),`
`),d+="".concat(XA("gl_InstanceID","gl_InstanceIndex"),`
`),c=c.replace(/^precision (.*) sampler(.*);$/gm,"")}else{var g=0;f=f.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(A,T,R,M,O){var D=_de(R);return D===null&&(D=g++),"uniform sampler".concat(M," ").concat(O,"; // BINDING=").concat(D)})}if(f=f.replace(/\bPU_SAMPLER_(\w+)\((.*?)\)/g,function(A,T,R){return"SAMPLER_".concat(T,"(P_").concat(R,")")}),f=f.replace(/\bPF_SAMPLER_(\w+)\((.*?)\)/g,function(A,T,R){return"PP_SAMPLER_".concat(T,"(P_").concat(R,")")}),f=f.replace(/\bPU_TEXTURE\((.*?)\)/g,function(A,T){return"TEXTURE(P_".concat(T,")")}),e.separateSamplerTextures)f=f.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(A,T,R){var M=Rf(bde(T),2),O=M[0],D=M[1];return"texture".concat(O," T_P_").concat(R,", sampler").concat(D," S_P_").concat(R)}),f=f.replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(A,T,R){return"T_".concat(R,", S_").concat(R)}),f=f.replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(A,T,R){return"sampler".concat(T,"(T_").concat(R,", S_").concat(R,")")}),f=f.replace(/\bTEXTURE\((.*?)\)/g,function(A,T){return"T_".concat(T)});else{var m=[];f=f.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(A,T,R){return"sampler".concat(T," P_").concat(R)}),f=f.replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(A,T,R){return R}),f=f.replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(A,T,R){return m.push([R,T]),R}),o&&m.forEach(function(A){var T=Rf(A,2),R=T[0],M=T[1];f=f.replace(new RegExp("texture\\(".concat(R),"g"),function(){return"texture".concat(M,"(").concat(R)})}),f=f.replace(/\bTEXTURE\((.*?)\)/g,function(A,T){return T})}var b="".concat(o?"":e.glslVersion,`
`).concat(o&&s?`#extension GL_EXT_draw_buffers : require
`:"",`
`).concat(o&&t==="frag"?`#extension GL_OES_standard_derivatives : enable
`:"").concat(i?c:"",`
`).concat(d||"").concat(u?u+`
`:"",`
`).concat(f,`
`).trim();if(e.explicitBindingLocations&&t==="frag"&&(b=b.replace(/^\b(out)\b/g,function(A,T){return"layout(location = 0) ".concat(T)})),o){if(t==="frag"&&(b=b.replace(/^\s*in\s+(\S+)\s*(.*);$/gm,function(A,T,R){return"varying ".concat(T," ").concat(R,`;
`)})),t==="vert"&&(b=b.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(A,T,R){return"varying ".concat(T," ").concat(R,`;
`)}),b=b.replace(/^\s*layout\(location\s*=\s*\S*\)\s*in\s+(\S+)\s*(.*);$/gm,function(A,T,R){return"attribute ".concat(T," ").concat(R,`;
`)})),b=b.replace(/\s*uniform\s*.*\s*{((?:\s*.*\s*)*?)};/g,function(A,T){return T.trim().replace(/^.*$/gm,function(R){var M=R.trim();return M.startsWith("#")?M:R?"uniform ".concat(M):""})}),t==="frag")if(s){var _=[];b=b.replace(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm,function(A,T){return _.push(T),"vec4 ".concat(T,`;
`)});var x=b.lastIndexOf("}");b=b.substring(0,x)+`
    `.concat(_.map(function(A,T){return"gl_FragData[".concat(T,"] = ").concat(A,`;
    `)}).join(`
`))+b.substring(x)}else{var E;if(b=b.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(A,T,R){return E=R,"".concat(T," ").concat(R,`;
`)}),E){var x=b.lastIndexOf("}");b=b.substring(0,x)+`
  gl_FragColor = vec4(`.concat(E,`);
`)+b.substring(x)}}b=b.replace(/^\s*layout\((.*)\)/gm,"")}return b}var Yc=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=e.call(this)||this;return a.id=r,a.device=i,a.device.resourceCreationTracker!==null&&a.device.resourceCreationTracker.trackResourceCreated(a),a}return t.prototype.destroy=function(){this.device.resourceCreationTracker!==null&&this.device.resourceCreationTracker.trackResourceDestroyed(this)},t}(Twe),hFt=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=e.call(this,{id:r,device:i})||this;o.type=Ti.Bindings;var s=a.uniformBufferBindings,l=a.samplerBindings;return o.uniformBufferBindings=s||[],o.samplerBindings=l||[],o.bindingLayouts=o.createBindingLayouts(),o}return t.prototype.createBindingLayouts=function(){var n=0,r=0,i=[],a=this.uniformBufferBindings.length,o=this.samplerBindings.length;return i.push({firstUniformBuffer:n,numUniformBuffers:a,firstSampler:r,numSamplers:o}),n+=a,r+=o,{numUniformBuffers:n,numSamplers:r,bindingLayoutTables:i}},t}(Yc),KA;function Kn(e){return KA!==void 0?KA:typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext?(KA=!0,!0):(KA=!!(e&&e._version===2),KA)}function Bwe(e){var t=gh(e);switch(t){case Bt.BC1:case Bt.BC2:case Bt.BC3:case Bt.BC4_UNORM:case Bt.BC4_SNORM:case Bt.BC5_UNORM:case Bt.BC5_SNORM:return!0;default:return!1}}function kwe(e){var t=sx(e);if(t&Cn.Normalized)return!1;var n=gh(e);return n===Bt.S8||n===Bt.S16||n===Bt.S32||n===Bt.U8||n===Bt.U16||n===Bt.U32}function pFt(e){switch(e){case Hf.STATIC:return Ne.STATIC_DRAW;case Hf.DYNAMIC:return Ne.DYNAMIC_DRAW}}function xde(e){if(e&ea.INDEX)return Ne.ELEMENT_ARRAY_BUFFER;if(e&ea.VERTEX)return Ne.ARRAY_BUFFER;if(e&ea.UNIFORM)return Ne.UNIFORM_BUFFER}function vFt(e){switch(e){case go.TRIANGLES:return Ne.TRIANGLES;case go.POINTS:return Ne.POINTS;case go.TRIANGLE_STRIP:return Ne.TRIANGLE_STRIP;case go.LINES:return Ne.LINES;case go.LINE_STRIP:return Ne.LINE_STRIP;default:throw new Error("Unknown primitive topology mode")}}function gFt(e){switch(e){case Bt.U8:return Ne.UNSIGNED_BYTE;case Bt.U16:return Ne.UNSIGNED_SHORT;case Bt.U32:return Ne.UNSIGNED_INT;case Bt.S8:return Ne.BYTE;case Bt.S16:return Ne.SHORT;case Bt.S32:return Ne.INT;case Bt.F16:return Ne.HALF_FLOAT;case Bt.F32:return Ne.FLOAT;default:throw new Error("whoops")}}function mFt(e){switch(e){case Vn.R:return 1;case Vn.RG:return 2;case Vn.RGB:return 3;case Vn.RGBA:return 4;default:return 1}}function yFt(e){var t=gh(e),n=Kj(e),r=sx(e),i=gFt(t),a=mFt(n),o=!!(r&Cn.Normalized);return{size:a,type:i,normalized:o}}function _Ft(e){switch(e){case qe.U8_R:return Ne.UNSIGNED_BYTE;case qe.U16_R:return Ne.UNSIGNED_SHORT;case qe.U32_R:return Ne.UNSIGNED_INT;default:throw new Error("whoops")}}function qA(e){switch(e){case wl.CLAMP_TO_EDGE:return Ne.CLAMP_TO_EDGE;case wl.REPEAT:return Ne.REPEAT;case wl.MIRRORED_REPEAT:return Ne.MIRRORED_REPEAT;default:throw new Error("whoops")}}function DI(e,t){if(t===Fo.LINEAR&&e===Qa.BILINEAR)return Ne.LINEAR_MIPMAP_LINEAR;if(t===Fo.LINEAR&&e===Qa.POINT)return Ne.NEAREST_MIPMAP_LINEAR;if(t===Fo.NEAREST&&e===Qa.BILINEAR)return Ne.LINEAR_MIPMAP_NEAREST;if(t===Fo.NEAREST&&e===Qa.POINT)return Ne.NEAREST_MIPMAP_NEAREST;if(t===Fo.NO_MIP&&e===Qa.BILINEAR)return Ne.LINEAR;if(t===Fo.NO_MIP&&e===Qa.POINT)return Ne.NEAREST;throw new Error("Unknown texture filter mode")}function mb(e,t){t===void 0&&(t=0);var n=e;return n.gl_buffer_pages[t/n.pageByteSize|0]}function D1(e){var t=e;return t.gl_texture}function Lz(e){var t=e;return t.gl_sampler}function ZA(e,t){e.name=t,e.__SPECTOR_Metadata={name:t}}function Sde(e,t){for(var n=[];;){var r=t.exec(e);if(!r)break;n.push(r)}return n}function Nv(e){return e.blendMode==Ko.ADD&&e.blendSrcFactor==ei.ONE&&e.blendDstFactor===ei.ZERO}function bFt(e){switch(e){case tD.OcclusionConservative:return Ne.ANY_SAMPLES_PASSED_CONSERVATIVE;default:throw new Error("whoops")}}function xFt(e){if(e===ti.TEXTURE_2D)return Ne.TEXTURE_2D;if(e===ti.TEXTURE_2D_ARRAY)return Ne.TEXTURE_2D_ARRAY;if(e===ti.TEXTURE_CUBE_MAP)return Ne.TEXTURE_CUBE_MAP;if(e===ti.TEXTURE_3D)return Ne.TEXTURE_3D;throw new Error("whoops")}function b7(e,t,n,r){return!(e%n!==0||t%r!==0)}var SFt=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=e.call(this,{id:r,device:i})||this;o.type=Ti.Buffer;var s=a.viewOrSize,l=a.usage,u=a.hint,c=u===void 0?Hf.STATIC:u,f=i.uniformBufferMaxPageByteSize,d=i.gl,h=l&ea.UNIFORM;h||(Kn(d)?d.bindVertexArray(null):i.OES_vertex_array_object.bindVertexArrayOES(null));var p=z1(s)?rD(s,4):rD(s.byteLength,4);o.gl_buffer_pages=[];var v;if(h){for(var g=p;g>0;)o.gl_buffer_pages.push(o.createBufferPage(Math.min(g,f),l,c)),g-=f;v=f}else o.gl_buffer_pages.push(o.createBufferPage(p,l,c)),v=p;return o.pageByteSize=v,o.byteSize=p,o.usage=l,o.gl_target=xde(l),z1(s)||o.setSubData(0,new Uint8Array(s.buffer)),h||(Kn(d)?d.bindVertexArray(o.device.currentBoundVAO):i.OES_vertex_array_object.bindVertexArrayOES(o.device.currentBoundVAO)),o}return t.prototype.setSubData=function(n,r,i,a){i===void 0&&(i=0),a===void 0&&(a=r.byteLength-i);for(var o=this.device.gl,s=this.pageByteSize,l=n+a,u=n,c=n%s;u<l;){var f=Kn(o)?o.COPY_WRITE_BUFFER:this.gl_target,d=mb(this,u);if(d.ubo)return;o.bindBuffer(f,d),Kn(o)?o.bufferSubData(f,c,r,i,Math.min(l-u,s)):o.bufferSubData(f,c,r),u+=s,c=0,i+=s,this.device.debugGroupStatisticsBufferUpload()}},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var n=0;n<this.gl_buffer_pages.length;n++)this.gl_buffer_pages[n].ubo||this.device.gl.deleteBuffer(this.gl_buffer_pages[n]);this.gl_buffer_pages=[]},t.prototype.createBufferPage=function(n,r,i){var a=this.device.gl,o=r&ea.UNIFORM;if(!Kn(a)&&o)return{ubo:!0};var s=this.device.ensureResourceExists(a.createBuffer()),l=xde(r),u=pFt(i);return a.bindBuffer(l,s),a.bufferData(l,n,u),s},t}(Yc),AFt=function(e){ja(t,e);function t(n){var r,i,a,o,s=n.id,l=n.device,u=n.descriptor,c,f=e.call(this,{id:s,device:l})||this;f.type=Ti.InputLayout;var d=u.vertexBufferDescriptors,h=u.indexBufferFormat,p=u.program;Br(h===qe.U16_R||h===qe.U32_R||h===null);var v=h!==null?_Ft(h):null,g=h!==null?Cwe(h):null,m=f.device.gl,b=f.device.ensureResourceExists(Kn(m)?m.createVertexArray():l.OES_vertex_array_object.createVertexArrayOES());Kn(m)?m.bindVertexArray(b):l.OES_vertex_array_object.bindVertexArrayOES(b),m.bindBuffer(m.ARRAY_BUFFER,mb(f.device.fallbackVertexBuffer));try{for(var _=My(u.vertexBufferDescriptors),x=_.next();!x.done;x=_.next()){var E=x.value,A=E.stepMode,T=E.attributes;try{for(var R=(a=void 0,My(T)),M=R.next();!M.done;M=R.next()){var O=M.value,D=O.shaderLocation,C=O.format,P=O.divisor,B=P===void 0?1:P,U=Kn(m)?D:(c=p.attributes[D])===null||c===void 0?void 0:c.location,L=yFt(C);if(O.vertexFormat=L,!Oc(U)){kwe(C);var F=L.size,N=L.type,V=L.normalized;m.vertexAttribPointer(U,F,N,V,0,0),A===Oy.INSTANCE&&(Kn(m)?m.vertexAttribDivisor(U,B):l.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(U,B)),m.enableVertexAttribArray(U)}}}catch(W){a={error:W}}finally{try{M&&!M.done&&(o=R.return)&&o.call(R)}finally{if(a)throw a.error}}}}catch(W){r={error:W}}finally{try{x&&!x.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}return Kn(m)?m.bindVertexArray(null):l.OES_vertex_array_object.bindVertexArrayOES(null),f.vertexBufferDescriptors=d,f.vao=b,f.indexBufferFormat=h,f.indexBufferType=v,f.indexBufferCompByteSize=g,f.program=p,f}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.currentBoundVAO===this.vao&&(Kn(this.device.gl)?(this.device.gl.bindVertexArray(null),this.device.gl.deleteVertexArray(this.vao)):(this.device.OES_vertex_array_object.bindVertexArrayOES(null),this.device.OES_vertex_array_object.deleteVertexArrayOES(this.vao)),this.device.currentBoundVAO=null)},t}(Yc),Nz=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=n.fake,s=e.call(this,{id:r,device:i})||this;s.type=Ti.Texture,a=$a({dimension:ti.TEXTURE_2D,depthOrArrayLayers:1,mipLevelCount:1},a);var l=s.device.gl,u,c,f=s.clampmipLevelCount(a);if(s.immutable=a.usage===tl.RENDER_TARGET,s.pixelStore=a.pixelStore,s.format=a.format,s.dimension=a.dimension,s.formatKind=Rwe(a.format),s.width=a.width,s.height=a.height,s.depthOrArrayLayers=a.depthOrArrayLayers,s.mipmaps=f>=1,!o){c=s.device.ensureResourceExists(l.createTexture());var d=s.device.translateTextureType(a.format),h=s.device.translateTextureInternalFormat(a.format);if(s.device.setActiveTexture(l.TEXTURE0),s.device.currentTextures[0]=null,s.preprocessImage(),a.dimension===ti.TEXTURE_2D){if(u=Ne.TEXTURE_2D,l.bindTexture(u,c),s.immutable)if(Kn(l))l.texStorage2D(u,f,h,a.width,a.height);else{var p=(h===Ne.DEPTH_COMPONENT||s.isNPOT(),0);(s.format===qe.D32F||s.format===qe.D24_S8)&&!Kn(l)&&!i.WEBGL_depth_texture||(l.texImage2D(u,p,h,a.width,a.height,0,h,d,null),s.mipmaps&&(s.mipmaps=!1,l.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_MIN_FILTER,Ne.LINEAR),l.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_WRAP_S,Ne.CLAMP_TO_EDGE),l.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_WRAP_T,Ne.CLAMP_TO_EDGE)))}Br(a.depthOrArrayLayers===1)}else if(a.dimension===ti.TEXTURE_2D_ARRAY)u=Ne.TEXTURE_2D_ARRAY,l.bindTexture(u,c),s.immutable&&Kn(l)&&l.texStorage3D(u,f,h,a.width,a.height,a.depthOrArrayLayers);else if(a.dimension===ti.TEXTURE_3D)u=Ne.TEXTURE_3D,l.bindTexture(u,c),s.immutable&&Kn(l)&&l.texStorage3D(u,f,h,a.width,a.height,a.depthOrArrayLayers);else if(a.dimension===ti.TEXTURE_CUBE_MAP)u=Ne.TEXTURE_CUBE_MAP,l.bindTexture(u,c),s.immutable&&Kn(l)&&l.texStorage2D(u,f,h,a.width,a.height),Br(a.depthOrArrayLayers===6);else throw new Error("whoops")}return s.gl_texture=c,s.gl_target=u,s.mipLevelCount=f,s}return t.prototype.setImageData=function(n,r){r===void 0&&(r=0);var i=this.device.gl;Bwe(this.format);var a=this.gl_target===Ne.TEXTURE_3D||this.gl_target===Ne.TEXTURE_2D_ARRAY,o=this.gl_target===Ne.TEXTURE_CUBE_MAP,s=cFt(n[0]);this.device.setActiveTexture(i.TEXTURE0),this.device.currentTextures[0]=null;var l=n[0],u,c;s?(u=this.width,c=this.height):(u=l.width,c=l.height,this.width=u,this.height=c),i.bindTexture(this.gl_target,this.gl_texture);var f=this.device.translateTextureFormat(this.format),d=Kn(i)?this.device.translateInternalTextureFormat(this.format):f,h=this.device.translateTextureType(this.format);this.preprocessImage();for(var p=0;p<this.depthOrArrayLayers;p++){var v=n[p],g=this.gl_target;o&&(g=Ne.TEXTURE_CUBE_MAP_POSITIVE_X+p%6),this.immutable?i.texSubImage2D(g,r,0,0,u,c,f,h,v):Kn(i)?a?i.texImage3D(g,r,d,u,c,this.depthOrArrayLayers,0,f,h,v):i.texImage2D(g,r,d,u,c,0,f,h,v):s?i.texImage2D(g,r,f,u,c,0,f,h,v):i.texImage2D(g,r,f,f,h,v)}this.mipmaps&&this.generateMipmap(a)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.gl.deleteTexture(D1(this))},t.prototype.clampmipLevelCount=function(n){if(n.dimension===ti.TEXTURE_2D_ARRAY&&n.depthOrArrayLayers>1){var r=gh(n.format);if(r===Bt.BC1)for(var i=n.width,a=n.height,o=0;o<n.mipLevelCount;o++){if(i<=2||a<=2)return o-1;i=Math.max(i/2|0,1),a=Math.max(a/2|0,1)}}return n.mipLevelCount},t.prototype.preprocessImage=function(){var n=this.device.gl;this.pixelStore&&(this.pixelStore.unpackFlipY&&n.pixelStorei(Ne.UNPACK_FLIP_Y_WEBGL,!0),this.pixelStore.packAlignment&&n.pixelStorei(Ne.PACK_ALIGNMENT,this.pixelStore.packAlignment),this.pixelStore.unpackAlignment&&n.pixelStorei(Ne.UNPACK_ALIGNMENT,this.pixelStore.unpackAlignment))},t.prototype.generateMipmap=function(n){n===void 0&&(n=!1);var r=this.device.gl;return!Kn(r)&&this.isNPOT()?this:(this.gl_texture&&this.gl_target&&(r.bindTexture(this.gl_target,this.gl_texture),n?(r.texParameteri(this.gl_target,Ne.TEXTURE_BASE_LEVEL,0),r.texParameteri(this.gl_target,Ne.TEXTURE_MAX_LEVEL,Math.log2(this.width)),r.texParameteri(this.gl_target,Ne.TEXTURE_MIN_FILTER,Ne.LINEAR_MIPMAP_LINEAR),r.texParameteri(this.gl_target,Ne.TEXTURE_MAG_FILTER,Ne.LINEAR)):r.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_MIN_FILTER,Ne.NEAREST_MIPMAP_LINEAR),r.generateMipmap(this.gl_target),r.bindTexture(this.gl_target,null)),this)},t.prototype.isNPOT=function(){var n=this.device.gl;return Kn(n)?!1:!nD(this.width)||!nD(this.height)},t}(Yc),EFt=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=e.call(this,{id:r,device:i})||this;o.type=Ti.RenderTarget,o.gl_renderbuffer=null,o.texture=null;var s=o.device.gl,l=a.format,u=a.width,c=a.height,f=a.sampleCount,d=f===void 0?1:f,h=a.texture,p=!1;if((l===qe.D32F||l===qe.D24_S8)&&h&&!Kn(s)&&!i.WEBGL_depth_texture&&(h.destroy(),o.texture=null,p=!0),!p&&h)o.texture=h;else{o.gl_renderbuffer=o.device.ensureResourceExists(s.createRenderbuffer()),s.bindRenderbuffer(s.RENDERBUFFER,o.gl_renderbuffer);var v=o.device.translateTextureInternalFormat(l,!0);Kn(s)&&d>1?s.renderbufferStorageMultisample(Ne.RENDERBUFFER,d,v,u,c):s.renderbufferStorage(Ne.RENDERBUFFER,v,u,c)}return o.format=l,o.width=u,o.height=c,o.sampleCount=d,o}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gl_renderbuffer!==null&&this.device.gl.deleteRenderbuffer(this.gl_renderbuffer),this.texture&&this.texture.destroy()},t}(Yc),ou;(function(e){e[e.NeedsCompile=0]="NeedsCompile",e[e.Compiling=1]="Compiling",e[e.NeedsBind=2]="NeedsBind",e[e.ReadyToUse=3]="ReadyToUse"})(ou||(ou={}));var TFt=function(e){ja(t,e);function t(n,r){var i=n.id,a=n.device,o=n.descriptor,s=e.call(this,{id:i,device:a})||this;s.rawVertexGLSL=r,s.type=Ti.Program,s.uniformSetters={},s.attributes=[];var l=s.device.gl;return s.descriptor=o,s.gl_program=s.device.ensureResourceExists(l.createProgram()),s.gl_shader_vert=null,s.gl_shader_frag=null,s.compileState=ou.NeedsCompile,s.tryCompileProgram(),s}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.gl.deleteProgram(this.gl_program),this.device.gl.deleteShader(this.gl_shader_vert),this.device.gl.deleteShader(this.gl_shader_frag)},t.prototype.tryCompileProgram=function(){Br(this.compileState===ou.NeedsCompile);var n=this.descriptor,r=n.vertex,i=n.fragment,a=this.device.gl;r!=null&&r.glsl&&(i!=null&&i.glsl)&&(this.gl_shader_vert=this.compileShader(r.postprocess?r.postprocess(r.glsl):r.glsl,a.VERTEX_SHADER),this.gl_shader_frag=this.compileShader(i.postprocess?i.postprocess(i.glsl):i.glsl,a.FRAGMENT_SHADER),a.attachShader(this.gl_program,this.gl_shader_vert),a.attachShader(this.gl_program,this.gl_shader_frag),a.linkProgram(this.gl_program),this.compileState=ou.Compiling,Kn(a)||(this.readUniformLocationsFromLinkedProgram(),this.readAttributesFromLinkedProgram()))},t.prototype.readAttributesFromLinkedProgram=function(){for(var n,r=this.device.gl,i=r.getProgramParameter(this.gl_program,r.ACTIVE_ATTRIBUTES),a=fFt(this.descriptor.vertex.glsl),o=dFt(this.rawVertexGLSL,a),s=function(c){var f=r.getActiveAttrib(l.gl_program,c),d=f.name,h=f.type,p=f.size,v=r.getAttribLocation(l.gl_program,d),g=(n=o.find(function(m){return m.name===d}))===null||n===void 0?void 0:n.location;v>=0&&!Oc(g)&&(l.attributes[g]={name:d,location:v,type:h,size:p})},l=this,u=0;u<i;u++)s(u)},t.prototype.readUniformLocationsFromLinkedProgram=function(){for(var n=this.device.gl,r=n.getProgramParameter(this.gl_program,n.ACTIVE_UNIFORMS),i=0;i<r;i++){var a=n.getActiveUniform(this.gl_program,i),o=iFt(a.name).name,s=n.getUniformLocation(this.gl_program,o);if(this.uniformSetters[o]=yde(n,s,a),a&&a.size>1)for(var l=0;l<a.size;l++)s=n.getUniformLocation(this.gl_program,"".concat(o,"[").concat(l,"]")),this.uniformSetters["".concat(o,"[").concat(l,"]")]=yde(n,s,a)}},t.prototype.compileShader=function(n,r){var i=this.device.gl,a=this.device.ensureResourceExists(i.createShader(r));return i.shaderSource(a,n),i.compileShader(a),a},t.prototype.setUniformsLegacy=function(n){n===void 0&&(n={});var r=this.device.gl;if(!Kn(r)){var i=!1;for(var a in n){i||(r.useProgram(this.gl_program),i=!0);var o=n[a],s=this.uniformSetters[a];if(s){var l=o;l instanceof Nz&&(l=l.textureIndex),s(l)}}}return this},t}(Yc),wFt=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=e.call(this,{id:r,device:i})||this;o.type=Ti.QueryPool;var s=o.device.gl;if(Kn(s)){var l=a.elemCount,u=a.type;o.gl_query=N5t(l,function(){return o.device.ensureResourceExists(s.createQuery())}),o.gl_query_type=bFt(u)}return o}return t.prototype.queryResultOcclusion=function(n){var r=this.device.gl;if(Kn(r)){var i=this.gl_query[n];return r.getQueryParameter(i,r.QUERY_RESULT_AVAILABLE)?!!r.getQueryParameter(i,r.QUERY_RESULT):null}return null},t.prototype.destroy=function(){e.prototype.destroy.call(this);var n=this.device.gl;if(Kn(n))for(var r=0;r<this.gl_query.length;r++)n.deleteQuery(this.gl_query[r])},t}(Yc),CFt=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=e.call(this,{id:r,device:i})||this;return a.type=Ti.Readback,a.gl_pbo=null,a.gl_sync=null,a}return t.prototype.clientWaitAsync=function(n,r,i){r===void 0&&(r=0),i===void 0&&(i=10);var a=this.device.gl;return new Promise(function(o,s){function l(){var u=a.clientWaitSync(n,r,0);if(u==a.WAIT_FAILED){s();return}if(u==a.TIMEOUT_EXPIRED){setTimeout(l,R5t(i,0,a.MAX_CLIENT_WAIT_TIMEOUT_WEBGL));return}o()}l()})},t.prototype.getBufferSubDataAsync=function(n,r,i,a,o,s){return vb(this,void 0,void 0,function(){var l;return gb(this,function(u){switch(u.label){case 0:return l=this.device.gl,Kn(l)?(this.gl_sync=l.fenceSync(l.SYNC_GPU_COMMANDS_COMPLETE,0),l.flush(),[4,this.clientWaitAsync(this.gl_sync,0,10)]):[3,2];case 1:return u.sent(),l.bindBuffer(n,r),l.getBufferSubData(n,i,a,o,s),l.bindBuffer(n,null),[2,a];case 2:return[2]}})})},t.prototype.readTexture=function(n,r,i,a,o,s,l,u){return l===void 0&&(l=0),u===void 0&&(u=s.byteLength||0),vb(this,void 0,void 0,function(){var c,f,d,h,p;return gb(this,function(v){return c=this.device.gl,f=n,d=this.device.translateTextureFormat(f.format),h=this.device.translateTextureType(f.format),p=D5t(f.format),Kn(c)?(this.gl_pbo=this.device.ensureResourceExists(c.createBuffer()),c.bindBuffer(c.PIXEL_PACK_BUFFER,this.gl_pbo),c.bufferData(c.PIXEL_PACK_BUFFER,u,c.STREAM_READ),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),c.bindFramebuffer(Ne.READ_FRAMEBUFFER,this.device.readbackFramebuffer),c.framebufferTexture2D(Ne.READ_FRAMEBUFFER,Ne.COLOR_ATTACHMENT0,Ne.TEXTURE_2D,f.gl_texture,0),c.bindBuffer(c.PIXEL_PACK_BUFFER,this.gl_pbo),c.readPixels(r,i,a,o,d,h,l*p),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),[2,this.getBufferSubDataAsync(c.PIXEL_PACK_BUFFER,this.gl_pbo,0,s,l,0)]):[2,this.readTextureSync(n,r,i,a,o,s,l,u)]})})},t.prototype.readTextureSync=function(n,r,i,a,o,s,l,u){u===void 0&&(u=s.byteLength||0);var c=this.device.gl,f=n,d=this.device.translateTextureType(f.format);return c.bindFramebuffer(Ne.FRAMEBUFFER,this.device.readbackFramebuffer),c.framebufferTexture2D(Ne.FRAMEBUFFER,Ne.COLOR_ATTACHMENT0,Ne.TEXTURE_2D,f.gl_texture,0),c.pixelStorei(c.PACK_ALIGNMENT,4),c.readPixels(r,i,a,o,c.RGBA,d,s),s},t.prototype.readBuffer=function(n,r,i,a,o){return vb(this,void 0,void 0,function(){var s;return gb(this,function(l){return s=this.device.gl,Kn(s)?[2,this.getBufferSubDataAsync(s.ARRAY_BUFFER,mb(n,r),r,i,a,o)]:[2,Promise.reject()]})})},t.prototype.destroy=function(){e.prototype.destroy.call(this),Kn(this.device.gl)&&(this.gl_sync!==null&&this.device.gl.deleteSync(this.gl_sync),this.gl_pbo!==null&&this.device.gl.deleteBuffer(this.gl_pbo))},t}(Yc),RFt=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o,s,l=e.call(this,{id:r,device:i})||this;return l.type=Ti.RenderPipeline,l.drawMode=vFt((o=a.topology)!==null&&o!==void 0?o:go.TRIANGLES),l.program=a.program,l.inputLayout=a.inputLayout,l.megaState=$a($a({},lx(ux)),a.megaStateDescriptor),l.colorAttachmentFormats=a.colorAttachmentFormats.slice(),l.depthStencilAttachmentFormat=a.depthStencilAttachmentFormat,l.sampleCount=(s=a.sampleCount)!==null&&s!==void 0?s:1,l}return t}(Yc),IFt=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=e.call(this,{id:r,device:i})||this;return o.type=Ti.ComputePipeline,o.descriptor=a,o}return t}(Yc),MFt=function(){function e(){this.liveObjects=new Set,this.creationStacks=new Map,this.deletionStacks=new Map}return e.prototype.trackResourceCreated=function(t){this.creationStacks.set(t,new Error().stack),this.liveObjects.add(t)},e.prototype.trackResourceDestroyed=function(t){this.deletionStacks.has(t)&&console.warn("Object double freed:",t,`

Creation stack: `,this.creationStacks.get(t),`

Deletion stack: `,this.deletionStacks.get(t),`

This stack: `,new Error().stack),this.deletionStacks.set(t,new Error().stack),this.liveObjects.delete(t)},e.prototype.checkForLeaks=function(){var t,n;try{for(var r=My(this.liveObjects.values()),i=r.next();!i.done;i=r.next()){var a=i.value;console.warn("Object leaked:",a,"Creation stack:",this.creationStacks.get(a))}}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},e.prototype.setResourceLeakCheck=function(t,n){n?this.liveObjects.add(t):this.liveObjects.delete(t)},e}(),OFt=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o,s,l=e.call(this,{id:r,device:i})||this;l.type=Ti.Sampler;var u=l.device.gl;if(Kn(u)){var c=l.device.ensureResourceExists(u.createSampler());u.samplerParameteri(c,Ne.TEXTURE_WRAP_S,qA(a.addressModeU)),u.samplerParameteri(c,Ne.TEXTURE_WRAP_T,qA(a.addressModeV)),u.samplerParameteri(c,Ne.TEXTURE_WRAP_R,qA((o=a.addressModeW)!==null&&o!==void 0?o:a.addressModeU)),u.samplerParameteri(c,Ne.TEXTURE_MIN_FILTER,DI(a.minFilter,a.mipmapFilter)),u.samplerParameteri(c,Ne.TEXTURE_MAG_FILTER,DI(a.magFilter,Fo.NO_MIP)),a.lodMinClamp!==void 0&&u.samplerParameterf(c,Ne.TEXTURE_MIN_LOD,a.lodMinClamp),a.lodMaxClamp!==void 0&&u.samplerParameterf(c,Ne.TEXTURE_MAX_LOD,a.lodMaxClamp),a.compareFunction!==void 0&&(u.samplerParameteri(c,u.TEXTURE_COMPARE_MODE,u.COMPARE_REF_TO_TEXTURE),u.samplerParameteri(c,u.TEXTURE_COMPARE_FUNC,a.compareFunction));var f=(s=a.maxAnisotropy)!==null&&s!==void 0?s:1;f>1&&l.device.EXT_texture_filter_anisotropic!==null&&(Br(a.minFilter===Qa.BILINEAR&&a.magFilter===Qa.BILINEAR&&a.mipmapFilter===Fo.LINEAR),u.samplerParameterf(c,l.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,f)),l.gl_sampler=c}else l.descriptor=a;return l}return t.prototype.setTextureParameters=function(n,r,i){var a,o=this.device.gl,s=this.descriptor;this.isNPOT(r,i)?o.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_MIN_FILTER,Ne.LINEAR):o.texParameteri(n,Ne.TEXTURE_MIN_FILTER,DI(s.minFilter,s.mipmapFilter)),o.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_WRAP_S,qA(s.addressModeU)),o.texParameteri(Ne.TEXTURE_2D,Ne.TEXTURE_WRAP_T,qA(s.addressModeV)),o.texParameteri(n,Ne.TEXTURE_MAG_FILTER,DI(s.magFilter,Fo.NO_MIP));var l=(a=s.maxAnisotropy)!==null&&a!==void 0?a:1;l>1&&this.device.EXT_texture_filter_anisotropic!==null&&(Br(s.minFilter===Qa.BILINEAR&&s.magFilter===Qa.BILINEAR&&s.mipmapFilter===Fo.LINEAR),o.texParameteri(n,this.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,l))},t.prototype.destroy=function(){e.prototype.destroy.call(this),Kn(this.device.gl)&&this.device.gl.deleteSampler(Lz(this))},t.prototype.isNPOT=function(n,r){return!nD(n)||!nD(r)},t}(Yc),DFt=function(){function e(){}return e.prototype.dispatchWorkgroups=function(t,n,r){},e.prototype.dispatchWorkgroupsIndirect=function(t,n){},e.prototype.setPipeline=function(t){},e.prototype.setBindings=function(t){},e.prototype.pushDebugGroup=function(t){},e.prototype.popDebugGroup=function(){},e.prototype.insertDebugMarker=function(t){},e}(),PFt=function(e){ja(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ti.RenderBundle,n.commands=[],n}return t.prototype.push=function(n){this.commands.push(n)},t.prototype.replay=function(){this.commands.forEach(function(n){return n()})},t}(Yc),Ade=65536,LFt=/uniform(?:\s+)(\w+)(?:\s?){([^]*?)}/g,NFt=function(){function e(t,n){n===void 0&&(n={}),this.shaderDebug=!1,this.OES_vertex_array_object=null,this.ANGLE_instanced_arrays=null,this.OES_texture_float=null,this.OES_draw_buffers_indexed=null,this.WEBGL_draw_buffers=null,this.WEBGL_depth_texture=null,this.WEBGL_color_buffer_float=null,this.EXT_color_buffer_half_float=null,this.WEBGL_compressed_texture_s3tc=null,this.WEBGL_compressed_texture_s3tc_srgb=null,this.EXT_texture_compression_rgtc=null,this.EXT_texture_filter_anisotropic=null,this.KHR_parallel_shader_compile=null,this.EXT_texture_norm16=null,this.EXT_color_buffer_float=null,this.OES_texture_float_linear=null,this.OES_texture_half_float_linear=null,this.scTexture=null,this.scPlatformFramebuffer=null,this.currentActiveTexture=null,this.currentBoundVAO=null,this.currentProgram=null,this.resourceCreationTracker=null,this.resourceUniqueId=0,this.currentColorAttachments=[],this.currentColorAttachmentLevels=[],this.currentColorResolveTos=[],this.currentColorResolveToLevels=[],this.currentSampleCount=-1,this.currentIndexBufferByteOffset=null,this.currentMegaState=lx(ux),this.currentSamplers=[],this.currentTextures=[],this.currentUniformBuffers=[],this.currentUniformBufferByteOffsets=[],this.currentUniformBufferByteSizes=[],this.currentScissorEnabled=!1,this.currentStencilRef=null,this.currentRenderPassDescriptor=null,this.currentRenderPassDescriptorStack=[],this.debugGroupStack=[],this.resolveColorAttachmentsChanged=!1,this.resolveDepthStencilAttachmentsChanged=!1,this.explicitBindingLocations=!1,this.separateSamplerTextures=!1,this.viewportOrigin=Ff.LOWER_LEFT,this.clipSpaceNearZ=ox.NEGATIVE_ONE,this.supportMRT=!1,this.inBlitRenderPass=!1,this.supportedSampleCounts=[],this.occlusionQueriesRecommended=!1,this.computeShadersSupported=!1,this.gl=t,this.contextAttributes=H0(t.getContextAttributes()),Kn(t)?(this.EXT_texture_norm16=t.getExtension("EXT_texture_norm16"),this.EXT_color_buffer_float=t.getExtension("EXT_color_buffer_float")):(this.OES_vertex_array_object=t.getExtension("OES_vertex_array_object"),this.ANGLE_instanced_arrays=t.getExtension("ANGLE_instanced_arrays"),this.OES_texture_float=t.getExtension("OES_texture_float"),this.WEBGL_draw_buffers=t.getExtension("WEBGL_draw_buffers"),this.WEBGL_depth_texture=t.getExtension("WEBGL_depth_texture"),this.WEBGL_color_buffer_float=t.getExtension("WEBGL_color_buffer_float"),this.EXT_color_buffer_half_float=t.getExtension("EXT_color_buffer_half_float"),t.getExtension("EXT_frag_depth"),t.getExtension("OES_element_index_uint"),t.getExtension("OES_standard_derivatives")),this.WEBGL_compressed_texture_s3tc=t.getExtension("WEBGL_compressed_texture_s3tc"),this.WEBGL_compressed_texture_s3tc_srgb=t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),this.EXT_texture_compression_rgtc=t.getExtension("EXT_texture_compression_rgtc"),this.EXT_texture_filter_anisotropic=t.getExtension("EXT_texture_filter_anisotropic"),this.EXT_texture_norm16=t.getExtension("EXT_texture_norm16"),this.OES_texture_float_linear=t.getExtension("OES_texture_float_linear"),this.OES_texture_half_float_linear=t.getExtension("OES_texture_half_float_linear"),this.KHR_parallel_shader_compile=t.getExtension("KHR_parallel_shader_compile"),Kn(t)?(this.platformString="WebGL2",this.glslVersion="#version 300 es"):(this.platformString="WebGL1",this.glslVersion="#version 100"),this.scTexture=new Nz({id:this.getNextUniqueId(),device:this,descriptor:{width:0,height:0,depthOrArrayLayers:1,dimension:ti.TEXTURE_2D,mipLevelCount:1,usage:tl.RENDER_TARGET,format:this.contextAttributes.alpha===!1?qe.U8_RGB_RT:qe.U8_RGBA_RT},fake:!0}),this.scTexture.formatKind=Wa.Float,this.scTexture.gl_target=null,this.scTexture.gl_texture=null,this.resolveColorReadFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.resolveColorDrawFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.resolveDepthStencilReadFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.resolveDepthStencilDrawFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.renderPassDrawFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.readbackFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.fallbackTexture2D=this.createFallbackTexture(ti.TEXTURE_2D,Wa.Float),this.fallbackTexture2DDepth=this.createFallbackTexture(ti.TEXTURE_2D,Wa.Depth),this.fallbackVertexBuffer=this.createBuffer({viewOrSize:1,usage:ea.VERTEX,hint:Hf.STATIC}),Kn(t)&&(this.fallbackTexture2DArray=this.createFallbackTexture(ti.TEXTURE_2D_ARRAY,Wa.Float),this.fallbackTexture3D=this.createFallbackTexture(ti.TEXTURE_3D,Wa.Float),this.fallbackTextureCube=this.createFallbackTexture(ti.TEXTURE_CUBE_MAP,Wa.Float)),this.currentMegaState.depthCompare=Vi.LESS,this.currentMegaState.depthWrite=!1,this.currentMegaState.attachmentsState[0].channelWriteMask=Go.ALL,t.enable(t.DEPTH_TEST),t.enable(t.STENCIL_TEST),this.checkLimits(),n.shaderDebug&&(this.shaderDebug=!0),n.trackResources&&(this.resourceCreationTracker=new MFt)}return e.prototype.destroy=function(){this.blitBindings&&this.blitBindings.destroy(),this.blitInputLayout&&this.blitInputLayout.destroy(),this.blitRenderPipeline&&this.blitRenderPipeline.destroy(),this.blitVertexBuffer&&this.blitVertexBuffer.destroy(),this.blitProgram&&this.blitProgram.destroy()},e.prototype.createFallbackTexture=function(t,n){var r=t===ti.TEXTURE_CUBE_MAP?6:1,i=n===Wa.Depth?qe.D32F:qe.U8_RGBA_NORM,a=this.createTexture({dimension:t,format:i,usage:tl.SAMPLED,width:1,height:1,depthOrArrayLayers:r,mipLevelCount:1});return n===Wa.Float&&a.setImageData([new Uint8Array(4*r)]),D1(a)},e.prototype.getNextUniqueId=function(){return++this.resourceUniqueId},e.prototype.checkLimits=function(){var t=this.gl;if(this.maxVertexAttribs=t.getParameter(Ne.MAX_VERTEX_ATTRIBS),Kn(t)){this.uniformBufferMaxPageByteSize=Math.min(t.getParameter(Ne.MAX_UNIFORM_BLOCK_SIZE),Ade),this.uniformBufferWordAlignment=t.getParameter(t.UNIFORM_BUFFER_OFFSET_ALIGNMENT)/4;var n=t.getInternalformatParameter(t.RENDERBUFFER,t.DEPTH32F_STENCIL8,t.SAMPLES);this.supportedSampleCounts=n?YA([],Rf(n),!1):[],this.occlusionQueriesRecommended=!0}else this.uniformBufferWordAlignment=64,this.uniformBufferMaxPageByteSize=Ade;this.uniformBufferMaxPageWordSize=this.uniformBufferMaxPageByteSize/4,this.supportedSampleCounts.includes(1)||this.supportedSampleCounts.push(1),this.supportedSampleCounts.sort(function(r,i){return r-i})},e.prototype.configureSwapChain=function(t,n,r){var i=this.scTexture;i.width=t,i.height=n,this.scPlatformFramebuffer=L5t(r)},e.prototype.getDevice=function(){return this},e.prototype.getCanvas=function(){return this.gl.canvas},e.prototype.getOnscreenTexture=function(){return this.scTexture},e.prototype.beginFrame=function(){},e.prototype.endFrame=function(){},e.prototype.translateTextureInternalFormat=function(t,n){switch(n===void 0&&(n=!1),t){case qe.ALPHA:return Ne.ALPHA;case qe.U8_LUMINANCE:case qe.F16_LUMINANCE:case qe.F32_LUMINANCE:return Ne.LUMINANCE;case qe.F16_R:return Ne.R16F;case qe.F16_RG:return Ne.RG16F;case qe.F16_RGB:return Ne.RGB16F;case qe.F16_RGBA:return Ne.RGBA16F;case qe.F32_R:return Ne.R32F;case qe.F32_RG:return Ne.RG32F;case qe.F32_RGB:return Ne.RGB32F;case qe.F32_RGBA:return Kn(this.gl)?Ne.RGBA32F:n?this.WEBGL_color_buffer_float.RGBA32F_EXT:Ne.RGBA;case qe.U8_R_NORM:return Ne.R8;case qe.U8_RG_NORM:return Ne.RG8;case qe.U8_RGB_NORM:case qe.U8_RGB_RT:return Ne.RGB8;case qe.U8_RGB_SRGB:return Ne.SRGB8;case qe.U8_RGBA_NORM:case qe.U8_RGBA_RT:return Kn(this.gl)?Ne.RGBA8:n?Ne.RGBA4:Ne.RGBA;case qe.U8_RGBA:return Ne.RGBA;case qe.U8_RGBA_SRGB:case qe.U8_RGBA_RT_SRGB:return Ne.SRGB8_ALPHA8;case qe.U16_R:return Ne.R16UI;case qe.U16_R_NORM:return this.EXT_texture_norm16.R16_EXT;case qe.U16_RG_NORM:return this.EXT_texture_norm16.RG16_EXT;case qe.U16_RGBA_NORM:return this.EXT_texture_norm16.RGBA16_EXT;case qe.U16_RGBA_5551:return Ne.RGB5_A1;case qe.U16_RGB_565:return Ne.RGB565;case qe.U32_R:return Ne.R32UI;case qe.S8_RGBA_NORM:return Ne.RGBA8_SNORM;case qe.S8_RG_NORM:return Ne.RG8_SNORM;case qe.BC1:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT;case qe.BC1_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;case qe.BC2:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT;case qe.BC2_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;case qe.BC3:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT;case qe.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;case qe.BC4_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_RGTC1_EXT;case qe.BC4_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT;case qe.BC5_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT;case qe.BC5_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;case qe.D32F_S8:return Kn(this.gl)?Ne.DEPTH32F_STENCIL8:this.WEBGL_depth_texture?Ne.DEPTH_STENCIL:Ne.DEPTH_COMPONENT16;case qe.D24_S8:return Kn(this.gl)?Ne.DEPTH24_STENCIL8:this.WEBGL_depth_texture?Ne.DEPTH_STENCIL:Ne.DEPTH_COMPONENT16;case qe.D32F:return Kn(this.gl)?Ne.DEPTH_COMPONENT32F:this.WEBGL_depth_texture?Ne.DEPTH_COMPONENT:Ne.DEPTH_COMPONENT16;case qe.D24:return Kn(this.gl)?Ne.DEPTH_COMPONENT24:this.WEBGL_depth_texture?Ne.DEPTH_COMPONENT:Ne.DEPTH_COMPONENT16;default:throw new Error("whoops")}},e.prototype.translateTextureType=function(t){var n=gh(t);switch(n){case Bt.U8:return Ne.UNSIGNED_BYTE;case Bt.U16:return Ne.UNSIGNED_SHORT;case Bt.U32:return Ne.UNSIGNED_INT;case Bt.S8:return Ne.BYTE;case Bt.F16:return Ne.HALF_FLOAT;case Bt.F32:return Ne.FLOAT;case Bt.U16_PACKED_5551:return Ne.UNSIGNED_SHORT_5_5_5_1;case Bt.D32F:return Kn(this.gl)?Ne.FLOAT:this.WEBGL_depth_texture?Ne.UNSIGNED_INT:Ne.UNSIGNED_BYTE;case Bt.D24:return Kn(this.gl)?Ne.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?Ne.UNSIGNED_SHORT:Ne.UNSIGNED_BYTE;case Bt.D24S8:return Kn(this.gl)?Ne.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?Ne.UNSIGNED_INT_24_8_WEBGL:Ne.UNSIGNED_BYTE;case Bt.D32FS8:return Ne.FLOAT_32_UNSIGNED_INT_24_8_REV;default:throw new Error("whoops")}},e.prototype.translateInternalTextureFormat=function(t){switch(t){case qe.F32_R:return Ne.R32F;case qe.F32_RG:return Ne.RG32F;case qe.F32_RGB:return Ne.RGB32F;case qe.F32_RGBA:return Ne.RGBA32F;case qe.F16_R:return Ne.R16F;case qe.F16_RG:return Ne.RG16F;case qe.F16_RGB:return Ne.RGB16F;case qe.F16_RGBA:return Ne.RGBA16F}return this.translateTextureFormat(t)},e.prototype.translateTextureFormat=function(t){if(Bwe(t)||t===qe.F32_LUMINANCE||t===qe.U8_LUMINANCE)return this.translateTextureInternalFormat(t);var n=Kn(this.gl)||!Kn(this.gl)&&!!this.WEBGL_depth_texture;switch(t){case qe.D24_S8:case qe.D32F_S8:return n?Ne.DEPTH_STENCIL:Ne.RGBA;case qe.D24:case qe.D32F:return n?Ne.DEPTH_COMPONENT:Ne.RGBA}var r=kwe(t),i=Kj(t);switch(i){case Vn.A:return Ne.ALPHA;case Vn.R:return r?Ne.RED_INTEGER:Ne.RED;case Vn.RG:return r?Ne.RG_INTEGER:Ne.RG;case Vn.RGB:return r?Ne.RGB_INTEGER:Ne.RGB;case Vn.RGBA:return Ne.RGBA}},e.prototype.setActiveTexture=function(t){this.currentActiveTexture!==t&&(this.gl.activeTexture(t),this.currentActiveTexture=t)},e.prototype.bindVAO=function(t){this.currentBoundVAO!==t&&(Kn(this.gl)?this.gl.bindVertexArray(t):this.OES_vertex_array_object.bindVertexArrayOES(t),this.currentBoundVAO=t)},e.prototype.programCompiled=function(t){Br(t.compileState!==ou.NeedsCompile),t.compileState===ou.Compiling&&(t.compileState=ou.NeedsBind,this.shaderDebug&&this.checkProgramCompilationForErrors(t))},e.prototype.useProgram=function(t){this.currentProgram!==t&&(this.programCompiled(t),this.gl.useProgram(t.gl_program),this.currentProgram=t)},e.prototype.ensureResourceExists=function(t){if(t===null){var n=this.gl.getError();throw new Error("Created resource is null; GL error encountered: ".concat(n))}else return t},e.prototype.createBuffer=function(t){return new SFt({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createTexture=function(t){return new Nz({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createSampler=function(t){return new OFt({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderTarget=function(t){return new EFt({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderTargetFromTexture=function(t){var n=t,r=n.format,i=n.width,a=n.height,o=n.mipLevelCount;return Br(o===1),this.createRenderTarget({format:r,width:i,height:a,sampleCount:1,texture:t})},e.prototype.createProgram=function(t){var n,r,i,a=(n=t.vertex)===null||n===void 0?void 0:n.glsl;return!((r=t.vertex)===null||r===void 0)&&r.glsl&&(t.vertex.glsl=cx(this.queryVendorInfo(),"vert",t.vertex.glsl)),!((i=t.fragment)===null||i===void 0)&&i.glsl&&(t.fragment.glsl=cx(this.queryVendorInfo(),"frag",t.fragment.glsl)),this.createProgramSimple(t,a)},e.prototype.createProgramSimple=function(t,n){var r=new TFt({id:this.getNextUniqueId(),device:this,descriptor:t},n);return r},e.prototype.createBindings=function(t){return new hFt({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createInputLayout=function(t){return new AFt({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderPipeline=function(t){return new RFt({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createComputePass=function(){return new DFt},e.prototype.createComputePipeline=function(t){return new IFt({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createReadback=function(){return new CFt({id:this.getNextUniqueId(),device:this})},e.prototype.createQueryPool=function(t,n){return new wFt({id:this.getNextUniqueId(),device:this,descriptor:{type:t,elemCount:n}})},e.prototype.formatRenderPassDescriptor=function(t){var n,r,i,a,o,s,l=t.colorAttachment;t.depthClearValue=(n=t.depthClearValue)!==null&&n!==void 0?n:"load",t.stencilClearValue=(r=t.stencilClearValue)!==null&&r!==void 0?r:"load";for(var u=0;u<l.length;u++)t.colorAttachmentLevel||(t.colorAttachmentLevel=[]),t.colorAttachmentLevel[u]=(i=t.colorAttachmentLevel[u])!==null&&i!==void 0?i:0,t.colorResolveToLevel||(t.colorResolveToLevel=[]),t.colorResolveToLevel[u]=(a=t.colorResolveToLevel[u])!==null&&a!==void 0?a:0,t.colorClearColor||(t.colorClearColor=[]),t.colorClearColor[u]=(o=t.colorClearColor[u])!==null&&o!==void 0?o:"load",t.colorStore||(t.colorStore=[]),t.colorStore[u]=(s=t.colorStore[u])!==null&&s!==void 0?s:!1},e.prototype.createRenderBundle=function(){return new PFt({id:this.getNextUniqueId(),device:this})},e.prototype.beginBundle=function(t){this.renderBundle=t},e.prototype.endBundle=function(){this.renderBundle=void 0},e.prototype.executeBundles=function(t){t.forEach(function(n){n.replay()})},e.prototype.createRenderPass=function(t){this.currentRenderPassDescriptor!==null&&this.currentRenderPassDescriptorStack.push(this.currentRenderPassDescriptor),this.currentRenderPassDescriptor=t,this.formatRenderPassDescriptor(t);var n=t.colorAttachment,r=t.colorAttachmentLevel,i=t.colorClearColor,a=t.colorResolveTo,o=t.colorResolveToLevel,s=t.depthStencilAttachment,l=t.depthClearValue,u=t.stencilClearValue,c=t.depthStencilResolveTo,f=a&&a.length===1&&a[0]===this.scTexture;this.setRenderPassParametersBegin(n.length,f);for(var d=0;d<n.length;d++)this.setRenderPassParametersColor(d,n[d],r[d],a[d],o[d],f);this.setRenderPassParametersDepthStencil(s,c,f),this.validateCurrentAttachments();for(var d=0;d<n.length;d++){var h=i[d];h!=="load"&&this.setRenderPassParametersClearColor(d,h.r,h.g,h.b,h.a)}return this.setRenderPassParametersClearDepthStencil(l,u),this},e.prototype.submitPass=function(t){Br(this.currentRenderPassDescriptor!==null),this.endPass(),this.currentRenderPassDescriptorStack.length?this.currentRenderPassDescriptor=this.currentRenderPassDescriptorStack.pop():this.currentRenderPassDescriptor=null},e.prototype.copySubTexture2D=function(t,n,r,i,a,o){var s=this.gl,l=t,u=i;if(Br(u.mipLevelCount===1),Br(l.mipLevelCount===1),Kn(s))l===this.scTexture?s.bindFramebuffer(s.DRAW_FRAMEBUFFER,this.scPlatformFramebuffer):(s.bindFramebuffer(s.DRAW_FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.bindFramebufferAttachment(s.DRAW_FRAMEBUFFER,s.COLOR_ATTACHMENT0,l,0)),s.bindFramebuffer(s.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.bindFramebufferAttachment(s.READ_FRAMEBUFFER,s.COLOR_ATTACHMENT0,u,0),s.blitFramebuffer(a,o,a+u.width,o+u.height,n,r,n+u.width,r+u.height,s.COLOR_BUFFER_BIT,s.LINEAR),s.bindFramebuffer(s.READ_FRAMEBUFFER,null),s.bindFramebuffer(s.DRAW_FRAMEBUFFER,null);else if(l===this.scTexture){var c=this.createRenderTargetFromTexture(i);this.submitBlitRenderPass(c,l)}},e.prototype.queryLimits=function(){return this},e.prototype.queryTextureFormatSupported=function(t,n,r){switch(t){case qe.BC1_SRGB:case qe.BC2_SRGB:case qe.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb!==null?b7(n,r,4,4):!1;case qe.BC1:case qe.BC2:case qe.BC3:return this.WEBGL_compressed_texture_s3tc!==null?b7(n,r,4,4):!1;case qe.BC4_UNORM:case qe.BC4_SNORM:case qe.BC5_UNORM:case qe.BC5_SNORM:return this.EXT_texture_compression_rgtc!==null?b7(n,r,4,4):!1;case qe.U16_R_NORM:case qe.U16_RG_NORM:case qe.U16_RGBA_NORM:return this.EXT_texture_norm16!==null;case qe.F32_R:case qe.F32_RG:case qe.F32_RGB:case qe.F32_RGBA:return this.OES_texture_float_linear!==null;case qe.F16_R:case qe.F16_RG:case qe.F16_RGB:case qe.F16_RGBA:return this.OES_texture_half_float_linear!==null;default:return!0}},e.prototype.queryProgramReady=function(t){var n=this.gl;if(t.compileState===ou.NeedsCompile)throw new Error("whoops");if(t.compileState===ou.Compiling){var r=void 0;return this.KHR_parallel_shader_compile!==null?r=n.getProgramParameter(t.gl_program,this.KHR_parallel_shader_compile.COMPLETION_STATUS_KHR):r=!0,r&&this.programCompiled(t),r}return t.compileState===ou.NeedsBind||t.compileState===ou.ReadyToUse},e.prototype.queryPlatformAvailable=function(){return this.gl.isContextLost()},e.prototype.queryVendorInfo=function(){return this},e.prototype.queryRenderPass=function(t){return this.currentRenderPassDescriptor},e.prototype.queryRenderTarget=function(t){var n=t;return n},e.prototype.setResourceName=function(t,n){if(t.name=n,t.type===Ti.Buffer)for(var r=t.gl_buffer_pages,i=0;i<r.length;i++)ZA(r[i],"".concat(n," Page ").concat(i));else if(t.type===Ti.Texture)ZA(D1(t),n);else if(t.type===Ti.Sampler)ZA(Lz(t),n);else if(t.type===Ti.RenderTarget){var a=t.gl_renderbuffer;a!==null&&ZA(a,n)}else t.type===Ti.InputLayout&&ZA(t.vao,n)},e.prototype.setResourceLeakCheck=function(t,n){this.resourceCreationTracker!==null&&this.resourceCreationTracker.setResourceLeakCheck(t,n)},e.prototype.checkForLeaks=function(){this.resourceCreationTracker!==null&&this.resourceCreationTracker.checkForLeaks()},e.prototype.pushDebugGroup=function(t){},e.prototype.popDebugGroup=function(){},e.prototype.insertDebugMarker=function(t){},e.prototype.programPatched=function(t,n){Br(this.shaderDebug)},e.prototype.getBufferData=function(t,n,r){r===void 0&&(r=0);var i=this.gl;Kn(i)&&(i.bindBuffer(i.COPY_READ_BUFFER,mb(t,r*4)),i.getBufferSubData(i.COPY_READ_BUFFER,r*4,n))},e.prototype.debugGroupStatisticsDrawCall=function(t){t===void 0&&(t=1);for(var n=this.debugGroupStack.length-1;n>=0;n--)this.debugGroupStack[n].drawCallCount+=t},e.prototype.debugGroupStatisticsBufferUpload=function(t){t===void 0&&(t=1);for(var n=this.debugGroupStack.length-1;n>=0;n--)this.debugGroupStack[n].bufferUploadCount+=t},e.prototype.debugGroupStatisticsTextureBind=function(t){t===void 0&&(t=1);for(var n=this.debugGroupStack.length-1;n>=0;n--)this.debugGroupStack[n].textureBindCount+=t},e.prototype.debugGroupStatisticsTriangles=function(t){for(var n=this.debugGroupStack.length-1;n>=0;n--)this.debugGroupStack[n].triangleCount+=t},e.prototype.reportShaderError=function(t,n){var r=this.gl,i=r.getShaderParameter(t,r.COMPILE_STATUS);if(!i){console.error(B5t(n));var a=r.getExtension("WEBGL_debug_shaders");a&&console.error(a.getTranslatedShaderSource(t)),console.error(r.getShaderInfoLog(t))}return i},e.prototype.checkProgramCompilationForErrors=function(t){var n=this.gl,r=t.gl_program;if(!n.getProgramParameter(r,n.LINK_STATUS)){var i=t.descriptor;if(!this.reportShaderError(t.gl_shader_vert,i.vertex.glsl)||!this.reportShaderError(t.gl_shader_frag,i.fragment.glsl))return;console.error(n.getProgramInfoLog(t.gl_program))}},e.prototype.bindFramebufferAttachment=function(t,n,r,i){var a=this.gl;if(Oc(r))a.framebufferRenderbuffer(t,n,a.RENDERBUFFER,null);else if(r.type===Ti.RenderTarget)r.gl_renderbuffer!==null?a.framebufferRenderbuffer(t,n,a.RENDERBUFFER,r.gl_renderbuffer):r.texture!==null&&a.framebufferTexture2D(t,n,Ne.TEXTURE_2D,D1(r.texture),i);else if(r.type===Ti.Texture){var o=D1(r);r.dimension===ti.TEXTURE_2D?a.framebufferTexture2D(t,n,Ne.TEXTURE_2D,o,i):Kn(a)&&(r.dimension,ti.TEXTURE_2D_ARRAY)}},e.prototype.bindFramebufferDepthStencilAttachment=function(t,n){var r=this.gl,i=Oc(n)?Cn.Depth|Cn.Stencil:sx(n.format),a=!!(i&Cn.Depth),o=!!(i&Cn.Stencil);if(a&&o){var s=Kn(this.gl)||!Kn(this.gl)&&!!this.WEBGL_depth_texture;s?this.bindFramebufferAttachment(t,r.DEPTH_STENCIL_ATTACHMENT,n,0):this.bindFramebufferAttachment(t,r.DEPTH_ATTACHMENT,n,0)}else a?(this.bindFramebufferAttachment(t,r.DEPTH_ATTACHMENT,n,0),this.bindFramebufferAttachment(t,r.STENCIL_ATTACHMENT,null,0)):o&&(this.bindFramebufferAttachment(t,r.STENCIL_ATTACHMENT,n,0),this.bindFramebufferAttachment(t,r.DEPTH_ATTACHMENT,null,0))},e.prototype.validateCurrentAttachments=function(){for(var t=-1,n=-1,r=-1,i=0;i<this.currentColorAttachments.length;i++){var a=this.currentColorAttachments[i];a!==null&&(t===-1?(t=a.sampleCount,n=a.width,r=a.height):(Br(t===a.sampleCount),Br(n===a.width),Br(r===a.height)))}this.currentDepthStencilAttachment&&(t===-1?t=this.currentDepthStencilAttachment.sampleCount:(Br(t===this.currentDepthStencilAttachment.sampleCount),Br(n===this.currentDepthStencilAttachment.width),Br(r===this.currentDepthStencilAttachment.height))),this.currentSampleCount=t},e.prototype.setRenderPassParametersBegin=function(t,n){n===void 0&&(n=!1);var r=this.gl;if(n)r.bindFramebuffer(Ne.FRAMEBUFFER,null);else if(Kn(r)?r.bindFramebuffer(Ne.DRAW_FRAMEBUFFER,this.renderPassDrawFramebuffer):this.inBlitRenderPass||r.bindFramebuffer(Ne.FRAMEBUFFER,this.renderPassDrawFramebuffer),Kn(r)?r.drawBuffers([Ne.COLOR_ATTACHMENT0,Ne.COLOR_ATTACHMENT1,Ne.COLOR_ATTACHMENT2,Ne.COLOR_ATTACHMENT3]):!this.inBlitRenderPass&&this.WEBGL_draw_buffers&&this.WEBGL_draw_buffers.drawBuffersWEBGL([Ne.COLOR_ATTACHMENT0_WEBGL,Ne.COLOR_ATTACHMENT1_WEBGL,Ne.COLOR_ATTACHMENT2_WEBGL,Ne.COLOR_ATTACHMENT3_WEBGL]),!this.inBlitRenderPass)for(var i=t;i<this.currentColorAttachments.length;i++){var a=Kn(r)?Ne.DRAW_FRAMEBUFFER:Ne.FRAMEBUFFER,o=Kn(r)?Ne.COLOR_ATTACHMENT0:Ne.COLOR_ATTACHMENT0_WEBGL;r.framebufferRenderbuffer(a,o+i,Ne.RENDERBUFFER,null),r.framebufferTexture2D(a,o+i,Ne.TEXTURE_2D,null,0)}this.currentColorAttachments.length=t},e.prototype.setRenderPassParametersColor=function(t,n,r,i,a,o){o===void 0&&(o=!1);var s=this.gl,l=Kn(s);(this.currentColorAttachments[t]!==n||this.currentColorAttachmentLevels[t]!==r)&&(this.currentColorAttachments[t]=n,this.currentColorAttachmentLevels[t]=r,!o&&(l||!l&&this.WEBGL_draw_buffers)&&this.bindFramebufferAttachment(l?Ne.DRAW_FRAMEBUFFER:Ne.FRAMEBUFFER,(l?Ne.COLOR_ATTACHMENT0:Ne.COLOR_ATTACHMENT0_WEBGL)+t,n,r),this.resolveColorAttachmentsChanged=!0),(this.currentColorResolveTos[t]!==i||this.currentColorResolveToLevels[t]!==a)&&(this.currentColorResolveTos[t]=i,this.currentColorResolveToLevels[t]=a,i!==null&&(this.resolveColorAttachmentsChanged=!0))},e.prototype.setRenderPassParametersDepthStencil=function(t,n,r){r===void 0&&(r=!1);var i=this.gl;this.currentDepthStencilAttachment!==t&&(this.currentDepthStencilAttachment=t,!r&&!this.inBlitRenderPass&&this.bindFramebufferDepthStencilAttachment(Kn(i)?Ne.DRAW_FRAMEBUFFER:Ne.FRAMEBUFFER,this.currentDepthStencilAttachment),this.resolveDepthStencilAttachmentsChanged=!0),this.currentDepthStencilResolveTo!==n&&(this.currentDepthStencilResolveTo=n,n&&(this.resolveDepthStencilAttachmentsChanged=!0))},e.prototype.setRenderPassParametersClearColor=function(t,n,r,i,a){var o=this.gl;if(this.OES_draw_buffers_indexed!==null){var s=this.currentMegaState.attachmentsState[t];s&&s.channelWriteMask!==Go.ALL&&(this.OES_draw_buffers_indexed.colorMaskiOES(t,!0,!0,!0,!0),s.channelWriteMask=Go.ALL)}else{var s=this.currentMegaState.attachmentsState[0];s&&s.channelWriteMask!==Go.ALL&&(o.colorMask(!0,!0,!0,!0),s.channelWriteMask=Go.ALL)}this.setScissorRectEnabled(!1),Kn(o)?o.clearBufferfv(o.COLOR,t,[n,r,i,a]):(o.clearColor(n,r,i,a),o.clear(o.COLOR_BUFFER_BIT))},e.prototype.setRenderPassParametersClearDepthStencil=function(t,n){t===void 0&&(t="load"),n===void 0&&(n="load");var r=this.gl;t!=="load"&&(Br(!!this.currentDepthStencilAttachment),this.currentMegaState.depthWrite||(r.depthMask(!0),this.currentMegaState.depthWrite=!0),Kn(r)?r.clearBufferfv(r.DEPTH,0,[t]):(r.clearDepth(t),r.clear(r.DEPTH_BUFFER_BIT))),n!=="load"&&(Br(!!this.currentDepthStencilAttachment),this.currentMegaState.stencilWrite||(r.enable(r.STENCIL_TEST),r.stencilMask(255),this.currentMegaState.stencilWrite=!0),Kn(r)?r.clearBufferiv(r.STENCIL,0,[n]):(r.clearStencil(n),r.clear(r.STENCIL_BUFFER_BIT)))},e.prototype.setBindings=function(t){var n=this,r;if(this.renderBundle){this.renderBundle.push(function(){return n.setBindings(t)});return}var i=this.gl,a=t,o=a.uniformBufferBindings,s=a.samplerBindings,l=a.bindingLayouts;Br(0<l.bindingLayoutTables.length);var u=l.bindingLayoutTables[0];Br(o.length>=u.numUniformBuffers),Br(s.length>=u.numSamplers);for(var c=0;c<o.length;c++){var f=o[c];if(f.size!==0){var d=u.firstUniformBuffer+c,h=f.buffer,p=f.offset||0,v=f.size||h.byteSize;if(h!==this.currentUniformBuffers[d]||p!==this.currentUniformBufferByteOffsets[d]||v!==this.currentUniformBufferByteSizes[d]){var g=p%h.pageByteSize,m=h.gl_buffer_pages[p/h.pageByteSize|0];Br(g+v<=h.pageByteSize),Kn(i)&&i.bindBufferRange(i.UNIFORM_BUFFER,d,m,g,v),this.currentUniformBuffers[d]=h,this.currentUniformBufferByteOffsets[d]=p,this.currentUniformBufferByteSizes[d]=v}}}for(var c=0;c<u.numSamplers;c++){var f=s[c],b=u.firstSampler+c,_=f!==null&&f.sampler!==null?Lz(f.sampler):null,x=f!==null&&f.texture!==null?D1(f.texture):null;if(this.currentSamplers[b]!==_&&(Kn(i)&&i.bindSampler(b,_),this.currentSamplers[b]=_),this.currentTextures[b]!==x){if(this.setActiveTexture(i.TEXTURE0+b),x!==null){var E=H0(f).texture,A=E.gl_target,T=E.width,R=E.height;f.texture.textureIndex=b,i.bindTexture(A,x),Kn(i)||(r=f.sampler)===null||r===void 0||r.setTextureParameters(A,T,R),this.debugGroupStatisticsTextureBind()}else{var M=$a($a({},f),Lwe),O=M.dimension,D=M.formatKind,A=xFt(O);i.bindTexture(A,this.getFallbackTexture($a({gl_target:A,formatKind:D},M)))}this.currentTextures[b]=x}}},e.prototype.setViewport=function(t,n,r,i){var a=this.gl;a.viewport(t,n,r,i)},e.prototype.setScissorRect=function(t,n,r,i){var a=this.gl;this.setScissorRectEnabled(!0),a.scissor(t,n,r,i)},e.prototype.applyAttachmentStateIndexed=function(t,n,r){var i=this.gl,a=this.OES_draw_buffers_indexed;n.channelWriteMask!==r.channelWriteMask&&(a.colorMaskiOES(t,!!(r.channelWriteMask&Go.RED),!!(r.channelWriteMask&Go.GREEN),!!(r.channelWriteMask&Go.BLUE),!!(r.channelWriteMask&Go.ALPHA)),n.channelWriteMask=r.channelWriteMask);var o=n.rgbBlendState.blendMode!==r.rgbBlendState.blendMode||n.alphaBlendState.blendMode!==r.alphaBlendState.blendMode,s=n.rgbBlendState.blendSrcFactor!==r.rgbBlendState.blendSrcFactor||n.alphaBlendState.blendSrcFactor!==r.alphaBlendState.blendSrcFactor||n.rgbBlendState.blendDstFactor!==r.rgbBlendState.blendDstFactor||n.alphaBlendState.blendDstFactor!==r.alphaBlendState.blendDstFactor;(s||o)&&(Nv(n.rgbBlendState)&&Nv(n.alphaBlendState)?a.enableiOES(t,i.BLEND):Nv(r.rgbBlendState)&&Nv(r.alphaBlendState)&&a.disableiOES(t,i.BLEND)),o&&(a.blendEquationSeparateiOES(t,r.rgbBlendState.blendMode,r.alphaBlendState.blendMode),n.rgbBlendState.blendMode=r.rgbBlendState.blendMode,n.alphaBlendState.blendMode=r.alphaBlendState.blendMode),s&&(a.blendFuncSeparateiOES(t,r.rgbBlendState.blendSrcFactor,r.rgbBlendState.blendDstFactor,r.alphaBlendState.blendSrcFactor,r.alphaBlendState.blendDstFactor),n.rgbBlendState.blendSrcFactor=r.rgbBlendState.blendSrcFactor,n.alphaBlendState.blendSrcFactor=r.alphaBlendState.blendSrcFactor,n.rgbBlendState.blendDstFactor=r.rgbBlendState.blendDstFactor,n.alphaBlendState.blendDstFactor=r.alphaBlendState.blendDstFactor)},e.prototype.applyAttachmentState=function(t,n){var r=this.gl;t.channelWriteMask!==n.channelWriteMask&&(r.colorMask(!!(n.channelWriteMask&Go.RED),!!(n.channelWriteMask&Go.GREEN),!!(n.channelWriteMask&Go.BLUE),!!(n.channelWriteMask&Go.ALPHA)),t.channelWriteMask=n.channelWriteMask);var i=t.rgbBlendState.blendMode!==n.rgbBlendState.blendMode||t.alphaBlendState.blendMode!==n.alphaBlendState.blendMode,a=t.rgbBlendState.blendSrcFactor!==n.rgbBlendState.blendSrcFactor||t.alphaBlendState.blendSrcFactor!==n.alphaBlendState.blendSrcFactor||t.rgbBlendState.blendDstFactor!==n.rgbBlendState.blendDstFactor||t.alphaBlendState.blendDstFactor!==n.alphaBlendState.blendDstFactor;(a||i)&&(Nv(t.rgbBlendState)&&Nv(t.alphaBlendState)?r.enable(r.BLEND):Nv(n.rgbBlendState)&&Nv(n.alphaBlendState)&&r.disable(r.BLEND)),i&&(r.blendEquationSeparate(n.rgbBlendState.blendMode,n.alphaBlendState.blendMode),t.rgbBlendState.blendMode=n.rgbBlendState.blendMode,t.alphaBlendState.blendMode=n.alphaBlendState.blendMode),a&&(r.blendFuncSeparate(n.rgbBlendState.blendSrcFactor,n.rgbBlendState.blendDstFactor,n.alphaBlendState.blendSrcFactor,n.alphaBlendState.blendDstFactor),t.rgbBlendState.blendSrcFactor=n.rgbBlendState.blendSrcFactor,t.alphaBlendState.blendSrcFactor=n.alphaBlendState.blendSrcFactor,t.rgbBlendState.blendDstFactor=n.rgbBlendState.blendDstFactor,t.alphaBlendState.blendDstFactor=n.alphaBlendState.blendDstFactor)},e.prototype.setMegaState=function(t){var n=this.gl,r=this.currentMegaState;if(this.OES_draw_buffers_indexed!==null)for(var i=0;i<t.attachmentsState.length;i++)this.applyAttachmentStateIndexed(i,r.attachmentsState[0],t.attachmentsState[0]);else Br(t.attachmentsState.length===1),this.applyAttachmentState(r.attachmentsState[0],t.attachmentsState[0]);Iwe(r.blendConstant,t.blendConstant)||(n.blendColor(t.blendConstant.r,t.blendConstant.g,t.blendConstant.b,t.blendConstant.a),Mwe(r.blendConstant,t.blendConstant)),r.depthCompare!==t.depthCompare&&(n.depthFunc(t.depthCompare),r.depthCompare=t.depthCompare),!!r.depthWrite!=!!t.depthWrite&&(n.depthMask(t.depthWrite),r.depthWrite=t.depthWrite),!!r.stencilWrite!=!!t.stencilWrite&&(n.stencilMask(t.stencilWrite?255:0),r.stencilWrite=t.stencilWrite);var a=!1;if(!aD(r.stencilFront,t.stencilFront)){a=!0;var o=t.stencilFront,s=o.passOp,l=o.failOp,u=o.depthFailOp,c=o.compare;(r.stencilFront.passOp!==s||r.stencilFront.failOp!==l||r.stencilFront.depthFailOp!==u)&&(n.stencilOpSeparate(n.FRONT,l,u,s),r.stencilFront.passOp=s,r.stencilFront.failOp=l,r.stencilFront.depthFailOp=u),r.stencilFront.compare!==c&&(this.setStencilReference(0),r.stencilFront.compare=c)}if(!aD(r.stencilBack,t.stencilBack)){a=!0;var f=t.stencilBack,s=f.passOp,l=f.failOp,u=f.depthFailOp,c=f.compare;(r.stencilBack.passOp!==s||r.stencilBack.failOp!==l||r.stencilBack.depthFailOp!==u)&&(n.stencilOpSeparate(n.BACK,l,u,s),r.stencilBack.passOp=s,r.stencilBack.failOp=l,r.stencilBack.depthFailOp=u),r.stencilBack.compare!==c&&(this.setStencilReference(0),r.stencilBack.compare=c)}(r.stencilFront.mask!==t.stencilFront.mask||r.stencilBack.mask!==t.stencilBack.mask)&&(a=!0,r.stencilFront.mask=t.stencilFront.mask,r.stencilBack.mask=t.stencilBack.mask),a&&this.applyStencil(),r.cullMode!==t.cullMode&&(r.cullMode===hu.NONE?n.enable(n.CULL_FACE):t.cullMode===hu.NONE&&n.disable(n.CULL_FACE),t.cullMode===hu.BACK?n.cullFace(n.BACK):t.cullMode===hu.FRONT?n.cullFace(n.FRONT):t.cullMode===hu.FRONT_AND_BACK&&n.cullFace(n.FRONT_AND_BACK),r.cullMode=t.cullMode),r.frontFace!==t.frontFace&&(n.frontFace(t.frontFace),r.frontFace=t.frontFace),r.polygonOffset!==t.polygonOffset&&(t.polygonOffset?n.enable(n.POLYGON_OFFSET_FILL):n.disable(n.POLYGON_OFFSET_FILL),r.polygonOffset=t.polygonOffset),(r.polygonOffsetFactor!==t.polygonOffsetFactor||r.polygonOffsetUnits!==t.polygonOffsetUnits)&&(n.polygonOffset(t.polygonOffsetFactor,t.polygonOffsetUnits),r.polygonOffsetFactor=t.polygonOffsetFactor,r.polygonOffsetUnits=t.polygonOffsetUnits)},e.prototype.validatePipelineFormats=function(t){for(var n=0;n<this.currentColorAttachments.length;n++)var r=this.currentColorAttachments[n];this.currentDepthStencilAttachment&&Br(this.currentDepthStencilAttachment.format===t.depthStencilAttachmentFormat),this.currentSampleCount!==-1&&Br(this.currentSampleCount===t.sampleCount)},e.prototype.setPipeline=function(t){var n=this;if(this.renderBundle){this.renderBundle.push(function(){return n.setPipeline(t)});return}this.currentPipeline=t,this.validatePipelineFormats(this.currentPipeline),this.setMegaState(this.currentPipeline.megaState);var r=this.currentPipeline.program;if(this.useProgram(r),r.compileState===ou.NeedsBind){var i=this.gl,a=r.gl_program,o=r.descriptor,s=Sde(o.vertex.glsl,LFt);if(Kn(i))for(var l=0;l<s.length;l++){var u=Rf(s[l],2),c=u[1],f=i.getUniformBlockIndex(a,c);f!==-1&&f!==4294967295&&i.uniformBlockBinding(a,f,l)}for(var d=Sde(o.fragment.glsl,/^uniform .*sampler\S+ (\w+);\s* \/\/ BINDING=(\d+)$/gm),l=0;l<d.length;l++){var h=Rf(d[l],3),p=h[1],v=h[2],g=i.getUniformLocation(a,p);i.uniform1i(g,parseInt(v))}r.compileState=ou.ReadyToUse}},e.prototype.setVertexInput=function(t,n,r){var i,a,o=this,s;if(this.renderBundle){this.renderBundle.push(function(){return o.setVertexInput(t,n,r)});return}if(t!==null){Br(this.currentPipeline.inputLayout===t);var l=t;this.bindVAO(l.vao);for(var u=this.gl,c=0;c<l.vertexBufferDescriptors.length;c++){var f=l.vertexBufferDescriptors[c],d=f.arrayStride,h=f.attributes;try{for(var p=(i=void 0,My(h)),v=p.next();!v.done;v=p.next()){var g=v.value,m=g.shaderLocation,b=g.offset,_=Kn(u)?m:(s=l.program.attributes[m])===null||s===void 0?void 0:s.location;if(!Oc(_)){var x=n[c];if(x===null)continue;var E=g.vertexFormat;u.bindBuffer(u.ARRAY_BUFFER,mb(x.buffer));var A=(x.offset||0)+b;u.vertexAttribPointer(_,E.size,E.type,E.normalized,d,A)}}}catch(R){i={error:R}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(i)throw i.error}}}if(Br(r!==null==(l.indexBufferFormat!==null)),r!==null){var T=r.buffer;Br(T.usage===ea.INDEX),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,mb(T)),this.currentIndexBufferByteOffset=r.offset||0}else this.currentIndexBufferByteOffset=null}else Br(this.currentPipeline.inputLayout===null),Br(r===null),this.bindVAO(null),this.currentIndexBufferByteOffset=0},e.prototype.setStencilReference=function(t){this.currentStencilRef!==t&&(this.currentStencilRef=t,this.applyStencil())},e.prototype.draw=function(t,n,r,i){var a,o=this;if(this.renderBundle){this.renderBundle.push(function(){return o.draw(t,n,r,i)});return}var s=this.gl,l=this.currentPipeline;if(n){var u=[l.drawMode,r||0,t,n];Kn(s)?s.drawArraysInstanced.apply(s,YA([],Rf(u),!1)):(a=this.ANGLE_instanced_arrays).drawArraysInstancedANGLE.apply(a,YA([],Rf(u),!1))}else s.drawArrays(l.drawMode,r,t);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(t/3*Math.max(n,1))},e.prototype.drawIndexed=function(t,n,r,i,a){var o,s=this;if(this.renderBundle){this.renderBundle.push(function(){return s.drawIndexed(t,n,r,i,a)});return}var l=this.gl,u=this.currentPipeline,c=H0(u.inputLayout),f=H0(this.currentIndexBufferByteOffset)+r*c.indexBufferCompByteSize;if(n){var d=[u.drawMode,t,c.indexBufferType,f,n];Kn(l)?l.drawElementsInstanced.apply(l,YA([],Rf(d),!1)):(o=this.ANGLE_instanced_arrays).drawElementsInstancedANGLE.apply(o,YA([],Rf(d),!1))}else l.drawElements(u.drawMode,t,c.indexBufferType,f);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(t/3*Math.max(n,1))},e.prototype.drawIndirect=function(t,n){},e.prototype.drawIndexedIndirect=function(t,n){},e.prototype.beginOcclusionQuery=function(t){var n=this.gl;if(Kn(n)){var r=this.currentRenderPassDescriptor.occlusionQueryPool;n.beginQuery(r.gl_query_type,r.gl_query[t])}},e.prototype.endOcclusionQuery=function(){var t=this.gl;if(Kn(t)){var n=this.currentRenderPassDescriptor.occlusionQueryPool;t.endQuery(n.gl_query_type)}},e.prototype.pipelineQueryReady=function(t){var n=t;return this.queryProgramReady(n.program)},e.prototype.pipelineForceReady=function(t){},e.prototype.endPass=function(){for(var t=this.gl,n=Kn(t),r=this.currentColorResolveTos.length===1&&this.currentColorResolveTos[0]===this.scTexture,i=!1,a=0;a<this.currentColorAttachments.length;a++){var o=this.currentColorAttachments[a];if(o!==null){var s=this.currentColorResolveTos[a],l=!1;s!==null&&(Br(o.width===s.width&&o.height===s.height),this.setScissorRectEnabled(!1),r||(n&&t.bindFramebuffer(t.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&n&&this.bindFramebufferAttachment(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,o,this.currentColorAttachmentLevels[a])),l=!0,r||(s===this.scTexture?t.bindFramebuffer(n?Ne.DRAW_FRAMEBUFFER:Ne.FRAMEBUFFER,this.scPlatformFramebuffer):(t.bindFramebuffer(n?Ne.DRAW_FRAMEBUFFER:Ne.FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.resolveColorAttachmentsChanged&&t.framebufferTexture2D(n?Ne.DRAW_FRAMEBUFFER:Ne.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s.gl_texture,this.currentColorResolveToLevels[a]))),r||(n?(t.blitFramebuffer(0,0,o.width,o.height,0,0,s.width,s.height,t.COLOR_BUFFER_BIT,t.LINEAR),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)):this.submitBlitRenderPass(o,s)),i=!0),this.currentRenderPassDescriptor.colorStore[a]||!r&&!l&&(t.bindFramebuffer(n?Ne.READ_FRAMEBUFFER:Ne.FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&this.bindFramebufferAttachment(n?Ne.READ_FRAMEBUFFER:Ne.FRAMEBUFFER,t.COLOR_ATTACHMENT0,o,this.currentColorAttachmentLevels[a])),r||t.bindFramebuffer(n?Ne.READ_FRAMEBUFFER:Ne.FRAMEBUFFER,null)}}this.resolveColorAttachmentsChanged=!1;var u=this.currentDepthStencilAttachment;if(u){var c=this.currentDepthStencilResolveTo,l=!1;c&&(Br(u.width===c.width&&u.height===c.height),this.setScissorRectEnabled(!1),r||(t.bindFramebuffer(n?Ne.READ_FRAMEBUFFER:Ne.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),t.bindFramebuffer(n?Ne.DRAW_FRAMEBUFFER:Ne.FRAMEBUFFER,this.resolveDepthStencilDrawFramebuffer),this.resolveDepthStencilAttachmentsChanged&&(this.bindFramebufferDepthStencilAttachment(n?Ne.READ_FRAMEBUFFER:Ne.FRAMEBUFFER,u),this.bindFramebufferDepthStencilAttachment(n?Ne.DRAW_FRAMEBUFFER:Ne.FRAMEBUFFER,c))),l=!0,r||(n&&t.blitFramebuffer(0,0,u.width,u.height,0,0,c.width,c.height,t.DEPTH_BUFFER_BIT,t.NEAREST),t.bindFramebuffer(n?Ne.DRAW_FRAMEBUFFER:Ne.FRAMEBUFFER,null)),i=!0),!r&&!this.currentRenderPassDescriptor.depthStencilStore&&(l||(t.bindFramebuffer(n?Ne.READ_FRAMEBUFFER:Ne.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),this.resolveDepthStencilAttachmentsChanged&&this.bindFramebufferDepthStencilAttachment(n?Ne.READ_FRAMEBUFFER:Ne.FRAMEBUFFER,u),l=!0),n&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[t.DEPTH_STENCIL_ATTACHMENT])),!r&&l&&t.bindFramebuffer(n?Ne.READ_FRAMEBUFFER:Ne.FRAMEBUFFER,null),this.resolveDepthStencilAttachmentsChanged=!1}!r&&!i&&t.bindFramebuffer(n?Ne.DRAW_FRAMEBUFFER:Ne.FRAMEBUFFER,null)},e.prototype.setScissorRectEnabled=function(t){if(this.currentScissorEnabled!==t){var n=this.gl;t?n.enable(n.SCISSOR_TEST):n.disable(n.SCISSOR_TEST),this.currentScissorEnabled=t}},e.prototype.applyStencil=function(){Oc(this.currentStencilRef)||(this.gl.stencilFuncSeparate(Ne.FRONT,this.currentMegaState.stencilFront.compare,this.currentStencilRef,this.currentMegaState.stencilFront.mask||255),this.gl.stencilFuncSeparate(Ne.BACK,this.currentMegaState.stencilBack.compare,this.currentStencilRef,this.currentMegaState.stencilBack.mask||255))},e.prototype.getFallbackTexture=function(t){var n=t.gl_target,r=t.formatKind;if(n===Ne.TEXTURE_2D)return r===Wa.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(n===Ne.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(n===Ne.TEXTURE_3D)return this.fallbackTexture3D;if(n===Ne.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw new Error("whoops")},e.prototype.submitBlitRenderPass=function(t,n){this.blitRenderPipeline||(this.blitProgram=this.createProgram({vertex:{glsl:`layout(location = 0) in vec2 a_Position;
out vec2 v_TexCoord;
void main() {
  v_TexCoord = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);

  #ifdef VIEWPORT_ORIGIN_TL
    v_TexCoord.y = 1.0 - v_TexCoord.y;
  #endif
}`},fragment:{glsl:`uniform sampler2D u_Texture;
in vec2 v_TexCoord;
out vec4 outputColor;
void main() {
  outputColor = texture(SAMPLER_2D(u_Texture), v_TexCoord);
}`}}),this.blitVertexBuffer=this.createBuffer({usage:ea.VERTEX|ea.COPY_DST,viewOrSize:new Float32Array([-4,-4,4,-4,0,4])}),this.blitInputLayout=this.createInputLayout({vertexBufferDescriptors:[{arrayStride:4*2,stepMode:Oy.VERTEX,attributes:[{format:qe.F32_RG,offset:4*0,shaderLocation:0}]}],indexBufferFormat:null,program:this.blitProgram}),this.blitRenderPipeline=this.createRenderPipeline({topology:go.TRIANGLES,sampleCount:1,program:this.blitProgram,colorAttachmentFormats:[qe.U8_RGBA_RT],depthStencilAttachmentFormat:null,inputLayout:this.blitInputLayout,megaStateDescriptor:lx(ux)}),this.blitBindings=this.createBindings({samplerBindings:[{sampler:null,texture:t.texture}],uniformBufferBindings:[]}),this.blitProgram.setUniformsLegacy({u_Texture:t}));var r=this.currentRenderPassDescriptor;this.currentRenderPassDescriptor=null,this.inBlitRenderPass=!0;var i=this.createRenderPass({colorAttachment:[t],colorResolveTo:[n],colorClearColor:[P5t]}),a=this.getCanvas(),o=a.width,s=a.height;i.setPipeline(this.blitRenderPipeline),i.setBindings(this.blitBindings),i.setVertexInput(this.blitInputLayout,[{buffer:this.blitVertexBuffer}],null),i.setViewport(0,0,o,s),this.gl.disable(this.gl.BLEND),i.draw(3,0),this.gl.enable(this.gl.BLEND),this.currentRenderPassDescriptor=r,this.inBlitRenderPass=!1},e}(),BFt=function(){function e(t){this.pluginOptions=t}return e.prototype.createSwapChain=function(t){return vb(this,void 0,void 0,function(){var n,r,i,a,o,s,l,u,c,f,d,h,p;return gb(this,function(v){return n=this.pluginOptions,r=n.targets,i=n.xrCompatible,a=n.antialias,o=a===void 0?!1:a,s=n.preserveDrawingBuffer,l=s===void 0?!1:s,u=n.premultipliedAlpha,c=u===void 0?!0:u,f=n.shaderDebug,d=n.trackResources,h={antialias:o,preserveDrawingBuffer:l,stencil:!0,premultipliedAlpha:c,xrCompatible:i},this.handleContextEvents(t),r.includes("webgl2")&&(p=t.getContext("webgl2",h)||t.getContext("experimental-webgl2",h)),!p&&r.includes("webgl1")&&(p=t.getContext("webgl",h)||t.getContext("experimental-webgl",h)),[2,new NFt(p,{shaderDebug:f,trackResources:d})]})})},e.prototype.handleContextEvents=function(t){var n=this.pluginOptions,r=n.onContextLost,i=n.onContextRestored,a=n.onContextCreationError;a&&t.addEventListener("webglcontextcreationerror",a,!1),r&&t.addEventListener("webglcontextlost",r,!1),i&&t.addEventListener("webglcontextrestored",i,!1)},e}();let Ha;const Fwe=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Fwe.decode();let IE=null;function q3(){return(IE===null||IE.byteLength===0)&&(IE=new Uint8Array(Ha.memory.buffer)),IE}function oD(e,t){return e=e>>>0,Fwe.decode(q3().subarray(e,e+t))}const fp=new Array(128).fill(void 0);fp.push(void 0,null,!0,!1);let p2=fp.length;function kFt(e){p2===fp.length&&fp.push(fp.length+1);const t=p2;return p2=fp[t],fp[t]=e,t}function Z3(e){return fp[e]}function FFt(e){e<132||(fp[e]=p2,p2=e)}function UFt(e){const t=Z3(e);return FFt(e),t}let fx=0;const Q3=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},VFt=typeof Q3.encodeInto=="function"?function(e,t){return Q3.encodeInto(e,t)}:function(e,t){const n=Q3.encode(e);return t.set(n),{read:e.length,written:n.length}};function sD(e,t,n){if(n===void 0){const s=Q3.encode(e),l=t(s.length,1)>>>0;return q3().subarray(l,l+s.length).set(s),fx=s.length,l}let r=e.length,i=t(r,1)>>>0;const a=q3();let o=0;for(;o<r;o++){const s=e.charCodeAt(o);if(s>127)break;a[i+o]=s}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3,1)>>>0;const s=q3().subarray(i+o,i+r),l=VFt(e,s);o+=l.written}return fx=o,i}let ME=null;function lD(){return(ME===null||ME.byteLength===0)&&(ME=new Int32Array(Ha.memory.buffer)),ME}function zFt(e,t,n){let r,i;try{const s=Ha.__wbindgen_add_to_stack_pointer(-16),l=sD(e,Ha.__wbindgen_malloc,Ha.__wbindgen_realloc),u=fx,c=sD(t,Ha.__wbindgen_malloc,Ha.__wbindgen_realloc),f=fx;Ha.glsl_compile(s,l,u,c,f,n);var a=lD()[s/4+0],o=lD()[s/4+1];return r=a,i=o,oD(a,o)}finally{Ha.__wbindgen_add_to_stack_pointer(16),Ha.__wbindgen_free(r,i,1)}}class BT{static __wrap(t){t=t>>>0;const n=Object.create(BT.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();Ha.__wbg_wgslcomposer_free(t)}constructor(){const t=Ha.wgslcomposer_new();return BT.__wrap(t)}load_composable(t){const n=sD(t,Ha.__wbindgen_malloc,Ha.__wbindgen_realloc),r=fx;Ha.wgslcomposer_load_composable(this.__wbg_ptr,n,r)}wgsl_compile(t){let n,r;try{const o=Ha.__wbindgen_add_to_stack_pointer(-16),s=sD(t,Ha.__wbindgen_malloc,Ha.__wbindgen_realloc),l=fx;Ha.wgslcomposer_wgsl_compile(o,this.__wbg_ptr,s,l);var i=lD()[o/4+0],a=lD()[o/4+1];return n=i,r=a,oD(i,a)}finally{Ha.__wbindgen_add_to_stack_pointer(16),Ha.__wbindgen_free(n,r,1)}}}async function $Ft(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function HFt(){const e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(t,n){const r=oD(t,n);return kFt(r)},e.wbg.__wbindgen_object_drop_ref=function(t){UFt(t)},e.wbg.__wbg_log_1d3ae0273d8f4f8a=function(t){console.log(Z3(t))},e.wbg.__wbg_log_576ca876af0d4a77=function(t,n){console.log(Z3(t),Z3(n))},e.wbg.__wbindgen_throw=function(t,n){throw new Error(oD(t,n))},e}function WFt(e,t){return Ha=e.exports,Uwe.__wbindgen_wasm_module=t,ME=null,IE=null,Ha}async function Uwe(e){if(Ha!==void 0)return Ha;const t=HFt();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await $Ft(await e,t);return WFt(n,r)}var ko;(function(e){e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.TEXTURE_BINDING=4]="TEXTURE_BINDING",e[e.STORAGE_BINDING=8]="STORAGE_BINDING",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(ko||(ko={}));var Bz;(function(e){e[e.READ=1]="READ",e[e.WRITE=2]="WRITE"})(Bz||(Bz={}));function GFt(e){var t=0;return e&tl.SAMPLED&&(t|=ko.TEXTURE_BINDING|ko.COPY_DST|ko.COPY_SRC),e&tl.STORAGE&&(t|=ko.TEXTURE_BINDING|ko.STORAGE_BINDING|ko.COPY_SRC|ko.COPY_DST),e&tl.RENDER_TARGET&&(t|=ko.RENDER_ATTACHMENT|ko.TEXTURE_BINDING|ko.COPY_SRC|ko.COPY_DST),t}function Zj(e){if(e===qe.U8_R_NORM)return"r8unorm";if(e===qe.S8_R_NORM)return"r8snorm";if(e===qe.U8_RG_NORM)return"rg8unorm";if(e===qe.S8_RG_NORM)return"rg8snorm";if(e===qe.U32_R)return"r32uint";if(e===qe.S32_R)return"r32sint";if(e===qe.F32_R)return"r32float";if(e===qe.U16_RG)return"rg16uint";if(e===qe.S16_RG)return"rg16sint";if(e===qe.F16_RG)return"rg16float";if(e===qe.U8_RGBA_RT)return"bgra8unorm";if(e===qe.U8_RGBA_RT_SRGB)return"bgra8unorm-srgb";if(e===qe.U8_RGBA_NORM)return"rgba8unorm";if(e===qe.U8_RGBA_SRGB)return"rgba8unorm-srgb";if(e===qe.S8_RGBA_NORM)return"rgba8snorm";if(e===qe.U32_RG)return"rg32uint";if(e===qe.S32_RG)return"rg32sint";if(e===qe.F32_RG)return"rg32float";if(e===qe.U16_RGBA)return"rgba16uint";if(e===qe.S16_RGBA)return"rgba16sint";if(e===qe.F16_RGBA)return"rgba16float";if(e===qe.F32_RGBA)return"rgba32float";if(e===qe.U32_RGBA)return"rgba32uint";if(e===qe.S32_RGBA)return"rgba32sint";if(e===qe.D24)return"depth24plus";if(e===qe.D24_S8)return"depth24plus-stencil8";if(e===qe.D32F)return"depth32float";if(e===qe.D32F_S8)return"depth32float-stencil8";if(e===qe.BC1)return"bc1-rgba-unorm";if(e===qe.BC1_SRGB)return"bc1-rgba-unorm-srgb";if(e===qe.BC2)return"bc2-rgba-unorm";if(e===qe.BC2_SRGB)return"bc2-rgba-unorm-srgb";if(e===qe.BC3)return"bc3-rgba-unorm";if(e===qe.BC3_SRGB)return"bc3-rgba-unorm-srgb";if(e===qe.BC4_SNORM)return"bc4-r-snorm";if(e===qe.BC4_UNORM)return"bc4-r-unorm";if(e===qe.BC5_SNORM)return"bc5-rg-snorm";if(e===qe.BC5_UNORM)return"bc5-rg-unorm";throw"whoops"}function jFt(e){if(e===ti.TEXTURE_2D)return"2d";if(e===ti.TEXTURE_CUBE_MAP)return"2d";if(e===ti.TEXTURE_2D_ARRAY)return"2d";if(e===ti.TEXTURE_3D)return"3d";throw new Error("whoops")}function YFt(e){if(e===ti.TEXTURE_2D)return"2d";if(e===ti.TEXTURE_CUBE_MAP)return"cube";if(e===ti.TEXTURE_2D_ARRAY)return"2d-array";if(e===ti.TEXTURE_3D)return"3d";throw new Error("whoops")}function XFt(e){var t=0;return e&ea.INDEX&&(t|=GPUBufferUsage.INDEX),e&ea.VERTEX&&(t|=GPUBufferUsage.VERTEX),e&ea.UNIFORM&&(t|=GPUBufferUsage.UNIFORM),e&ea.STORAGE&&(t|=GPUBufferUsage.STORAGE),e&ea.COPY_SRC&&(t|=GPUBufferUsage.COPY_SRC),e&ea.INDIRECT&&(t|=GPUBufferUsage.INDIRECT),t|=GPUBufferUsage.COPY_DST,t}function x7(e){if(e===wl.CLAMP_TO_EDGE)return"clamp-to-edge";if(e===wl.REPEAT)return"repeat";if(e===wl.MIRRORED_REPEAT)return"mirror-repeat";throw new Error("whoops")}function Ede(e){if(e===Qa.BILINEAR)return"linear";if(e===Qa.POINT)return"nearest";throw new Error("whoops")}function KFt(e){if(e===Fo.LINEAR)return"linear";if(e===Fo.NEAREST)return"nearest";if(e===Fo.NO_MIP)return"nearest";throw new Error("whoops")}function H1(e){var t=e;return t.gpuBuffer}function qFt(e){var t=e;return t.gpuSampler}function ZFt(e){var t=e;return t.querySet}function QFt(e){if(e===tD.OcclusionConservative)return"occlusion";throw new Error("whoops")}function JFt(e){switch(e){case go.TRIANGLES:return"triangle-list";case go.POINTS:return"point-list";case go.TRIANGLE_STRIP:return"triangle-strip";case go.LINES:return"line-list";case go.LINE_STRIP:return"line-strip";default:throw new Error("Unknown primitive topology mode")}}function e8t(e){if(e===hu.NONE)return"none";if(e===hu.FRONT)return"front";if(e===hu.BACK)return"back";throw new Error("whoops")}function t8t(e){if(e===NT.CCW)return"ccw";if(e===NT.CW)return"cw";throw new Error("whoops")}function n8t(e,t){return{topology:JFt(e),cullMode:e8t(t.cullMode),frontFace:t8t(t.frontFace)}}function Tde(e){if(e===ei.ZERO)return"zero";if(e===ei.ONE)return"one";if(e===ei.SRC)return"src";if(e===ei.ONE_MINUS_SRC)return"one-minus-src";if(e===ei.DST)return"dst";if(e===ei.ONE_MINUS_DST)return"one-minus-dst";if(e===ei.SRC_ALPHA)return"src-alpha";if(e===ei.ONE_MINUS_SRC_ALPHA)return"one-minus-src-alpha";if(e===ei.DST_ALPHA)return"dst-alpha";if(e===ei.ONE_MINUS_DST_ALPHA)return"one-minus-dst-alpha";if(e===ei.CONST)return"constant";if(e===ei.ONE_MINUS_CONSTANT)return"one-minus-constant";if(e===ei.SRC_ALPHA_SATURATE)return"src-alpha-saturated";throw new Error("whoops")}function r8t(e){if(e===Ko.ADD)return"add";if(e===Ko.SUBSTRACT)return"subtract";if(e===Ko.REVERSE_SUBSTRACT)return"reverse-subtract";if(e===Ko.MIN)return"min";if(e===Ko.MAX)return"max";throw new Error("whoops")}function wde(e){return{operation:r8t(e.blendMode),srcFactor:Tde(e.blendSrcFactor),dstFactor:Tde(e.blendDstFactor)}}function Cde(e){return e.blendMode===Ko.ADD&&e.blendSrcFactor===ei.ONE&&e.blendDstFactor===ei.ZERO}function i8t(e){if(!(Cde(e.rgbBlendState)&&Cde(e.alphaBlendState)))return{color:wde(e.rgbBlendState),alpha:wde(e.alphaBlendState)}}function a8t(e,t){return{format:Zj(t),blend:i8t(e),writeMask:e.channelWriteMask}}function o8t(e,t){return t.attachmentsState.map(function(n,r){return a8t(n,e[r])})}function J3(e){if(e===Vi.NEVER)return"never";if(e===Vi.LESS)return"less";if(e===Vi.EQUAL)return"equal";if(e===Vi.LEQUAL)return"less-equal";if(e===Vi.GREATER)return"greater";if(e===Vi.NOTEQUAL)return"not-equal";if(e===Vi.GEQUAL)return"greater-equal";if(e===Vi.ALWAYS)return"always";throw new Error("whoops")}function m1(e){if(e===Ga.KEEP)return"keep";if(e===Ga.REPLACE)return"replace";if(e===Ga.ZERO)return"zero";if(e===Ga.DECREMENT_CLAMP)return"decrement-clamp";if(e===Ga.DECREMENT_WRAP)return"decrement-wrap";if(e===Ga.INCREMENT_CLAMP)return"increment-clamp";if(e===Ga.INCREMENT_WRAP)return"increment-wrap";if(e===Ga.INVERT)return"invert";throw new Error("whoops")}function s8t(e,t){if(!Oc(e))return{format:Zj(e),depthWriteEnabled:!!t.depthWrite,depthCompare:J3(t.depthCompare),depthBias:t.polygonOffset?t.polygonOffsetUnits:0,depthBiasSlopeScale:t.polygonOffset?t.polygonOffsetFactor:0,stencilFront:{compare:J3(t.stencilFront.compare),passOp:m1(t.stencilFront.passOp),failOp:m1(t.stencilFront.failOp),depthFailOp:m1(t.stencilFront.depthFailOp)},stencilBack:{compare:J3(t.stencilBack.compare),passOp:m1(t.stencilBack.passOp),failOp:m1(t.stencilBack.failOp),depthFailOp:m1(t.stencilBack.depthFailOp)},stencilReadMask:4294967295,stencilWriteMask:4294967295}}function l8t(e){if(e!==null){if(e===qe.U16_R)return"uint16";if(e===qe.U32_R)return"uint32";throw new Error("whoops")}}function u8t(e){if(e===Oy.VERTEX)return"vertex";if(e===Oy.INSTANCE)return"instance";throw new Error("whoops")}function c8t(e){if(e===qe.U8_R)return"uint8x2";if(e===qe.U8_RG)return"uint8x2";if(e===qe.U8_RGB)return"uint8x4";if(e===qe.U8_RGBA)return"uint8x4";if(e===qe.U8_RG_NORM)return"unorm8x2";if(e===qe.U8_RGBA_NORM)return"unorm8x4";if(e===qe.S8_RGB_NORM)return"snorm8x4";if(e===qe.S8_RGBA_NORM)return"snorm8x4";if(e===qe.U16_RG_NORM)return"unorm16x2";if(e===qe.U16_RGBA_NORM)return"unorm16x4";if(e===qe.S16_RG_NORM)return"snorm16x2";if(e===qe.S16_RGBA_NORM)return"snorm16x4";if(e===qe.S16_RG)return"uint16x2";if(e===qe.F16_RG)return"float16x2";if(e===qe.F16_RGBA)return"float16x4";if(e===qe.F32_R)return"float32";if(e===qe.F32_RG)return"float32x2";if(e===qe.F32_RGB)return"float32x3";if(e===qe.F32_RGBA)return"float32x4";throw"whoops"}function f8t(e){var t=gh(e);switch(t){case Bt.BC1:case Bt.BC2:case Bt.BC3:case Bt.BC4_SNORM:case Bt.BC4_UNORM:case Bt.BC5_SNORM:case Bt.BC5_UNORM:return!0;default:return!1}}function d8t(e){var t=gh(e);switch(t){case Bt.BC1:case Bt.BC2:case Bt.BC3:case Bt.BC4_SNORM:case Bt.BC4_UNORM:case Bt.BC5_SNORM:case Bt.BC5_UNORM:return 4;default:return 1}}function Rde(e,t,n,r){switch(n===void 0&&(n=!1),e){case qe.S8_R:case qe.S8_R_NORM:case qe.S8_RG_NORM:case qe.S8_RGB_NORM:case qe.S8_RGBA_NORM:{var i=t instanceof ArrayBuffer?new Int8Array(t):new Int8Array(t);return r&&i.set(new Int8Array(r)),i}case qe.U8_R:case qe.U8_R_NORM:case qe.U8_RG:case qe.U8_RG_NORM:case qe.U8_RGB:case qe.U8_RGB_NORM:case qe.U8_RGB_SRGB:case qe.U8_RGBA:case qe.U8_RGBA_NORM:case qe.U8_RGBA_SRGB:{var a=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t);return r&&a.set(new Uint8Array(r)),a}case qe.S16_R:case qe.S16_RG:case qe.S16_RG_NORM:case qe.S16_RGB_NORM:case qe.S16_RGBA:case qe.S16_RGBA_NORM:{var o=t instanceof ArrayBuffer?new Int16Array(t):new Int16Array(n?t/2:t);return r&&o.set(new Int16Array(r)),o}case qe.U16_R:case qe.U16_RGB:case qe.U16_RGBA_5551:case qe.U16_RGBA_NORM:case qe.U16_RG_NORM:case qe.U16_R_NORM:{var s=t instanceof ArrayBuffer?new Uint16Array(t):new Uint16Array(n?t/2:t);return r&&s.set(new Uint16Array(r)),s}case qe.S32_R:{var l=t instanceof ArrayBuffer?new Int32Array(t):new Int32Array(n?t/4:t);return r&&l.set(new Int32Array(r)),l}case qe.U32_R:case qe.U32_RG:{var u=t instanceof ArrayBuffer?new Uint32Array(t):new Uint32Array(n?t/4:t);return r&&u.set(new Uint32Array(r)),u}case qe.F32_R:case qe.F32_RG:case qe.F32_RGB:case qe.F32_RGBA:{var c=t instanceof ArrayBuffer?new Float32Array(t):new Float32Array(n?t/4:t);return r&&c.set(new Float32Array(r)),c}}var f=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t);return r&&f.set(new Uint8Array(r)),f}function h8t(e){var t=(e&32768)>>15,n=(e&31744)>>10,r=e&1023;return n===0?(t?-1:1)*Math.pow(2,-14)*(r/Math.pow(2,10)):n==31?r?NaN:(t?-1:1)*(1/0):(t?-1:1)*Math.pow(2,n-15)*(1+r/Math.pow(2,10))}function Vwe(e){switch(e){case"r8unorm":case"r8snorm":case"r8uint":case"r8sint":return{width:1,height:1,length:1};case"r16uint":case"r16sint":case"r16float":case"rg8unorm":case"rg8snorm":case"rg8uint":case"rg8sint":return{width:1,height:1,length:2};case"r32uint":case"r32sint":case"r32float":case"rg16uint":case"rg16sint":case"rg16float":case"rgba8unorm":case"rgba8unorm-srgb":case"rgba8snorm":case"rgba8uint":case"rgba8sint":case"bgra8unorm":case"bgra8unorm-srgb":case"rgb9e5ufloat":case"rgb10a2unorm":case"rg11b10ufloat":return{width:1,height:1,length:4};case"rg32uint":case"rg32sint":case"rg32float":case"rgba16uint":case"rgba16sint":case"rgba16float":return{width:1,height:1,length:8};case"rgba32uint":case"rgba32sint":case"rgba32float":return{width:1,height:1,length:16};case"stencil8":throw new Error("No fixed size for Stencil8 format!");case"depth16unorm":return{width:1,height:1,length:2};case"depth24plus":throw new Error("No fixed size for Depth24Plus format!");case"depth24plus-stencil8":throw new Error("No fixed size for Depth24PlusStencil8 format!");case"depth32float":return{width:1,height:1,length:4};case"depth32float-stencil8":return{width:1,height:1,length:5};case"bc7-rgba-unorm":case"bc7-rgba-unorm-srgb":case"bc6h-rgb-ufloat":case"bc6h-rgb-float":case"bc2-rgba-unorm":case"bc2-rgba-unorm-srgb":case"bc3-rgba-unorm":case"bc3-rgba-unorm-srgb":case"bc5-rg-unorm":case"bc5-rg-snorm":return{width:4,height:4,length:16};case"bc4-r-unorm":case"bc4-r-snorm":case"bc1-rgba-unorm":case"bc1-rgba-unorm-srgb":return{width:4,height:4,length:8};default:return{width:1,height:1,length:4}}}var od=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=e.call(this)||this;return a.id=r,a.device=i,a}return t.prototype.destroy=function(){},t}(Twe),p8t=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o,s,l=e.call(this,{id:r,device:i})||this;l.type=Ti.Bindings;var u=a.pipeline;Br(!!u);var c=a.uniformBufferBindings,f=a.storageBufferBindings,d=a.samplerBindings,h=a.storageTextureBindings;l.numUniformBuffers=(c==null?void 0:c.length)||0;var p=[[],[],[],[]],v=0;if(c&&c.length)for(var g=0;g<c.length;g++){var m=a.uniformBufferBindings[g],b=m.binding,_=m.size,x=m.offset,E=m.buffer,A={buffer:H1(E),offset:x??0,size:_};p[0].push({binding:b??v++,resource:A})}if(d&&d.length){v=0;for(var g=0;g<d.length;g++){var T=$a($a({},d[g]),Lwe),b=a.samplerBindings[g],R=b.texture!==null?b.texture:l.device.getFallbackTexture(T);T.dimension=R.dimension,T.formatKind=Rwe(R.format);var M=R.gpuTextureView;if(p[1].push({binding:(o=b.textureBinding)!==null&&o!==void 0?o:v++,resource:M}),b.samplerBinding!==-1){var O=b.sampler!==null?b.sampler:l.device.getFallbackSampler(T),D=qFt(O);p[1].push({binding:(s=b.samplerBinding)!==null&&s!==void 0?s:v++,resource:D})}}}if(f&&f.length){v=0;for(var g=0;g<f.length;g++){var C=a.storageBufferBindings[g],b=C.binding,_=C.size,x=C.offset,E=C.buffer,A={buffer:H1(E),offset:x??0,size:_};p[2].push({binding:b??v++,resource:A})}}if(h&&h.length){v=0;for(var g=0;g<h.length;g++){var P=a.storageTextureBindings[g],b=P.binding,R=P.texture,M=R.gpuTextureView;p[3].push({binding:b??v++,resource:M})}}var B=p.findLastIndex(function(U){return!!U.length});return l.gpuBindGroup=p.map(function(U,L){return L<=B&&l.device.device.createBindGroup({layout:u.getBindGroupLayout(L),entries:U})}),l}return t}(od),v8t=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=e.call(this,{id:r,device:i})||this;o.type=Ti.Buffer;var s=a.usage,l=a.viewOrSize,u=!!(s&ea.MAP_READ);o.usage=XFt(s),u&&(o.usage=ea.MAP_READ|ea.COPY_DST);var c=!z1(l);if(o.view=z1(l)?null:l,o.size=z1(l)?rD(l,4):rD(l.byteLength,4),z1(l))o.gpuBuffer=o.device.device.createBuffer({usage:o.usage,size:o.size,mappedAtCreation:u?c:!1});else{o.gpuBuffer=o.device.device.createBuffer({usage:o.usage,size:o.size,mappedAtCreation:!0});var f=l&&l.constructor||Float32Array;new f(o.gpuBuffer.getMappedRange()).set(l),o.gpuBuffer.unmap()}return o}return t.prototype.setSubData=function(n,r,i,a){i===void 0&&(i=0),a===void 0&&(a=0);var o=this.gpuBuffer;a=a||r.byteLength,a=Math.min(a,this.size-n);var s=r.byteOffset+i,l=s+a,u=a+3&-4;if(u!==a){var c=new Uint8Array(r.buffer.slice(s,l));r=new Uint8Array(u),r.set(c),i=0,s=0,l=u,a=u}for(var f=1024*1024*15,d=0;l-(s+d)>f;)this.device.device.queue.writeBuffer(o,n+d,r.buffer,s+d,f),d+=f;this.device.device.queue.writeBuffer(o,n+d,r.buffer,s+d,a-d)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gpuBuffer.destroy()},t}(od),Ide=function(){function e(){this.gpuComputePassEncoder=null}return e.prototype.dispatchWorkgroups=function(t,n,r){this.gpuComputePassEncoder.dispatchWorkgroups(t,n,r)},e.prototype.dispatchWorkgroupsIndirect=function(t,n){this.gpuComputePassEncoder.dispatchWorkgroupsIndirect(t.gpuBuffer,n)},e.prototype.finish=function(){this.gpuComputePassEncoder.end(),this.gpuComputePassEncoder=null,this.frameCommandEncoder=null},e.prototype.beginComputePass=function(t){Br(this.gpuComputePassEncoder===null),this.frameCommandEncoder=t,this.gpuComputePassEncoder=this.frameCommandEncoder.beginComputePass(this.gpuComputePassDescriptor)},e.prototype.setPipeline=function(t){var n=t,r=H0(n.gpuComputePipeline);this.gpuComputePassEncoder.setPipeline(r)},e.prototype.setBindings=function(t){var n=this,r=t;r.gpuBindGroup.forEach(function(i,a){i&&n.gpuComputePassEncoder.setBindGroup(a,r.gpuBindGroup[a])})},e.prototype.pushDebugGroup=function(t){this.gpuComputePassEncoder.pushDebugGroup(t)},e.prototype.popDebugGroup=function(){this.gpuComputePassEncoder.popDebugGroup()},e.prototype.insertDebugMarker=function(t){this.gpuComputePassEncoder.insertDebugMarker(t)},e}(),g8t=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=e.call(this,{id:r,device:i})||this;o.type=Ti.ComputePipeline,o.gpuComputePipeline=null,o.descriptor=a;var s=a.program,l=s.computeStage;if(l===null)return o;var u={layout:"auto",compute:$a({},l)};return o.gpuComputePipeline=o.device.device.createComputePipeline(u),o.name!==void 0&&(o.gpuComputePipeline.label=o.name),o}return t.prototype.getBindGroupLayout=function(n){return this.gpuComputePipeline.getBindGroupLayout(n)},t}(od),m8t=function(e){ja(t,e);function t(n){var r,i,a,o,s=n.id,l=n.device,u=n.descriptor,c=e.call(this,{id:s,device:l})||this;c.type=Ti.InputLayout;var f=[];try{for(var d=My(u.vertexBufferDescriptors),h=d.next();!h.done;h=d.next()){var p=h.value,v=p.arrayStride,g=p.stepMode,m=p.attributes;f.push({arrayStride:v,stepMode:u8t(g),attributes:[]});try{for(var b=(a=void 0,My(m)),_=b.next();!_.done;_=b.next()){var x=_.value,E=x.shaderLocation,A=x.format,T=x.offset;f[f.length-1].attributes.push({shaderLocation:E,format:c8t(A),offset:T})}}catch(R){a={error:R}}finally{try{_&&!_.done&&(o=b.return)&&o.call(b)}finally{if(a)throw a.error}}}}catch(R){r={error:R}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return c.indexFormat=l8t(u.indexBufferFormat),c.buffers=f,c}return t}(od),Mde=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=e.call(this,{id:r,device:i})||this;return o.type=Ti.Program,o.vertexStage=null,o.fragmentStage=null,o.computeStage=null,o.descriptor=a,a.vertex&&(o.vertexStage=o.createShaderStage(a.vertex,"vertex")),a.fragment&&(o.fragmentStage=o.createShaderStage(a.fragment,"fragment")),a.compute&&(o.computeStage=o.createShaderStage(a.compute,"compute")),o}return t.prototype.setUniformsLegacy=function(n){},t.prototype.createShaderStage=function(n,r){var i,a,o=n.glsl,s=n.wgsl,l=n.entryPoint,u=n.postprocess,c=!1,f=s;if(!f)try{f=this.device.glsl_compile(o,r,c)}catch(m){throw console.error(m,o),new Error("whoops")}var d=function(m){if(!f.includes(m))return"continue";f=f.replace("var T_".concat(m,": texture_2d<f32>;"),"var T_".concat(m,": texture_depth_2d;")),f=f.replace(new RegExp("textureSample\\(T_".concat(m,"(.*)\\);$"),"gm"),function(b,_){return"vec4<f32>(textureSample(T_".concat(m).concat(_,"), 0.0, 0.0, 0.0);")})};try{for(var h=My(["u_TextureFramebufferDepth"]),p=h.next();!p.done;p=h.next()){var v=p.value;d(v)}}catch(m){i={error:m}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}u&&(f=u(f));var g=this.device.device.createShaderModule({code:f});return{module:g,entryPoint:l||"main"}},t}(od),y8t=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=e.call(this,{id:r,device:i})||this;o.type=Ti.QueryPool;var s=a.elemCount,l=a.type;return o.querySet=o.device.device.createQuerySet({type:QFt(l),count:s}),o.resolveBuffer=o.device.device.createBuffer({size:s*8,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),o.cpuBuffer=o.device.device.createBuffer({size:s*8,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),o.results=null,o}return t.prototype.queryResultOcclusion=function(n){return this.results===null?null:this.results[n]!==BigInt(0)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.querySet.destroy(),this.resolveBuffer.destroy(),this.cpuBuffer.destroy()},t}(od),_8t=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=e.call(this,{id:r,device:i})||this;return a.type=Ti.Readback,a}return t.prototype.readTexture=function(n,r,i,a,o,s,l,u){return l===void 0&&(l=0),vb(this,void 0,void 0,function(){var c,f,d,h,p,v,g,m;return gb(this,function(b){return c=n,f=0,d=Vwe(c.gpuTextureformat),h=Math.ceil(a/d.width)*d.length,p=Math.ceil(h/256)*256,v=p*o,g=this.device.createBuffer({usage:ea.STORAGE|ea.MAP_READ|ea.COPY_DST,hint:Hf.STATIC,viewOrSize:v}),m=this.device.device.createCommandEncoder(),m.copyTextureToBuffer({texture:c.gpuTexture,mipLevel:0,origin:{x:r,y:i,z:Math.max(f,0)}},{buffer:g.gpuBuffer,offset:0,bytesPerRow:p},{width:a,height:o,depthOrArrayLayers:1}),this.device.device.queue.submit([m.finish()]),[2,this.readBuffer(g,0,s.byteLength===v?s:null,l,v,c.format,!0,!1,h,p,o)]})})},t.prototype.readTextureSync=function(n,r,i,a,o,s,l,u){throw new Error("ERROR_MSG_METHOD_NOT_IMPLEMENTED")},t.prototype.readBuffer=function(n,r,i,a,o,s,l,u,c,f,d){var h=this;r===void 0&&(r=0),i===void 0&&(i=null),o===void 0&&(o=0),s===void 0&&(s=qe.U8_RGB),l===void 0&&(l=!1),c===void 0&&(c=0),f===void 0&&(f=0),d===void 0&&(d=0);var p=n,v=o||p.size,g=i||p.view,m=g&&g.constructor&&g.constructor.BYTES_PER_ELEMENT||Cwe(s),b=p;if(!(p.usage&ea.MAP_READ&&p.usage&ea.COPY_DST)){var _=this.device.device.createCommandEncoder();b=this.device.createBuffer({usage:ea.STORAGE|ea.MAP_READ|ea.COPY_DST,hint:Hf.STATIC,viewOrSize:v}),_.copyBufferToBuffer(p.gpuBuffer,r,b.gpuBuffer,0,v),this.device.device.queue.submit([_.finish()])}return new Promise(function(x,E){b.gpuBuffer.mapAsync(Bz.READ,r,v).then(function(){var A=b.gpuBuffer.getMappedRange(r,v),T=g;if(l)T===null?T=Rde(s,v,!0,A):T=Rde(s,T.buffer,void 0,A);else if(T===null)switch(m){case 1:T=new Uint8Array(v),T.set(new Uint8Array(A));break;case 2:T=h.getHalfFloatAsFloatRGBAArrayBuffer(v/2,A);break;case 4:T=new Float32Array(v/4),T.set(new Float32Array(A));break}else switch(m){case 1:T=new Uint8Array(T.buffer),T.set(new Uint8Array(A));break;case 2:T=h.getHalfFloatAsFloatRGBAArrayBuffer(v/2,A,g);break;case 4:var R=g&&g.constructor||Float32Array;T=new R(T.buffer),T.set(new R(A));break}if(c!==f){m===1&&!l&&(c*=2,f*=2);for(var M=new Uint8Array(T.buffer),O=c,D=0,C=1;C<d;++C){D=C*f;for(var P=0;P<c;++P)M[O++]=M[D++]}m!==0&&!l?T=new Float32Array(M.buffer,0,O/4):T=new Uint8Array(M.buffer,0,O)}b.gpuBuffer.unmap(),x(T)},function(A){return E(A)})})},t.prototype.getHalfFloatAsFloatRGBAArrayBuffer=function(n,r,i){i||(i=new Float32Array(n));for(var a=new Uint16Array(r);n--;)i[n]=h8t(a[n]);return i},t}(od),Ode=function(){function e(t){this.device=t,this.gpuRenderPassEncoder=null,this.gfxColorAttachment=[],this.gfxColorAttachmentLevel=[],this.gfxColorResolveTo=[],this.gfxColorResolveToLevel=[],this.gfxDepthStencilAttachment=null,this.gfxDepthStencilResolveTo=null,this.gpuColorAttachments=[],this.gpuDepthStencilAttachment={view:null,depthLoadOp:"load",depthStoreOp:"store",stencilLoadOp:"load",stencilStoreOp:"store"},this.gpuRenderPassDescriptor={colorAttachments:this.gpuColorAttachments,depthStencilAttachment:this.gpuDepthStencilAttachment}}return e.prototype.getEncoder=function(){var t;return((t=this.renderBundle)===null||t===void 0?void 0:t.renderBundleEncoder)||this.gpuRenderPassEncoder},e.prototype.getTextureView=function(t,n){return Br(n<t.mipLevelCount),t.mipLevelCount===1?t.gpuTextureView:t.gpuTexture.createView({baseMipLevel:n,mipLevelCount:1})},e.prototype.setRenderPassDescriptor=function(t){var n,r,i,a,o,s;this.descriptor=t,this.gpuRenderPassDescriptor.colorAttachments=this.gpuColorAttachments;var l=t.colorAttachment.length;this.gfxColorAttachment.length=l,this.gfxColorResolveTo.length=l;for(var u=0;u<t.colorAttachment.length;u++){var c=t.colorAttachment[u],f=t.colorResolveTo[u];if(c===null&&f!==null&&(c=f,f=null),this.gfxColorAttachment[u]=c,this.gfxColorResolveTo[u]=f,this.gfxColorAttachmentLevel[u]=((n=t.colorAttachmentLevel)===null||n===void 0?void 0:n[u])||0,this.gfxColorResolveToLevel[u]=((r=t.colorResolveToLevel)===null||r===void 0?void 0:r[u])||0,c!==null){this.gpuColorAttachments[u]===void 0&&(this.gpuColorAttachments[u]={});var d=this.gpuColorAttachments[u];d.view=this.getTextureView(c,((i=this.gfxColorAttachmentLevel)===null||i===void 0?void 0:i[u])||0);var h=(o=(a=t.colorClearColor)===null||a===void 0?void 0:a[u])!==null&&o!==void 0?o:"load";h==="load"?d.loadOp="load":(d.loadOp="clear",d.clearValue=h),d.storeOp=!((s=t.colorStore)===null||s===void 0)&&s[u]?"store":"discard",d.resolveTarget=void 0,f!==null&&(c.sampleCount>1?d.resolveTarget=this.getTextureView(f,this.gfxColorResolveToLevel[u]):d.storeOp="store")}else{this.gpuColorAttachments.length=u,this.gfxColorAttachment.length=u,this.gfxColorResolveTo.length=u;break}}if(this.gfxDepthStencilAttachment=t.depthStencilAttachment,this.gfxDepthStencilResolveTo=t.depthStencilResolveTo,t.depthStencilAttachment){var p=t.depthStencilAttachment,d=this.gpuDepthStencilAttachment;d.view=p.gpuTextureView;var v=!!(sx(p.format)&Cn.Depth);v?(t.depthClearValue==="load"?d.depthLoadOp="load":(d.depthLoadOp="clear",d.depthClearValue=t.depthClearValue),t.depthStencilStore||this.gfxDepthStencilResolveTo!==null?d.depthStoreOp="store":d.depthStoreOp="discard"):(d.depthLoadOp=void 0,d.depthStoreOp=void 0);var g=!!(sx(p.format)&Cn.Stencil);g?(t.stencilClearValue==="load"?d.stencilLoadOp="load":(d.stencilLoadOp="clear",d.stencilClearValue=t.stencilClearValue),t.depthStencilStore||this.gfxDepthStencilResolveTo!==null?d.stencilStoreOp="store":d.stencilStoreOp="discard"):(d.stencilLoadOp=void 0,d.stencilStoreOp=void 0),this.gpuRenderPassDescriptor.depthStencilAttachment=this.gpuDepthStencilAttachment}else this.gpuRenderPassDescriptor.depthStencilAttachment=void 0;this.gpuRenderPassDescriptor.occlusionQuerySet=Oc(t.occlusionQueryPool)?void 0:ZFt(t.occlusionQueryPool)},e.prototype.beginRenderPass=function(t,n){Br(this.gpuRenderPassEncoder===null),this.setRenderPassDescriptor(n),this.frameCommandEncoder=t,this.gpuRenderPassEncoder=this.frameCommandEncoder.beginRenderPass(this.gpuRenderPassDescriptor)},e.prototype.flipY=function(t,n){var r=this.device.swapChainHeight;return r-t-n},e.prototype.setViewport=function(t,n,r,i,a,o){a===void 0&&(a=0),o===void 0&&(o=1),this.gpuRenderPassEncoder.setViewport(t,this.flipY(n,i),r,i,a,o)},e.prototype.setScissorRect=function(t,n,r,i){this.gpuRenderPassEncoder.setScissorRect(t,this.flipY(n,i),r,i)},e.prototype.setPipeline=function(t){var n=t,r=H0(n.gpuRenderPipeline);this.getEncoder().setPipeline(r)},e.prototype.setVertexInput=function(t,n,r){if(t!==null){var i=this.getEncoder(),a=t;r!==null&&i.setIndexBuffer(H1(r.buffer),H0(a.indexFormat),r.offset);for(var o=0;o<n.length;o++){var s=n[o];s!==null&&i.setVertexBuffer(o,H1(s.buffer),s.offset)}}},e.prototype.setBindings=function(t){var n=t,r=this.getEncoder();n.gpuBindGroup.forEach(function(i,a){i&&r.setBindGroup(a,n.gpuBindGroup[a])})},e.prototype.setStencilReference=function(t){this.gpuRenderPassEncoder.setStencilReference(t)},e.prototype.draw=function(t,n,r,i){this.getEncoder().draw(t,n,r,i)},e.prototype.drawIndexed=function(t,n,r,i,a){this.getEncoder().drawIndexed(t,n,r,i,a)},e.prototype.drawIndirect=function(t,n){this.getEncoder().drawIndirect(H1(t),n)},e.prototype.drawIndexedIndirect=function(t,n){this.getEncoder().drawIndexedIndirect(H1(t),n)},e.prototype.beginOcclusionQuery=function(t){this.gpuRenderPassEncoder.beginOcclusionQuery(t)},e.prototype.endOcclusionQuery=function(){this.gpuRenderPassEncoder.endOcclusionQuery()},e.prototype.pushDebugGroup=function(t){this.gpuRenderPassEncoder.pushDebugGroup(t)},e.prototype.popDebugGroup=function(){this.gpuRenderPassEncoder.popDebugGroup()},e.prototype.insertDebugMarker=function(t){this.gpuRenderPassEncoder.insertDebugMarker(t)},e.prototype.beginBundle=function(t){this.renderBundle=t},e.prototype.endBundle=function(){this.renderBundle.finish()},e.prototype.executeBundles=function(t){this.gpuRenderPassEncoder.executeBundles(t.map(function(n){return n.renderBundle}))},e.prototype.finish=function(){var t;(t=this.gpuRenderPassEncoder)===null||t===void 0||t.end(),this.gpuRenderPassEncoder=null;for(var n=0;n<this.gfxColorAttachment.length;n++){var r=this.gfxColorAttachment[n],i=this.gfxColorResolveTo[n];r!==null&&i!==null&&r.sampleCount===1&&this.copyAttachment(i,this.gfxColorAttachmentLevel[n],r,this.gfxColorResolveToLevel[n])}this.gfxDepthStencilAttachment&&this.gfxDepthStencilResolveTo&&(this.gfxDepthStencilAttachment.sampleCount>1||this.copyAttachment(this.gfxDepthStencilResolveTo,0,this.gfxDepthStencilAttachment,0)),this.frameCommandEncoder=null},e.prototype.copyAttachment=function(t,n,r,i){Br(r.sampleCount===1);var a={texture:r.gpuTexture,mipLevel:i},o={texture:t.gpuTexture,mipLevel:n};Br(r.width>>>i===t.width>>>n),Br(r.height>>>i===t.height>>>n),Br(!!(r.usage&ko.COPY_SRC)),Br(!!(t.usage&ko.COPY_DST)),this.frameCommandEncoder.copyTextureToTexture(a,o,[t.width,t.height,1])},e}(),b8t=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=e.call(this,{id:r,device:i})||this;return o.type=Ti.RenderPipeline,o.isCreatingAsync=!1,o.gpuRenderPipeline=null,o.descriptor=a,o.device.createRenderPipelineInternal(o,!1),o}return t.prototype.getBindGroupLayout=function(n){return this.gpuRenderPipeline.getBindGroupLayout(n)},t}(od),x8t=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o,s,l=e.call(this,{id:r,device:i})||this;l.type=Ti.Sampler;var u=a.lodMinClamp,c=a.mipmapFilter===Fo.NO_MIP?a.lodMinClamp:a.lodMaxClamp,f=(o=a.maxAnisotropy)!==null&&o!==void 0?o:1;return f>1&&Br(a.minFilter===Qa.BILINEAR&&a.magFilter===Qa.BILINEAR&&a.mipmapFilter===Fo.LINEAR),l.gpuSampler=l.device.device.createSampler({addressModeU:x7(a.addressModeU),addressModeV:x7(a.addressModeV),addressModeW:x7((s=a.addressModeW)!==null&&s!==void 0?s:a.addressModeU),lodMinClamp:u,lodMaxClamp:c,minFilter:Ede(a.minFilter),magFilter:Ede(a.magFilter),mipmapFilter:KFt(a.mipmapFilter),compare:a.compareFunction!==void 0?J3(a.compareFunction):void 0,maxAnisotropy:f}),l}return t}(od),PI=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=n.descriptor,o=n.skipCreate,s=n.sampleCount,l=e.call(this,{id:r,device:i})||this;l.type=Ti.Texture,l.flipY=!1;var u=a.format,c=a.dimension,f=a.width,d=a.height,h=a.depthOrArrayLayers,p=a.mipLevelCount,v=a.usage,g=a.pixelStore;return l.flipY=!!(g!=null&&g.unpackFlipY),l.device.createTextureShared({format:u,dimension:c??ti.TEXTURE_2D,width:f,height:d,depthOrArrayLayers:h??1,mipLevelCount:p??1,usage:v,sampleCount:s??1},l,o),l}return t.prototype.textureFromImageBitmapOrCanvas=function(n,r,i){for(var a=r[0].width,o=r[0].height,s={size:{width:a,height:o,depthOrArrayLayers:i},format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT},l=n.createTexture(s),u=0;u<r.length;u++)n.queue.copyExternalImageToTexture({source:r[u],flipY:this.flipY},{texture:l,origin:[0,0,u]},[a,o]);return[l,a,o]},t.prototype.isImageBitmapOrCanvases=function(n){var r=n[0];return r instanceof ImageBitmap||r instanceof HTMLCanvasElement||r instanceof OffscreenCanvas},t.prototype.isVideo=function(n){var r=n[0];return r instanceof HTMLVideoElement},t.prototype.setImageData=function(n,r){var i,a=this,o=this.device.device,s,l,u;if(this.isImageBitmapOrCanvases(n))i=Rf(this.textureFromImageBitmapOrCanvas(o,n,this.depthOrArrayLayers),3),s=i[0],l=i[1],u=i[2];else if(this.isVideo(n))s=o.importExternalTexture({source:n[0]});else{var c=Vwe(this.gpuTextureformat),f=Math.ceil(this.width/c.width)*c.length;n.forEach(function(d){o.queue.writeTexture({texture:a.gpuTexture},d,{bytesPerRow:f},{width:a.width,height:a.height})})}this.width=l,this.height=u,s&&(this.gpuTexture=s),this.gpuTextureView=this.gpuTexture.createView({dimension:YFt(this.dimension)})},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gpuTexture.destroy()},t}(od),S8t=function(e){ja(t,e);function t(n){var r=n.id,i=n.device,a=e.call(this,{id:r,device:i})||this;return a.type=Ti.RenderBundle,a.renderBundleEncoder=a.device.device.createRenderBundleEncoder({colorFormats:[a.device.swapChainFormat]}),a}return t.prototype.finish=function(){this.renderBundle=this.renderBundleEncoder.finish()},t}(od),A8t=function(){function e(t,n,r,i,a,o){this.swapChainWidth=0,this.swapChainHeight=0,this.swapChainTextureUsage=ko.RENDER_ATTACHMENT|ko.COPY_DST,this._resourceUniqueId=0,this.renderPassPool=[],this.computePassPool=[],this.frameCommandEncoderPool=[],this.featureTextureCompressionBC=!1,this.platformString="WebGPU",this.glslVersion="#version 440",this.explicitBindingLocations=!0,this.separateSamplerTextures=!0,this.viewportOrigin=Ff.UPPER_LEFT,this.clipSpaceNearZ=ox.ZERO,this.supportsSyncPipelineCompilation=!1,this.supportMRT=!0,this.device=n,this.canvas=r,this.canvasContext=i,this.glsl_compile=a,this.WGSLComposer=o,this.fallbackTexture2D=this.createFallbackTexture(ti.TEXTURE_2D,Wa.Float),this.setResourceName(this.fallbackTexture2D,"Fallback Texture2D"),this.fallbackTexture2DDepth=this.createFallbackTexture(ti.TEXTURE_2D,Wa.Depth),this.setResourceName(this.fallbackTexture2DDepth,"Fallback Depth Texture2D"),this.fallbackTexture2DArray=this.createFallbackTexture(ti.TEXTURE_2D_ARRAY,Wa.Float),this.setResourceName(this.fallbackTexture2DArray,"Fallback Texture2DArray"),this.fallbackTexture3D=this.createFallbackTexture(ti.TEXTURE_3D,Wa.Float),this.setResourceName(this.fallbackTexture3D,"Fallback Texture3D"),this.fallbackTextureCube=this.createFallbackTexture(ti.TEXTURE_CUBE_MAP,Wa.Float),this.setResourceName(this.fallbackTextureCube,"Fallback TextureCube"),this.fallbackSamplerFiltering=this.createSampler({addressModeU:wl.REPEAT,addressModeV:wl.REPEAT,minFilter:Qa.POINT,magFilter:Qa.POINT,mipmapFilter:Fo.NEAREST}),this.setResourceName(this.fallbackSamplerFiltering,"Fallback Sampler Filtering"),this.fallbackSamplerComparison=this.createSampler({addressModeU:wl.REPEAT,addressModeV:wl.REPEAT,minFilter:Qa.POINT,magFilter:Qa.POINT,mipmapFilter:Fo.NEAREST,compareFunction:Vi.ALWAYS}),this.setResourceName(this.fallbackSamplerComparison,"Fallback Sampler Comparison Filtering"),this.device.features&&(this.featureTextureCompressionBC=this.device.features.has("texture-compression-bc")),this.device.onuncapturederror=function(s){console.error(s.error)},this.swapChainFormat=navigator.gpu.getPreferredCanvasFormat(),this.canvasContext.configure({device:this.device,format:this.swapChainFormat,usage:this.swapChainTextureUsage,alphaMode:"premultiplied"})}return e.prototype.destroy=function(){},e.prototype.configureSwapChain=function(t,n){this.swapChainWidth===t&&this.swapChainHeight===n||(this.swapChainWidth=t,this.swapChainHeight=n)},e.prototype.getOnscreenTexture=function(){var t=this.canvasContext.getCurrentTexture(),n=t.createView(),r=new PI({id:0,device:this,descriptor:{format:qe.U8_RGBA_RT,width:this.swapChainWidth,height:this.swapChainHeight,depthOrArrayLayers:0,dimension:ti.TEXTURE_2D,mipLevelCount:1,usage:this.swapChainTextureUsage},skipCreate:!0});return r.depthOrArrayLayers=1,r.sampleCount=1,r.gpuTexture=t,r.gpuTextureView=n,r.name="Onscreen",this.setResourceName(r,"Onscreen Texture"),r},e.prototype.getDevice=function(){return this},e.prototype.getCanvas=function(){return this.canvas},e.prototype.beginFrame=function(){Br(this.frameCommandEncoderPool.length===0)},e.prototype.endFrame=function(){Br(this.frameCommandEncoderPool.every(function(t){return t!==null})),this.device.queue.submit(this.frameCommandEncoderPool.map(function(t){return t.finish()})),this.frameCommandEncoderPool=[]},e.prototype.getNextUniqueId=function(){return++this._resourceUniqueId},e.prototype.createBuffer=function(t){return new v8t({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createTexture=function(t){return new PI({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createSampler=function(t){return new x8t({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderTarget=function(t){var n=new PI({id:this.getNextUniqueId(),device:this,descriptor:$a($a({},t),{dimension:ti.TEXTURE_2D,mipLevelCount:1,depthOrArrayLayers:1,usage:tl.RENDER_TARGET}),sampleCount:t.sampleCount});return n.depthOrArrayLayers=1,n.type=Ti.RenderTarget,n},e.prototype.createRenderTargetFromTexture=function(t){var n=t,r=n.format,i=n.width,a=n.height,o=n.depthOrArrayLayers,s=n.sampleCount,l=n.mipLevelCount,u=n.gpuTexture,c=n.gpuTextureView,f=n.usage;Br(!!(f&ko.RENDER_ATTACHMENT));var d=new PI({id:this.getNextUniqueId(),device:this,descriptor:{format:r,width:i,height:a,depthOrArrayLayers:o,dimension:ti.TEXTURE_2D,mipLevelCount:l,usage:f},skipCreate:!0});return d.depthOrArrayLayers=o,d.sampleCount=s,d.gpuTexture=u,d.gpuTextureView=c,d},e.prototype.createProgram=function(t){var n,r;return!((n=t.vertex)===null||n===void 0)&&n.glsl&&(t.vertex.glsl=cx(this.queryVendorInfo(),"vert",t.vertex.glsl)),!((r=t.fragment)===null||r===void 0)&&r.glsl&&(t.fragment.glsl=cx(this.queryVendorInfo(),"frag",t.fragment.glsl)),new Mde({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createProgramSimple=function(t){return new Mde({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createTextureShared=function(t,n,r){var i={width:t.width,height:t.height,depthOrArrayLayers:t.depthOrArrayLayers},a=t.mipLevelCount,o=Zj(t.format),s=jFt(t.dimension),l=GFt(t.usage);if(n.gpuTextureformat=o,n.dimension=t.dimension,n.format=t.format,n.width=t.width,n.height=t.height,n.depthOrArrayLayers=t.depthOrArrayLayers,n.mipLevelCount=a,n.usage=l,n.sampleCount=t.sampleCount,!r){var u=this.device.createTexture({size:i,mipLevelCount:a,format:o,dimension:s,sampleCount:t.sampleCount,usage:l}),c=u.createView();n.gpuTexture=u,n.gpuTextureView=c}},e.prototype.getFallbackSampler=function(t){var n=t.formatKind;return n===Wa.Depth&&t.comparison?this.fallbackSamplerComparison:this.fallbackSamplerFiltering},e.prototype.getFallbackTexture=function(t){var n=t.dimension,r=t.formatKind;if(n===ti.TEXTURE_2D)return r===Wa.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(n===ti.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(n===ti.TEXTURE_3D)return this.fallbackTexture3D;if(n===ti.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw new Error("whoops")},e.prototype.createFallbackTexture=function(t,n){var r=t===ti.TEXTURE_CUBE_MAP?6:1,i=n===Wa.Float?qe.U8_RGBA_NORM:qe.D24;return this.createTexture({dimension:t,format:i,usage:tl.SAMPLED,width:1,height:1,depthOrArrayLayers:r,mipLevelCount:1})},e.prototype.createBindings=function(t){return new p8t({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createInputLayout=function(t){return new m8t({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createComputePipeline=function(t){return new g8t({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderPipeline=function(t){return new b8t({id:this.getNextUniqueId(),device:this,descriptor:$a({},t)})},e.prototype.createQueryPool=function(t,n){return new y8t({id:this.getNextUniqueId(),device:this,descriptor:{type:t,elemCount:n}})},e.prototype.createRenderPipelineInternal=function(t,n){var r;if(t.gpuRenderPipeline===null){var i=t.descriptor,a=i.program,o=a.vertexStage,s=a.fragmentStage;if(!(o===null||s===null)){var l=i.megaStateDescriptor||{},u=l.stencilBack,c=l.stencilFront,f=I5t(l,["stencilBack","stencilFront"]),d=lx(ux);i.megaStateDescriptor=$a($a($a({},d),{stencilBack:$a($a({},d.stencilBack),u),stencilFront:$a($a({},d.stencilFront),c)}),f);var h=i.megaStateDescriptor.attachmentsState[0];i.colorAttachmentFormats.forEach(function(x,E){i.megaStateDescriptor.attachmentsState[E]||(i.megaStateDescriptor.attachmentsState[E]=Dwe(void 0,h))});var p=n8t((r=i.topology)!==null&&r!==void 0?r:go.TRIANGLES,i.megaStateDescriptor),v=o8t(i.colorAttachmentFormats,i.megaStateDescriptor),g=s8t(i.depthStencilAttachmentFormat,i.megaStateDescriptor),m=void 0;i.inputLayout!==null&&(m=i.inputLayout.buffers);var b=i.sampleCount,_={layout:"auto",vertex:$a($a({},o),{buffers:m}),primitive:p,depthStencil:g,multisample:{count:b},fragment:$a($a({},s),{targets:v})};t.gpuRenderPipeline=this.device.createRenderPipeline(_)}}},e.prototype.createReadback=function(){return new _8t({id:this.getNextUniqueId(),device:this})},e.prototype.createRenderBundle=function(){return new S8t({id:this.getNextUniqueId(),device:this})},e.prototype.createRenderPass=function(t){var n=this.renderPassPool.pop();n===void 0&&(n=new Ode(this));var r=this.frameCommandEncoderPool.pop();return r===void 0&&(r=this.device.createCommandEncoder()),n.beginRenderPass(r,t),n},e.prototype.createComputePass=function(){var t=this.computePassPool.pop();t===void 0&&(t=new Ide);var n=this.frameCommandEncoderPool.pop();return n===void 0&&(n=this.device.createCommandEncoder()),t.beginComputePass(n),t},e.prototype.submitPass=function(t){var n=t;n instanceof Ode?(this.frameCommandEncoderPool.push(n.frameCommandEncoder),n.finish(),this.renderPassPool.push(n)):n instanceof Ide&&(this.frameCommandEncoderPool.push(n.frameCommandEncoder),n.finish(),this.computePassPool.push(n))},e.prototype.copySubTexture2D=function(t,n,r,i,a,o,s){var l=this.device.createCommandEncoder(),u=t,c=i,f={texture:c.gpuTexture,origin:[a,o,0],mipLevel:0,aspect:"all"},d={texture:u.gpuTexture,origin:[n,r,0],mipLevel:0,aspect:"all"};Br(!!(c.usage&ko.COPY_SRC)),Br(!!(u.usage&ko.COPY_DST)),l.copyTextureToTexture(f,d,[c.width,c.height,s||1]),this.device.queue.submit([l.finish()])},e.prototype.queryLimits=function(){return{uniformBufferMaxPageWordSize:this.device.limits.maxUniformBufferBindingSize>>>2,uniformBufferWordAlignment:this.device.limits.minUniformBufferOffsetAlignment>>>2,supportedSampleCounts:[1],occlusionQueriesRecommended:!0,computeShadersSupported:!0}},e.prototype.queryTextureFormatSupported=function(t,n,r){if(f8t(t)){if(!this.featureTextureCompressionBC)return!1;var i=d8t(t);return n%i!==0||r%i!==0?!1:this.featureTextureCompressionBC}switch(t){case qe.U16_RGBA_NORM:return!1;case qe.F32_RGBA:return!1}return!0},e.prototype.queryPlatformAvailable=function(){return!0},e.prototype.queryVendorInfo=function(){return this},e.prototype.queryRenderPass=function(t){var n=t;return n.descriptor},e.prototype.queryRenderTarget=function(t){var n=t;return n},e.prototype.setResourceName=function(t,n){if(t.name=n,t.type===Ti.Buffer){var r=t;r.gpuBuffer.label=n}else if(t.type===Ti.Texture){var r=t;r.gpuTexture.label=n,r.gpuTextureView.label=n}else if(t.type===Ti.RenderTarget){var r=t;r.gpuTexture.label=n,r.gpuTextureView.label=n}else if(t.type===Ti.Sampler){var r=t;r.gpuSampler.label=n}else if(t.type===Ti.RenderPipeline){var r=t;r.gpuRenderPipeline!==null&&(r.gpuRenderPipeline.label=n)}},e.prototype.setResourceLeakCheck=function(t,n){},e.prototype.checkForLeaks=function(){},e.prototype.programPatched=function(t){},e.prototype.pipelineQueryReady=function(t){var n=t;return n.gpuRenderPipeline!==null},e.prototype.pipelineForceReady=function(t){var n=t;this.createRenderPipelineInternal(n,!1)},e}(),E8t=function(){function e(t){this.pluginOptions=t}return e.prototype.createSwapChain=function(t){return vb(this,void 0,void 0,function(){var n,r,i,a,o,s,l,u;return gb(this,function(c){switch(c.label){case 0:if(globalThis.navigator.gpu===void 0)return[2,null];n=null,c.label=1;case 1:return c.trys.push([1,3,,4]),r=this.pluginOptions.xrCompatible,[4,globalThis.navigator.gpu.requestAdapter({xrCompatible:r})];case 2:return n=c.sent(),[3,4];case 3:return i=c.sent(),console.log(i),[3,4];case 4:return n===null?[2,null]:(a=["depth32float-stencil8","texture-compression-bc","float32-filterable"],o=a.filter(function(f){return n.features.has(f)}),[4,n.requestDevice({requiredFeatures:o})]);case 5:if(s=c.sent(),s&&(l=this.pluginOptions.onContextLost,s.lost.then(function(){l&&l()})),s===null)return[2,null];if(u=t.getContext("webgpu"),!u)return[2,null];c.label=6;case 6:return c.trys.push([6,8,,9]),[4,Uwe(this.pluginOptions.shaderCompilerPath)];case 7:return c.sent(),[3,9];case 8:return c.sent(),[3,9];case 9:return[2,new A8t(n,s,t,u,zFt,BT&&new BT)]}})})},e}(),T8t=class{constructor(e,t){const{buffer:n,offset:r,stride:i,normalized:a,size:o,divisor:s,shaderLocation:l}=t;this.buffer=n,this.attribute={shaderLocation:l,buffer:n.get(),offset:r||0,stride:i||0,normalized:a||!1,divisor:s||0},o&&(this.attribute.size=o)}get(){return this.buffer}updateBuffer(e){this.buffer.subData(e)}destroy(){this.buffer.destroy()}},uD={[ie.FLOAT]:Float32Array,[ie.UNSIGNED_BYTE]:Uint8Array,[ie.SHORT]:Int16Array,[ie.UNSIGNED_SHORT]:Uint16Array,[ie.INT]:Int32Array,[ie.UNSIGNED_INT]:Uint32Array},w8t={[ie.POINTS]:go.POINTS,[ie.LINES]:go.LINES,[ie.LINE_LOOP]:go.LINES,[ie.LINE_STRIP]:go.LINE_STRIP,[ie.TRIANGLES]:go.TRIANGLES,[ie.TRIANGLE_FAN]:go.TRIANGLES,[ie.TRIANGLE_STRIP]:go.TRIANGLE_STRIP},C8t={1:qe.F32_R,2:qe.F32_RG,3:qe.F32_RGB,4:qe.F32_RGBA},R8t={[ie.STATIC_DRAW]:Hf.STATIC,[ie.DYNAMIC_DRAW]:Hf.DYNAMIC,[ie.STREAM_DRAW]:Hf.DYNAMIC},Dde={[ie.REPEAT]:wl.REPEAT,[ie.CLAMP_TO_EDGE]:wl.CLAMP_TO_EDGE,[ie.MIRRORED_REPEAT]:wl.MIRRORED_REPEAT},I8t={[ie.NEVER]:Vi.NEVER,[ie.ALWAYS]:Vi.ALWAYS,[ie.LESS]:Vi.LESS,[ie.LEQUAL]:Vi.LEQUAL,[ie.GREATER]:Vi.GREATER,[ie.GEQUAL]:Vi.GEQUAL,[ie.EQUAL]:Vi.EQUAL,[ie.NOTEQUAL]:Vi.NOTEQUAL},M8t={[ie.FRONT]:hu.FRONT,[ie.BACK]:hu.BACK},Pde={[ie.FUNC_ADD]:Ko.ADD,[ie.MIN_EXT]:Ko.MIN,[ie.MAX_EXT]:Ko.MAX,[ie.FUNC_SUBTRACT]:Ko.SUBSTRACT,[ie.FUNC_REVERSE_SUBTRACT]:Ko.REVERSE_SUBSTRACT},LI={[ie.ZERO]:ei.ZERO,[ie.ONE]:ei.ONE,[ie.SRC_COLOR]:ei.SRC,[ie.ONE_MINUS_SRC_COLOR]:ei.ONE_MINUS_SRC,[ie.SRC_ALPHA]:ei.SRC_ALPHA,[ie.ONE_MINUS_SRC_ALPHA]:ei.ONE_MINUS_SRC_ALPHA,[ie.DST_COLOR]:ei.DST,[ie.ONE_MINUS_DST_COLOR]:ei.ONE_MINUS_DST,[ie.DST_ALPHA]:ei.DST_ALPHA,[ie.ONE_MINUS_DST_ALPHA]:ei.ONE_MINUS_DST_ALPHA,[ie.CONSTANT_COLOR]:ei.CONST,[ie.ONE_MINUS_CONSTANT_COLOR]:ei.ONE_MINUS_CONSTANT,[ie.CONSTANT_ALPHA]:ei.CONST,[ie.ONE_MINUS_CONSTANT_ALPHA]:ei.ONE_MINUS_CONSTANT,[ie.SRC_ALPHA_SATURATE]:ei.SRC_ALPHA_SATURATE},y1={[ie.REPLACE]:Ga.REPLACE,[ie.KEEP]:Ga.KEEP,[ie.ZERO]:Ga.ZERO,[ie.INVERT]:Ga.INVERT,[ie.INCR]:Ga.INCREMENT_CLAMP,[ie.DECR]:Ga.DECREMENT_CLAMP,[ie.INCR_WRAP]:Ga.INCREMENT_WRAP,[ie.DECR_WRAP]:Ga.DECREMENT_WRAP},O8t={[ie.ALWAYS]:Vi.ALWAYS,[ie.EQUAL]:Vi.EQUAL,[ie.GEQUAL]:Vi.GEQUAL,[ie.GREATER]:Vi.GREATER,[ie.LEQUAL]:Vi.LEQUAL,[ie.LESS]:Vi.LESS,[ie.NEVER]:Vi.NEVER,[ie.NOTEQUAL]:Vi.NOTEQUAL},D8t={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function cD(e){return Object.prototype.toString.call(e)in D8t}function P8t(e,t){const n=e.length,r=Math.ceil(n/3),i=n+r,a=new Float32Array(i);for(let o=0;o<i;o+=4)a[o]=e[o/4*3],a[o+1]=e[o/4*3+1],a[o+2]=e[o/4*3+2],a[o+3]=t;return a}var L8t=class{constructor(e,t){this.isDestroyed=!1;const{data:n,usage:r,type:i,isUBO:a,label:o}=t;let s;cD(n)?s=n:s=new uD[this.type||ie.FLOAT](n),this.type=i,this.size=s.byteLength,this.buffer=e.createBuffer({viewOrSize:s,usage:a?ea.UNIFORM:ea.VERTEX,hint:R8t[r||ie.STATIC_DRAW]}),o&&e.setResourceName(this.buffer,o)}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:e,offset:t}){let n;cD(e)?n=e:n=new uD[this.type||ie.FLOAT](e),this.buffer.setSubData(t,new Uint8Array(n.buffer))}};function Hi(e,t=0){return e+=t,e+=e<<10,e+=e>>>6,e>>>0}function zwe(e){return e+=e<<3,e^=e>>>11,e+=e<<15,e>>>0}function Lde(){return 0}var N8t=class{constructor(){this.keys=[],this.values=[]}},NI=class{constructor(e,t){this.keyEqualFunc=e,this.keyHashFunc=t,this.buckets=new Map}findBucketIndex(e,t){for(let n=0;n<e.keys.length;n++)if(this.keyEqualFunc(t,e.keys[n]))return n;return-1}findBucket(e){const t=this.keyHashFunc(e);return this.buckets.get(t)}get(e){const t=this.findBucket(e);if(t===void 0)return null;const n=this.findBucketIndex(t,e);return n<0?null:t.values[n]}add(e,t){const n=this.keyHashFunc(e);this.buckets.get(n)===void 0&&this.buckets.set(n,new N8t);const r=this.buckets.get(n);r.keys.push(e),r.values.push(t)}delete(e){const t=this.findBucket(e);if(t===void 0)return;const n=this.findBucketIndex(t,e);n!==-1&&(t.keys.splice(n,1),t.values.splice(n,1))}clear(){this.buckets.clear()}size(){let e=0;for(const t of this.buckets.values())e+=t.values.length;return e}*values(){for(const e of this.buckets.values())for(let t=e.values.length-1;t>=0;t--)yield e.values[t]}};function Nde(e,t){return e=Hi(e,t.blendMode),e=Hi(e,t.blendSrcFactor),e=Hi(e,t.blendDstFactor),e}function B8t(e,t){return e=Nde(e,t.rgbBlendState),e=Nde(e,t.alphaBlendState),e=Hi(e,t.channelWriteMask),e}function k8t(e,t){return e=Hi(e,t.r<<24|t.g<<16|t.b<<8|t.a),e}function F8t(e,t){var n,r,i,a,o,s,l,u;for(let c=0;c<t.attachmentsState.length;c++)e=B8t(e,t.attachmentsState[c]);return e=k8t(e,t.blendConstant||dL),e=Hi(e,t.depthCompare),e=Hi(e,t.depthWrite?1:0),e=Hi(e,(n=t.stencilFront)==null?void 0:n.compare),e=Hi(e,(r=t.stencilFront)==null?void 0:r.passOp),e=Hi(e,(i=t.stencilFront)==null?void 0:i.failOp),e=Hi(e,(a=t.stencilFront)==null?void 0:a.depthFailOp),e=Hi(e,(o=t.stencilBack)==null?void 0:o.compare),e=Hi(e,(s=t.stencilBack)==null?void 0:s.passOp),e=Hi(e,(l=t.stencilBack)==null?void 0:l.failOp),e=Hi(e,(u=t.stencilBack)==null?void 0:u.depthFailOp),e=Hi(e,t.stencilWrite?1:0),e=Hi(e,t.cullMode),e=Hi(e,t.frontFace?1:0),e=Hi(e,t.polygonOffset?1:0),e}function U8t(e){let t=0;t=Hi(t,e.program.id),e.inputLayout!==null&&(t=Hi(t,e.inputLayout.id)),t=F8t(t,e.megaStateDescriptor);for(let n=0;n<e.colorAttachmentFormats.length;n++)t=Hi(t,e.colorAttachmentFormats[n]||0);return t=Hi(t,e.depthStencilAttachmentFormat||0),zwe(t)}function V8t(e){let t=0;if(e.samplerBindings)for(let n=0;n<e.samplerBindings.length;n++){const r=e.samplerBindings[n];r!==null&&r.texture!==null&&(t=Hi(t,r.texture.id))}if(e.uniformBufferBindings)for(let n=0;n<e.uniformBufferBindings.length;n++){const r=e.uniformBufferBindings[n];r!==null&&r.buffer!==null&&(t=Hi(t,r.buffer.id),t=Hi(t,r.binding),t=Hi(t,r.offset),t=Hi(t,r.size))}if(e.storageBufferBindings)for(let n=0;n<e.storageBufferBindings.length;n++){const r=e.storageBufferBindings[n];r!==null&&r.buffer!==null&&(t=Hi(t,r.buffer.id),t=Hi(t,r.binding),t=Hi(t,r.offset),t=Hi(t,r.size))}if(e.storageTextureBindings)for(let n=0;n<e.storageTextureBindings.length;n++){const r=e.storageTextureBindings[n];r!==null&&r.texture!==null&&(t=Hi(t,r.texture.id),t=Hi(t,r.binding))}return zwe(t)}function z8t(e,t){var n,r,i,a;return((n=e.vertex)==null?void 0:n.glsl)===((r=t.vertex)==null?void 0:r.glsl)&&((i=e.fragment)==null?void 0:i.glsl)===((a=t.fragment)==null?void 0:a.glsl)}function $8t(e){var t,n;return{vertex:{glsl:(t=e.vertex)==null?void 0:t.glsl},fragment:{glsl:(n=e.fragment)==null?void 0:n.glsl}}}var H8t=class{constructor(e){this.device=e,this.bindingsCache=new NI($5t,V8t),this.renderPipelinesCache=new NI(j5t,U8t),this.inputLayoutsCache=new NI(K5t,Lde),this.programCache=new NI(z8t,Lde)}createBindings(e){var t;let n=this.bindingsCache.get(e);if(n===null){const r=Q5t(e);r.uniformBufferBindings=(t=r.uniformBufferBindings)==null?void 0:t.filter(({size:i})=>i&&i>0),n=this.device.createBindings(r),this.bindingsCache.add(r,n)}return n}createRenderPipeline(e){let t=this.renderPipelinesCache.get(e);if(t===null){const n=J5t(e);n.colorAttachmentFormats=n.colorAttachmentFormats.filter(r=>r),t=this.device.createRenderPipeline(n),this.renderPipelinesCache.add(n,t)}return t}createInputLayout(e){e.vertexBufferDescriptors=e.vertexBufferDescriptors.filter(n=>!!n);let t=this.inputLayoutsCache.get(e);if(t===null){const n=nFt(e);t=this.device.createInputLayout(n),this.inputLayoutsCache.add(n,t)}return t}createProgram(e){let t=this.programCache.get(e);if(t===null){const n=$8t(e);t=this.device.createProgram(e),this.programCache.add(n,t)}return t}destroy(){for(const e of this.bindingsCache.values())e.destroy();for(const e of this.renderPipelinesCache.values())e.destroy();for(const e of this.inputLayoutsCache.values())e.destroy();for(const e of this.programCache.values())e.destroy();this.bindingsCache.clear(),this.renderPipelinesCache.clear(),this.inputLayoutsCache.clear(),this.programCache.clear()}},W8t=class{constructor(e,t){const{data:n,type:r,count:i=0}=t;let a;cD(n)?a=n:a=new uD[this.type||ie.UNSIGNED_INT](n),this.type=r,this.count=i,this.indexBuffer=e.createBuffer({viewOrSize:a,usage:ea.INDEX})}get(){return this.indexBuffer}subData({data:e}){let t;cD(e)?t=e:t=new uD[this.type||ie.UNSIGNED_INT](e),this.indexBuffer.setSubData(0,new Uint8Array(t.buffer))}destroy(){this.indexBuffer.destroy()}};function Bde(e){return!!(e&&e.texture)}var $we=class{constructor(e,t){this.device=e,this.options=t,this.isDestroy=!1;const{wrapS:n=ie.CLAMP_TO_EDGE,wrapT:r=ie.CLAMP_TO_EDGE,aniso:i,mag:a=ie.NEAREST,min:o=ie.NEAREST}=t;this.createTexture(t),this.sampler=e.createSampler({addressModeU:Dde[n],addressModeV:Dde[r],minFilter:o===ie.NEAREST?Qa.POINT:Qa.BILINEAR,magFilter:a===ie.NEAREST?Qa.POINT:Qa.BILINEAR,mipmapFilter:Fo.NO_MIP,maxAnisotropy:i})}createTexture(e){const{type:t=ie.UNSIGNED_BYTE,width:n,height:r,flipY:i=!1,format:a=ie.RGBA,alignment:o=1,usage:s=TT.SAMPLED,unorm:l=!1,label:u}=e;let{data:c}=e;this.width=n,this.height=r;let f=qe.U8_RGBA_RT;if(t===ie.UNSIGNED_BYTE&&a===ie.RGBA)f=l?qe.U8_RGBA_NORM:qe.U8_RGBA_RT;else if(t===ie.UNSIGNED_BYTE&&a===ie.LUMINANCE)f=qe.U8_LUMINANCE;else if(t===ie.FLOAT&&a===ie.LUMINANCE)f=qe.F32_LUMINANCE;else if(t===ie.FLOAT&&a===ie.RGB)this.device.queryVendorInfo().platformString==="WebGPU"?(c&&(c=P8t(c,0)),f=qe.F32_RGBA):f=qe.F32_RGB;else if(t===ie.FLOAT&&a===ie.RGBA)f=qe.F32_RGBA;else if(t===ie.FLOAT&&a===ie.RED)f=qe.F32_R;else throw new Error(`create texture error, type: ${t}, format: ${a}`);this.texture=this.device.createTexture({format:f,width:n,height:r,usage:s===TT.SAMPLED?tl.SAMPLED:tl.RENDER_TARGET,pixelStore:{unpackFlipY:i,packAlignment:o},mipLevelCount:1}),u&&this.device.setResourceName(this.texture,u),c&&this.texture.setImageData([c])}get(){return this.texture}update(e){const{data:t}=e;this.texture.setImageData([t])}bind(){}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&this.destroy(),this.options.width=e,this.options.height=t,this.createTexture(this.options),this.isDestroy=!1}getSize(){return[this.width,this.height]}destroy(){var e;!this.isDestroy&&!this.texture.destroyed&&((e=this.texture)==null||e.destroy()),this.isDestroy=!0}},Hwe=class{constructor(e,t){this.device=e,this.options=t,this.createColorRenderTarget(),this.createDepthRenderTarget()}createColorRenderTarget(e=!1){const{width:t,height:n,color:r}=this.options;r&&(Bde(r)?(e&&r.resize({width:t,height:n}),this.colorTexture=r.get(),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=r.width,this.height=r.height):t&&n&&(this.colorTexture=this.device.createTexture({format:qe.U8_RGBA_RT,usage:tl.RENDER_TARGET,width:t,height:n}),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=t,this.height=n))}createDepthRenderTarget(e=!1){const{width:t,height:n,depth:r}=this.options;r&&(Bde(r)?(e&&r.resize({width:t,height:n}),this.depthTexture=r.get(),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=r.width,this.height=r.height):t&&n&&(this.depthTexture=this.device.createTexture({format:qe.D24_S8,usage:tl.RENDER_TARGET,width:t,height:n}),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=t,this.height=n))}get(){return this.colorRenderTarget}destroy(){var e,t;(e=this.colorRenderTarget)==null||e.destroy(),(t=this.depthRenderTarget)==null||t.destroy()}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&(this.destroy(),this.colorTexture.destroyed=!0,this.depthTexture.destroyed=!0,this.options.width=e,this.options.height=t,this.createColorRenderTarget(!0),this.createDepthRenderTarget(!0))}},G8t=Object.defineProperty,j8t=Object.defineProperties,Y8t=Object.getOwnPropertyDescriptors,kde=Object.getOwnPropertySymbols,X8t=Object.prototype.hasOwnProperty,K8t=Object.prototype.propertyIsEnumerable,Fde=(e,t,n)=>t in e?G8t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d0=(e,t)=>{for(var n in t||(t={}))X8t.call(t,n)&&Fde(e,n,t[n]);if(kde)for(var n of kde(t))K8t.call(t,n)&&Fde(e,n,t[n]);return e},q8t=(e,t)=>j8t(e,Y8t(t)),{isPlainObject:Z8t,isTypedArray:Q8t,isNil:Ude}=Oo,J8t=class{constructor(e,t,n){this.device=e,this.options=t,this.service=n,this.destroyed=!1,this.uniforms={},this.vertexBuffers=[];const{vs:r,fs:i,attributes:a,uniforms:o,count:s,elements:l,diagnosticDerivativeUniformityEnabled:u}=t;this.options=t;const c=u?"":this.service.viewportOrigin===Ff.UPPER_LEFT?"diagnostic(off,derivative_uniformity);":"";this.program=n.renderCache.createProgram({vertex:{glsl:r},fragment:{glsl:i,postprocess:p=>c+p}}),o&&(this.uniforms=this.extractUniforms(o));const f=[];let d=0;Object.keys(a).forEach(p=>{const v=a[p],g=v.get();this.vertexBuffers.push(g.get());const{offset:m=0,stride:b=0,size:_=1,divisor:x=0,shaderLocation:E=0}=v.attribute;f.push({arrayStride:b||_*4,stepMode:Oy.VERTEX,attributes:[{format:C8t[_],shaderLocation:E,offset:m,divisor:x}]}),d=g.size/_}),s||(this.options.count=d),l&&(this.indexBuffer=l.get());const h=n.renderCache.createInputLayout({vertexBufferDescriptors:f,indexBufferFormat:l?qe.U32_R:null,program:this.program});this.inputLayout=h,this.pipeline=this.createPipeline(t)}createPipeline(e,t){var n;const{primitive:r=ie.TRIANGLES,depth:i,cull:a,blend:o,stencil:s}=e,l=this.initDepthDrawParams({depth:i}),u=!!(l&&l.enable),c=this.initCullDrawParams({cull:a}),f=!!(c&&c.enable),d=this.getBlendDrawParams({blend:o}),h=!!(d&&d.enable),p=this.getStencilDrawParams({stencil:s}),v=!!(p&&p.enable),g=this.device.createRenderPipeline({inputLayout:this.inputLayout,program:this.program,topology:w8t[r],colorAttachmentFormats:[qe.U8_RGBA_RT],depthStencilAttachmentFormat:qe.D24_S8,megaStateDescriptor:{attachmentsState:[t?{channelWriteMask:Go.ALL,rgbBlendState:{blendMode:Ko.ADD,blendSrcFactor:ei.ONE,blendDstFactor:ei.ZERO},alphaBlendState:{blendMode:Ko.ADD,blendSrcFactor:ei.ONE,blendDstFactor:ei.ZERO}}:{channelWriteMask:v&&p.opFront.zpass===Ga.REPLACE?Go.NONE:Go.ALL,rgbBlendState:{blendMode:h&&d.equation.rgb||Ko.ADD,blendSrcFactor:h&&d.func.srcRGB||ei.SRC_ALPHA,blendDstFactor:h&&d.func.dstRGB||ei.ONE_MINUS_SRC_ALPHA},alphaBlendState:{blendMode:h&&d.equation.alpha||Ko.ADD,blendSrcFactor:h&&d.func.srcAlpha||ei.ONE,blendDstFactor:h&&d.func.dstAlpha||ei.ONE}}],blendConstant:h?dL:void 0,depthWrite:u,depthCompare:u&&l.func||Vi.LESS,cullMode:f&&c.face||hu.NONE,stencilWrite:v,stencilFront:{compare:v?p.func.cmp:Vi.ALWAYS,passOp:p.opFront.zpass,failOp:p.opFront.fail,depthFailOp:p.opFront.zfail,mask:p.opFront.mask},stencilBack:{compare:v?p.func.cmp:Vi.ALWAYS,passOp:p.opBack.zpass,failOp:p.opBack.fail,depthFailOp:p.opBack.zfail,mask:p.opBack.mask}}});return v&&!Ude((n=s==null?void 0:s.func)==null?void 0:n.ref)&&(g.stencilFuncReference=s.func.ref),g}updateAttributesAndElements(){}updateAttributes(){}addUniforms(e){this.uniforms=d0(d0({},this.uniforms),this.extractUniforms(e))}draw(e,t){const n=d0(d0({},this.options),e),{count:r=0,instances:i,elements:a,uniforms:o={},uniformBuffers:s,textures:l}=n;this.uniforms=d0(d0({},this.uniforms),this.extractUniforms(o));const{renderPass:u,currentFramebuffer:c,width:f,height:d}=this.service;this.pipeline=this.createPipeline(n,t);const h=this.service.device,p=h.swapChainHeight;if(h.swapChainHeight=(c==null?void 0:c.height)||d,u.setViewport(0,0,(c==null?void 0:c.width)||f,(c==null?void 0:c.height)||d),h.swapChainHeight=p,u.setPipeline(this.pipeline),Ude(this.pipeline.stencilFuncReference)||u.setStencilReference(this.pipeline.stencilFuncReference),u.setVertexInput(this.inputLayout,this.vertexBuffers.map(v=>({buffer:v})),a?{buffer:this.indexBuffer,offset:0}:null),s&&(this.bindings=h.createBindings({pipeline:this.pipeline,uniformBufferBindings:s.map((v,g)=>{const m=v;return{binding:g,buffer:m.get(),size:m.size}}),samplerBindings:l==null?void 0:l.map(v=>({texture:v.texture,sampler:v.sampler}))})),this.bindings&&(u.setBindings(this.bindings),Object.keys(this.uniforms).forEach(v=>{const g=this.uniforms[v];g instanceof $we?this.uniforms[v]=g.get():g instanceof Hwe&&(this.uniforms[v]=g.get().texture)}),this.program.setUniformsLegacy(this.uniforms)),a){const v=a.count;v===0?u.draw(r,i):u.drawIndexed(v,i)}else u.draw(r,i)}destroy(){var e,t,n;(e=this.vertexBuffers)==null||e.forEach(r=>r.destroy()),(t=this.indexBuffer)==null||t.destroy(),(n=this.bindings)==null||n.destroy(),this.pipeline.destroy(),this.destroyed=!0}initDepthDrawParams({depth:e}){if(e)return{enable:e.enable===void 0?!0:!!e.enable,mask:e.mask===void 0?!0:!!e.mask,func:I8t[e.func||ie.LESS],range:e.range||[0,1]}}getBlendDrawParams({blend:e}){const{enable:t,func:n,equation:r,color:i=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:LI[n&&n.srcRGB||ie.SRC_ALPHA],srcAlpha:LI[n&&n.srcAlpha||ie.SRC_ALPHA],dstRGB:LI[n&&n.dstRGB||ie.ONE_MINUS_SRC_ALPHA],dstAlpha:LI[n&&n.dstAlpha||ie.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Pde[r&&r.rgb||ie.FUNC_ADD],alpha:Pde[r&&r.alpha||ie.FUNC_ADD]},color:i}}getStencilDrawParams({stencil:e}){const{enable:t,mask:n=4294967295,func:r={cmp:ie.ALWAYS,ref:0,mask:4294967295},opFront:i={fail:ie.KEEP,zfail:ie.KEEP,zpass:ie.KEEP},opBack:a={fail:ie.KEEP,zfail:ie.KEEP,zpass:ie.KEEP}}=e||{};return{enable:!!t,mask:n,func:q8t(d0({},r),{cmp:O8t[r.cmp]}),opFront:{fail:y1[i.fail],zfail:y1[i.zfail],zpass:y1[i.zpass],mask:r.mask},opBack:{fail:y1[a.fail],zfail:y1[a.zfail],zpass:y1[a.zpass],mask:r.mask}}}initCullDrawParams({cull:e}){if(e){const{enable:t,face:n=ie.BACK}=e;return{enable:!!t,face:M8t[n]}}}extractUniforms(e){const t={};return Object.keys(e).forEach(n=>{this.extractUniformsRecursively(n,e[n],t,"")}),t}extractUniformsRecursively(e,t,n,r){if(t===null||typeof t=="number"||typeof t=="boolean"||Array.isArray(t)&&typeof t[0]=="number"||Q8t(t)||t===""||"resize"in t){n[`${r&&r+"."}${e}`]=t;return}Z8t(t)&&Object.keys(t).forEach(i=>{this.extractUniformsRecursively(i,t[i],n,`${r&&r+"."}${e}`)}),Array.isArray(t)&&t.forEach((i,a)=>{Object.keys(i).forEach(o=>{this.extractUniformsRecursively(o,i[o],n,`${r&&r+"."}${e}[${a}]`)})})}};function e7t(e){return typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext?!0:!!(e&&e._version===2)}var S7=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),{isUndefined:BI}=Oo,t7t=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>this.device.queryVendorInfo().platformString,this.createModel=e=>new J8t(this.device,e,this),this.createAttribute=e=>new T8t(this.device,e),this.createBuffer=e=>new L8t(this.device,e),this.createElements=e=>new W8t(this.device,e),this.createTexture2D=e=>new $we(this.device,e),this.createFramebuffer=e=>new Hwe(this.device,e),this.useFramebuffer=(e,t)=>{this.currentFramebuffer=e,this.beginFrame(),t(),this.endFrame(),this.currentFramebuffer=null},this.useFramebufferAsync=(e,t)=>S7(this,null,function*(){this.currentFramebuffer=e,this.preRenderPass=this.renderPass,this.beginFrame(),yield t(),this.endFrame(),this.currentFramebuffer=null,this.renderPass=this.preRenderPass}),this.clear=e=>{const{color:t,depth:n,stencil:r,framebuffer:i=null}=e;if(i)i.clearOptions={color:t,depth:n,stencil:r};else{const a=this.queryVerdorInfo();if(a==="WebGL1"){const o=this.getGLContext();BI(r)?BI(n)||(o.clearDepth(n),o.clear(o.DEPTH_BUFFER_BIT)):(o.clearStencil(r),o.clear(o.STENCIL_BUFFER_BIT))}else if(a==="WebGL2"){const o=this.getGLContext();BI(r)?BI(n)||o.clearBufferfv(o.DEPTH,0,[n]):o.clearBufferiv(o.STENCIL,0,[r])}}},this.viewport=({width:e,height:t})=>{this.swapChain.configureSwapChain(e,t),this.createMainColorDepthRT(e,t),this.width=e,this.height=t},this.readPixels=e=>{const{framebuffer:t,x:n,y:r,width:i,height:a}=e,o=this.device.createReadback(),s=t.colorTexture,l=o.readTextureSync(s,n,this.viewportOrigin===Ff.LOWER_LEFT?r:this.height-r,i,a,new Uint8Array(i*a*4));if(this.viewportOrigin!==Ff.LOWER_LEFT)for(let u=0;u<l.length;u+=4){const c=l[u];l[u]=l[u+2],l[u+2]=c}return o.destroy(),l},this.readPixelsAsync=e=>S7(this,null,function*(){const{framebuffer:t,x:n,y:r,width:i,height:a}=e,o=this.device.createReadback(),s=t.colorTexture,l=yield o.readTexture(s,n,this.viewportOrigin===Ff.LOWER_LEFT?r:this.height-r,i,a,new Uint8Array(i*a*4));if(this.viewportOrigin!==Ff.LOWER_LEFT)for(let u=0;u<l.length;u+=4){const c=l[u];l[u]=l[u+2],l[u+2]=c}return o.destroy(),l}),this.getViewportSize=()=>({width:this.width,height:this.height}),this.getContainer=()=>{var e;return(e=this.canvas)==null?void 0:e.parentElement},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.device.gl,this.destroy=()=>{var e;this.canvas=null,(e=this.uniformBuffers)==null||e.forEach(t=>{t.destroy()}),this.device.destroy(),this.renderCache.destroy()}}init(e,t){return S7(this,null,function*(){const{enableWebGPU:n,shaderCompilerPath:r,antialias:i}=t;this.canvas=e;const o=yield(n?new E8t({shaderCompilerPath:r}):new BFt({targets:["webgl2","webgl1"],antialias:i,onContextLost(l){console.warn("context lost",l)},onContextCreationError(l){console.warn("context creation error",l)},onContextRestored(l){console.warn("context restored",l)}})).createSwapChain(e);o.configureSwapChain(e.width,e.height),this.device=o.getDevice(),this.swapChain=o,this.renderCache=new H8t(this.device),this.currentFramebuffer=null,this.viewportOrigin=this.device.queryVendorInfo().viewportOrigin;const s=this.device.gl;this.extensionObject={OES_texture_float:!e7t(s)&&this.device.OES_texture_float},this.createMainColorDepthRT(e.width,e.height)})}createMainColorDepthRT(e,t){this.mainColorRT&&this.mainColorRT.destroy(),this.mainDepthRT&&this.mainDepthRT.destroy(),this.mainColorRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:qe.U8_RGBA_RT,width:e,height:t,usage:tl.RENDER_TARGET})),this.mainDepthRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:qe.D24_S8,width:e,height:t,usage:tl.RENDER_TARGET}))}beginFrame(){this.device.beginFrame();const{currentFramebuffer:e,swapChain:t,mainColorRT:n,mainDepthRT:r}=this,i=e?e.colorRenderTarget:n,a=e?null:t.getOnscreenTexture(),o=e?e.depthRenderTarget:r,{color:s=[0,0,0,0],depth:l=1,stencil:u=0}=(e==null?void 0:e.clearOptions)||{},c=i?Nw(s[0]*255,s[1]*255,s[2]*255,s[3]):dL,f=o?l:void 0,d=o?u:void 0,h=this.device.createRenderPass({colorAttachment:[i],colorResolveTo:[a],colorClearColor:[c],colorStore:[!0],depthStencilAttachment:o,depthClearValue:f,stencilClearValue:d});this.renderPass=h}endFrame(){this.device.submitPass(this.renderPass),this.device.endFrame()}getPointSizeRange(){const e=this.device.gl;return e.getParameter(e.ALIASED_POINT_SIZE_RANGE)}testExtension(e){return!!this.getGLContext().getExtension(e)}setState(){}setBaseState(){}setCustomLayerDefaults(){}setDirty(e){this.isDirty=e}getDirty(){return this.isDirty}},eM={exports:{}},n7t=eM.exports,Vde;function r7t(){return Vde||(Vde=1,function(e,t){(function(n,r){e.exports=r()})(n7t,function(){var n=function(Z){return Z instanceof Uint8Array||Z instanceof Uint16Array||Z instanceof Uint32Array||Z instanceof Int8Array||Z instanceof Int16Array||Z instanceof Int32Array||Z instanceof Float32Array||Z instanceof Float64Array||Z instanceof Uint8ClampedArray},r=function(Z,xe){for(var Fe=Object.keys(xe),vt=0;vt<Fe.length;++vt)Z[Fe[vt]]=xe[Fe[vt]];return Z},i=`
`;function a(Z){return typeof atob<"u"?atob(Z):"base64:"+Z}function o(Z){var xe=new Error("(regl) "+Z);throw console.error(xe),xe}function s(Z,xe){Z||o(xe)}function l(Z){return Z?": "+Z:""}function u(Z,xe,Fe){Z in xe||o("unknown parameter ("+Z+")"+l(Fe)+". possible values: "+Object.keys(xe).join())}function c(Z,xe){n(Z)||o("invalid parameter type"+l(xe)+". must be a typed array")}function f(Z,xe){switch(xe){case"number":return typeof Z=="number";case"object":return typeof Z=="object";case"string":return typeof Z=="string";case"boolean":return typeof Z=="boolean";case"function":return typeof Z=="function";case"undefined":return typeof Z>"u";case"symbol":return typeof Z=="symbol"}}function d(Z,xe,Fe){f(Z,xe)||o("invalid parameter type"+l(Fe)+". expected "+xe+", got "+typeof Z)}function h(Z,xe){Z>=0&&(Z|0)===Z||o("invalid parameter type, ("+Z+")"+l(xe)+". must be a nonnegative integer")}function p(Z,xe,Fe){xe.indexOf(Z)<0&&o("invalid value"+l(Fe)+". must be one of: "+xe)}var v=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function g(Z){Object.keys(Z).forEach(function(xe){v.indexOf(xe)<0&&o('invalid regl constructor argument "'+xe+'". must be one of '+v)})}function m(Z,xe){for(Z=Z+"";Z.length<xe;)Z=" "+Z;return Z}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function _(Z,xe){this.number=Z,this.line=xe,this.errors=[]}function x(Z,xe,Fe){this.file=Z,this.line=xe,this.message=Fe}function E(){var Z=new Error,xe=(Z.stack||Z).toString(),Fe=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(xe);if(Fe)return Fe[1];var vt=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(xe);return vt?vt[1]:"unknown"}function A(){var Z=new Error,xe=(Z.stack||Z).toString(),Fe=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(xe);if(Fe)return Fe[1];var vt=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(xe);return vt?vt[1]:"unknown"}function T(Z,xe){var Fe=Z.split(`
`),vt=1,Ot=0,Ze={unknown:new b,0:new b};Ze.unknown.name=Ze[0].name=xe||E(),Ze.unknown.lines.push(new _(0,""));for(var xt=0;xt<Fe.length;++xt){var qt=Fe[xt],Yt=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(qt);if(Yt)switch(Yt[1]){case"line":var mn=/(\d+)(\s+\d+)?/.exec(Yt[2]);mn&&(vt=mn[1]|0,mn[2]&&(Ot=mn[2]|0,Ot in Ze||(Ze[Ot]=new b)));break;case"define":var tn=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Yt[2]);tn&&(Ze[Ot].name=tn[1]?a(tn[2]):tn[2]);break}Ze[Ot].lines.push(new _(vt++,qt))}return Object.keys(Ze).forEach(function(ln){var Qt=Ze[ln];Qt.lines.forEach(function(jt){Qt.index[jt.number]=jt})}),Ze}function R(Z){var xe=[];return Z.split(`
`).forEach(function(Fe){if(!(Fe.length<5)){var vt=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Fe);vt?xe.push(new x(vt[1]|0,vt[2]|0,vt[3].trim())):Fe.length>0&&xe.push(new x("unknown",0,Fe))}}),xe}function M(Z,xe){xe.forEach(function(Fe){var vt=Z[Fe.file];if(vt){var Ot=vt.index[Fe.line];if(Ot){Ot.errors.push(Fe),vt.hasErrors=!0;return}}Z.unknown.hasErrors=!0,Z.unknown.lines[0].errors.push(Fe)})}function O(Z,xe,Fe,vt,Ot){if(!Z.getShaderParameter(xe,Z.COMPILE_STATUS)){var Ze=Z.getShaderInfoLog(xe),xt=vt===Z.FRAGMENT_SHADER?"fragment":"vertex";F(Fe,"string",xt+" shader source must be a string",Ot);var qt=T(Fe,Ot),Yt=R(Ze);M(qt,Yt),Object.keys(qt).forEach(function(mn){var tn=qt[mn];if(!tn.hasErrors)return;var ln=[""],Qt=[""];function jt(un,it){ln.push(un),Qt.push(it||"")}jt("file number "+mn+": "+tn.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),tn.lines.forEach(function(un){if(un.errors.length>0){jt(m(un.number,4)+"|  ","background-color:yellow; font-weight:bold"),jt(un.line+i,"color:red; background-color:yellow; font-weight:bold");var it=0;un.errors.forEach(function(bt){var Jt=bt.message,_n=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Jt);if(_n){var zt=_n[1];switch(Jt=_n[2],zt){case"assign":zt="=";break}it=Math.max(un.line.indexOf(zt,it),0)}else it=0;jt(m("| ",6)),jt(m("^^^",it+3)+i,"font-weight:bold"),jt(m("| ",6)),jt(Jt+i,"font-weight:bold")}),jt(m("| ",6)+i)}else jt(m(un.number,4)+"|  "),jt(un.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(Qt[0]=ln.join("%c"),console.log.apply(console,Qt)):console.log(ln.join(""))}),s.raise("Error compiling "+xt+" shader, "+qt[0].name)}}function D(Z,xe,Fe,vt,Ot){if(!Z.getProgramParameter(xe,Z.LINK_STATUS)){var Ze=Z.getProgramInfoLog(xe),xt=T(Fe,Ot),qt=T(vt,Ot),Yt='Error linking program with vertex shader, "'+qt[0].name+'", and fragment shader "'+xt[0].name+'"';typeof document<"u"?console.log("%c"+Yt+i+"%c"+Ze,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Yt+i+Ze),s.raise(Yt)}}function C(Z){Z._commandRef=E()}function P(Z,xe,Fe,vt){C(Z);function Ot(Yt){return Yt?vt.id(Yt):0}Z._fragId=Ot(Z.static.frag),Z._vertId=Ot(Z.static.vert);function Ze(Yt,mn){Object.keys(mn).forEach(function(tn){Yt[vt.id(tn)]=!0})}var xt=Z._uniformSet={};Ze(xt,xe.static),Ze(xt,xe.dynamic);var qt=Z._attributeSet={};Ze(qt,Fe.static),Ze(qt,Fe.dynamic),Z._hasCount="count"in Z.static||"count"in Z.dynamic||"elements"in Z.static||"elements"in Z.dynamic}function B(Z,xe){var Fe=A();o(Z+" in command "+(xe||E())+(Fe==="unknown"?"":" called from "+Fe))}function U(Z,xe,Fe){Z||B(xe,Fe||E())}function L(Z,xe,Fe,vt){Z in xe||B("unknown parameter ("+Z+")"+l(Fe)+". possible values: "+Object.keys(xe).join(),vt||E())}function F(Z,xe,Fe,vt){f(Z,xe)||B("invalid parameter type"+l(Fe)+". expected "+xe+", got "+typeof Z,vt||E())}function N(Z){Z()}function V(Z,xe,Fe){Z.texture?p(Z.texture._texture.internalformat,xe,"unsupported texture format for attachment"):p(Z.renderbuffer._renderbuffer.format,Fe,"unsupported renderbuffer format for attachment")}var W=33071,G=9728,K=9984,q=9985,ue=9986,he=9987,Ce=5120,ee=5121,de=5122,oe=5123,pe=5124,me=5125,re=5126,ne=32819,se=32820,be=33635,Pe=34042,Ee=36193,Le={};Le[Ce]=Le[ee]=1,Le[de]=Le[oe]=Le[Ee]=Le[be]=Le[ne]=Le[se]=2,Le[pe]=Le[me]=Le[re]=Le[Pe]=4;function He(Z,xe){return Z===se||Z===ne||Z===be?2:Z===Pe?4:Le[Z]*xe}function rt(Z){return!(Z&Z-1)&&!!Z}function Je(Z,xe,Fe){var vt,Ot=xe.width,Ze=xe.height,xt=xe.channels;s(Ot>0&&Ot<=Fe.maxTextureSize&&Ze>0&&Ze<=Fe.maxTextureSize,"invalid texture shape"),(Z.wrapS!==W||Z.wrapT!==W)&&s(rt(Ot)&&rt(Ze),"incompatible wrap mode for texture, both width and height must be power of 2"),xe.mipmask===1?Ot!==1&&Ze!==1&&s(Z.minFilter!==K&&Z.minFilter!==ue&&Z.minFilter!==q&&Z.minFilter!==he,"min filter requires mipmap"):(s(rt(Ot)&&rt(Ze),"texture must be a square power of 2 to support mipmapping"),s(xe.mipmask===(Ot<<1)-1,"missing or incomplete mipmap data")),xe.type===re&&(Fe.extensions.indexOf("oes_texture_float_linear")<0&&s(Z.minFilter===G&&Z.magFilter===G,"filter not supported, must enable oes_texture_float_linear"),s(!Z.genMipmaps,"mipmap generation not supported with float textures"));var qt=xe.images;for(vt=0;vt<16;++vt)if(qt[vt]){var Yt=Ot>>vt,mn=Ze>>vt;s(xe.mipmask&1<<vt,"missing mipmap data");var tn=qt[vt];if(s(tn.width===Yt&&tn.height===mn,"invalid shape for mip images"),s(tn.format===xe.format&&tn.internalformat===xe.internalformat&&tn.type===xe.type,"incompatible type for mip image"),!tn.compressed)if(tn.data){var ln=Math.ceil(He(tn.type,xt)*Yt/tn.unpackAlignment)*tn.unpackAlignment;s(tn.data.byteLength===ln*mn,"invalid data for image, buffer size is inconsistent with image format")}else tn.element||tn.copy}else Z.genMipmaps||s((xe.mipmask&1<<vt)===0,"extra mipmap data");xe.compressed&&s(!Z.genMipmaps,"mipmap generation for compressed images not supported")}function ot(Z,xe,Fe,vt){var Ot=Z.width,Ze=Z.height,xt=Z.channels;s(Ot>0&&Ot<=vt.maxTextureSize&&Ze>0&&Ze<=vt.maxTextureSize,"invalid texture shape"),s(Ot===Ze,"cube map must be square"),s(xe.wrapS===W&&xe.wrapT===W,"wrap mode not supported by cube map");for(var qt=0;qt<Fe.length;++qt){var Yt=Fe[qt];s(Yt.width===Ot&&Yt.height===Ze,"inconsistent cube map face shape"),xe.genMipmaps&&(s(!Yt.compressed,"can not generate mipmap for compressed textures"),s(Yt.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var mn=Yt.images,tn=0;tn<16;++tn){var ln=mn[tn];if(ln){var Qt=Ot>>tn,jt=Ze>>tn;s(Yt.mipmask&1<<tn,"missing mipmap data"),s(ln.width===Qt&&ln.height===jt,"invalid shape for mip images"),s(ln.format===Z.format&&ln.internalformat===Z.internalformat&&ln.type===Z.type,"incompatible type for mip image"),ln.compressed||(ln.data?s(ln.data.byteLength===Qt*jt*Math.max(He(ln.type,xt),ln.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):ln.element||ln.copy)}}}}var ae=r(s,{optional:N,raise:o,commandRaise:B,command:U,parameter:u,commandParameter:L,constructor:g,type:d,commandType:F,isTypedArray:c,nni:h,oneOf:p,shaderError:O,linkError:D,callSite:A,saveCommandRef:C,saveDrawInfo:P,framebufferFormat:V,guessCommand:E,texture2D:Je,textureCube:ot}),Xe=0,Tt=0;function sn(Z,xe){this.id=Xe++,this.type=Z,this.data=xe}function Mn(Z){return Z.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Sn(Z){if(Z.length===0)return[];var xe=Z.charAt(0),Fe=Z.charAt(Z.length-1);if(Z.length>1&&xe===Fe&&(xe==='"'||xe==="'"))return['"'+Mn(Z.substr(1,Z.length-2))+'"'];var vt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(Z);if(vt)return Sn(Z.substr(0,vt.index)).concat(Sn(vt[1])).concat(Sn(Z.substr(vt.index+vt[0].length)));var Ot=Z.split(".");if(Ot.length===1)return['"'+Mn(Z)+'"'];for(var Ze=[],xt=0;xt<Ot.length;++xt)Ze=Ze.concat(Sn(Ot[xt]));return Ze}function En(Z){return"["+Sn(Z).join("][")+"]"}function Gn(Z,xe){return new sn(Z,En(xe+""))}function _r(Z){return typeof Z=="function"&&!Z._reglType||Z instanceof sn}function We(Z,xe){return typeof Z=="function"?new sn(Tt,Z):Z}var yt={DynamicVariable:sn,define:Gn,isDynamic:_r,unbox:We,accessor:En},Re={next:typeof requestAnimationFrame=="function"?function(Z){return requestAnimationFrame(Z)}:function(Z){return setTimeout(Z,16)},cancel:typeof cancelAnimationFrame=="function"?function(Z){return cancelAnimationFrame(Z)}:clearTimeout},ut=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function _e(){var Z={"":0},xe=[""];return{id:function(Fe){var vt=Z[Fe];return vt||(vt=Z[Fe]=xe.length,xe.push(Fe),vt)},str:function(Fe){return xe[Fe]}}}function It(Z,xe,Fe){var vt=document.createElement("canvas");r(vt.style,{border:0,margin:0,padding:0,top:0,left:0}),Z.appendChild(vt),Z===document.body&&(vt.style.position="absolute",r(Z.style,{margin:0,padding:0}));function Ot(){var qt=window.innerWidth,Yt=window.innerHeight;if(Z!==document.body){var mn=Z.getBoundingClientRect();qt=mn.right-mn.left,Yt=mn.bottom-mn.top}vt.width=Fe*qt,vt.height=Fe*Yt,r(vt.style,{width:qt+"px",height:Yt+"px"})}var Ze;Z!==document.body&&typeof ResizeObserver=="function"?(Ze=new ResizeObserver(function(){setTimeout(Ot)}),Ze.observe(Z)):window.addEventListener("resize",Ot,!1);function xt(){Ze?Ze.disconnect():window.removeEventListener("resize",Ot),Z.removeChild(vt)}return Ot(),{canvas:vt,onDestroy:xt}}function Pn(Z,xe){function Fe(vt){try{return Z.getContext(vt,xe)}catch{return null}}return Fe("webgl")||Fe("experimental-webgl")||Fe("webgl-experimental")}function pr(Z){return typeof Z.nodeName=="string"&&typeof Z.appendChild=="function"&&typeof Z.getBoundingClientRect=="function"}function _i(Z){return typeof Z.drawArrays=="function"||typeof Z.drawElements=="function"}function lo(Z){return typeof Z=="string"?Z.split():(ae(Array.isArray(Z),"invalid extension array"),Z)}function Ki(Z){return typeof Z=="string"?(ae(typeof document<"u","not supported outside of DOM"),document.querySelector(Z)):Z}function Di(Z){var xe=Z||{},Fe,vt,Ot,Ze,xt={},qt=[],Yt=[],mn=typeof window>"u"?1:window.devicePixelRatio,tn=!1,ln=function(un){un&&ae.raise(un)},Qt=function(){};if(typeof xe=="string"?(ae(typeof document<"u","selector queries only supported in DOM enviroments"),Fe=document.querySelector(xe),ae(Fe,"invalid query string for element")):typeof xe=="object"?pr(xe)?Fe=xe:_i(xe)?(Ze=xe,Ot=Ze.canvas):(ae.constructor(xe),"gl"in xe?Ze=xe.gl:"canvas"in xe?Ot=Ki(xe.canvas):"container"in xe&&(vt=Ki(xe.container)),"attributes"in xe&&(xt=xe.attributes,ae.type(xt,"object","invalid context attributes")),"extensions"in xe&&(qt=lo(xe.extensions)),"optionalExtensions"in xe&&(Yt=lo(xe.optionalExtensions)),"onDone"in xe&&(ae.type(xe.onDone,"function","invalid or missing onDone callback"),ln=xe.onDone),"profile"in xe&&(tn=!!xe.profile),"pixelRatio"in xe&&(mn=+xe.pixelRatio,ae(mn>0,"invalid pixel ratio"))):ae.raise("invalid arguments to regl"),Fe&&(Fe.nodeName.toLowerCase()==="canvas"?Ot=Fe:vt=Fe),!Ze){if(!Ot){ae(typeof document<"u","must manually specify webgl context outside of DOM environments");var jt=It(vt||document.body,ln,mn);if(!jt)return null;Ot=jt.canvas,Qt=jt.onDestroy}xt.premultipliedAlpha===void 0&&(xt.premultipliedAlpha=!0),Ze=Pn(Ot,xt)}return Ze?{gl:Ze,canvas:Ot,container:vt,extensions:qt,optionalExtensions:Yt,pixelRatio:mn,profile:tn,onDone:ln,onDestroy:Qt}:(Qt(),ln("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function br(Z,xe){var Fe={};function vt(xt){ae.type(xt,"string","extension name must be string");var qt=xt.toLowerCase(),Yt;try{Yt=Fe[qt]=Z.getExtension(qt)}catch{}return!!Yt}for(var Ot=0;Ot<xe.extensions.length;++Ot){var Ze=xe.extensions[Ot];if(!vt(Ze))return xe.onDestroy(),xe.onDone('"'+Ze+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return xe.optionalExtensions.forEach(vt),{extensions:Fe,restore:function(){Object.keys(Fe).forEach(function(xt){if(Fe[xt]&&!vt(xt))throw new Error("(regl): error restoring extension "+xt)})}}}function ji(Z,xe){for(var Fe=Array(Z),vt=0;vt<Z;++vt)Fe[vt]=xe(vt);return Fe}var sd=5120,Ku=5121,ld=5122,Xc=5123,bu=5124,il=5125,mh=5126;function Ul(Z){for(var xe=16;xe<=1<<28;xe*=16)if(Z<=xe)return xe;return 0}function qu(Z){var xe,Fe;return xe=(Z>65535)<<4,Z>>>=xe,Fe=(Z>255)<<3,Z>>>=Fe,xe|=Fe,Fe=(Z>15)<<2,Z>>>=Fe,xe|=Fe,Fe=(Z>3)<<1,Z>>>=Fe,xe|=Fe,xe|Z>>1}function Zu(){var Z=ji(8,function(){return[]});function xe(Ze){var xt=Ul(Ze),qt=Z[qu(xt)>>2];return qt.length>0?qt.pop():new ArrayBuffer(xt)}function Fe(Ze){Z[qu(Ze.byteLength)>>2].push(Ze)}function vt(Ze,xt){var qt=null;switch(Ze){case sd:qt=new Int8Array(xe(xt),0,xt);break;case Ku:qt=new Uint8Array(xe(xt),0,xt);break;case ld:qt=new Int16Array(xe(2*xt),0,xt);break;case Xc:qt=new Uint16Array(xe(2*xt),0,xt);break;case bu:qt=new Int32Array(xe(4*xt),0,xt);break;case il:qt=new Uint32Array(xe(4*xt),0,xt);break;case mh:qt=new Float32Array(xe(4*xt),0,xt);break;default:return null}return qt.length!==xt?qt.subarray(0,xt):qt}function Ot(Ze){Fe(Ze.buffer)}return{alloc:xe,free:Fe,allocType:vt,freeType:Ot}}var na=Zu();na.zero=Zu();var ud=3408,yh=3410,Rt=3411,wn=3412,zr=3413,la=3414,Ya=3415,Do=33901,Po=33902,os=3379,Fs=3386,xu=34921,wt=36347,Ln=36348,rr=35661,vr=35660,Ia=34930,uo=36349,Vl=34076,cd=34024,al=7936,Su=7937,qy=7938,Zy=35724,Kp=34047,Us=36063,_h=34852,Kc=3553,fd=34067,am=34069,qp=33984,ol=6408,sl=5126,Qy=5121,bh=36160,Zp=36053,Qp=36064,qx=16384,Jy=function(Z,xe){var Fe=1;xe.ext_texture_filter_anisotropic&&(Fe=Z.getParameter(Kp));var vt=1,Ot=1;xe.webgl_draw_buffers&&(vt=Z.getParameter(_h),Ot=Z.getParameter(Us));var Ze=!!xe.oes_texture_float;if(Ze){var xt=Z.createTexture();Z.bindTexture(Kc,xt),Z.texImage2D(Kc,0,ol,1,1,0,ol,sl,null);var qt=Z.createFramebuffer();if(Z.bindFramebuffer(bh,qt),Z.framebufferTexture2D(bh,Qp,Kc,xt,0),Z.bindTexture(Kc,null),Z.checkFramebufferStatus(bh)!==Zp)Ze=!1;else{Z.viewport(0,0,1,1),Z.clearColor(1,0,0,1),Z.clear(qx);var Yt=na.allocType(sl,4);Z.readPixels(0,0,1,1,ol,sl,Yt),Z.getError()?Ze=!1:(Z.deleteFramebuffer(qt),Z.deleteTexture(xt),Ze=Yt[0]===1),na.freeType(Yt)}}var mn=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),tn=!0;if(!mn){var ln=Z.createTexture(),Qt=na.allocType(Qy,36);Z.activeTexture(qp),Z.bindTexture(fd,ln),Z.texImage2D(am,0,ol,3,3,0,ol,Qy,Qt),na.freeType(Qt),Z.bindTexture(fd,null),Z.deleteTexture(ln),tn=!Z.getError()}return{colorBits:[Z.getParameter(yh),Z.getParameter(Rt),Z.getParameter(wn),Z.getParameter(zr)],depthBits:Z.getParameter(la),stencilBits:Z.getParameter(Ya),subpixelBits:Z.getParameter(ud),extensions:Object.keys(xe).filter(function(jt){return!!xe[jt]}),maxAnisotropic:Fe,maxDrawbuffers:vt,maxColorAttachments:Ot,pointSizeDims:Z.getParameter(Do),lineWidthDims:Z.getParameter(Po),maxViewportDims:Z.getParameter(Fs),maxCombinedTextureUnits:Z.getParameter(rr),maxCubeMapSize:Z.getParameter(Vl),maxRenderbufferSize:Z.getParameter(cd),maxTextureUnits:Z.getParameter(Ia),maxTextureSize:Z.getParameter(os),maxAttributes:Z.getParameter(xu),maxVertexUniforms:Z.getParameter(wt),maxVertexTextureUnits:Z.getParameter(vr),maxVaryingVectors:Z.getParameter(Ln),maxFragmentUniforms:Z.getParameter(uo),glsl:Z.getParameter(Zy),renderer:Z.getParameter(Su),vendor:Z.getParameter(al),version:Z.getParameter(qy),readFloat:Ze,npotTextureCube:tn}};function ge(Z){return!!Z&&typeof Z=="object"&&Array.isArray(Z.shape)&&Array.isArray(Z.stride)&&typeof Z.offset=="number"&&Z.shape.length===Z.stride.length&&(Array.isArray(Z.data)||n(Z.data))}var Ae=function(Z){return Object.keys(Z).map(function(xe){return Z[xe]})},Ge={shape:co,flatten:no};function At(Z,xe,Fe){for(var vt=0;vt<xe;++vt)Fe[vt]=Z[vt]}function dn(Z,xe,Fe,vt){for(var Ot=0,Ze=0;Ze<xe;++Ze)for(var xt=Z[Ze],qt=0;qt<Fe;++qt)vt[Ot++]=xt[qt]}function qn(Z,xe,Fe,vt,Ot,Ze){for(var xt=Ze,qt=0;qt<xe;++qt)for(var Yt=Z[qt],mn=0;mn<Fe;++mn)for(var tn=Yt[mn],ln=0;ln<vt;++ln)Ot[xt++]=tn[ln]}function ri(Z,xe,Fe,vt,Ot){for(var Ze=1,xt=Fe+1;xt<xe.length;++xt)Ze*=xe[xt];var qt=xe[Fe];if(xe.length-Fe===4){var Yt=xe[Fe+1],mn=xe[Fe+2],tn=xe[Fe+3];for(xt=0;xt<qt;++xt)qn(Z[xt],Yt,mn,tn,vt,Ot),Ot+=Ze}else for(xt=0;xt<qt;++xt)ri(Z[xt],xe,Fe+1,vt,Ot),Ot+=Ze}function no(Z,xe,Fe,vt){var Ot=1;if(xe.length)for(var Ze=0;Ze<xe.length;++Ze)Ot*=xe[Ze];else Ot=0;var xt=vt||na.allocType(Fe,Ot);switch(xe.length){case 0:break;case 1:At(Z,xe[0],xt);break;case 2:dn(Z,xe[0],xe[1],xt);break;case 3:qn(Z,xe[0],xe[1],xe[2],xt,0);break;default:ri(Z,xe,0,xt,0)}return xt}function co(Z){for(var xe=[],Fe=Z;Fe.length;Fe=Fe[0])xe.push(Fe.length);return xe}var fo={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},zl=5120,vL=5122,gL=5124,Bw=5121,mL=5123,yL=5125,_L=5126,bL=5126,qc={int8:zl,int16:vL,int32:gL,uint8:Bw,uint16:mL,uint32:yL,float:_L,float32:bL},xL=35048,SL=35040,e_={dynamic:xL,stream:SL,static:35044},Zx=Ge.flatten,kw=Ge.shape,ma=35044,ya=35040,Qx=5121,Jx=5126,dd=[];dd[5120]=1,dd[5122]=2,dd[5124]=4,dd[5121]=1,dd[5123]=2,dd[5125]=4,dd[5126]=4;function t_(Z){return fo[Object.prototype.toString.call(Z)]|0}function Fw(Z,xe){for(var Fe=0;Fe<xe.length;++Fe)Z[Fe]=xe[Fe]}function Uw(Z,xe,Fe,vt,Ot,Ze,xt){for(var qt=0,Yt=0;Yt<Fe;++Yt)for(var mn=0;mn<vt;++mn)Z[qt++]=xe[Ot*Yt+Ze*mn+xt]}function Vw(Z,xe,Fe,vt){var Ot=0,Ze={};function xt(it){this.id=Ot++,this.buffer=Z.createBuffer(),this.type=it,this.usage=ma,this.byteLength=0,this.dimension=1,this.dtype=Qx,this.persistentData=null,Fe.profile&&(this.stats={size:0})}xt.prototype.bind=function(){Z.bindBuffer(this.type,this.buffer)},xt.prototype.destroy=function(){Qt(this)};var qt=[];function Yt(it,bt){var Jt=qt.pop();return Jt||(Jt=new xt(it)),Jt.bind(),ln(Jt,bt,ya,0,1,!1),Jt}function mn(it){qt.push(it)}function tn(it,bt,Jt){it.byteLength=bt.byteLength,Z.bufferData(it.type,bt,Jt)}function ln(it,bt,Jt,_n,zt,In){var Gt;if(it.usage=Jt,Array.isArray(bt)){if(it.dtype=_n||Jx,bt.length>0){var cn;if(Array.isArray(bt[0])){Gt=kw(bt);for(var Ft=1,yn=1;yn<Gt.length;++yn)Ft*=Gt[yn];it.dimension=Ft,cn=Zx(bt,Gt,it.dtype),tn(it,cn,Jt),In?it.persistentData=cn:na.freeType(cn)}else if(typeof bt[0]=="number"){it.dimension=zt;var Zn=na.allocType(it.dtype,bt.length);Fw(Zn,bt),tn(it,Zn,Jt),In?it.persistentData=Zn:na.freeType(Zn)}else n(bt[0])?(it.dimension=bt[0].length,it.dtype=_n||t_(bt[0])||Jx,cn=Zx(bt,[bt.length,bt[0].length],it.dtype),tn(it,cn,Jt),In?it.persistentData=cn:na.freeType(cn)):ae.raise("invalid buffer data")}}else if(n(bt))it.dtype=_n||t_(bt),it.dimension=zt,tn(it,bt,Jt),In&&(it.persistentData=new Uint8Array(new Uint8Array(bt.buffer)));else if(ge(bt)){Gt=bt.shape;var Ar=bt.stride,bn=bt.offset,Kt=0,Dt=0,xr=0,Zr=0;Gt.length===1?(Kt=Gt[0],Dt=1,xr=Ar[0],Zr=0):Gt.length===2?(Kt=Gt[0],Dt=Gt[1],xr=Ar[0],Zr=Ar[1]):ae.raise("invalid shape"),it.dtype=_n||t_(bt.data)||Jx,it.dimension=Dt;var jn=na.allocType(it.dtype,Kt*Dt);Uw(jn,bt.data,Kt,Dt,xr,Zr,bn),tn(it,jn,Jt),In?it.persistentData=jn:na.freeType(jn)}else bt instanceof ArrayBuffer?(it.dtype=Qx,it.dimension=zt,tn(it,bt,Jt),In&&(it.persistentData=new Uint8Array(new Uint8Array(bt)))):ae.raise("invalid buffer data")}function Qt(it){xe.bufferCount--,vt(it);var bt=it.buffer;ae(bt,"buffer must not be deleted already"),Z.deleteBuffer(bt),it.buffer=null,delete Ze[it.id]}function jt(it,bt,Jt,_n){xe.bufferCount++;var zt=new xt(bt);Ze[zt.id]=zt;function In(Ft){var yn=ma,Zn=null,Ar=0,bn=0,Kt=1;return Array.isArray(Ft)||n(Ft)||ge(Ft)||Ft instanceof ArrayBuffer?Zn=Ft:typeof Ft=="number"?Ar=Ft|0:Ft&&(ae.type(Ft,"object","buffer arguments must be an object, a number or an array"),"data"in Ft&&(ae(Zn===null||Array.isArray(Zn)||n(Zn)||ge(Zn),"invalid data for buffer"),Zn=Ft.data),"usage"in Ft&&(ae.parameter(Ft.usage,e_,"invalid buffer usage"),yn=e_[Ft.usage]),"type"in Ft&&(ae.parameter(Ft.type,qc,"invalid buffer type"),bn=qc[Ft.type]),"dimension"in Ft&&(ae.type(Ft.dimension,"number","invalid dimension"),Kt=Ft.dimension|0),"length"in Ft&&(ae.nni(Ar,"buffer length must be a nonnegative integer"),Ar=Ft.length|0)),zt.bind(),Zn?ln(zt,Zn,yn,bn,Kt,_n):(Ar&&Z.bufferData(zt.type,Ar,yn),zt.dtype=bn||Qx,zt.usage=yn,zt.dimension=Kt,zt.byteLength=Ar),Fe.profile&&(zt.stats.size=zt.byteLength*dd[zt.dtype]),In}function Gt(Ft,yn){ae(yn+Ft.byteLength<=zt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Ft.byteLength+" starting from offset "+yn+" to a buffer of size "+zt.byteLength),Z.bufferSubData(zt.type,yn,Ft)}function cn(Ft,yn){var Zn=(yn||0)|0,Ar;if(zt.bind(),n(Ft)||Ft instanceof ArrayBuffer)Gt(Ft,Zn);else if(Array.isArray(Ft)){if(Ft.length>0)if(typeof Ft[0]=="number"){var bn=na.allocType(zt.dtype,Ft.length);Fw(bn,Ft),Gt(bn,Zn),na.freeType(bn)}else if(Array.isArray(Ft[0])||n(Ft[0])){Ar=kw(Ft);var Kt=Zx(Ft,Ar,zt.dtype);Gt(Kt,Zn),na.freeType(Kt)}else ae.raise("invalid buffer data")}else if(ge(Ft)){Ar=Ft.shape;var Dt=Ft.stride,xr=0,Zr=0,jn=0,$r=0;Ar.length===1?(xr=Ar[0],Zr=1,jn=Dt[0],$r=0):Ar.length===2?(xr=Ar[0],Zr=Ar[1],jn=Dt[0],$r=Dt[1]):ae.raise("invalid shape");var Cr=Array.isArray(Ft.data)?zt.dtype:t_(Ft.data),Nr=na.allocType(Cr,xr*Zr);Uw(Nr,Ft.data,xr,Zr,jn,$r,Ft.offset),Gt(Nr,Zn),na.freeType(Nr)}else ae.raise("invalid data for buffer subdata");return In}return Jt||In(it),In._reglType="buffer",In._buffer=zt,In.subdata=cn,Fe.profile&&(In.stats=zt.stats),In.destroy=function(){Qt(zt)},In}function un(){Ae(Ze).forEach(function(it){it.buffer=Z.createBuffer(),Z.bindBuffer(it.type,it.buffer),Z.bufferData(it.type,it.persistentData||it.byteLength,it.usage)})}return Fe.profile&&(xe.getTotalBufferSize=function(){var it=0;return Object.keys(Ze).forEach(function(bt){it+=Ze[bt].stats.size}),it}),{create:jt,createStream:Yt,destroyStream:mn,clear:function(){Ae(Ze).forEach(Qt),qt.forEach(Qt)},getBuffer:function(it){return it&&it._buffer instanceof xt?it._buffer:null},restore:un,_initBuffer:ln}}var AL=0,Ho=0,eS=1,xh=1,zw=4,tS=4,Wo={points:AL,point:Ho,lines:eS,line:xh,triangles:zw,triangle:tS,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},$w=0,Hw=1,Jp=4,Ww=5120,Sh=5121,nS=5122,Lo=5123,Gw=5124,No=5125,rS=34963,jw=35040,hd=35044;function n_(Z,xe,Fe,vt){var Ot={},Ze=0,xt={uint8:Sh,uint16:Lo};xe.oes_element_index_uint&&(xt.uint32=No);function qt(un){this.id=Ze++,Ot[this.id]=this,this.buffer=un,this.primType=Jp,this.vertCount=0,this.type=0}qt.prototype.bind=function(){this.buffer.bind()};var Yt=[];function mn(un){var it=Yt.pop();return it||(it=new qt(Fe.create(null,rS,!0,!1)._buffer)),ln(it,un,jw,-1,-1,0,0),it}function tn(un){Yt.push(un)}function ln(un,it,bt,Jt,_n,zt,In){un.buffer.bind();var Gt;if(it){var cn=In;!In&&(!n(it)||ge(it)&&!n(it.data))&&(cn=xe.oes_element_index_uint?No:Lo),Fe._initBuffer(un.buffer,it,bt,cn,3)}else Z.bufferData(rS,zt,bt),un.buffer.dtype=Gt||Sh,un.buffer.usage=bt,un.buffer.dimension=3,un.buffer.byteLength=zt;if(Gt=In,!In){switch(un.buffer.dtype){case Sh:case Ww:Gt=Sh;break;case Lo:case nS:Gt=Lo;break;case No:case Gw:Gt=No;break;default:ae.raise("unsupported type for element array")}un.buffer.dtype=Gt}un.type=Gt,ae(Gt!==No||!!xe.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Ft=_n;Ft<0&&(Ft=un.buffer.byteLength,Gt===Lo?Ft>>=1:Gt===No&&(Ft>>=2)),un.vertCount=Ft;var yn=Jt;if(Jt<0){yn=Jp;var Zn=un.buffer.dimension;Zn===1&&(yn=$w),Zn===2&&(yn=Hw),Zn===3&&(yn=Jp)}un.primType=yn}function Qt(un){vt.elementsCount--,ae(un.buffer!==null,"must not double destroy elements"),delete Ot[un.id],un.buffer.destroy(),un.buffer=null}function jt(un,it){var bt=Fe.create(null,rS,!0),Jt=new qt(bt._buffer);vt.elementsCount++;function _n(zt){if(!zt)bt(),Jt.primType=Jp,Jt.vertCount=0,Jt.type=Sh;else if(typeof zt=="number")bt(zt),Jt.primType=Jp,Jt.vertCount=zt|0,Jt.type=Sh;else{var In=null,Gt=hd,cn=-1,Ft=-1,yn=0,Zn=0;Array.isArray(zt)||n(zt)||ge(zt)?In=zt:(ae.type(zt,"object","invalid arguments for elements"),"data"in zt&&(In=zt.data,ae(Array.isArray(In)||n(In)||ge(In),"invalid data for element buffer")),"usage"in zt&&(ae.parameter(zt.usage,e_,"invalid element buffer usage"),Gt=e_[zt.usage]),"primitive"in zt&&(ae.parameter(zt.primitive,Wo,"invalid element buffer primitive"),cn=Wo[zt.primitive]),"count"in zt&&(ae(typeof zt.count=="number"&&zt.count>=0,"invalid vertex count for elements"),Ft=zt.count|0),"type"in zt&&(ae.parameter(zt.type,xt,"invalid buffer type"),Zn=xt[zt.type]),"length"in zt?yn=zt.length|0:(yn=Ft,Zn===Lo||Zn===nS?yn*=2:(Zn===No||Zn===Gw)&&(yn*=4))),ln(Jt,In,Gt,cn,Ft,yn,Zn)}return _n}return _n(un),_n._reglType="elements",_n._elements=Jt,_n.subdata=function(zt,In){return bt.subdata(zt,In),_n},_n.destroy=function(){Qt(Jt)},_n}return{create:jt,createStream:mn,destroyStream:tn,getElements:function(un){return typeof un=="function"&&un._elements instanceof qt?un._elements:null},clear:function(){Ae(Ot).forEach(Qt)}}}var r_=new Float32Array(1),Ma=new Uint32Array(r_.buffer),pd=5123;function i_(Z){for(var xe=na.allocType(pd,Z.length),Fe=0;Fe<Z.length;++Fe)if(isNaN(Z[Fe]))xe[Fe]=65535;else if(Z[Fe]===1/0)xe[Fe]=31744;else if(Z[Fe]===-1/0)xe[Fe]=64512;else{r_[0]=Z[Fe];var vt=Ma[0],Ot=vt>>>31<<15,Ze=(vt<<1>>>24)-127,xt=vt>>13&1023;if(Ze<-24)xe[Fe]=Ot;else if(Ze<-14){var qt=-14-Ze;xe[Fe]=Ot+(xt+1024>>qt)}else Ze>15?xe[Fe]=Ot+31744:xe[Fe]=Ot+(Ze+15<<10)+xt}return xe}function ka(Z){return Array.isArray(Z)||n(Z)}var a_=function(Z){return!(Z&Z-1)&&!!Z},EL=34467,Zc=3553,Yw=34067,om=34069,Qu=6408,vd=6406,o_=6407,ev=6409,sm=6410,s_=32854,lm=32855,iS=36194,TL=32819,aS=32820,oS=33635,wL=34042,l_=6402,ss=34041,um=35904,Ah=35906,Eh=36193,u_=33776,sS=33777,lS=33778,uS=33779,Xw=35986,Kw=35987,Th=34798,qw=35840,Zw=35841,c_=35842,cS=35843,Qc=36196,Jc=5121,fS=5123,dS=5125,cm=5126,tv=10242,Au=10243,Qw=10497,hS=33071,CL=33648,RL=10240,IL=10241,pS=9728,nv=9729,st=9984,Ht=9985,Mt=9986,Jn=9987,Kr=33170,Pi=4352,bo=4353,ua=4354,vS=34046,ML=3317,$l=37440,f_=37441,OL=37443,wh=37444,Ch=33984,d_=[st,Mt,Ht,Jn],$i=[0,ev,sm,o_,Qu],Hl={};Hl[ev]=Hl[vd]=Hl[l_]=1,Hl[ss]=Hl[sm]=2,Hl[o_]=Hl[um]=3,Hl[Qu]=Hl[Ah]=4;function Rh(Z){return"[object "+Z+"]"}var fm=Rh("HTMLCanvasElement"),Jw=Rh("OffscreenCanvas"),eC=Rh("CanvasRenderingContext2D"),tC=Rh("ImageBitmap"),dm=Rh("HTMLImageElement"),ef=Rh("HTMLVideoElement"),h_=Object.keys(fo).concat([fm,Jw,eC,tC,dm,ef]),Ih=[];Ih[Jc]=1,Ih[cm]=4,Ih[Eh]=2,Ih[fS]=2,Ih[dS]=4;var ro=[];ro[s_]=2,ro[lm]=2,ro[iS]=2,ro[ss]=4,ro[u_]=.5,ro[sS]=.5,ro[lS]=1,ro[uS]=1,ro[Xw]=.5,ro[Kw]=1,ro[Th]=1,ro[qw]=.5,ro[Zw]=.25,ro[c_]=.5,ro[cS]=.25,ro[Qc]=.5;function gS(Z){return Array.isArray(Z)&&(Z.length===0||typeof Z[0]=="number")}function mS(Z){if(!Array.isArray(Z))return!1;var xe=Z.length;return!(xe===0||!ka(Z[0]))}function Ju(Z){return Object.prototype.toString.call(Z)}function yS(Z){return Ju(Z)===fm}function rv(Z){return Ju(Z)===Jw}function Mh(Z){return Ju(Z)===eC}function p_(Z){return Ju(Z)===tC}function DL(Z){return Ju(Z)===dm}function PL(Z){return Ju(Z)===ef}function _S(Z){if(!Z)return!1;var xe=Ju(Z);return h_.indexOf(xe)>=0?!0:gS(Z)||mS(Z)||ge(Z)}function hm(Z){return fo[Object.prototype.toString.call(Z)]|0}function v_(Z,xe){var Fe=xe.length;switch(Z.type){case Jc:case fS:case dS:case cm:var vt=na.allocType(Z.type,Fe);vt.set(xe),Z.data=vt;break;case Eh:Z.data=i_(xe);break;default:ae.raise("unsupported texture type, must specify a typed array")}}function g_(Z,xe){return na.allocType(Z.type===Eh?cm:Z.type,xe)}function nC(Z,xe){Z.type===Eh?(Z.data=i_(xe),na.freeType(xe)):Z.data=xe}function rC(Z,xe,Fe,vt,Ot,Ze){for(var xt=Z.width,qt=Z.height,Yt=Z.channels,mn=xt*qt*Yt,tn=g_(Z,mn),ln=0,Qt=0;Qt<qt;++Qt)for(var jt=0;jt<xt;++jt)for(var un=0;un<Yt;++un)tn[ln++]=xe[Fe*jt+vt*Qt+Ot*un+Ze];nC(Z,tn)}function m_(Z,xe,Fe,vt,Ot,Ze){var xt;if(typeof ro[Z]<"u"?xt=ro[Z]:xt=Hl[Z]*Ih[xe],Ze&&(xt*=6),Ot){for(var qt=0,Yt=Fe;Yt>=1;)qt+=xt*Yt*Yt,Yt/=2;return qt}else return xt*Fe*vt}function LL(Z,xe,Fe,vt,Ot,Ze,xt){var qt={"don't care":Pi,"dont care":Pi,nice:ua,fast:bo},Yt={repeat:Qw,clamp:hS,mirror:CL},mn={nearest:pS,linear:nv},tn=r({mipmap:Jn,"nearest mipmap nearest":st,"linear mipmap nearest":Ht,"nearest mipmap linear":Mt,"linear mipmap linear":Jn},mn),ln={none:0,browser:wh},Qt={uint8:Jc,rgba4:TL,rgb565:oS,"rgb5 a1":aS},jt={alpha:vd,luminance:ev,"luminance alpha":sm,rgb:o_,rgba:Qu,rgba4:s_,"rgb5 a1":lm,rgb565:iS},un={};xe.ext_srgb&&(jt.srgb=um,jt.srgba=Ah),xe.oes_texture_float&&(Qt.float32=Qt.float=cm),xe.oes_texture_half_float&&(Qt.float16=Qt["half float"]=Eh),xe.webgl_depth_texture&&(r(jt,{depth:l_,"depth stencil":ss}),r(Qt,{uint16:fS,uint32:dS,"depth stencil":wL})),xe.webgl_compressed_texture_s3tc&&r(un,{"rgb s3tc dxt1":u_,"rgba s3tc dxt1":sS,"rgba s3tc dxt3":lS,"rgba s3tc dxt5":uS}),xe.webgl_compressed_texture_atc&&r(un,{"rgb atc":Xw,"rgba atc explicit alpha":Kw,"rgba atc interpolated alpha":Th}),xe.webgl_compressed_texture_pvrtc&&r(un,{"rgb pvrtc 4bppv1":qw,"rgb pvrtc 2bppv1":Zw,"rgba pvrtc 4bppv1":c_,"rgba pvrtc 2bppv1":cS}),xe.webgl_compressed_texture_etc1&&(un["rgb etc1"]=Qc);var it=Array.prototype.slice.call(Z.getParameter(EL));Object.keys(un).forEach(function(Me){var mt=un[Me];it.indexOf(mt)>=0&&(jt[Me]=mt)});var bt=Object.keys(jt);Fe.textureFormats=bt;var Jt=[];Object.keys(jt).forEach(function(Me){var mt=jt[Me];Jt[mt]=Me});var _n=[];Object.keys(Qt).forEach(function(Me){var mt=Qt[Me];_n[mt]=Me});var zt=[];Object.keys(mn).forEach(function(Me){var mt=mn[Me];zt[mt]=Me});var In=[];Object.keys(tn).forEach(function(Me){var mt=tn[Me];In[mt]=Me});var Gt=[];Object.keys(Yt).forEach(function(Me){var mt=Yt[Me];Gt[mt]=Me});var cn=bt.reduce(function(Me,mt){var lt=jt[mt];return lt===ev||lt===vd||lt===ev||lt===sm||lt===l_||lt===ss||xe.ext_srgb&&(lt===um||lt===Ah)?Me[lt]=lt:lt===lm||mt.indexOf("rgba")>=0?Me[lt]=Qu:Me[lt]=o_,Me},{});function Ft(){this.internalformat=Qu,this.format=Qu,this.type=Jc,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=wh,this.width=0,this.height=0,this.channels=0}function yn(Me,mt){Me.internalformat=mt.internalformat,Me.format=mt.format,Me.type=mt.type,Me.compressed=mt.compressed,Me.premultiplyAlpha=mt.premultiplyAlpha,Me.flipY=mt.flipY,Me.unpackAlignment=mt.unpackAlignment,Me.colorSpace=mt.colorSpace,Me.width=mt.width,Me.height=mt.height,Me.channels=mt.channels}function Zn(Me,mt){if(!(typeof mt!="object"||!mt)){if("premultiplyAlpha"in mt&&(ae.type(mt.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Me.premultiplyAlpha=mt.premultiplyAlpha),"flipY"in mt&&(ae.type(mt.flipY,"boolean","invalid texture flip"),Me.flipY=mt.flipY),"alignment"in mt&&(ae.oneOf(mt.alignment,[1,2,4,8],"invalid texture unpack alignment"),Me.unpackAlignment=mt.alignment),"colorSpace"in mt&&(ae.parameter(mt.colorSpace,ln,"invalid colorSpace"),Me.colorSpace=ln[mt.colorSpace]),"type"in mt){var lt=mt.type;ae(xe.oes_texture_float||!(lt==="float"||lt==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),ae(xe.oes_texture_half_float||!(lt==="half float"||lt==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ae(xe.webgl_depth_texture||!(lt==="uint16"||lt==="uint32"||lt==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ae.parameter(lt,Qt,"invalid texture type"),Me.type=Qt[lt]}var On=Me.width,Hr=Me.height,Yi=Me.channels,ve=!1;"shape"in mt?(ae(Array.isArray(mt.shape)&&mt.shape.length>=2,"shape must be an array"),On=mt.shape[0],Hr=mt.shape[1],mt.shape.length===3&&(Yi=mt.shape[2],ae(Yi>0&&Yi<=4,"invalid number of channels"),ve=!0),ae(On>=0&&On<=Fe.maxTextureSize,"invalid width"),ae(Hr>=0&&Hr<=Fe.maxTextureSize,"invalid height")):("radius"in mt&&(On=Hr=mt.radius,ae(On>=0&&On<=Fe.maxTextureSize,"invalid radius")),"width"in mt&&(On=mt.width,ae(On>=0&&On<=Fe.maxTextureSize,"invalid width")),"height"in mt&&(Hr=mt.height,ae(Hr>=0&&Hr<=Fe.maxTextureSize,"invalid height")),"channels"in mt&&(Yi=mt.channels,ae(Yi>0&&Yi<=4,"invalid number of channels"),ve=!0)),Me.width=On|0,Me.height=Hr|0,Me.channels=Yi|0;var we=!1;if("format"in mt){var ke=mt.format;ae(xe.webgl_depth_texture||!(ke==="depth"||ke==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ae.parameter(ke,jt,"invalid texture format");var ct=Me.internalformat=jt[ke];Me.format=cn[ct],ke in Qt&&("type"in mt||(Me.type=Qt[ke])),ke in un&&(Me.compressed=!0),we=!0}!ve&&we?Me.channels=Hl[Me.format]:ve&&!we?Me.channels!==$i[Me.format]&&(Me.format=Me.internalformat=$i[Me.channels]):we&&ve&&ae(Me.channels===Hl[Me.format],"number of channels inconsistent with specified format")}}function Ar(Me){Z.pixelStorei($l,Me.flipY),Z.pixelStorei(f_,Me.premultiplyAlpha),Z.pixelStorei(OL,Me.colorSpace),Z.pixelStorei(ML,Me.unpackAlignment)}function bn(){Ft.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Kt(Me,mt){var lt=null;if(_S(mt)?lt=mt:mt&&(ae.type(mt,"object","invalid pixel data type"),Zn(Me,mt),"x"in mt&&(Me.xOffset=mt.x|0),"y"in mt&&(Me.yOffset=mt.y|0),_S(mt.data)&&(lt=mt.data)),ae(!Me.compressed||lt instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),mt.copy){ae(!lt,"can not specify copy and data field for the same texture");var On=Ot.viewportWidth,Hr=Ot.viewportHeight;Me.width=Me.width||On-Me.xOffset,Me.height=Me.height||Hr-Me.yOffset,Me.needsCopy=!0,ae(Me.xOffset>=0&&Me.xOffset<On&&Me.yOffset>=0&&Me.yOffset<Hr&&Me.width>0&&Me.width<=On&&Me.height>0&&Me.height<=Hr,"copy texture read out of bounds")}else if(!lt)Me.width=Me.width||1,Me.height=Me.height||1,Me.channels=Me.channels||4;else if(n(lt))Me.channels=Me.channels||4,Me.data=lt,!("type"in mt)&&Me.type===Jc&&(Me.type=hm(lt));else if(gS(lt))Me.channels=Me.channels||4,v_(Me,lt),Me.alignment=1,Me.needsFree=!0;else if(ge(lt)){var Yi=lt.data;!Array.isArray(Yi)&&Me.type===Jc&&(Me.type=hm(Yi));var ve=lt.shape,we=lt.stride,ke,ct,ht,Ve,Ye,Ke;ve.length===3?(ht=ve[2],Ke=we[2]):(ae(ve.length===2,"invalid ndarray pixel data, must be 2 or 3D"),ht=1,Ke=1),ke=ve[0],ct=ve[1],Ve=we[0],Ye=we[1],Me.alignment=1,Me.width=ke,Me.height=ct,Me.channels=ht,Me.format=Me.internalformat=$i[ht],Me.needsFree=!0,rC(Me,Yi,Ve,Ye,Ke,lt.offset)}else if(yS(lt)||rv(lt)||Mh(lt))yS(lt)||rv(lt)?Me.element=lt:Me.element=lt.canvas,Me.width=Me.element.width,Me.height=Me.element.height,Me.channels=4;else if(p_(lt))Me.element=lt,Me.width=lt.width,Me.height=lt.height,Me.channels=4;else if(DL(lt))Me.element=lt,Me.width=lt.naturalWidth,Me.height=lt.naturalHeight,Me.channels=4;else if(PL(lt))Me.element=lt,Me.width=lt.videoWidth,Me.height=lt.videoHeight,Me.channels=4;else if(mS(lt)){var Oe=Me.width||lt[0].length,$e=Me.height||lt.length,Se=Me.channels;ka(lt[0][0])?Se=Se||lt[0][0].length:Se=Se||1;for(var je=Ge.shape(lt),ft=1,Et=0;Et<je.length;++Et)ft*=je[Et];var Wt=g_(Me,ft);Ge.flatten(lt,je,"",Wt),nC(Me,Wt),Me.alignment=1,Me.width=Oe,Me.height=$e,Me.channels=Se,Me.format=Me.internalformat=$i[Se],Me.needsFree=!0}Me.type===cm?ae(Fe.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Me.type===Eh&&ae(Fe.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Dt(Me,mt,lt){var On=Me.element,Hr=Me.data,Yi=Me.internalformat,ve=Me.format,we=Me.type,ke=Me.width,ct=Me.height;Ar(Me),On?Z.texImage2D(mt,lt,ve,ve,we,On):Me.compressed?Z.compressedTexImage2D(mt,lt,Yi,ke,ct,0,Hr):Me.needsCopy?(vt(),Z.copyTexImage2D(mt,lt,ve,Me.xOffset,Me.yOffset,ke,ct,0)):Z.texImage2D(mt,lt,ve,ke,ct,0,ve,we,Hr||null)}function xr(Me,mt,lt,On,Hr){var Yi=Me.element,ve=Me.data,we=Me.internalformat,ke=Me.format,ct=Me.type,ht=Me.width,Ve=Me.height;Ar(Me),Yi?Z.texSubImage2D(mt,Hr,lt,On,ke,ct,Yi):Me.compressed?Z.compressedTexSubImage2D(mt,Hr,lt,On,we,ht,Ve,ve):Me.needsCopy?(vt(),Z.copyTexSubImage2D(mt,Hr,lt,On,Me.xOffset,Me.yOffset,ht,Ve)):Z.texSubImage2D(mt,Hr,lt,On,ht,Ve,ke,ct,ve)}var Zr=[];function jn(){return Zr.pop()||new bn}function $r(Me){Me.needsFree&&na.freeType(Me.data),bn.call(Me),Zr.push(Me)}function Cr(){Ft.call(this),this.genMipmaps=!1,this.mipmapHint=Pi,this.mipmask=0,this.images=Array(16)}function Nr(Me,mt,lt){var On=Me.images[0]=jn();Me.mipmask=1,On.width=Me.width=mt,On.height=Me.height=lt,On.channels=Me.channels=4}function fi(Me,mt){var lt=null;if(_S(mt))lt=Me.images[0]=jn(),yn(lt,Me),Kt(lt,mt),Me.mipmask=1;else if(Zn(Me,mt),Array.isArray(mt.mipmap))for(var On=mt.mipmap,Hr=0;Hr<On.length;++Hr)lt=Me.images[Hr]=jn(),yn(lt,Me),lt.width>>=Hr,lt.height>>=Hr,Kt(lt,On[Hr]),Me.mipmask|=1<<Hr;else lt=Me.images[0]=jn(),yn(lt,Me),Kt(lt,mt),Me.mipmask=1;yn(Me,Me.images[0]),Me.compressed&&(Me.internalformat===u_||Me.internalformat===sS||Me.internalformat===lS||Me.internalformat===uS)&&ae(Me.width%4===0&&Me.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Xa(Me,mt){for(var lt=Me.images,On=0;On<lt.length;++On){if(!lt[On])return;Dt(lt[On],mt,On)}}var Ka=[];function Gr(){var Me=Ka.pop()||new Cr;Ft.call(Me),Me.mipmask=0;for(var mt=0;mt<16;++mt)Me.images[mt]=null;return Me}function Ta(Me){for(var mt=Me.images,lt=0;lt<mt.length;++lt)mt[lt]&&$r(mt[lt]),mt[lt]=null;Ka.push(Me)}function qi(){this.minFilter=pS,this.magFilter=pS,this.wrapS=hS,this.wrapT=hS,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Pi}function Fa(Me,mt){if("min"in mt){var lt=mt.min;ae.parameter(lt,tn),Me.minFilter=tn[lt],d_.indexOf(Me.minFilter)>=0&&!("faces"in mt)&&(Me.genMipmaps=!0)}if("mag"in mt){var On=mt.mag;ae.parameter(On,mn),Me.magFilter=mn[On]}var Hr=Me.wrapS,Yi=Me.wrapT;if("wrap"in mt){var ve=mt.wrap;typeof ve=="string"?(ae.parameter(ve,Yt),Hr=Yi=Yt[ve]):Array.isArray(ve)&&(ae.parameter(ve[0],Yt),ae.parameter(ve[1],Yt),Hr=Yt[ve[0]],Yi=Yt[ve[1]])}else{if("wrapS"in mt){var we=mt.wrapS;ae.parameter(we,Yt),Hr=Yt[we]}if("wrapT"in mt){var ke=mt.wrapT;ae.parameter(ke,Yt),Yi=Yt[ke]}}if(Me.wrapS=Hr,Me.wrapT=Yi,"anisotropic"in mt){var ct=mt.anisotropic;ae(typeof ct=="number"&&ct>=1&&ct<=Fe.maxAnisotropic,"aniso samples must be between 1 and "),Me.anisotropic=mt.anisotropic}if("mipmap"in mt){var ht=!1;switch(typeof mt.mipmap){case"string":ae.parameter(mt.mipmap,qt,"invalid mipmap hint"),Me.mipmapHint=qt[mt.mipmap],Me.genMipmaps=!0,ht=!0;break;case"boolean":ht=Me.genMipmaps=mt.mipmap;break;case"object":ae(Array.isArray(mt.mipmap),"invalid mipmap type"),Me.genMipmaps=!1,ht=!0;break;default:ae.raise("invalid mipmap type")}ht&&!("min"in mt)&&(Me.minFilter=st)}}function qa(Me,mt){Z.texParameteri(mt,IL,Me.minFilter),Z.texParameteri(mt,RL,Me.magFilter),Z.texParameteri(mt,tv,Me.wrapS),Z.texParameteri(mt,Au,Me.wrapT),xe.ext_texture_filter_anisotropic&&Z.texParameteri(mt,vS,Me.anisotropic),Me.genMipmaps&&(Z.hint(Kr,Me.mipmapHint),Z.generateMipmap(mt))}var Oa=0,ho={},ba=Fe.maxTextureUnits,ca=Array(ba).map(function(){return null});function Or(Me){Ft.call(this),this.mipmask=0,this.internalformat=Qu,this.id=Oa++,this.refCount=1,this.target=Me,this.texture=Z.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new qi,xt.profile&&(this.stats={size:0})}function So(Me){Z.activeTexture(Ch),Z.bindTexture(Me.target,Me.texture)}function Ei(){var Me=ca[0];Me?Z.bindTexture(Me.target,Me.texture):Z.bindTexture(Zc,null)}function lr(Me){var mt=Me.texture;ae(mt,"must not double destroy texture");var lt=Me.unit,On=Me.target;lt>=0&&(Z.activeTexture(Ch+lt),Z.bindTexture(On,null),ca[lt]=null),Z.deleteTexture(mt),Me.texture=null,Me.params=null,Me.pixels=null,Me.refCount=0,delete ho[Me.id],Ze.textureCount--}r(Or.prototype,{bind:function(){var Me=this;Me.bindCount+=1;var mt=Me.unit;if(mt<0){for(var lt=0;lt<ba;++lt){var On=ca[lt];if(On){if(On.bindCount>0)continue;On.unit=-1}ca[lt]=Me,mt=lt;break}mt>=ba&&ae.raise("insufficient number of texture units"),xt.profile&&Ze.maxTextureUnits<mt+1&&(Ze.maxTextureUnits=mt+1),Me.unit=mt,Z.activeTexture(Ch+mt),Z.bindTexture(Me.target,Me.texture)}return mt},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&lr(this)}});function jr(Me,mt){var lt=new Or(Zc);ho[lt.id]=lt,Ze.textureCount++;function On(ve,we){var ke=lt.texInfo;qi.call(ke);var ct=Gr();return typeof ve=="number"?typeof we=="number"?Nr(ct,ve|0,we|0):Nr(ct,ve|0,ve|0):ve?(ae.type(ve,"object","invalid arguments to regl.texture"),Fa(ke,ve),fi(ct,ve)):Nr(ct,1,1),ke.genMipmaps&&(ct.mipmask=(ct.width<<1)-1),lt.mipmask=ct.mipmask,yn(lt,ct),ae.texture2D(ke,ct,Fe),lt.internalformat=ct.internalformat,On.width=ct.width,On.height=ct.height,So(lt),Xa(ct,Zc),qa(ke,Zc),Ei(),Ta(ct),xt.profile&&(lt.stats.size=m_(lt.internalformat,lt.type,ct.width,ct.height,ke.genMipmaps,!1)),On.format=Jt[lt.internalformat],On.type=_n[lt.type],On.mag=zt[ke.magFilter],On.min=In[ke.minFilter],On.wrapS=Gt[ke.wrapS],On.wrapT=Gt[ke.wrapT],On}function Hr(ve,we,ke,ct){ae(!!ve,"must specify image data");var ht=we|0,Ve=ke|0,Ye=ct|0,Ke=jn();return yn(Ke,lt),Ke.width=0,Ke.height=0,Kt(Ke,ve),Ke.width=Ke.width||(lt.width>>Ye)-ht,Ke.height=Ke.height||(lt.height>>Ye)-Ve,ae(lt.type===Ke.type&&lt.format===Ke.format&&lt.internalformat===Ke.internalformat,"incompatible format for texture.subimage"),ae(ht>=0&&Ve>=0&&ht+Ke.width<=lt.width&&Ve+Ke.height<=lt.height,"texture.subimage write out of bounds"),ae(lt.mipmask&1<<Ye,"missing mipmap data"),ae(Ke.data||Ke.element||Ke.needsCopy,"missing image data"),So(lt),xr(Ke,Zc,ht,Ve,Ye),Ei(),$r(Ke),On}function Yi(ve,we){var ke=ve|0,ct=we|0||ke;if(ke===lt.width&&ct===lt.height)return On;On.width=lt.width=ke,On.height=lt.height=ct,So(lt);for(var ht=0;lt.mipmask>>ht;++ht){var Ve=ke>>ht,Ye=ct>>ht;if(!Ve||!Ye)break;Z.texImage2D(Zc,ht,lt.format,Ve,Ye,0,lt.format,lt.type,null)}return Ei(),xt.profile&&(lt.stats.size=m_(lt.internalformat,lt.type,ke,ct,!1,!1)),On}return On(Me,mt),On.subimage=Hr,On.resize=Yi,On._reglType="texture2d",On._texture=lt,xt.profile&&(On.stats=lt.stats),On.destroy=function(){lt.decRef()},On}function ai(Me,mt,lt,On,Hr,Yi){var ve=new Or(Yw);ho[ve.id]=ve,Ze.cubeCount++;var we=new Array(6);function ke(Ve,Ye,Ke,Oe,$e,Se){var je,ft=ve.texInfo;for(qi.call(ft),je=0;je<6;++je)we[je]=Gr();if(typeof Ve=="number"||!Ve){var Et=Ve|0||1;for(je=0;je<6;++je)Nr(we[je],Et,Et)}else if(typeof Ve=="object")if(Ye)fi(we[0],Ve),fi(we[1],Ye),fi(we[2],Ke),fi(we[3],Oe),fi(we[4],$e),fi(we[5],Se);else if(Fa(ft,Ve),Zn(ve,Ve),"faces"in Ve){var Wt=Ve.faces;for(ae(Array.isArray(Wt)&&Wt.length===6,"cube faces must be a length 6 array"),je=0;je<6;++je)ae(typeof Wt[je]=="object"&&!!Wt[je],"invalid input for cube map face"),yn(we[je],ve),fi(we[je],Wt[je])}else for(je=0;je<6;++je)fi(we[je],Ve);else ae.raise("invalid arguments to cube map");for(yn(ve,we[0]),Fe.npotTextureCube||ae(a_(ve.width)&&a_(ve.height),"your browser does not support non power or two texture dimensions"),ft.genMipmaps?ve.mipmask=(we[0].width<<1)-1:ve.mipmask=we[0].mipmask,ae.textureCube(ve,ft,we,Fe),ve.internalformat=we[0].internalformat,ke.width=we[0].width,ke.height=we[0].height,So(ve),je=0;je<6;++je)Xa(we[je],om+je);for(qa(ft,Yw),Ei(),xt.profile&&(ve.stats.size=m_(ve.internalformat,ve.type,ke.width,ke.height,ft.genMipmaps,!0)),ke.format=Jt[ve.internalformat],ke.type=_n[ve.type],ke.mag=zt[ft.magFilter],ke.min=In[ft.minFilter],ke.wrapS=Gt[ft.wrapS],ke.wrapT=Gt[ft.wrapT],je=0;je<6;++je)Ta(we[je]);return ke}function ct(Ve,Ye,Ke,Oe,$e){ae(!!Ye,"must specify image data"),ae(typeof Ve=="number"&&Ve===(Ve|0)&&Ve>=0&&Ve<6,"invalid face");var Se=Ke|0,je=Oe|0,ft=$e|0,Et=jn();return yn(Et,ve),Et.width=0,Et.height=0,Kt(Et,Ye),Et.width=Et.width||(ve.width>>ft)-Se,Et.height=Et.height||(ve.height>>ft)-je,ae(ve.type===Et.type&&ve.format===Et.format&&ve.internalformat===Et.internalformat,"incompatible format for texture.subimage"),ae(Se>=0&&je>=0&&Se+Et.width<=ve.width&&je+Et.height<=ve.height,"texture.subimage write out of bounds"),ae(ve.mipmask&1<<ft,"missing mipmap data"),ae(Et.data||Et.element||Et.needsCopy,"missing image data"),So(ve),xr(Et,om+Ve,Se,je,ft),Ei(),$r(Et),ke}function ht(Ve){var Ye=Ve|0;if(Ye!==ve.width){ke.width=ve.width=Ye,ke.height=ve.height=Ye,So(ve);for(var Ke=0;Ke<6;++Ke)for(var Oe=0;ve.mipmask>>Oe;++Oe)Z.texImage2D(om+Ke,Oe,ve.format,Ye>>Oe,Ye>>Oe,0,ve.format,ve.type,null);return Ei(),xt.profile&&(ve.stats.size=m_(ve.internalformat,ve.type,ke.width,ke.height,!1,!0)),ke}}return ke(Me,mt,lt,On,Hr,Yi),ke.subimage=ct,ke.resize=ht,ke._reglType="textureCube",ke._texture=ve,xt.profile&&(ke.stats=ve.stats),ke.destroy=function(){ve.decRef()},ke}function Ua(){for(var Me=0;Me<ba;++Me)Z.activeTexture(Ch+Me),Z.bindTexture(Zc,null),ca[Me]=null;Ae(ho).forEach(lr),Ze.cubeCount=0,Ze.textureCount=0}xt.profile&&(Ze.getTotalTextureSize=function(){var Me=0;return Object.keys(ho).forEach(function(mt){Me+=ho[mt].stats.size}),Me});function nc(){for(var Me=0;Me<ba;++Me){var mt=ca[Me];mt&&(mt.bindCount=0,mt.unit=-1,ca[Me]=null)}Ae(ho).forEach(function(lt){lt.texture=Z.createTexture(),Z.bindTexture(lt.target,lt.texture);for(var On=0;On<32;++On)if(lt.mipmask&1<<On)if(lt.target===Zc)Z.texImage2D(Zc,On,lt.internalformat,lt.width>>On,lt.height>>On,0,lt.internalformat,lt.type,null);else for(var Hr=0;Hr<6;++Hr)Z.texImage2D(om+Hr,On,lt.internalformat,lt.width>>On,lt.height>>On,0,lt.internalformat,lt.type,null);qa(lt.texInfo,lt.target)})}return{create2D:jr,createCube:ai,clear:Ua,getTexture:function(Me){return null},restore:nc}}var _a=36161,xo=32854,iC=32855,aC=36194,bS=33189,oC=36168,y_=34041,iv=35907,__=34836,Oh=34842,av=34843,_s=[];_s[xo]=2,_s[iC]=2,_s[aC]=2,_s[bS]=2,_s[oC]=1,_s[y_]=4,_s[iv]=4,_s[__]=16,_s[Oh]=8,_s[av]=6;function pm(Z,xe,Fe){return _s[Z]*xe*Fe}var ov=function(Z,xe,Fe,vt,Ot){var Ze={rgba4:xo,rgb565:aC,"rgb5 a1":iC,depth:bS,stencil:oC,"depth stencil":y_};xe.ext_srgb&&(Ze.srgba=iv),xe.ext_color_buffer_half_float&&(Ze.rgba16f=Oh,Ze.rgb16f=av),xe.webgl_color_buffer_float&&(Ze.rgba32f=__);var xt=[];Object.keys(Ze).forEach(function(jt){var un=Ze[jt];xt[un]=jt});var qt=0,Yt={};function mn(jt){this.id=qt++,this.refCount=1,this.renderbuffer=jt,this.format=xo,this.width=0,this.height=0,Ot.profile&&(this.stats={size:0})}mn.prototype.decRef=function(){--this.refCount<=0&&tn(this)};function tn(jt){var un=jt.renderbuffer;ae(un,"must not double destroy renderbuffer"),Z.bindRenderbuffer(_a,null),Z.deleteRenderbuffer(un),jt.renderbuffer=null,jt.refCount=0,delete Yt[jt.id],vt.renderbufferCount--}function ln(jt,un){var it=new mn(Z.createRenderbuffer());Yt[it.id]=it,vt.renderbufferCount++;function bt(_n,zt){var In=0,Gt=0,cn=xo;if(typeof _n=="object"&&_n){var Ft=_n;if("shape"in Ft){var yn=Ft.shape;ae(Array.isArray(yn)&&yn.length>=2,"invalid renderbuffer shape"),In=yn[0]|0,Gt=yn[1]|0}else"radius"in Ft&&(In=Gt=Ft.radius|0),"width"in Ft&&(In=Ft.width|0),"height"in Ft&&(Gt=Ft.height|0);"format"in Ft&&(ae.parameter(Ft.format,Ze,"invalid renderbuffer format"),cn=Ze[Ft.format])}else typeof _n=="number"?(In=_n|0,typeof zt=="number"?Gt=zt|0:Gt=In):_n?ae.raise("invalid arguments to renderbuffer constructor"):In=Gt=1;if(ae(In>0&&Gt>0&&In<=Fe.maxRenderbufferSize&&Gt<=Fe.maxRenderbufferSize,"invalid renderbuffer size"),!(In===it.width&&Gt===it.height&&cn===it.format))return bt.width=it.width=In,bt.height=it.height=Gt,it.format=cn,Z.bindRenderbuffer(_a,it.renderbuffer),Z.renderbufferStorage(_a,cn,In,Gt),ae(Z.getError()===0,"invalid render buffer format"),Ot.profile&&(it.stats.size=pm(it.format,it.width,it.height)),bt.format=xt[it.format],bt}function Jt(_n,zt){var In=_n|0,Gt=zt|0||In;return In===it.width&&Gt===it.height||(ae(In>0&&Gt>0&&In<=Fe.maxRenderbufferSize&&Gt<=Fe.maxRenderbufferSize,"invalid renderbuffer size"),bt.width=it.width=In,bt.height=it.height=Gt,Z.bindRenderbuffer(_a,it.renderbuffer),Z.renderbufferStorage(_a,it.format,In,Gt),ae(Z.getError()===0,"invalid render buffer format"),Ot.profile&&(it.stats.size=pm(it.format,it.width,it.height))),bt}return bt(jt,un),bt.resize=Jt,bt._reglType="renderbuffer",bt._renderbuffer=it,Ot.profile&&(bt.stats=it.stats),bt.destroy=function(){it.decRef()},bt}Ot.profile&&(vt.getTotalRenderbufferSize=function(){var jt=0;return Object.keys(Yt).forEach(function(un){jt+=Yt[un].stats.size}),jt});function Qt(){Ae(Yt).forEach(function(jt){jt.renderbuffer=Z.createRenderbuffer(),Z.bindRenderbuffer(_a,jt.renderbuffer),Z.renderbufferStorage(_a,jt.format,jt.width,jt.height)}),Z.bindRenderbuffer(_a,null)}return{create:ln,clear:function(){Ae(Yt).forEach(tn)},restore:Qt}},tf=36160,xS=36161,Dh=3553,b_=34069,sC=36064,vm=36096,sv=36128,SS=33306,ye=36053,lv=36054,x_=36055,Wl=36057,Ai=36061,NL=36193,BL=5121,kL=5126,gd=6407,lC=6408,FL=6402,UL=[gd,lC],AS=[];AS[lC]=4,AS[gd]=3;var S_=[];S_[BL]=1,S_[kL]=4,S_[NL]=2;var nf=32854,VL=32855,zL=36194,$L=33189,HL=36168,uC=34041,rf=35907,WL=34836,GL=34842,jL=34843,YL=[nf,VL,zL,rf,GL,jL,WL],uv={};uv[ye]="complete",uv[lv]="incomplete attachment",uv[Wl]="incomplete dimensions",uv[x_]="incomplete, missing attachment",uv[Ai]="unsupported";function Ph(Z,xe,Fe,vt,Ot,Ze){var xt={cur:null,next:null,dirty:!1,setFBO:null},qt=["rgba"],Yt=["rgba4","rgb565","rgb5 a1"];xe.ext_srgb&&Yt.push("srgba"),xe.ext_color_buffer_half_float&&Yt.push("rgba16f","rgb16f"),xe.webgl_color_buffer_float&&Yt.push("rgba32f");var mn=["uint8"];xe.oes_texture_half_float&&mn.push("half float","float16"),xe.oes_texture_float&&mn.push("float","float32");function tn(bn,Kt,Dt){this.target=bn,this.texture=Kt,this.renderbuffer=Dt;var xr=0,Zr=0;Kt?(xr=Kt.width,Zr=Kt.height):Dt&&(xr=Dt.width,Zr=Dt.height),this.width=xr,this.height=Zr}function ln(bn){bn&&(bn.texture&&bn.texture._texture.decRef(),bn.renderbuffer&&bn.renderbuffer._renderbuffer.decRef())}function Qt(bn,Kt,Dt){if(bn)if(bn.texture){var xr=bn.texture._texture,Zr=Math.max(1,xr.width),jn=Math.max(1,xr.height);ae(Zr===Kt&&jn===Dt,"inconsistent width/height for supplied texture"),xr.refCount+=1}else{var $r=bn.renderbuffer._renderbuffer;ae($r.width===Kt&&$r.height===Dt,"inconsistent width/height for renderbuffer"),$r.refCount+=1}}function jt(bn,Kt){Kt&&(Kt.texture?Z.framebufferTexture2D(tf,bn,Kt.target,Kt.texture._texture.texture,0):Z.framebufferRenderbuffer(tf,bn,xS,Kt.renderbuffer._renderbuffer.renderbuffer))}function un(bn){var Kt=Dh,Dt=null,xr=null,Zr=bn;typeof bn=="object"&&(Zr=bn.data,"target"in bn&&(Kt=bn.target|0)),ae.type(Zr,"function","invalid attachment data");var jn=Zr._reglType;return jn==="texture2d"?(Dt=Zr,ae(Kt===Dh)):jn==="textureCube"?(Dt=Zr,ae(Kt>=b_&&Kt<b_+6,"invalid cube map target")):jn==="renderbuffer"?(xr=Zr,Kt=xS):ae.raise("invalid regl object for attachment"),new tn(Kt,Dt,xr)}function it(bn,Kt,Dt,xr,Zr){if(Dt){var jn=vt.create2D({width:bn,height:Kt,format:xr,type:Zr});return jn._texture.refCount=0,new tn(Dh,jn,null)}else{var $r=Ot.create({width:bn,height:Kt,format:xr});return $r._renderbuffer.refCount=0,new tn(xS,null,$r)}}function bt(bn){return bn&&(bn.texture||bn.renderbuffer)}function Jt(bn,Kt,Dt){bn&&(bn.texture?bn.texture.resize(Kt,Dt):bn.renderbuffer&&bn.renderbuffer.resize(Kt,Dt),bn.width=Kt,bn.height=Dt)}var _n=0,zt={};function In(){this.id=_n++,zt[this.id]=this,this.framebuffer=Z.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Gt(bn){bn.colorAttachments.forEach(ln),ln(bn.depthAttachment),ln(bn.stencilAttachment),ln(bn.depthStencilAttachment)}function cn(bn){var Kt=bn.framebuffer;ae(Kt,"must not double destroy framebuffer"),Z.deleteFramebuffer(Kt),bn.framebuffer=null,Ze.framebufferCount--,delete zt[bn.id]}function Ft(bn){var Kt;Z.bindFramebuffer(tf,bn.framebuffer);var Dt=bn.colorAttachments;for(Kt=0;Kt<Dt.length;++Kt)jt(sC+Kt,Dt[Kt]);for(Kt=Dt.length;Kt<Fe.maxColorAttachments;++Kt)Z.framebufferTexture2D(tf,sC+Kt,Dh,null,0);Z.framebufferTexture2D(tf,SS,Dh,null,0),Z.framebufferTexture2D(tf,vm,Dh,null,0),Z.framebufferTexture2D(tf,sv,Dh,null,0),jt(vm,bn.depthAttachment),jt(sv,bn.stencilAttachment),jt(SS,bn.depthStencilAttachment);var xr=Z.checkFramebufferStatus(tf);!Z.isContextLost()&&xr!==ye&&ae.raise("framebuffer configuration not supported, status = "+uv[xr]),Z.bindFramebuffer(tf,xt.next?xt.next.framebuffer:null),xt.cur=xt.next,Z.getError()}function yn(bn,Kt){var Dt=new In;Ze.framebufferCount++;function xr(jn,$r){var Cr;ae(xt.next!==Dt,"can not update framebuffer which is currently in use");var Nr=0,fi=0,Xa=!0,Ka=!0,Gr=null,Ta=!0,qi="rgba",Fa="uint8",qa=1,Oa=null,ho=null,ba=null,ca=!1;if(typeof jn=="number")Nr=jn|0,fi=$r|0||Nr;else if(!jn)Nr=fi=1;else{ae.type(jn,"object","invalid arguments for framebuffer");var Or=jn;if("shape"in Or){var So=Or.shape;ae(Array.isArray(So)&&So.length>=2,"invalid shape for framebuffer"),Nr=So[0],fi=So[1]}else"radius"in Or&&(Nr=fi=Or.radius),"width"in Or&&(Nr=Or.width),"height"in Or&&(fi=Or.height);("color"in Or||"colors"in Or)&&(Gr=Or.color||Or.colors,Array.isArray(Gr)&&ae(Gr.length===1||xe.webgl_draw_buffers,"multiple render targets not supported")),Gr||("colorCount"in Or&&(qa=Or.colorCount|0,ae(qa>0,"invalid color buffer count")),"colorTexture"in Or&&(Ta=!!Or.colorTexture,qi="rgba4"),"colorType"in Or&&(Fa=Or.colorType,Ta?(ae(xe.oes_texture_float||!(Fa==="float"||Fa==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ae(xe.oes_texture_half_float||!(Fa==="half float"||Fa==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Fa==="half float"||Fa==="float16"?(ae(xe.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),qi="rgba16f"):(Fa==="float"||Fa==="float32")&&(ae(xe.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),qi="rgba32f"),ae.oneOf(Fa,mn,"invalid color type")),"colorFormat"in Or&&(qi=Or.colorFormat,qt.indexOf(qi)>=0?Ta=!0:Yt.indexOf(qi)>=0?Ta=!1:Ta?ae.oneOf(Or.colorFormat,qt,"invalid color format for texture"):ae.oneOf(Or.colorFormat,Yt,"invalid color format for renderbuffer"))),("depthTexture"in Or||"depthStencilTexture"in Or)&&(ca=!!(Or.depthTexture||Or.depthStencilTexture),ae(!ca||xe.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Or&&(typeof Or.depth=="boolean"?Xa=Or.depth:(Oa=Or.depth,Ka=!1)),"stencil"in Or&&(typeof Or.stencil=="boolean"?Ka=Or.stencil:(ho=Or.stencil,Xa=!1)),"depthStencil"in Or&&(typeof Or.depthStencil=="boolean"?Xa=Ka=Or.depthStencil:(ba=Or.depthStencil,Xa=!1,Ka=!1))}var Ei=null,lr=null,jr=null,ai=null;if(Array.isArray(Gr))Ei=Gr.map(un);else if(Gr)Ei=[un(Gr)];else for(Ei=new Array(qa),Cr=0;Cr<qa;++Cr)Ei[Cr]=it(Nr,fi,Ta,qi,Fa);ae(xe.webgl_draw_buffers||Ei.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ae(Ei.length<=Fe.maxColorAttachments,"too many color attachments, not supported"),Nr=Nr||Ei[0].width,fi=fi||Ei[0].height,Oa?lr=un(Oa):Xa&&!Ka&&(lr=it(Nr,fi,ca,"depth","uint32")),ho?jr=un(ho):Ka&&!Xa&&(jr=it(Nr,fi,!1,"stencil","uint8")),ba?ai=un(ba):!Oa&&!ho&&Ka&&Xa&&(ai=it(Nr,fi,ca,"depth stencil","depth stencil")),ae(!!Oa+!!ho+!!ba<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Ua=null;for(Cr=0;Cr<Ei.length;++Cr)if(Qt(Ei[Cr],Nr,fi),ae(!Ei[Cr]||Ei[Cr].texture&&UL.indexOf(Ei[Cr].texture._texture.format)>=0||Ei[Cr].renderbuffer&&YL.indexOf(Ei[Cr].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Cr+" is invalid"),Ei[Cr]&&Ei[Cr].texture){var nc=AS[Ei[Cr].texture._texture.format]*S_[Ei[Cr].texture._texture.type];Ua===null?Ua=nc:ae(Ua===nc,"all color attachments much have the same number of bits per pixel.")}return Qt(lr,Nr,fi),ae(!lr||lr.texture&&lr.texture._texture.format===FL||lr.renderbuffer&&lr.renderbuffer._renderbuffer.format===$L,"invalid depth attachment for framebuffer object"),Qt(jr,Nr,fi),ae(!jr||jr.renderbuffer&&jr.renderbuffer._renderbuffer.format===HL,"invalid stencil attachment for framebuffer object"),Qt(ai,Nr,fi),ae(!ai||ai.texture&&ai.texture._texture.format===uC||ai.renderbuffer&&ai.renderbuffer._renderbuffer.format===uC,"invalid depth-stencil attachment for framebuffer object"),Gt(Dt),Dt.width=Nr,Dt.height=fi,Dt.colorAttachments=Ei,Dt.depthAttachment=lr,Dt.stencilAttachment=jr,Dt.depthStencilAttachment=ai,xr.color=Ei.map(bt),xr.depth=bt(lr),xr.stencil=bt(jr),xr.depthStencil=bt(ai),xr.width=Dt.width,xr.height=Dt.height,Ft(Dt),xr}function Zr(jn,$r){ae(xt.next!==Dt,"can not resize a framebuffer which is currently in use");var Cr=Math.max(jn|0,1),Nr=Math.max($r|0||Cr,1);if(Cr===Dt.width&&Nr===Dt.height)return xr;for(var fi=Dt.colorAttachments,Xa=0;Xa<fi.length;++Xa)Jt(fi[Xa],Cr,Nr);return Jt(Dt.depthAttachment,Cr,Nr),Jt(Dt.stencilAttachment,Cr,Nr),Jt(Dt.depthStencilAttachment,Cr,Nr),Dt.width=xr.width=Cr,Dt.height=xr.height=Nr,Ft(Dt),xr}return xr(bn,Kt),r(xr,{resize:Zr,_reglType:"framebuffer",_framebuffer:Dt,destroy:function(){cn(Dt),Gt(Dt)},use:function(jn){xt.setFBO({framebuffer:xr},jn)}})}function Zn(bn){var Kt=Array(6);function Dt(Zr){var jn;ae(Kt.indexOf(xt.next)<0,"can not update framebuffer which is currently in use");var $r={color:null},Cr=0,Nr=null,fi="rgba",Xa="uint8",Ka=1;if(typeof Zr=="number")Cr=Zr|0;else if(!Zr)Cr=1;else{ae.type(Zr,"object","invalid arguments for framebuffer");var Gr=Zr;if("shape"in Gr){var Ta=Gr.shape;ae(Array.isArray(Ta)&&Ta.length>=2,"invalid shape for framebuffer"),ae(Ta[0]===Ta[1],"cube framebuffer must be square"),Cr=Ta[0]}else"radius"in Gr&&(Cr=Gr.radius|0),"width"in Gr?(Cr=Gr.width|0,"height"in Gr&&ae(Gr.height===Cr,"must be square")):"height"in Gr&&(Cr=Gr.height|0);("color"in Gr||"colors"in Gr)&&(Nr=Gr.color||Gr.colors,Array.isArray(Nr)&&ae(Nr.length===1||xe.webgl_draw_buffers,"multiple render targets not supported")),Nr||("colorCount"in Gr&&(Ka=Gr.colorCount|0,ae(Ka>0,"invalid color buffer count")),"colorType"in Gr&&(ae.oneOf(Gr.colorType,mn,"invalid color type"),Xa=Gr.colorType),"colorFormat"in Gr&&(fi=Gr.colorFormat,ae.oneOf(Gr.colorFormat,qt,"invalid color format for texture"))),"depth"in Gr&&($r.depth=Gr.depth),"stencil"in Gr&&($r.stencil=Gr.stencil),"depthStencil"in Gr&&($r.depthStencil=Gr.depthStencil)}var qi;if(Nr)if(Array.isArray(Nr))for(qi=[],jn=0;jn<Nr.length;++jn)qi[jn]=Nr[jn];else qi=[Nr];else{qi=Array(Ka);var Fa={radius:Cr,format:fi,type:Xa};for(jn=0;jn<Ka;++jn)qi[jn]=vt.createCube(Fa)}for($r.color=Array(qi.length),jn=0;jn<qi.length;++jn){var qa=qi[jn];ae(typeof qa=="function"&&qa._reglType==="textureCube","invalid cube map"),Cr=Cr||qa.width,ae(qa.width===Cr&&qa.height===Cr,"invalid cube map shape"),$r.color[jn]={target:b_,data:qi[jn]}}for(jn=0;jn<6;++jn){for(var Oa=0;Oa<qi.length;++Oa)$r.color[Oa].target=b_+jn;jn>0&&($r.depth=Kt[0].depth,$r.stencil=Kt[0].stencil,$r.depthStencil=Kt[0].depthStencil),Kt[jn]?Kt[jn]($r):Kt[jn]=yn($r)}return r(Dt,{width:Cr,height:Cr,color:qi})}function xr(Zr){var jn,$r=Zr|0;if(ae($r>0&&$r<=Fe.maxCubeMapSize,"invalid radius for cube fbo"),$r===Dt.width)return Dt;var Cr=Dt.color;for(jn=0;jn<Cr.length;++jn)Cr[jn].resize($r);for(jn=0;jn<6;++jn)Kt[jn].resize($r);return Dt.width=Dt.height=$r,Dt}return Dt(bn),r(Dt,{faces:Kt,resize:xr,_reglType:"framebufferCube",destroy:function(){Kt.forEach(function(Zr){Zr.destroy()})}})}function Ar(){xt.cur=null,xt.next=null,xt.dirty=!0,Ae(zt).forEach(function(bn){bn.framebuffer=Z.createFramebuffer(),Ft(bn)})}return r(xt,{getFramebuffer:function(bn){if(typeof bn=="function"&&bn._reglType==="framebuffer"){var Kt=bn._framebuffer;if(Kt instanceof In)return Kt}return null},create:yn,createCube:Zn,clear:function(){Ae(zt).forEach(cn)},restore:Ar})}var XL=5126,cC=34962;function ll(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=XL,this.offset=0,this.stride=0,this.divisor=0}function KL(Z,xe,Fe,vt,Ot){for(var Ze=Fe.maxAttributes,xt=new Array(Ze),qt=0;qt<Ze;++qt)xt[qt]=new ll;var Yt=0,mn={},tn={Record:ll,scope:{},state:xt,currentVAO:null,targetVAO:null,restore:Qt()?zt:function(){},createVAO:In,getVAO:un,destroyBuffer:ln,setVAO:Qt()?it:bt,clear:Qt()?Jt:function(){}};function ln(Gt){for(var cn=0;cn<xt.length;++cn){var Ft=xt[cn];Ft.buffer===Gt&&(Z.disableVertexAttribArray(cn),Ft.buffer=null)}}function Qt(){return xe.oes_vertex_array_object}function jt(){return xe.angle_instanced_arrays}function un(Gt){return typeof Gt=="function"&&Gt._vao?Gt._vao:null}function it(Gt){if(Gt!==tn.currentVAO){var cn=Qt();Gt?cn.bindVertexArrayOES(Gt.vao):cn.bindVertexArrayOES(null),tn.currentVAO=Gt}}function bt(Gt){if(Gt!==tn.currentVAO){if(Gt)Gt.bindAttrs();else for(var cn=jt(),Ft=0;Ft<xt.length;++Ft){var yn=xt[Ft];yn.buffer?(Z.enableVertexAttribArray(Ft),Z.vertexAttribPointer(Ft,yn.size,yn.type,yn.normalized,yn.stride,yn.offfset),cn&&cn.vertexAttribDivisorANGLE(Ft,yn.divisor)):(Z.disableVertexAttribArray(Ft),Z.vertexAttrib4f(Ft,yn.x,yn.y,yn.z,yn.w))}tn.currentVAO=Gt}}function Jt(){Ae(mn).forEach(function(Gt){Gt.destroy()})}function _n(){this.id=++Yt,this.attributes=[];var Gt=Qt();Gt?this.vao=Gt.createVertexArrayOES():this.vao=null,mn[this.id]=this,this.buffers=[]}_n.prototype.bindAttrs=function(){for(var Gt=jt(),cn=this.attributes,Ft=0;Ft<cn.length;++Ft){var yn=cn[Ft];yn.buffer?(Z.enableVertexAttribArray(Ft),Z.bindBuffer(cC,yn.buffer.buffer),Z.vertexAttribPointer(Ft,yn.size,yn.type,yn.normalized,yn.stride,yn.offset),Gt&&Gt.vertexAttribDivisorANGLE(Ft,yn.divisor)):(Z.disableVertexAttribArray(Ft),Z.vertexAttrib4f(Ft,yn.x,yn.y,yn.z,yn.w))}for(var Zn=cn.length;Zn<Ze;++Zn)Z.disableVertexAttribArray(Zn)},_n.prototype.refresh=function(){var Gt=Qt();Gt&&(Gt.bindVertexArrayOES(this.vao),this.bindAttrs(),tn.currentVAO=this)},_n.prototype.destroy=function(){if(this.vao){var Gt=Qt();this===tn.currentVAO&&(tn.currentVAO=null,Gt.bindVertexArrayOES(null)),Gt.deleteVertexArrayOES(this.vao),this.vao=null}mn[this.id]&&(delete mn[this.id],vt.vaoCount-=1)};function zt(){var Gt=Qt();Gt&&Ae(mn).forEach(function(cn){cn.refresh()})}function In(Gt){var cn=new _n;vt.vaoCount+=1;function Ft(yn){ae(Array.isArray(yn),"arguments to vertex array constructor must be an array"),ae(yn.length<Ze,"too many attributes"),ae(yn.length>0,"must specify at least one attribute");for(var Zn=0;Zn<cn.buffers.length;++Zn)cn.buffers[Zn].destroy();cn.buffers.length=0;var Ar=cn.attributes;Ar.length=yn.length;for(var bn=0;bn<yn.length;++bn){var Kt=yn[bn],Dt=Ar[bn]=new ll;if(Array.isArray(Kt)||n(Kt)||ge(Kt)){var xr=Ot.create(Kt,cC,!1,!0);Dt.buffer=Ot.getBuffer(xr),Dt.size=Dt.buffer.dimension|0,Dt.normalized=!1,Dt.type=Dt.buffer.dtype,Dt.offset=0,Dt.stride=0,Dt.divisor=0,Dt.state=1,cn.buffers.push(xr)}else Ot.getBuffer(Kt)?(Dt.buffer=Ot.getBuffer(Kt),Dt.size=Dt.buffer.dimension|0,Dt.normalized=!1,Dt.type=Dt.buffer.dtype,Dt.offset=0,Dt.stride=0,Dt.divisor=0,Dt.state=1):Ot.getBuffer(Kt.buffer)?(Dt.buffer=Ot.getBuffer(Kt.buffer),Dt.size=(+Kt.size||Dt.buffer.dimension)|0,Dt.normalized=!!Kt.normalized||!1,"type"in Kt?(ae.parameter(Kt.type,qc,"invalid buffer type"),Dt.type=qc[Kt.type]):Dt.type=Dt.buffer.dtype,Dt.offset=(Kt.offset||0)|0,Dt.stride=(Kt.stride||0)|0,Dt.divisor=(Kt.divisor||0)|0,Dt.state=1,ae(Dt.size>=1&&Dt.size<=4,"size must be between 1 and 4"),ae(Dt.offset>=0,"invalid offset"),ae(Dt.stride>=0&&Dt.stride<=255,"stride must be between 0 and 255"),ae(Dt.divisor>=0,"divisor must be positive"),ae(!Dt.divisor||!!xe.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Kt?(ae(bn>0,"first attribute must not be a constant"),Dt.x=+Kt.x||0,Dt.y=+Kt.y||0,Dt.z=+Kt.z||0,Dt.w=+Kt.w||0,Dt.state=2):ae(!1,"invalid attribute spec for location "+bn)}return cn.refresh(),Ft}return Ft.destroy=function(){cn.destroy()},Ft._vao=cn,Ft._reglType="vao",Ft(Gt)}return tn}var fC=35632,qL=35633,ZL=35718,QL=35721;function dC(Z,xe,Fe,vt){var Ot={},Ze={};function xt(it,bt,Jt,_n){this.name=it,this.id=bt,this.location=Jt,this.info=_n}function qt(it,bt){for(var Jt=0;Jt<it.length;++Jt)if(it[Jt].id===bt.id){it[Jt].location=bt.location;return}it.push(bt)}function Yt(it,bt,Jt){var _n=it===fC?Ot:Ze,zt=_n[bt];if(!zt){var In=xe.str(bt);zt=Z.createShader(it),Z.shaderSource(zt,In),Z.compileShader(zt),ae.shaderError(Z,zt,In,it,Jt),_n[bt]=zt}return zt}var mn={},tn=[],ln=0;function Qt(it,bt){this.id=ln++,this.fragId=it,this.vertId=bt,this.program=null,this.uniforms=[],this.attributes=[],vt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function jt(it,bt,Jt){var _n,zt,In=Yt(fC,it.fragId),Gt=Yt(qL,it.vertId),cn=it.program=Z.createProgram();if(Z.attachShader(cn,In),Z.attachShader(cn,Gt),Jt)for(_n=0;_n<Jt.length;++_n){var Ft=Jt[_n];Z.bindAttribLocation(cn,Ft[0],Ft[1])}Z.linkProgram(cn),ae.linkError(Z,cn,xe.str(it.fragId),xe.str(it.vertId),bt);var yn=Z.getProgramParameter(cn,ZL);vt.profile&&(it.stats.uniformsCount=yn);var Zn=it.uniforms;for(_n=0;_n<yn;++_n)if(zt=Z.getActiveUniform(cn,_n),zt)if(zt.size>1)for(var Ar=0;Ar<zt.size;++Ar){var bn=zt.name.replace("[0]","["+Ar+"]");qt(Zn,new xt(bn,xe.id(bn),Z.getUniformLocation(cn,bn),zt))}else qt(Zn,new xt(zt.name,xe.id(zt.name),Z.getUniformLocation(cn,zt.name),zt));var Kt=Z.getProgramParameter(cn,QL);vt.profile&&(it.stats.attributesCount=Kt);var Dt=it.attributes;for(_n=0;_n<Kt;++_n)zt=Z.getActiveAttrib(cn,_n),zt&&qt(Dt,new xt(zt.name,xe.id(zt.name),Z.getAttribLocation(cn,zt.name),zt))}vt.profile&&(Fe.getMaxUniformsCount=function(){var it=0;return tn.forEach(function(bt){bt.stats.uniformsCount>it&&(it=bt.stats.uniformsCount)}),it},Fe.getMaxAttributesCount=function(){var it=0;return tn.forEach(function(bt){bt.stats.attributesCount>it&&(it=bt.stats.attributesCount)}),it});function un(){Ot={},Ze={};for(var it=0;it<tn.length;++it)jt(tn[it],null,tn[it].attributes.map(function(bt){return[bt.location,bt.name]}))}return{clear:function(){var it=Z.deleteShader.bind(Z);Ae(Ot).forEach(it),Ot={},Ae(Ze).forEach(it),Ze={},tn.forEach(function(bt){Z.deleteProgram(bt.program)}),tn.length=0,mn={},Fe.shaderCount=0},program:function(it,bt,Jt,_n){ae.command(it>=0,"missing vertex shader",Jt),ae.command(bt>=0,"missing fragment shader",Jt);var zt=mn[bt];zt||(zt=mn[bt]={});var In=zt[it];if(In&&!_n)return In;var Gt=new Qt(bt,it);return Fe.shaderCount++,jt(Gt,Jt,_n),In||(zt[it]=Gt),tn.push(Gt),Gt},restore:un,shader:Yt,frag:-1,vert:-1}}var hC=6408,gm=5121,JL=3333,cv=5126;function mm(Z,xe,Fe,vt,Ot,Ze,xt){function qt(tn){var ln;xe.next===null?(ae(Ot.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),ln=gm):(ae(xe.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),ln=xe.next.colorAttachments[0].texture._texture.type,Ze.oes_texture_float?(ae(ln===gm||ln===cv,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),ln===cv&&ae(xt.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ae(ln===gm,"Reading from a framebuffer is only allowed for the type 'uint8'"));var Qt=0,jt=0,un=vt.framebufferWidth,it=vt.framebufferHeight,bt=null;n(tn)?bt=tn:tn&&(ae.type(tn,"object","invalid arguments to regl.read()"),Qt=tn.x|0,jt=tn.y|0,ae(Qt>=0&&Qt<vt.framebufferWidth,"invalid x offset for regl.read"),ae(jt>=0&&jt<vt.framebufferHeight,"invalid y offset for regl.read"),un=(tn.width||vt.framebufferWidth-Qt)|0,it=(tn.height||vt.framebufferHeight-jt)|0,bt=tn.data||null),bt&&(ln===gm?ae(bt instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):ln===cv&&ae(bt instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ae(un>0&&un+Qt<=vt.framebufferWidth,"invalid width for read pixels"),ae(it>0&&it+jt<=vt.framebufferHeight,"invalid height for read pixels"),Fe();var Jt=un*it*4;return bt||(ln===gm?bt=new Uint8Array(Jt):ln===cv&&(bt=bt||new Float32Array(Jt))),ae.isTypedArray(bt,"data buffer for regl.read() must be a typedarray"),ae(bt.byteLength>=Jt,"data buffer for regl.read() too small"),Z.pixelStorei(JL,4),Z.readPixels(Qt,jt,un,it,hC,ln,bt),bt}function Yt(tn){var ln;return xe.setFBO({framebuffer:tn.framebuffer},function(){ln=qt(tn)}),ln}function mn(tn){return!tn||!("framebuffer"in tn)?qt(tn):Yt(tn)}return mn}function af(Z){return Array.prototype.slice.call(Z)}function fv(Z){return af(Z).join("")}function pC(){var Z=0,xe=[],Fe=[];function vt(ln){for(var Qt=0;Qt<Fe.length;++Qt)if(Fe[Qt]===ln)return xe[Qt];var jt="g"+Z++;return xe.push(jt),Fe.push(ln),jt}function Ot(){var ln=[];function Qt(){ln.push.apply(ln,af(arguments))}var jt=[];function un(){var it="v"+Z++;return jt.push(it),arguments.length>0&&(ln.push(it,"="),ln.push.apply(ln,af(arguments)),ln.push(";")),it}return r(Qt,{def:un,toString:function(){return fv([jt.length>0?"var "+jt.join(",")+";":"",fv(ln)])}})}function Ze(){var ln=Ot(),Qt=Ot(),jt=ln.toString,un=Qt.toString;function it(bt,Jt){Qt(bt,Jt,"=",ln.def(bt,Jt),";")}return r(function(){ln.apply(ln,af(arguments))},{def:ln.def,entry:ln,exit:Qt,save:it,set:function(bt,Jt,_n){it(bt,Jt),ln(bt,Jt,"=",_n,";")},toString:function(){return jt()+un()}})}function xt(){var ln=fv(arguments),Qt=Ze(),jt=Ze(),un=Qt.toString,it=jt.toString;return r(Qt,{then:function(){return Qt.apply(Qt,af(arguments)),this},else:function(){return jt.apply(jt,af(arguments)),this},toString:function(){var bt=it();return bt&&(bt="else{"+bt+"}"),fv(["if(",ln,"){",un(),"}",bt])}})}var qt=Ot(),Yt={};function mn(ln,Qt){var jt=[];function un(){var zt="a"+jt.length;return jt.push(zt),zt}Qt=Qt||0;for(var it=0;it<Qt;++it)un();var bt=Ze(),Jt=bt.toString,_n=Yt[ln]=r(bt,{arg:un,toString:function(){return fv(["function(",jt.join(),"){",Jt(),"}"])}});return _n}function tn(){var ln=['"use strict";',qt,"return {"];Object.keys(Yt).forEach(function(un){ln.push('"',un,'":',Yt[un].toString(),",")}),ln.push("}");var Qt=fv(ln).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),jt=Function.apply(null,xe.concat(Qt));return jt.apply(null,Fe)}return{global:qt,link:vt,block:Ot,proc:mn,scope:Ze,cond:xt,compile:tn}}var dv="xyzw".split(""),ec=5121,md=1,of=2,ul=0,vC=1,ES=2,TS=3,Lh=4,sf="dither",wS="blend.enable",gC="blend.color",hv="blend.equation",CS="blend.func",RS="depth.enable",Bo="depth.func",A_="depth.range",IS="depth.mask",Gl="colorMask",E_="cull.enable",ym="cull.face",lf="frontFace",T_="lineWidth",ls="polygonOffset.enable",_m="polygonOffset.offset",mC="sample.alpha",yC="sample.enable",MS="sample.coverage",w_="stencil.enable",_C="stencil.mask",Nh="stencil.func",C_="stencil.opFront",bm="stencil.opBack",bC="scissor.enable",yd="scissor.box",uf="viewport",xm="profile",cf="framebuffer",pv="vert",Sm="frag",Bh="elements",kh="primitive",_d="count",vv="offset",R_="instances",Fh="vao",I_="Width",M_="Height",Uh=cf+I_,ff=cf+M_,e4=uf+I_,xC=uf+M_,OS="drawingBuffer",SC=OS+I_,DS=OS+M_,t4=[CS,hv,Nh,C_,bm,MS,uf,yd,_m],bd=34962,AC=34963,PS=35632,n4=35633,O_=3553,ci=34067,r4=2884,i4=3042,Am=3024,EC=2960,a4=2929,o4=3089,jl=32823,s4=32926,D_=32928,Em=5126,Tm=35664,wm=35665,us=35666,tc=5124,gv=35667,Cm=35668,Vh=35669,P_=35670,mv=35671,Rm=35672,yv=35673,zh=35674,Yl=35675,Im=35676,Xl=35678,_v=35680,LS=4,$h=1028,Hh=1029,TC=2304,NS=2305,wC=32775,CC=32776,l4=519,df=7680,BS=0,bs=1,Eu=32774,u4=513,RC=36160,L_=36064,xs={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},kS=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Wh={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},xd={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},FS={frag:PS,vert:n4},Sd={cw:TC,ccw:NS};function Ad(Z){return Array.isArray(Z)||n(Z)||ge(Z)}function IC(Z){return Z.sort(function(xe,Fe){return xe===uf?-1:Fe===uf?1:xe<Fe?-1:1})}function Vs(Z,xe,Fe,vt){this.thisDep=Z,this.contextDep=xe,this.propDep=Fe,this.append=vt}function hf(Z){return Z&&!(Z.thisDep||Z.contextDep||Z.propDep)}function Ea(Z){return new Vs(!1,!1,!1,Z)}function Ss(Z,xe){var Fe=Z.type;if(Fe===ul){var vt=Z.data.length;return new Vs(!0,vt>=1,vt>=2,xe)}else if(Fe===Lh){var Ot=Z.data;return new Vs(Ot.thisDep,Ot.contextDep,Ot.propDep,xe)}else return new Vs(Fe===TS,Fe===ES,Fe===vC,xe)}var Mm=new Vs(!1,!1,!1,function(){});function US(Z,xe,Fe,vt,Ot,Ze,xt,qt,Yt,mn,tn,ln,Qt,jt,un){var it=mn.Record,bt={add:32774,subtract:32778,"reverse subtract":32779};Fe.ext_blend_minmax&&(bt.min=wC,bt.max=CC);var Jt=Fe.angle_instanced_arrays,_n=Fe.webgl_draw_buffers,zt={dirty:!0,profile:un.profile},In={},Gt=[],cn={},Ft={};function yn(ve){return ve.replace(".","_")}function Zn(ve,we,ke){var ct=yn(ve);Gt.push(ve),In[ct]=zt[ct]=!!ke,cn[ct]=we}function Ar(ve,we,ke){var ct=yn(ve);Gt.push(ve),Array.isArray(ke)?(zt[ct]=ke.slice(),In[ct]=ke.slice()):zt[ct]=In[ct]=ke,Ft[ct]=we}Zn(sf,Am),Zn(wS,i4),Ar(gC,"blendColor",[0,0,0,0]),Ar(hv,"blendEquationSeparate",[Eu,Eu]),Ar(CS,"blendFuncSeparate",[bs,BS,bs,BS]),Zn(RS,a4,!0),Ar(Bo,"depthFunc",u4),Ar(A_,"depthRange",[0,1]),Ar(IS,"depthMask",!0),Ar(Gl,Gl,[!0,!0,!0,!0]),Zn(E_,r4),Ar(ym,"cullFace",Hh),Ar(lf,lf,NS),Ar(T_,T_,1),Zn(ls,jl),Ar(_m,"polygonOffset",[0,0]),Zn(mC,s4),Zn(yC,D_),Ar(MS,"sampleCoverage",[1,!1]),Zn(w_,EC),Ar(_C,"stencilMask",-1),Ar(Nh,"stencilFunc",[l4,0,-1]),Ar(C_,"stencilOpSeparate",[$h,df,df,df]),Ar(bm,"stencilOpSeparate",[Hh,df,df,df]),Zn(bC,o4),Ar(yd,"scissor",[0,0,Z.drawingBufferWidth,Z.drawingBufferHeight]),Ar(uf,uf,[0,0,Z.drawingBufferWidth,Z.drawingBufferHeight]);var bn={gl:Z,context:Qt,strings:xe,next:In,current:zt,draw:ln,elements:Ze,buffer:Ot,shader:tn,attributes:mn.state,vao:mn,uniforms:Yt,framebuffer:qt,extensions:Fe,timer:jt,isBufferArgs:Ad},Kt={primTypes:Wo,compareFuncs:Wh,blendFuncs:xs,blendEquations:bt,stencilOps:xd,glTypes:qc,orientationType:Sd};ae.optional(function(){bn.isArrayLike=ka}),_n&&(Kt.backBuffer=[Hh],Kt.drawBuffer=ji(vt.maxDrawbuffers,function(ve){return ve===0?[0]:ji(ve,function(we){return L_+we})}));var Dt=0;function xr(){var ve=pC(),we=ve.link,ke=ve.global;ve.id=Dt++,ve.batchId="0";var ct=we(bn),ht=ve.shared={props:"a0"};Object.keys(bn).forEach(function($e){ht[$e]=ke.def(ct,".",$e)}),ae.optional(function(){ve.CHECK=we(ae),ve.commandStr=ae.guessCommand(),ve.command=we(ve.commandStr),ve.assert=function($e,Se,je){$e("if(!(",Se,"))",this.CHECK,".commandRaise(",we(je),",",this.command,");")},Kt.invalidBlendCombinations=kS});var Ve=ve.next={},Ye=ve.current={};Object.keys(Ft).forEach(function($e){Array.isArray(zt[$e])&&(Ve[$e]=ke.def(ht.next,".",$e),Ye[$e]=ke.def(ht.current,".",$e))});var Ke=ve.constants={};Object.keys(Kt).forEach(function($e){Ke[$e]=ke.def(JSON.stringify(Kt[$e]))}),ve.invoke=function($e,Se){switch(Se.type){case ul:var je=["this",ht.context,ht.props,ve.batchId];return $e.def(we(Se.data),".call(",je.slice(0,Math.max(Se.data.length+1,4)),")");case vC:return $e.def(ht.props,Se.data);case ES:return $e.def(ht.context,Se.data);case TS:return $e.def("this",Se.data);case Lh:return Se.data.append(ve,$e),Se.data.ref}},ve.attribCache={};var Oe={};return ve.scopeAttrib=function($e){var Se=xe.id($e);if(Se in Oe)return Oe[Se];var je=mn.scope[Se];je||(je=mn.scope[Se]=new it);var ft=Oe[Se]=we(je);return ft},ve}function Zr(ve){var we=ve.static,ke=ve.dynamic,ct;if(xm in we){var ht=!!we[xm];ct=Ea(function(Ye,Ke){return ht}),ct.enable=ht}else if(xm in ke){var Ve=ke[xm];ct=Ss(Ve,function(Ye,Ke){return Ye.invoke(Ke,Ve)})}return ct}function jn(ve,we){var ke=ve.static,ct=ve.dynamic;if(cf in ke){var ht=ke[cf];return ht?(ht=qt.getFramebuffer(ht),ae.command(ht,"invalid framebuffer object"),Ea(function(Ye,Ke){var Oe=Ye.link(ht),$e=Ye.shared;Ke.set($e.framebuffer,".next",Oe);var Se=$e.context;return Ke.set(Se,"."+Uh,Oe+".width"),Ke.set(Se,"."+ff,Oe+".height"),Oe})):Ea(function(Ye,Ke){var Oe=Ye.shared;Ke.set(Oe.framebuffer,".next","null");var $e=Oe.context;return Ke.set($e,"."+Uh,$e+"."+SC),Ke.set($e,"."+ff,$e+"."+DS),"null"})}else if(cf in ct){var Ve=ct[cf];return Ss(Ve,function(Ye,Ke){var Oe=Ye.invoke(Ke,Ve),$e=Ye.shared,Se=$e.framebuffer,je=Ke.def(Se,".getFramebuffer(",Oe,")");ae.optional(function(){Ye.assert(Ke,"!"+Oe+"||"+je,"invalid framebuffer object")}),Ke.set(Se,".next",je);var ft=$e.context;return Ke.set(ft,"."+Uh,je+"?"+je+".width:"+ft+"."+SC),Ke.set(ft,"."+ff,je+"?"+je+".height:"+ft+"."+DS),je})}else return null}function $r(ve,we,ke){var ct=ve.static,ht=ve.dynamic;function Ve(Oe){if(Oe in ct){var $e=ct[Oe];ae.commandType($e,"object","invalid "+Oe,ke.commandStr);var Se=!0,je=$e.x|0,ft=$e.y|0,Et,Wt;return"width"in $e?(Et=$e.width|0,ae.command(Et>=0,"invalid "+Oe,ke.commandStr)):Se=!1,"height"in $e?(Wt=$e.height|0,ae.command(Wt>=0,"invalid "+Oe,ke.commandStr)):Se=!1,new Vs(!Se&&we&&we.thisDep,!Se&&we&&we.contextDep,!Se&&we&&we.propDep,function(Xn,Dr){var Bn=Xn.shared.context,fr=Et;"width"in $e||(fr=Dr.def(Bn,".",Uh,"-",je));var Er=Wt;return"height"in $e||(Er=Dr.def(Bn,".",ff,"-",ft)),[je,ft,fr,Er]})}else if(Oe in ht){var Nt=ht[Oe],Zt=Ss(Nt,function(Xn,Dr){var Bn=Xn.invoke(Dr,Nt);ae.optional(function(){Xn.assert(Dr,Bn+"&&typeof "+Bn+'==="object"',"invalid "+Oe)});var fr=Xn.shared.context,Er=Dr.def(Bn,".x|0"),bi=Dr.def(Bn,".y|0"),Za=Dr.def('"width" in ',Bn,"?",Bn,".width|0:","(",fr,".",Uh,"-",Er,")"),Tu=Dr.def('"height" in ',Bn,"?",Bn,".height|0:","(",fr,".",ff,"-",bi,")");return ae.optional(function(){Xn.assert(Dr,Za+">=0&&"+Tu+">=0","invalid "+Oe)}),[Er,bi,Za,Tu]});return we&&(Zt.thisDep=Zt.thisDep||we.thisDep,Zt.contextDep=Zt.contextDep||we.contextDep,Zt.propDep=Zt.propDep||we.propDep),Zt}else return we?new Vs(we.thisDep,we.contextDep,we.propDep,function(Xn,Dr){var Bn=Xn.shared.context;return[0,0,Dr.def(Bn,".",Uh),Dr.def(Bn,".",ff)]}):null}var Ye=Ve(uf);if(Ye){var Ke=Ye;Ye=new Vs(Ye.thisDep,Ye.contextDep,Ye.propDep,function(Oe,$e){var Se=Ke.append(Oe,$e),je=Oe.shared.context;return $e.set(je,"."+e4,Se[2]),$e.set(je,"."+xC,Se[3]),Se})}return{viewport:Ye,scissor_box:Ve(yd)}}function Cr(ve,we){var ke=ve.static,ct=typeof ke[Sm]=="string"&&typeof ke[pv]=="string";if(ct){if(Object.keys(we.dynamic).length>0)return null;var ht=we.static,Ve=Object.keys(ht);if(Ve.length>0&&typeof ht[Ve[0]]=="number"){for(var Ye=[],Ke=0;Ke<Ve.length;++Ke)ae(typeof ht[Ve[Ke]]=="number","must specify all vertex attribute locations when using vaos"),Ye.push([ht[Ve[Ke]]|0,Ve[Ke]]);return Ye}}return null}function Nr(ve,we,ke){var ct=ve.static,ht=ve.dynamic;function Ve(Se){if(Se in ct){var je=xe.id(ct[Se]);ae.optional(function(){tn.shader(FS[Se],je,ae.guessCommand())});var ft=Ea(function(){return je});return ft.id=je,ft}else if(Se in ht){var Et=ht[Se];return Ss(Et,function(Wt,Nt){var Zt=Wt.invoke(Nt,Et),Xn=Nt.def(Wt.shared.strings,".id(",Zt,")");return ae.optional(function(){Nt(Wt.shared.shader,".shader(",FS[Se],",",Xn,",",Wt.command,");")}),Xn})}return null}var Ye=Ve(Sm),Ke=Ve(pv),Oe=null,$e;return hf(Ye)&&hf(Ke)?(Oe=tn.program(Ke.id,Ye.id,null,ke),$e=Ea(function(Se,je){return Se.link(Oe)})):$e=new Vs(Ye&&Ye.thisDep||Ke&&Ke.thisDep,Ye&&Ye.contextDep||Ke&&Ke.contextDep,Ye&&Ye.propDep||Ke&&Ke.propDep,function(Se,je){var ft=Se.shared.shader,Et;Ye?Et=Ye.append(Se,je):Et=je.def(ft,".",Sm);var Wt;Ke?Wt=Ke.append(Se,je):Wt=je.def(ft,".",pv);var Nt=ft+".program("+Wt+","+Et;return ae.optional(function(){Nt+=","+Se.command}),je.def(Nt+")")}),{frag:Ye,vert:Ke,progVar:$e,program:Oe}}function fi(ve,we){var ke=ve.static,ct=ve.dynamic;function ht(){if(Bh in ke){var Se=ke[Bh];Ad(Se)?Se=Ze.getElements(Ze.create(Se,!0)):Se&&(Se=Ze.getElements(Se),ae.command(Se,"invalid elements",we.commandStr));var je=Ea(function(Et,Wt){if(Se){var Nt=Et.link(Se);return Et.ELEMENTS=Nt,Nt}return Et.ELEMENTS=null,null});return je.value=Se,je}else if(Bh in ct){var ft=ct[Bh];return Ss(ft,function(Et,Wt){var Nt=Et.shared,Zt=Nt.isBufferArgs,Xn=Nt.elements,Dr=Et.invoke(Wt,ft),Bn=Wt.def("null"),fr=Wt.def(Zt,"(",Dr,")"),Er=Et.cond(fr).then(Bn,"=",Xn,".createStream(",Dr,");").else(Bn,"=",Xn,".getElements(",Dr,");");return ae.optional(function(){Et.assert(Er.else,"!"+Dr+"||"+Bn,"invalid elements")}),Wt.entry(Er),Wt.exit(Et.cond(fr).then(Xn,".destroyStream(",Bn,");")),Et.ELEMENTS=Bn,Bn})}return null}var Ve=ht();function Ye(){if(kh in ke){var Se=ke[kh];return ae.commandParameter(Se,Wo,"invalid primitve",we.commandStr),Ea(function(ft,Et){return Wo[Se]})}else if(kh in ct){var je=ct[kh];return Ss(je,function(ft,Et){var Wt=ft.constants.primTypes,Nt=ft.invoke(Et,je);return ae.optional(function(){ft.assert(Et,Nt+" in "+Wt,"invalid primitive, must be one of "+Object.keys(Wo))}),Et.def(Wt,"[",Nt,"]")})}else if(Ve)return hf(Ve)?Ve.value?Ea(function(ft,Et){return Et.def(ft.ELEMENTS,".primType")}):Ea(function(){return LS}):new Vs(Ve.thisDep,Ve.contextDep,Ve.propDep,function(ft,Et){var Wt=ft.ELEMENTS;return Et.def(Wt,"?",Wt,".primType:",LS)});return null}function Ke(Se,je){if(Se in ke){var ft=ke[Se]|0;return ae.command(!je||ft>=0,"invalid "+Se,we.commandStr),Ea(function(Wt,Nt){return je&&(Wt.OFFSET=ft),ft})}else if(Se in ct){var Et=ct[Se];return Ss(Et,function(Wt,Nt){var Zt=Wt.invoke(Nt,Et);return je&&(Wt.OFFSET=Zt,ae.optional(function(){Wt.assert(Nt,Zt+">=0","invalid "+Se)})),Zt})}else if(je&&Ve)return Ea(function(Wt,Nt){return Wt.OFFSET="0",0});return null}var Oe=Ke(vv,!0);function $e(){if(_d in ke){var Se=ke[_d]|0;return ae.command(typeof Se=="number"&&Se>=0,"invalid vertex count",we.commandStr),Ea(function(){return Se})}else if(_d in ct){var je=ct[_d];return Ss(je,function(Wt,Nt){var Zt=Wt.invoke(Nt,je);return ae.optional(function(){Wt.assert(Nt,"typeof "+Zt+'==="number"&&'+Zt+">=0&&"+Zt+"===("+Zt+"|0)","invalid vertex count")}),Zt})}else if(Ve)if(hf(Ve)){if(Ve)return Oe?new Vs(Oe.thisDep,Oe.contextDep,Oe.propDep,function(Wt,Nt){var Zt=Nt.def(Wt.ELEMENTS,".vertCount-",Wt.OFFSET);return ae.optional(function(){Wt.assert(Nt,Zt+">=0","invalid vertex offset/element buffer too small")}),Zt}):Ea(function(Wt,Nt){return Nt.def(Wt.ELEMENTS,".vertCount")});var ft=Ea(function(){return-1});return ae.optional(function(){ft.MISSING=!0}),ft}else{var Et=new Vs(Ve.thisDep||Oe.thisDep,Ve.contextDep||Oe.contextDep,Ve.propDep||Oe.propDep,function(Wt,Nt){var Zt=Wt.ELEMENTS;return Wt.OFFSET?Nt.def(Zt,"?",Zt,".vertCount-",Wt.OFFSET,":-1"):Nt.def(Zt,"?",Zt,".vertCount:-1")});return ae.optional(function(){Et.DYNAMIC=!0}),Et}return null}return{elements:Ve,primitive:Ye(),count:$e(),instances:Ke(R_,!1),offset:Oe}}function Xa(ve,we){var ke=ve.static,ct=ve.dynamic,ht={};return Gt.forEach(function(Ve){var Ye=yn(Ve);function Ke(Oe,$e){if(Ve in ke){var Se=Oe(ke[Ve]);ht[Ye]=Ea(function(){return Se})}else if(Ve in ct){var je=ct[Ve];ht[Ye]=Ss(je,function(ft,Et){return $e(ft,Et,ft.invoke(Et,je))})}}switch(Ve){case E_:case wS:case sf:case w_:case RS:case bC:case ls:case mC:case yC:case IS:return Ke(function(Oe){return ae.commandType(Oe,"boolean",Ve,we.commandStr),Oe},function(Oe,$e,Se){return ae.optional(function(){Oe.assert($e,"typeof "+Se+'==="boolean"',"invalid flag "+Ve,Oe.commandStr)}),Se});case Bo:return Ke(function(Oe){return ae.commandParameter(Oe,Wh,"invalid "+Ve,we.commandStr),Wh[Oe]},function(Oe,$e,Se){var je=Oe.constants.compareFuncs;return ae.optional(function(){Oe.assert($e,Se+" in "+je,"invalid "+Ve+", must be one of "+Object.keys(Wh))}),$e.def(je,"[",Se,"]")});case A_:return Ke(function(Oe){return ae.command(ka(Oe)&&Oe.length===2&&typeof Oe[0]=="number"&&typeof Oe[1]=="number"&&Oe[0]<=Oe[1],"depth range is 2d array",we.commandStr),Oe},function(Oe,$e,Se){ae.optional(function(){Oe.assert($e,Oe.shared.isArrayLike+"("+Se+")&&"+Se+".length===2&&typeof "+Se+'[0]==="number"&&typeof '+Se+'[1]==="number"&&'+Se+"[0]<="+Se+"[1]","depth range must be a 2d array")});var je=$e.def("+",Se,"[0]"),ft=$e.def("+",Se,"[1]");return[je,ft]});case CS:return Ke(function(Oe){ae.commandType(Oe,"object","blend.func",we.commandStr);var $e="srcRGB"in Oe?Oe.srcRGB:Oe.src,Se="srcAlpha"in Oe?Oe.srcAlpha:Oe.src,je="dstRGB"in Oe?Oe.dstRGB:Oe.dst,ft="dstAlpha"in Oe?Oe.dstAlpha:Oe.dst;return ae.commandParameter($e,xs,Ye+".srcRGB",we.commandStr),ae.commandParameter(Se,xs,Ye+".srcAlpha",we.commandStr),ae.commandParameter(je,xs,Ye+".dstRGB",we.commandStr),ae.commandParameter(ft,xs,Ye+".dstAlpha",we.commandStr),ae.command(kS.indexOf($e+", "+je)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+$e+", "+je+")",we.commandStr),[xs[$e],xs[je],xs[Se],xs[ft]]},function(Oe,$e,Se){var je=Oe.constants.blendFuncs;ae.optional(function(){Oe.assert($e,Se+"&&typeof "+Se+'==="object"',"invalid blend func, must be an object")});function ft(Bn,fr){var Er=$e.def('"',Bn,fr,'" in ',Se,"?",Se,".",Bn,fr,":",Se,".",Bn);return ae.optional(function(){Oe.assert($e,Er+" in "+je,"invalid "+Ve+"."+Bn+fr+", must be one of "+Object.keys(xs))}),Er}var Et=ft("src","RGB"),Wt=ft("dst","RGB");ae.optional(function(){var Bn=Oe.constants.invalidBlendCombinations;Oe.assert($e,Bn+".indexOf("+Et+'+", "+'+Wt+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Nt=$e.def(je,"[",Et,"]"),Zt=$e.def(je,"[",ft("src","Alpha"),"]"),Xn=$e.def(je,"[",Wt,"]"),Dr=$e.def(je,"[",ft("dst","Alpha"),"]");return[Nt,Xn,Zt,Dr]});case hv:return Ke(function(Oe){if(typeof Oe=="string")return ae.commandParameter(Oe,bt,"invalid "+Ve,we.commandStr),[bt[Oe],bt[Oe]];if(typeof Oe=="object")return ae.commandParameter(Oe.rgb,bt,Ve+".rgb",we.commandStr),ae.commandParameter(Oe.alpha,bt,Ve+".alpha",we.commandStr),[bt[Oe.rgb],bt[Oe.alpha]];ae.commandRaise("invalid blend.equation",we.commandStr)},function(Oe,$e,Se){var je=Oe.constants.blendEquations,ft=$e.def(),Et=$e.def(),Wt=Oe.cond("typeof ",Se,'==="string"');return ae.optional(function(){function Nt(Zt,Xn,Dr){Oe.assert(Zt,Dr+" in "+je,"invalid "+Xn+", must be one of "+Object.keys(bt))}Nt(Wt.then,Ve,Se),Oe.assert(Wt.else,Se+"&&typeof "+Se+'==="object"',"invalid "+Ve),Nt(Wt.else,Ve+".rgb",Se+".rgb"),Nt(Wt.else,Ve+".alpha",Se+".alpha")}),Wt.then(ft,"=",Et,"=",je,"[",Se,"];"),Wt.else(ft,"=",je,"[",Se,".rgb];",Et,"=",je,"[",Se,".alpha];"),$e(Wt),[ft,Et]});case gC:return Ke(function(Oe){return ae.command(ka(Oe)&&Oe.length===4,"blend.color must be a 4d array",we.commandStr),ji(4,function($e){return+Oe[$e]})},function(Oe,$e,Se){return ae.optional(function(){Oe.assert($e,Oe.shared.isArrayLike+"("+Se+")&&"+Se+".length===4","blend.color must be a 4d array")}),ji(4,function(je){return $e.def("+",Se,"[",je,"]")})});case _C:return Ke(function(Oe){return ae.commandType(Oe,"number",Ye,we.commandStr),Oe|0},function(Oe,$e,Se){return ae.optional(function(){Oe.assert($e,"typeof "+Se+'==="number"',"invalid stencil.mask")}),$e.def(Se,"|0")});case Nh:return Ke(function(Oe){ae.commandType(Oe,"object",Ye,we.commandStr);var $e=Oe.cmp||"keep",Se=Oe.ref||0,je="mask"in Oe?Oe.mask:-1;return ae.commandParameter($e,Wh,Ve+".cmp",we.commandStr),ae.commandType(Se,"number",Ve+".ref",we.commandStr),ae.commandType(je,"number",Ve+".mask",we.commandStr),[Wh[$e],Se,je]},function(Oe,$e,Se){var je=Oe.constants.compareFuncs;ae.optional(function(){function Nt(){Oe.assert($e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Nt(Se+"&&typeof ",Se,'==="object"'),Nt('!("cmp" in ',Se,")||(",Se,".cmp in ",je,")")});var ft=$e.def('"cmp" in ',Se,"?",je,"[",Se,".cmp]",":",df),Et=$e.def(Se,".ref|0"),Wt=$e.def('"mask" in ',Se,"?",Se,".mask|0:-1");return[ft,Et,Wt]});case C_:case bm:return Ke(function(Oe){ae.commandType(Oe,"object",Ye,we.commandStr);var $e=Oe.fail||"keep",Se=Oe.zfail||"keep",je=Oe.zpass||"keep";return ae.commandParameter($e,xd,Ve+".fail",we.commandStr),ae.commandParameter(Se,xd,Ve+".zfail",we.commandStr),ae.commandParameter(je,xd,Ve+".zpass",we.commandStr),[Ve===bm?Hh:$h,xd[$e],xd[Se],xd[je]]},function(Oe,$e,Se){var je=Oe.constants.stencilOps;ae.optional(function(){Oe.assert($e,Se+"&&typeof "+Se+'==="object"',"invalid "+Ve)});function ft(Et){return ae.optional(function(){Oe.assert($e,'!("'+Et+'" in '+Se+")||("+Se+"."+Et+" in "+je+")","invalid "+Ve+"."+Et+", must be one of "+Object.keys(xd))}),$e.def('"',Et,'" in ',Se,"?",je,"[",Se,".",Et,"]:",df)}return[Ve===bm?Hh:$h,ft("fail"),ft("zfail"),ft("zpass")]});case _m:return Ke(function(Oe){ae.commandType(Oe,"object",Ye,we.commandStr);var $e=Oe.factor|0,Se=Oe.units|0;return ae.commandType($e,"number",Ye+".factor",we.commandStr),ae.commandType(Se,"number",Ye+".units",we.commandStr),[$e,Se]},function(Oe,$e,Se){ae.optional(function(){Oe.assert($e,Se+"&&typeof "+Se+'==="object"',"invalid "+Ve)});var je=$e.def(Se,".factor|0"),ft=$e.def(Se,".units|0");return[je,ft]});case ym:return Ke(function(Oe){var $e=0;return Oe==="front"?$e=$h:Oe==="back"&&($e=Hh),ae.command(!!$e,Ye,we.commandStr),$e},function(Oe,$e,Se){return ae.optional(function(){Oe.assert($e,Se+'==="front"||'+Se+'==="back"',"invalid cull.face")}),$e.def(Se,'==="front"?',$h,":",Hh)});case T_:return Ke(function(Oe){return ae.command(typeof Oe=="number"&&Oe>=vt.lineWidthDims[0]&&Oe<=vt.lineWidthDims[1],"invalid line width, must be a positive number between "+vt.lineWidthDims[0]+" and "+vt.lineWidthDims[1],we.commandStr),Oe},function(Oe,$e,Se){return ae.optional(function(){Oe.assert($e,"typeof "+Se+'==="number"&&'+Se+">="+vt.lineWidthDims[0]+"&&"+Se+"<="+vt.lineWidthDims[1],"invalid line width")}),Se});case lf:return Ke(function(Oe){return ae.commandParameter(Oe,Sd,Ye,we.commandStr),Sd[Oe]},function(Oe,$e,Se){return ae.optional(function(){Oe.assert($e,Se+'==="cw"||'+Se+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),$e.def(Se+'==="cw"?'+TC+":"+NS)});case Gl:return Ke(function(Oe){return ae.command(ka(Oe)&&Oe.length===4,"color.mask must be length 4 array",we.commandStr),Oe.map(function($e){return!!$e})},function(Oe,$e,Se){return ae.optional(function(){Oe.assert($e,Oe.shared.isArrayLike+"("+Se+")&&"+Se+".length===4","invalid color.mask")}),ji(4,function(je){return"!!"+Se+"["+je+"]"})});case MS:return Ke(function(Oe){ae.command(typeof Oe=="object"&&Oe,Ye,we.commandStr);var $e="value"in Oe?Oe.value:1,Se=!!Oe.invert;return ae.command(typeof $e=="number"&&$e>=0&&$e<=1,"sample.coverage.value must be a number between 0 and 1",we.commandStr),[$e,Se]},function(Oe,$e,Se){ae.optional(function(){Oe.assert($e,Se+"&&typeof "+Se+'==="object"',"invalid sample.coverage")});var je=$e.def('"value" in ',Se,"?+",Se,".value:1"),ft=$e.def("!!",Se,".invert");return[je,ft]})}}),ht}function Ka(ve,we){var ke=ve.static,ct=ve.dynamic,ht={};return Object.keys(ke).forEach(function(Ve){var Ye=ke[Ve],Ke;if(typeof Ye=="number"||typeof Ye=="boolean")Ke=Ea(function(){return Ye});else if(typeof Ye=="function"){var Oe=Ye._reglType;Oe==="texture2d"||Oe==="textureCube"?Ke=Ea(function($e){return $e.link(Ye)}):Oe==="framebuffer"||Oe==="framebufferCube"?(ae.command(Ye.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Ve+'"',we.commandStr),Ke=Ea(function($e){return $e.link(Ye.color[0])})):ae.commandRaise('invalid data for uniform "'+Ve+'"',we.commandStr)}else ka(Ye)?Ke=Ea(function($e){var Se=$e.global.def("[",ji(Ye.length,function(je){return ae.command(typeof Ye[je]=="number"||typeof Ye[je]=="boolean","invalid uniform "+Ve,$e.commandStr),Ye[je]}),"]");return Se}):ae.commandRaise('invalid or missing data for uniform "'+Ve+'"',we.commandStr);Ke.value=Ye,ht[Ve]=Ke}),Object.keys(ct).forEach(function(Ve){var Ye=ct[Ve];ht[Ve]=Ss(Ye,function(Ke,Oe){return Ke.invoke(Oe,Ye)})}),ht}function Gr(ve,we){var ke=ve.static,ct=ve.dynamic,ht={};return Object.keys(ke).forEach(function(Ve){var Ye=ke[Ve],Ke=xe.id(Ve),Oe=new it;if(Ad(Ye))Oe.state=md,Oe.buffer=Ot.getBuffer(Ot.create(Ye,bd,!1,!0)),Oe.type=0;else{var $e=Ot.getBuffer(Ye);if($e)Oe.state=md,Oe.buffer=$e,Oe.type=0;else if(ae.command(typeof Ye=="object"&&Ye,"invalid data for attribute "+Ve,we.commandStr),"constant"in Ye){var Se=Ye.constant;Oe.buffer="null",Oe.state=of,typeof Se=="number"?Oe.x=Se:(ae.command(ka(Se)&&Se.length>0&&Se.length<=4,"invalid constant for attribute "+Ve,we.commandStr),dv.forEach(function(Xn,Dr){Dr<Se.length&&(Oe[Xn]=Se[Dr])}))}else{Ad(Ye.buffer)?$e=Ot.getBuffer(Ot.create(Ye.buffer,bd,!1,!0)):$e=Ot.getBuffer(Ye.buffer),ae.command(!!$e,'missing buffer for attribute "'+Ve+'"',we.commandStr);var je=Ye.offset|0;ae.command(je>=0,'invalid offset for attribute "'+Ve+'"',we.commandStr);var ft=Ye.stride|0;ae.command(ft>=0&&ft<256,'invalid stride for attribute "'+Ve+'", must be integer betweeen [0, 255]',we.commandStr);var Et=Ye.size|0;ae.command(!("size"in Ye)||Et>0&&Et<=4,'invalid size for attribute "'+Ve+'", must be 1,2,3,4',we.commandStr);var Wt=!!Ye.normalized,Nt=0;"type"in Ye&&(ae.commandParameter(Ye.type,qc,"invalid type for attribute "+Ve,we.commandStr),Nt=qc[Ye.type]);var Zt=Ye.divisor|0;"divisor"in Ye&&(ae.command(Zt===0||Jt,'cannot specify divisor for attribute "'+Ve+'", instancing not supported',we.commandStr),ae.command(Zt>=0,'invalid divisor for attribute "'+Ve+'"',we.commandStr)),ae.optional(function(){var Xn=we.commandStr,Dr=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Ye).forEach(function(Bn){ae.command(Dr.indexOf(Bn)>=0,'unknown parameter "'+Bn+'" for attribute pointer "'+Ve+'" (valid parameters are '+Dr+")",Xn)})}),Oe.buffer=$e,Oe.state=md,Oe.size=Et,Oe.normalized=Wt,Oe.type=Nt||$e.dtype,Oe.offset=je,Oe.stride=ft,Oe.divisor=Zt}}ht[Ve]=Ea(function(Xn,Dr){var Bn=Xn.attribCache;if(Ke in Bn)return Bn[Ke];var fr={isStream:!1};return Object.keys(Oe).forEach(function(Er){fr[Er]=Oe[Er]}),Oe.buffer&&(fr.buffer=Xn.link(Oe.buffer),fr.type=fr.type||fr.buffer+".dtype"),Bn[Ke]=fr,fr})}),Object.keys(ct).forEach(function(Ve){var Ye=ct[Ve];function Ke(Oe,$e){var Se=Oe.invoke($e,Ye),je=Oe.shared,ft=Oe.constants,Et=je.isBufferArgs,Wt=je.buffer;ae.optional(function(){Oe.assert($e,Se+"&&(typeof "+Se+'==="object"||typeof '+Se+'==="function")&&('+Et+"("+Se+")||"+Wt+".getBuffer("+Se+")||"+Wt+".getBuffer("+Se+".buffer)||"+Et+"("+Se+'.buffer)||("constant" in '+Se+"&&(typeof "+Se+'.constant==="number"||'+je.isArrayLike+"("+Se+".constant))))",'invalid dynamic attribute "'+Ve+'"')});var Nt={isStream:$e.def(!1)},Zt=new it;Zt.state=md,Object.keys(Zt).forEach(function(fr){Nt[fr]=$e.def(""+Zt[fr])});var Xn=Nt.buffer,Dr=Nt.type;$e("if(",Et,"(",Se,")){",Nt.isStream,"=true;",Xn,"=",Wt,".createStream(",bd,",",Se,");",Dr,"=",Xn,".dtype;","}else{",Xn,"=",Wt,".getBuffer(",Se,");","if(",Xn,"){",Dr,"=",Xn,".dtype;",'}else if("constant" in ',Se,"){",Nt.state,"=",of,";","if(typeof "+Se+'.constant === "number"){',Nt[dv[0]],"=",Se,".constant;",dv.slice(1).map(function(fr){return Nt[fr]}).join("="),"=0;","}else{",dv.map(function(fr,Er){return Nt[fr]+"="+Se+".constant.length>"+Er+"?"+Se+".constant["+Er+"]:0;"}).join(""),"}}else{","if(",Et,"(",Se,".buffer)){",Xn,"=",Wt,".createStream(",bd,",",Se,".buffer);","}else{",Xn,"=",Wt,".getBuffer(",Se,".buffer);","}",Dr,'="type" in ',Se,"?",ft.glTypes,"[",Se,".type]:",Xn,".dtype;",Nt.normalized,"=!!",Se,".normalized;");function Bn(fr){$e(Nt[fr],"=",Se,".",fr,"|0;")}return Bn("size"),Bn("offset"),Bn("stride"),Bn("divisor"),$e("}}"),$e.exit("if(",Nt.isStream,"){",Wt,".destroyStream(",Xn,");","}"),Nt}ht[Ve]=Ss(Ye,Ke)}),ht}function Ta(ve,we){var ke=ve.static,ct=ve.dynamic;if(Fh in ke){var ht=ke[Fh];return ht!==null&&mn.getVAO(ht)===null&&(ht=mn.createVAO(ht)),Ea(function(Ye){return Ye.link(mn.getVAO(ht))})}else if(Fh in ct){var Ve=ct[Fh];return Ss(Ve,function(Ye,Ke){var Oe=Ye.invoke(Ke,Ve);return Ke.def(Ye.shared.vao+".getVAO("+Oe+")")})}return null}function qi(ve){var we=ve.static,ke=ve.dynamic,ct={};return Object.keys(we).forEach(function(ht){var Ve=we[ht];ct[ht]=Ea(function(Ye,Ke){return typeof Ve=="number"||typeof Ve=="boolean"?""+Ve:Ye.link(Ve)})}),Object.keys(ke).forEach(function(ht){var Ve=ke[ht];ct[ht]=Ss(Ve,function(Ye,Ke){return Ye.invoke(Ke,Ve)})}),ct}function Fa(ve,we,ke,ct,ht){var Ve=ve.static,Ye=ve.dynamic;ae.optional(function(){var Bn=[cf,pv,Sm,Bh,kh,vv,_d,R_,xm,Fh].concat(Gt);function fr(Er){Object.keys(Er).forEach(function(bi){ae.command(Bn.indexOf(bi)>=0,'unknown parameter "'+bi+'"',ht.commandStr)})}fr(Ve),fr(Ye)});var Ke=Cr(ve,we),Oe=jn(ve),$e=$r(ve,Oe,ht),Se=fi(ve,ht),je=Xa(ve,ht),ft=Nr(ve,ht,Ke);function Et(Bn){var fr=$e[Bn];fr&&(je[Bn]=fr)}Et(uf),Et(yn(yd));var Wt=Object.keys(je).length>0,Nt={framebuffer:Oe,draw:Se,shader:ft,state:je,dirty:Wt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Nt.profile=Zr(ve),Nt.uniforms=Ka(ke,ht),Nt.drawVAO=Nt.scopeVAO=Ta(ve),!Nt.drawVAO&&ft.program&&!Ke&&Fe.angle_instanced_arrays){var Zt=!0,Xn=ft.program.attributes.map(function(Bn){var fr=we.static[Bn];return Zt=Zt&&!!fr,fr});if(Zt&&Xn.length>0){var Dr=mn.getVAO(mn.createVAO(Xn));Nt.drawVAO=new Vs(null,null,null,function(Bn,fr){return Bn.link(Dr)}),Nt.useVAO=!0}}return Ke?Nt.useVAO=!0:Nt.attributes=Gr(we,ht),Nt.context=qi(ct),Nt}function qa(ve,we,ke){var ct=ve.shared,ht=ct.context,Ve=ve.scope();Object.keys(ke).forEach(function(Ye){we.save(ht,"."+Ye);var Ke=ke[Ye];Ve(ht,".",Ye,"=",Ke.append(ve,we),";")}),we(Ve)}function Oa(ve,we,ke,ct){var ht=ve.shared,Ve=ht.gl,Ye=ht.framebuffer,Ke;_n&&(Ke=we.def(ht.extensions,".webgl_draw_buffers"));var Oe=ve.constants,$e=Oe.drawBuffer,Se=Oe.backBuffer,je;ke?je=ke.append(ve,we):je=we.def(Ye,".next"),ct||we("if(",je,"!==",Ye,".cur){"),we("if(",je,"){",Ve,".bindFramebuffer(",RC,",",je,".framebuffer);"),_n&&we(Ke,".drawBuffersWEBGL(",$e,"[",je,".colorAttachments.length]);"),we("}else{",Ve,".bindFramebuffer(",RC,",null);"),_n&&we(Ke,".drawBuffersWEBGL(",Se,");"),we("}",Ye,".cur=",je,";"),ct||we("}")}function ho(ve,we,ke){var ct=ve.shared,ht=ct.gl,Ve=ve.current,Ye=ve.next,Ke=ct.current,Oe=ct.next,$e=ve.cond(Ke,".dirty");Gt.forEach(function(Se){var je=yn(Se);if(!(je in ke.state)){var ft,Et;if(je in Ye){ft=Ye[je],Et=Ve[je];var Wt=ji(zt[je].length,function(Zt){return $e.def(ft,"[",Zt,"]")});$e(ve.cond(Wt.map(function(Zt,Xn){return Zt+"!=="+Et+"["+Xn+"]"}).join("||")).then(ht,".",Ft[je],"(",Wt,");",Wt.map(function(Zt,Xn){return Et+"["+Xn+"]="+Zt}).join(";"),";"))}else{ft=$e.def(Oe,".",je);var Nt=ve.cond(ft,"!==",Ke,".",je);$e(Nt),je in cn?Nt(ve.cond(ft).then(ht,".enable(",cn[je],");").else(ht,".disable(",cn[je],");"),Ke,".",je,"=",ft,";"):Nt(ht,".",Ft[je],"(",ft,");",Ke,".",je,"=",ft,";")}}}),Object.keys(ke.state).length===0&&$e(Ke,".dirty=false;"),we($e)}function ba(ve,we,ke,ct){var ht=ve.shared,Ve=ve.current,Ye=ht.current,Ke=ht.gl;IC(Object.keys(ke)).forEach(function(Oe){var $e=ke[Oe];if(!(ct&&!ct($e))){var Se=$e.append(ve,we);if(cn[Oe]){var je=cn[Oe];hf($e)?Se?we(Ke,".enable(",je,");"):we(Ke,".disable(",je,");"):we(ve.cond(Se).then(Ke,".enable(",je,");").else(Ke,".disable(",je,");")),we(Ye,".",Oe,"=",Se,";")}else if(ka(Se)){var ft=Ve[Oe];we(Ke,".",Ft[Oe],"(",Se,");",Se.map(function(Et,Wt){return ft+"["+Wt+"]="+Et}).join(";"),";")}else we(Ke,".",Ft[Oe],"(",Se,");",Ye,".",Oe,"=",Se,";")}})}function ca(ve,we){Jt&&(ve.instancing=we.def(ve.shared.extensions,".angle_instanced_arrays"))}function Or(ve,we,ke,ct,ht){var Ve=ve.shared,Ye=ve.stats,Ke=Ve.current,Oe=Ve.timer,$e=ke.profile;function Se(){return typeof performance>"u"?"Date.now()":"performance.now()"}var je,ft;function Et(Bn){je=we.def(),Bn(je,"=",Se(),";"),typeof ht=="string"?Bn(Ye,".count+=",ht,";"):Bn(Ye,".count++;"),jt&&(ct?(ft=we.def(),Bn(ft,"=",Oe,".getNumPendingQueries();")):Bn(Oe,".beginQuery(",Ye,");"))}function Wt(Bn){Bn(Ye,".cpuTime+=",Se(),"-",je,";"),jt&&(ct?Bn(Oe,".pushScopeStats(",ft,",",Oe,".getNumPendingQueries(),",Ye,");"):Bn(Oe,".endQuery();"))}function Nt(Bn){var fr=we.def(Ke,".profile");we(Ke,".profile=",Bn,";"),we.exit(Ke,".profile=",fr,";")}var Zt;if($e){if(hf($e)){$e.enable?(Et(we),Wt(we.exit),Nt("true")):Nt("false");return}Zt=$e.append(ve,we),Nt(Zt)}else Zt=we.def(Ke,".profile");var Xn=ve.block();Et(Xn),we("if(",Zt,"){",Xn,"}");var Dr=ve.block();Wt(Dr),we.exit("if(",Zt,"){",Dr,"}")}function So(ve,we,ke,ct,ht){var Ve=ve.shared;function Ye(Oe){switch(Oe){case Tm:case gv:case mv:return 2;case wm:case Cm:case Rm:return 3;case us:case Vh:case yv:return 4;default:return 1}}function Ke(Oe,$e,Se){var je=Ve.gl,ft=we.def(Oe,".location"),Et=we.def(Ve.attributes,"[",ft,"]"),Wt=Se.state,Nt=Se.buffer,Zt=[Se.x,Se.y,Se.z,Se.w],Xn=["buffer","normalized","offset","stride"];function Dr(){we("if(!",Et,".buffer){",je,".enableVertexAttribArray(",ft,");}");var fr=Se.type,Er;if(Se.size?Er=we.def(Se.size,"||",$e):Er=$e,we("if(",Et,".type!==",fr,"||",Et,".size!==",Er,"||",Xn.map(function(Za){return Et+"."+Za+"!=="+Se[Za]}).join("||"),"){",je,".bindBuffer(",bd,",",Nt,".buffer);",je,".vertexAttribPointer(",[ft,Er,fr,Se.normalized,Se.stride,Se.offset],");",Et,".type=",fr,";",Et,".size=",Er,";",Xn.map(function(Za){return Et+"."+Za+"="+Se[Za]+";"}).join(""),"}"),Jt){var bi=Se.divisor;we("if(",Et,".divisor!==",bi,"){",ve.instancing,".vertexAttribDivisorANGLE(",[ft,bi],");",Et,".divisor=",bi,";}")}}function Bn(){we("if(",Et,".buffer){",je,".disableVertexAttribArray(",ft,");",Et,".buffer=null;","}if(",dv.map(function(fr,Er){return Et+"."+fr+"!=="+Zt[Er]}).join("||"),"){",je,".vertexAttrib4f(",ft,",",Zt,");",dv.map(function(fr,Er){return Et+"."+fr+"="+Zt[Er]+";"}).join(""),"}")}Wt===md?Dr():Wt===of?Bn():(we("if(",Wt,"===",md,"){"),Dr(),we("}else{"),Bn(),we("}"))}ct.forEach(function(Oe){var $e=Oe.name,Se=ke.attributes[$e],je;if(Se){if(!ht(Se))return;je=Se.append(ve,we)}else{if(!ht(Mm))return;var ft=ve.scopeAttrib($e);ae.optional(function(){ve.assert(we,ft+".state","missing attribute "+$e)}),je={},Object.keys(new it).forEach(function(Et){je[Et]=we.def(ft,".",Et)})}Ke(ve.link(Oe),Ye(Oe.info.type),je)})}function Ei(ve,we,ke,ct,ht){for(var Ve=ve.shared,Ye=Ve.gl,Ke,Oe=0;Oe<ct.length;++Oe){var $e=ct[Oe],Se=$e.name,je=$e.info.type,ft=ke.uniforms[Se],Et=ve.link($e),Wt=Et+".location",Nt;if(ft){if(!ht(ft))continue;if(hf(ft)){var Zt=ft.value;if(ae.command(Zt!==null&&typeof Zt<"u",'missing uniform "'+Se+'"',ve.commandStr),je===Xl||je===_v){ae.command(typeof Zt=="function"&&(je===Xl&&(Zt._reglType==="texture2d"||Zt._reglType==="framebuffer")||je===_v&&(Zt._reglType==="textureCube"||Zt._reglType==="framebufferCube")),"invalid texture for uniform "+Se,ve.commandStr);var Xn=ve.link(Zt._texture||Zt.color[0]._texture);we(Ye,".uniform1i(",Wt,",",Xn+".bind());"),we.exit(Xn,".unbind();")}else if(je===zh||je===Yl||je===Im){ae.optional(function(){ae.command(ka(Zt),"invalid matrix for uniform "+Se,ve.commandStr),ae.command(je===zh&&Zt.length===4||je===Yl&&Zt.length===9||je===Im&&Zt.length===16,"invalid length for matrix uniform "+Se,ve.commandStr)});var Dr=ve.global.def("new Float32Array(["+Array.prototype.slice.call(Zt)+"])"),Bn=2;je===Yl?Bn=3:je===Im&&(Bn=4),we(Ye,".uniformMatrix",Bn,"fv(",Wt,",false,",Dr,");")}else{switch(je){case Em:ae.commandType(Zt,"number","uniform "+Se,ve.commandStr),Ke="1f";break;case Tm:ae.command(ka(Zt)&&Zt.length===2,"uniform "+Se,ve.commandStr),Ke="2f";break;case wm:ae.command(ka(Zt)&&Zt.length===3,"uniform "+Se,ve.commandStr),Ke="3f";break;case us:ae.command(ka(Zt)&&Zt.length===4,"uniform "+Se,ve.commandStr),Ke="4f";break;case P_:ae.commandType(Zt,"boolean","uniform "+Se,ve.commandStr),Ke="1i";break;case tc:ae.commandType(Zt,"number","uniform "+Se,ve.commandStr),Ke="1i";break;case mv:ae.command(ka(Zt)&&Zt.length===2,"uniform "+Se,ve.commandStr),Ke="2i";break;case gv:ae.command(ka(Zt)&&Zt.length===2,"uniform "+Se,ve.commandStr),Ke="2i";break;case Rm:ae.command(ka(Zt)&&Zt.length===3,"uniform "+Se,ve.commandStr),Ke="3i";break;case Cm:ae.command(ka(Zt)&&Zt.length===3,"uniform "+Se,ve.commandStr),Ke="3i";break;case yv:ae.command(ka(Zt)&&Zt.length===4,"uniform "+Se,ve.commandStr),Ke="4i";break;case Vh:ae.command(ka(Zt)&&Zt.length===4,"uniform "+Se,ve.commandStr),Ke="4i";break}we(Ye,".uniform",Ke,"(",Wt,",",ka(Zt)?Array.prototype.slice.call(Zt):Zt,");")}continue}else Nt=ft.append(ve,we)}else{if(!ht(Mm))continue;Nt=we.def(Ve.uniforms,"[",xe.id(Se),"]")}je===Xl?we("if(",Nt,"&&",Nt,'._reglType==="framebuffer"){',Nt,"=",Nt,".color[0];","}"):je===_v&&we("if(",Nt,"&&",Nt,'._reglType==="framebufferCube"){',Nt,"=",Nt,".color[0];","}"),ae.optional(function(){function Tu(gf,kC){ve.assert(we,gf,'bad data or missing for uniform "'+Se+'".  '+kC)}function HS(gf){Tu("typeof "+Nt+'==="'+gf+'"',"invalid type, expected "+gf)}function Kl(gf,kC){Tu(Ve.isArrayLike+"("+Nt+")&&"+Nt+".length==="+gf,"invalid vector, should have length "+gf,ve.commandStr)}function BC(gf){Tu("typeof "+Nt+'==="function"&&'+Nt+'._reglType==="texture'+(gf===O_?"2d":"Cube")+'"',"invalid texture type",ve.commandStr)}switch(je){case tc:HS("number");break;case gv:Kl(2);break;case Cm:Kl(3);break;case Vh:Kl(4);break;case Em:HS("number");break;case Tm:Kl(2);break;case wm:Kl(3);break;case us:Kl(4);break;case P_:HS("boolean");break;case mv:Kl(2);break;case Rm:Kl(3);break;case yv:Kl(4);break;case zh:Kl(4);break;case Yl:Kl(9);break;case Im:Kl(16);break;case Xl:BC(O_);break;case _v:BC(ci);break}});var fr=1;switch(je){case Xl:case _v:var Er=we.def(Nt,"._texture");we(Ye,".uniform1i(",Wt,",",Er,".bind());"),we.exit(Er,".unbind();");continue;case tc:case P_:Ke="1i";break;case gv:case mv:Ke="2i",fr=2;break;case Cm:case Rm:Ke="3i",fr=3;break;case Vh:case yv:Ke="4i",fr=4;break;case Em:Ke="1f";break;case Tm:Ke="2f",fr=2;break;case wm:Ke="3f",fr=3;break;case us:Ke="4f",fr=4;break;case zh:Ke="Matrix2fv";break;case Yl:Ke="Matrix3fv";break;case Im:Ke="Matrix4fv";break}if(we(Ye,".uniform",Ke,"(",Wt,","),Ke.charAt(0)==="M"){var bi=Math.pow(je-zh+2,2),Za=ve.global.def("new Float32Array(",bi,")");we("false,(Array.isArray(",Nt,")||",Nt," instanceof Float32Array)?",Nt,":(",ji(bi,function(Tu){return Za+"["+Tu+"]="+Nt+"["+Tu+"]"}),",",Za,")")}else fr>1?we(ji(fr,function(Tu){return Nt+"["+Tu+"]"})):we(Nt);we(");")}}function lr(ve,we,ke,ct){var ht=ve.shared,Ve=ht.gl,Ye=ht.draw,Ke=ct.draw;function Oe(){var Er=Ke.elements,bi,Za=we;return Er?((Er.contextDep&&ct.contextDynamic||Er.propDep)&&(Za=ke),bi=Er.append(ve,Za)):bi=Za.def(Ye,".",Bh),bi&&Za("if("+bi+")"+Ve+".bindBuffer("+AC+","+bi+".buffer.buffer);"),bi}function $e(){var Er=Ke.count,bi,Za=we;return Er?((Er.contextDep&&ct.contextDynamic||Er.propDep)&&(Za=ke),bi=Er.append(ve,Za),ae.optional(function(){Er.MISSING&&ve.assert(we,"false","missing vertex count"),Er.DYNAMIC&&ve.assert(Za,bi+">=0","missing vertex count")})):(bi=Za.def(Ye,".",_d),ae.optional(function(){ve.assert(Za,bi+">=0","missing vertex count")})),bi}var Se=Oe();function je(Er){var bi=Ke[Er];return bi?bi.contextDep&&ct.contextDynamic||bi.propDep?bi.append(ve,ke):bi.append(ve,we):we.def(Ye,".",Er)}var ft=je(kh),Et=je(vv),Wt=$e();if(typeof Wt=="number"){if(Wt===0)return}else ke("if(",Wt,"){"),ke.exit("}");var Nt,Zt;Jt&&(Nt=je(R_),Zt=ve.instancing);var Xn=Se+".type",Dr=Ke.elements&&hf(Ke.elements);function Bn(){function Er(){ke(Zt,".drawElementsInstancedANGLE(",[ft,Wt,Xn,Et+"<<(("+Xn+"-"+ec+")>>1)",Nt],");")}function bi(){ke(Zt,".drawArraysInstancedANGLE(",[ft,Et,Wt,Nt],");")}Se?Dr?Er():(ke("if(",Se,"){"),Er(),ke("}else{"),bi(),ke("}")):bi()}function fr(){function Er(){ke(Ve+".drawElements("+[ft,Wt,Xn,Et+"<<(("+Xn+"-"+ec+")>>1)"]+");")}function bi(){ke(Ve+".drawArrays("+[ft,Et,Wt]+");")}Se?Dr?Er():(ke("if(",Se,"){"),Er(),ke("}else{"),bi(),ke("}")):bi()}Jt&&(typeof Nt!="number"||Nt>=0)?typeof Nt=="string"?(ke("if(",Nt,">0){"),Bn(),ke("}else if(",Nt,"<0){"),fr(),ke("}")):Bn():fr()}function jr(ve,we,ke,ct,ht){var Ve=xr(),Ye=Ve.proc("body",ht);return ae.optional(function(){Ve.commandStr=we.commandStr,Ve.command=Ve.link(we.commandStr)}),Jt&&(Ve.instancing=Ye.def(Ve.shared.extensions,".angle_instanced_arrays")),ve(Ve,Ye,ke,ct),Ve.compile().body}function ai(ve,we,ke,ct){ca(ve,we),ke.useVAO?ke.drawVAO?we(ve.shared.vao,".setVAO(",ke.drawVAO.append(ve,we),");"):we(ve.shared.vao,".setVAO(",ve.shared.vao,".targetVAO);"):(we(ve.shared.vao,".setVAO(null);"),So(ve,we,ke,ct.attributes,function(){return!0})),Ei(ve,we,ke,ct.uniforms,function(){return!0}),lr(ve,we,we,ke)}function Ua(ve,we){var ke=ve.proc("draw",1);ca(ve,ke),qa(ve,ke,we.context),Oa(ve,ke,we.framebuffer),ho(ve,ke,we),ba(ve,ke,we.state),Or(ve,ke,we,!1,!0);var ct=we.shader.progVar.append(ve,ke);if(ke(ve.shared.gl,".useProgram(",ct,".program);"),we.shader.program)ai(ve,ke,we,we.shader.program);else{ke(ve.shared.vao,".setVAO(null);");var ht=ve.global.def("{}"),Ve=ke.def(ct,".id"),Ye=ke.def(ht,"[",Ve,"]");ke(ve.cond(Ye).then(Ye,".call(this,a0);").else(Ye,"=",ht,"[",Ve,"]=",ve.link(function(Ke){return jr(ai,ve,we,Ke,1)}),"(",ct,");",Ye,".call(this,a0);"))}Object.keys(we.state).length>0&&ke(ve.shared.current,".dirty=true;")}function nc(ve,we,ke,ct){ve.batchId="a1",ca(ve,we);function ht(){return!0}So(ve,we,ke,ct.attributes,ht),Ei(ve,we,ke,ct.uniforms,ht),lr(ve,we,we,ke)}function Me(ve,we,ke,ct){ca(ve,we);var ht=ke.contextDep,Ve=we.def(),Ye="a0",Ke="a1",Oe=we.def();ve.shared.props=Oe,ve.batchId=Ve;var $e=ve.scope(),Se=ve.scope();we($e.entry,"for(",Ve,"=0;",Ve,"<",Ke,";++",Ve,"){",Oe,"=",Ye,"[",Ve,"];",Se,"}",$e.exit);function je(Xn){return Xn.contextDep&&ht||Xn.propDep}function ft(Xn){return!je(Xn)}if(ke.needsContext&&qa(ve,Se,ke.context),ke.needsFramebuffer&&Oa(ve,Se,ke.framebuffer),ba(ve,Se,ke.state,je),ke.profile&&je(ke.profile)&&Or(ve,Se,ke,!1,!0),ct)ke.useVAO?ke.drawVAO?je(ke.drawVAO)?Se(ve.shared.vao,".setVAO(",ke.drawVAO.append(ve,Se),");"):$e(ve.shared.vao,".setVAO(",ke.drawVAO.append(ve,$e),");"):$e(ve.shared.vao,".setVAO(",ve.shared.vao,".targetVAO);"):($e(ve.shared.vao,".setVAO(null);"),So(ve,$e,ke,ct.attributes,ft),So(ve,Se,ke,ct.attributes,je)),Ei(ve,$e,ke,ct.uniforms,ft),Ei(ve,Se,ke,ct.uniforms,je),lr(ve,$e,Se,ke);else{var Et=ve.global.def("{}"),Wt=ke.shader.progVar.append(ve,Se),Nt=Se.def(Wt,".id"),Zt=Se.def(Et,"[",Nt,"]");Se(ve.shared.gl,".useProgram(",Wt,".program);","if(!",Zt,"){",Zt,"=",Et,"[",Nt,"]=",ve.link(function(Xn){return jr(nc,ve,ke,Xn,2)}),"(",Wt,");}",Zt,".call(this,a0[",Ve,"],",Ve,");")}}function mt(ve,we){var ke=ve.proc("batch",2);ve.batchId="0",ca(ve,ke);var ct=!1,ht=!0;Object.keys(we.context).forEach(function(Et){ct=ct||we.context[Et].propDep}),ct||(qa(ve,ke,we.context),ht=!1);var Ve=we.framebuffer,Ye=!1;Ve?(Ve.propDep?ct=Ye=!0:Ve.contextDep&&ct&&(Ye=!0),Ye||Oa(ve,ke,Ve)):Oa(ve,ke,null),we.state.viewport&&we.state.viewport.propDep&&(ct=!0);function Ke(Et){return Et.contextDep&&ct||Et.propDep}ho(ve,ke,we),ba(ve,ke,we.state,function(Et){return!Ke(Et)}),(!we.profile||!Ke(we.profile))&&Or(ve,ke,we,!1,"a1"),we.contextDep=ct,we.needsContext=ht,we.needsFramebuffer=Ye;var Oe=we.shader.progVar;if(Oe.contextDep&&ct||Oe.propDep)Me(ve,ke,we,null);else{var $e=Oe.append(ve,ke);if(ke(ve.shared.gl,".useProgram(",$e,".program);"),we.shader.program)Me(ve,ke,we,we.shader.program);else{ke(ve.shared.vao,".setVAO(null);");var Se=ve.global.def("{}"),je=ke.def($e,".id"),ft=ke.def(Se,"[",je,"]");ke(ve.cond(ft).then(ft,".call(this,a0,a1);").else(ft,"=",Se,"[",je,"]=",ve.link(function(Et){return jr(Me,ve,we,Et,2)}),"(",$e,");",ft,".call(this,a0,a1);"))}}Object.keys(we.state).length>0&&ke(ve.shared.current,".dirty=true;")}function lt(ve,we){var ke=ve.proc("scope",3);ve.batchId="a2";var ct=ve.shared,ht=ct.current;qa(ve,ke,we.context),we.framebuffer&&we.framebuffer.append(ve,ke),IC(Object.keys(we.state)).forEach(function(Ye){var Ke=we.state[Ye],Oe=Ke.append(ve,ke);ka(Oe)?Oe.forEach(function($e,Se){ke.set(ve.next[Ye],"["+Se+"]",$e)}):ke.set(ct.next,"."+Ye,Oe)}),Or(ve,ke,we,!0,!0),[Bh,vv,_d,R_,kh].forEach(function(Ye){var Ke=we.draw[Ye];Ke&&ke.set(ct.draw,"."+Ye,""+Ke.append(ve,ke))}),Object.keys(we.uniforms).forEach(function(Ye){ke.set(ct.uniforms,"["+xe.id(Ye)+"]",we.uniforms[Ye].append(ve,ke))}),Object.keys(we.attributes).forEach(function(Ye){var Ke=we.attributes[Ye].append(ve,ke),Oe=ve.scopeAttrib(Ye);Object.keys(new it).forEach(function($e){ke.set(Oe,"."+$e,Ke[$e])})}),we.scopeVAO&&ke.set(ct.vao,".targetVAO",we.scopeVAO.append(ve,ke));function Ve(Ye){var Ke=we.shader[Ye];Ke&&ke.set(ct.shader,"."+Ye,Ke.append(ve,ke))}Ve(pv),Ve(Sm),Object.keys(we.state).length>0&&(ke(ht,".dirty=true;"),ke.exit(ht,".dirty=true;")),ke("a1(",ve.shared.context,",a0,",ve.batchId,");")}function On(ve){if(!(typeof ve!="object"||ka(ve))){for(var we=Object.keys(ve),ke=0;ke<we.length;++ke)if(yt.isDynamic(ve[we[ke]]))return!0;return!1}}function Hr(ve,we,ke){var ct=we.static[ke];if(!ct||!On(ct))return;var ht=ve.global,Ve=Object.keys(ct),Ye=!1,Ke=!1,Oe=!1,$e=ve.global.def("{}");Ve.forEach(function(je){var ft=ct[je];if(yt.isDynamic(ft)){typeof ft=="function"&&(ft=ct[je]=yt.unbox(ft));var Et=Ss(ft,null);Ye=Ye||Et.thisDep,Oe=Oe||Et.propDep,Ke=Ke||Et.contextDep}else{switch(ht($e,".",je,"="),typeof ft){case"number":ht(ft);break;case"string":ht('"',ft,'"');break;case"object":Array.isArray(ft)&&ht("[",ft.join(),"]");break;default:ht(ve.link(ft));break}ht(";")}});function Se(je,ft){Ve.forEach(function(Et){var Wt=ct[Et];if(yt.isDynamic(Wt)){var Nt=je.invoke(ft,Wt);ft($e,".",Et,"=",Nt,";")}})}we.dynamic[ke]=new yt.DynamicVariable(Lh,{thisDep:Ye,contextDep:Ke,propDep:Oe,ref:$e,append:Se}),delete we.static[ke]}function Yi(ve,we,ke,ct,ht){var Ve=xr();Ve.stats=Ve.link(ht),Object.keys(we.static).forEach(function(Ke){Hr(Ve,we,Ke)}),t4.forEach(function(Ke){Hr(Ve,ve,Ke)});var Ye=Fa(ve,we,ke,ct,Ve);return Ua(Ve,Ye),lt(Ve,Ye),mt(Ve,Ye),Ve.compile()}return{next:In,current:zt,procs:function(){var ve=xr(),we=ve.proc("poll"),ke=ve.proc("refresh"),ct=ve.block();we(ct),ke(ct);var ht=ve.shared,Ve=ht.gl,Ye=ht.next,Ke=ht.current;ct(Ke,".dirty=false;"),Oa(ve,we),Oa(ve,ke,null,!0);var Oe;Jt&&(Oe=ve.link(Jt)),Fe.oes_vertex_array_object&&ke(ve.link(Fe.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var $e=0;$e<vt.maxAttributes;++$e){var Se=ke.def(ht.attributes,"[",$e,"]"),je=ve.cond(Se,".buffer");je.then(Ve,".enableVertexAttribArray(",$e,");",Ve,".bindBuffer(",bd,",",Se,".buffer.buffer);",Ve,".vertexAttribPointer(",$e,",",Se,".size,",Se,".type,",Se,".normalized,",Se,".stride,",Se,".offset);").else(Ve,".disableVertexAttribArray(",$e,");",Ve,".vertexAttrib4f(",$e,",",Se,".x,",Se,".y,",Se,".z,",Se,".w);",Se,".buffer=null;"),ke(je),Jt&&ke(Oe,".vertexAttribDivisorANGLE(",$e,",",Se,".divisor);")}return ke(ve.shared.vao,".currentVAO=null;",ve.shared.vao,".setVAO(",ve.shared.vao,".targetVAO);"),Object.keys(cn).forEach(function(ft){var Et=cn[ft],Wt=ct.def(Ye,".",ft),Nt=ve.block();Nt("if(",Wt,"){",Ve,".enable(",Et,")}else{",Ve,".disable(",Et,")}",Ke,".",ft,"=",Wt,";"),ke(Nt),we("if(",Wt,"!==",Ke,".",ft,"){",Nt,"}")}),Object.keys(Ft).forEach(function(ft){var Et=Ft[ft],Wt=zt[ft],Nt,Zt,Xn=ve.block();if(Xn(Ve,".",Et,"("),ka(Wt)){var Dr=Wt.length;Nt=ve.global.def(Ye,".",ft),Zt=ve.global.def(Ke,".",ft),Xn(ji(Dr,function(Bn){return Nt+"["+Bn+"]"}),");",ji(Dr,function(Bn){return Zt+"["+Bn+"]="+Nt+"["+Bn+"];"}).join("")),we("if(",ji(Dr,function(Bn){return Nt+"["+Bn+"]!=="+Zt+"["+Bn+"]"}).join("||"),"){",Xn,"}")}else Nt=ct.def(Ye,".",ft),Zt=ct.def(Ke,".",ft),Xn(Nt,");",Ke,".",ft,"=",Nt,";"),we("if(",Nt,"!==",Zt,"){",Xn,"}");ke(Xn)}),ve.compile()}(),compile:Yi}}function N_(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var c4=34918,MC=34919,Om=35007,OC=function(Z,xe){if(!xe.ext_disjoint_timer_query)return null;var Fe=[];function vt(){return Fe.pop()||xe.ext_disjoint_timer_query.createQueryEXT()}function Ot(Jt){Fe.push(Jt)}var Ze=[];function xt(Jt){var _n=vt();xe.ext_disjoint_timer_query.beginQueryEXT(Om,_n),Ze.push(_n),jt(Ze.length-1,Ze.length,Jt)}function qt(){xe.ext_disjoint_timer_query.endQueryEXT(Om)}function Yt(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var mn=[];function tn(){return mn.pop()||new Yt}function ln(Jt){mn.push(Jt)}var Qt=[];function jt(Jt,_n,zt){var In=tn();In.startQueryIndex=Jt,In.endQueryIndex=_n,In.sum=0,In.stats=zt,Qt.push(In)}var un=[],it=[];function bt(){var Jt,_n,zt=Ze.length;if(zt!==0){it.length=Math.max(it.length,zt+1),un.length=Math.max(un.length,zt+1),un[0]=0,it[0]=0;var In=0;for(Jt=0,_n=0;_n<Ze.length;++_n){var Gt=Ze[_n];xe.ext_disjoint_timer_query.getQueryObjectEXT(Gt,MC)?(In+=xe.ext_disjoint_timer_query.getQueryObjectEXT(Gt,c4),Ot(Gt)):Ze[Jt++]=Gt,un[_n+1]=In,it[_n+1]=Jt}for(Ze.length=Jt,Jt=0,_n=0;_n<Qt.length;++_n){var cn=Qt[_n],Ft=cn.startQueryIndex,yn=cn.endQueryIndex;cn.sum+=un[yn]-un[Ft];var Zn=it[Ft],Ar=it[yn];Ar===Zn?(cn.stats.gpuTime+=cn.sum/1e6,ln(cn)):(cn.startQueryIndex=Zn,cn.endQueryIndex=Ar,Qt[Jt++]=cn)}Qt.length=Jt}}return{beginQuery:xt,endQuery:qt,pushScopeStats:jt,update:bt,getNumPendingQueries:function(){return Ze.length},clear:function(){Fe.push.apply(Fe,Ze);for(var Jt=0;Jt<Fe.length;Jt++)xe.ext_disjoint_timer_query.deleteQueryEXT(Fe[Jt]);Ze.length=0,Fe.length=0},restore:function(){Ze.length=0,Fe.length=0}}},VS=16384,f4=256,DC=1024,pf=34962,zS="webglcontextlost",$S="webglcontextrestored",PC=1,LC=2,d4=3;function NC(Z,xe){for(var Fe=0;Fe<Z.length;++Fe)if(Z[Fe]===xe)return Fe;return-1}function vf(Z){var xe=Di(Z);if(!xe)return null;var Fe=xe.gl,vt=Fe.getContextAttributes(),Ot=Fe.isContextLost(),Ze=br(Fe,xe);if(!Ze)return null;var xt=_e(),qt=N_(),Yt=Ze.extensions,mn=OC(Fe,Yt),tn=ut(),ln=Fe.drawingBufferWidth,Qt=Fe.drawingBufferHeight,jt={tick:0,time:0,viewportWidth:ln,viewportHeight:Qt,framebufferWidth:ln,framebufferHeight:Qt,drawingBufferWidth:ln,drawingBufferHeight:Qt,pixelRatio:xe.pixelRatio},un={},it={elements:null,primitive:4,count:-1,offset:0,instances:-1},bt=Jy(Fe,Yt),Jt=Vw(Fe,qt,xe,zt),_n=KL(Fe,Yt,bt,qt,Jt);function zt(lr){return _n.destroyBuffer(lr)}var In=n_(Fe,Yt,Jt,qt),Gt=dC(Fe,xt,qt,xe),cn=LL(Fe,Yt,bt,function(){Zn.procs.poll()},jt,qt,xe),Ft=ov(Fe,Yt,bt,qt,xe),yn=Ph(Fe,Yt,bt,cn,Ft,qt),Zn=US(Fe,xt,Yt,bt,Jt,In,cn,yn,un,_n,Gt,it,jt,mn,xe),Ar=mm(Fe,yn,Zn.procs.poll,jt,vt,Yt,bt),bn=Zn.next,Kt=Fe.canvas,Dt=[],xr=[],Zr=[],jn=[xe.onDestroy],$r=null;function Cr(){if(Dt.length===0){mn&&mn.update(),$r=null;return}$r=Re.next(Cr),ba();for(var lr=Dt.length-1;lr>=0;--lr){var jr=Dt[lr];jr&&jr(jt,null,0)}Fe.flush(),mn&&mn.update()}function Nr(){!$r&&Dt.length>0&&($r=Re.next(Cr))}function fi(){$r&&(Re.cancel(Cr),$r=null)}function Xa(lr){lr.preventDefault(),Ot=!0,fi(),xr.forEach(function(jr){jr()})}function Ka(lr){Fe.getError(),Ot=!1,Ze.restore(),Gt.restore(),Jt.restore(),cn.restore(),Ft.restore(),yn.restore(),_n.restore(),mn&&mn.restore(),Zn.procs.refresh(),Nr(),Zr.forEach(function(jr){jr()})}Kt&&(Kt.addEventListener(zS,Xa,!1),Kt.addEventListener($S,Ka,!1));function Gr(){Dt.length=0,fi(),Kt&&(Kt.removeEventListener(zS,Xa),Kt.removeEventListener($S,Ka)),Gt.clear(),yn.clear(),Ft.clear(),cn.clear(),In.clear(),Jt.clear(),_n.clear(),mn&&mn.clear(),jn.forEach(function(lr){lr()})}function Ta(lr){ae(!!lr,"invalid args to regl({...})"),ae.type(lr,"object","invalid args to regl({...})");function jr(ht){var Ve=r({},ht);delete Ve.uniforms,delete Ve.attributes,delete Ve.context,delete Ve.vao,"stencil"in Ve&&Ve.stencil.op&&(Ve.stencil.opBack=Ve.stencil.opFront=Ve.stencil.op,delete Ve.stencil.op);function Ye(Ke){if(Ke in Ve){var Oe=Ve[Ke];delete Ve[Ke],Object.keys(Oe).forEach(function($e){Ve[Ke+"."+$e]=Oe[$e]})}}return Ye("blend"),Ye("depth"),Ye("cull"),Ye("stencil"),Ye("polygonOffset"),Ye("scissor"),Ye("sample"),"vao"in ht&&(Ve.vao=ht.vao),Ve}function ai(ht){var Ve={},Ye={};return Object.keys(ht).forEach(function(Ke){var Oe=ht[Ke];yt.isDynamic(Oe)?Ye[Ke]=yt.unbox(Oe,Ke):Ve[Ke]=Oe}),{dynamic:Ye,static:Ve}}var Ua=ai(lr.context||{}),nc=ai(lr.uniforms||{}),Me=ai(lr.attributes||{}),mt=ai(jr(lr)),lt={gpuTime:0,cpuTime:0,count:0},On=Zn.compile(mt,Me,nc,Ua,lt),Hr=On.draw,Yi=On.batch,ve=On.scope,we=[];function ke(ht){for(;we.length<ht;)we.push(null);return we}function ct(ht,Ve){var Ye;if(Ot&&ae.raise("context lost"),typeof ht=="function")return ve.call(this,null,ht,0);if(typeof Ve=="function")if(typeof ht=="number")for(Ye=0;Ye<ht;++Ye)ve.call(this,null,Ve,Ye);else if(Array.isArray(ht))for(Ye=0;Ye<ht.length;++Ye)ve.call(this,ht[Ye],Ve,Ye);else return ve.call(this,ht,Ve,0);else if(typeof ht=="number"){if(ht>0)return Yi.call(this,ke(ht|0),ht|0)}else if(Array.isArray(ht)){if(ht.length)return Yi.call(this,ht,ht.length)}else return Hr.call(this,ht)}return r(ct,{stats:lt})}var qi=yn.setFBO=Ta({framebuffer:yt.define.call(null,PC,"framebuffer")});function Fa(lr,jr){var ai=0;Zn.procs.poll();var Ua=jr.color;Ua&&(Fe.clearColor(+Ua[0]||0,+Ua[1]||0,+Ua[2]||0,+Ua[3]||0),ai|=VS),"depth"in jr&&(Fe.clearDepth(+jr.depth),ai|=f4),"stencil"in jr&&(Fe.clearStencil(jr.stencil|0),ai|=DC),ae(!!ai,"called regl.clear with no buffer specified"),Fe.clear(ai)}function qa(lr){if(ae(typeof lr=="object"&&lr,"regl.clear() takes an object as input"),"framebuffer"in lr)if(lr.framebuffer&&lr.framebuffer_reglType==="framebufferCube")for(var jr=0;jr<6;++jr)qi(r({framebuffer:lr.framebuffer.faces[jr]},lr),Fa);else qi(lr,Fa);else Fa(null,lr)}function Oa(lr){ae.type(lr,"function","regl.frame() callback must be a function"),Dt.push(lr);function jr(){var ai=NC(Dt,lr);ae(ai>=0,"cannot cancel a frame twice");function Ua(){var nc=NC(Dt,Ua);Dt[nc]=Dt[Dt.length-1],Dt.length-=1,Dt.length<=0&&fi()}Dt[ai]=Ua}return Nr(),{cancel:jr}}function ho(){var lr=bn.viewport,jr=bn.scissor_box;lr[0]=lr[1]=jr[0]=jr[1]=0,jt.viewportWidth=jt.framebufferWidth=jt.drawingBufferWidth=lr[2]=jr[2]=Fe.drawingBufferWidth,jt.viewportHeight=jt.framebufferHeight=jt.drawingBufferHeight=lr[3]=jr[3]=Fe.drawingBufferHeight}function ba(){jt.tick+=1,jt.time=Or(),ho(),Zn.procs.poll()}function ca(){ho(),Zn.procs.refresh(),mn&&mn.update()}function Or(){return(ut()-tn)/1e3}ca();function So(lr,jr){ae.type(jr,"function","listener callback must be a function");var ai;switch(lr){case"frame":return Oa(jr);case"lost":ai=xr;break;case"restore":ai=Zr;break;case"destroy":ai=jn;break;default:ae.raise("invalid event, must be one of frame,lost,restore,destroy")}return ai.push(jr),{cancel:function(){for(var Ua=0;Ua<ai.length;++Ua)if(ai[Ua]===jr){ai[Ua]=ai[ai.length-1],ai.pop();return}}}}var Ei=r(Ta,{clear:qa,prop:yt.define.bind(null,PC),context:yt.define.bind(null,LC),this:yt.define.bind(null,d4),draw:Ta({}),buffer:function(lr){return Jt.create(lr,pf,!1,!1)},elements:function(lr){return In.create(lr,!1)},texture:cn.create2D,cube:cn.createCube,renderbuffer:Ft.create,framebuffer:yn.create,framebufferCube:yn.createCube,vao:_n.createVAO,attributes:vt,frame:Oa,on:So,limits:bt,hasExtension:function(lr){return bt.extensions.indexOf(lr.toLowerCase())>=0},read:Ar,destroy:Gr,_gl:Fe,_refresh:ca,poll:function(){ba(),mn&&mn.update()},now:Or,stats:qt});return xe.onDone(null,Ei),Ei}return vf})}(eM)),eM.exports}var i7t=r7t();const a7t=ni(i7t);var o7t=class{constructor(e,t){const{buffer:n,offset:r,stride:i,normalized:a,size:o,divisor:s}=t;this.buffer=n,this.attribute={buffer:n.get(),offset:r||0,stride:i||0,normalized:a||!1,divisor:s||0},o&&(this.attribute.size=o)}get(){return this.attribute}updateBuffer(e){this.buffer.subData(e)}destroy(){this.buffer.destroy()}},s7t={[ie.POINTS]:"points",[ie.LINES]:"lines",[ie.LINE_LOOP]:"line loop",[ie.LINE_STRIP]:"line strip",[ie.TRIANGLES]:"triangles",[ie.TRIANGLE_FAN]:"triangle fan",[ie.TRIANGLE_STRIP]:"triangle strip"},Wwe={[ie.STATIC_DRAW]:"static",[ie.DYNAMIC_DRAW]:"dynamic",[ie.STREAM_DRAW]:"stream"},Qj={[ie.BYTE]:"int8",[ie.INT]:"int32",[ie.UNSIGNED_BYTE]:"uint8",[ie.UNSIGNED_SHORT]:"uint16",[ie.UNSIGNED_INT]:"uint32",[ie.FLOAT]:"float"},l7t={[ie.ALPHA]:"alpha",[ie.LUMINANCE]:"luminance",[ie.LUMINANCE_ALPHA]:"luminance alpha",[ie.RGB]:"rgb",[ie.RGBA]:"rgba",[ie.RGBA4]:"rgba4",[ie.RGB5_A1]:"rgb5 a1",[ie.RGB565]:"rgb565",[ie.DEPTH_COMPONENT]:"depth",[ie.DEPTH_STENCIL]:"depth stencil"},u7t={[ie.DONT_CARE]:"dont care",[ie.NICEST]:"nice",[ie.FASTEST]:"fast"},zde={[ie.NEAREST]:"nearest",[ie.LINEAR]:"linear",[ie.LINEAR_MIPMAP_LINEAR]:"mipmap",[ie.NEAREST_MIPMAP_LINEAR]:"nearest mipmap linear",[ie.LINEAR_MIPMAP_NEAREST]:"linear mipmap nearest",[ie.NEAREST_MIPMAP_NEAREST]:"nearest mipmap nearest"},$de={[ie.REPEAT]:"repeat",[ie.CLAMP_TO_EDGE]:"clamp",[ie.MIRRORED_REPEAT]:"mirror"},c7t={[ie.NONE]:"none",[ie.BROWSER_DEFAULT_WEBGL]:"browser"},f7t={[ie.NEVER]:"never",[ie.ALWAYS]:"always",[ie.LESS]:"less",[ie.LEQUAL]:"lequal",[ie.GREATER]:"greater",[ie.GEQUAL]:"gequal",[ie.EQUAL]:"equal",[ie.NOTEQUAL]:"notequal"},Hde={[ie.FUNC_ADD]:"add",[ie.MIN_EXT]:"min",[ie.MAX_EXT]:"max",[ie.FUNC_SUBTRACT]:"subtract",[ie.FUNC_REVERSE_SUBTRACT]:"reverse subtract"},kI={[ie.ZERO]:"zero",[ie.ONE]:"one",[ie.SRC_COLOR]:"src color",[ie.ONE_MINUS_SRC_COLOR]:"one minus src color",[ie.SRC_ALPHA]:"src alpha",[ie.ONE_MINUS_SRC_ALPHA]:"one minus src alpha",[ie.DST_COLOR]:"dst color",[ie.ONE_MINUS_DST_COLOR]:"one minus dst color",[ie.DST_ALPHA]:"dst alpha",[ie.ONE_MINUS_DST_ALPHA]:"one minus dst alpha",[ie.CONSTANT_COLOR]:"constant color",[ie.ONE_MINUS_CONSTANT_COLOR]:"one minus constant color",[ie.CONSTANT_ALPHA]:"constant alpha",[ie.ONE_MINUS_CONSTANT_ALPHA]:"one minus constant alpha",[ie.SRC_ALPHA_SATURATE]:"src alpha saturate"},d7t={[ie.NEVER]:"never",[ie.ALWAYS]:"always",[ie.LESS]:"less",[ie.LEQUAL]:"lequal",[ie.GREATER]:"greater",[ie.GEQUAL]:"gequal",[ie.EQUAL]:"equal",[ie.NOTEQUAL]:"notequal"},_1={[ie.ZERO]:"zero",[ie.KEEP]:"keep",[ie.REPLACE]:"replace",[ie.INVERT]:"invert",[ie.INCR]:"increment",[ie.DECR]:"decrement",[ie.INCR_WRAP]:"increment wrap",[ie.DECR_WRAP]:"decrement wrap"},h7t={[ie.FRONT]:"front",[ie.BACK]:"back"},p7t=class{constructor(e,t){this.isDestroyed=!1;const{data:n,usage:r,type:i}=t;this.buffer=e.buffer({data:n,usage:Wwe[r||ie.STATIC_DRAW],type:Qj[i||ie.UNSIGNED_BYTE]})}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:e,offset:t}){this.buffer.subdata(e,t)}},v7t=class{constructor(e,t){const{data:n,usage:r,type:i,count:a}=t;this.elements=e.elements({data:n,usage:Wwe[r||ie.STATIC_DRAW],type:Qj[i||ie.UNSIGNED_BYTE],count:a})}get(){return this.elements}subData({data:e}){this.elements.subdata(e)}destroy(){}},g7t=class{constructor(e,t){const{width:n,height:r,color:i,colors:a}=t,o={width:n,height:r};Array.isArray(a)&&(o.colors=a.map(s=>s.get())),i&&typeof i!="boolean"&&(o.color=i.get()),this.framebuffer=e.framebuffer(o)}get(){return this.framebuffer}destroy(){this.framebuffer.destroy()}resize({width:e,height:t}){this.framebuffer.resize(e,t)}},m7t=Object.defineProperty,y7t=Object.defineProperties,_7t=Object.getOwnPropertyDescriptors,Wde=Object.getOwnPropertySymbols,b7t=Object.prototype.hasOwnProperty,x7t=Object.prototype.propertyIsEnumerable,Gde=(e,t,n)=>t in e?m7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QA=(e,t)=>{for(var n in t||(t={}))b7t.call(t,n)&&Gde(e,n,t[n]);if(Wde)for(var n of Wde(t))x7t.call(t,n)&&Gde(e,n,t[n]);return e},S7t=(e,t)=>y7t(e,_7t(t)),{isPlainObject:A7t,isTypedArray:E7t}=Oo,T7t=class{constructor(e,t){this.destroyed=!1,this.uniforms={},this.reGl=e;const{vs:n,fs:r,attributes:i,uniforms:a,primitive:o,count:s,elements:l,depth:u,cull:c,instances:f}=t,d={platformString:"WebGL1",glslVersion:"#version 100",explicitBindingLocations:!1,separateSamplerTextures:!1,viewportOrigin:Ff.LOWER_LEFT,clipSpaceNearZ:ox.NEGATIVE_ONE,supportMRT:!1},h={};this.options=t,a&&(this.uniforms=this.extractUniforms(a),Object.keys(a).forEach(b=>{h[b]=e.prop(b)}));const p={};Object.keys(i).forEach(b=>{p[b]=i[b].get()});const v=wue(cx(d,"frag",r,null,!1)),g=wue(cx(d,"vert",n,null,!1)),m={attributes:p,frag:v,uniforms:h,vert:g,colorMask:e.prop("colorMask"),lineWidth:1,blend:{enable:e.prop("blend.enable"),func:e.prop("blend.func"),equation:e.prop("blend.equation"),color:e.prop("blend.color")},stencil:{enable:e.prop("stencil.enable"),mask:e.prop("stencil.mask"),func:e.prop("stencil.func"),opFront:e.prop("stencil.opFront"),opBack:e.prop("stencil.opBack")},primitive:s7t[o===void 0?ie.TRIANGLES:o]};f&&(m.instances=f),s?m.count=s:l&&(m.elements=l.get()),this.initDepthDrawParams({depth:u},m),this.initCullDrawParams({cull:c},m),this.drawCommand=e(m),this.drawParams=m}updateAttributesAndElements(e,t){const n={};Object.keys(e).forEach(r=>{n[r]=e[r].get()}),this.drawParams.attributes=n,this.drawParams.elements=t.get(),this.drawCommand=this.reGl(this.drawParams)}updateAttributes(e){const t={};Object.keys(e).forEach(n=>{t[n]=e[n].get()}),this.drawParams.attributes=t,this.drawCommand=this.reGl(this.drawParams)}addUniforms(e){this.uniforms=QA(QA({},this.uniforms),this.extractUniforms(e))}draw(e,t){if(this.drawParams.attributes&&Object.keys(this.drawParams.attributes).length===0)return;const n=QA(QA({},this.uniforms),this.extractUniforms(e.uniforms||{})),r={};Object.keys(n).forEach(i=>{const a=typeof n[i];a==="boolean"||a==="number"||Array.isArray(n[i])||n[i].BYTES_PER_ELEMENT?r[i]=n[i]:r[i]=n[i].get()}),r.blend=t?this.getBlendDrawParams({blend:{enable:!1}}):this.getBlendDrawParams(e),r.stencil=this.getStencilDrawParams(e),r.colorMask=this.getColorMaskDrawParams(e,t),this.drawCommand(r)}destroy(){var e,t;(t=(e=this.drawParams)==null?void 0:e.elements)==null||t.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(n=>{n==null||n.destroy()}),this.destroyed=!0}initDepthDrawParams({depth:e},t){e&&(t.depth={enable:e.enable===void 0?!0:!!e.enable,mask:e.mask===void 0?!0:!!e.mask,func:f7t[e.func||ie.LESS],range:e.range||[0,1]})}getBlendDrawParams({blend:e}){const{enable:t,func:n,equation:r,color:i=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:kI[n&&n.srcRGB||ie.SRC_ALPHA],srcAlpha:kI[n&&n.srcAlpha||ie.SRC_ALPHA],dstRGB:kI[n&&n.dstRGB||ie.ONE_MINUS_SRC_ALPHA],dstAlpha:kI[n&&n.dstAlpha||ie.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Hde[r&&r.rgb||ie.FUNC_ADD],alpha:Hde[r&&r.alpha||ie.FUNC_ADD]},color:i}}getStencilDrawParams({stencil:e}){const{enable:t,mask:n=-1,func:r={cmp:ie.ALWAYS,ref:0,mask:-1},opFront:i={fail:ie.KEEP,zfail:ie.KEEP,zpass:ie.KEEP},opBack:a={fail:ie.KEEP,zfail:ie.KEEP,zpass:ie.KEEP}}=e||{};return{enable:!!t,mask:n,func:S7t(QA({},r),{cmp:d7t[r.cmp]}),opFront:{fail:_1[i.fail],zfail:_1[i.zfail],zpass:_1[i.zpass]},opBack:{fail:_1[a.fail],zfail:_1[a.zfail],zpass:_1[a.zpass]}}}getColorMaskDrawParams({stencil:e},t){return e!=null&&e.enable&&e.opFront&&!t?[!1,!1,!1,!1]:[!0,!0,!0,!0]}initCullDrawParams({cull:e},t){if(e){const{enable:n,face:r=ie.BACK}=e;t.cull={enable:!!n,face:h7t[r]}}}extractUniforms(e){const t={};return Object.keys(e).forEach(n=>{this.extractUniformsRecursively(n,e[n],t,"")}),t}extractUniformsRecursively(e,t,n,r){if(t===null||typeof t=="number"||typeof t=="boolean"||Array.isArray(t)&&typeof t[0]=="number"||E7t(t)||t===""||"resize"in t){n[`${r&&r+"."}${e}`]=t;return}A7t(t)&&Object.keys(t).forEach(i=>{this.extractUniformsRecursively(i,t[i],n,`${r&&r+"."}${e}`)}),Array.isArray(t)&&t.forEach((i,a)=>{Object.keys(i).forEach(o=>{this.extractUniformsRecursively(o,i[o],n,`${r&&r+"."}${e}[${a}]`)})})}},w7t=class{constructor(e,t){this.isDestroy=!1;const{data:n,type:r=ie.UNSIGNED_BYTE,width:i,height:a,flipY:o=!1,format:s=ie.RGBA,mipmap:l=!1,wrapS:u=ie.CLAMP_TO_EDGE,wrapT:c=ie.CLAMP_TO_EDGE,aniso:f=0,alignment:d=1,premultiplyAlpha:h=!1,mag:p=ie.NEAREST,min:v=ie.NEAREST,colorSpace:g=ie.BROWSER_DEFAULT_WEBGL,x:m=0,y:b=0,copy:_=!1}=t;this.width=i,this.height=a;const x={width:i,height:a,type:Qj[r],format:l7t[s],wrapS:$de[u],wrapT:$de[c],mag:zde[p],min:zde[v],alignment:d,flipY:o,colorSpace:c7t[g],premultiplyAlpha:h,aniso:f,x:m,y:b,copy:_};n&&(x.data=n),typeof l=="number"?x.mipmap=u7t[l]:typeof l=="boolean"&&(x.mipmap=l),this.texture=e.texture(x)}get(){return this.texture}update(e={}){this.texture(e)}bind(){this.texture._texture.bind()}resize({width:e,height:t}){this.texture.resize(e,t),this.width=e,this.height=t}getSize(){return[this.width,this.height]}destroy(){var e;this.isDestroy||(e=this.texture)==null||e.destroy(),this.isDestroy=!0}},A7=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),C7t=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>"WebGL1",this.createModel=e=>new T7t(this.gl,e),this.createAttribute=e=>new o7t(this.gl,e),this.createBuffer=e=>new p7t(this.gl,e),this.createElements=e=>new v7t(this.gl,e),this.createTexture2D=e=>new w7t(this.gl,e),this.createFramebuffer=e=>new g7t(this.gl,e),this.useFramebuffer=(e,t)=>{this.gl({framebuffer:e?e.get():null})(t)},this.useFramebufferAsync=(e,t)=>A7(this,null,function*(){this.gl({framebuffer:e?e.get():null})(t)}),this.clear=e=>{var t;const{color:n,depth:r,stencil:i,framebuffer:a=null}=e,o={color:n,depth:r,stencil:i};o.framebuffer=a===null?a:a.get(),(t=this.gl)==null||t.clear(o)},this.viewport=({x:e,y:t,width:n,height:r})=>{this.gl._gl.viewport(e,t,n,r),this.width=n,this.height=r,this.gl._refresh()},this.readPixels=e=>{const{framebuffer:t,x:n,y:r,width:i,height:a}=e,o={x:n,y:r,width:i,height:a};return t&&(o.framebuffer=t.get()),this.gl.read(o)},this.readPixelsAsync=e=>A7(this,null,function*(){return this.readPixels(e)}),this.getViewportSize=()=>({width:this.gl._gl.drawingBufferWidth,height:this.gl._gl.drawingBufferHeight}),this.getContainer=()=>{var e;return(e=this.canvas)==null?void 0:e.parentElement},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.gl._gl,this.destroy=()=>{var e,t,n;this.canvas=null,(n=(t=(e=this.gl)==null?void 0:e._gl)==null?void 0:t.getExtension("WEBGL_lose_context"))==null||n.loseContext(),this.gl.destroy(),this.gl=null}}init(e,t,n){return A7(this,null,function*(){this.canvas=e,n?this.gl=n:this.gl=yield new Promise((r,i)=>{a7t({canvas:this.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,stencil:t.stencil},extensions:["OES_element_index_uint","OES_standard_derivatives","ANGLE_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture","WEBGL_lose_context"],profile:!0,onDone:(a,o)=>{(a||!o)&&i(a),r(o)}})}),this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")}})}getPointSizeRange(){return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE)}testExtension(e){return!!this.getGLContext().getExtension(e)}setState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!0,equation:"add"},framebuffer:null}),this.gl._refresh()}setBaseState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}setCustomLayerDefaults(){const e=this.getGLContext();e.disable(e.CULL_FACE)}setDirty(e){this.isDirty=e}getDirty(){return this.isDirty}beginFrame(){}endFrame(){}},E7=["selectstart","selecting","selectend"],R7t=class extends Xu.EventEmitter{constructor(e,t={}){super(),this.isEnable=!1,this.onDragStart=n=>{this.box.style.display="block",this.startEvent=this.endEvent=n,this.syncBoxBound(),this.emit("selectstart",this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragging=n=>{this.endEvent=n,this.syncBoxBound(),this.emit("selecting",this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragEnd=n=>{this.endEvent=n,this.box.style.display="none",this.emit("selectend",this.getLngLatBox(),this.startEvent,this.endEvent)},this.scene=e,this.options=t}get container(){return this.scene.getMapService().getMarkerContainer()}enable(){if(this.isEnable)return;const{className:e}=this.options;if(this.scene.setMapStatus({dragEnable:!1}),this.container.style.cursor="crosshair",!this.box){const t=Gu("div",void 0,this.container);t.classList.add("l7-select-box"),e&&t.classList.add(e),t.style.display="none",this.box=t}this.scene.on("dragstart",this.onDragStart),this.scene.on("dragging",this.onDragging),this.scene.on("dragend",this.onDragEnd),this.isEnable=!0}disable(){this.isEnable&&(this.scene.setMapStatus({dragEnable:!0}),this.container.style.cursor="auto",this.scene.off("dragstart",this.onDragStart),this.scene.off("dragging",this.onDragging),this.scene.off("dragend",this.onDragEnd),this.isEnable=!1)}syncBoxBound(){const{x:e,y:t}=this.startEvent,{x:n,y:r}=this.endEvent,i=Math.min(e,n),a=Math.min(t,r),o=Math.abs(e-n),s=Math.abs(t-r);this.box.style.top=`${a}px`,this.box.style.left=`${i}px`,this.box.style.width=`${o}px`,this.box.style.height=`${s}px`}getLngLatBox(){const{lngLat:{lng:e,lat:t}}=this.startEvent,{lngLat:{lng:n,lat:r}}=this.endEvent;return iRt([[e,t],[n,r]])}},I7t=Object.defineProperty,M7t=Object.defineProperties,O7t=Object.getOwnPropertyDescriptors,jde=Object.getOwnPropertySymbols,D7t=Object.prototype.hasOwnProperty,P7t=Object.prototype.propertyIsEnumerable,Yde=(e,t,n)=>t in e?I7t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L7t=(e,t)=>{for(var n in t||(t={}))D7t.call(t,n)&&Yde(e,n,t[n]);if(jde)for(var n of jde(t))P7t.call(t,n)&&Yde(e,n,t[n]);return e},N7t=(e,t)=>M7t(e,O7t(t)),JA=(e,t,n)=>new Promise((r,i)=>{var a=l=>{try{s(n.next(l))}catch(u){i(u)}},o=l=>{try{s(n.throw(l))}catch(u){i(u)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((n=n.apply(e,t)).next())}),hL=class{constructor(e){const{id:t,map:n,renderer:r="device"}=e,i=aDt();this.container=i,n.setContainer(i,t),r==="regl"?i.rendererService=new C7t:i.rendererService=new t7t,this.sceneService=i.sceneService,this.mapService=i.mapService,this.iconService=i.iconService,this.fontService=i.fontService,this.controlService=i.controlService,this.layerService=i.layerService,this.debugService=i.debugService,this.debugService.setEnable(e.debug),this.markerService=i.markerService,this.interactionService=i.interactionService,this.popupService=i.popupService,this.boxSelect=new R7t(this,{}),this.initComponent(t),this.sceneService.init(e),this.initControl()}get map(){return this.mapService.map}get loaded(){return this.sceneService.loaded}getServiceContainer(){return this.container}getSize(){return this.mapService.getSize()}getMinZoom(){return this.mapService.getMinZoom()}getMaxZoom(){return this.mapService.getMaxZoom()}getType(){return this.mapService.getType()}getMapContainer(){return this.mapService.getMapContainer()}getMapCanvasContainer(){return this.mapService.getMapCanvasContainer()}getMapService(){return this.mapService}getDebugService(){return this.debugService}exportPng(e){return JA(this,null,function*(){return this.sceneService.exportPng(e)})}exportMap(e){return JA(this,null,function*(){return this.sceneService.exportPng(e)})}registerRenderService(e){this.sceneService.loaded?new e(this).init():this.on("loaded",()=>{new e(this).init()})}setBgColor(e){this.mapService.setBgColor(e)}addLayer(e){this.loaded?this.preAddLayer(e):this.once("loaded",()=>{this.preAddLayer(e)})}preAddLayer(e){const t=d2(this.container);if(e.setContainer(t),this.sceneService.addLayer(e),e.inited){this.initTileLayer(e);const n=this.initMask(e);this.addMask(n,e.id)}else e.on("inited",()=>{this.initTileLayer(e);const n=this.initMask(e);this.addMask(n,e.id)})}initMask(e){const{mask:t,maskfence:n,maskColor:r="#000",maskOpacity:i=0}=e.getLayerConfig();return!t||!n?void 0:new _we().source(n).shape("fill").style({color:r,opacity:i})}addMask(e,t){if(!e)return;const n=this.getLayer(t);if(n){const r=d2(this.container);e.setContainer(r),n.addMaskLayer(e),this.sceneService.addMask(e)}else console.warn("parent layer not find!")}getPickedLayer(){return this.layerService.pickedLayerId}getLayers(){return this.layerService.getLayers()}getLayer(e){return this.layerService.getLayer(e)}getLayerByName(e){return this.layerService.getLayerByName(e)}removeLayer(e,t){return JA(this,null,function*(){yield this.layerService.remove(e,t)})}removeAllLayer(){return JA(this,null,function*(){yield this.layerService.removeAllLayers()})}render(){this.sceneService.render()}setEnableRender(e){this.layerService.setEnableRender(e)}addIconFont(e,t){this.fontService.addIconFont(e,t)}addIconFonts(e){e.forEach(([t,n])=>{this.fontService.addIconFont(t,n)})}addFontFace(e,t){this.fontService.once("fontloaded",n=>{this.emit("fontloaded",n)}),this.fontService.addFontFace(e,t)}addImage(e,t){return JA(this,null,function*(){yield this.iconService.addImage(e,t)})}hasImage(e){return this.iconService.hasImage(e)}removeImage(e){this.iconService.removeImage(e)}addIconFontGlyphs(e,t){this.fontService.addIconGlyphs(t)}addControl(e){this.controlService.addControl(e,this.container)}removeControl(e){this.controlService.removeControl(e)}getControlByName(e){return this.controlService.getControlByName(e)}addMarker(e){this.markerService.addMarker(e)}addMarkerLayer(e){this.markerService.addMarkerLayer(e)}removeMarkerLayer(e){this.markerService.removeMarkerLayer(e)}removeAllMarkers(){this.markerService.removeAllMarkers()}removeAllMakers(){console.warn("removeAllMakers 已废弃，请使用 removeAllMarkers"),this.markerService.removeAllMarkers()}addPopup(e){this.popupService.addPopup(e)}removePopup(e){this.popupService.removePopup(e)}on(e,t){var n;E7.includes(e)?(n=this.boxSelect)==null||n.on(e,t):AI.includes(e)?this.sceneService.on(e,t):this.mapService.on(e,t)}once(e,t){var n;E7.includes(e)?(n=this.boxSelect)==null||n.once(e,t):AI.includes(e)?this.sceneService.once(e,t):this.mapService.once(e,t)}emit(e,t){AI.indexOf(e)===-1?this.mapService.on(e,t):this.sceneService.emit(e,t)}off(e,t){var n;E7.includes(e)?(n=this.boxSelect)==null||n.off(e,t):AI.includes(e)?this.sceneService.off(e,t):this.mapService.off(e,t)}getZoom(){return this.mapService.getZoom()}getCenter(e){return this.mapService.getCenter(e)}setCenter(e,t){return this.mapService.setCenter(e,t)}getPitch(){return this.mapService.getPitch()}setPitch(e){return this.mapService.setPitch(e)}getRotation(){return this.mapService.getRotation()}getBounds(){return this.mapService.getBounds()}setRotation(e){this.mapService.setRotation(e)}zoomIn(){this.mapService.zoomIn()}zoomOut(){this.mapService.zoomOut()}panTo(e){this.mapService.panTo(e)}panBy(e,t){this.mapService.panBy(e,t)}getContainer(){return this.mapService.getContainer()}setZoom(e){this.mapService.setZoom(e)}fitBounds(e,t){const{fitBoundsOptions:n,animate:r}=this.sceneService.getSceneConfig();this.mapService.fitBounds(e,t||N7t(L7t({},n),{animate:r}))}setZoomAndCenter(e,t){this.mapService.setZoomAndCenter(e,t)}setMapStyle(e){this.mapService.setMapStyle(e)}setMapStatus(e){this.mapService.setMapStatus(e)}pixelToLngLat(e){return this.mapService.pixelToLngLat(e)}lngLatToPixel(e){return this.mapService.lngLatToPixel(e)}containerToLngLat(e){return this.mapService.containerToLngLat(e)}lngLatToContainer(e){return this.mapService.lngLatToContainer(e)}destroy(){this.sceneService.destroy()}registerPostProcessingPass(e){this.container.postProcessingPass.name=new e}enableShaderPick(){this.layerService.enableShaderPick()}diasbleShaderPick(){this.layerService.disableShaderPick()}enableBoxSelect(e=!0){this.boxSelect.enable(),e&&this.boxSelect.once("selectend",()=>{this.disableBoxSelect()})}disableBoxSelect(){this.boxSelect.disable()}static addProtocol(e,t){V3.REGISTERED_PROTOCOLS[e]=t}static removeProtocol(e){delete V3.REGISTERED_PROTOCOLS[e]}getProtocol(e){return V3.REGISTERED_PROTOCOLS[e]}startAnimate(){this.layerService.startAnimate()}stopAnimate(){this.layerService.stopAnimate()}getPointSizeRange(){return this.sceneService.getPointSizeRange()}initComponent(e){this.controlService.init({container:VCt(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}initControl(){const{logoVisible:e,logoPosition:t}=this.sceneService.getSceneConfig();e&&this.addControl(new tLt({position:t}))}initTileLayer(e){e.getSource().isTile&&(e.tileLayer=new Xkt(e))}};const B7t="/vpp/assets/c1-CWRZhdQ7.png",k7t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAABXCAYAAABFsRhwAAAAAXNSR0IArs4c6QAACuNJREFUeF7lnV1sHFcVgM/d3dn12o5/uklsObbjJCSpCKh9AClAIbuiRIIHaB9aaCM1a1VqXxBJeEICFEfwTFIJCVEJeVrJRbQPRDyAFIJ2QxNI1UpNgKA2afA6diLb9dYb17tr79+gM7OzOztzZ+bO7Pys3X2Jkp17595v7zn3nHPPPSHQYZ+Xfvset3FguK9CSr0hIby+/5t7VqcIqXXYMMXhkE4ZlAxN4EJ9JFDh5HGRAFcViuVcJ0L0HR4NmlALlcvB0maERKJCrRwUf+UOhOgbPD1opFxZ67q7uPbqy18qTwlC4H9/uz9IotxAJ0L0Bd6J63f6Aps7YrJ44kpTQkum5k4DCZwEAhehVnllIj6xRoNYKK0svZU4su6X6vEF3nPXl4a4crlfC+1eEgicBSATTSBCBgQ4xyfGefVKLHPcw98fHVr6TMFDCLfS/+0evF3cRPFMpmYngHBnAYSkAkQaAOItfxchjqWx/Z13PurtufmwiO0/U/DkyepAuwhC5Qyf2JeRvg9N60H0C1rDEvBrAMmUWkSb4qkeUzI1H5fEuWUlNiD7NQfPdV4yde8pIHC+qdeEDBDC88fGzplBoEIkMIWbCp/YlzNr7/T3nsGjiyjhQSifQxG1MjHtqoUcELjgNUTX4YnQAsFTIJDTCkA3QKg8bRWaEnAyNTsAgdApEAD7Hah/lwOhdo5P7L1g5cew+6yr8KzoNbsToENE/UkmcWe22y9LO9vwXri8ECt11SJ9t5Y/VpsLydRsHEhwWmGviWLFotdYBk17RtfcqZs3dvs1amcZ3onr2b7AZrnhHVS54uLM0YNr+BIn9ZrdyerszOm6+XND3a9oM6bvjwSrULQafGCG9+0/34ns7Nkxoox4wCZkX39yNKsQnalWz6CaaEev2QUo/ZA080bcoNCGbOzMz6Ru9UZD/SPYBj2eDa68+NZXx4os7zaFhw586VAsVgtxfXKHgUp5LXw7m5W8A3Z7jWVATj8jQRQ0KkS5M6MKggjE5HdXOSj03FxcMvNedOHJfqSyU/xlVvKfPvjLdw5uJlOzjwMJ/rHFDyUw5aZeawdsPdiAhnZzZ1aYN7hI8o8NDwXL0I3vYQmBUeGp9RpCq0W47MzR2Fon6DW7EPV3ZinwgP2iGHcFYruUER89UW6Bp6fXZEWavDJ/FgRQ6zW01zSK2O4EvWgnQQyeVdmeaSl6IwUe1CEwmiiL8La6XrMLvB54OA8ATyn6aECkiTIphbN8YlDccIhaWar02gSQYEqt17x2g+zCYW1nFnh45h/z0a4yN4yijLrwta8N3ZXgvb1wSN6mt4NeYwVGN7Qp5k098IDR7MyNXF8+96AiR68b8IpBYR7tm7peU/iL6OpUJ/nEPlddnXYm7XRbvcCD2pLQwkvPC9Jg9ONrTg+2E/uj7cx8fKxlg9WHJwhP84nxi504MS/HJPnpoRS+0wK8CrpWvomqOGgIgduREbMfYkvBoxjhDdPBbKJufL8l4OmElJQ8fIHY8fAkv5Ocaj2v1VtH9kL3dlclE7yPPy3OiQ6/vNsK7us8iknAPkciXIBaFc8/XD34MYSHQQCuGAjILocX8HTOY9nBNZ90/eDHEJ56xG7CY9BrdgBiG9cgdgQ8bUTGLifDdo6fnvkKz65e29kVhMP9Ebi2VLBB2bnTM9/gJdML06rkHVMQCO17e/vgieEe8dmVjQpcWlgXIRYqFrNrHYhsbwl4amhqyggOIf71/roFiITn46OTpr+YwQMdDc8MWnsQtyk8q9D0IF5bysPKRlVn7WxDeN/a0wvPf04+xGpHqKS2b3yUE8VZ+9mG8F48PNjYEPTQ/etuBpY/eQhDjwzAFw/sNSR8dTEPv/twtTPhiTZaDa5YDQ/p7bZG8JY+ycFPfvM6LK8+bMDYPzIEP0s+K4KkfZyEJ2d18cfGz+C72t4wkul5DAbiybslf9IqvHxxA374q1dbwMmwdg/2w/RPf+QaPJX3k+bjYwln4UlDZ854sgrv8rs34fwf/qQrorj6vvKFw5rv2115lKiOITyMB5SKizVNxgDNt22svNZhY+YRHnjrRjWswpu5dAXeuPR3XXjPH/8GnDh+zDF44jmFFGJ/XNWpLjxMDNi1IyoqYZvw2GJqVuH98z8fwi/5N3Xhnfn+d+HJLz/mGLy6WFKzB/TEFs9wo1UyZgcerjY8hmTKIbYKj7ZZKHXer3/8EvREuxyFJ3cmJS6FMHsA737orjwb8O5Ng4C7rZQMw/qxCg/7/ffdOfgF/ybg5qEE9/PJZ2H/yLBrG0YTopiSdpKPj4tunXq3tQyPFZb6OTvwsA8Ed/m9m7Ak2nn9cPTIYV0zBZ9vd8Mwmp8hPEypCkeHA5g+JpJ2MAyvB++J4W547sAAdIcCdn+XRjs56uKVh9Gy8k5eWzqA1zEb6RYewMOZIzgMPR0f7bUFEKFdXSyA175tCzw50cdreDIxqwECNmhy7877th0FT57mowMRcSXin7SPNWjbAZ6Y7E1w+2cOoagh2oMmwnPkPMNww3BTbOtbPe3ap6meQ4hjPRy8ny0axOv0umEz4k0HYWaquA1PZT8pU/pZxm71Gcevkfq68jS2n5QUrrxsZxUQ5Xn3cgk7Cl5TlDXX4m1AdA9aU2Ja8/M8223NaNQTqXFDUUc1zJpiSAMvKb/G6mebd0h/ouNWnkaUpVIgyts5BnN1bjNgAdrx8OqiTAsNKednKaLDAoblmS0Br3VXVhZjcF+vGUFUw8PbQR9cmx+O1riyQUK3+/l5xoOeOw1AclbDYCyrycozTMmNGt8WwJc0VisTc/tZdSUOTTZ8MrU6UIZ878H4ngdYp04TRrJ4Yub2hLzoX+9mpzrvhXpllGJCOOInejHxdt5htRKH4U1vygXfbSvKdm6sm16Trx/PYT2n5rXKbSTK2gpD7OfSpvAMHPscCMIZv3dDu2LqxI11ZngNiFrHXrfsht2JudnOql4zGotleE3HXjzj3FKibEevOQ5PX5RFbwBFuaNuS1KhMVZOcw1e0yfVFMTyxQ/VBhxoFSGlwEIeCitH4p8vtFOD2ZbY0n4N6q0en2rb6deVqkyGb2fvFx8dHcV6AdUKFGYSowt2daxj8IxF2f2KYs330ysMhW8vz2grE/Usy9fG7AB0FB6W0pgf6w8MRUNRSm07V0XZSK/RiuzIlYnsQJPbOArvB1fvjYSFQK9cwKV0KLZHVTDV8TtiRvaaUkRxwlj2JFiLrLaz2pSwHYWnrNEi12KSqpxR6oS2WRzQTK8ZFQ9rZ7W5Bg87VhZwkX9trMXUs1mJ1EVZUU4Jw17s+X5Nvaa+3NwMmLolojTgjq48+QUYbZ17ezFWJdVB+d+CQnB179eHs5l0ZtyuKNONXOEVrBGK+lbeReUfTS6y49RKU/fjCjz5JbgKuWJ5dygcFhNQlMX9JFEmGHCop2Lo31Sk13yS7DXUa16IqGcrT/0i1IXK/1kAixdOxCeWM+lMH6WamKpCt+Z8t/E9TUSjHywsmBUNdGolurrylIM0qgimygfGZjkAchGgFm8pRl0vsC96Nu+vDtTW87u9ElHfVp7yxRj2F8KlmPz/Wyjr0kk6TZ1VheIs6TVlP5jR2h3eOURKhbxcgtOpFcXaj2crT70K147s3oU2If47mjVyXbrWwoDeHnCzQnPFSLb6cnWJySoXXWzkRqdmB9wu+2F1vJ7utiyDU5o1Sngsbf1+5v/MBcLOpVDx7gAAAABJRU5ErkJggg==",F7t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAABXCAYAAABFsRhwAAAAAXNSR0IArs4c6QAAC0xJREFUeF7lnV1sVMcVgM/c/TOgtiZSAqUVMaFSSFsqrKoU1ybFrUhKxUOch6oGjFke+2KsvuB1Ku+2tc1Lhf2SpyprMIaqUoGHSG6CojXBxBRUETVqClV/3Chqozy0m6rGu3vv3ilndmc99+7933v3rp19g53fb885M3PmzDGBFvvk0tn2WEnqJFTaQ4n6QI6rS73pZKHFhsmGQ1plUBwapdBJiNReGxeFAhB1qRUhhg7PCBqlaj4iSf9SVdgFBNoYyBaEGBo8M2iEwH05rt7vTSfzuXS2LVaSuoBKXa0IMRR4t1Nz+1SqfIerJ0qaCG1x5OIZIGSQAFwvPVKmoR0KRhAliFz91uSxB2GZnlDg3Rq91Eco7dRDezt18ZQEMAZAOtaA0GUVIPP8xMkZvSRSQu4fHD9x7VMFDyEkiomOYqL4EVPPs9mOmBQbA6CnhIViAQgcEv9NKWQOnhtYwPrxUnxPKV5axvqfKnh8skbQmKqqynDvueQy+55Es2YQw4LG+w1FbbHzehVdU089lFtnZw8RAmMiRBFyWBCbDu/tkdmXJELPr9k1ukyAzHRPDGTsIJhATOOi0jvVfPVtGjxDuwZkRlblDKqoHTjxe4OFJU8AppoNMXB4FbsVGQJCzggA3pVVpc8tNBFg7ky2Pb45OkQBsF1+IskDpZmeyZNTbn4Mr2UDhefGrnmdgDFEukxVksSV2Wu7Tup5hreYutArEWl7MabM67cLt85mDxEpkhX2a0ytnNg1J4M2KmO23eHbG6/tWtVzDe/m2QudEoFefjogIF3tnjj+Lnbip13zOlmjRQUoLBCiDHdPJNk4NeqPe8ZitJ8Sddmt88ExvLvpX28vFlePaTweoOZ6JgZzguqkxZOBrJZ7G7FrXgFiPUOIuEA9kofFlfmdkct7VFI+hnXwxBNNxK92pfsdLWC28PAAH5VjvXic4pPBY5ESk3Oors2waw1DlGidCRFXZjRBAFJvbfNL4e+lhHLN7vRiCq92jhQaxV8mkdh0eX/6Bx/dTmX3UYhcE8+hjxtLB2nXGoFYdTaMiSuzuL1BIYkXo32UwC7WjwMXmCE8vV1DaCqF3LfPDd5vBbvmFaLZyswdD9guqnEZ5O+LHh8zVdbAM7Nr3JDeTs2OUQCNXSNQ7jMyxF4n2Ix6CDG2KTKm2XtSWBAdD3oXGDFQZQZvvds1r8BRi+JS9DwFeKnWhhZinSoTUHPdk4NLWJ7ojaVo1yoqGsnp7Vqzj0Fe4TitZ+d4WEpf6VCKpZeZKlMo9EwOTFThzf6UL9Mbwa45BWZUzsrxgN7seFHqJBD7D/dek8VUBV4krrzWlU4uV+2acF7Eo045efBcMtCjTiOT9ruumeNBv5Oog7eYmn28JjBZrLm//R7cemjPaGXumRjQLLCm8FQKfc9PDlxfDxMNcoyVc3o0h304hkdVpTdMVZ3/2Sy7vzjyk2A9I3bg1xW8+XS2IxKL40mgchlEyEK5XM6EBXFdwKuDpheJkCC2PLzf/vzSGYmQIQAQ7mtNFWqmLJcyR9LuXPd26mn2vSN48XjiVTzw89W2GTbvzfE5VE1UUSfQNPOjhEw9KhUzfQHf21rCQydAlEAbP3I0Ax5T0Wgs+9ierV1qexMN5qH+n1yaDgqiJTz9mIOEZ2vXvAHEWoFBbAl4N8bndB4Z76QsauZVSjPfe+WEb7dnocLzatfaPrcFnnh6G/zzD3/zQnm5rKpJP7Y3ocF7c3wuW9uvOUSA0HYf3As7vvYMq7H6yQp8cPcBg6gUZYetVIqhZ/vw6HHbSASrRtcFPD00/YSUQgn+ce8hA+kC4swLo8eTrojrCrc0PDtoDULcmPDcQjODiOpc+GTFTLg2Hryd33gWnj389Ua0SVP34Y3fwwf3Hhq1t/HgfeXogdqCYEbww/f+Av/9+N/w2aeegC/u/ZIlaJS+P75+pzXhoXdZVeGm28AZs9XWCh4C+03qVQaOf57ctQOOjp5mII0+fsLjUV09kyeHsa+GF4zFkdkci8qkdEpeLWecBhK6hVdcWYXLQ7/QgOOwEFzyl68EBk9zH01hoWdygEUQ+AevMnTHEU9u4b3/1l24Mf0rUxU9mkrC7gN7675vVPIq0QQwVLsltIGH/oAYia3WRQwYnW1rkicOm8KCvKr0WUmhW3h3rrwBv7vyhim8b/a/CAf6X/QNHrv83sxc7Ps0jVrAw8CAUqn4o+omXDsWZ/CchcO6hffXO+/B6xN4KDH+HB76IXz5u/t9g4cNmUUPmKntUjrbUS5FT7uHh9JGlaTTsDG38IwWC9HmHZv+MSS2bPIVHm+MBS7R6PmKbTe3ee7hpS5mVYCb+ArHcs+g+9ItPKyOWxSUPlw8RHBo75585guBLRi8YXbxLdHBnomT7FinXzBcw3MDTCzrBR7WR3Dvv3Wvts/bfeCrptsULN/ogmE1P0t4GFIlU3kTho9hI346Q83g7di7i50wom1xr79LrR73ujTrhKGRvMWR2RQ+x+ThFs2AhzOPJmLM9bRz/x5PABEaSlyzz7ZaeLpYlWbB48TcOggcQuPN+362bSl4fJZbdz7FJHHr09sMJdEltPUPb3587lQE4LwQB2yronqIHqFhP77cZ1guGPoQMz/VFmfAbsziiSxQ6uqaESF+ZttW+PjPH1r568x+DN8uxkOFx2eHgTsRScLjg+sLbltxrRbAZ6SKXBr2M5qgJeBxANUrSPGxnVM2VuXw0UnmhdHjrjbxTjpuKXg1VRYjoZzMwrhMYNDWThza+LymrbZ2TKqqjAuK1qthV7F6rajIpQt+qqhRty0nefpBVqOkxNc5Vvh8Wwwc/EbWZ9ugV1snA8Qy19LZ9s3xxBihVHzUvFad0oWyIieDljT9eFte8sQBM1WORMaErU3gds3qB9bDY2lN5Gifiol0WkXyTFQ5H8QK6lQbsJyj4Ea9YwAdgkG+knYzgbDK6jNx1EXD3x650AUg7SkllCuYp24xdSmrzazj7sYsrIn62a/Zy86eiROauBfDJ6MVbyo7k/ItRFOzRvgJwk1bbjNxWL70rnvgu4FV2cuLdftn8pX8JVnts8qNo8r1GYac30vbwls7prCLEc1bfRXosNtLITdqFGRZP16sO4bHJ1L3KtIi7UaQk/fatlu7ZtWPa3jYmPEL6dZXZS92zXd45qpMl1VKhlvttaQRNKeZ0wKDx6TQKCGWy8gCrypoV8/KriVIoq2YKGLmR885mD2prdGgjbIsYjR6GPkIzPJKYagItEE+WpROY74AzFjRPTlgHhxj8+v4Bs9KlZuRUYz3b2bXyvHydX1mIkLVef5szE6Kjb73FR6mGNkCW9pW8iuFutx2AauylV0zSrLDMxN5gcbr+ArvndHZfpXCczyBCxSgXZcw1fcMi1Z2TVRRnDCmPZEAlhqRNhG2r/A0OVqquZgwy5lRntBGVdnWrlkkD2tE2gKDhw1rErgIadUK+UK+qspr6ZQ8qnJdGKyQiSMoFQ3c5vEOqhnQMK1a11qn7C8L5KAA272qspFdAwrTmCOUpXSqrqJcRXmSHb8kTd+Or2qrbxylUC0qRyiBz/MJ8YxgFVUG3CZUk6Wa5/k0PNFUM90yu9YEFW2a5Ok7YrZQ+MsC1eSF85CHNn02sboM3bq05+L3RiqqJNTX7JIG+iWJgUqeOEij5H48I5gmHrhSKQ9ArgOoh8Rk1GKeO/SAUyIdaZaKhiZ5Ysds0pgNsvpHQsS8dBWbRnRRVXSZ2zWxHZbrE8ovU4n8iafg9EuinLbTNMnTS2GiED2iSvAc+38KBS6F2tB+Z08WnE7W73KhwOOT0KeYLKvqNR4bjRCdPtPyG4rT9kKFh4MUtzUiPKcTCLPc/wHetP6nB5WwSQAAAABJRU5ErkJggg==",U7t="/vpp/assets/c4-DdrDvYDX.png",fD="/vpp/assets/bg3-B0hky6Z8.png",V7t={class:"relative overflow-hidden h-100% wrapfit"},z7t={class:"left z-9 absolute left-15px top-0px w-250px h-100%"},$7t={class:"right z-9 absolute right-16px top-0px w-250px h-100%"},H7t=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780});const t=new hL({id:"container",logoVisible:!1,map:new fL({mapStyle:"amap://styles/grey",center:[121.25969,31.177714],pitch:0,zoom:9.8,dragEnable:!1,zoomEnable:!1,keyboardEnable:!1,doubleClickZoom:!1,scrollWheel:!1,showLabel:!1,token:"455cdb79bf8735a87862d83e16f06c94"})}),n={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[[121.410939,31.206245],[121.401401,31.201377],[121.388755,31.194423],[121.358945,31.182059],[121.332825,31.166744],[121.331322,31.166601],[121.330403,31.16653],[121.329318,31.166744],[121.321909,31.172784],[121.316469,31.173844]]},properties:{name:"五角场",center:[121.410939,31.206245],code:"c2"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[121.359928,31.288689],[121.359928,31.264919],[121.352609,31.251571],[121.347745,31.241254],[121.346494,31.233231],[121.348371,31.224139],[121.32898,31.222534],[121.326478,31.221999],[121.314593,31.219324],[121.307712,31.216115],[121.30521,31.21344],[121.303334,31.20916],[121.305836,31.196319],[121.316469,31.173844],[121.315218,31.172238],[121.312091,31.172238],[121.302708,31.173309],[121.293951,31.173309],[121.280356,31.168147]]},properties:{name:"远东",center:[121.359928,31.288689],code:"c3"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[121.254852,31.319237],[121.253689,31.29778],[121.249707,31.285444],[121.24672,31.276085],[121.244231,31.263321],[121.244231,31.263321],[121.241742,31.250129],[121.240249,31.23651],[121.246223,31.227572],[121.252694,31.21991],[121.262152,31.204584],[121.272605,31.18457],[121.280356,31.168147]]},properties:{name:"黄渡",center:[121.254852,31.319237],code:"c3"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[121.142346,31.291773],[121.153986,31.288125],[121.163298,31.288789],[121.176489,31.288457],[121.185801,31.286468],[121.198604,31.285473],[121.2052,31.286136],[121.206752,31.285141],[121.211408,31.282157],[121.218004,31.276852],[121.228091,31.273204],[121.239343,31.274199],[121.246715,31.275194]]},properties:{name:"静安",center:[121.142346,31.291773],code:"c3"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[121.140109,31.135256],[121.173372,31.134545],[121.189172,31.13668],[121.19333,31.137392],[121.209129,31.145221],[121.229087,31.146644],[121.239066,31.152338],[121.249193,31.151594],[121.261764,31.158765],[121.268468,31.165219],[121.280356,31.168147]]},properties:{name:"顾路",center:[121.140109,31.135256],code:"c3"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[121.05127,31.091884],[121.074863,31.101986],[121.087568,31.112086],[121.098457,31.117525],[121.122772,31.133269],[121.130266,31.135835],[121.140109,31.135256]]},properties:{name:"五角场",center:[121.05127,31.091884],code:"c3"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[121.154185,31.009866],[121.141207,31.033592],[121.13342,31.054347],[121.124769,31.065464],[121.123904,31.072875],[121.124769,31.078803],[121.124769,31.092139],[121.125634,31.105474],[121.127364,31.114363],[121.132555,31.123251],[121.137746,31.127695],[121.140109,31.135256]]},properties:{name:"三林",center:[121.154185,31.009866],code:"c2"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[121.302666,31.059519],[121.299991,31.077844],[121.2991,31.09235],[121.2991,31.10151],[121.302666,31.113722],[121.304449,31.127459],[121.304449,31.13509],[121.3046,31.13356],[121.30163,31.139914],[121.297177,31.144361],[121.289754,31.151349],[121.280356,31.168147]]},properties:{name:"杨高",center:[121.302666,31.059519],code:"c2"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[121.468538,31.127479],[121.456592,31.123827],[121.445499,31.123827],[121.426727,31.120905],[121.414781,31.118714],[121.398568,31.118714],[121.390888,31.118714],[121.373823,31.117983],[121.35761,31.112869],[121.34993,31.126749],[121.334571,31.146469],[121.334571,31.147929],[121.322625,31.139896],[121.305559,31.133323]]},properties:{name:"徐行",center:[121.468538,31.127479],code:"c2"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[121.441737,31.004882],[121.424325,31.041356],[121.415619,31.064559],[121.404347,31.085382],[121.39862,31.104178],[121.390031,31.118069]]},properties:{name:"南侨",center:[121.441737,31.004882],code:"c3"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[]]},properties:{name:"新余",center:[121.280356,31.168147],code:"c2"}}]};t.addImage("c1",B7t),t.addImage("c3",F7t),t.addImage("c2",k7t),t.addImage("c4",U7t),t.addImage("bg",fD),t.on("loaded",()=>{const r=new Ry({}).source(fD,{parser:{type:"image",extent:[121.942224,30.761686,120.486256,31.496041]}});t.addLayer(r);const i=new Gj({}).source(n).size(2).shape("line").style({opacity:.8,sourceColor:"#7ac5e8",targetColor:"#9d6d89"}).animate({interval:1,duration:4,trailLength:2});t.addLayer(i);const a=n.features.map(u=>({name:u.properties.name,lng:u.properties.center[0],lat:u.properties.center[1],code:u.properties.code})),o=new Tg().source(a,{parser:{type:"json",x:"lng",y:"lat"}}).shape("code",["c3","c2"]).size(14);t.addLayer(o);const s=new Tg().source(a,{parser:{type:"json",x:"lng",y:"lat"}}).shape("code",["c4","c1"]).size(24).style({offsets:[0,38]});t.addLayer(s);const l=new Tg().source(a,{parser:{type:"json",x:"lng",y:"lat"}}).shape("name","text").color("#fff").size(10).style({textOffset:[0,54]});t.addLayer(l)})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",V7t,[n[0]||(n[0]=I("div",{id:"container"},null,-1)),I("div",z7t,[z(Dit)]),I("div",$7t,[z(GEt)])]))}}),W7t=li(H7t,[["__scopeId","data-v-be18f487"]]),Jj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAABE5JREFUWEftWc1O21gYPZ/jtJsJTd4ApO4IAzxBg9QHKKsuS0I70qwKT0B5ApjVSG3B3XYF3Vdq+gSJitlVavoESQmbaRx/o+/a171xHMdO0qpIWEICx7nfuef7Oecauv/wMeMGXHTjgH5+/5Z+R2I1kRGjt0DnTNMto3MSOPb1hTL66qJbsy37gQ9sEKMM8DJAPSZ0LKaOx/zO9rx2fbPSy7uRuYE6re4y7thPmHkHoOUMAHpEOMZ37588gOcCenJ5tUOMgwSATQLaDOwx4dxi6jFkIyNXj+Ef7lbvHWfYHGYG6rj9IwEiQQQMMR7J70R4UV8tHQabICf62/22R7CO4s8DaNLA257G7kxAT9xrhxRD3GHCocW0LqAJOK5XS/sCJg5U7jmX/QNmvBBwQ8ZhgdgJssEdGgw308DmBvqDSbX4lmKoaH8B0KOBt6KDJQGVZ0/dqy8Czvd5uzActrlY+BCWTrtRLW1OKoNcQE9+pE9ACQMdx70+YvCeTrEONAmovi+sNqqlLWlGDTa+hgk6M1Cn1S2HzJWFjad/Lp0HDPW7AMo08Cpm6iYBNVkNM9AJwKqsQN+LM5sdqFFfwoQs9OqiXysQPmh2zMXTgDrutSNTgInru6tLb1T9hs1JoDf16h/1mYFq5oaMrWdrpWaweJB2hr8fHzNpQF9/unpkWXQm02J3tbSt1prCaiZGJzF3ctk/k7Fkgp9WozFQIw2UxLReLxNQPVbixa47+L+Bt/L3ZqWTNfVmbTeqpcj/6iyYTOcCqpkzmygMpo4vZrAsjIbfbQHYMDf58rK7YbMt98dGVSZGT92+WlRqEUSRoRDlkfnJxGrIj1xsPRBREHYAfhf/WEvvpDUb1VIl93jSKZ40jH/G/XiWsjIqI6gmowPEUS2Gchi4odgVWj3R/yYR1JQwL+22CHQM4ihL4Zpj5ZQL6JC9rWdrlSjoqdufo0YDKTVr9N9Wd/muGvzcaVSXVnKnftK81CURVyUJkDZHg2YKgJrfTZqvubpenHuB7DEFOnX7qiTiTE8DGspxN85cmoBkSn2MAXFIqk4XrEyRl0jKUGagWjVMLdZMJw3oKVo/Jr2mV9VeIneNKvYCLZZ5Kk5JsWo6qlnck24kc+0kOZb4mRlVYCMHFZjm0I+OOaG0Gk3yDVpQzBNCfJzlAhpKn2qg8PhgOPzRkTLZ4QcNqC2eeaxJO47kBhqku9DSZx2PhttFLj4Xf2maliSgxgmhLQc6LtpnIs1607pJk5QuN9CwXqVDJUhNaT3onMCiQmXtTeNAQ8MhbJZFrcKXE/pgp8ooTYpnAqoXNDp1JIbUmg//qxyPtexqaTQfVJ8NBvvTjsq5mylpx+pNSbF4kPCCIY2gpkfe/l+rlXZWQzMXo2YQqV2/aO0AhXWCXwNIUiw/crXl/RPY/2gN/PNpaV5YjWZlYZHPLYzRRYK6ZfRns5nY9b8i6Dwxbsz/mf4HXAoZkw+uNn8AAAAASUVORK5CYII=",G7t="/vpp/assets/la_1-LFzvUz0j.png",j7t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ0AAAAxCAYAAADA3fxqAAAAAXNSR0IArs4c6QAABdJJREFUeF7tncFvFFUcx3+zuG0D1ZaKpb00NdFTG8KeOEnoyeDF3f8AD2I9iTGePFhMOHmAGxUONJ5NthyEcDCAnoiJW03roath3WiKdV1aWUrZLfvkvWTGnZk3szvvvXUY5tuEhLTzfvObz3u/T38znZm1jv9QZUREuUMvUe7QCP+v76tU26ZS7R/X9/u9vTeJqPvD+P8INL76kvg/fIGAAQILFpdG1IKcOThMxw4f7JtgUPBuAlHnp3M0hGGgTBDCJrCwvr5+1vqgusWidBivjRyg45NjUozl7Yf03Ubd9bMwwazVH9Cdza3QKcH4YEF34wdhoNoNEhDC4PGspR0mTk+8X7JTkon9g/TW1HjPwogqGG9gjI8maHQYBksEoToJOMIIlIZMGGODWSGMgX0ZH87fHjyib/6oub6PglcveA5Shx86DFS8QQIuYUilIRPGcHYf5acnpML4e7dJ16t/UbPddvIM60g2dh7T9epm6DFhfHBH140fhGGwXBDKJwyfNIKEwTuM4ewLPoQyYYR1JLLtvUExPrij68YPwkCVGyQgFYZLGlGF0Wjt0bXqJjVaT5w8UfDqBc8h6vCDMAyWC0IFCsORhkwYA5kM5V89LO0wZMLgpzBBHYlse++8YLw6PwgDVW6QQKgwhDT4n1y9N25xYZyceoVeHhrw5QJh+KcnTuFBGAbLBaG6CkNIw74jtJPXyalxmtw/CGFITsGepQ4JwkCVGyTQkzCk0nhjcoxeHzngy6X5pE3LlXuuaxhx/oblCaZ5/xCGwXJBqJ6F4ZPGsfFRmhl7USoMftGz/rjl/CzNBRu3sB7dvkHbFz/HUgcBbQKMsaVyufxOlEDO6UnQ8w28w/AKI+yah2x7b0IYH3zNqBs/CCPK8sa2YQRUhOF0GmEPRH27Uadfth86+0bBqxc8h6jDD8KABEwRUBWGkMb7d+ss6IlVCMM9RToFD2GYWu6Io0tARxhCGkEPrN358z6t3W+48gu6SMo38gpGdmAYL7/I3I0fOgzdMsF4m4CuMAKlIbvZCwWvVvD2ZKnygzBQ8KYImBCGVBoQhn+KVAsewjC13BFHl4ApYfikYeK1ft6D03nrFI+V1vHoMHTLBONNnpJ00nSuaUAY/kUWl7AgDBS8KQImOww7JyEN2Wv64ioYO7G07h/CMFUuiNMPYYjTk082Gsz7Xs+0FmzcwoIwUOimCPRLGEIa3gfWIIxoH+Vg6hoOhGGqXBCnn8LwSUPnvZQ8GMarvRe0+fOPVP/sI6x2ENAmwBi7VS6X57QDhQRwOg0UvFrB22xV+bUqvwphsB33jXT9nHTEfm4JrDSbzblKpRL+uSCahy+kgRf5qr/Il/NX5QdhaK5eDO8k8L8IQ5yenPj+7ok3pydoYmhIOgVf/36Pao3d0OnBeDV+tXMf0+7qCpY+CGgT2NvbW+l3h2EnaWlniwAgAAKpIgBppGq6cbAgoE8A0tBniAggkCoCkEaqphsHCwL6BCANfYaIAAKpIgBppGq6cbAgoE8A0tBniAggkCoCkEaqphsHCwL6BCANfYaIAAKpIgBppGq6cbAgoE8A0tBnGHuE+VJxmiexmCtUYk8GCTz3BCCNhE+xEEbWuikOo8XmII6ET2gC0oc0EjBJQSmeKhVHh7JWiYhEp0FEld0Wyy3lCn19NDrByJC6AQKQhgGIcYTgwhjMWjctoqOd+2dEK1/M5nNx5IR9poMApJHQeZ5fXb7ytLM4FZD+0uJsPtIngScUA9KOgQCkEQN03V2+t3r1vEXsTGgcy1pYnHn7rO6+MB4EvAQgjYStifm1q58SYws9pQ1x9IQJG0UjAGlE4xXr1qdXi2cyZJ2PkkSb2IeXZgsXoozBtiAQRgDSSMj6OP1TMZ/JWEWVdNttVrh0pLCsMhZjQACnJwlcA++uFY9mmPhLyahK+oxoq22xucszBbyQVAUgxrgIoNN4xhdEx81b9r0YqhlXcPOXKjqM6yTwL+x3NYxCHLZCAAAAAElFTkSuQmCC",Y7t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQ0AAAA0CAYAAACQEG3ZAAAAAXNSR0IArs4c6QAABRdJREFUeF7tnL9vE0kUgN862EFHE5CoSAE6iZNIQFDRcEVooAP/BURC3KU8/oKDvwDKwBV39EgOHScEFFBAQxAkSFg6EU45gYQEaUDETrynWcmR7Z3dzXpmvLveb5tEzr63730z/rSzP+JdvvvNFxGZnd4js9NV9WtoW1lvy8r6Vt/naffvDTaJHabWwYbeP1yUfx8uanvlQwhAIJbANU9JI+2XOO3+CINpCIGxIHCt2Wxe9248a/lpzjCOHJyQ0z/WtATeftiS5fftSDomsuEMYywmHU0Ul0AgDFW+92DdD5Yng5tuSRInjHeftuX5P61IJCaxKqlpPEuS4s5WKs+cwI4wIqWhE8bUDxU5e6wmtT1eqAOEkfmgUgAEXBHoE4ZWGmmFsf55W542OcNwNWLkhUCGBELCCElDJ4x9k56cPTYp6ufg9uVrRx692ZT2tr6tQ/sn5Oef9Nc/kmSjMprGsyTJcLpx6KIT0AqjTxq2hRG3nEmSjSrMNB5hFH3OUn+GBCKFsSMNhJHh8HBoCOSLQKwwAmmoW66DD27FLUm+bvrBkkT91G2mZwim8Zxh5GsGUk2hCCQKI5BG94nQbmvVCQmuYezfVwl1myQMJZtzxye1d1hU7P1X3yOvf6iDmcYjjEJNUIrNF4FdCSMkDVNhRF0wTZJNVxgm8QgjXzOQagpFYNfCCElDPempHqIa3JK+9CbLGYRRqMlFseNHIJUw+qSBMMZvNtARBBIIpBbGjjSi3glpbamLni3Z+NbRHpszDCYlBApLYChhBNKIemENYRR2MlA4BJIIDC2MQBq6F9aShKEumJ4/sVf7lKiK/ft19C1ZdVDTeC56Js0J/g6BSAJGwoiUxpO3Lfnvi/7Z8Lg7LEmy6Qoj6pbubuIRBl8HCAxNwFgYWmmo19vVW6u6DWEMPVgEQiBrAlaEEZIGwsh6XDk+BJwQsCaMPmm8WGtL82P//wHtLf/M0ZpMHwg/w6H2iVvOdHOYxLMkcTKRSFoOAlaFsSMN3QtrvTyjnuFQ+8SdnXRzmMQjjHLMbLp0QsC6MAJp6F5YQxhOBpCkEBglASfCCKQx+MIawhjluHIsCDgh4EwYsdLI8j+HsyRxMpFIWg4CToURKQ2EUY7ZRZdjR8C5MLTSQBhjN5FoqBwERiKMQBrl4EmXEICALQJIwxZJ8kCgJASQRkkGmjYhYIsA0rBFkjwQKAkBpFGSgaZNCNgigDRskSQPBEpCAGmUZKBpEwK2CCANWyTJA4GSEEAaJRlo2oSALQJIwxZJ8kCgJASQRkkGmjYhYItAZtJYWL33u2picebCdVvNkAcCEHBPIBNpLKw25sX3/lTtdcS/enu2ftN9qxwBAhCwQWDk0vjlVeNipeI1eovvdPz67RP1JRsNkQMCEHBLYKTSuLLaOFnxvceeyFRvW77IRsfz5/6Yqb902y7ZIQABUwIjk8bCcuOwVL3HInI4oug1aftzi6fqa6ZNEQ8BCLgjMBJp7EIY3Q4Rh7uxJjMErBBwLo355cbU3qq3HHOGMdgI4rAytCSBgBsCTqWhhDFZDa5hnExTvi/ycrPtz/11qr6RJo59IQAB9wScSmNhZUndVp0fpg3fk6VbMxfrw8QSAwEIuCPgTBq/rty74Yn/m0npvng3b81euGqSg1gIQMAuASfSCC581iqXrJTa6tzhjooVkiSBgBUCTqRhpTKSQAACuSSANHI5LBQFgfwSQBr5HRsqg0AuCfwP7aLiU29IBGEAAAAASUVORK5CYII=",X7t={class:"h-26px flex items-center px-16px"},K7t={class:"px-16px mb-16px"},q7t={class:"h-15px flex items-center px-2px mt-10px"},Z7t={class:"text-9px text-#5BAFCB font-500 pl-16px mt-6px"},Q7t={class:"flex justify-between items-end"},J7t={class:"h-15px flex items-center px-2px mt-12px"},eUt={class:"h-15px flex items-center px-2px mt-12px"},tUt={class:"h-15px flex items-center px-2px mt-12px"},nUt={class:"h-15px flex items-center px-2px mt-12px"},rUt={class:"w-105px h-90px"},iUt=le({__name:"baseInfo",setup(e){return(t,n)=>{const r=Fi,i=Mge,a=Ige;return H(),Ue(Ir,null,{title:J(()=>[I("div",X7t,[z(r,{class:"w-20px h-20px mr-14px",src:y(Jj),fit:"fill"},null,8,["src"]),n[0]||(n[0]=I("span",null,"基本信息",-1))])]),content:J(()=>[I("div",K7t,[I("div",null,[I("div",null,[I("div",q7t,[z(r,{class:"w-9px h-9px mr-6px",src:y(cp),fit:"fill"},null,8,["src"]),n[1]||(n[1]=I("span",{class:"text-11px text-#9AAEBF font-500"},"注册调控能力",-1))]),n[14]||(n[14]=I("div",{class:"text-9px text-#5BAFCB font-500 pl-16px"},[I("span",null,"削峰："),I("span",{class:"text-15px text-#fff"},"13.80"),I("span",null,"kW"),I("span",{class:"ml-20px"},"填谷："),I("span",{class:"text-15px text-#fff"},"1.80"),I("span",null,"kW")],-1)),I("div",Z7t,[z(r,{class:"w-100px h-18px",src:y(j7t),fit:"fill"},null,8,["src"]),z(r,{class:"w-100px h-18px",src:y(Y7t),fit:"fill"},null,8,["src"])]),I("div",Q7t,[I("div",null,[I("div",J7t,[z(r,{class:"w-9px h-9px mr-6px",src:y(cp),fit:"fill"},null,8,["src"]),n[2]||(n[2]=I("span",{class:"text-11px text-#9AAEBF font-500"},"发电单元数量：",-1)),n[3]||(n[3]=I("span",{class:"text-15px text-#fff font-500"},"180",-1)),n[4]||(n[4]=I("span",{class:"text-9px text-#5BAFCB font-500 mt-2px"},"台",-1))]),I("div",eUt,[z(r,{class:"w-9px h-9px mr-6px",src:y(cp),fit:"fill"},null,8,["src"]),n[5]||(n[5]=I("span",{class:"text-11px text-#9AAEBF font-500"},"发电单元容量：",-1)),n[6]||(n[6]=I("span",{class:"text-15px text-#fff font-500"},"180",-1)),n[7]||(n[7]=I("span",{class:"text-9px text-#5BAFCB font-500 mt-2px"},"kW",-1))]),I("div",tUt,[z(r,{class:"w-9px h-9px mr-6px",src:y(cp),fit:"fill"},null,8,["src"]),n[8]||(n[8]=I("span",{class:"text-11px text-#9AAEBF font-500"},"发电机组数量：",-1)),n[9]||(n[9]=I("span",{class:"text-15px text-#fff font-500"},"312",-1)),n[10]||(n[10]=I("span",{class:"text-9px text-#5BAFCB font-500 mt-2px"},"户",-1))]),I("div",nUt,[z(r,{class:"w-9px h-9px mr-6px",src:y(cp),fit:"fill"},null,8,["src"]),n[11]||(n[11]=I("span",{class:"text-11px text-#9AAEBF font-500"},"虚拟电厂数量：",-1)),n[12]||(n[12]=I("span",{class:"text-15px text-#fff font-500"},"584920",-1)),n[13]||(n[13]=I("span",{class:"text-9px text-#5BAFCB font-500 mt-2px"},"家",-1))])]),I("div",rUt,[z(a,{height:"70px",arrow:"never","indicator-position":"outside"},{default:J(()=>[(H(),Q(St,null,Nn(4,o=>z(i,{key:o},{default:J(()=>[z(r,{class:"w-95px h-64px",src:y(G7t),fit:"fill"},null,8,["src"])]),_:2},1024)),64))]),_:1})])])])])])]),_:1})}}}),Gwe=li(iUt,[["__scopeId","data-v-5c364b2e"]]),tM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAArdJREFUWEftmc9y0lAUxs9JQt2UFt6AhTuoU57AMONeWLmUWOuMK/UJOn2CunPGitilq9a9M+ITQC3snDFvABYXFZIc5yTEXqaBm8ClU2ZyV5kcEn75vvPnBvD+oycEa7Bw7UB/fv2Md1HYUMj/iqagS9qUKrqkgDcuX4mizXY/BwA5q5y3VQGvBLTR/f2aAfdK22/vJOjxxdDUEQ4AqACArGrHJedwfyffWhZYuaIT2G8M5nlUe/5g62xZSL5eOWijd1nXSHsIQAMP6XyvuPXpToK+7/V3XxTzHYYTj0VYLjarnB8keQDlisb58g8/Lqu663aSdAWloM3u8IgATADiQvIXgnZmlTbf8DEreQWQ29gwjjSAztXIOeHzL2O0MWWgbLNBRjtK0bComu1+gTLGKQDsBp8jG8duJY6yC4GyMq6um2JFH1/0TR0NrvbO37FTYwxWDgmqhGSFRSV2BZecStzWtRhob3gAhAWrtGmFCgqgrWelbIXPN7p/mghUF0G5KwStC20D4bFVyvppIVuJQAN79VMALITWOejWuMrjgi5S8Qv1UTEXRevigsqUmxVPpGhgZzDHeWmobVvF7CEfxwFl25HwqQiDCK3wHvMeIjHorJvJQEcjt3UvY/yKuj5OUd0aqOe5dtAVyCYE34WJuqZYbEqs9yvWn+PCQu87tx6ZotegMLcrLA36rt0vzLLOQaeMHuQmfTQS5NZArxWbsu4VTxm2TgYii8t2WbFzNMraj90hTyI/x2QgsngKykmfKhpR+gvkKNmI6L9eEFGd5/50jopxqN4stui4shyd7CUjJwu3p8wIBjRz8kDFcBx7Xnx/Jzv3TTW2osE8H5oaTs9qj8Yn4Z4yKk6e9yXct0bFYTIwZJuVRKCym60ynoKqVjdVNFU0zIG1+Q1ftWWq77c2/zP9A5SBMoTKK9QrAAAAAElFTkSuQmCC",aUt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAA4pJREFUWEftmc9O20AQxmdsh55CkzcIUm9JK/IGidQ7cOqRBtpKPUGeAPoElFOlUkiuPQH3SuQNgkpyq4TfICnpCds71RgvCU7sXf+pVCQscfJ697fffDM7G/DF6zcEj+DBRwf668d3/B+FlULeK/oEmjFMT4pmFHDu83+u6NfhaNUkowGI49tbr/exXrbTbCJX0C/9UcWyoIJkloTp2R+q5cvj4c1bJOxM4chGxC7cuoetenmsC50Z9NvPm3XTMNYIRAMAK3JhRNhvVYuf5kHv0caE1N6uLnd1YFOD3gHA3iwcAPQQ0CagtxqgPp8cp4JNBdoZTA4IYNdfCLDrCXFuel6PQ3l0NWqYaF3ogurCJgLt9EclKlgXALAKQLYQ0H73avlsVo00oPw9IbXibJAI9GQwYciGH2LHbbUWZHBaUN44Ol49KsG0QWfC3duqFZtRnkoPCkAg2tu1558Xza0FenQ1aZgIrOYYHZd3HVkLs4Cyqlu15ZXUoDLkcTuWk2cDBXDRrXP9DcMqFeUi/qxgXbMv40KeF6gQtBFOUJ5bCXo8+L2LYByosjIv0KioKUFl2KNCEg5ROPSd/qgilkyuFFqPB95lqtCfDG6u+fRBxy3rnM1hUC06jUE6ivKl73KrVqxrzAcS1K+1CD2db+QYB9zzRWoqPRqcRCNCONuuFjd0Fp0B1Rn+YExcHugqqpXxvCpvzrX4iNV/LCxsciPjkdt8/7K8MAoaoOxRgKhCrI8TP5K7sbjGWgl6PJycIsE6Ou5K3ImUBJgrARQKOwKpYhDa4DjcRMd2/hqgdx26bh1VAcu6HIzjE4htMnbRbUYlkjKZAs9VyD+Zos9hFZx8HyQnW8lGx91gFflOZZF5qrKXUlEfdvCnw2bPqqq8loTn6Qwne0SwnymZpqqa3D0BOl5T5acohaOA5Aaiznmt0MtFp96Kb3DjbBAFJOfOrOi9x4IQBd14YmU529nvswfInW/NPgCWgsqy8Aqt5dFZlWT4OFOTXHfnN8vfQw+JVrmXUPW6iUF5wSCEBwBQYnUJ6NBwRHdR08KKiSVzHYhK8prBvwWgiZtIwL8DcGlqx5WmRB4Ne48BYMna4WydviMb/Hs92gjEEKWgTvpD4pJFVeJSKfrAClIxwLUgjAzHf3wJDsDFueGIs7TVIpOiKgXyfp9Z0byBouZ7As1b6TlF814g7/kezf+Z/gLj5RaEBQ3vVwAAAABJRU5ErkJggg==",oUt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIYAAAA4CAYAAAA4uYCUAAAAAXNSR0IArs4c6QAACDxJREFUeF7tm19IVFkcx6uHHKIoIXMehJFCRyh3ikBDsqGHJsLsIUtqpJ4qs3LrobEgtnSXhByhWCttN4hatMgK1j/EjlFMRqT4kEiR9eKEklYwOxU49rR8h/3J6e65c8+9c91r3OOTzvzOuef3+33O7/c7v3Od6/F4fp4jf6QFFBaYK8GQTPAsIMGQXHAtIMGQYEgwJAPiFpARQ9xWtpKUYNjK3eLKSjDEbWUrSQmGrdwtrqwEQ9xWtpKUYNjK3eLKSjDEbWUrSQmGrdwtrqwEQ9xWtpKUYNjK3eLKSjDEbWUrSQmGrdwtrqwEQ9xWMyaZkZHh+PDhQ3zGHmBgYsvBuHjx4rb8/HzP6OjoSEVFxR9qOrS2tu7Bd93d3f1tbW3DBw8e9BQXF/8wOTk5tW/fvtsGdJ+zcuXKxefPnz/w+fPnv4eGhoZra2sfG5mHHUP6PHr0KKw1X0lJievo0aPlaWlpjh07dgRnExzfDRjhcPgnOODmzZsdLS0tg7W1tRs2btzohVO3bt3apNeh2KXXrl3bv2jRoiXsvHrnUcrrAQNruHPnTsDM56e6fhpvSzDgkJaWlj1Lly51whAfP34c7+np6U9m1E+fPsURqbQMrwYGPueNzc3NdSNiYA3v3r2bUMo0NzeHX7x4EdN6rtnf2w4MJRR6DCoSndTAoIin53mQbWhouNHd3R3ROy5V+VkLBmqIVatWuUhB1CG8VDI1NRV//fr19E6ORCLjwWCQu/tLS0tdlZWV2yh9wNFaBpw/f74DOxpyDx8+DNfV1SWtQ9TAgD6YY+HChY41a9a4Jycn4wMDA99EoOXLl2euXr3a8/bt28irV68iX758iff29o7YJmJcvXq13Ol0ZsJQrOHJUW1tbaGioiI3wcA6T1ljKB3LK2IRJQ4fPlyAmoTkRZxMxSnASBYturq6qgk2Hmher/cX+vz48eOFpaWlPgDt8/mCrHyqdZMW5Hq+tyRi4ISRlZWVrbZQOB85PTc3NwEPfsipSjBg4KdPn/aR3Pj4eAzFKf2Nnbp9+3Yf7XrI37t3L8TK8NYBKM6dO7eXHH7q1Knfnjx58p8aAGP1gMEWnI2NjTc6Ozun08Tdu3f3o+4ZGhoaPHLkSIceR5otawkYcJbT6VwMZfLz890wBnbkwMBAwqEPHjwYVjrByKlE6dzR0dFIfX39n+np6Y6qqipffX19By9MK8cRjGrGx7GTvqPjJ5x7//79hD7z5s2bs3nz5kQqwQ8VnFhPNBpNpDOHw+HIyclx43f282Sp0WwY2PksAYNdgGgfwwgYeM769eszT548WX7lypUO7E78ffbs2QP4DtGjp6cnzNYkJE+RQiTlkD7s3G/evBmm/go2wu7du7mnEi3navV3tMYb/X7WgoGQu2zZsjRS7PLlyz/id14f48SJEzdI7v3791NajSK/3+/2+/0+pfMDgUDBpk2bvJR2urq6/lIrZHkGVwJAqYI+pzSmHIuCFIUm+3lxcbEnKyvLJcFQdD4pkiiNqFV8iuZnZbpAKiNQ4MCmpqbbbP4X2XnK2gm9ibKyst8JDGUBy56SlJ1P0Ugqsi4jMrMqYhw7dqy9rKzMjcLT6KlEFAwYixfiqQ7Re0Rki0pKU4g8iDpjY2OxkpKSgmg0GmOLSnZMZ2dnqLGxcbqIxgklJyfHNTY2NlFTUxMy4txUxlgKBgxz4cKFcoRMVom+vr4+pTGM1hg842Cn7tq1y8t77vXr16edwxurBgybLgAEdEBPAnNUVFQ04bjMm6+oqKiQOp+4r1HKtLe3D+qFNBUgaKwlYDQ0NPhWrFjhopY0qwjC+PPnzwfNBAMArlu3LnPt2rUucoRR4x06dOhXnqPoqImIA+BwibZgwQIH9EQ6kZ1PAYvzzv3Ivzg5PHv2bIJXPBqJGP/ewHoyMjIyqaAUWF5SER4YdBqh+w405gAGjt3RaDQOkNi7kvT09CUUrZD6kj3w1q1bfWr9k1R1STbekohBRhoZGZnIy8tz4fzOVt8wNPoM7MKpIcZrcLEtcYypq6sLAS7qJNI8iEb4nTqZ7GkmmZG2bNmSh24lZHhgoJMLHbA2tPEJDLVrdzbtKLufM+lsPXNbAga7QF71jYZRTU3NXp4iWqcS1nl0tf7y5cvh3t7eYUSjM2fO+OA4kQsxej5bpCrBwNG3srKynJ5bVVXl1QIDqbSwsLAQa2hublbtcPb393Ojpx4HG5WdlWDgKLlz587pTiGUS9YSV4sYPKMQiGaBAfhaW1ursQacOETex9C6EqB1q9UzRp2tZ9ysBIOngJEa4/8AA89AyqLTgxYYgJ6adahJ4vH4N40ttMapKLfyrS4JhsA2SpZKlMO1wGAbd7yIQLevmJe9lRVYpqkitgVDrT3Nsy4VlGrFJ69m4r3zyQLG69VgHqo/qGtqqrd1TGYJGMjLBQUFiSt1v9+faDRp3QmYnUp02OgbUa28z4sY0DcQCGxAwYnJRN7tYC/hjK41lXGWgYGCje0tqO0gUm4mwBB5gwvPZ18m0guG8qVjRILTp0/fpiYZurDV1dXlX79+jbPP0brqT8XpImMtAQMLY9/iwnEyGAw+TnYrajYYZp1KRGoMelkILxRdunSpX6lnKBQKsJvE6mgBnSwDQ4RaVgbVPP6ma3X8nZ2dvSQWi8X1dAbZ63zROwg9Y0hWef2f7J+KSDdWP732MVv+uwHDbMXlfMktIMGQhHAtIMGQYEgwJAPiFpARQ9xWtpKUYNjK3eLKSjDEbWUrSQmGrdwtrqwEQ9xWtpKUYNjK3eLKSjDEbWUrSQmGrdwtrqwEQ9xWtpL8B5jhv9tha09MAAAAAElFTkSuQmCC",sUt={class:"pt-18px"},lUt={class:"pt-18px"},uUt={class:"h-26px flex items-center px-16px"},cUt={class:"px-16px pb-4px"},fUt={class:"bg_wrap_lb2 w-64px h-42px"},dUt={class:"h-28px"},hUt={class:"h-44px w-192px"},pUt={class:"w-50px"},vUt={class:"w-100% h-22px text-#F0F0F0 text-8px text-center"},gUt={class:"pt-18px"},mUt={class:"h-26px flex items-center px-16px"},yUt=le({__name:"left",setup(e){const t=d=>({legend:{show:!1},tooltip:{show:!1},xAxis:{show:!1},yAxis:{show:!1},color:["rgba(0,0,0,0)"],series:[{type:"pie",clockWise:!0,radius:["55%","70%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}},hoverAnimation:!1,data:[{value:d,name:"01",itemStyle:{normal:{color:"#65F3DF",label:{show:!1},labelLine:{show:!1}}}},{name:"02",value:100-d}]},{type:"pie",radius:[0,"6%"],itemStyle:{normal:{color:"#65F3DF"}},label:{show:!1},data:[100]}]}),n=zn(t(67)),r=zn(t(47)),i=zn(t(27)),a=zn(t(43)),o=(d,h,p,v)=>({grid:{left:6,right:20,top:0,bottom:0},yAxis:{triggerEvent:!0,show:!1,inverse:!0,data:[]},xAxis:{show:!1},series:[{name:"削峰",type:"bar",showBackground:!0,itemStyle:{normal:{show:!0,color:new Zo(0,0,1,0,[{offset:0,color:"#34c4d930"},{offset:1,color:"#34C4D9"}]),barBorderRadius:50,borderWidth:0}},zlevel:2,barWidth:"10%",data:[d]},{name:"填谷",type:"bar",barWidth:"10%",showBackground:!0,itemStyle:{normal:{show:!0,color:new Zo(0,0,1,0,[{offset:0,color:"#7ecb4430"},{offset:1,color:"#83D044"}]),barBorderRadius:50,borderWidth:0}},zlevel:2,barGap:"140%",data:[h]},{name:"发电单元",type:"bar",barWidth:"10%",showBackground:!0,itemStyle:{normal:{show:!0,color:new Zo(0,0,1,0,[{offset:0,color:"#6FA6E030"},{offset:1,color:"#6FA6E0"}]),barBorderRadius:50,borderWidth:0}},zlevel:2,barGap:"140%",data:[p]},{name:"发电机组",type:"bar",barWidth:"10%",showBackground:!0,itemStyle:{normal:{show:!0,color:new Zo(0,0,1,0,[{offset:0,color:"#E1B97F30"},{offset:1,color:"#E5BB7D"}]),barBorderRadius:50,borderWidth:0}},zlevel:2,barGap:"140%",data:[v]}]}),s=zn(o(68,78,28,54)),l=zn(o(58,88,58,82)),u=zn(o(58,78,38,94)),c=zn(o(48,78,98,64)),f=[{pie:n,bar:s,name:"ID-001"},{pie:r,bar:l,name:"ID-002"},{pie:i,bar:u,name:"ID-003"},{pie:a,bar:c,name:"ID-004"}];return(d,h)=>{const p=Fi,v=eo;return H(),Q(St,null,[I("div",sUt,[z(Gwe)]),I("div",lUt,[z(Ir,null,{title:J(()=>[I("div",uUt,[z(p,{class:"w-20px h-20px mr-14px",src:y(tM),fit:"fill"},null,8,["src"]),h[0]||(h[0]=I("span",null,"各虚拟电厂下排名",-1))])]),content:J(()=>[I("div",cUt,[(H(),Q(St,null,Nn(f,(g,m)=>I("div",{class:"flex mt-10px",key:m},[I("div",fUt,[h[1]||(h[1]=I("div",{class:"text-8px text-#DAD7D7 text-center w-100%"},"1#数据源",-1)),I("div",dUt,[z(v,{height:"100%",options:g.pie},null,8,["options"])])]),I("div",hUt,[z(v,{height:"100%",options:g.bar},null,8,["options"])]),I("div",pUt,[z(p,{class:"w-50px h-20px",src:y(oUt),fit:"fill"},null,8,["src"]),I("div",vUt,nt(g.name),1)])])),64))])]),_:1})]),I("div",gUt,[z(Ir,null,{title:J(()=>[I("div",mUt,[z(p,{class:"w-20px h-20px mr-14px",src:y(aUt),fit:"fill"},null,8,["src"]),h[2]||(h[2]=I("span",null,"注册调控能力占比",-1))])]),content:J(()=>h[3]||(h[3]=[I("div",{class:"px-16px py-20px flex items-center justify-between"},[I("div",{class:"bg_wrap_c1 w-140px h-60px pl-50px pt-38px"},[I("span",{class:"text-#6ABACA text-14px font-600"},"31KW、0%")]),I("div",{class:"bg_wrap_c2 w-140px h-60px pl-50px pt-38px"},[I("span",{class:"text-#6ABACA text-14px font-600"},"32KW、0%")])],-1)])),_:1})])],64)}}}),_Ut=li(yUt,[["__scopeId","data-v-39217ccc"]]),bUt="/vpp/assets/c3-BJIlLS2Y.png",xUt={class:""},SUt={class:"h-26px flex items-center px-16px"},AUt={class:"px-10px pt-10px"},EUt={class:"grid grid-cols-9 gap-y-8px"},TUt=["onClick"],wUt={class:"w_1 w-100% h-14px"},CUt={class:"w_2 w-100% h-14px"},RUt={class:"mt-16px"},IUt=le({__name:"center",setup(e){const t=[{name:"亭卫变",value:"TingWeiBian"},{name:"远东变",value:"YuanDongBian"},{name:"黄渡变",value:"HuangDuBian"},{name:"练塘变",value:"LianTangBian"},{name:"顾路变",value:"GuLuBian"},{name:"杨高变",value:"YangGaoBian"},{name:"三林变",value:"SanLinBIan"},{name:"新余变",value:"XinYuBian"},{name:"徐行变",value:"XuXingBian"},{name:"崇明变",value:"ChongMingBian"},{name:"南桥变",value:"NanQiaoBian"},{name:"杨行变",value:"YanXingBian"},{name:"泗j泾变",value:"SiJingBian"},{name:"徐行东变",value:"XuXingDongBian"},{name:"静安变",value:"JingAnBian"},{name:"杨行西",value:"YanXingXi"},{name:"远东变",value:"YuanDongBian"},{name:"练塘变",value:"LianTangBian"}],n=Y("亭卫变");return(r,i)=>{const a=Fi;return H(),Q("div",xUt,[z(Ir,null,{title:J(()=>[I("div",SUt,[z(a,{class:"w-20px h-20px mr-14px",src:y(Jj),fit:"fill"},null,8,["src"]),i[0]||(i[0]=I("span",null,"分区信息",-1))])]),content:J(()=>[I("div",AUt,[I("div",EUt,[(H(),Q(St,null,Nn(t,o=>I("div",{class:j(["w-50px h-28px bg_wrap_c1",n.value===o.name?"is_active":""]),key:o.name,onClick:s=>n.value=o.name},[I("div",wUt,nt(o.value),1),I("div",CUt,nt(o.name),1)],10,TUt)),64))]),I("div",RUt,[z(a,{class:"w-100% h-102px",src:y(bUt),fit:"fill"},null,8,["src"])])])]),_:1})])}}}),MUt=li(IUt,[["__scopeId","data-v-91f21420"]]),yb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAA4pJREFUWEftmc9O20AQxmdsh55CkzcIUm9JK/IGidQ7cOqRBtpKPUGeAPoElFOlUkiuPQH3SuQNgkpyq4TfICnpCds71RgvCU7sXf+pVCQscfJ697fffDM7G/DF6zcEj+DBRwf668d3/B+FlULeK/oEmjFMT4pmFHDu83+u6NfhaNUkowGI49tbr/exXrbTbCJX0C/9UcWyoIJkloTp2R+q5cvj4c1bJOxM4chGxC7cuoetenmsC50Z9NvPm3XTMNYIRAMAK3JhRNhvVYuf5kHv0caE1N6uLnd1YFOD3gHA3iwcAPQQ0CagtxqgPp8cp4JNBdoZTA4IYNdfCLDrCXFuel6PQ3l0NWqYaF3ogurCJgLt9EclKlgXALAKQLYQ0H73avlsVo00oPw9IbXibJAI9GQwYciGH2LHbbUWZHBaUN44Ol49KsG0QWfC3duqFZtRnkoPCkAg2tu1558Xza0FenQ1aZgIrOYYHZd3HVkLs4Cyqlu15ZXUoDLkcTuWk2cDBXDRrXP9DcMqFeUi/qxgXbMv40KeF6gQtBFOUJ5bCXo8+L2LYByosjIv0KioKUFl2KNCEg5ROPSd/qgilkyuFFqPB95lqtCfDG6u+fRBxy3rnM1hUC06jUE6ivKl73KrVqxrzAcS1K+1CD2db+QYB9zzRWoqPRqcRCNCONuuFjd0Fp0B1Rn+YExcHugqqpXxvCpvzrX4iNV/LCxsciPjkdt8/7K8MAoaoOxRgKhCrI8TP5K7sbjGWgl6PJycIsE6Ou5K3ImUBJgrARQKOwKpYhDa4DjcRMd2/hqgdx26bh1VAcu6HIzjE4htMnbRbUYlkjKZAs9VyD+Zos9hFZx8HyQnW8lGx91gFflOZZF5qrKXUlEfdvCnw2bPqqq8loTn6Qwne0SwnymZpqqa3D0BOl5T5acohaOA5Aaiznmt0MtFp96Kb3DjbBAFJOfOrOi9x4IQBd14YmU529nvswfInW/NPgCWgsqy8Aqt5dFZlWT4OFOTXHfnN8vfQw+JVrmXUPW6iUF5wSCEBwBQYnUJ6NBwRHdR08KKiSVzHYhK8prBvwWgiZtIwL8DcGlqx5WmRB4Ne48BYMna4WydviMb/Hs92gjEEKWgTvpD4pJFVeJSKfrAClIxwLUgjAzHf3wJDsDFueGIs7TVIpOiKgXyfp9Z0byBouZ7As1b6TlF814g7/kezf+Z/gLj5RaEBQ3vVwAAAABJRU5ErkJggg==",OUt="/vpp/assets/ra_1-lZy6l7Rm.png",DUt={class:"h-26px flex items-center px-16px"},PUt={class:"p-10px flex justify-around items-center"},LUt={class:"mt-10px"},NUt={class:"mt-6px"},BUt={class:"px-2px w-66px h-12px"},kUt=le({__name:"capacityRatio",props:{title:String},setup(e){const t=e,n=zn(Tl({xAxis:{show:!1},yAxis:{show:!1},series:[{color:"#D4B78C",data:[20,30,5,35,15,28,4,32,11,22,10],type:"line",smooth:!0}],grid:{top:2,left:10,right:10,bottom:2}})),r=Y("1");return(i,a)=>{const o=Fi,s=ky,l=By;return H(),Ue(Ir,null,{title:J(()=>[I("div",DUt,[z(o,{class:"w-20px h-20px mr-14px",src:y(yb),fit:"fill"},null,8,["src"]),I("span",null,nt(t.title),1)])]),content:J(()=>[I("div",PUt,[I("div",null,[a[3]||(a[3]=I("div",{class:"flex justify-center items-center"},[I("div",{class:"round_1"})],-1)),a[4]||(a[4]=I("div",{class:"text-9px text-#E0E0E0 text-center"}," 各行业发电机组注册调控 ",-1)),a[5]||(a[5]=I("div",{class:"flex justify-center items-center mt-10px"},[I("div",{class:"round_2"})],-1)),a[6]||(a[6]=I("div",{class:"text-9px text-#E0E0E0 text-center"}," 各发电单元类别注册调控 ",-1)),I("div",LUt,[z(l,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=u=>r.value=u),size:"small"},{default:J(()=>[z(s,{label:"类型一",value:"1"}),z(s,{label:"类型二",value:"2"}),z(s,{label:"类型三",value:"3"})]),_:1},8,["modelValue"])]),I("div",NUt,[(H(),Q(St,null,Nn(7,u=>I("div",{key:u,class:"flex items-center text-8px text-#A0A0A0 mt-1px"},[a[1]||(a[1]=I("span",null,"10:00",-1)),I("div",BUt,[z(eo,{height:"100%",options:n},null,8,["options"])]),a[2]||(a[2]=I("span",null,"15%",-1))])),64))])]),I("div",null,[z(o,{class:"w-162px h-162px",src:y(OUt),fit:"fill"},null,8,["src"])])])]),_:1})}}}),eY=li(kUt,[["__scopeId","data-v-cff6d8e6"]]),FUt="/vpp/assets/rb-7nnvH1LV.png",UUt={class:"h-26px flex items-center px-16px"},VUt={class:"p-10px flex justify-center items-center"},tY=le({__name:"quantityRatio",setup(e){return(t,n)=>{const r=Fi;return H(),Ue(Ir,null,{title:J(()=>[I("div",UUt,[z(r,{class:"w-20px h-20px mr-14px",src:y(yb),fit:"fill"},null,8,["src"]),n[0]||(n[0]=I("span",null,"数量占比",-1))])]),content:J(()=>[I("div",VUt,[z(r,{class:"w-302px h-359px",src:y(FUt),fit:"fill"},null,8,["src"])])]),_:1})}}}),zUt={class:"pt-18px"},$Ut={class:"pt-18px"},HUt=le({__name:"right",setup(e){return(t,n)=>(H(),Q(St,null,[I("div",zUt,[z(eY,{title:"能力占比"})]),I("div",$Ut,[z(tY)])],64))}}),dD="/vpp/assets/c-B0HNgMwl.png",WUt="/vpp/assets/c4-DUocaVgV.png",Xde="/vpp/assets/bg-DqHIMlV3.png",GUt={class:"relative overflow-hidden h-100% wrapfit"},jUt={class:"left z-9 absolute left-15px top-0px w-342px h-100%"},YUt={class:"center z-9 absolute top-0px left-366px right-338px h-100%"},XUt={id:"center",class:"flex-1"},KUt={class:"right z-9 absolute right-15px top-0px w-314px h-100%"},qUt=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780});const t=new hL({id:"container",logoVisible:!1,map:new fL({mapStyle:"amap://styles/dark",center:[120.800774,31.002606],pitch:0,zoom:11.8,dragEnable:!1,zoomEnable:!1,keyboardEnable:!1,doubleClickZoom:!1,scrollWheel:!1,showLabel:!1,token:"455cdb79bf8735a87862d83e16f06c94"})});t.addImage("c",dD),t.addImage("bg",Xde),t.on("loaded",()=>{const n=document.getElementById("container"),r=t.containerToLngLat([0,-10]),i=t.containerToLngLat([n==null?void 0:n.clientWidth,n==null?void 0:n.clientHeight]),a=new Ry({}).source(dD,{parser:{type:"image",extent:[i.lng,i.lat,r.lng,r.lat]}});t.addLayer(a);const o=new Ry({}).source(Xde,{parser:{type:"image",extent:[r.lng,r.lat,i.lng,i.lat]}});t.addLayer(o)})}),so(()=>{Sa.off()}),(t,n)=>{const r=Fi;return H(),Q("main",GUt,[n[0]||(n[0]=I("div",{id:"container"},null,-1)),I("div",jUt,[z(_Ut)]),I("div",YUt,[z(r,{class:"w-100% h-443px mt-18px",src:y(WUt),fit:"fill"},null,8,["src"]),I("div",XUt,[z(MUt)])]),I("div",KUt,[z(HUt)])])}}}),ZUt=li(qUt,[["__scopeId","data-v-a39ffbfd"]]),QUt={class:"pt-18px"},JUt={class:"pt-18px"},eVt=le({__name:"left",setup(e){return(t,n)=>(H(),Q(St,null,[I("div",QUt,[z(Gwe)]),I("div",JUt,[z(tY)])],64))}}),qs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAMCAYAAABvEu28AAAAAXNSR0IArs4c6QAAAKNJREFUOE+V0LENg0AMheFnCmpGYAU2chFFlDBJKKMohTfKCoxATcGhg4hAsA24Pd+vu49wMIFvVVwheTfeKnmHgcscGD7zTlKQPFtr3wwF5gxIYyT/Xm6BviCRTos5ofsDwPSt1TQkr/p0aHZJYkiZoda8di9auWSGR6d5bUKKi2W78/oLqS5WbOO1hHwXq/XzmkInXKzS4kUXXHyvwJdcTK8R0wpEMOQ+FvMAAAAASUVORK5CYII=",W1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAMCAYAAABvEu28AAAAAXNSR0IArs4c6QAAALdJREFUOE+l0ksOgjAQgOGZontOoHCExrhwRzgRnISeiLBzYUyPAHoC9khrWlNSHo2tdt3523wZzO/PCiQW8M9ByTDjbUzGiANg8ltLdiIaKarh7NomZL/jABAHxnoxvGhzSTsdUie/PQpAUgWFpCjr85GpmSmkYyFeKFl9OpTm4VnI3+vj0tC03wx5ek0uNsPsR15elsvXkNNr4eIVWnutXbxCCy8w++Jaj00j+7LeLwAw++IKvQEKxluLbbCjygAAAABJRU5ErkJggg==",tVt="/vpp/assets/cb_1-BVS6H1Ue.png",Kde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAkCAYAAADLsGk3AAAAAXNSR0IArs4c6QAAAc5JREFUWEftmUFOg0AUht/Ey0i70a2oka3RRY/AEeYGcoMewSM0oRqXTUz33ZhuOQI7U7CMQkUrAWbemzemQVkW8pFv/j8zw1TAQC4xEA/oFblZP1/NvYsFt6wLbq/I7XqpCqXkw+h8yinjgqsV2QmIRQ6b8MkLEg6hUoSbayhSvTZRUIQcVfsW4eNiRKq3fgzl3dzzI5tkGiIsXLQIRyXaRGy5RJEqmlSJYkKpWrcInUsXqbslxDQ+PpOYqvWKELn2IoRZzUgEyWUS2VUCYBvGo8uZLh1zEXMunwiiEigRQy6/SDmIAlZvKpt0LaAkEQ3XicjnwpCCABl7/n2zalSRPq47kb1KHL1uotlpkNY/WYl0cN2LtFSCRaTB/RWRuhIFqKjcSXOJ7HP/RXRrReN+kkMW1LMYYyJfXPeJtGxhWEQaXHci5UqvQMZjB9NvC9eVyI8qMa4jnVx2EZMPL0q1dFxOkQQKiNqqZJmIEZdFRLe3oopguNYiusjbpmmTamG5NiIJqK00+f5AJkLiEkXszrkO4vABG7lptWy5mEQGcEAnYJarTLIfmTJytYnYRt5VLW5ur8j1y/LkceyvkDtd7eMuuH/jjx7t0B7QA+/KvtbeXTdmbwAAAABJRU5ErkJggg==",nVt="/vpp/assets/cb_3-8aFC-5tQ.png",rVt={class:"p-18px"},iVt={class:"flex items-center justify-between"},aVt={class:"bg_wrap_ca w-138px h-84px pt-4px pl-4px"},oVt={class:"flex items-center pl-6px"},sVt={class:"flex flex-col ml-6px"},lVt={class:"bg_wrap_ca w-138px h-84px pt-4px pl-4px"},uVt={class:"flex items-center pl-6px"},cVt={class:"flex flex-col ml-6px"},fVt={class:"bg_wrap_ca w-138px h-84px pt-4px pl-4px"},dVt={class:"flex items-center pl-6px"},hVt={class:"flex flex-col ml-6px"},pVt={class:"bg_wrap_ca w-138px h-84px pt-4px pl-4px"},vVt={class:"flex items-center pl-6px"},gVt={class:"flex flex-col ml-6px"},mVt={class:"pt-18px"},yVt={class:"flex justify-center items-center"},_Vt={class:"flex justify-center items-center mt-10px"},bVt={class:"flex justify-center items-center mt-10px"},xVt=le({__name:"center",setup(e){return(t,n)=>{const r=Fi;return H(),Q(St,null,[I("div",rVt,[I("div",iVt,[I("div",aVt,[n[2]||(n[2]=I("div",{class:"text-#AFEBF6"}," 储能 ",-1)),I("div",oVt,[n[1]||(n[1]=I("span",{class:"text-#95A0AB text-9px"},"发电单元数量",-1)),I("div",sVt,[z(r,{class:"w-6px h-4px",src:y(qs),fit:"fill"},null,8,["src"]),n[0]||(n[0]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"1128"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"台")],-1)),z(r,{class:"w-6px h-4px",src:y(W1),fit:"fill"},null,8,["src"])])]),n[3]||(n[3]=tg('<div class="flex items-center pl-6px mt-4px" data-v-c1f33654><span class="text-#95A0AB text-9px" data-v-c1f33654>发电容量占比</span><div class="flex flex-col ml-6px" data-v-c1f33654><span class="h-18px leading-18px pl-4px" data-v-c1f33654><span class="text-18px text-#fff font-800" data-v-c1f33654>15</span><span class="text-9px text-#95A0AB ml-4px" data-v-c1f33654>%</span></span></div></div>',1))]),I("div",lVt,[n[6]||(n[6]=I("div",{class:"text-#AFEBF6"}," 不可控分布式能源 ",-1)),I("div",uVt,[n[5]||(n[5]=I("span",{class:"text-#95A0AB text-9px"},"发电单元数量",-1)),I("div",cVt,[z(r,{class:"w-6px h-4px",src:y(qs),fit:"fill"},null,8,["src"]),n[4]||(n[4]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"2198"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"台")],-1)),z(r,{class:"w-6px h-4px",src:y(W1),fit:"fill"},null,8,["src"])])]),n[7]||(n[7]=tg('<div class="flex items-center pl-6px mt-4px" data-v-c1f33654><span class="text-#95A0AB text-9px" data-v-c1f33654>发电容量占比</span><div class="flex flex-col ml-6px" data-v-c1f33654><span class="h-18px leading-18px pl-4px" data-v-c1f33654><span class="text-18px text-#fff font-800" data-v-c1f33654>27</span><span class="text-9px text-#95A0AB ml-4px" data-v-c1f33654>%</span></span></div></div>',1))]),I("div",fVt,[n[10]||(n[10]=I("div",{class:"text-#AFEBF6"}," 可控式能源 ",-1)),I("div",dVt,[n[9]||(n[9]=I("span",{class:"text-#95A0AB text-9px"},"发电单元数量",-1)),I("div",hVt,[z(r,{class:"w-6px h-4px",src:y(qs),fit:"fill"},null,8,["src"]),n[8]||(n[8]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"1490"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"台")],-1)),z(r,{class:"w-6px h-4px",src:y(W1),fit:"fill"},null,8,["src"])])]),n[11]||(n[11]=tg('<div class="flex items-center pl-6px mt-4px" data-v-c1f33654><span class="text-#95A0AB text-9px" data-v-c1f33654>发电容量占比</span><div class="flex flex-col ml-6px" data-v-c1f33654><span class="h-18px leading-18px pl-4px" data-v-c1f33654><span class="text-18px text-#fff font-800" data-v-c1f33654>14</span><span class="text-9px text-#95A0AB ml-4px" data-v-c1f33654>%</span></span></div></div>',1))]),I("div",pVt,[n[14]||(n[14]=I("div",{class:"text-#AFEBF6"}," 可控负荷 ",-1)),I("div",vVt,[n[13]||(n[13]=I("span",{class:"text-#95A0AB text-9px"},"发电单元数量",-1)),I("div",gVt,[z(r,{class:"w-6px h-4px",src:y(qs),fit:"fill"},null,8,["src"]),n[12]||(n[12]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"1098"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"台")],-1)),z(r,{class:"w-6px h-4px",src:y(W1),fit:"fill"},null,8,["src"])])]),n[15]||(n[15]=tg('<div class="flex items-center pl-6px mt-4px" data-v-c1f33654><span class="text-#95A0AB text-9px" data-v-c1f33654>发电容量占比</span><div class="flex flex-col ml-6px" data-v-c1f33654><span class="h-18px leading-18px pl-4px" data-v-c1f33654><span class="text-18px text-#fff font-800" data-v-c1f33654>18</span><span class="text-9px text-#95A0AB ml-4px" data-v-c1f33654>%</span></span></div></div>',1))])])]),I("div",mVt,[I("div",yVt,[z(r,{class:"w-585px h-374px",src:y(tVt),fit:"fill"},null,8,["src"])]),I("div",_Vt,[z(r,{class:"w-19px h-14px",src:y(Kde),fit:"fill"},null,8,["src"]),n[16]||(n[16]=I("div",{class:"text-center w-127px mx-66px"},[I("div",{class:"text-30px text-#B1E0EA font-700"},"43.49KW"),I("div",{class:"text-18px text-#F2F5F6 font-400"},"发电单元容量")],-1)),z(r,{class:"w-19px h-14px origin-center rotate-180",src:y(Kde),fit:"fill"},null,8,["src"])]),I("div",bVt,[z(r,{class:"w-402px h-44px",src:y(nVt),fit:"fill"},null,8,["src"])])])],64)}}}),SVt=li(xVt,[["__scopeId","data-v-c1f33654"]]),AVt={class:"pt-18px"},EVt={class:"pt-18px"},TVt=le({__name:"right",setup(e){return(t,n)=>(H(),Q(St,null,[I("div",AVt,[z(eY)]),I("div",EVt,[z(tY)])],64))}}),wVt={class:"relative overflow-hidden h-100% wrapfit"},CVt={class:"w-100% absolute flex justify-between left-0px top-0px z-9"},RVt={class:"left pl-15px w-342px h-100%"},IVt={class:"center flex-1 px-10px"},MVt={class:"right pr-15px w-314px h-100%"},OVt=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",wVt,[n[0]||(n[0]=I("div",{id:"container"},null,-1)),I("div",CVt,[I("div",RVt,[z(eVt)]),I("div",IVt,[z(SVt)]),I("div",MVt,[z(TVt)])])]))}}),DVt=li(OVt,[["__scopeId","data-v-3b27270e"]]),Ts="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAAAv5JREFUeF7t26FKg2EYhmEnCCaT2SDMavMkBp6H7IA8Dw/DZjUYzCaTIDiZoGWGj/+eYe5a/p/B7l28S5vNF8vVgZcCEwvMAJpYzuyrwA+gp8eHW00UGC1wfnF5A9BoLc9tFAAIilQAoJTPGCAGUgGAUj5jgBhIBQBK+YwBYiAVACjlMwaIgVQAoJTPGCAGUgGAUj5jgBhIBQBK+YwBYiAVACjlMwaIgVQAoJTPGCAGUgGAUj5jgBhIBQBK+YwBYiAVACjlMwaIgVQAoJTPGCAGUgGAUj5jgBhIBQBK+YwBYiAVACjlMwaIgVQAoJTPGCAGUgGAUj5jgBhIBQBK+YwBYiAVACjlMwaIgVQAoJTPGKBBA1dnJ9frR++fX+8GJ3vxGECDXzNAv4cCCKDBAgClUC4QQAClAgClfC4QQAClAgClfC4QQAClAgClfC4QQAClAgClfC4QQAClAgClfC4QQAClAgClfC4QQAClAgClfC4QQAClAgClfC4QQAClAgClfC4QQAClAgClfC4QQAClAgClfC7QPwX0/cUmHQPj46PD0/Vjb+8fLwOPT35k1/75uvN/LARostWtDHce0FYqDLyJn7B/+hM28N1v5RGAAEqQAAIIoFQAoJTPBQIIoFQAoJTPBQIIoFQAoJTPBQIIoFQAoJTPBQIIoFQAoJTPBQIIoFQAoJTPBQIIoFQAoJTPBQIIoFQAoJTPBQIIoFQAoJTPBQIIoFQAoJTPBQIIoFQAoD/I5y39sZCBVACglM8YIAZSAYBSPmOAGEgFAEr5jAFiIBUAKOUzBoiBVACglM8YIAZSAYBSPmOAGEgFAEr5jAFiIBUAKOUzBoiBVACglM8YIAZSAYBSPmOAGEgFAEr5jAFiIBUAKOUzBoiBVACglM8YIAZSAYBSPmOAGEgFAEr5jAFiIBUAKOUzBoiBVACglM8YIAZSAYBSPmOAGEgFAEr5jAFiIBUAKOUzBoiBVACglM8YIAZSgQ1A6d2M97bAbL5Yrvb20/vgucAnksQTbcG0F88AAAAASUVORK5CYII=",FI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKYAAAByCAYAAADZJ6pOAAAAAXNSR0IArs4c6QAAC2RJREFUeF7tnc1uG8kRx6v4kfgoP0GkJ4iMkDkFWOkJbNJJgFyyNrBU4NPaTyD7CaQ9GSENSMklQByJ3ieQFsgpVLDME5hvsDw64EclPcMZ9gyHnOmeLn4MizeJw+quf/+mv7saYcmn3r55AaXSV0B0DACHAHCw7Fn5vyhgoMAQCIZQovvphL7/959++ynptxj/pwck4DmgB6N8RAFeBQgGU5q+iQMaAbPW6Z4j0FvenIh1UWBRAQJ8+9BqvAu+CcFcgJJgQEjfIU3uR9XqoP+yMRRBRYG8ChxfdQ/gy5eDSuXR1wj0Wu8i6nB6YP7qz/94ViqVumGiiNejEbzrv2oM8mZEfi8KLFNAQVqdTC+A8EX4DNHL3tnzaw/Mevv2c9inRLruffP8pcgpCqxLgfqH7hUQ+XASDHpnzSOM1ZbDUQWPpNleV5FIOkqB4/fdw2qZ7sLKkegl1j/cXAVVabwDKrKJAutSoNa5eY2AF156iNeoN+Oj8X+P+q/+IP3KdZWGpBMqUG///Riw8uPsH32sd25/CkZGowo+lmZcaNmEAt5AaEyKRfUZKjApyEiv1VyYcNczOZtSUkN8IMBLfd4pyRnT5zchiKS5PQroLGYGM2nyfVWf1PT57ZFHcrIpBazA1Jt8LePDXqv5OMkR0+c3JYakuz0KCJjbUxaSE00BKzBNm2bT56WERAErMJVspoMZ0+elaPZbAWsw91s28Z5bAQGTW2Gxb6WAgGklm/yIWwEBk1thsW+lgIBpJZv8iFsBAZNbYbFvpYCAaSWb/IhbAQGTW2Gxb6XAXoKpdklXKvC1r9j4h4fW7+6XqRd91lTj1bYDa+rkAJbKv1R/p+3SSsqBt01sNH1GUHqKSN5Ra1LbxQD7ozF8t4vntfYGzKDwAFEBeRIUcNpO/dr7jydYKd+ZIunDET2GqtuodT6eAFS+ip8OTNtuGM+HsoNUvlp19j/NRxvfuH+zF2DWO90L8I+HLnzSCi0PmDA75acnOtsE+3lZNBMTML2AFIhXoX2CAZTwXkW3IIJDRHqW9QXkBs3U/n6AqZ+8iymUBqaJoN5Bqgop6LyzKr1vGgsnTCPPJBjPCmbcDgG9eWg9v4y8BH5+vKPYowqe7tKJhL0A0z9YP4+3VK3At0EN6hLM8MwUwWBUxSfLQFBQ6QDppwKzgllrd7tBjZgEZWA/8H3X+pl7AeZiv2we/sYVmHqzOp1OG8sCRCXVwPohwCxg1tvdY0DyD2stqZlNavptfFbAXDFAyVpgkbPQFqAYg6l1TWg8OX14tXxWIasP2/acgOkATD16xGiMR6bNpjGYnVtVWx4HkSq2DSoX+REwc4KZZcCTVlAmYOpHW4nw08NZo5Fmfxe/FzBzgqlPRdnUlgoaEzD16Su9fxxOsmPpF8omTSf/mfysfL9LI3H9BRIw84I5C0JGAPcPreapTe1kAqYeX0qNxseV0nV1DOeJ87Re+Ei8tllNsvHD5W8EzBxgRoKQJUymZy0oEzD10b+qMVFFRvMjPg+J0FtaRaBjfSXI1cxDVn9cPCdg5gAz76AnKEATMCMBp0IC8HJUgXd6sx1/jmByumpPgAuYXNoQMPOAOY8l2u+1mk9sC8YEzMVlSD+4aVLakWPTFtNYtv64+J2AaQmmy0luezDxstdqvFkGQmxdfmmkFBcgubYhYFqCqTeVq5YEsxSYCZjxwU98fTyeXj2Y8/TXy3cmgp+AaQmm3r/Mu/piAmZ088bqGtObitJWiWyns7K8XK6fETAtwax1bu9wtq8zb4GbgOnBNo9jmtq3jeRTakzX749be/qgwHYqRY9gl2XjxSoPjMHUa8EU2DTb0sd0i5F7a3nBjEe8XRZ+MWvOTcH0dq2Dv6t+1YulN/t5FgCy+uHyOWnKLZryyIgcILU5TSswUzBnzbkCUx0RGQKNT3tnv+/H06m1b7qI6O9iz7EAkJZ/ju8LD6Y3ikWMXMpKAE+DAiOiTwjwvS7uqFr6tGqNObpenX0pMjx3FC9J9G5o8PNIFNn1TjgdJE2MzwLoKzgP1C4jAHoXzGfOakp15CI423Tfs1wu5YAui83Cg6l3/rMIop5JG8xEp2wMwNSPXmTNzIqJ8YXJdt+muk5x/iKq3fQTPDXdipc1e1zPCZgJyqaBGQHCYEUl7bxPYiGn2PePF9NVMEOg2RgC4HV8qZILJNd2Cw+ma8G21Z4CtFyaHKtuy5RouMtb3mZ96PAGlcy3Vmxr4Ui+iqOA1JjFKctCeSJgFqo4i+OMFZj1zu0/iyOBeLJuBXqt5m/S0hQw0xSS750rIGA6l1QMulBAwHShothwrgAbmM5zKgZFgZgCVn1MUVEU4FZAwORWWOxbKSBgWskmP+JWwArMX3du/8idMbFfXAX+1Wr+Nc07ATNNIfneuQICpnNJxaALBQRMFyqKDecKCJjOJRWDLhQQMF2oKDacKyBgOpdUDLpQQMB0oaLYcK6AgOlcUjHoQgEB04WKYsO5AjZg/hScSV4Vsk5WfpyX1V4ZTAMzHoJHnZL0749RHxo/SQo7or4SMPeKI+fOpoL5/m+H1crP/Ts5CQYYifmYcGlmkEMB03lZ7ZXBNDCjIbrpGiMRJlaEFhEw94oj586uAjN+bba6lxNVDvTIY0W9QNO50mLQmQL1DzdXQPgiaMZ7Z82jGZixy9mRrkfl0ptdvWHLmWJiiFUBL65TFc5B3Vs0+wS3GHtgqk+kjff/NSTAy/H4y1/g0aOhQMpaRntj3A/LODokLJ8g4bfLLs0KwVwC594IJo5uVoF4lOQImCprftDT0oVO8mazLKkXWoFYANrA1wUwgy88QMv4FKZ4AugFBY1E6C20WOIcpwIqyOwAEPswnf6w7Ia3pWBy5kxsiwJpCgiYaQrJ9xtRQMDciOySaJoCAmaaQvL9RhQQMDciuySapgAbmLP1zzsiGjycPW+kZcT2e+50uO0HfnOnw23ftR9sYNY73QsAev3/C5FYL0LiTofbflCg3Olw23ftBwuY0XsPJ6dJt3zZ1pD677jT4bYf+MKdDrd9Dj+cg+mvhdKPauXI9pbbLNByp8NtP9L0Meq1q344B1PbDJL7ItBVgHKnw21/Xst0zxHoLTi4ODVJr131wymY+oZPAr4mnDsdbvuxgYI6TnDAodcu++EUTO3tZB3wcKfDbT+htmTRa5f9cAbmLr+dehMofmTp4c+f4dLLGZja2SGWtz+cjmiHu+1Z0hE/zMDk0ssdmLN5S1px0tLM5eSng/k4rnS47cfn+8SP5HJ2B2b79rOaIkq79zsvnMHBOa50uO3Pa35evXbdDydg6lEUeq2mE5tJAHOnw20/NhpXEVCAQ68i+OEMoiCwO4fQOqTc6XDbnzflt96l8Vx67bofAmasat71Al0X+NzpOAdzVWCuvP1L9fsAHK50uO3HC1T84B78dPymiWtQslCgYzzqv2oMXMCe1FUQP7IpG77IjsvDfY3pOINxebiEWBf460qHWyduP5yA6YX6qJBa8x32Ws3H2d4186e40+G2H47KmfUqgh9OwKx1bl4j4AX3pmDudLjtB2Byp8Ntfx1+OAEziLHJtYoRNhsfulcqABNXOuKHWSvGqVduMPVFfK4RppKLOx1u+7HJdW+rG4deRfEjN5i7vLVKrx/ED7PakluvXGBybXmKS8SdDrf9pNpSNgavfhFygcn91sw72eHxA5atbuLHdtWWKjfWYM6mJNSNFyzHAmJTK2zpiB9mUK5LL2swa+2bLiI+Y58iYk5H/DADc116WYGpnVMejsb4hGNpUMnFnQ63/XlX5OMJQvlOLUBw6FUUP/RXxArM4NIqznPjKpPc6XDb15btvEu+uPQqih+5wZxV52oersF5aQB3Otz2wxrT746w6VUUP3Qw/wfMJLW4xj+WhgAAAABJRU5ErkJggg==",jwe="/vpp/assets/la_3-Ds0Iwq0B.png",Ywe="/vpp/assets/la_4-CgZ9LNjn.png",PVt={class:"h-26px flex items-center px-16px"},LVt={class:"p-10px"},NVt={class:"mt-10px flex items-center justify-between"},BVt={class:"mt-8px py-10px flex items-center justify-center bg-#03253c96"},kVt={class:"mt-8px flex items-center justify-between"},FVt={class:"mt-30px flex items-center justify-between"},UVt={class:"mt-8px py-10px flex items-center justify-center bg-#03253c96"},VVt={class:"mt-8px flex items-center justify-between"},zVt=le({__name:"left",setup(e){const t=Y(""),n=Y("");return(r,i)=>{const a=Fi,o=dy,s=da;return H(),Ue(Ir,null,{extra:J(()=>i[2]||(i[2]=[I("div",{class:"h-18px"},null,-1)])),title:J(()=>[I("div",PVt,[z(a,{class:"w-20px h-20px mr-14px",src:y(yb),fit:"fill"},null,8,["src"]),i[3]||(i[3]=I("span",null,"虚拟电厂具体信息",-1))])]),content:J(()=>[I("div",LVt,[i[8]||(i[8]=I("div",{class:"l_wrap_a flex items-center"},[I("div",{class:"pillar"}),I("div",{class:"text-11px text-#7FDFE8"},"2020.06.29 策略实施"),I("div",{class:"pillar"}),I("div",{class:"text-9px text-#fff"},[I("div",null,"通过AI算法对该机房采集数据进行分析"),I("div",null,"精确计算冷负荷，识别冷量损失，定位节能点。")])],-1)),I("div",NVt,[z(o,{color:"#0898AE",effect:"dark"},{default:J(()=>i[4]||(i[4]=[$n(" 三洋公司 ")])),_:1}),z(s,{size:"small",modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=l=>t.value=l),style:{width:"218px"},placeholder:"变电所实时监控画面"},null,8,["modelValue"]),i[5]||(i[5]=I("div",{class:"w-18px h-18px bg-#B7D6E6 flex justify-center items-center cursor-pointer"},[I("div",{class:"w-8px h-8px bg-#123F45 rounded-8px"})],-1))]),i[9]||(i[9]=I("div",{class:"mt-10px"},[I("div",{class:"flex items-center justify-between text-10px"},[I("span",{class:"text-#6589B5"},"20"),I("span",{class:"text-#4FAF8F"},"30"),I("span",{class:"text-#CEA668"},"40"),I("span",{class:"text-#993D3E"},"50+")]),I("div",{class:"l_bold_a w-100%"})],-1)),I("div",BVt,[z(a,{class:"w-312px h-118px",src:y(jwe),fit:"fill"},null,8,["src"])]),I("div",kVt,[z(a,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(a,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(a,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(a,{class:"w-54px h-54px",src:y(FI),fit:"fill"},null,8,["src"]),z(a,{class:"w-54px h-54px",src:y(FI),fit:"fill"},null,8,["src"])]),I("div",FVt,[z(o,{color:"#0898AE",effect:"dark"},{default:J(()=>i[6]||(i[6]=[$n(" 三洋公司 ")])),_:1}),z(s,{size:"small",modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=l=>n.value=l),style:{width:"218px"},placeholder:"变电所实时监控画面"},null,8,["modelValue"]),i[7]||(i[7]=I("div",{class:"w-20px h-20px bg-#B7D6E6 flex justify-center items-center cursor-pointer"},[I("div",{class:"w-8px h-8px bg-#123F45 rounded-8px"})],-1))]),i[10]||(i[10]=I("div",{class:"mt-10px"},[I("div",{class:"flex items-center justify-between text-10px"},[I("span",{class:"text-#6589B5"},"20"),I("span",{class:"text-#4FAF8F"},"30"),I("span",{class:"text-#CEA668"},"40"),I("span",{class:"text-#993D3E"},"50+")]),I("div",{class:"l_bold_a w-100%"})],-1)),I("div",UVt,[z(a,{class:"w-312px h-118px",src:y(Ywe),fit:"fill"},null,8,["src"])]),I("div",VVt,[z(a,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(a,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(a,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(a,{class:"w-54px h-54px",src:y(FI),fit:"fill"},null,8,["src"]),z(a,{class:"w-54px h-54px",src:y(FI),fit:"fill"},null,8,["src"])])])]),_:1})}}}),$Vt=li(zVt,[["__scopeId","data-v-be72d248"]]),HVt={class:"top flex justify-between"},WVt={class:"w-300px"},GVt={class:"h-26px flex items-center justify-between px-16px"},jVt={class:"h-26px flex items-center"},YVt={class:"flex-1 ml-20px"},XVt={class:"h-26px flex items-center justify-between px-16px"},KVt={class:"h-26px flex items-center"},qVt={class:"p-10px"},ZVt={class:"flex justify-center mt-16px mb-7px"},QVt={class:"bottom mt-40px"},JVt={class:"h-26px flex items-center justify-between px-16px"},e9t={class:"h-26px flex items-center"},t9t={class:"p-10px"},n9t={class:"flex justify-center mt-16px mb-7px"},r9t=le({__name:"right",setup(e){const t=Y(1),n=Y(10),r=Y(1),i=Y(10),a=Y(""),o=Y(""),s=[{a:"金华电厂",b:"2024.01.09",c:"886KVA",d:"445KW",e:"434KW",f:"张三"},{a:"路平安电厂",b:"2020.02.19",c:"886KVA",d:"445KW",e:"434KW",f:"刘晓霞"},{a:"石上电厂",b:"2024.04.13",c:"546KVA",d:"245KW",e:"74KW",f:"罗晋家"},{a:"财网电厂",b:"2024.04.24",c:"676KVA",d:"475KW",e:"534KW",f:"李俊基"},{a:"三丰电厂",b:"2024.01.19",c:"686KVA",d:"445KW",e:"334KW",f:"李俊基"}],l=[{a:"企华电厂",b:"章小时",c:"17809480098",d:"0948",e:"2024.01.09",f:"886kVA",g:"三丰电厂",h:"445kW",j:"434kW",k:"张三"},{a:"路平安电厂",b:"刘莉莉",c:"17899044430",d:"0949",e:"2020.02.19",f:"778kVA",g:"三丰电厂",h:"474kW",j:"464kW",k:"张三"},{a:"石上发电厂",b:"郭娜娜",c:"13855099906",d:"0934",e:"2024.04.13",f:"565kVA",g:"三丰电厂",h:"565kW",j:"443kW",k:"张三"},{a:"财网电厂",b:"李克俊",c:"13960433343",d:"0935",e:"2024.04.24",f:"843kVA",g:"三丰电厂",h:"765kW",j:"674kW",k:"张三"},{a:"三丰电厂",b:"安邦才",c:"17769990909",d:"0925",e:"2020.01.19",f:"656kVA",g:"三丰电厂",h:"644kW",j:"634kW",k:"张三"}];return(u,c)=>{const f=Fi,d=sa,h=da,p=Tx,v=Ex,g=QT;return H(),Q(St,null,[I("div",HVt,[I("div",WVt,[z(Ir,null,{extra:J(()=>c[6]||(c[6]=[I("div",{class:"h-18px"},null,-1)])),title:J(()=>[I("div",GVt,[I("div",jVt,[z(f,{class:"w-20px h-20px mr-14px",src:y(yb),fit:"fill"},null,8,["src"]),c[7]||(c[7]=I("span",null,"具体信息",-1))]),I("div",null,[z(d,{type:"primary"},{default:J(()=>c[8]||(c[8]=[$n("导出")])),_:1}),z(d,{type:"primary"},{default:J(()=>c[9]||(c[9]=[$n("查询")])),_:1})])])]),content:J(()=>c[10]||(c[10]=[I("div",{class:"px-10px"},[I("div",{class:"flex pl-20px items-center pt-8px"},[I("div",{class:"text-#8EB9D3 text-12px"},[I("div",null,"节能成效"),I("div",null,"(测试期7天)")]),I("div",{class:"text-10px text-#818A90 ml-14px"},[I("div",{class:"flex items-center"},[I("div",{class:"bold"}),I("div",{class:"ml-10px"},[I("div",null,"数据测量周期（TO）（7天）"),I("div",null,"2020年6月22日—2020年6月28日")])]),I("div",{class:"flex items-center mt-10px"},[I("div",{class:"bold"}),I("div",{class:"ml-10px"},[I("div",null,"数据测量周期（T1）（7天）"),I("div",null,"2020年6月29日—2020年7月5日")])])])]),I("div",{class:"px-20px py-13px"},[I("div",{class:"px-14px h-25px flex items-center justify-between bg-#103042a5"},[I("span",{class:"text-11px text-#5AB6DB"},"节约电量"),I("div",{class:"flex items-center"},[I("span",{class:"text-11px text-#fff"},"845.41"),I("span",{class:"text-11px text-#525E65 ml-20px"},"kW/h")])]),I("div",{class:"mt-8px px-14px h-25px flex items-center justify-between bg-#103042a5"},[I("span",{class:"text-11px text-#5AB6DB"},"日均节电"),I("div",{class:"flex items-center"},[I("span",{class:"text-11px text-#fff"},"120.77"),I("span",{class:"text-11px text-#525E65 ml-20px"},"kW/h")])]),I("div",{class:"mt-8px px-14px h-25px flex items-center justify-between bg-#103042a5"},[I("span",{class:"text-11px text-#5AB6DB"},"末端精密空调节能率"),I("div",{class:"flex items-center"},[I("span",{class:"text-11px text-#fff"},"29.37"),I("span",{class:"text-11px text-#525E65 ml-20px"},"kW/h")])]),I("div",{class:"mt-8px px-14px h-25px flex items-center justify-between bg-#103042a5"},[I("span",{class:"text-11px text-#5AB6DB"},"机房整体节能率"),I("div",{class:"flex items-center"},[I("span",{class:"text-11px text-#fff"},"1.97"),I("span",{class:"text-11px text-#525E65 ml-20px"},"kW/h")])]),I("div",{class:"mt-8px px-14px h-25px flex items-center justify-between bg-#103042a5"},[I("span",{class:"text-11px text-#5AB6DB"},"机组负荷量"),I("div",{class:"flex items-center"},[I("span",{class:"text-11px text-#fff"},"1.97"),I("span",{class:"text-11px text-#525E65 ml-20px"},"kW/h")])])])],-1)])),_:1})]),I("div",YVt,[z(Ir,null,{extra:J(()=>c[11]||(c[11]=[I("div",{class:"ml-8px w-170px h-18px bg_wrap_extra pl-10px text-#8CE5EB text-14px"},"虚拟电厂审核管理",-1)])),title:J(()=>[I("div",XVt,[I("div",KVt,[z(f,{class:"w-20px h-20px mr-14px",src:y(yb),fit:"fill"},null,8,["src"]),c[12]||(c[12]=I("span",null,"虚拟电厂列表",-1))]),I("div",null,[z(h,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=m=>a.value=m),size:"small",class:"mr-30px",style:{width:"160px"}},null,8,["modelValue"]),z(d,{type:"primary"},{default:J(()=>c[13]||(c[13]=[$n("导出")])),_:1}),z(d,{type:"primary"},{default:J(()=>c[14]||(c[14]=[$n("查询")])),_:1})])])]),content:J(()=>[I("div",qVt,[z(v,{data:s,style:{width:"100%"}},{default:J(()=>[z(p,{type:"index",width:"50",label:"序号",align:"center"}),z(p,{property:"a",label:"发电单元名称",align:"center"}),z(p,{property:"b",label:"发电单元类型",align:"center"}),z(p,{property:"c",label:"发电单元容量",align:"center"}),z(p,{property:"d",label:"削峰响应负荷",align:"center"}),z(p,{property:"e",label:"填谷响应负荷",align:"center"}),z(p,{property:"f",label:"所属发电机组",align:"center"}),z(p,{label:"操作",align:"center"},{default:J(()=>[z(d,{type:"primary",size:"small"},{default:J(()=>c[15]||(c[15]=[$n(" 关闭 ")])),_:1})]),_:1})]),_:1}),I("div",ZVt,[z(g,{"current-page":r.value,"onUpdate:currentPage":c[1]||(c[1]=m=>r.value=m),"page-size":i.value,"onUpdate:pageSize":c[2]||(c[2]=m=>i.value=m),size:"small",background:"transparent",layout:"total, prev, pager, next",total:50},null,8,["current-page","page-size"])])])]),_:1})])]),I("div",QVt,[z(Ir,null,{extra:J(()=>c[16]||(c[16]=[I("div",{class:"ml-8px w-170px h-18px bg_wrap_extra pl-10px text-#8CE5EB text-14px"},"发电单元管理",-1)])),title:J(()=>[I("div",JVt,[I("div",e9t,[z(f,{class:"w-20px h-20px mr-14px",src:y(yb),fit:"fill"},null,8,["src"]),c[17]||(c[17]=I("span",null,"发电机组列表",-1))]),I("div",null,[z(h,{modelValue:o.value,"onUpdate:modelValue":c[3]||(c[3]=m=>o.value=m),size:"small",class:"mr-30px",style:{width:"160px"}},null,8,["modelValue"]),z(d,{type:"primary"},{default:J(()=>c[18]||(c[18]=[$n("导出")])),_:1}),z(d,{type:"primary"},{default:J(()=>c[19]||(c[19]=[$n("查询")])),_:1})])])]),content:J(()=>[I("div",t9t,[z(v,{data:l,style:{width:"100%"}},{default:J(()=>[z(p,{type:"index",width:"50",label:"序号",align:"center"}),z(p,{property:"a",label:"发电单元名称",align:"center"}),z(p,{property:"b",label:"联系人",align:"center"}),z(p,{property:"c",label:"联系电话",align:"center"}),z(p,{property:"d",label:"营销户号",align:"center"}),z(p,{property:"e",label:"发电单元类型",align:"center"}),z(p,{property:"f",label:"发电单元容量",align:"center"}),z(p,{property:"g",label:"所属虚拟电厂",align:"center"}),z(p,{property:"h",label:"削峰响应负荷",align:"center"}),z(p,{property:"j",label:"填谷响应负荷",align:"center"}),z(p,{property:"k",label:"所属发电机组",align:"center"}),z(p,{label:"操作",align:"center"},{default:J(()=>[z(d,{type:"primary",size:"small"},{default:J(()=>c[20]||(c[20]=[$n(" 关闭 ")])),_:1})]),_:1})]),_:1}),I("div",n9t,[z(g,{"current-page":t.value,"onUpdate:currentPage":c[4]||(c[4]=m=>t.value=m),"page-size":n.value,"onUpdate:pageSize":c[5]||(c[5]=m=>n.value=m),size:"small",background:"transparent",layout:"total, prev, pager, next",total:50},null,8,["current-page","page-size"])])])]),_:1})])],64)}}}),i9t=li(r9t,[["__scopeId","data-v-c31dac9b"]]),a9t={class:"overflow-hidden h-100% wrapfit"},o9t={id:"container",class:"p-20px flex justify-between"},s9t={class:"left w-352px h-100%"},l9t={class:"right h-100% ml-10px"},u9t=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",a9t,[I("div",o9t,[I("div",s9t,[z($Vt)]),I("div",l9t,[z(i9t)])])]))}}),c9t=li(u9t,[["__scopeId","data-v-38ad562c"]]),f9t="/vpp/assets/la-B30Zp0aI.png",d9t="/vpp/assets/lc-Bc6qBbh8.png",h9t={class:"pt-18px"},p9t={class:"h-26px flex items-center px-16px"},v9t={class:"p-16px h-180px"},g9t={class:"pt-18px"},m9t={class:"h-26px flex items-center px-16px"},y9t={class:"px-26px py-14px"},_9t={class:"pt-18px"},b9t={class:"h-26px flex items-center px-16px"},x9t={class:"px-26px pt-14px"},S9t={class:"h-140px"},A9t={class:"h-44px mb-20px"},E9t=le({__name:"left",setup(e){const t=MEt(),n=OEt();return(r,i)=>{const a=Fi,o=eo;return H(),Q(St,null,[I("div",h9t,[z(Ir,null,{title:J(()=>[I("div",p9t,[z(a,{class:"w-20px h-20px mr-14px",src:y(tM),fit:"fill"},null,8,["src"]),i[0]||(i[0]=I("span",null,"工业企业排名",-1))])]),content:J(()=>[I("div",v9t,[z(o,{height:"100%",options:y(t)},null,8,["options"])])]),_:1})]),I("div",g9t,[z(Ir,null,{title:J(()=>[I("div",m9t,[z(a,{class:"w-20px h-20px mr-14px",src:y(tM),fit:"fill"},null,8,["src"]),i[1]||(i[1]=I("span",null,"工业企业潜力排名",-1))])]),content:J(()=>[I("div",y9t,[z(a,{class:"w-440px h-115px mr-14px",src:y(f9t),fit:"fill"},null,8,["src"])])]),_:1})]),I("div",_9t,[z(Ir,null,{title:J(()=>[I("div",b9t,[z(a,{class:"w-20px h-20px mr-14px",src:y(tM),fit:"fill"},null,8,["src"]),i[2]||(i[2]=I("span",null,"工业企业实测负荷排名",-1))])]),content:J(()=>[I("div",x9t,[I("div",S9t,[z(o,{height:"100%",options:y(n)},null,8,["options"])]),I("div",A9t,[z(a,{class:"w-420px h-62px mr-14px",src:y(d9t),fit:"fill"},null,8,["src"])])])]),_:1})])],64)}}}),T9t={class:"pt-18px"},w9t={class:"flex items-center justify-between pl-30px"},C9t={class:"bg_wrap_ca w-138px h-84px pt-4px pl-4px"},R9t={class:"flex items-center pl-6px h-50px"},I9t={class:"flex flex-col ml-6px"},M9t={class:"bg_wrap_ca w-138px h-84px pt-4px pl-4px"},O9t={class:"flex items-center pl-6px h-50px"},D9t={class:"flex flex-col ml-6px"},P9t={class:"bg_wrap_ca w-138px h-84px pt-4px pl-4px"},L9t={class:"flex items-center pl-6px"},N9t={class:"flex flex-col ml-6px"},B9t={class:"bg_wrap_ca w-138px h-84px pt-4px pl-4px"},k9t={class:"flex items-center pl-6px h-50px"},F9t={class:"flex flex-col ml-6px"},U9t={class:"bg_wrap_ca w-138px h-84px pt-4px pl-4px"},V9t={class:"flex items-center pl-6px h-50px"},z9t={class:"flex flex-col ml-6px"},$9t={class:"bg_wrap_ca w-138px h-84px pt-4px pl-4px"},H9t={class:"flex items-center pl-6px h-50px"},W9t={class:"flex flex-col ml-6px"},G9t=le({__name:"right",setup(e){return(t,n)=>{const r=Fi;return H(),Q("div",T9t,[I("div",w9t,[I("div",C9t,[n[1]||(n[1]=I("div",{class:"text-#AFEBF6"}," 实时负荷 ",-1)),I("div",R9t,[I("div",I9t,[z(r,{class:"w-6px h-4px mb-8px",src:y(qs),fit:"fill"},null,8,["src"]),n[0]||(n[0]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"109.80"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"kW")],-1))])])]),I("div",M9t,[n[3]||(n[3]=I("div",{class:"text-#AFEBF6"}," 发电负荷因子 ",-1)),I("div",O9t,[I("div",D9t,[z(r,{class:"w-6px h-4px mb-8px",src:y(qs),fit:"fill"},null,8,["src"]),n[2]||(n[2]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"109.9"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"%")],-1))])])]),I("div",P9t,[n[6]||(n[6]=I("div",{class:"text-#AFEBF6"}," 可调控负荷 ",-1)),I("div",L9t,[n[5]||(n[5]=I("span",{class:"text-#95A0AB text-9px"},"削峰",-1)),I("div",N9t,[z(r,{class:"w-6px h-4px",src:y(qs),fit:"fill"},null,8,["src"]),n[4]||(n[4]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"12.3"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"kW")],-1)),z(r,{class:"w-6px h-4px",src:y(W1),fit:"fill"},null,8,["src"])])]),n[7]||(n[7]=tg('<div class="flex items-center pl-6px mt-4px" data-v-dfc8254f><span class="text-#95A0AB text-9px" data-v-dfc8254f>填谷</span><div class="flex flex-col ml-6px" data-v-dfc8254f><span class="h-18px leading-18px pl-4px" data-v-dfc8254f><span class="text-18px text-#fff font-800" data-v-dfc8254f>12.3</span><span class="text-9px text-#95A0AB ml-4px" data-v-dfc8254f>kW</span></span></div></div>',1))]),I("div",B9t,[n[9]||(n[9]=I("div",{class:"text-#AFEBF6"}," 主变容量 ",-1)),I("div",k9t,[I("div",F9t,[z(r,{class:"w-6px h-4px mb-8px",src:y(qs),fit:"fill"},null,8,["src"]),n[8]||(n[8]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"109.9"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"kVA")],-1))])])]),I("div",U9t,[n[11]||(n[11]=I("div",{class:"text-#AFEBF6"}," 发电机组 ",-1)),I("div",V9t,[I("div",z9t,[z(r,{class:"w-6px h-4px mb-8px",src:y(qs),fit:"fill"},null,8,["src"]),n[10]||(n[10]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"53568"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"户")],-1))])])]),I("div",$9t,[n[13]||(n[13]=I("div",{class:"text-#AFEBF6"}," 发电单元 ",-1)),I("div",H9t,[I("div",W9t,[z(r,{class:"w-6px h-4px mb-8px",src:y(qs),fit:"fill"},null,8,["src"]),n[12]||(n[12]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"654687"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"台")],-1))])])])])])}}}),j9t=li(G9t,[["__scopeId","data-v-dfc8254f"]]),Y9t="/vpp/assets/m_b-9GJCVkUI.png",X9t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAACC5JREFUWEfNmH9sm0cZx7/Pva+tIEFqa6tKWCE2Gh3pEHMEmiYQEKsIKAiwmco20KhfFYW0U2mMNkoRWhzGxmB/JKHVWrpNzorE6Eplr1O1TWKyqTQEQyWeNBG6AXZ/aNlKN6fJOtb4fe+hd6/91o7tSFuciuefxO+9d/d5v3fPjzvCEvaF3xRjIIwAHGn9GhVEBfGnrXBpqXE60UbtBhlIFwPv8aMIQmDJiRiFp74d7u8EzFJjtAX90mPFkAEUa50ZmKz9T0AIwEDt99Hbwm3H6dQHtJ3gawdPqiVPVScqEFPhiVt7rdhjxZAUlAMwC0BvCQbHn7wlnO0UVKtxWoLGDp0cA/Pw5Q5sSRK9gpWSPCCJJoUm9D4EIEplN/WOrhRsA6hSS/iEUisAlqMgMaYnltKSPmSFI6aIMXt4U2//Nw6fHgFLV3FGCoQUQJPScJLZeFip3VHzQDc9XozAFBk1euWijKq/Pr9R1AsLmSQSm5lFFpAgUIgFlUgqRRmHbu6lm39fjAkSaRBKFZLxbLyzkUCD3nL45DAEjQGUJ9jW7+Lh0q2ZYoihQF1jUOrx+Af10n4zc3qEoLeGjggH4x/S41T7qBWBhBM/FA8XOiUr3ZY5FSOiDMCzgFKsBsYBAmIMXAqljW1VB0ooOredvIjAcPup8d5iJ9ypbUDfOnIqIUBpBvINX88UIKoGesYsExrUobrw1K6v7dhhtTqdUJVuP3ImQYS0sCvhybpBE5liSJo+b+nr228/cmaYCK6jATjw1bUNTpl48vSABOUWj7kcYEocPZMgpejCQhMo+f1VZ6IUAQleWOhHFwIk/TmlonqmFj/9lWZQEpTjhcaPXx5ophiAaUZg24XJurCSOHomYhBN6f3IbEFQr2AKMCECtieYfDdQNTw98uVrGhVtM+ayQFt1HnpqJiSJlfeqVAlmaT20ce3k4NOvFJk5/9DGa6zBZ2ZGagFfqVv578V4/YcuB6pV36bMtPWZV2KSkFYvE1cLEiktYaDgQKSVm5OkOExsho6j2krK9yER3bexpyPOsxi2AXTbszMjkEgRaNyxeUKY1aKEHQtk7hA2Jx3iCJl0A0iUIN3MJG2EhUkZVaxIKa29X/xAx/O+B7r92Vd1fmdCas+GnlG1/D5fFZS0YtndG96fVGDb//BqBip06dwP7P58Dw3nigFHdo2BkWASqT0b1nQ079NwbibErKohCkh2Rg1BNTWqz/UmmCWqRAGjlsNDzCrdss5MRBz2EoUUIyBOgGhyIrrG6tReVaC1gK92WTXTdOYvg8Pj0fZ7VolEoFxtXgYlx6NrWm4b+oECFSItJSfdNOoakfE5Usq4vwpSOhP16ghh7KgdUSRECtI+6bULs1dApmwplwRV79/5x9dUFtZmy0r/eHRty/qA7jo2kyCItHBk+P66r9957OwYu4WH9mqGHH3gsz06p/8oNxOSpthcm2DBlo/WK6faHWCggrez49GlS74fHrsMupihXhjadey1GBs0hgUnWg+667n/ZMAc05AVJ0o+I8eEUQEodQNCGB7ou92H7PATEKog8pYx6xZAl00uOKOKq+1R5Md/OlskphAD2fs+vTquVDL85hSoenZi1J0A3h0qEbLMqtJqbyTt6M8+06PSdbOlcuWA7LLLqoUJ4/fctDp5919eH2HmiFHhCcdHO8hVe8WNGcl7PrV6vDXoc2cjMITO82BpkTB6L6XOgdRNV+vKP/Xnc6qq0jF0xU3weOrG1cmWoD99/pzydp1GQSJLzCHngoimosHZ1FQ5ICqOVvsKWf7uG6+OtgS976+vjzHcPchAwTZFNNUf1Jv83ufPRkCGq/YVMCbM/uSTVwVbgt5//I3MJUC9B4Wg1M7+oJcO7z1+LiFUcXIF7aKg1qC/+Nsb7h4kyoJVTueJnZ+4alyx/fz4uYRBQh1dOp7J2mVGSdR8FTM2VQ44BNfjWSZtiKxJyNiM+K7+YEm1vw27zaXZysjcBbPQtPQPTJUHDAH3yCsRv7M/mP3lVDliCmRIQnl9wAYCpiG+DsgVBbYdjN7VH9SHzibQX71QHmZ9xld1JoeT/UFdCI+9UB4WBulsJCtsGSYph/MuylZCS8lsJT8e1Gm7CXTPi+drOX52+8cCwRqAWnKfn6ZUFNh+fSC++8VZpXo9aMFmVdi4ZgiEiKnJ6ZhQciQ3lH8m6Uu3JmNi6/vXtwF9cHouB+YBBXTH+lXevefe6bm0BJeIKeLAedSArp7qQCm/bX23TgjK9k6XVc3qHbfrKErb1q/y6lf1/MG/n/cqqHpadVa7ox3ovn+cL0OdlQRNDl3Xrb/81yfmR1hyaKiv21LKdnUhQjDUtWQD6FBfIyihNehQXyPovuk2oJDW1r4WiioVDOHeNzFz8nsfXTW+f3ouAUE7LrxlR5PVoK/a9780r5X3FCDKD657X4OitbEWrWlp8LruBkX3n5hrqSgkrMG+7uY9+vCJuRgRMvq2ie24JJQEzHTFseNb+1ynqtnDL8/niNUerd5OEfLf/UgjqN8w9QXGoohb2rKuEfSRl+a59ZkC1pZ1LUDTL58f9u5EGVF1w1dxKtbgumBT1Z3+5/xiZ8pb114GTU+XQ/Ap0Ga7dG+Vr8df5JReBwm2tlzbAvTAv95UGce9pSNVIMsJq/ri4ukO/PvNHBjK6dzQQch/58Pv9ZZegRp+X3E5GUyytGrzU7pY9so1H/lVVe8GcUGTFbnQ9sjb8G4VtMIVL+yYMPXBrZWi7+BZsoKKPuzRb0sXWm/kdzDalXiVDp6qB62VBbWp/39+/w/3deLuu/WWKAAAAABJRU5ErkJggg==",K9t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAACGVJREFUWEfNmO9vU9cZx7/PuTcZSCPYahHLyhbfP2DULqgSlTriN6ygqbU3UUbVDludskDFiKd2lGlqnHXtuvWFk4EKo62cMmmUssru0EaF2tmdxlqtKvZ+aHtpU1BTGF1CUjbIvfc8yzm2b+zYzgvisJ039r3n3nM/5/n9HMIio/SLLRFIDDMh2OoxIhThiKgVf7O82DqdmKN2i5TS/T6YK0sAfIt+iFC0Hj4d6gTMYmssAnpfAF2GAq0OHp//TwEA/bVr6+HftF2nUxto+4Hzx+8fZkZSf4hRJEHFvp1vxEvHIwFimQMwBVRMgsFR66FT2U5BtTSzVjfPvxpJMWPIk6VEXAjZB4gAA/0EOQ4hwLK6EQAkkOzbkR1ZLtgGiSppCRI5EHzSxYgQSKkPS0Yc12VWrBQFEE317Xg9dOHE14ZlTeKEJBhJAsbd/8iEFc8qaXd0eKCl17YHBSOjwaQdVr+G0VWaUz8kc0II2iWYs1JJjyhAxGVmSqr5vh0nqXTi6xFBIg2gLF07au3MdjQSaNDzJ3cMEZAiIO84FLd2vlouHf9GwDDZcyYCJ7+w/TWt2gsnHxxmoiFwJSJ8cfsJvY5+p4uV/cKVMmo9eLLYKbHSh7/aGSFQhglTAvAcgsE+MEW0qxA1zGkHYo4Bio+VhL2IUHtPreeKf1tWtDNmQB++/lCMtMo4X797AnwMCs7ZnuKZArhROkz9VU6AWrzLFHRmHUtppxNSpYuZR5Rk0jaEZUXHvUVLmVigC9JTff38xcwjQwBpR1NjXfRYg1NeyMRUZMgtXHMpwHQxE4sRUXqWuQm0m6ikBUqcBFNsllllIF83Ua6iAYqp+XWRdDMoUc5esOaSQEuZmM8Egg5QtKLjXli5mIkFSRgFbY+S4yTQRyR8AAcdF2NdJt8pJemEcMcDLzeGuTZrLgm01csTmcEAG1LFU5UqVXiKr7v/xfGPfj1QYsH5O776Ynzi1MDwnDQrmQucv+HY0fqNLgWq1btNKfSjU7sjIKnioVK6Dj9SIg5DFAW7+j7ZFEU3dnkpFiiTWmkW4d7okY44z0LYBtCJ03uGIZEkolG+4Y6hW2hncoG4CexjKRJMbpCI7hQCZVlLobPSom6RASggScY/v+1wx/O+B/rxm3tTLDEE4mTv1kMjE6cHA+CumteXCch+btvBhAL/+Ld7VdxVoUubRu+2g1TKDPlWrHBTYMQEcXLt1kMdzfs0cXpIpcMcEXyuK0eIjJo09H2tasKU7VDYELpiUiMgBGe4mpmYyaqpShAr242pvL/2vrF4p2xVgcZI6ICvI3snf1my1bt1tK3NaiEJFeqqGQ6cWPuV0ZZmQxNnvhtTxQS7MjFX2nnhyTBoMxPFFD8BRdeVY/XSMQyxr6p+CJJJx8H52rxpok9CJKXjLAqqnr905nHWnABsdkLrtoy2rA9o4swTMSEoLW1h9W59ztv95bf3p5i5VpOWpeSR3i3P65w+cfrJgDDlLggVEgDpzL5SLzk1D8Ptv95lZ63w6KIl36W3vqdUqcdChnrB0KW3DkSIOOUKhHvD86D/fPtAhoEICGX3BoeNz1AOzCMQoug60mcIsWup9sfMbxBVSkvtC0CWQQ0bc4UcUVxtW5HLv/t+iUABEGfXhJ+NTuSeDJhsFOaSQKVSqusAbhqYKAvmyGLvO0Th3vCP8i1BJ3NJn0NysrJNHl2z+enEJ+88NczMQWZjjMjdx1Al4C0YzIk14adHW4JeziWDQkDneZWVDJP6mLn/9i8ndeV/5Z2kiq86hi73YGB0zeZkoiXold//MAZAp0tB2m4CwnHD/nBySknbNURF2rdiEPK33/tUuCXoJ394NgXl8XqWi8J2NKS6unz2maAhK9L2wm6dN+hw3NFrnrrt3h/4W4L+64/PZWpGTkIk/Zv2e+nwytlnYgK6ibtlg2ZvtAP9ibbBSrhAkIGx2+7ZP6rt8+yPY4KMZclk7TIjkbSaJDqZS/mw0p1UKtRtMjlZkJkBO1H/pgNlNe+Y11semi2XiE1nRbEZ9N3n+yEMXYzAlVH/PY9nJ//00yDYzEBSGAZ8cB2fMMwHZPVIZ7kA4Toj/k1P6KazGfS9nw2RYN24sSst/6aETquT76WGqJqNGDJOZCiH8w7KlgNWfcd/d0InmCbQq+8fSjG0x0/5Nu711wAmCykfuV0FFQV8G/dGp94/qKReD1pkx9H1qh6GEVBNY9MG1AmL7TaUf2SaFQ0uGMwc99/9ndag0+deyDGjf87ri6s3Puade05/cDjNkGUCBV12XzGEsU8/Vx3EyPds3KMTgtbAu4cDonv+pKWOobx6wx6vflX3r37wQn1Q8x6V4Lh/w2NtJHruiArmPiKM94QG9c5nCj8fZsmBng2DcSVZOCuChkGqQJ4HBfI9dw3OgxYOBwRT3fmq9/3y6rsGG0HPHWkNqiS6YXcz6GThcMBA5fCWwYnVoW+PTheOqmp9n4NrYX8o4VU2M4WjuYWgq0IDDaC1tRZotNwTGmgAnS4cbQk6dywW7wkNNINOF16KgCijDNdhjgKybJJIO2xH/aHdDZX6TPElVZn31/oC1TKvCn6rAdSk7soBRmPfUO4JPtoAOlN8WR0KNvUXYAX6aDPo1T+nhwRVzkThIkwmUrZjx/2hgaaqe+Yv6YXOlF+1Pl4Hmg6YBlqpXjVh+YaWp87W66WvvL5nfQvQT/92LI3aKR1xUUo51rM+Xnd2P7/Mp389VgX1ZJr/7Je+2QDaZSozuvleTLICrXyfJgtpr1zr7u5SnWVQ6UB1kbOzdtuWVz+rAv48R962bS/smKZZadxunlPxJWzb1s0eXfv7L9sZcqvQ9j+7R9f+ccIDrRm9FxurTvD/cP1frkP8ofnSZqQAAAAASUVORK5CYII=",q9t={class:"relative overflow-hidden h-100% wrapfit"},Z9t={id:"left",class:"left z-9 absolute top-0px left-15px w-528px h-100%"},Q9t={class:"flex absolute top-0px left-0px z-9 w-100% h-100px"},J9t={class:"right flex-1 pr-15px h-100%"},ezt={id:"search",class:"absolute z-9 top-140px"},tzt={class:"flex absolute bottom-90px left-0px z-9 w-100% h-46px"},nzt={class:"right flex-1 pr-40px h-100%"},rzt=le({__name:"index",setup(e){const t=Y("");return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780});const n=new hL({id:"container",logoVisible:!1,map:new fL({mapStyle:"amap://styles/dark",center:[120.054228,30.245705],pitch:0,zoom:11.5,dragEnable:!1,zoomEnable:!1,keyboardEnable:!1,doubleClickZoom:!1,scrollWheel:!1,token:"455cdb79bf8735a87862d83e16f06c94"})});n.addImage("c",dD),n.addImage("bg",fD),n.addImage("m1",X9t),n.addImage("m2",K9t),n.on("loaded",()=>{const r=document.getElementById("left"),i=n.containerToLngLat([(r==null?void 0:r.clientWidth)+40,120]),a=document.getElementById("container"),o=n.containerToLngLat([(a==null?void 0:a.clientWidth)-20,(a==null?void 0:a.clientHeight)-20]),s=document.getElementById("search");s&&(s.style.left=(r==null?void 0:r.clientWidth)+60+"px");const l=new Ry({}).source(dD,{parser:{type:"image",extent:[i.lng,i.lat,o.lng,o.lat]}});n.addLayer(l);const u=new Ry({}).source(fD,{parser:{type:"image",extent:[120.210292,30.182067,119.901529,30.340115]}});n.addLayer(u);const c=[{name:"新乡电厂",lng:"120.115339",lat:"30.265585",code:"m1"},{name:"瑞利法电厂",lng:"120.064814",lat:"30.194369",code:"m1"},{name:"光茵茶电厂",lng:"120.096499",lat:"30.197144",code:"m1"},{name:"浦桥南电厂",lng:"120.132895",lat:"30.204916",code:"m2"},{name:"桥头南电厂",lng:"120.190057",lat:"30.196959",code:"m2"},{name:"旭光蓝祛电厂",lng:"120.097784",lat:"30.241728",code:"m2"},{name:"压铸电厂",lng:"120.168434",lat:"30.263366",code:"m2"}],f=new Tg().source(c,{parser:{type:"json",x:"lng",y:"lat"}}).shape("code",["m1","m2"]).size(12).style({offsets:[0,38]});n.addLayer(f);const d=new Tg().source(c,{parser:{type:"json",x:"lng",y:"lat"}}).shape("name","text").color("#fff").size(10).style({textOffset:[110,80]});n.addLayer(d)})}),so(()=>{Sa.off()}),(n,r)=>{const i=sa,a=da,o=Fi;return H(),Q("main",q9t,[r[3]||(r[3]=I("div",{id:"container"},null,-1)),I("div",Z9t,[z(E9t)]),I("div",Q9t,[r[1]||(r[1]=I("div",{class:"w-528px"},null,-1)),I("div",J9t,[z(j9t)])]),I("div",ezt,[z(a,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=s=>t.value=s),size:"small",style:{width:"218px"}},{append:J(()=>[z(i,{icon:y(Xf)},null,8,["icon"])]),_:1},8,["modelValue"])]),I("div",tzt,[r[2]||(r[2]=I("div",{class:"w-580px"},null,-1)),I("div",nzt,[z(o,{class:"w-100% h-46px",src:y(Y9t),fit:"fill"},null,8,["src"])])])])}}}),izt=li(rzt,[["__scopeId","data-v-3ae217fe"]]),azt={},ozt={class:"relative w-100%"};function szt(e,t){return H(),Q("div",ozt,t[0]||(t[0]=[tg('<div class="absolute top-0px left-0px w-10px h-10px rounded-10px round flex items-center justify-center" data-v-04a86193><div class="w-3px h-3px bg-#fff rounded-3px" data-v-04a86193></div></div><div class="absolute top-0px right-0px w-10px h-10px rounded-10px round flex items-center justify-center" data-v-04a86193><div class="w-3px h-3px bg-#fff rounded-3px" data-v-04a86193></div></div><div class="absolute fly left-5px top-4.5px" data-v-04a86193></div>',3)]))}const UI=li(azt,[["render",szt],["__scopeId","data-v-04a86193"]]),lzt="/vpp/assets/la_1-W74FrLTP.png",uzt="/vpp/assets/la_2-UYl9NKWc.png",czt="/vpp/assets/la_3-LiG0CjP6.png",fzt="/vpp/assets/la_4-BanClAts.png",dzt="/vpp/assets/la_5-BkqGMb6g.png",hzt="/vpp/assets/la_6-nXDUAM3u.png",qde="/vpp/assets/la_7-DQR2324E.png",pzt="/vpp/assets/lb_1-CKf__F5R.png",T7="/vpp/assets/lb_2-B89Xej5Y.png",vzt={class:"pt-18px"},gzt={class:"h-26px flex items-center px-16px"},mzt={class:"p-10px"},yzt={class:"flex items-center justify-between px-16px"},_zt={class:"relative w-146px h-146px"},bzt={class:"absolute left-0px top-0px"},xzt={class:"absolute left-0px top-0px"},Szt={class:"absolute left-0px top-0px"},Azt={class:"absolute left-0px top-0px"},Ezt={class:"flex justify-between items-center mt-16px"},Tzt={class:"text-center"},wzt={class:"text-center"},Czt={class:"text-center"},Rzt={class:"text-center"},Izt={class:"pt-22px"},Mzt={class:"h-26px flex items-center px-16px"},Ozt={class:"px-16px mb-16px relative"},Dzt={class:"relative w-252px h-246px"},Pzt={class:"absolute left-0px top-0px"},Lzt={class:"absolute left-0px top-0px"},Nzt={class:"absolute left-0px top-0px"},Bzt={class:"absolute left-0px top-0px"},kzt={class:"absolute left-0px top-0px w-100% h-100%"},Fzt={class:"flex items-center mt-20px"},Uzt={class:"pl-90px w-280px"},Vzt={class:"flex items-center mt-10px"},zzt={class:"pl-120px w-280px"},$zt={class:"flex items-center mt-10px"},Hzt={class:"pl-200px w-280px"},Wzt={class:"flex items-center mt-10px"},Gzt={class:"pl-90px w-280px"},jzt=le({__name:"left",setup(e){return Y(""),(t,n)=>{const r=Fi;return H(),Q(St,null,[I("div",vzt,[z(Ir,null,{title:J(()=>[I("div",gzt,[z(r,{class:"w-20px h-20px mr-14px",src:y(zye),fit:"fill"},null,8,["src"]),n[0]||(n[0]=I("span",null,"辅助指标",-1))])]),content:J(()=>[I("div",mzt,[I("div",yzt,[I("div",_zt,[I("div",bzt,[z(r,{class:"w-146px h-146px",src:y(lzt),fit:"fill"},null,8,["src"])]),I("div",xzt,[z(r,{class:"w-146px h-146px animate-spin-slow2",src:y(uzt),fit:"fill"},null,8,["src"])]),I("div",Szt,[z(r,{class:"w-146px h-146px animate-spin-slow",src:y(czt),fit:"fill"},null,8,["src"])]),I("div",Azt,[z(r,{class:"w-146px h-146px animate-spin-slow",src:y(fzt),fit:"fill"},null,8,["src"])])]),n[1]||(n[1]=I("div",{class:"flex flex-col justify-between h-154px py-10px"},[I("div",{class:"flex items-center justify-between px-10px w-200px h-24px bg-#103042a6"},[I("div",{class:"flex items-center"},[I("div",{class:"w-4px h-4px bg-#3AB0E0"}),I("div",{class:"text-11px text-#5AB6DB ml-10px"},"不可控DG")]),I("div",{class:"text-#FFFFFF"},"7892台")]),I("div",{class:"flex items-center justify-between px-10px w-200px h-24px bg-#103042a6"},[I("div",{class:"flex items-center"},[I("div",{class:"w-4px h-4px bg-#3AB0E0"}),I("div",{class:"text-11px text-#5AB6DB ml-10px"},"可控DG")]),I("div",{class:"text-#FFFFFF"},"8252台")]),I("div",{class:"flex items-center justify-between px-10px w-200px h-24px bg-#103042a6"},[I("div",{class:"flex items-center"},[I("div",{class:"w-4px h-4px bg-#3AB0E0"}),I("div",{class:"text-11px text-#5AB6DB ml-10px"},"储能")]),I("div",{class:"text-#FFFFFF"},"8979台")]),I("div",{class:"flex items-center justify-between px-10px w-200px h-24px bg-#103042a6"},[I("div",{class:"flex items-center"},[I("div",{class:"w-4px h-4px bg-#3AB0E0"}),I("div",{class:"text-11px text-#5AB6DB ml-10px"},"可控负荷")]),I("div",{class:"text-#FFFFFF"},"9856台")])],-1))]),I("div",Ezt,[I("div",Tzt,[z(r,{class:"w-50px h-50px",src:y(dzt),fit:"fill"},null,8,["src"]),n[2]||(n[2]=I("div",{class:"text-9px text-#959595"},"发电机组总数",-1)),n[3]||(n[3]=I("div",{class:"text-14px text-#fff"},"2789台",-1))]),I("div",wzt,[z(r,{class:"w-50px h-50px",src:y(hzt),fit:"fill"},null,8,["src"]),n[4]||(n[4]=I("div",{class:"text-9px text-#959595"},"发电单元总数",-1)),n[5]||(n[5]=I("div",{class:"text-14px text-#fff"},"42789台",-1))]),I("div",Czt,[z(r,{class:"w-50px h-50px",src:y(qde),fit:"fill"},null,8,["src"]),n[6]||(n[6]=I("div",{class:"text-9px text-#959595"},"削峰能力占比",-1)),n[7]||(n[7]=I("div",{class:"text-14px text-#fff"},"32%",-1))]),I("div",Rzt,[z(r,{class:"w-50px h-50px",src:y(qde),fit:"fill"},null,8,["src"]),n[8]||(n[8]=I("div",{class:"text-9px text-#959595"},"填谷能力占比",-1)),n[9]||(n[9]=I("div",{class:"text-14px text-#fff"},"43%",-1))])])])]),_:1})]),I("div",Izt,[z(Ir,null,{title:J(()=>[I("div",Mzt,[z(r,{class:"w-20px h-20px mr-14px",src:y(Jj),fit:"fill"},null,8,["src"]),n[10]||(n[10]=I("span",null,"地理信息",-1))])]),content:J(()=>[I("div",Ozt,[I("div",Dzt,[I("div",Pzt,[z(r,{class:"w-252px h-246px",src:y(pzt),fit:"fill"},null,8,["src"])]),I("div",Lzt,[z(r,{class:"w-252px h-246px animate-spin-slow",src:y(T7),fit:"fill"},null,8,["src"])]),I("div",Nzt,[z(r,{class:"w-252px h-246px animate-spin-with-offset",src:y(T7),fit:"fill"},null,8,["src"])]),I("div",Bzt,[z(r,{class:"w-252px h-246px animate-spin-with-offset2",src:y(T7),fit:"fill"},null,8,["src"])])]),I("div",kzt,[I("div",Fzt,[I("div",Uzt,[z(UI)]),n[11]||(n[11]=I("div",{class:"w-60px h-34px mt-8px ml-4px bg_wrap_b text-20px font-500 text-#fff text-center"},"XT-1",-1)),n[12]||(n[12]=I("div",{class:"text-#959598 font-500 text-12px mt-8px ml-6px"},[I("div",null,"东经36°7'27"),I("div",null,"北纬30°40'2")],-1))]),I("div",Vzt,[I("div",zzt,[z(UI)]),n[13]||(n[13]=I("div",{class:"w-60px h-34px mt-8px ml-4px bg_wrap_b text-20px font-500 text-#fff text-center"},"XT-2",-1)),n[14]||(n[14]=I("div",{class:"text-#959598 font-500 text-12px mt-8px ml-6px"},[I("div",null,"东经36°7'27"),I("div",null,"北纬30°40'2")],-1))]),I("div",$zt,[I("div",Hzt,[z(UI)]),n[15]||(n[15]=I("div",{class:"w-60px h-34px mt-8px ml-4px bg_wrap_b text-20px font-500 text-#fff text-center"},"XT-3",-1)),n[16]||(n[16]=I("div",{class:"text-#959598 font-500 text-12px mt-8px ml-6px"},[I("div",null,"东经36°7'27"),I("div",null,"北纬30°40'2")],-1))]),I("div",Wzt,[I("div",Gzt,[z(UI)]),n[17]||(n[17]=I("div",{class:"w-60px h-34px mt-8px ml-4px bg_wrap_b text-20px font-500 text-#fff text-center"},"XT-4",-1)),n[18]||(n[18]=I("div",{class:"text-#959598 font-500 text-12px mt-8px ml-6px"},[I("div",null,"东经36°7'27"),I("div",null,"北纬30°40'2")],-1))])])])]),_:1})])],64)}}}),Yzt=li(jzt,[["__scopeId","data-v-c534ea61"]]),Xzt="/vpp/assets/r_1-7geO-kQf.png",Kzt="/vpp/assets/r_2-CPx8rIA5.png",qzt={class:"pt-18px"},Zzt={class:"py-10px px-20px mt-10px"},Qzt={class:"mt-20px flex justify-end items-center"},Jzt={class:"p-8px h-262px"},e$t={class:"mt-28px flex justify-between items-center"},t$t={class:"flex items-center justify-between mt-10px pl-20px"},n$t=["onClick"],r$t={class:"w_1 w-100% h-14px text-6px"},i$t={class:"w_2 w-100% h-14px text-9px"},a$t={class:"mt-22px flex justify-between items-center"},o$t={class:"flex items-center justify-between mt-10px pl-20px"},s$t=["onClick"],l$t={class:"w_1 w-100% h-14px text-6px"},u$t={class:"w_2 w-100% h-14px text-9px"},c$t=le({__name:"right",setup(e){const t=Y("1"),n=Y("1"),r=Y("1"),i=Y(),a=Y(""),o=Y(""),f=((p,v,g)=>({tooltip:{trigger:"axis",show:!1},xAxis:{type:"category",data:[],axisLabel:{interval:0,color:"#909399",fontSize:8}},legend:{left:"right",iconSize:10,backgroundColor:"transparent",textStyle:{color:"#fff",fontSize:8}},yAxis:{type:"value",min:0,max:25e3,splitLine:{show:!1,lineStyle:{type:"dashed",dashOffset:2}},axisLabel:{color:"#909399",fontSize:10}},grid:{top:28,left:44,right:10,bottom:24,containLabel:!0},series:[{name:"实测负荷",symbolSize:function(m){const b=m.length,_=m[2];if(b===4)return[20,_];{const x=Math.max(...v);return[12,_/x*94]}},hoverAnimation:!1,symbolOffset:["0%","-50%"],data:p.map((m,b)=>[[m,11500,v[b]],[m,12e3+v[b],5,"t"]]).flat(),type:"scatter",symbol:"rect",itemStyle:{normal:{opacity:1,color:"#b8b8b8"}}},{name:"特殊群组",symbolSize:function(m){const b=m.length,_=m[2];if(b===4)return[12,_];{const x=Math.max(...v);return[12,_/x*90]}},hoverAnimation:!1,symbolOffset:["0%","-50%"],data:p.map((m,b)=>[[m,8500,-g[b]],[m,8400-g[b],-5,"b"]]).flat(),type:"scatter",symbol:"rect",itemStyle:{normal:{opacity:1,color:"#42B6F6"}}}]}))([1,2,3,4,5,6,7,8,9,10,11,12,13],[6e3,12e3,3e3,12e3,8e3,5e3,12e3,8500,11e3,6e3,12e3,6e3,4e3],[7e3,5e3,4e3,6e3,6e3,1e3,6e3,4e3,5e3,4e3,1500,6e3,5e3]),d=[{name:"亭卫变",value:"TingWeiBian"},{name:"远东变",value:"YuanDongBian"},{name:"黄渡变",value:"HuangDuBian"},{name:"练塘变",value:"LianTangBian"},{name:"顾路变",value:"GuLuBian"},{name:"杨高变",value:"YangGaoBian"},{name:"三林变",value:"SanLinBIan"},{name:"新余变",value:"XinYuBian"},{name:"徐行变",value:"XuXingBian"},{name:"崇明变",value:"ChongMingBian"},{name:"南桥变",value:"NanQiaoBian"},{name:"杨行变",value:"YanXingBian"},{name:"泗泾变",value:"SiJingBian"}],h=Y("亭卫变");return(p,v)=>{const g=Fi,m=em,b=ky,_=By,x=eo,E=sa,A=da,T=Db,R=Cp;return H(),Q("div",qzt,[z(Ir,null,{content:J(()=>[I("div",Zzt,[z(g,{class:"w-100% h-68px",src:y(Xzt),fit:"fill"},null,8,["src"]),z(g,{class:"w-100% h-27px mt-10px",src:y(Kzt),fit:"fill"},null,8,["src"]),I("div",Qzt,[z(m,{modelValue:i.value,"onUpdate:modelValue":v[0]||(v[0]=M=>i.value=M),type:"date",size:"small"},null,8,["modelValue"]),z(_,{size:"small",class:"ml-20px",modelValue:t.value,"onUpdate:modelValue":v[1]||(v[1]=M=>t.value=M)},{default:J(()=>[z(b,{label:"趋势图",value:"1"}),z(b,{label:"柱状图",value:"2"})]),_:1},8,["modelValue"])]),I("div",Jzt,[z(x,{height:"100%",options:y(f)},null,8,["options"])]),I("div",e$t,[z(_,{size:"small",class:"ml-20px",modelValue:n.value,"onUpdate:modelValue":v[2]||(v[2]=M=>n.value=M)},{default:J(()=>[z(b,{label:"电网分区",value:"1"}),z(b,{label:"特殊群组",value:"2"})]),_:1},8,["modelValue"]),I("div",null,[z(A,{modelValue:a.value,"onUpdate:modelValue":v[3]||(v[3]=M=>a.value=M),class:"h-24px",size:"small",style:{width:"218px"}},{append:J(()=>[z(E,{icon:y(Xf)},null,8,["icon"])]),_:1},8,["modelValue"]),z(R,{size:"small",style:{width:"160px"},class:"ml-20px"},{default:J(()=>[(H(),Q(St,null,Nn([],M=>z(T,{key:M,label:M,value:M},null,8,["label","value"])),64))]),_:1})])]),I("div",t$t,[(H(),Q(St,null,Nn(d,M=>I("div",{class:j(["w-50px h-28px bg_wrap_c1 text-#84C2E4",h.value===M.name?"is_active":""]),key:M.name,onClick:O=>h.value=M.name},[I("div",r$t,nt(M.value),1),I("div",i$t,nt(M.name),1)],10,n$t)),64))]),I("div",a$t,[z(_,{size:"small",class:"ml-20px",modelValue:r.value,"onUpdate:modelValue":v[4]||(v[4]=M=>r.value=M)},{default:J(()=>[z(b,{label:"电网分区",value:"1"}),z(b,{label:"特殊群组",value:"2"})]),_:1},8,["modelValue"]),I("div",null,[z(A,{modelValue:o.value,"onUpdate:modelValue":v[5]||(v[5]=M=>o.value=M),class:"h-24px",size:"small",style:{width:"218px"}},{append:J(()=>[z(E,{icon:y(Xf)},null,8,["icon"])]),_:1},8,["modelValue"]),z(R,{size:"small",style:{width:"160px"},class:"ml-20px"},{default:J(()=>[(H(),Q(St,null,Nn([],M=>z(T,{key:M,label:M,value:M},null,8,["label","value"])),64))]),_:1})])]),I("div",o$t,[(H(!0),Q(St,null,Nn(d.slice(6),M=>(H(),Q("div",{class:j(["w-50px h-28px bg_wrap_c1 text-#84C2E4",h.value===M.name?"is_active":""]),key:M.name,onClick:O=>h.value=M.name},[I("div",l$t,nt(M.value),1),I("div",u$t,nt(M.name),1)],10,s$t))),128))])])]),_:1})])}}}),f$t=li(c$t,[["__scopeId","data-v-d93bcb08"]]),d$t={class:"overflow-hidden h-100% wrapfit"},h$t={id:"container",class:"p-20px flex justify-between"},p$t={class:"left w-425px h-100%"},v$t={class:"right h-100% flex-1 ml-10px"},g$t=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",d$t,[I("div",h$t,[I("div",p$t,[z(Yzt)]),I("div",v$t,[z(f$t)])])]))}}),m$t=li(g$t,[["__scopeId","data-v-3154b455"]]),Xwe="/vpp/assets/la_1-rzef9_Hl.png",hD="/vpp/assets/la_2-BS2mii23.png",pD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVoAAABMCAYAAAAsqX9EAAAAAXNSR0IArs4c6QAAA1xJREFUeF7t2rFNK1EUBNB9FZC6IefQi6kCeoHcDTmlgkXIMgEkD8SThtH5EcGyunPGGlnoj8v5tG/T/8br4fj0MP24BwkQIFAocDk/vmzbfj8bbRjaWSrPESBA4Crw66E9HJ8HRAIECBD4O4HbF9nPb7SG9u9wvYkAAQLXb77XP80aWp8HAgQILBIwtItgvZYAAQI3AUPrs0CAAIHFAoZ2MbDXEyBAwND6DBAgQGCxgKFdDOz1BAgQMLQ+AwQIEFgsYGgXA3s9AQIEDK3PAAECBBYLTA3tvu93i+/wegIECFQIjDHevgYxtBXVCkGAQIqAoU1pwh0ECNQKGNraagUjQCBFwNCmNOEOAgRqBQxtbbWCESCQImBoU5pwBwECtQKGtrZawQgQSBEwtClNuIMAgVoBQ1tbrWAECKQIGNqUJtxBgECtgKGtrVYwAgRSBAxtShPuIECgVsDQ1lYrGAECKQKGNqUJdxAgUCtgaGurFYwAgRQBQ5vShDsIEKgVMLS11QpGgECKgKFNacIdBAjUChja2moFI0AgRcDQpjThDgIEagUMbW21ghEgkCJgaFOacAcBArUChra2WsEIEEgRMLQpTbiDAIFaAUNbW61gBAikCBjalCbcQYBArYChra1WMAIEUgQMbUoT7iBAoFbA0NZWKxgBAikChjalCXcQIFArYGhrqxWMAIEUAUOb0oQ7CBCoFTC0tdUKRoBAioChTWnCHQQI1AoY2tpqBSNAIEXA0KY04Q4CBGoFDG1ttYIRIJAiYGhTmnAHAQK1Aoa2tlrBCBBIETC0KU24gwCBWgFDW1utYAQIpAgY2pQm3EGAQK2Aoa2tVjACBFIEDG1KE+4gQKBWwNDWVisYAQIpAoY2pQl3ECBQK2Boa6sVjACBFAFDm9KEOwgQqBUwtLXVCkaAQIqAoU1pwh0ECNQKGNraagUjQCBFwNCmNOEOAgRqBQxtbbWCESCQIvDroU0J4A4CBAj8R4HL+bR/3D1uPxyOz+M/BnEzAQIEUgUMbWoz7iJAoEbA0NZUKQgBAqkChja1GXcRIFAjYGhrqhSEAIFUAUOb2oy7CBCoEfg2tHPJxuvh+PQw96ynCBAg0ClwOT++bNt+P5vu8793zf2CoZ1z8hQBAs0CPx3ad/a2+vOhoHSDAAAAAElFTkSuQmCC",Kwe="/vpp/assets/la_4-CKeEDu3f.png",y$t={class:"p-16px"},_$t={class:"flex justify-center relative"},b$t={class:"flex justify-end mt-18px"},x$t={class:"flex justify-between items-center mt-12px"},S$t={class:"relative"},A$t={class:"mt-10px"},E$t={class:"flex justify-between items-center mt-16px"},T$t={class:"relative"},w$t={class:"mt-10px"},C$t={class:"flex justify-end items-center mt-45px"},R$t=le({__name:"left",setup(e){const t=Y("1"),n=Y(),r=Y("");return(i,a)=>{const o=Fi,s=sa,l=da,u=em,c=ky,f=By;return H(),Q("div",null,[z(Ir,null,{content:J(()=>[I("div",y$t,[I("div",_$t,[z(o,{class:"w-574px h-62px",src:y(Xwe),fit:"fill"},null,8,["src"]),a[3]||(a[3]=I("div",{class:"text-18px text-#84E1F2 font-500 absolute left-0px right-0px text-center"},"发电机组历史数据查询",-1))]),I("div",b$t,[z(l,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=d=>r.value=d),size:"small",style:{width:"218px"}},{append:J(()=>[z(s,{icon:y(Xf)},null,8,["icon"])]),_:1},8,["modelValue"])]),I("div",x$t,[a[5]||(a[5]=I("div",{class:"bg-#ffffff1a px-8px py-4px rounded-4px"},[I("div",{class:"text_wrap"}," 用电量：1297kWh ")],-1)),I("div",S$t,[z(o,{class:"w-148px h-38px",src:y(pD),fit:"fill"},null,8,["src"]),a[4]||(a[4]=I("div",{class:"text_wrap text-12px absolute left-0px top-10px right-0px text-center"}," 累计发电量：1297kWh ",-1))])]),I("div",A$t,[z(o,{class:"w-100%",src:y(hD),fit:"fill"},null,8,["src"])]),I("div",E$t,[a[7]||(a[7]=I("div",{class:"bg-#ffffff1a px-8px py-4px rounded-4px"},[I("div",{class:"text_wrap2"}," 发电量：1389kWh ")],-1)),I("div",T$t,[z(o,{class:"w-148px h-38px",src:y(pD),fit:"fill"},null,8,["src"]),a[6]||(a[6]=I("div",{class:"text_wrap2 text-12px absolute left-0px top-10px right-0px text-center"}," 累计发电量：1389kWh ",-1))])]),I("div",w$t,[z(o,{class:"w-100%",src:y(hD),fit:"fill"},null,8,["src"])]),I("div",C$t,[z(u,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=d=>n.value=d),type:"date",size:"small"},null,8,["modelValue"]),z(f,{size:"small",class:"ml-20px",modelValue:t.value,"onUpdate:modelValue":a[2]||(a[2]=d=>t.value=d)},{default:J(()=>[z(c,{label:"总负荷",value:"1"}),z(c,{label:"用电负荷",value:"2"}),z(c,{label:"发电负荷",value:"3"})]),_:1},8,["modelValue"]),z(s,{type:"primary"},{default:J(()=>a[8]||(a[8]=[$n("导出")])),_:1}),z(s,{type:"primary"},{default:J(()=>a[9]||(a[9]=[$n("查询")])),_:1})]),I("div",null,[z(o,{class:"w-100%",src:y(Kwe),fit:"fill"},null,8,["src"])])])]),_:1})])}}}),I$t=li(R$t,[["__scopeId","data-v-2d5667c3"]]),M$t={class:"p-16px"},O$t={class:"flex justify-center relative"},D$t={class:"flex justify-end mt-18px"},P$t={class:"flex justify-between items-center mt-12px"},L$t={class:"relative"},N$t={class:"mt-10px"},B$t={class:"flex justify-between items-center mt-16px"},k$t={class:"relative"},F$t={class:"mt-10px"},U$t={class:"flex justify-end items-center mt-45px"},V$t=le({__name:"right",setup(e){const t=Y("1"),n=Y(),r=Y("");return(i,a)=>{const o=Fi,s=sa,l=da,u=em,c=ky,f=By;return H(),Q("div",null,[z(Ir,null,{content:J(()=>[I("div",M$t,[I("div",O$t,[z(o,{class:"w-574px h-62px",src:y(Xwe),fit:"fill"},null,8,["src"]),a[3]||(a[3]=I("div",{class:"text-18px text-#84E1F2 font-500 absolute left-0px right-0px text-center"},"虚拟电厂历史数据查询",-1))]),I("div",D$t,[z(l,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=d=>r.value=d),size:"small",style:{width:"218px"}},{append:J(()=>[z(s,{icon:y(Xf)},null,8,["icon"])]),_:1},8,["modelValue"])]),I("div",P$t,[a[5]||(a[5]=I("div",{class:"bg-#ffffff1a px-8px py-4px rounded-4px"},[I("div",{class:"text_wrap"}," 用电量：1087kWh ")],-1)),I("div",L$t,[z(o,{class:"w-148px h-38px",src:y(pD),fit:"fill"},null,8,["src"]),a[4]||(a[4]=I("div",{class:"text_wrap text-12px absolute left-0px top-10px right-0px text-center"}," 累计发电量：1087kWh ",-1))])]),I("div",N$t,[z(o,{class:"w-100%",src:y(hD),fit:"fill"},null,8,["src"])]),I("div",B$t,[a[7]||(a[7]=I("div",{class:"bg-#ffffff1a px-8px py-4px rounded-4px"},[I("div",{class:"text_wrap2"}," 发电量：1183kWh ")],-1)),I("div",k$t,[z(o,{class:"w-148px h-38px",src:y(pD),fit:"fill"},null,8,["src"]),a[6]||(a[6]=I("div",{class:"text_wrap2 text-12px absolute left-0px top-10px right-0px text-center"}," 累计发电量：1183kWh ",-1))])]),I("div",F$t,[z(o,{class:"w-100%",src:y(hD),fit:"fill"},null,8,["src"])]),I("div",U$t,[z(u,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=d=>n.value=d),type:"date",size:"small"},null,8,["modelValue"]),z(f,{size:"small",class:"ml-20px",modelValue:t.value,"onUpdate:modelValue":a[2]||(a[2]=d=>t.value=d)},{default:J(()=>[z(c,{label:"总负荷",value:"1"}),z(c,{label:"用电负荷",value:"2"}),z(c,{label:"发电负荷",value:"3"})]),_:1},8,["modelValue"]),z(s,{type:"primary"},{default:J(()=>a[8]||(a[8]=[$n("导出")])),_:1}),z(s,{type:"primary"},{default:J(()=>a[9]||(a[9]=[$n("查询")])),_:1})]),I("div",null,[z(o,{class:"w-100%",src:y(Kwe),fit:"fill"},null,8,["src"])])])]),_:1})])}}}),z$t=li(V$t,[["__scopeId","data-v-4e7d3715"]]),$$t={class:"overflow-hidden h-100% wrapfit"},H$t={id:"container",class:"p-20px flex justify-between"},W$t={class:"left flex-1 h-100% mr-10px"},G$t={class:"right h-100% flex-1 ml-10px"},j$t=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",$$t,[I("div",H$t,[I("div",W$t,[z(I$t)]),I("div",G$t,[z(z$t)])])]))}}),Y$t=li(j$t,[["__scopeId","data-v-75bae4b6"]]);var G1=function(){return G1=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},G1.apply(this,arguments)};function qwe(e){return!e||!e.ownerDocument||!e.ownerDocument.defaultView?window:e.ownerDocument.defaultView}function Zwe(e){return!e||!e.ownerDocument?document:e.ownerDocument}var Qwe=function(e){var t={},n=Array.prototype.reduce.call(e,function(r,i){var a=i.name.match(/data-simplebar-(.+)/);if(a){var o=a[1].replace(/\W+(.)/g,function(s,l){return l.toUpperCase()});switch(i.value){case"true":r[o]=!0;break;case"false":r[o]=!1;break;case void 0:r[o]=!0;break;default:r[o]=i.value}}return r},t);return n};function Jwe(e,t){var n;e&&(n=e.classList).add.apply(n,t.split(" "))}function eCe(e,t){e&&t.split(" ").forEach(function(n){e.classList.remove(n)})}function tCe(e){return".".concat(e.split(" ").join("."))}var nY=!!(typeof window<"u"&&window.document&&window.document.createElement),X$t=Object.freeze({__proto__:null,addClasses:Jwe,canUseDOM:nY,classNamesToQuery:tCe,getElementDocument:Zwe,getElementWindow:qwe,getOptions:Qwe,removeClasses:eCe}),P1=null,Zde=null;nY&&window.addEventListener("resize",function(){Zde!==window.devicePixelRatio&&(Zde=window.devicePixelRatio,P1=null)});function Qde(){if(P1===null){if(typeof document>"u")return P1=0,P1;var e=document.body,t=document.createElement("div");t.classList.add("simplebar-hide-scrollbar"),e.appendChild(t);var n=t.getBoundingClientRect().right;e.removeChild(t),P1=n}return P1}var Bv=qwe,w7=Zwe,K$t=Qwe,kv=Jwe,Fv=eCe,nu=tCe,v2=function(){function e(t,n){n===void 0&&(n={});var r=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.isDragging=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var i=Bv(r.el);r.scrollXTicking||(i.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(i.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0),r.isScrolling||(r.isScrolling=!0,kv(r.el,r.classNames.scrolling)),r.showScrollbar("x"),r.showScrollbar("y"),r.onStopScrolling()},this.scrollX=function(){r.axis.x.isOverflowing&&r.positionScrollbar("x"),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&r.positionScrollbar("y"),r.scrollYTicking=!1},this._onStopScrolling=function(){Fv(r.el,r.classNames.scrolling),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isScrolling=!1},this.onMouseEnter=function(){r.isMouseEntering||(kv(r.el,r.classNames.mouseEntered),r.showScrollbar("x"),r.showScrollbar("y"),r.isMouseEntering=!0),r.onMouseEntered()},this._onMouseEntered=function(){Fv(r.el,r.classNames.mouseEntered),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isMouseEntering=!1},this._onMouseMove=function(i){r.mouseX=i.clientX,r.mouseY=i.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this._onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.onPointerEvent=function(i){if(!(!r.axis.x.track.el||!r.axis.y.track.el||!r.axis.x.scrollbar.el||!r.axis.y.scrollbar.el)){var a,o;r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(a=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(o=r.isWithinBounds(r.axis.y.track.rect)),(a||o)&&(i.stopPropagation(),i.type==="pointerdown"&&i.pointerType!=="touch"&&(a&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(i,"x"):r.onTrackClick(i,"x")),o&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(i,"y"):r.onTrackClick(i,"y"))))}},this.drag=function(i){var a,o,s,l,u,c,f,d,h,p,v;if(!(!r.draggedAxis||!r.contentWrapperEl)){var g,m=r.axis[r.draggedAxis].track,b=(o=(a=m.rect)===null||a===void 0?void 0:a[r.axis[r.draggedAxis].sizeAttr])!==null&&o!==void 0?o:0,_=r.axis[r.draggedAxis].scrollbar,x=(l=(s=r.contentWrapperEl)===null||s===void 0?void 0:s[r.axis[r.draggedAxis].scrollSizeAttr])!==null&&l!==void 0?l:0,E=parseInt((c=(u=r.elStyles)===null||u===void 0?void 0:u[r.axis[r.draggedAxis].sizeAttr])!==null&&c!==void 0?c:"0px",10);i.preventDefault(),i.stopPropagation(),r.draggedAxis==="y"?g=i.pageY:g=i.pageX;var A=g-((d=(f=m.rect)===null||f===void 0?void 0:f[r.axis[r.draggedAxis].offsetAttr])!==null&&d!==void 0?d:0)-r.axis[r.draggedAxis].dragOffset;A=r.draggedAxis==="x"&&r.isRtl?((p=(h=m.rect)===null||h===void 0?void 0:h[r.axis[r.draggedAxis].sizeAttr])!==null&&p!==void 0?p:0)-_.size-A:A;var T=A/(b-_.size),R=T*(x-E);r.draggedAxis==="x"&&r.isRtl&&(R=!((v=e.getRtlHelpers())===null||v===void 0)&&v.isScrollingToNegative?-R:R),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=R}},this.onEndDrag=function(i){r.isDragging=!1;var a=w7(r.el),o=Bv(r.el);i.preventDefault(),i.stopPropagation(),Fv(r.el,r.classNames.dragging),r.onStopScrolling(),a.removeEventListener("mousemove",r.drag,!0),a.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=o.setTimeout(function(){a.removeEventListener("click",r.preventClick,!0),a.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null})},this.preventClick=function(i){i.preventDefault(),i.stopPropagation()},this.el=t,this.options=G1(G1({},e.defaultOptions),n),this.classNames=G1(G1({},e.defaultOptions.classNames),n.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},typeof this.el!="object"||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=d2e(this._onMouseMove,64),this.onWindowResize=z3(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=z3(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=z3(this._onMouseEntered,this.stopScrollDelay),this.init()}return e.getRtlHelpers=function(){if(e.rtlHelpers)return e.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=t.firstElementChild,r=n==null?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var i=e.getOffset(n),a=e.getOffset(r);n.scrollLeft=-999;var o=e.getOffset(r);return document.body.removeChild(n),e.rtlHelpers={isScrollOriginAtZero:i.left!==a.left,isScrollingToNegative:a.left!==o.left},e.rtlHelpers},e.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display==="none"||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:Qde()}catch{return Qde()}},e.getOffset=function(t){var n=t.getBoundingClientRect(),r=w7(t),i=Bv(t);return{top:n.top+(i.pageYOffset||r.documentElement.scrollTop),left:n.left+(i.pageXOffset||r.documentElement.scrollLeft)}},e.prototype.init=function(){nY&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.prototype.initDOM=function(){var t,n;this.wrapperEl=this.el.querySelector(nu(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(nu(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(nu(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(nu(this.classNames.offset)),this.maskEl=this.el.querySelector(nu(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,nu(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(nu(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(nu(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(nu(this.classNames.track)).concat(nu(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(nu(this.classNames.track)).concat(nu(this.classNames.vertical))),this.axis.x.scrollbar.el=((t=this.axis.x.track.el)===null||t===void 0?void 0:t.querySelector(nu(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=((n=this.axis.y.track.el)===null||n===void 0?void 0:n.querySelector(nu(this.classNames.scrollbar)))||null,this.options.autoHide||(kv(this.axis.x.scrollbar.el,this.classNames.visible),kv(this.axis.y.scrollbar.el,this.classNames.visible))},e.prototype.initListeners=function(){var t=this,n,r=Bv(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),(n=this.contentWrapperEl)===null||n===void 0||n.addEventListener("scroll",this.onScroll),r.addEventListener("resize",this.onWindowResize),!!this.contentEl){if(window.ResizeObserver){var i=!1,a=r.ResizeObserver||ResizeObserver;this.resizeObserver=new a(function(){i&&r.requestAnimationFrame(function(){t.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),r.requestAnimationFrame(function(){i=!0})}this.mutationObserver=new r.MutationObserver(function(){r.requestAnimationFrame(function(){t.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},e.prototype.recalculate=function(){if(!(!this.heightAutoObserverEl||!this.contentEl||!this.contentWrapperEl||!this.wrapperEl||!this.placeholderEl)){var t=Bv(this.el);this.elStyles=t.getComputedStyle(this.el),this.isRtl=this.elStyles.direction==="rtl";var n=this.contentEl.offsetWidth,r=this.heightAutoObserverEl.offsetHeight<=1,i=this.heightAutoObserverEl.offsetWidth<=1||n>0,a=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,s=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var l=this.contentEl.scrollHeight,u=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=r?"auto":"100%",this.placeholderEl.style.width=i?"".concat(n||u,"px"):"auto",this.placeholderEl.style.height="".concat(l,"px");var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=n!==0&&u>n,this.axis.y.isOverflowing=l>c,this.axis.x.isOverflowing=o==="hidden"?!1:this.axis.x.isOverflowing,this.axis.y.isOverflowing=s==="hidden"?!1:this.axis.y.isOverflowing,this.axis.x.forceVisible=this.options.forceVisible==="x"||this.options.forceVisible===!0,this.axis.y.forceVisible=this.options.forceVisible==="y"||this.options.forceVisible===!0,this.hideNativeScrollbar();var f=this.axis.x.isOverflowing?this.scrollbarWidth:0,d=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&u>a-d,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&l>c-f,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},e.prototype.getScrollbarSize=function(t){var n,r;if(t===void 0&&(t="y"),!this.axis[t].isOverflowing||!this.contentEl)return 0;var i=this.contentEl[this.axis[t].scrollSizeAttr],a=(r=(n=this.axis[t].track.el)===null||n===void 0?void 0:n[this.axis[t].offsetSizeAttr])!==null&&r!==void 0?r:0,o=a/i,s;return s=Math.max(~~(o*a),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(s=Math.min(s,this.options.scrollbarMaxSize)),s},e.prototype.positionScrollbar=function(t){var n,r,i;t===void 0&&(t="y");var a=this.axis[t].scrollbar;if(!(!this.axis[t].isOverflowing||!this.contentWrapperEl||!a.el||!this.elStyles)){var o=this.contentWrapperEl[this.axis[t].scrollSizeAttr],s=((n=this.axis[t].track.el)===null||n===void 0?void 0:n[this.axis[t].offsetSizeAttr])||0,l=parseInt(this.elStyles[this.axis[t].sizeAttr],10),u=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];u=t==="x"&&this.isRtl&&(!((r=e.getRtlHelpers())===null||r===void 0)&&r.isScrollOriginAtZero)?-u:u,t==="x"&&this.isRtl&&(u=!((i=e.getRtlHelpers())===null||i===void 0)&&i.isScrollingToNegative?u:-u);var c=u/(o-l),f=~~((s-a.size)*c);f=t==="x"&&this.isRtl?-f+(s-a.size):f,a.el.style.transform=t==="x"?"translate3d(".concat(f,"px, 0, 0)"):"translate3d(0, ".concat(f,"px, 0)")}},e.prototype.toggleTrackVisibility=function(t){t===void 0&&(t="y");var n=this.axis[t].track.el,r=this.axis[t].scrollbar.el;!n||!r||!this.contentWrapperEl||(this.axis[t].isOverflowing||this.axis[t].forceVisible?(n.style.visibility="visible",this.contentWrapperEl.style[this.axis[t].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(t))):(n.style.visibility="hidden",this.contentWrapperEl.style[this.axis[t].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(t))),this.axis[t].isOverflowing?r.style.display="block":r.style.display="none")},e.prototype.showScrollbar=function(t){t===void 0&&(t="y"),this.axis[t].isOverflowing&&!this.axis[t].scrollbar.isVisible&&(kv(this.axis[t].scrollbar.el,this.classNames.visible),this.axis[t].scrollbar.isVisible=!0)},e.prototype.hideScrollbar=function(t){t===void 0&&(t="y"),!this.isDragging&&this.axis[t].isOverflowing&&this.axis[t].scrollbar.isVisible&&(Fv(this.axis[t].scrollbar.el,this.classNames.visible),this.axis[t].scrollbar.isVisible=!1)},e.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},e.prototype.onMouseMoveForAxis=function(t){t===void 0&&(t="y");var n=this.axis[t];!n.track.el||!n.scrollbar.el||(n.track.rect=n.track.el.getBoundingClientRect(),n.scrollbar.rect=n.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(n.track.rect)?(this.showScrollbar(t),kv(n.track.el,this.classNames.hover),this.isWithinBounds(n.scrollbar.rect)?kv(n.scrollbar.el,this.classNames.hover):Fv(n.scrollbar.el,this.classNames.hover)):(Fv(n.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(t)))},e.prototype.onMouseLeaveForAxis=function(t){t===void 0&&(t="y"),Fv(this.axis[t].track.el,this.classNames.hover),Fv(this.axis[t].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(t)},e.prototype.onDragStart=function(t,n){var r;n===void 0&&(n="y"),this.isDragging=!0;var i=w7(this.el),a=Bv(this.el),o=this.axis[n].scrollbar,s=n==="y"?t.pageY:t.pageX;this.axis[n].dragOffset=s-(((r=o.rect)===null||r===void 0?void 0:r[this.axis[n].offsetAttr])||0),this.draggedAxis=n,kv(this.el,this.classNames.dragging),i.addEventListener("mousemove",this.drag,!0),i.addEventListener("mouseup",this.onEndDrag,!0),this.removePreventClickId===null?(i.addEventListener("click",this.preventClick,!0),i.addEventListener("dblclick",this.preventClick,!0)):(a.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.onTrackClick=function(t,n){var r=this,i,a,o,s;n===void 0&&(n="y");var l=this.axis[n];if(!(!this.options.clickOnTrack||!l.scrollbar.el||!this.contentWrapperEl)){t.preventDefault();var u=Bv(this.el);this.axis[n].scrollbar.rect=l.scrollbar.el.getBoundingClientRect();var c=this.axis[n].scrollbar,f=(a=(i=c.rect)===null||i===void 0?void 0:i[this.axis[n].offsetAttr])!==null&&a!==void 0?a:0,d=parseInt((s=(o=this.elStyles)===null||o===void 0?void 0:o[this.axis[n].sizeAttr])!==null&&s!==void 0?s:"0px",10),h=this.contentWrapperEl[this.axis[n].scrollOffsetAttr],p=n==="y"?this.mouseY-f:this.mouseX-f,v=p<0?-1:1,g=v===-1?h-d:h+d,m=40,b=function(){r.contentWrapperEl&&(v===-1?h>g&&(h-=m,r.contentWrapperEl[r.axis[n].scrollOffsetAttr]=h,u.requestAnimationFrame(b)):h<g&&(h+=m,r.contentWrapperEl[r.axis[n].scrollOffsetAttr]=h,u.requestAnimationFrame(b)))};b()}},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var t=Bv(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},e.prototype.unMount=function(){this.removeListeners()},e.prototype.isWithinBounds=function(t){return this.mouseX>=t.left&&this.mouseX<=t.left+t.width&&this.mouseY>=t.top&&this.mouseY<=t.top+t.height},e.prototype.findChild=function(t,n){var r=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;return Array.prototype.filter.call(t.children,function(i){return r.call(i,n)})[0]},e.rtlHelpers=null,e.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",tabIndex:0,classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},e.getOptions=K$t,e.helpers=X$t,e}(),C0=function(){return C0=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},C0.apply(this,arguments)},q$t={beforeUnmount:"beforeUnmount",unmount:"unmount"},eE;function Z$t(e){var t,n=e.h,r=e.emit,i=e.slots,a=e.props,o=function(l){return r("scroll",l)},s=C0(C0({},v2.defaultOptions.classNames),a.classNames);return n("div",C0({ref:"element"},{"data-simplebar":"init"}),[n("div",{class:s.wrapper},[n("div",{class:s.heightAutoObserverWrapperEl},[n("div",{class:s.heightAutoObserverEl})]),n("div",{class:s.mask},[n("div",{class:s.offset},[n("div",C0(C0({},{onScroll:o,class:s.contentWrapper,tabIndex:a.tabIndex||v2.defaultOptions.tabIndex,role:"region","aria-label":a.ariaLabel||v2.defaultOptions.ariaLabel}),{ref:"scrollElement"}),[n("div",{class:s.contentEl,ref:"contentElement"},(t=i.default)===null||t===void 0?void 0:t.call(i))])])]),n("div",{class:s.placeholder})]),n("div",{class:"".concat(s.track," simplebar-horizontal")},[n("div",{class:s.scrollbar})]),n("div",{class:"".concat(s.track," simplebar-vertical")},[n("div",{class:s.scrollbar})])])}var nCe=le((eE={name:"simplebar-vue",props:{autoHide:{type:Boolean,default:void 0},classNames:Object,forceVisible:{type:[Boolean,String],validator:function(e){return typeof e=="boolean"||e==="x"||e==="y"},default:void 0},ariaLabel:String,tabIndex:Number,direction:{type:String,validator:function(e){return e==="ltr"||e==="rtl"}},timeout:Number,clickOnTrack:{type:Boolean,default:void 0},scrollbarMinSize:Number,scrollbarMaxSize:Number},emits:["scroll"],data:function(){return{}},mounted:function(){for(var e=v2.getOptions(this.$refs.element.attributes),t=0,n=Object.entries(this.$props);t<n.length;t++){var r=n[t],i=r[0],a=r[1];a!=null&&typeof a!="function"&&(e[i]=a)}this.SimpleBar=new v2(this.$refs.element,e),this.scrollElement=this.$refs.scrollElement,this.contentElement=this.$refs.contentElement}},eE[q$t.beforeUnmount]=function(){var e;(e=this.SimpleBar)===null||e===void 0||e.unMount(),this.SimpleBar=void 0},eE.methods={recalculate:function(){var e;(e=this.SimpleBar)===null||e===void 0||e.recalculate()}},eE.render=function(e){var t=this;return Z$t({h:typeof e=="function"?e:pn,emit:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.$emit.apply(t,n)},slots:this.$slots,props:this.$props})},eE));const Wf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAl1JREFUWEftmU9O20AUxt+zww5DcoMgsYtB5AZE4gCw6toJdA0nAE6QsC0l7pYVHKBSuUGi1tlVIjdIitnF8UNjYmQZpx7PH+RIzDIzk/fT97158ybB7YMvBCswcOVA//68xTIKGwv5pugnqKRNH6ro999Ph6E5H39t1IZFuT8M9Mb7d4pgdMOQjo53N+5LCeoOJnVaqwwAoIqzoOY0a9NSgvY9/xcA7APAsG1bzaKQbL12692Rf04EFywYAvYce/2sdKDfRpO9CkWWR2NO0DrZsR5KBeoOJlVaqzDL92Iw0fzUar3r+V0COE2o99C2rZaImtpAr//4+yYCU/NtIMKF07AuSwP6ark5AMB6EkomP7UommE5izNt21ZNVE3loFmWsyAE+KNjrzulAF1meQSKcB+GwRUZMMUQqklg9hnP3a+s4C+xnENEGrftja28hUpAWVdkGHiXFyxrniA869ibvby90qCLwv7IGo68YOl5lhKdhnXEs08a9Gbk3yHBIU+w1JopzoIt3k5KCjTuMQUgoWhfKgXa954e04WdBxoBeo5tFeqipEBZd5QuNzGoiZXzRQ+aYqcxzuZNXsvjzVKg/1NvWe6KXqXaQPueP0lXAhHLtSqafZWKWa4VNKsaiFquFTTxmIviyFiuDTTjphriLGgVPeXpg6r8MKXzM8CgydMd5dVf5aCu99wloOitJPv8SMIrB03kp9RjTqv1i/xk9ZM1HOz2GedZyjuvVNG4L+XtMXkh2TqloOzuN+ZmXeTXujxopaB5wWTmP0Fl1Mva+05R1QFUf9/K/M/0AmeSy2b64qW9AAAAAElFTkSuQmCC",rCe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAaCAYAAADbhS54AAAAAXNSR0IArs4c6QAAA/RJREFUWEfVV99vU2UYft7TurOocy0zGJZMz5KBSBBbx7buau2FJHQSGVd65ZYFEu/GXzD4CwZXJuLs7vSKQZQt8Wbzat06ZCrBCCY9QjIicbTL1LCm57zyft2p/XF62kq58LtqT9++5/neX8/zEuqcyOKKAdsXZaIPABhgGEQIAGwyKKsBy2zhevLUwHI9X838TrWMFSC8MA3m8cYcsgnGxeTo4Jyb/ZUMRzVCwmZcPhukS/V8ugKLLKamwbjg/PmNfQEYXQF0vfQiOnQdbX4fdp7s4s/dHMzHWWz99Tcebu/smbMJsmLJk8Nm6cs/z/Bp0jC/9+zCZCdd9AJXBiw0fyvQ3m7NOFE6tL8L7/Z0o6Ndr3dBBWz5XlqBZUaWbIxVpnd2m6efOnIu7AmuDFjkxnoCxOMv620Y7n1dRamZk8tbCtxvj7PqbxZzODU6uFHqo1FwRWBO+iRNZ9450lCUaoFeST/A7c3fIQ3iltbZDI9DQ8IrrQpY5OtUFD4syef3j76JA50dzQTK1fbqxh1VeyCaS548PlFpVA9cAdhCSkBFj3a/huHenmcGJQ6kOb66+VPBF+V7K5tBHnuBo8j8igHdn5YUftR/THVcq85399K4+2irZtS8wNHQQmqKgBnpwJGDva3CpPxIKiWlUmvJ+GBN526RE2DzBJweOWjg0P5XWwpMnH25/qMaIbDyseSp4ZrsUAmOIgtraYCMD/vffqZOrHWjb3/+VY0PG/bYWnzomtfNr2R4StMwA8CkoRupjHDf8wLm1BkD51fjA55UpGhLU9MhWwT28VC4pYXvRKZRYIkMB2wNt5RQAC4VU3kmdERxYauPk0owT9QieHnnF1leYkJU0qjZCJMzw5538bvRkxOE2W2WupoSUDkbsU+CZBbHhSiIE2/1tTRgzrgQUl8dHQi6OS/lTstG+FyQFLeS0l3sT8uXVjfAzfub+P7BJsA0lxytpqUyKWRjYjJIRS1XoKTF9YRInVYOWaGkqz/cgSgOWIhVSqDPMhzyFTpQJEyVBNoD9m/U3jvc17TccUvRN7d/URqNgWur8YGxUptPM2y0FUBJB85NdlIVyVfJHtFiojAaEYe1CtJL9shYsDQsERBiYMNnIzYRpIKAKzllQtGhJyHyE4f7mpY/kraV9H1F3FLwNjjmIhRFh8keUexAtwtWSWtdzyeEO8VYZFB/T3dDg/fuoz8gxa54EWza0M6vxY+XUVBJB2ZzNsIyFmpFve4yItEz9gVU9A680gHd7y8uIzu7OcWD5lZmD5C8xl21ltANbBuxs0HyXPf+X+tbaXhlc9L1vNTECIFDzBRwFl6AzKdp32Arf91L0vyXqf0PvfgN5oLMrTQAAAAASUVORK5CYII=",Q$t={class:"h-100%"},J$t={class:"h-26px flex items-center px-16px"},eHt={class:"pl-10px my-10px h-100%"},tHt={class:"flex justify-end"},nHt={class:"text-12px text-#B7D5E4"},rHt={class:"w-40px text-10px text-#606060 ml-10px"},iHt={class:"text-12px text-#DDDDDD ml-14px"},aHt=le({__name:"left",setup(e){Y("1");const t=Y(""),n=Y(""),r=Y(),i=[{content:[{type:"分时电价",value:"2021年1月1日分时电价"},{type:"有效时间",value:"2021年1月1日-2021年4月30日"},{type:"峰时段",value:"2021年1月1日"},{type:"谷时段",value:"2020年12月20日"},{type:"平时段",value:"2021年2月"}],timestamp:"2020.05.01-2021.04.30"},{content:[{type:"分时电价",value:"2021年12月01日分时电价"},{type:"有效时间",value:"2021年12月01日-2022年3月30日"},{type:"峰时段",value:"2022年01月01日"},{type:"谷时段",value:"2021年09月30日"},{type:"平时段",value:"2022年02月"}],timestamp:"2021.05.01-2022.04.30"},{content:[{type:"分时电价",value:"2022年11月11日分时电价"},{type:"有效时间",value:"2022年10月01日-2022年12月20日"},{type:"峰时段",value:"2023年01月01日"},{type:"谷时段",value:"2022年09月24日"},{type:"平时段",value:"2022年09月"}],timestamp:"2022.05.01-2023.04.30"},{content:[{type:"分时电价",value:"2024年01月17日分时电价"},{type:"有效时间",value:"2024年01月01日-2024年02月20日"},{type:"峰时段",value:"2023年07月01日"},{type:"谷时段",value:"2024年02月20日"},{type:"平时段",value:"2024年03月"}],timestamp:"2023.05.01-2024.04.30"},{content:[{type:"分时电价",value:"2024年01月17日分时电价"},{type:"有效时间",value:"2024年01月01日-2024年02月20日"},{type:"峰时段",value:"2023年07月01日"},{type:"谷时段",value:"2024年02月20日"},{type:"平时段",value:"2024年03月"}],timestamp:"2024.05.01-2025.04.30"}];return(a,o)=>{const s=Fi,l=da,u=sa,c=em,f=RH,d=CH;return H(),Q("div",Q$t,[z(Ir,{height:{extra:"0px",title:"26px"}},{title:J(()=>[I("div",J$t,[z(s,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),o[3]||(o[3]=I("span",null,"实时电价设定",-1))])]),content:J(()=>[I("div",eHt,[I("div",tHt,[z(l,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=h=>t.value=h),size:"small",class:"mr-10px",style:{width:"62px"}},null,8,["modelValue"]),z(l,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=h=>n.value=h),size:"small",class:"mr-10px",style:{width:"104px"}},{append:J(()=>[z(u,{icon:y(Xf)},null,8,["icon"])]),_:1},8,["modelValue"]),z(c,{modelValue:r.value,"onUpdate:modelValue":o[2]||(o[2]=h=>r.value=h),type:"date",size:"small",style:{width:"124px"}},null,8,["modelValue"])]),o[5]||(o[5]=I("div",{class:"h-18px"},null,-1)),z(y(nCe),{"data-simplebar-auto-hide":"false",class:"timeline_wrap"},{default:J(()=>[z(d,{class:"w-100%"},{default:J(()=>[(H(),Q(St,null,Nn(i,(h,p)=>z(f,{key:p},{dot:J(()=>[z(s,{class:"w-16px h-10px mr-14px",src:y(rCe),fit:"fill"},null,8,["src"])]),default:J(()=>[I("div",null,[I("div",nHt,nt(h.timestamp),1),(H(!0),Q(St,null,Nn(h.content,v=>(H(),Q("div",{class:"flex items-center",key:v.type},[o[4]||(o[4]=I("div",{class:"w-2px h-2px rounded-2px bg-#7DD4D9"},null,-1)),I("div",rHt,nt(v.type),1),I("div",iHt,nt(v.value),1)]))),128))])]),_:2},1024)),64))]),_:1})]),_:1})])]),_:1})])}}}),oHt=li(aHt,[["__scopeId","data-v-bb93d332"]]),sHt={class:"h-100%"},lHt={class:"h-26px flex items-center px-16px"},uHt={class:"pl-10px my-10px h-100%"},cHt={class:"flex justify-end"},fHt={class:"text-12px text-#B7D5E4"},dHt={class:"w-40px text-10px text-#606060 ml-10px"},hHt={class:"text-12px text-#DDDDDD ml-14px"},pHt=le({__name:"center",setup(e){Y("1");const t=Y(""),n=Y(""),r=Y(),i=[{content:[{type:"分时电价",value:"2021年1月1日分时电价"},{type:"有效时间",value:"2021年1月1日-2021年4月30日"},{type:"峰时段",value:"2021年1月1日"},{type:"谷时段",value:"2020年12月20日"},{type:"平时段",value:"2021年2月"}],timestamp:"2020.05.01-2021.04.30"},{content:[{type:"分时电价",value:"2021年12月01日分时电价"},{type:"有效时间",value:"2021年12月01日-2022年3月30日"},{type:"峰时段",value:"2022年01月01日"},{type:"谷时段",value:"2021年09月30日"},{type:"平时段",value:"2022年02月"}],timestamp:"2021.05.01-2022.04.30"},{content:[{type:"分时电价",value:"2022年11月11日分时电价"},{type:"有效时间",value:"2022年10月01日-2022年12月20日"},{type:"峰时段",value:"2023年01月01日"},{type:"谷时段",value:"2022年09月24日"},{type:"平时段",value:"2022年09月"}],timestamp:"2022.05.01-2023.04.30"},{content:[{type:"分时电价",value:"2024年01月17日分时电价"},{type:"有效时间",value:"2024年01月01日-2024年02月20日"},{type:"峰时段",value:"2023年07月01日"},{type:"谷时段",value:"2024年02月20日"},{type:"平时段",value:"2024年03月"}],timestamp:"2023.05.01-2024.04.30"},{content:[{type:"分时电价",value:"2024年01月17日分时电价"},{type:"有效时间",value:"2024年01月01日-2024年02月20日"},{type:"峰时段",value:"2023年07月01日"},{type:"谷时段",value:"2024年02月20日"},{type:"平时段",value:"2024年03月"}],timestamp:"2024.05.01-2025.04.30"}];return(a,o)=>{const s=Fi,l=da,u=sa,c=em,f=RH,d=CH;return H(),Q("div",sHt,[z(Ir,{height:{extra:"0px",title:"26px"}},{title:J(()=>[I("div",lHt,[z(s,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),o[3]||(o[3]=I("span",null,"分时电价设定",-1))])]),content:J(()=>[I("div",uHt,[I("div",cHt,[z(l,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=h=>t.value=h),size:"small",class:"mr-10px",style:{width:"62px"}},null,8,["modelValue"]),z(l,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=h=>n.value=h),size:"small",class:"mr-10px",style:{width:"104px"}},{append:J(()=>[z(u,{icon:y(Xf)},null,8,["icon"])]),_:1},8,["modelValue"]),z(c,{modelValue:r.value,"onUpdate:modelValue":o[2]||(o[2]=h=>r.value=h),type:"date",size:"small",style:{width:"124px"}},null,8,["modelValue"])]),o[5]||(o[5]=I("div",{class:"h-18px"},null,-1)),z(y(nCe),{"data-simplebar-auto-hide":"false",class:"timeline_wrap"},{default:J(()=>[z(d,{class:"w-100%"},{default:J(()=>[(H(),Q(St,null,Nn(i,(h,p)=>z(f,{key:p},{dot:J(()=>[z(s,{class:"w-16px h-10px mr-14px",src:y(rCe),fit:"fill"},null,8,["src"])]),default:J(()=>[I("div",null,[I("div",fHt,nt(h.timestamp),1),(H(!0),Q(St,null,Nn(h.content,v=>(H(),Q("div",{class:"flex items-center",key:v.type},[o[4]||(o[4]=I("div",{class:"w-2px h-2px rounded-2px bg-#7DD4D9"},null,-1)),I("div",dHt,nt(v.type),1),I("div",hHt,nt(v.value),1)]))),128))])]),_:2},1024)),64))]),_:1})]),_:1})])]),_:1})])}}}),vHt=li(pHt,[["__scopeId","data-v-642f8682"]]),gHt="/vpp/assets/ra_1-CQZOtOAT.png",j1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAABACAYAAADMM42JAAAAAXNSR0IArs4c6QAAAE5JREFUSEtjNCqs/M9ADGBk2MBIluJz/e2MhCyAmzyqmIGBYTQ0kNPLaGiMhgau8mM0bYymjdG0MVppjlaaaLlgtGDEWjASaocykNrKBQBVbvtx7u5clQAAAABJRU5ErkJggg==",iCe="/vpp/assets/ra_3-DHTCERdQ.png",aCe="/vpp/assets/ra_4-Dqpakxu7.png",mHt={class:"h-26px flex items-center px-16px"},yHt={class:"pl-10px my-10px h-100%"},_Ht={class:"flex items-center justify-between"},bHt={class:"flex-1"},xHt={class:"px-20px"},SHt={class:"flex items-center pl-16px mt-10px"},AHt={class:"flex items-center pl-16px mt-10px"},EHt={class:"h-130px"},THt={class:"flex-1"},wHt={class:"flex items-center pl-16px mt-10px"},CHt={class:"flex items-center justify-center"},RHt={class:"relative w-276px h-180px"},IHt={class:"absolute left-0px top-0px"},MHt={class:"absolute left-0px top-0px"},OHt={class:"flex items-center pl-16px mt-10px"},DHt={class:"h-130px"},PHt={class:"mt-18px"},LHt={class:"h-26px flex items-center px-16px"},NHt={class:"pl-10px my-10px h-100%"},BHt={class:"flex justify-start"},kHt={class:"h-158px"},FHt=le({__name:"right",setup(e){const t=zn(Tl({legend:{icon:"circle",itemWidth:6,itemGap:20,textStyle:{color:"#fff"}},tooltip:{show:!1},grid:{top:24,left:10,right:10,bottom:0,containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"],axisLine:{lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"},fontSize:12,margin:10},boundaryGap:!1}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{show:!1},min:0,interval:5e3,axisLabel:{textStyle:{color:"#999"}},splitLine:{show:!1}},{type:"value",position:"right",axisTick:{show:!1},min:0,interval:.5,axisLabel:{textStyle:{color:"#999"},formatter:function(r){return r.toFixed(1)}},axisLine:{show:!1},splitLine:{show:!1}}],series:[{name:"负荷",type:"line",data:[1e3,1e4,3e3,12e3,2500,16e3,7e3],symbolSize:1,symbol:"circle",smooth:!0,yAxisIndex:0,showSymbol:!1,lineStyle:{width:1,color:"#41838d"},areaStyle:{normal:{color:new Zo(0,0,0,1,[{offset:0,color:"#41838d"},{offset:1,color:"#202d2f"}],!1)}}},{name:"电量",type:"line",data:[.2,.5,.07,1.3,.25,1.7,.5],symbolSize:1,symbol:"circle",smooth:!0,yAxisIndex:1,showSymbol:!1,lineStyle:{width:1,color:"#999"}}]})),n=zn(Tl({tooltip:{show:!1},grid:{left:-10,right:6,bottom:4,top:22,containLabel:!0},legend:{data:["峰谷平时段分配：峰时电价1.16元/kWh","峰谷平时段分配：谷时电价0.254元/kWh","峰谷平时段分配：平时电价0.728元/kWh"],left:"center",top:12,textStyle:{color:"#fff"},itemWidth:12,itemHeight:10},xAxis:{type:"category",data:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],axisLine:{lineStyle:{color:"white"}},axisLabel:{textStyle:{fontFamily:"Microsoft YaHei"}},axisTick:{show:!1}},yAxis:{max:1e3,type:"value",show:!1},series:[{name:"峰谷平时段分配：峰时电价1.16元/kWh",type:"bar",barWidth:"15%",color:"#eebb71",data:[400,400,300,300,300,400,400,400,300,400,400,300,300,300,400,400,400,300,400,400,300,300,300,400,200]},{name:"峰谷平时段分配：谷时电价0.254元/kWh",type:"bar",barWidth:"15%",color:"#fff",data:[600,500,500,500,500,400,400,500,500,600,500,500,500,500,400,400,500,500,600,500,500,500,500,400]},{name:"峰谷平时段分配：平时电价0.728元/kWh",type:"bar",barWidth:"15%",color:"#f7ecd1",data:[100,300,700,700,600,400,400,600,700,100,300,700,700,600,400,400,600,700,100,300,700,700,600,500]}]}));return(r,i)=>{const a=Fi,o=da,s=em;return H(),Q(St,null,[I("div",null,[z(Ir,null,{title:J(()=>[I("div",mHt,[z(a,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),i[0]||(i[0]=I("span",null,"2024.05.30实时电价",-1))])]),content:J(()=>[I("div",yHt,[I("div",_Ht,[I("div",bHt,[I("div",xHt,[z(a,{class:"w-100%",src:y(gHt),fit:"fill"},null,8,["src"])]),i[3]||(i[3]=I("div",{class:"flex justify-between px-40px text-10px text-#CCD7E2"},[I("span",null,"日期：2024年12月5日"),I("span",null,"日计划发电量：8735kWh")],-1)),I("div",SHt,[z(a,{class:"w-3px h-17px",src:y(j1),fit:"fill"},null,8,["src"]),i[1]||(i[1]=I("span",{class:"bg-#d8d8d81f text-#fff text-10px h-13px px-4px flex items-center"},"虚拟电厂信息",-1))]),i[4]||(i[4]=I("div",{class:"pl-16px mt-10px"},[I("div",{class:"flex items-center text-#DF748D text-13px"},[I("div",{class:"bold_wrap1 flex items-center justify-center"},"1"),I("div",{class:"ml-14px"},"用户侧需求响应平台")]),I("div",{class:"flex items-center text-#FAEBCC text-13px mt-6px"},[I("div",{class:"bold_wrap2 flex items-center justify-center"},"2"),I("div",{class:"ml-14px"},"用户侧需求响应平台")]),I("div",{class:"flex items-center text-#A6CCAE text-13px mt-6px"},[I("div",{class:"bold_wrap3 flex items-center justify-center"},"3"),I("div",{class:"ml-14px"},"用户侧需求响应平台")]),I("div",{class:"flex items-center text-#7B7B7B text-13px mt-6px"},[I("div",{class:"bold_wrap4 flex items-center justify-center"},"4"),I("div",{class:"ml-14px"},"上海电力股份智慧能源管理平台")]),I("div",{class:"flex items-center text-#7B7B7B text-13px mt-6px"},[I("div",{class:"bold_wrap4 flex items-center justify-center"},"5"),I("div",{class:"ml-14px"},"国网上海综合能源服务有限公司")])],-1)),I("div",AHt,[z(a,{class:"w-3px h-17px",src:y(j1),fit:"fill"},null,8,["src"]),i[2]||(i[2]=I("span",{class:"bg-#d8d8d81f text-#fff text-10px h-13px px-4px flex items-center"},"平台信息-计划发电负荷",-1))]),I("div",EHt,[z(eo,{height:"100%",options:t},null,8,["options"])])]),I("div",THt,[I("div",wHt,[z(a,{class:"w-3px h-17px",src:y(j1),fit:"fill"},null,8,["src"]),i[5]||(i[5]=I("span",{class:"bg-#d8d8d81f text-#fff text-10px h-13px px-4px flex items-center"},"虚拟电厂日计划发电量分配",-1))]),I("div",CHt,[I("div",RHt,[I("div",IHt,[z(a,{class:"w-276px",src:y(iCe),fit:"fill"},null,8,["src"])]),I("div",MHt,[z(a,{class:"w-276px animate-spin-slow",src:y(aCe),fit:"fill"},null,8,["src"])])])]),I("div",OHt,[z(a,{class:"w-3px h-17px",src:y(j1),fit:"fill"},null,8,["src"]),i[6]||(i[6]=I("span",{class:"bg-#d8d8d81f text-#fff text-10px h-13px px-4px flex items-center"},"虚拟电厂信息-计划发电负荷",-1))]),I("div",DHt,[z(eo,{height:"100%",options:t},null,8,["options"])])])])])]),_:1})]),I("div",PHt,[z(Ir,null,{title:J(()=>[I("div",LHt,[z(a,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),i[7]||(i[7]=I("span",null,"2024.05.30实时电价",-1))])]),content:J(()=>[I("div",NHt,[I("div",BHt,[z(o,{size:"small",class:"mr-10px",style:{width:"82px"}}),z(s,{type:"date",size:"small",style:{width:"124px"}})]),I("div",kHt,[z(eo,{height:"100%",options:n},null,8,["options"])])])]),_:1})])],64)}}}),UHt=li(FHt,[["__scopeId","data-v-c021d85d"]]),VHt={class:"overflow-hidden h-100% wrapfit"},zHt={id:"container",class:"px-20px flex justify-between"},$Ht={class:"left w-340px pt-18px pb-44px h-100% mr-10px"},HHt={class:"center w-340px pt-18px pb-44px h-100% mx-10px"},WHt={class:"right h-100% pt-18px pb-44px ml-10px"},GHt=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",VHt,[I("div",zHt,[I("div",$Ht,[z(oHt)]),I("div",HHt,[z(vHt)]),I("div",WHt,[z(UHt)])])]))}}),jHt=li(GHt,[["__scopeId","data-v-c4e2cf28"]]),oCe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAlBJREFUWEftmcFy0lAUhv8DjSuD8AY4447olDeoM+6lK5cSULe2T4A8AXStNLh0Zbt3pvEJ6NSwc8EbEBt2ofdoGFJToPTekHTESZbh3P9++e89554EevLiFWMLLto60J/fvtC/aGxo5LWjGeiGy5Q5uqGBS8OVHLWGXosZNQBlACOG+Nw0HnWThlqlJw167HhnAPYWRQjomoZ+mDasFGjP+XVAyHXmMDZDnBJyL0NwJjablUI/TVgp0IibdsPQn4dAt923BuMyHuy8jgM+Ffj+9qluL46VBR0DKArB+2+eFU5Ckb9O86hhFB6H9y1n0mHwQRxQ4KZWqCELOgCwS6C+aTw0l4Fuin/84e3lCR2Ai2qw5BJgr9rzUqCWM7EYXA+elsFHVyTsPPK7xBTs2yIRPpgVva0GpRYtBzoYl1nLnwEUlKWFi0fkX1XNaslVm1otWgo0kAwShLUda6FE2eRPTbNaGqlNqx4tDXqdQEPvKzFqTDhpVvT9VVPOsl7T3gtg7R7NAS58/0jmQdVBnYlF4DqD+s1IYkWBVbKeIQ5lTrd0QAfjstC01l0LPHe0LbO/UwG9CzDO7/8naG94WSdGa16mXCJ0066fSidTENybJ9FSFV2TVHGW+LYxUku/Td3T7Kz/U+xT7Z58TE/fVUrnq1yVcvTY8e6rezpvGHp1E9B76J7IXfdqI+Vo1j0plAUpR7PuKeueIifU2jYv654A6c+Ony4ua7kctYTgdvTVWSGBY4VKZ30s9QQHZaAJmjmTyhxN3dGkJ0hab2v+Z/oNL2JOdZTeicQAAAAASUVORK5CYII=",YHt="/vpp/assets/la_2-BJEW9vQA.png",XHt={class:"h-100%"},KHt={class:"h-26px flex items-center px-16px"},qHt={class:"pl-10px my-10px h-100% flex items-center"},ZHt=le({__name:"left",setup(e){return(t,n)=>{const r=Fi;return H(),Q("div",XHt,[z(Ir,{height:{extra:"0px",title:"26px"}},{title:J(()=>[I("div",KHt,[z(r,{class:"w-20px h-20px mr-14px",src:y(oCe),fit:"fill"},null,8,["src"]),n[0]||(n[0]=I("span",null,"时间轴设置",-1))])]),content:J(()=>[I("div",qHt,[z(r,{class:"w-210px",src:y(YHt),fit:"fill"},null,8,["src"])])]),_:1})])}}}),QHt=li(ZHt,[["__scopeId","data-v-dacbf264"]]),JHt={class:"h-26px flex items-center px-16px"},eWt={class:"p-10px h-100% flex justify-between"},tWt={class:"flex items-center mt-10px"},nWt={class:"flex items-center mt-10px"},rWt={class:"mt-18px wrap_lb"},iWt={class:"p-10px h-100%"},aWt={class:"mt-30px px-10px"},oWt={class:"flex items-center"},sWt=le({__name:"center",setup(e){const t=Y(""),n=a=>(console.log("node",a.type),a.expanded?{color:"#38CEBF"}:a.data.type==="show"?{color:"#4F6A7E"}:{color:"#767676"}),r={children:"children",label:"label"},i=[{id:"1",label:"1#数据包文件",children:[{id:"1-1",label:"1-1#数据 AAA:R.X.C"}]},{id:"2",label:"2#数据包文件",children:[{id:"2-1",label:"2-1#数据 AAA:R.X.C"},{id:"2-2",label:"2-2#数据 RRC:D.A.X"},{id:"2-3",label:"2-3#数据 RRC:SSS.AC",type:"show"},{id:"2-4",label:"2-4#数据 FS:FSSS.CAY",type:"show"},{id:"2-5",label:"2-5#数据 D:FSKYJ.CJKT"},{id:"2-6",label:"2-6#数据 ACD:GFHT.S.B",type:"show"},{id:"2-7",label:"2-7#数据 RRC:SSR.T.A",type:"show"}]},{id:"3",label:"3#数据包文件",children:[{id:"3-1",label:"3-1#数据 AAA:R.X.C"},{id:"3-2",label:"3-2#数据 AAA:R.X.C"}]}];return(a,o)=>{const s=Fi,l=sa,u=da,c=Xt,f=Fb;return H(),Q(St,null,[I("div",null,[z(Ir,{height:{extra:"0px",title:"26px"}},{title:J(()=>[I("div",JHt,[z(s,{class:"w-20px h-20px mr-14px",src:y(oCe),fit:"fill"},null,8,["src"]),o[1]||(o[1]=I("span",null,"调控模式设置",-1))])]),content:J(()=>[I("div",eWt,[I("div",null,[I("div",tWt,[z(s,{class:"w-3px h-17px",src:y(j1),fit:"fill"},null,8,["src"]),o[2]||(o[2]=I("span",{class:"bg-#d8d8d81f text-#fff text-10px h-13px px-4px flex items-center"},"负荷调整模式",-1))]),o[3]||(o[3]=I("div",{class:"mt-10px"},[I("div",{class:"flex items-center text-13px"},[I("div",{class:"bold_wrap flex items-center text-10px justify-center text-#C7C6E4"},"1"),I("div",{class:"ml-14px w-78px text-#C7C6E4"},"实时负荷"),I("div",{class:"ml-14px w-50px text-right text-#8BA1EA"},"20457"),I("div",{class:"ml-10px w-16px text-right text-#7F8183"},"kW")]),I("div",{class:"flex items-center text-13px text-10px mt-6px"},[I("div",{class:"bold_wrap flex items-center justify-center text-#C7C6E4"},"2"),I("div",{class:"ml-14px w-78px text-#F6E8CE"},"调控比例"),I("div",{class:"ml-14px w-50px text-right text-#D6AE79"},"24.65"),I("div",{class:"ml-10px w-16px text-right text-#7F8183"},"%")]),I("div",{class:"flex items-center text-13px text-10px mt-6px"},[I("div",{class:"bold_wrap flex items-center justify-center text-#C7C6E4"},"3"),I("div",{class:"ml-14px w-78px text-#B7D8BC"},"目标调控负荷"),I("div",{class:"ml-14px w-50px text-right text-#6ECCAC"},"24.65"),I("div",{class:"ml-10px w-16px text-right text-#7F8183"},"%")])],-1))]),I("div",null,[I("div",nWt,[z(s,{class:"w-3px h-17px",src:y(j1),fit:"fill"},null,8,["src"]),o[4]||(o[4]=I("span",{class:"bg-#d8d8d81f text-#fff text-10px h-13px px-4px flex items-center"},"负荷控制模式",-1))]),o[5]||(o[5]=I("div",{class:"mt-10px"},[I("div",{class:"flex items-center text-13px"},[I("div",{class:"bold_wrap flex items-center text-10px justify-center text-#C7C6E4"},"1"),I("div",{class:"ml-14px w-78px text-#C7C6E4"},"实时负荷"),I("div",{class:"ml-14px w-50px text-right text-#8BA1EA"},"20457"),I("div",{class:"ml-10px w-16px text-right text-#7F8183"},"kW")]),I("div",{class:"flex items-center text-13px text-10px mt-6px"},[I("div",{class:"bold_wrap flex items-center justify-center text-#C7C6E4"},"2"),I("div",{class:"ml-14px w-78px text-#F6E8CE"},"调控比例"),I("div",{class:"ml-14px w-50px text-right text-#D6AE79"},"24.65"),I("div",{class:"ml-10px w-16px text-right text-#7F8183"},"%")]),I("div",{class:"flex items-center text-13px text-10px mt-6px"},[I("div",{class:"bold_wrap flex items-center justify-center text-#C7C6E4"},"3"),I("div",{class:"ml-14px w-78px text-#B7D8BC"},"目标调控负荷"),I("div",{class:"ml-14px w-50px text-right text-#6ECCAC"},"24.65"),I("div",{class:"ml-10px w-16px text-right text-#7F8183"},"%")])],-1))])])]),_:1})]),I("div",rWt,[z(Ir,{height:{extra:"0px",title:"26px"}},{extra:J(()=>o[6]||(o[6]=[I("div",{class:"ml-8px w-320px h-18px bg_wrap_extra pl-10px text-#8CE5EB text-14px"},"隔日/中长期需求响应事件管理",-1)])),content:J(()=>[I("div",iWt,[I("div",null,[z(u,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=d=>t.value=d),size:"small",class:"mr-10px",style:{width:"160px"}},{append:J(()=>[z(l,{icon:y(Xf)},null,8,["icon"])]),_:1},8,["modelValue"])]),I("div",aWt,[z(f,{"node-key":"id","default-expanded-keys":["2"],data:i,props:r,accordion:""},{default:J(({node:d,data:h})=>[I("div",oWt,[z(c,{size:22,color:h.type==="show"?"#4F6A7E":"#767676"},{default:J(()=>[z(y(Fve))]),_:2},1032,["color"]),I("span",{class:"text-14px ml-12px",style:en(n(d))},nt(d.label),5)])]),_:1})])])]),_:1})])],64)}}}),lWt=li(sWt,[["__scopeId","data-v-08659ae6"]]),uWt={class:"h-26px flex items-center px-16px"},cWt={class:"pl-10px my-10px h-100%"},fWt={class:"mt-10px"},dWt={class:"flex items-center justify-between"},hWt={class:"h-160px flex-1"},pWt={class:"h-160px flex-1"},vWt={class:"h-160px flex-1"},gWt={class:"h-130px mt-16px"},mWt={class:"mt-18px"},yWt={class:"p-10px"},_Wt={class:"flex justify-center mt-15px mb-0px"},bWt=le({__name:"right",setup(e){const t=Y("1"),n=Y(1),r=Y(10),i=[{a:"金华电厂",b:"35676kW",c:"6242kW",d:"445KW",e:"434KW",f:"张三"},{a:"路平安电厂",b:"35176kW",c:"6242kW",d:"38",e:"参与"},{a:"石上电厂",b:"31376kW",c:"6242kW",d:"33",e:"参与"},{a:"财网电厂",b:"29668kW",c:"6242kW",d:"31",e:"参与"},{a:"三丰电厂",b:"30172kW",c:"6242kW",d:"36",e:"参与"}],a=zn(Tl({legend:{icon:"circle",itemWidth:6,itemGap:20,textStyle:{color:"#fff"}},tooltip:{show:!1},grid:{top:24,left:10,right:10,bottom:0,containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"],axisLine:{lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"},fontSize:12,margin:10},boundaryGap:!1}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{show:!1},min:0,interval:5e3,axisLabel:{textStyle:{color:"#999"}},splitLine:{show:!1}},{type:"value",position:"right",axisTick:{show:!1},min:0,interval:.5,axisLabel:{textStyle:{color:"#999"},formatter:function(f){return f.toFixed(1)}},axisLine:{show:!1},splitLine:{show:!1}}],series:[{name:"实测负荷",type:"line",data:[1e3,1e4,3e3,12e3,2500,16e3,7e3],symbolSize:1,symbol:"circle",smooth:!0,yAxisIndex:0,showSymbol:!1,lineStyle:{width:1,color:"#4ea6c9"},areaStyle:{normal:{color:new Zo(0,0,0,1,[{offset:0,color:"#4ea6c9"},{offset:1,color:"rgba(0,0,0,0)"}],!1)}}},{name:"预测基线",type:"line",data:[.2,.5,.07,1.3,.25,.9,.5],symbolSize:1,symbol:"circle",smooth:!0,yAxisIndex:1,showSymbol:!1,lineStyle:{width:1,color:"#999"}}]})),o={color:"#0063E7"},s=(f,d,h=d)=>({title:[{text:f,bottom:6,x:"center",borderColor:"#284b4a",borderWidth:1,borderRadius:6,backgroundColor:"#284b4a",padding:[4,10],textStyle:{fontWeight:"bold",fontSize:13,color:"#fff"}}],tooltip:{show:!1},xAxis:{show:!1},grid:{top:0,bottom:0},legend:{show:!1},series:[{name:"最外部进度条",type:"gauge",radius:"100%",splitNumber:10,axisLine:{lineStyle:{color:[[d/h,new Zo(0,1,0,0,[{offset:0,color:"rgba(145,207,255,0)"},{offset:.5,color:"rgba(145,207,255,0.2)"},{offset:1,color:"rgba(145,207,255,1)"}])],[1,"rgba(28,128,245,.0)"]],width:3}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{show:!1},title:{show:!1},data:[{name:"title",value:d}],pointer:{show:!1},animationDuration:4e3},{name:"内部阴影",type:"gauge",radius:"85%",z:4,splitNumber:10,axisLine:{lineStyle:{color:[[d/h,new Zo(0,1,0,0,[{offset:0,color:"rgba(145,207,255,0)"},{offset:.5,color:"rgba(145,207,255,0.1)"},{offset:1,color:"rgba(145,207,255,0.3)"}])],[1,"rgba(28,128,245,.0)"]],width:85}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{formatter:function(p){return p!==0?p:0},offsetCenter:[0,-15],textStyle:{padding:[0,0,0,0],fontSize:18,color:"#EDFFFD"}},title:{show:!0,color:"#999",fontSize:18,offsetCenter:[0,"20%"]},data:[{name:"kW",value:d}],pointer:{show:!1}},{name:"内部圈",type:"gauge",z:2,min:0,max:h,splitNumber:10,radius:"80%",axisLine:{lineStyle:{color:[[1,o.color]],width:3,shadowColor:"rgba(145,207,255,.5)",shadowBlur:6,shadowOffsetX:0}},tooltip:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{show:!1},title:{show:!1},data:[{name:"title",value:d}],pointer:{show:!0,length:"80%",radius:"20%",width:3},animationDuration:4e3},{name:"内部刻度",type:"gauge",radius:"100%",min:0,max:10,splitNumber:10,startAngle:225,endAngle:-45,axisLine:{show:!1,lineStyle:{width:5,color:[[1,"#1087e2"]]}},axisLabel:{show:!0,color:"rgba(172,207,255,.5)",distance:2,fontSize:12,formatter:function(p){switch(p+""){case"0":return"0";case"1":return"1";case"2":return"2";case"3":return"3";case"4":return"4";case"5":return"5";case"6":return"6";case"7":return"7";case"8":return"8";case"9":return"9";case"10":return"10"}}},axisTick:{show:!0,splitNumber:7,lineStyle:{color:"#1C3164",width:1},length:4},splitLine:{show:!0,length:8,lineStyle:{color:"#1C3164"}},detail:{show:!1},pointer:{show:!1}}]}),l=zn(Tl(s("网供负荷",11999,12e3))),u=zn(Tl(s("网供负荷",4789,12e3))),c=zn(Tl(s("调控能力",11938,12e3)));return(f,d)=>{const h=Fi,p=ky,v=By,g=Tx,m=Ex,b=QT;return H(),Q(St,null,[I("div",null,[z(Ir,null,{title:J(()=>[I("div",uWt,[z(h,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),d[3]||(d[3]=I("span",null,"电网区域概括",-1))])]),content:J(()=>[I("div",cWt,[I("div",fWt,[I("div",dWt,[I("div",hWt,[z(eo,{height:"100%",options:l},null,8,["options"])]),I("div",pWt,[z(eo,{height:"100%",options:u},null,8,["options"])]),I("div",vWt,[z(eo,{height:"100%",options:c},null,8,["options"])])])]),I("div",gWt,[z(eo,{height:"100%",options:a},null,8,["options"])])])]),_:1})]),I("div",mWt,[z(Ir,null,{extra:J(()=>[z(v,{size:"small",class:"ml-20px",modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=_=>t.value=_)},{default:J(()=>[z(p,{label:"虚拟电厂响应参数设置",value:"1"}),z(p,{label:"虚拟电厂预览和设置",value:"2"})]),_:1},8,["modelValue"])]),content:J(()=>[I("div",yWt,[z(m,{data:i,style:{width:"100%"}},{default:J(()=>[z(g,{type:"index",width:"50",label:"序号",align:"center"}),z(g,{property:"a",label:"虚拟电厂名称",align:"center"}),z(g,{property:"b",label:"注册响应能力",align:"center"}),z(g,{property:"c",label:"分配额度",align:"center"}),z(g,{property:"d",label:"分配额度占比",align:"center"}),z(g,{property:"e",label:"参与状态",align:"center"})]),_:1}),I("div",_Wt,[z(b,{"current-page":n.value,"onUpdate:currentPage":d[1]||(d[1]=_=>n.value=_),"page-size":r.value,"onUpdate:pageSize":d[2]||(d[2]=_=>r.value=_),size:"small",background:"transparent",layout:"total, prev, pager, next",total:50},null,8,["current-page","page-size"])])])]),_:1})])],64)}}}),xWt=li(bWt,[["__scopeId","data-v-9dd81790"]]),SWt={class:"overflow-hidden h-100% wrapfit"},AWt={id:"container",class:"px-20px flex justify-between"},EWt={class:"left w-264px pt-18px pb-44px h-100% mr-10px"},TWt={class:"center w-490px pt-18px pb-44px h-100% mx-10px"},wWt={class:"right h-100% pt-18px pb-44px ml-10px"},CWt=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",SWt,[I("div",AWt,[I("div",EWt,[z(QHt)]),I("div",TWt,[z(lWt)]),I("div",wWt,[z(xWt)])])]))}}),RWt=li(CWt,[["__scopeId","data-v-e8408cf0"]]),_b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAlBJREFUWEftmcFy0lAUhv8DjSuD8AY4447olDeoM+6lK5cSULe2T4A8AXStNLh0Zbt3pvEJ6NSwc8EbEBt2ofdoGFJToPTekHTESZbh3P9++e89554EevLiFWMLLto60J/fvtC/aGxo5LWjGeiGy5Q5uqGBS8OVHLWGXosZNQBlACOG+Nw0HnWThlqlJw167HhnAPYWRQjomoZ+mDasFGjP+XVAyHXmMDZDnBJyL0NwJjablUI/TVgp0IibdsPQn4dAt923BuMyHuy8jgM+Ffj+9qluL46VBR0DKArB+2+eFU5Ckb9O86hhFB6H9y1n0mHwQRxQ4KZWqCELOgCwS6C+aTw0l4Fuin/84e3lCR2Ai2qw5BJgr9rzUqCWM7EYXA+elsFHVyTsPPK7xBTs2yIRPpgVva0GpRYtBzoYl1nLnwEUlKWFi0fkX1XNaslVm1otWgo0kAwShLUda6FE2eRPTbNaGqlNqx4tDXqdQEPvKzFqTDhpVvT9VVPOsl7T3gtg7R7NAS58/0jmQdVBnYlF4DqD+s1IYkWBVbKeIQ5lTrd0QAfjstC01l0LPHe0LbO/UwG9CzDO7/8naG94WSdGa16mXCJ0066fSidTENybJ9FSFV2TVHGW+LYxUku/Td3T7Kz/U+xT7Z58TE/fVUrnq1yVcvTY8e6rezpvGHp1E9B76J7IXfdqI+Vo1j0plAUpR7PuKeueIifU2jYv654A6c+Ony4ua7kctYTgdvTVWSGBY4VKZ30s9QQHZaAJmjmTyhxN3dGkJ0hab2v+Z/oNL2JOdZTeicQAAAAASUVORK5CYII=",IWt="/vpp/assets/la_2-BLmXBLt5.png",MWt="/vpp/assets/la_5-BmDgPTKy.png",OWt={class:"h-26px flex items-center justify-between px-16px"},DWt={class:"p-10px"},PWt={class:"flex items-center pl-10px pt-10px"},LWt={class:"flex items-center"},NWt={class:"flex items-center pl-10px pt-10px"},BWt={class:"flex items-center"},kWt={class:"grid grid-cols-2 gap-x-28px gap-y-22px mt-20px"},FWt={class:"mt-8px p-10px flex items-center justify-center bg-#03253c96"},UWt={class:"flex items-center justify-center mt-10px"},VWt={class:"w-204px h-18px bg-#2E5269 flex text-12px text-#84c0d4 items-center justify-center"},zWt={class:"mt-16px flex items-center justify-between"},$Wt=le({__name:"left",setup(e){const t=[{name:"2024年迎峰度冬需求响应市场需求",url:IWt},{name:"2024年迎峰度冬需求响应市场需求",url:jwe},{name:"2024年迎峰度冬需求响应市场需求",url:Ywe},{name:"2024年迎峰度冬需求响应市场需求",url:MWt}],n=Y(!1),r=Y(!0),i=Y([]),a=["负荷控制","有序用电","紧急需求响应","需求侧竞价","容量/辅助计算"],o=v=>{i.value=v?a:[],r.value=!1},s=v=>{const g=v.length;n.value=g===a.length,r.value=g>0&&g<a.length},l=Y(!1),u=Y(!0),c=Y([]),f=["2024年","2023年","2022年"],d=v=>{c.value=v?f:[],u.value=!1},h=v=>{const g=v.length;l.value=g===f.length,u.value=g>0&&g<f.length},p=Y("");return(v,g)=>{const m=Fi,b=Db,_=Cp,x=sa,E=da,A=ju,T=Y$;return H(),Ue(Ir,null,{title:J(()=>[I("div",OWt,[I("div",null,[z(m,{class:"w-20px h-20px mr-14px",src:y(_b),fit:"fill"},null,8,["src"]),g[5]||(g[5]=I("span",null,"激励型历史发电任务追溯列表",-1))]),I("div",null,[z(_,{size:"small",placeholder:"日期选择",style:{width:"120px"},class:"mr-20px"},{default:J(()=>[(H(),Q(St,null,Nn([],R=>z(b,{key:R,label:R,value:R},null,8,["label","value"])),64))]),_:1}),z(E,{modelValue:p.value,"onUpdate:modelValue":g[0]||(g[0]=R=>p.value=R),size:"small",class:"h-24px",style:{width:"160px"}},{append:J(()=>[z(x,{icon:y(Xf)},null,8,["icon"])]),_:1},8,["modelValue"])])])]),content:J(()=>[I("div",DWt,[I("div",PWt,[g[7]||(g[7]=I("div",{class:"text-16px text-#fff mr-20px"},"发电任务类型",-1)),I("div",LWt,[z(T,{modelValue:i.value,"onUpdate:modelValue":g[1]||(g[1]=R=>i.value=R),onChange:s},{default:J(()=>[(H(),Q(St,null,Nn(a,R=>z(A,{key:R,label:R,value:R},{default:J(()=>[$n(nt(R),1)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"]),z(A,{class:"ml-20px",modelValue:n.value,"onUpdate:modelValue":g[2]||(g[2]=R=>n.value=R),indeterminate:r.value,onChange:o},{default:J(()=>g[6]||(g[6]=[$n(" 全选 ")])),_:1},8,["modelValue","indeterminate"])])]),I("div",NWt,[g[9]||(g[9]=I("div",{class:"text-16px text-#fff mr-20px"},"发电任务年限",-1)),I("div",BWt,[z(T,{modelValue:c.value,"onUpdate:modelValue":g[3]||(g[3]=R=>c.value=R),onChange:h},{default:J(()=>[(H(),Q(St,null,Nn(f,R=>z(A,{key:R,label:R,value:R},{default:J(()=>[$n(nt(R),1)]),_:2},1032,["label","value"])),64))]),_:1},8,["modelValue"]),z(A,{class:"ml-20px",modelValue:l.value,"onUpdate:modelValue":g[4]||(g[4]=R=>l.value=R),indeterminate:u.value,onChange:d},{default:J(()=>g[8]||(g[8]=[$n(" 全选 ")])),_:1},8,["modelValue","indeterminate"])])]),I("div",kWt,[(H(),Q(St,null,Nn(t,R=>I("div",{key:R.url},[g[12]||(g[12]=I("div",{class:"mt-10px px-10px"},[I("div",{class:"flex items-center justify-between text-10px"},[I("span",{class:"text-#6589B5"},"20"),I("span",{class:"text-#4FAF8F"},"30"),I("span",{class:"text-#CEA668"},"40"),I("span",{class:"text-#993D3E"},"50+")]),I("div",{class:"l_bold_a w-100%"})],-1)),I("div",FWt,[z(m,{class:"w-100%",src:R.url,fit:"fill"},null,8,["src"])]),I("div",UWt,[g[10]||(g[10]=I("div",{class:"w-3px h-18px bg-#2E5269 mr-6px"},null,-1)),I("div",VWt,nt(R.name),1),g[11]||(g[11]=I("div",{class:"w-3px h-18px bg-#2E5269 ml-6px"},null,-1))])])),64))]),I("div",zWt,[z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"]),z(m,{class:"w-54px h-54px",src:y(Ts),fit:"fill"},null,8,["src"])])])]),_:1})}}}),HWt=li($Wt,[["__scopeId","data-v-4191f248"]]),WWt={class:"h-26px flex items-center px-16px"},GWt={class:"pl-10px my-10px h-100%"},jWt={class:"mt-10px"},YWt={class:"flex items-center justify-between"},XWt={class:"h-160px flex-1"},KWt={class:"h-160px flex-1"},qWt={class:"h-160px flex-1"},ZWt={class:"h-130px mt-16px"},QWt={class:"mt-18px"},JWt={class:"p-10px"},eGt={class:"flex justify-center mt-16px"},tGt=le({__name:"right",setup(e){const t=Y("1"),n=Y(1),r=Y(10),i=[{a:"金华电厂",b:"35676kW",c:"6242kW",d:"445KW",e:"434KW",f:"张三"},{a:"路平安电厂",b:"35176kW",c:"6242kW",d:"38",e:"参与"},{a:"石上电厂",b:"31376kW",c:"6242kW",d:"33",e:"参与"},{a:"财网电厂",b:"29668kW",c:"6242kW",d:"31",e:"参与"},{a:"三丰电厂",b:"30172kW",c:"6242kW",d:"36",e:"参与"}],a=zn(Tl({legend:{icon:"circle",itemWidth:6,itemGap:20,textStyle:{color:"#fff"}},tooltip:{show:!1},grid:{top:24,left:10,right:10,bottom:0,containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"],axisLine:{lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"},fontSize:12,margin:10},boundaryGap:!1}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{show:!1},min:0,interval:5e3,axisLabel:{textStyle:{color:"#999"}},splitLine:{show:!1}},{type:"value",position:"right",axisTick:{show:!1},min:0,interval:.5,axisLabel:{textStyle:{color:"#999"},formatter:function(f){return f.toFixed(1)}},axisLine:{show:!1},splitLine:{show:!1}}],series:[{name:"实测负荷",type:"line",data:[1e3,1e4,3e3,12e3,2500,16e3,7e3],symbolSize:1,symbol:"circle",smooth:!0,yAxisIndex:0,showSymbol:!1,color:"#4ea6c9",areaStyle:{normal:{color:new Zo(0,0,0,1,[{offset:0,color:"#4ea6c9"},{offset:1,color:"rgba(0,0,0,0)"}],!1)}}},{name:"预测基线",type:"line",data:[.2,.5,.07,1.3,.25,.9,.5],symbolSize:1,symbol:"circle",smooth:!0,yAxisIndex:1,showSymbol:!1,color:"#999"}]})),o={color:"#0063E7"},s=(f,d,h=d)=>({title:[{text:f,bottom:6,x:"center",borderColor:"#284b4a",borderWidth:1,borderRadius:6,backgroundColor:"#284b4a",padding:[4,10],textStyle:{fontWeight:"bold",fontSize:13,color:"#fff"}}],tooltip:{show:!1},xAxis:{show:!1},grid:{top:0,bottom:0},legend:{show:!1},series:[{name:"最外部进度条",type:"gauge",radius:"100%",splitNumber:10,axisLine:{lineStyle:{color:[[d/h,new Zo(0,1,0,0,[{offset:0,color:"rgba(145,207,255,0)"},{offset:.5,color:"rgba(145,207,255,0.2)"},{offset:1,color:"rgba(145,207,255,1)"}])],[1,"rgba(28,128,245,.0)"]],width:3}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{show:!1},title:{show:!1},data:[{name:"title",value:d}],pointer:{show:!1},animationDuration:4e3},{name:"内部阴影",type:"gauge",radius:"85%",z:4,splitNumber:10,axisLine:{lineStyle:{color:[[d/h,new Zo(0,1,0,0,[{offset:0,color:"rgba(145,207,255,0)"},{offset:.5,color:"rgba(145,207,255,0.1)"},{offset:1,color:"rgba(145,207,255,0.3)"}])],[1,"rgba(28,128,245,.0)"]],width:85}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{formatter:function(p){return p!==0?p:0},offsetCenter:[0,-15],textStyle:{padding:[0,0,0,0],fontSize:18,color:"#EDFFFD"}},title:{show:!0,color:"#999",fontSize:18,offsetCenter:[0,"20%"]},data:[{name:"kW",value:d}],pointer:{show:!1}},{name:"内部圈",type:"gauge",z:2,min:0,max:h,splitNumber:10,radius:"80%",axisLine:{lineStyle:{color:[[1,o.color]],width:3,shadowColor:"rgba(145,207,255,.5)",shadowBlur:6,shadowOffsetX:0}},tooltip:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{show:!1},title:{show:!1},data:[{name:"title",value:d}],pointer:{show:!0,length:"80%",radius:"20%",width:3},animationDuration:4e3},{name:"内部刻度",type:"gauge",radius:"100%",min:0,max:10,splitNumber:10,startAngle:225,endAngle:-45,axisLine:{show:!1,lineStyle:{width:5,color:[[1,"#1087e2"]]}},axisLabel:{show:!0,color:"rgba(172,207,255,.5)",distance:2,fontSize:12,formatter:function(p){switch(p+""){case"0":return"0";case"1":return"1";case"2":return"2";case"3":return"3";case"4":return"4";case"5":return"5";case"6":return"6";case"7":return"7";case"8":return"8";case"9":return"9";case"10":return"10"}}},axisTick:{show:!0,splitNumber:7,lineStyle:{color:"#1C3164",width:1},length:4},splitLine:{show:!0,length:8,lineStyle:{color:"#1C3164"}},detail:{show:!1},pointer:{show:!1}}]}),l=zn(Tl(s("网供负荷",11982,12e3))),u=zn(Tl(s("上网负荷",7973,12e3))),c=zn(Tl(s("网供负荷",11927,12e3)));return(f,d)=>{const h=Fi,p=ky,v=By,g=Tx,m=Ex,b=QT;return H(),Q(St,null,[I("div",null,[z(Ir,null,{title:J(()=>[I("div",WWt,[z(h,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),d[3]||(d[3]=I("span",null,"电网区域概括",-1))])]),content:J(()=>[I("div",GWt,[I("div",jWt,[I("div",YWt,[I("div",XWt,[z(eo,{height:"100%",options:l},null,8,["options"])]),I("div",KWt,[z(eo,{height:"100%",options:u},null,8,["options"])]),I("div",qWt,[z(eo,{height:"100%",options:c},null,8,["options"])])])]),I("div",ZWt,[z(eo,{height:"100%",options:a},null,8,["options"])])])]),_:1})]),I("div",QWt,[z(Ir,null,{extra:J(()=>[z(v,{size:"small",class:"ml-20px",modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=_=>t.value=_)},{default:J(()=>[z(p,{label:"虚拟电厂响应参数设置",value:"1"}),z(p,{label:"虚拟电厂预览和设置",value:"2"})]),_:1},8,["modelValue"])]),content:J(()=>[I("div",JWt,[z(m,{data:i,style:{width:"100%"}},{default:J(()=>[z(g,{type:"index",width:"50",label:"序号",align:"center"}),z(g,{property:"a",label:"虚拟电厂名称",align:"center"}),z(g,{property:"b",label:"注册响应能力",align:"center"}),z(g,{property:"c",label:"分配额度",align:"center"}),z(g,{property:"d",label:"分配额度占比",align:"center"}),z(g,{property:"e",label:"参与状态",align:"center"})]),_:1}),I("div",eGt,[z(b,{"current-page":n.value,"onUpdate:currentPage":d[1]||(d[1]=_=>n.value=_),"page-size":r.value,"onUpdate:pageSize":d[2]||(d[2]=_=>r.value=_),size:"small",background:"transparent",layout:"total, prev, pager, next",total:50},null,8,["current-page","page-size"])])])]),_:1})])],64)}}}),nGt=li(tGt,[["__scopeId","data-v-64ec4f9e"]]),rGt={class:"overflow-hidden h-100% wrapfit"},iGt={id:"container",class:"p-20px flex justify-between"},aGt={class:"left w-768px mr-10px h-100%"},oGt={class:"right h-100% ml-10px"},sGt=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",rGt,[I("div",iGt,[I("div",aGt,[z(HWt)]),I("div",oGt,[z(nGt)])])]))}}),lGt=li(sGt,[["__scopeId","data-v-4b7a64c6"]]),uGt="/vpp/assets/la_1-CAce43bZ.png",cGt="/vpp/assets/la_2-CPi7JtDS.png",fGt="/vpp/assets/lb_1-PsubHL_x.png",dGt="/vpp/assets/lb_2-C_6gPu0C.png",hGt={class:"h-26px flex items-center px-16px"},pGt={class:"p-10px h-158px mb-10px"},vGt={class:"flex justify-between h-100%"},gGt={class:"w-260px"},mGt={class:"flex items-center justify-center"},yGt={class:"relative w-283px"},_Gt={class:"absolute left-0px top-0px"},bGt={class:"absolute left-8px top-0px"},xGt={class:"mt-18px"},SGt={class:"h-26px flex items-center px-16px"},AGt={class:"p-10px h-200px flex justify-around items-center"},EGt={class:"mt-18px"},TGt={class:"h-26px flex items-center px-16px"},wGt={class:"p-10px h-160px"},CGt=le({__name:"left",setup(e){const t=[{a:"金华电厂",b:"2024.10.01",c:"电厂区域电量过高"},{a:"路平安电厂",b:"2024.10.01",c:"电厂区域电量过高"},{a:"石上电厂",b:"2024.10.01",c:"电厂区域电量过高"}];return(n,r)=>{const i=Fi,a=Tx,o=Ex;return H(),Q(St,null,[I("div",null,[z(Ir,null,{title:J(()=>[I("div",hGt,[z(i,{class:"w-20px h-20px mr-14px",src:y(_b),fit:"fill"},null,8,["src"]),r[0]||(r[0]=I("span",null,"事件信息",-1))])]),content:J(()=>[I("div",pGt,[I("div",vGt,[I("div",gGt,[I("div",mGt,[I("div",yGt,[I("div",_Gt,[z(i,{class:"w-283px",src:y(uGt),fit:"fill"},null,8,["src"])]),I("div",bGt,[z(i,{class:"w-283px animate-spin-slow",src:y(cGt),fit:"fill"},null,8,["src"])])])])]),r[1]||(r[1]=I("div",{class:"flex flex-col justify-between py-6px h-100%"},[I("div",{class:"flex items-center justify-between px-10px w-200px h-24px bg-#103042a6"},[I("div",{class:"flex items-center"},[I("div",{class:"w-4px h-4px bg-#3AB0E0"}),I("div",{class:"text-11px text-#5AB6DB ml-10px"},"事件名称")]),I("div",{class:"text-#FFFFFF text-10px"},"常德虚拟平台响应")]),I("div",{class:"flex items-center justify-between px-10px w-200px h-24px bg-#103042a6"},[I("div",{class:"flex items-center"},[I("div",{class:"w-4px h-4px bg-#3AB0E0"}),I("div",{class:"text-11px text-#5AB6DB ml-10px"},"时间类型")]),I("div",{class:"text-#FFFFFF text-10px"},"一级事件")]),I("div",{class:"flex items-center justify-between px-10px w-200px h-24px bg-#103042a6"},[I("div",{class:"flex items-center"},[I("div",{class:"w-4px h-4px bg-#3AB0E0"}),I("div",{class:"text-11px text-#5AB6DB ml-10px"},"发电负荷")]),I("div",{class:"text-#FFFFFF text-10px"},"845.41kW")]),I("div",{class:"flex items-center justify-between px-10px w-200px h-24px bg-#103042a6"},[I("div",{class:"flex items-center"},[I("div",{class:"w-4px h-4px bg-#3AB0E0"}),I("div",{class:"text-11px text-#5AB6DB ml-10px"},"获得补贴")]),I("div",{class:"text-#FFFFFF text-10px"},"无")])],-1))])])]),_:1})]),I("div",xGt,[z(Ir,null,{title:J(()=>[I("div",SGt,[z(i,{class:"w-20px h-20px mr-14px",src:y(_b),fit:"fill"},null,8,["src"]),r[2]||(r[2]=I("span",null,"能力占比",-1))])]),content:J(()=>[I("div",AGt,[z(i,{class:"w-185px",src:y(dGt),fit:"fill"},null,8,["src"]),r[3]||(r[3]=I("div",null,[I("div",{class:"flex justify-center items-center"},[I("div",{class:"round_1"})]),I("div",{class:"text-9px text-#E0E0E0 text-center mt-6px"}," 虚拟电厂参与额度占比 "),I("div",{class:"flex justify-center items-center mt-30px"},[I("div",{class:"round_2"})]),I("div",{class:"text-9px text-#E0E0E0 text-center mt-6px"}," 发电机组参与额度占比 ")],-1)),z(i,{class:"w-185px",src:y(fGt),fit:"fill"},null,8,["src"])])]),_:1})]),I("div",EGt,[z(Ir,null,{title:J(()=>[I("div",TGt,[z(i,{class:"w-20px h-20px mr-14px",src:y(_b),fit:"fill"},null,8,["src"]),r[4]||(r[4]=I("span",null,"参与虚拟电厂列表",-1))])]),content:J(()=>[I("div",wGt,[z(o,{data:t,style:{width:"100%"}},{default:J(()=>[z(a,{type:"index",width:"50",label:"序号",align:"center"}),z(a,{property:"a",label:"发电单元名称",align:"center"}),z(a,{property:"b",label:"发电单元类型",align:"center"}),z(a,{property:"c",label:"问题描述",align:"center"})]),_:1})])]),_:1})])],64)}}}),RGt=li(CGt,[["__scopeId","data-v-1bc54d63"]]),IGt={class:"flex"},VI=le({__name:"lattice",props:{max:Number,value:Number},setup(e){const t=e;return(n,r)=>(H(),Q("div",IGt,[(H(!0),Q(St,null,Nn(t.max||0,i=>(H(),Q("div",{class:"w-5px h-5px mr-5px",style:en({background:(t.value||0)>=i?"#F9BA5B":"#f9ba5b4d"}),key:i},null,4))),128))]))}}),MGt="/vpp/assets/ra_1-DLwe97JG.png",OGt="/vpp/assets/rc_1-0L1xXWBn.png",Jde="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAABECAYAAAC1ftTmAAAAAXNSR0IArs4c6QAAAE9JREFUSEtjvHHjhj8DCYCRbA0aGhobibEIbsOoBjzBNRpKo2kJRwiMJo3RpDGaNBAhMJofRvPDaH4YzQ+Qhu5oq3KItiqJKcRAakjuoQAAzSILsBCq0OYAAAAASUVORK5CYII=",DGt={class:"h-26px flex items-center px-16px"},PGt={class:"flex justify-center items-center p-10px"},LGt={class:"mt-18px"},NGt={class:"h-26px flex items-center px-16px"},BGt={class:"h-156px px-18px flex flex-col items-center justify-center"},kGt={class:"w-26px h-26px bg-#2E2E30 mr-6px text-#47C9DE flex justify-center items-center"},FGt={class:"w-100px h-26px bg-#2E2E30 flex justify-center items-center text-#fff text-12px"},UGt={class:"text-#fff font-800 flex flex-col h-26px justify-center py-2px"},VGt={class:"text-10px"},zGt={class:"text-8px"},$Gt={class:"flex flex-col justify-around ml-16px"},HGt={class:"h-28px w-34px mx-16px"},WGt={class:"h-28px w-130px"},GGt={class:"h-28px w-34px mx-16px"},jGt={class:"w-26px h-26px bg-#2E2E30 mr-6px text-#47C9DE flex justify-center items-center"},YGt={class:"w-100px h-26px bg-#2E2E30 flex justify-center items-center text-#fff text-12px"},XGt={class:"text-#fff font-800 flex flex-col h-26px justify-center py-2px"},KGt={class:"text-10px"},qGt={class:"text-8px"},ZGt={class:"flex flex-col justify-around ml-16px"},QGt={class:"mt-18px"},JGt={class:"h-26px flex items-center px-16px"},ejt={class:"flex justify-center items-center py-20px"},tjt=le({__name:"right",setup(e){const t=u=>({legend:{show:!1},tooltip:{show:!1},xAxis:{show:!1},yAxis:{show:!1},color:["#3d3f42"],series:[{type:"pie",clockWise:!0,radius:["80%","100%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}}},hoverAnimation:!1,data:[{value:u,name:"01",itemStyle:{normal:{color:"#949699",label:{show:!1},labelLine:{show:!1}}},label:{normal:{formatter:function(c){return c.value+"%"},position:"center",show:!0,textStyle:{fontSize:8,fontWeight:"bold",color:"#949699"}}}},{name:"02",value:100-u}]}]}),n=zn(t(34)),r=zn(t(12)),i=zn(t(43)),a=zn(t(34)),s=zn(((u,c,f)=>({grid:{left:4,right:4,bottom:0,top:0},tooltip:{show:!1},xAxis:{show:!1,type:"value",max:100},yAxis:{type:"category",show:!1},series:[{type:"bar",showBackground:!0,backgroundStyle:{color:"#d9a96230",barBorderRadius:4},itemStyle:{normal:{show:!0,color:"#D9A962",barBorderRadius:4}},barGap:"100%",barWidth:4,data:[u]},{type:"bar",showBackground:!0,backgroundStyle:{color:"#d8d8d829",barBorderRadius:4},itemStyle:{normal:{show:!0,color:"#D8D8D8",barBorderRadius:4}},barWidth:4,barGap:"100%",data:[c]},{type:"bar",barWidth:4,showBackground:!0,backgroundStyle:{color:"#d9a96230",barBorderRadius:4},itemStyle:{normal:{show:!0,color:"#D9A962",barBorderRadius:4,borderWidth:0}},barGap:"100%",data:[f]}]}))(43,34,86)),l=[{sort:"01",name:"实际消减负荷",a:6453,b:"kW",c:8,d:8,e:5,f:4,g:n,h:s,i:r,j:"05",k:"参与发电机组数量",l:"6383",m:"户",w:8,x:8,y:5,z:4},{sort:"02",name:"实际消减负荷",a:7647,b:"kW",c:8,d:5,e:5,f:3,g:i,h:s,i:a,j:"06",k:"参与发电单元数量",l:7798,m:"台",w:8,x:5,y:5,z:3},{sort:"03",name:"累计补贴金额",a:9869,b:"万元",c:8,d:6,e:5,f:1,g:i,h:s,i,j:"07",k:"认购额度",l:9877,m:"万元",w:8,x:6,y:5,z:1},{sort:"04",name:"参与虚拟电厂数量",a:9869,b:"家",c:8,d:3,e:5,f:1,g:a,h:s,i:r,j:"08",k:"完成额度",l:9867,m:"万元",w:8,x:3,y:5,z:1}];return(u,c)=>{const f=Fi;return H(),Q(St,null,[I("div",null,[z(Ir,null,{title:J(()=>[I("div",DGt,[z(f,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),c[0]||(c[0]=I("span",null,"预览事件曲线",-1))])]),content:J(()=>[I("div",PGt,[z(f,{class:"h-220px mt-10px",src:y(MGt),fit:"fill"},null,8,["src"])])]),_:1})]),I("div",LGt,[z(Ir,null,{title:J(()=>[I("div",NGt,[z(f,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),c[1]||(c[1]=I("span",null,"基本信息",-1))])]),content:J(()=>[I("div",BGt,[(H(),Q(St,null,Nn(l,d=>I("div",{class:"flex mt-6px",key:d.sort},[I("div",kGt,nt(d.sort),1),I("div",FGt,nt(d.name),1),z(f,{class:"w-4px h-25px mx-3px",src:y(Jde),fit:"fill"},null,8,["src"]),I("div",UGt,[I("span",VGt,nt(d.a),1),I("span",zGt,nt(d.b),1)]),I("div",$Gt,[z(VI,{max:d.c,value:d.d},null,8,["max","value"]),z(VI,{max:d.e,value:d.f},null,8,["max","value"])]),I("div",HGt,[z(eo,{height:"100%",options:d.g},null,8,["options"])]),I("div",WGt,[z(eo,{height:"100%",options:d.h},null,8,["options"])]),I("div",GGt,[z(eo,{height:"100%",options:d.i},null,8,["options"])]),I("div",jGt,nt(d.j),1),I("div",YGt,nt(d.k),1),z(f,{class:"w-4px h-25px mx-3px",src:y(Jde),fit:"fill"},null,8,["src"]),I("div",XGt,[I("span",KGt,nt(d.l),1),I("span",qGt,nt(d.m),1)]),I("div",ZGt,[z(VI,{max:d.w,value:d.x},null,8,["max","value"]),z(VI,{max:d.y,value:d.z},null,8,["max","value"])])])),64))])]),_:1})]),I("div",QGt,[z(Ir,null,{title:J(()=>[I("div",JGt,[z(f,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),c[2]||(c[2]=I("span",null,"时间轴设置",-1))])]),content:J(()=>[I("div",ejt,[z(f,{class:"h-74px mt-8px",src:y(OGt),fit:"fill"},null,8,["src"])])]),_:1})])],64)}}}),njt={class:"overflow-hidden h-100% wrapfit"},rjt={id:"container",class:"p-20px flex justify-between"},ijt={class:"left w-528px mr-10px h-100%"},ajt={class:"right h-100% ml-10px"},ojt=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",njt,[I("div",rjt,[I("div",ijt,[z(RGt)]),I("div",ajt,[z(tjt)])])]))}}),sjt=li(ojt,[["__scopeId","data-v-54a3e992"]]),ljt="/vpp/assets/la_1-DHE3_E_z.png",ujt="/vpp/assets/lc_1-DBvriFcW.png",cjt={class:"h-26px flex items-center px-16px"},fjt={class:"p-10px flex justify-center items-center"},djt={class:"mt-18px"},hjt={class:"mt-18px"},pjt={class:"h-26px flex items-center px-16px"},vjt={class:"p-10px flex justify-center items-center"},gjt=le({__name:"left",setup(e){return(t,n)=>{const r=Fi;return H(),Q(St,null,[I("div",null,[z(Ir,null,{title:J(()=>[I("div",cjt,[z(r,{class:"w-20px h-20px mr-14px",src:y(_b),fit:"fill"},null,8,["src"]),n[0]||(n[0]=I("span",null,"事件信息",-1))])]),content:J(()=>[I("div",fjt,[z(r,{class:"w-317px mt-4px",src:y(ljt),fit:"fill"},null,8,["src"])])]),_:1})]),I("div",djt,[z(eY,{title:"各行业发电机组数量占比"})]),I("div",hjt,[z(Ir,null,{title:J(()=>[I("div",pjt,[z(r,{class:"w-20px h-20px mr-14px",src:y(_b),fit:"fill"},null,8,["src"]),n[1]||(n[1]=I("span",null,"注册能力调控占比",-1))])]),content:J(()=>[I("div",vjt,[z(r,{class:"w-302px",src:y(ujt),fit:"fill"},null,8,["src"])])]),_:1})])],64)}}}),ehe="/vpp/assets/rb_1-CO1NXuKC.png",mjt="/vpp/assets/rb_2-idfRStPl.png",yjt={class:"flex items-center justify-between"},_jt={class:"bg_wrap_ca w-128px h-78px pt-4px pl-4px"},bjt={class:"flex items-center pl-6px h-50px"},xjt={class:"flex flex-col ml-6px"},Sjt={class:"bg_wrap_ca w-128px h-78px pt-4px pl-4px"},Ajt={class:"flex items-center pl-6px h-50px"},Ejt={class:"flex flex-col ml-6px"},Tjt={class:"bg_wrap_ca w-128px h-78px pt-4px pl-4px"},wjt={class:"flex items-center pl-6px h-50px"},Cjt={class:"flex flex-col ml-6px"},Rjt={class:"bg_wrap_ca w-128px h-78px pt-4px pl-4px"},Ijt={class:"flex items-center pl-6px h-50px"},Mjt={class:"flex flex-col ml-6px"},Ojt={class:"bg_wrap_ca w-128px h-78px pt-4px pl-4px"},Djt={class:"flex items-center pl-6px h-50px"},Pjt={class:"flex flex-col ml-6px"},Ljt={class:"h-352px w-100% flex justify-between"},Njt={id:"container",class:"flex-1 mr-10px relative mt-14px"},Bjt={class:"w-100px mr-8px"},kjt={class:"flex justify-between items-end"},Fjt={class:"text-#fff text-12px"},Ujt={class:"text-8px text-#999"},Vjt={key:0,class:"w-100% h-1px bg-#3a3a3a mt-2px"},zjt={class:"flex justify-between mt-18px"},$jt={class:"left flex-1 mr-8px"},Hjt={class:"h-26px flex items-center px-16px"},Wjt={class:"p-10px"},Gjt={class:"flex justify-center mt-10px mb-2px"},jjt={class:"right ml-8px"},Yjt={class:"h-26px flex items-center px-16px"},Xjt={class:"p-8px h-188px"},Kjt=le({__name:"right",setup(e){const t=[[{value:2344,ratio:24,relation:1,name:"削峰调控"},{value:12.65,ratio:12,relation:2,name:"填谷调控"},{value:13.85,ratio:12,relation:2,name:"发电负荷"}],[{value:1276,ratio:9,relation:1,name:"削峰调控"},{value:14.89,ratio:35,relation:2,name:"填谷调控"},{value:16.85,ratio:16,relation:1,name:"发电负荷"}],[{value:2387,ratio:20,relation:1,name:"削峰调控"},{value:12.49,ratio:17,relation:2,name:"填谷调控"},{value:14.66,ratio:16,relation:1,name:"发电负荷"}]],n=Y(1),r=Y(10),i=[{a:"金华电厂",b:"2024.01.09",c:"886KVA",d:"445KW",e:"434KW",f:"张三"},{a:"路平安电厂",b:"2024.01.09",c:"886KVA",d:"445KW",e:"434KW",f:"刘晓霞"},{a:"石上电厂",b:"2024.01.09",c:"546KVA",d:"245KW",e:"74KW",f:"罗晋家"},{a:"财网电厂",b:"2024.01.09",c:"676KVA",d:"475KW",e:"534KW",f:"李俊基"},{a:"三丰电厂",b:"2024.01.09",c:"686KVA",d:"445KW",e:"334KW",f:"李俊基"}],a=zn(Tl({legend:{show:!1},yAxis:{show:!1},grid:{left:10}}));return Tn(()=>{a.xAxis.data=["电力负荷","交流器","电力负荷","交流器","光伏发电站","光伏发电站"],a.series=[{data:[30,100,170,200,118,156],type:"bar",color:"#5cc4e9",barWidth:6,barGap:"80%",label:{show:!0,position:"bottom",offset:[5,-146],fontSize:8,color:"#fff",formatter:()=>"08:18",backgroundColor:"rgba(180, 180, 180, 0.2)",padding:[3,6,3,6],borderRadius:2}},{data:[100,160,200,70,180,96],type:"bar",color:"#f5ba60",barWidth:6,label:{show:!0,position:"bottom",offset:[-6,-125],formatter:()=>"",width:26,height:120,z:-1,backgroundColor:{image:XH}}}];const o=new hL({id:"container2",logoVisible:!1,map:new fL({mapStyle:"amap://styles/dark",center:[120.054228,30.245705],pitch:0,zoom:11.5,dragEnable:!1,zoomEnable:!1,keyboardEnable:!1,doubleClickZoom:!1,scrollWheel:!1,showLabel:!1,token:"455cdb79bf8735a87862d83e16f06c94"})});o.addImage("rb2",ehe),o.on("loaded",()=>{const s=document.getElementById("container2"),{left:l=0,top:u=0,width:c=0,height:f=0}=(s==null?void 0:s.getBoundingClientRect())||{},d=o.containerToLngLat([0,0]),h=o.containerToLngLat([c,f]),p=new Ry({}).source(ehe,{parser:{type:"image",extent:[d.lng,d.lat,h.lng,h.lat]}});o.addLayer(p)})}),(o,s)=>{const l=Fi,u=Tx,c=sa,f=Ex,d=QT;return H(),Q(St,null,[I("div",null,[I("div",yjt,[I("div",_jt,[s[3]||(s[3]=I("div",{class:"text-#AFEBF6"}," 目标调控负荷 ",-1)),I("div",bjt,[I("div",xjt,[z(l,{class:"w-6px h-4px mb-8px",src:y(qs),fit:"fill"},null,8,["src"]),s[2]||(s[2]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"132.81"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"kW")],-1))])])]),I("div",Sjt,[s[5]||(s[5]=I("div",{class:"text-#AFEBF6"}," 目标调控电量 ",-1)),I("div",Ajt,[I("div",Ejt,[z(l,{class:"w-6px h-4px mb-8px",src:y(qs),fit:"fill"},null,8,["src"]),s[4]||(s[4]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"177.64"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"kW")],-1))])])]),I("div",Tjt,[s[7]||(s[7]=I("div",{class:"text-#AFEBF6"}," 实际调控负荷 ",-1)),I("div",wjt,[I("div",Cjt,[z(l,{class:"w-6px h-4px mb-8px",src:y(qs),fit:"fill"},null,8,["src"]),s[6]||(s[6]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"163.80"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"kW")],-1))])])]),I("div",Rjt,[s[9]||(s[9]=I("div",{class:"text-#AFEBF6"}," 实际调控电量 ",-1)),I("div",Ijt,[I("div",Mjt,[z(l,{class:"w-6px h-4px mb-8px",src:y(qs),fit:"fill"},null,8,["src"]),s[8]||(s[8]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"154.88"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"kW")],-1))])])]),I("div",Ojt,[s[11]||(s[11]=I("div",{class:"text-#AFEBF6"}," 事件收益 ",-1)),I("div",Djt,[I("div",Pjt,[z(l,{class:"w-6px h-4px mb-8px",src:y(qs),fit:"fill"},null,8,["src"]),s[10]||(s[10]=I("span",{class:"h-18px leading-18px pl-4px"},[I("span",{class:"text-18px text-#fff font-800"},"87.65"),I("span",{class:"text-9px text-#95A0AB ml-4px"},"万元")],-1))])])]),s[12]||(s[12]=tg('<div class="bg_wrap_ca w-128px h-78px pt-4px pl-4px" data-v-73f3ec57><div class="text-#AFEBF6" data-v-73f3ec57> 开始时间 </div><div class="flex items-center pl-6px h-50px" data-v-73f3ec57><div class="flex flex-col ml-6px" data-v-73f3ec57><span class="h-18px leading-18px pl-4px" data-v-73f3ec57><span class="text-18px text-#fff font-800" data-v-73f3ec57>19:09:00</span></span></div></div></div><div class="bg_wrap_ca w-128px h-78px pt-4px pl-4px" data-v-73f3ec57><div class="text-#AFEBF6" data-v-73f3ec57> 结束时间 </div><div class="flex items-center pl-6px h-50px" data-v-73f3ec57><div class="flex flex-col ml-6px" data-v-73f3ec57><span class="h-18px leading-18px pl-4px" data-v-73f3ec57><span class="text-18px text-#fff font-800" data-v-73f3ec57>21:09:00</span></span></div></div></div>',2))])]),I("div",Ljt,[I("div",Njt,[z(l,{class:"w-100% h-346px",src:y(mjt),fit:"fill"},null,8,["src"])]),I("div",Bjt,[(H(),Q(St,null,Nn(t,(h,p)=>I("div",{class:"mt-14px",key:p},[(H(!0),Q(St,null,Nn(h,(v,g)=>(H(),Q("div",{key:v.name},[I("div",kjt,[I("div",Fjt,nt(v.value)+"kW ",1),I("div",{class:"text-10px",style:en({color:v.relation===1?"red":"#57a1ba"})},[z(l,{class:"w-6px h-4px mr-4px",src:v.relation===1?y(qs):y(W1),fit:"fill"},null,8,["src"]),I("span",null,nt(v.ratio)+"%",1)],4)]),I("div",Ujt,nt(v.name),1),g!==h.length-1?(H(),Q("div",Vjt)):Be("",!0)]))),128))])),64))])]),I("div",zjt,[I("div",$jt,[z(Ir,null,{title:J(()=>[I("div",Hjt,[z(l,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),s[13]||(s[13]=I("span",null,"参与虚拟电厂列表",-1))])]),content:J(()=>[I("div",Wjt,[z(f,{data:i,style:{width:"100%"},"max-height":"132"},{default:J(()=>[z(u,{type:"index",width:"50",label:"序号",align:"center"}),z(u,{property:"a",label:"发电单元名称",align:"center"}),z(u,{property:"b",label:"发电单元类型",align:"center"}),z(u,{property:"c",label:"发电单元容量",align:"center"}),z(u,{property:"d",label:"削峰响应负荷",align:"center"}),z(u,{property:"e",label:"填谷响应负荷",align:"center"}),z(u,{property:"f",label:"所属发电机组",align:"center"}),z(u,{label:"操作",align:"center"},{default:J(()=>[z(c,{type:"primary",size:"small"},{default:J(()=>s[14]||(s[14]=[$n(" 关闭 ")])),_:1})]),_:1})]),_:1}),I("div",Gjt,[z(d,{"current-page":n.value,"onUpdate:currentPage":s[0]||(s[0]=h=>n.value=h),"page-size":r.value,"onUpdate:pageSize":s[1]||(s[1]=h=>r.value=h),size:"small",background:"transparent",layout:"total, prev, pager, next",total:50},null,8,["current-page","page-size"])])])]),_:1})]),I("div",jjt,[z(Ir,null,{title:J(()=>[I("div",Yjt,[z(l,{class:"w-20px h-20px mr-14px",src:y(Wf),fit:"fill"},null,8,["src"]),s[15]||(s[15]=I("span",null,"负荷数量占比",-1))])]),content:J(()=>[I("div",Xjt,[z(eo,{height:"100%",options:a},null,8,["options"])])]),_:1})])])],64)}}}),qjt=li(Kjt,[["__scopeId","data-v-73f3ec57"]]),Zjt={class:"overflow-hidden h-100% wrapfit"},Qjt={id:"container",class:"p-20px flex justify-between"},Jjt={class:"left w-354px mr-10px h-100%"},eYt={class:"right h-100% ml-10px"},tYt=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",Zjt,[I("div",Qjt,[I("div",Jjt,[z(gjt)]),I("div",eYt,[z(qjt)])])]))}}),nYt=li(tYt,[["__scopeId","data-v-5452a773"]]),rYt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAfRJREFUWEftmUFOwkAUhv9XanRBtb2BJu6sidxAEve6c2sxupYTiCcAViYmilt3HMAEbwAL2JnIDUB0oUJ9pmChAlUHhkbiNOmmvDfvzzfzv5kWWt/ZZ8zBRXMn9P72hv4iWB9kn6gSOuU0KaJTAhxJn4joZfXxhKBlxcRwndpu0klYdbG8XvREQq+qrQeAVkULutxJHm1ad6J5SmgYMUU0jMzoGuU6g/Mgag5yaJcYe8ExmFAEB2MGv7rUzh9vWJWwmlLMRKCcY8fTwSLn5cbq4oL+IGCcSso2EjMVCvyO6PeiuZ6yl9dmLFSAW2ioEjrc8HloxyETgHePufzY4BgRECXQtWPHnaCii1pjS2e9PKySCBlnwzjznheqzwUGH/RiIhDqtR3treM4Cavfni5rrQNiKowIBXKObXQ7RORCZVgpEqJKaICAlJ3JmzaX3S9m0knfZeBkDO2Ky500cczUNGQHx8UIzDTO9WFbKOM9fWiv5Lpmqj2dMiMTmesBNBlUDNIjvG+HHK77sQT2Di2fvTYCospM8s0kg+l/nPpCuWG+AObiQqw0yVvoT+fR17abXAKawa3YzxHqo5O+JostjPFLQFDoUwnAtlhh4ei7lG0kh7OEhAqXlJighEqE2R1KEVVE/TUwN9/wZU+Z7PHm5n+mD3h16WbItZRAAAAAAElFTkSuQmCC",iYt="/vpp/assets/la_2-DmuEDOV5.png",sCe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAABFdJREFUWEftWc1OG0kQrhqPN5eYtd8ApNxwNvAEMdI+QDjtMdgkkXIKPAHhCWBPK20WJtc9Qe4rhTyBrWS4RYrzBHYwl8TjqVX1dM222/NrG2mRaAkJxuPqb76q+urrAR/8+hvBLVh464B+/udv/D8SK0TGjN4BXTBNd4wuSODM15fK6JtPg5bruI9DgA0kqAPQKgAOCaHvEPYDonduEPTam41h2QdZGKjXHazCT+5TItoBwNUCAIaIcAw/gt/LAF4I6Mnl1Q4SHNgAEfAtAA0JYI8Qzh3CIQE/yNQaEoSHu82fjws8HMwN1PNHRwyEN2EwSPCEf0eE1+312mH0EOjZf9v3A8AFjoPtPHbnAnriX3uoGKI+IRw6hI8YNAIct5u1fQZjA+Vr3uXogAheM7gJwWEFyYuyQX0cTzazwJYG+h+TKviWYqjqfgGAIY6DNdksCSjfe+pffWFwYUjblcmkR9XKe106vU6ztplWBqWAnvjf9hCcIw2KGeh7/vURAe1JimWjNKBynVntNGtb3IwC1o5hgi4M1OsO6pq5OrPx7JeV84ih0QAA6jgOGmbq0oCarOoM9COwKisg12xmiwM16ouZ4EBvPo1aFYT3wo4ZPAuo5197rAKE1N5dX3mr6lc3JytGu3m/PTdQYW5CsPX8Ye0iCh6lnSDct2UmC+hfH6+eOA6esVrsrte2VawcVgsxmsbcyeXojGXJBJ9XoxoUlxGXzFQDJTEt8QoBFVmxi1062K7PNHky0ykZ6jRrsf+VLJhMlwIqzJlNpBtJHV/MzYowqr/bBYCN7+Ng7eVmo8/X/rwcbLjk8vUZqSrE6Kk/UkG5FgExNhQ8eViqCEmJ/NQi5zEPBWYHgN7ZH8voTYvZadYapeVJUpwmxjdx3c5SUUZZglrKbCCpNPHS4zByQ9bSVo/n/wUiKJUwl7gtBDwGpDhLOuZMOZUCOqFg6/nDRrzpqT9aao3+0R2s3lPCT/1Oc2WtdOrT9HKxro9mvqkYSfpaquvZuVfQnZlAp/5IlYTNdJ486XE8sJnLGiCFUh/JScwAOyRVp/NOJhkg1mSKvUSSLhcGKlPDnMXCdJJA58z6mdFrelXxEqVrVLEXzWLWU3ZKilXDUYnribu3iHsSsTdjJ41j3r8wowps7KAi06z96IwTyqrRJN8gA8U8IdhyVgpoVKtRA+njg+HwpyUl3eFH3xeLZx5rso4jpYFG6a505awT4GS7StVX7C9N05IE1HD3PT7QUdU949EsDy1NmjTpSgPV9codypu01KwHPEcgnkL1mCnrFKoNB7NZ52mlX07IwU6VUdYonguoBDQ6dWoPrrUQwq98vpKxK6PRvFF9Nh7v5x2VSzdT0hOrNyXV6kHCC4Ysgi4CDPZfrDd6WTfNJU95Abl2w6qzA1B5hBC2AJBTzD+8evz+CSj84IzD87w0L61G80DfxOcL1ehNAEqLeQd02WzPMLrsDZYd79b8n+lfycEbk5jo9uMAAAAASUVORK5CYII=",aYt="/vpp/assets/lb_2-BC9mJpnz.png",oYt={class:"h-26px flex items-center px-16px"},sYt={class:"p-10px"},lYt={class:"mt-18px"},uYt={class:"h-26px flex items-center px-16px"},cYt={class:"p-10px"},fYt=le({__name:"left",setup(e){return Y("1"),Y(""),(t,n)=>{const r=Fi;return H(),Q(St,null,[I("div",null,[z(Ir,{height:{extra:"0px",title:"26px"}},{title:J(()=>[I("div",oYt,[z(r,{class:"w-20px h-20px mr-14px",src:y(rYt),fit:"fill"},null,8,["src"]),n[0]||(n[0]=I("span",null,"地域信息",-1))])]),content:J(()=>[I("div",sYt,[z(r,{class:"w-320px h-280px",src:y(iYt),fit:"fill"},null,8,["src"])])]),_:1})]),I("div",lYt,[z(Ir,{height:{extra:"0px",title:"26px"}},{title:J(()=>[I("div",uYt,[z(r,{class:"w-20px h-20px mr-14px",src:y(sCe),fit:"fill"},null,8,["src"]),n[1]||(n[1]=I("span",null,"基本信息",-1))])]),content:J(()=>[I("div",cYt,[z(r,{class:"w-320px",src:y(aYt),fit:"fill"},null,8,["src"])])]),_:1})])],64)}}}),dYt="/vpp/assets/ca_1-BvX9HKAc.png",hYt={class:"h-100%"},pYt={class:"h-26px flex items-center px-16px"},vYt={class:"p-10px my-10px h-100% flex flex-col justify-between"},gYt={class:"flex items-center"},mYt={class:"text-11px text-#5AB6DB ml-2"},yYt={class:"flex items-center"},_Yt={class:"text-#FFFFFF text-12px"},bYt={class:"text-#999 text-10px ml-4px"},xYt=le({__name:"center",setup(e){const t=[[{a:"爬坡耗时",b:845.41,c:"min"}],[{a:"参与机组数量",b:120,c:"户"},{a:"在线机组数量",b:130,c:"户"}],[{a:"爬坡速度",b:1.97,c:"kW/min"},{a:"响应量",b:1.97,c:"kW"},{a:"完成耗时",b:845.81,c:"min"}],[{a:"电量偏差",b:120,c:"kWh"},{a:"负荷偏差",b:130,c:"kW"},{a:"目标调控负荷",b:1.97,c:"kW"},{a:"实际调控负荷",b:1.97,c:"kW"}]];return(n,r)=>{const i=Fi;return H(),Q("div",hYt,[z(Ir,{height:{extra:"0px",title:"26px"}},{title:J(()=>[I("div",pYt,[z(i,{class:"w-20px h-20px mr-14px",src:y(sCe),fit:"fill"},null,8,["src"]),r[0]||(r[0]=I("span",null,"虚拟电厂技术参数考核",-1))])]),content:J(()=>[I("div",vYt,[(H(),Q(St,null,Nn(t,(a,o)=>I("div",{class:"flex items-center justify-between",key:o},[I("div",null,[(H(!0),Q(St,null,Nn(a,(s,l)=>(H(),Q("div",{key:l,class:"flex items-center justify-between px-4px w-140px h-24px bg-#103042a6 mt-10px"},[I("div",gYt,[r[1]||(r[1]=I("div",{class:"w-2px h-2px bg-#3AB0E0"},null,-1)),I("div",mYt,nt(s.a),1)]),I("div",yYt,[I("span",_Yt,nt(s.b),1),I("span",bYt,nt(s.c),1)])]))),128))]),I("div",null,[z(i,{class:"w-160px h-132px",src:y(dYt),fit:"fill"},null,8,["src"])])])),64))])]),_:1})])}}}),SYt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAphJREFUWEftmcFu00AQhmdst6emTd4gB25JUfsEJBL3JieOxLRF4gQ8QdUnKGdKCBw5lQdAIjxBXJrckPAbpDQcCvV60Dg13YBrr+1NlUj2yfJ615//mflnLeO9h48IluDApQP99ukDLqKwoZB/FS1Ac4apUDSngP9Nn4uivcG4DABle7vi6gKeC2h3+OMFA+7WN14tJOjx2aRhIhwAUBUAWVVHkHe4v1np5wXWrug17GcG831q791f/5gXkudrB+2OLjoGGQ8A6NxHOt2trb9bSNDXo/HW01rFYTj5XIblYrO3K+dpXkC7oioPf/P1omUK4aRxBa2gveHkiIBas7DoPqmXmnyNlbwEKK+uWkcGgHP523vP158p2Jg2UA6zRdYgStGwqHqDcZVWrBMA2JreRy5eiaaKsplAWRlhmg25oo/Pxg0TLa5259eV12YMVg4JWoRkh0Ulu4Igr6lqXdlAR5MDIKza9TU7VFAC7Yeh7g5/9hCoI4OyK0ytC10LYceul16q5HUq0Gl4zRMArIah81C0ucpVQbNUfCYflXNRDp0qqIp6UfekUpQXCPs4nxtobNi10iGfq4DyXARjRwZBhH64RtxLpAa9bbEkUAHCSXKFhQD1feFOXYFcQgiigISPAaAhF9ttsKkUDSo26OPyIU55O5ek6A0oxLpCbtA4Q+ei4gdc+2gkyJ2B3ig2E7rn3GU4dEkgSeNJuyzl0EeF9u1wwp0oyLEkkKTxApRzslA0ovQz5Ci5iBh8XhBRh/v+bI7K48B703+KLXpcW47G2xM0Lc9zacX6HuWDgpLH9zdLsV+qyooyAH9CoDHbqwH9L6EaecfvpIVm3RWpzkulqOqi87ivANWtaqFooejS/b7RHTLd6/0B+iovhGwKIE8AAAAASUVORK5CYII=",AYt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAk5JREFUWEftmcFy0lAUhv+TNq4MwhvgjDuiI09gnfEB6MqlBKxb2yegPAG4VhpcurLunSl9Ajqa7lzkDaANu9B7nGDSMmmk94akI06yTM499+O/9z/3JNCTV68ZG3DRxoH++v6F/kVhIyGvFS1A11ymQtE1Bbw1XElR+9zrMKMBoArAZYjPbfNRP2uopHzSoEeOdwJgJ56EgL5lGgd5w0qBDpyLfYLWC2AINBQkTjXWXjC4GdxjYqtdKw3zhJUCjdSMq2c7MzuEHbVM42UEao8nVTzYfpMGfC5wuvfUGMXHyoJOAJSF4N23z0rHUZLB+WWTmGyA3ZZZenwN6sx6DN5PAxrPFeWQBR0DeM4QB8vmCc11GE/+8ae3s0XoAVxWg6UpAaOkPS8FerPE7F4xWcHShGoG+7ZMhEOrZnTVoNSi5UDHkyrrWycABWUpdrFL/lXdqlemalOrRUuBBikDg7C+bcdK1Ij8uWXVK67atOrR0qA3BvK+EqPBhON2zdhNmnLhel1/L4CVe1QDpvD9DzI/VB3UmdkEbjJo2DYfWomgCq6PG/RvWucDOp5Uha537lrgUNGuzP7OBfQuwDTP/0/QP7UTnbBMTYnQz7t+Kp1MQfAgNNGtKrrCVGmWeC0zbVL3tDjr8+6efMy/vatVzpJUlTLTkePdV/d01jKN+jqg99A90XTVq42UokX3pFAWpBQtuqeie1o6oVa2eUX3BEh/dvz047KhadQRgrvLr84KBk4VKu36VNkzHFSAZijmIlWhaO6KZj1B1vk25n+m3xLzYHUC9n+zAAAAAElFTkSuQmCC",EYt={class:"h-26px flex items-center px-16px"},TYt={class:"p-10px"},wYt={class:"p-8px h-250px"},CYt={class:"mt-18px"},RYt={class:"h-26px flex items-center px-16px"},IYt={class:"p-10px h-314px"},MYt={class:"mt-10px px-10px"},OYt={class:"flex items-center"},DYt=le({__name:"right",setup(e){const t=Y(""),n=zn(Tl({legend:{data:["响应偏差率","在线率","爬坡率","响应速度"]},yAxis:{show:!1},grid:{left:10},tooltip:{show:!1}})),r=o=>o.expanded?{color:"#38CEBF"}:o.data.type==="show"?{color:"#4F6A7E"}:{color:"#767676"},i={children:"children",label:"label"},a=[{id:"1",label:"1#数据包文件",children:[{id:"1-1",label:"1-1#数据 AAA:R.X.C"}]},{id:"2",label:"2#数据包文件",children:[{id:"2-1",label:"2-1#数据 AAA:R.X.C"},{id:"2-2",label:"2-2#数据 RRC:D.A.X"},{id:"2-3",label:"2-3#数据 RRC:SSS.AC",type:"show"},{id:"2-4",label:"2-4#数据 FS:FSSS.CAY",type:"show"},{id:"2-5",label:"2-5#数据 D:FSKYJ.CJKT"},{id:"2-6",label:"2-6#数据 ACD:GFHT.S.B",type:"show"},{id:"2-7",label:"2-7#数据 RRC:SSR.T.A",type:"show"}]},{id:"3",label:"3#数据包文件",children:[{id:"3-1",label:"3-1#数据 AAA:R.X.C"},{id:"3-2",label:"3-2#数据 AAA:R.X.C"}]}];return Tn(()=>{n.xAxis.data=["电力负荷","交流电","电力负荷","交流电","光伏发电站","光伏发电站","电池","风力","电力负荷","电力负荷"],n.series=[{data:[30,100,170,200,118,156,40,120,180,90],type:"bar",color:"#5cc4e9",barWidth:6,barGap:"80%",label:{show:!0,position:"bottom",offset:[5,-213],fontSize:8,color:"#fff",formatter:()=>"08:18",backgroundColor:"rgba(180, 180, 180, 0.2)",padding:[3,6,3,6],borderRadius:2}},{data:[100,160,200,70,180,96,30,100,140,50],type:"bar",color:"#f5ba60",barWidth:6,label:{show:!0,position:"bottom",offset:[-6,-196],formatter:()=>"",width:26,height:194,z:-1,backgroundColor:{image:XH}}}]}),(o,s)=>{const l=Fi,u=sa,c=da,f=Xt,d=Fb;return H(),Q(St,null,[I("div",null,[z(Ir,null,{title:J(()=>[I("div",EYt,[z(l,{class:"w-20px h-20px mr-14px",src:y(SYt),fit:"fill"},null,8,["src"]),s[1]||(s[1]=I("span",null,"发布单元类型排名",-1))])]),content:J(()=>[I("div",TYt,[I("div",wYt,[z(eo,{height:"100%",options:n},null,8,["options"])])])]),_:1})]),I("div",CYt,[z(Ir,null,{title:J(()=>[I("div",RYt,[z(l,{class:"w-20px h-20px mr-14px",src:y(AYt),fit:"fill"},null,8,["src"]),s[2]||(s[2]=I("span",null,"需求响应技术参数考核",-1))])]),content:J(()=>[I("div",IYt,[I("div",null,[z(c,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=h=>t.value=h),size:"small",class:"mr-10px",style:{width:"160px"}},{append:J(()=>[z(u,{icon:y(Xf)},null,8,["icon"])]),_:1},8,["modelValue"])]),I("div",MYt,[z(d,{"node-key":"id","default-expanded-keys":["2"],data:a,props:i,accordion:""},{default:J(({node:h,data:p})=>[I("div",OYt,[z(f,{size:22,color:p.type==="show"?"#4F6A7E":"#767676"},{default:J(()=>[z(y(Fve))]),_:2},1032,["color"]),I("span",{class:"text-14px ml-12px",style:en(r(h))},nt(h.label),5)])]),_:1})])])]),_:1})])],64)}}}),PYt=li(DYt,[["__scopeId","data-v-305a32b9"]]),LYt={class:"overflow-hidden h-100% wrapfit"},NYt={id:"container",class:"px-20px flex justify-between"},BYt={class:"left w-340px pt-18px pb-44px h-100% mr-10px"},kYt={class:"center w-340px pt-18px pb-44px h-100% mx-10px"},FYt={class:"right pt-18px pb-44px ml-10px"},UYt=le({__name:"index",setup(e){return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(t,n)=>(H(),Q("main",LYt,[I("div",NYt,[I("div",BYt,[z(fYt)]),I("div",kYt,[z(xYt)]),I("div",FYt,[z(PYt)])])]))}}),VYt=li(UYt,[["__scopeId","data-v-48c1ca4b"]]),C7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAhdJREFUWEftmU9OwkAUxt9rKTsJ3AATd0iCN+jCA7BzCWpwizcg3EDWKH+W7jiAi94AIrgzkRvQwK61jpmSYin9M9MpCqZs+4b58b2P7z0Cnl1eETiCFx4d6PvLMx6isI6QG0VTUME2pYoKCrhzPHFF++NF8Ssrq0igRW9DxAEYn53ri4IuAp8YKAUERWkRIHUfIB0BB2CaFHgeB1gYtDtdqBlUagGAfkyaRaDdKJ9oPMCxQZ/elvV1e7HIc6GrViNIhrel3IDlPBfotv9iA3q5dER4iPIxE6jLf1UAyLMoEKMm1MdMoL3Z8kOgxZzMZH5znjv1HvpfoHbrs5kaIXC/59aPwDTbfhHGpKjThv54kYdsppksMJkThLZkWFpYxnKBun3z+LqsShI2AUDlNKFTPiFIOnuJJz+g7nSlymiPSyZgOqE+iTlslAvJB76Tn5JhjYJmdoSPafQE+o8KQM9bslyRLdsCO3sBU+t7s9UYACoAYGediebwrlSY+Cn84+P1zI/y3+6OkHw8xZrZzoejO4IkZZpIgA4R10sANKKt9swOs4UbI2RHCLUHU+sZ4ylwZtseV6QqAk0J747wd/G08bFigB6yo6bxpKbxtPUTRuBbH7DmpfG07+0pjSea41yBf/DbE8u+Kbo9Rd0hrKj3At7tKQrQeZ44KOvFvHUpKK9iUfWpolEK8T7fUZT3DX67/mj+Z/oGfjKJdfSzUSoAAAAASUVORK5CYII=",zYt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAkZJREFUWEftWb1y00AQ/lZJOgTmCXBBh2CcJ4DM8AChogQ5UIc8AfAEMTUEJSVVkp4ib0AGnC4z+A2iwemw72NWP4ki2cxpJM3EY115t3v33bf77Z5sefj8JbEAQxYO6Pn3b3IbiU2JvGK0BVoxTC2jFQksuLeM3ipGv/z8s+k4st333I08sOBs/F7n/Efux/za3tn4kFMevHly98j2QqVCr4eTfJ1uTjgnhjxYEQb5AymIAAoRAc6OaI3OU4F5dr0XP2159wbzgJcC+nU4vtFmCdmnMceOI4cFMDA7EAmFUrjElJMNR9ZeCa4vrf59z53bbCoBBRACDAHpzmDiP2scxfY3/ZoEaptiVnbLB3RveFnINyuqLI22vDt+LWL6/OviSqWWZ5cye/v4/kktQPOqL4XCwrjJHA0BdGYrPjuvKhe1S23TipCda6Y8CSQqzgTfaZmSv5N1rq3+1jlj+EI7FgBNldO+564HPy662XXtSsHwcjfxj+7aJKMWAbU3WW6gAtk3wo4Qmxp6Y+inrVSAAYFeHHqOppz6wpVOdn3CybHjrG4n/o2GPt8iTxGD08zNt8i07CTlLRLXCGA320aXO/Sq5kQmymKoqZAqmIIjIXsJW6EIBqB0sgqfJbFGGI3BRHVRwxmBIfEhehPFOarzPU0DfX86kAfp+rw60AhQ+6Jjb9kCtefKzrI2RoPheJeAtszah+a177k7tbyeakdXYsNS30wl9q3dtAVaN6Utoy2jaQ60P41XzIWCmCru17j7wvzP9A93PdZmIbA0jwAAAABJRU5ErkJggg==",$Yt={class:"h-100%"},HYt={class:"h-26px flex items-center px-16px"},WYt={class:"p-10px h-100%"},GYt={class:"flex items-center justify-between"},jYt={class:"flex items-center"},YYt={class:"text-11px text-#5AB6DB ml-2"},XYt={class:"flex items-center"},KYt={class:"text-#FFFFFF text-12px"},qYt={class:"text-#999 text-10px ml-4px"},ZYt=le({__name:"info",props:{name:String,paramsInfo:Array,icon:String},setup(e){const t=Y(""),n=Y(),r=Y(),i=e;return(a,o)=>{const s=Fi,l=da,u=em;return H(),Q("div",$Yt,[z(Ir,{height:{extra:"0px",title:"26px"}},{title:J(()=>[I("div",HYt,[z(s,{class:"w-20px h-20px mr-14px",src:i.icon,fit:"fill"},null,8,["src"]),I("span",null,nt(i.name),1)])]),content:J(()=>[I("div",WYt,[I("div",GYt,[z(l,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=c=>t.value=c),size:"small",style:{width:"60px"}},null,8,["modelValue"]),z(u,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=c=>n.value=c),type:"date",size:"small",style:{width:"102px"}},null,8,["modelValue"]),z(u,{modelValue:r.value,"onUpdate:modelValue":o[2]||(o[2]=c=>r.value=c),type:"date",size:"small",style:{width:"102px"}},null,8,["modelValue"])]),De(a.$slots,"default",{},void 0,!0),(H(!0),Q(St,null,Nn(i.paramsInfo||[],(c,f)=>(H(),Q("div",{class:"px-16px mt-60px",key:f},[(H(!0),Q(St,null,Nn(c,(d,h)=>(H(),Q("div",{key:h,class:"flex items-center justify-between px-10px w-100% max-w-234px h-24px bg-#103042a6 mt-10px"},[I("div",jYt,[o[3]||(o[3]=I("div",{class:"w-2px h-2px bg-#3AB0E0"},null,-1)),I("div",YYt,nt(d.a),1)]),I("div",XYt,[I("span",KYt,nt(d.b),1),I("span",qYt,nt(d.c),1)])]))),128))]))),128))])]),_:3})])}}}),zI=li(ZYt,[["__scopeId","data-v-45d67a09"]]),QYt={class:"overflow-hidden h-100% wrapfit"},JYt={id:"container",class:"px-20px flex justify-between"},eXt={class:"left flex-1 pt-18px pb-44px h-100% mr-30px"},tXt={class:"h-220px mt-18px"},nXt={class:"center flex-1 pt-18px pb-44px h-100% mx-30px"},rXt={class:"h-220px mt-18px"},iXt={class:"center flex-1 pt-18px pb-44px h-100% mx-30px"},aXt={class:"h-220px"},oXt={class:"right h-100% flex-1 pt-18px pb-44px ml-30px"},sXt={class:"flex items-center justify-center mt-34px mb-84px"},lXt={class:"relative w-276px h-180px"},uXt={class:"absolute left-0px top-0px"},cXt={class:"absolute left-0px top-0px"},fXt=le({__name:"index",setup(e){const t=(c,f,d,h,p,v,g)=>[[{a:"爬坡速度",b:c,c:"kW/min"},{a:"响应量",b:f,c:"kW"},{a:"完成耗时",b:d,c:"min"}],[{a:"电量偏差",b:h,c:"kWh"},{a:"负荷偏差",b:p,c:"kW"},{a:"目标调控负荷",b:v,c:"kW"},{a:"实际调控负荷",b:g,c:"kW"}]],n=t(1.89,1.89,825.89,132,134,1.87,1.87),r=t(1.97,1.97,841.87,120,130,1.97,1.97),i=t(1.67,1.66,820.99,124,135,1.7,1.97),a=t(1.78,1.77,866.09,122,129,1.79,1.78),o=()=>({legend:{icon:"circle",itemWidth:6,itemGap:20,textStyle:{color:"#fff"}},tooltip:{show:!1},grid:{top:54,left:0,right:0,bottom:0,containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"],axisLine:{lineStyle:{color:"#fff"}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"},fontSize:10,margin:10},boundaryGap:!1}],yAxis:[{type:"value",axisTick:{show:!1},axisLine:{show:!1},min:0,max:15e3,interval:5e3,axisLabel:{textStyle:{color:"#999"}},splitLine:{show:!1}},{type:"value",position:"right",axisTick:{show:!1},min:0,max:1.5,interval:.5,axisLabel:{textStyle:{color:"#999"},formatter:function(c){return c.toFixed(1)}},axisLine:{show:!1},splitLine:{show:!1}}],series:[{name:"负荷",type:"line",data:[1e3,1e4,3e3,12e3,2500,12e3,7e3],symbolSize:1,symbol:"circle",smooth:!0,yAxisIndex:0,showSymbol:!1,lineStyle:{width:1,color:"#41838d"},areaStyle:{normal:{color:new Zo(0,0,0,1,[{offset:0,color:"#41838d"},{offset:1,color:"#202d2f"}],!1)}}},{name:"电量",type:"line",data:[.2,.5,.07,1,.25,1.4,.5],symbolSize:1,symbol:"circle",smooth:!0,yAxisIndex:1,showSymbol:!1,lineStyle:{width:1,color:"#999"}}]}),s=zn(o()),l=zn(o()),u=zn(o());return Tn(()=>{Sa.init({el:".wrapfit",dw:1440,dh:780})}),so(()=>{Sa.off()}),(c,f)=>{const d=eo,h=Fi;return H(),Q("main",QYt,[I("div",JYt,[I("div",eXt,[z(zI,{name:"按事件名称查询",chartOption:s,icon:y(C7),paramsInfo:y(n)},{default:J(()=>[I("div",tXt,[z(d,{height:"100%",options:s},null,8,["options"])])]),_:1},8,["chartOption","icon","paramsInfo"])]),I("div",nXt,[z(zI,{name:"按电厂名称查询",icon:y(C7),paramsInfo:y(r)},{default:J(()=>[I("div",rXt,[z(d,{height:"100%",options:l},null,8,["options"])])]),_:1},8,["icon","paramsInfo"])]),I("div",iXt,[z(zI,{name:"按日期查询",icon:y(C7),paramsInfo:y(i)},{default:J(()=>[I("div",aXt,[z(d,{height:"100%",options:u},null,8,["options"])])]),_:1},8,["icon","paramsInfo"])]),I("div",oXt,[z(zI,{name:"按年份名称查询",chartOption:s,icon:y(zYt),paramsInfo:y(a)},{default:J(()=>[I("div",sXt,[I("div",lXt,[I("div",uXt,[z(h,{class:"w-276px",src:y(iCe),fit:"fill"},null,8,["src"])]),I("div",cXt,[z(h,{class:"w-276px animate-spin-slow",src:y(aCe),fit:"fill"},null,8,["src"])])])])]),_:1},8,["chartOption","icon","paramsInfo"])])])])}}}),dXt=li(fXt,[["__scopeId","data-v-e0129830"]]),hXt=Vrt({history:grt("/vpp"),routes:[{path:"/",name:"home",component:W7t},{path:"/resources/metaAnalysis",name:"metaAnalysis",component:ZUt},{path:"/resources/metaOverview",name:"metaOverview",component:DVt},{path:"/resources/metaEnroll",name:"metaEnroll",component:c9t},{path:"/realTimeMonitor",name:"realTimeMonitor",component:izt},{path:"/forecast/DataQuery",name:"dataQuery",component:m$t},{path:"/forecast/multiDimension",name:"multiDimension",component:Y$t},{path:"/generationTask/priceSignal",name:"priceSignal",component:jHt},{path:"/generationTask/excitationSignal",name:"excitationSignal",component:RWt},{path:"/task/motivational",name:"motivational",component:lGt},{path:"/task/demandResponse",name:"demandResponse",component:sjt},{path:"/task/orderElectric",name:"orderElectric",component:nYt},{path:"/effect/technical",name:"technical",component:VYt},{path:"/effect/deviation",name:"deviation",component:dXt}]});if(typeof window<"u"){let e=function(){var t=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML='<symbol  fill="none" viewBox="0 0 11 17" id="icon-home"><rect y="13" width="2" height="4" rx="0" /><rect x="3" y="8" width="2" height="9" rx="0" /><rect x="6" y="4" width="2" height="13" rx="0" /><rect x="9" width="2" height="17" rx="0" /></symbol>',t.insertBefore(n,t.lastChild)};var DXt=e;document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}var pXt={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}};const pL=Rpe(qrt);pL.use(uDe());pL.use(hXt);pL.use(Unt,{locale:pXt});pL.mount("#app")});export default vXt();
